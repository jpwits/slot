/*!
 * pixi.js - v5.1.2
 * Compiled Sat, 24 Aug 2019 01:06:18 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var PIXI=function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var r=i(function(t,i){!function(t){var e=t.Promise,r=e&&"resolve"in e&&"reject"in e&&"all"in e&&"race"in e&&function(){var t;return new e(function(e){t=e}),"function"==typeof t}();i?(i.Promise=r?e:w,i.Polyfill=w):r||(t.Promise=w);var n="pending",o="sealed",s="fulfilled",a="rejected",h=function(){};function u(t){return"[object Array]"===Object.prototype.toString.call(t)}var l,c="undefined"!=typeof setImmediate?setImmediate:setTimeout,d=[];function p(){for(var t=0;t<d.length;t++)d[t][0](d[t][1]);d=[],l=!1}function f(t,e){d.push([t,e]),l||(l=!0,c(p,0))}function v(t){var e=t.owner,i=e.state_,r=e.data_,n=t[i],o=t.then;if("function"==typeof n){i=s;try{r=n(r)}catch(t){_(o,t)}}g(o,r)||(i===s&&m(o,r),i===a&&_(o,r))}function g(t,e){var i;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,function(r){i||(i=!0,e!==r?m(t,r):y(t,r))},function(e){i||(i=!0,_(t,e))}),!0}}catch(e){return i||_(t,e),!0}return!1}function m(t,e){t!==e&&g(t,e)||y(t,e)}function y(t,e){t.state_===n&&(t.state_=o,t.data_=e,f(b,t))}function _(t,e){t.state_===n&&(t.state_=o,t.data_=e,f(T,t))}function x(t){var e=t.then_;t.then_=void 0;for(var i=0;i<e.length;i++)v(e[i])}function b(t){t.state_=s,x(t)}function T(t){t.state_=a,x(t)}function w(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof w==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function i(t){_(e,t)}try{t(function(t){m(e,t)},i)}catch(t){i(t)}}(t,this)}w.prototype={constructor:w,state_:n,then_:null,data_:void 0,then:function(t,e){var i={owner:this,then:new this.constructor(h),fulfilled:t,rejected:e};return this.state_===s||this.state_===a?f(v,i):this.then_.push(i),i.then},catch:function(t){return this.then(null,t)}},w.all=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.all().");return new this(function(e,i){var r=[],n=0;function o(t){return n++,function(i){r[t]=i,--n||e(r)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),i):r[a]=s;n||e(r)})},w.race=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.race().");return new this(function(e,i){for(var r,n=0;n<t.length;n++)(r=t[n])&&"function"==typeof r.then?r.then(e,i):e(r)})},w.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)})},w.reject=function(t){return new this(function(e,i){i(t)})}}("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:e)}),n=(r.Promise,r.Polyfill),o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;var h=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,r,n=arguments,h=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in i=Object(n[u]))s.call(i,l)&&(h[l]=i[l]);if(o){r=o(i);for(var c=0;c<r.length;c++)a.call(i,r[c])&&(h[r[c]]=i[r[c]])}}return h};window.Promise||(window.Promise=n),Object.assign||(Object.assign=h);var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!u.performance||!u.performance.now){var l=Date.now();u.performance||(u.performance={}),u.performance.now=function(){return Date.now()-l}}for(var c=Date.now(),d=["ms","moz","webkit","o"],p=0;p<d.length&&!u.requestAnimationFrame;++p){var f=d[p];u.requestAnimationFrame=u[f+"RequestAnimationFrame"],u.cancelAnimationFrame=u[f+"CancelAnimationFrame"]||u[f+"CancelRequestAnimationFrame"]}u.requestAnimationFrame||(u.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+c-e;return i<0&&(i=0),c=e,setTimeout(function(){c=Date.now(),t(performance.now())},i)}),u.cancelAnimationFrame||(u.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var v=i(function(t){!function(e){var i=/iPhone/i,r=/iPod/i,n=/iPad/i,o=/\bAndroid(?:.+)Mobile\b/i,s=/Android/i,a=/\bAndroid(?:.+)SD4930UR\b/i,h=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,u=/Windows Phone/i,l=/\bWindows(?:.+)ARM\b/i,c=/BlackBerry/i,d=/BB10/i,p=/Opera Mini/i,f=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/Mobile(?:.+)Firefox\b/i;function g(t,e){return t.test(e)}function m(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),m=e.split("[FBAN");void 0!==m[1]&&(e=m[0]),void 0!==(m=e.split("Twitter"))[1]&&(e=m[0]);var y={apple:{phone:g(i,e)&&!g(u,e),ipod:g(r,e),tablet:!g(i,e)&&g(n,e)&&!g(u,e),device:(g(i,e)||g(r,e)||g(n,e))&&!g(u,e)},amazon:{phone:g(a,e),tablet:!g(a,e)&&g(h,e),device:g(a,e)||g(h,e)},android:{phone:!g(u,e)&&g(a,e)||!g(u,e)&&g(o,e),tablet:!g(u,e)&&!g(a,e)&&!g(o,e)&&(g(h,e)||g(s,e)),device:!g(u,e)&&(g(a,e)||g(h,e)||g(o,e)||g(s,e))||g(/\bokhttp\b/i,e)},windows:{phone:g(u,e),tablet:g(l,e),device:g(u,e)||g(l,e)},other:{blackberry:g(c,e),blackberry10:g(d,e),opera:g(p,e),firefox:g(v,e),chrome:g(f,e),device:g(c,e)||g(d,e)||g(p,e)||g(v,e)||g(f,e)}};return y.any=y.apple.device||y.android.device||y.windows.device||y.other.device,y.phone=y.apple.phone||y.android.phone||y.windows.phone,y.tablet=y.apple.tablet||y.android.tablet||y.windows.tablet,y}t.exports&&"undefined"==typeof window?t.exports=m:t.exports&&"undefined"!=typeof window?(t.exports=m(),t.exports.isMobile=m):e.isMobile=m()}(e)});v.isMobile;var g={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(v.tablet||v.phone){if(e=!1,v.apple.device){var i=navigator.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)>=11&&(e=!0)}if(v.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)>=7&&(e=!0)}}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:v.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!v.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},m=i(function(t){var e=Object.prototype.hasOwnProperty,i="~";function r(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new n(r,o||t,s),h=i?i+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,r,n=[];if(0===this._eventsCount)return n;for(r in t=this._events)e.call(t,r)&&n.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,s=new Array(o);n<o;n++)s[n]=r[n].fn;return s},a.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,n,o,s){var a=arguments,h=i?i+t:t;if(!this._events[h])return!1;var u,l,c=this._events[h],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,n),!0;case 5:return c.fn.call(c.context,e,r,n,o),!0;case 6:return c.fn.call(c.context,e,r,n,o,s),!0}for(l=1,u=new Array(d-1);l<d;l++)u[l-1]=a[l];c.fn.apply(c.context,u)}else{var p,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,n);break;default:if(!u)for(p=1,u=new Array(d-1);p<d;p++)u[p-1]=a[p];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,i){return o(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return o(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,r,n){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||s(this,o);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||n&&!a[h].once||r&&a[h].context!==r)&&u.push(a[h]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a}),y=x,_=x;function x(t,e,i){i=i||2;var r,n,o,s,a,h,u,l=e&&e.length,c=l?e[0]*i:t.length,d=b(t,0,c,i,!0),p=[];if(!d||d.next===d.prev)return p;if(l&&(d=function(t,e,i,r){var n,o,s,a,h,u=[];for(n=0,o=e.length;n<o;n++)s=e[n]*r,a=n<o-1?e[n+1]*r:t.length,(h=b(t,s,a,r,!1))===h.next&&(h.steiner=!0),u.push(M(h));for(u.sort(A),n=0;n<u.length;n++)O(u[n],i),i=T(i,i.next);return i}(t,e,d,i)),t.length>80*i){r=o=t[0],n=s=t[1];for(var f=i;f<c;f+=i)(a=t[f])<r&&(r=a),(h=t[f+1])<n&&(n=h),a>o&&(o=a),h>s&&(s=h);u=0!==(u=Math.max(o-r,s-n))?1/u:0}return w(d,p,i,r,n,u),p}function b(t,e,i,r,n){var o,s;if(n===G(t,e,i,r)>0)for(o=e;o<i;o+=r)s=k(o,t[o],t[o+1],s);else for(o=i-r;o>=e;o-=r)s=k(o,t[o],t[o+1],s);return s&&L(s,s.next)&&(X(s),s=s.next),s}function T(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!L(r,r.next)&&0!==F(r.prev,r,r.next))r=r.next;else{if(X(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function w(t,e,i,r,n,o,s){if(t){!s&&o&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=C(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,o,s,a,h,u=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,r=i,a=0,e=0;e<u&&(a++,r=r.nextZ);e++);for(h=u;a>0||h>0&&r;)0!==a&&(0===h||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=r}o.nextZ=null,u*=2}while(s>1)}(n)}(t,r,n,o);for(var a,h,u=t;t.prev!==t.next;)if(a=t.prev,h=t.next,o?S(t,r,n,o):E(t))e.push(a.i/i),e.push(t.i/i),e.push(h.i/i),X(t),t=h.next,u=h.next;else if((t=h)===u){s?1===s?w(t=I(t,e,i),e,i,r,n,o,2):2===s&&P(t,e,i,r,n,o):w(T(t),e,i,r,n,o,1);break}}}function E(t){var e=t.prev,i=t,r=t.next;if(F(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(D(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&F(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function S(t,e,i,r){var n=t.prev,o=t,s=t.next;if(F(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=C(a,h,e,i,r),d=C(u,l,e,i,r),p=t.prevZ,f=t.nextZ;p&&p.z>=c&&f&&f.z<=d;){if(p!==t.prev&&p!==t.next&&D(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&F(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&D(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&F(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&D(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&F(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=d;){if(f!==t.prev&&f!==t.next&&D(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&F(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function I(t,e,i){var r=t;do{var n=r.prev,o=r.next.next;!L(n,o)&&N(n,r,r.next,o)&&B(n,o)&&B(o,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(o.i/i),X(r),X(r.next),r=t=o),r=r.next}while(r!==t);return r}function P(t,e,i,r,n,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&R(s,a)){var h=U(s,a);return s=T(s,s.next),h=T(h,h.next),w(s,e,i,r,n,o),void w(h,e,i,r,n,o)}a=a.next}s=s.next}while(s!==t)}function A(t,e){return t.x-e.x}function O(t,e){if(e=function(t,e){var i,r=e,n=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s){if(s=a,a===n){if(o===r.y)return r;if(o===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===s)return i.prev;var h,u=i,l=i.x,c=i.y,d=1/0;r=i.next;for(;r!==u;)n>=r.x&&r.x>=l&&n!==r.x&&D(o<c?n:s,o,l,c,o<c?s:n,o,r.x,r.y)&&((h=Math.abs(o-r.y)/(n-r.x))<d||h===d&&r.x>i.x)&&B(r,t)&&(i=r,d=h),r=r.next;return i}(t,e)){var i=U(e,t);T(i,i.next)}}function C(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function M(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function D(t,e,i,r,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(i-s)*(e-a)>=0&&(i-s)*(o-a)-(n-s)*(r-a)>=0}function R(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&N(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&B(t,e)&&B(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function F(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function L(t,e){return t.x===e.x&&t.y===e.y}function N(t,e,i,r){return!!(L(t,e)&&L(i,r)||L(t,r)&&L(i,e))||F(t,e,i)>0!=F(t,e,r)>0&&F(i,r,t)>0!=F(i,r,e)>0}function B(t,e){return F(t.prev,t,t.next)<0?F(t,e,t.next)>=0&&F(t,t.prev,e)>=0:F(t,e,t.prev)<0||F(t,t.next,e)<0}function U(t,e){var i=new j(t.i,t.x,t.y),r=new j(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,o.next=r,r.prev=o,r}function k(t,e,i,r){var n=new j(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function X(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function j(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function G(t,e,i,r){for(var n=0,o=e,s=i-r;o<i;o+=r)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}x.deviation=function(t,e,i,r){var n=e&&e.length,o=n?e[0]*i:t.length,s=Math.abs(G(t,0,o,i));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*i,l=a<h-1?e[a+1]*i:t.length;s-=Math.abs(G(t,u,l,i))}var c=0;for(a=0;a<r.length;a+=3){var d=r[a]*i,p=r[a+1]*i,f=r[a+2]*i;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},x.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[n][o][s]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i},y.default=_;var H=i(function(t,i){!function(r){var n=i&&!i.nodeType&&i,o=t&&!t.nodeType&&t,s="object"==typeof e&&e;s.global!==s&&s.window!==s&&s.self!==s||(r=s);var a,h,u=2147483647,l=36,c=1,d=26,p=38,f=700,v=72,g=128,m="-",y=/^xn--/,_=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=l-c,w=Math.floor,E=String.fromCharCode;function S(t){throw RangeError(b[t])}function I(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function P(t,e){var i=t.split("@"),r="";return i.length>1&&(r=i[0]+"@",t=i[1]),r+I((t=t.replace(x,".")).split("."),e).join(".")}function A(t){for(var e,i,r=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function O(t){return I(t,function(t){var e="";return t>65535&&(e+=E((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=E(t)}).join("")}function C(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function M(t,e,i){var r=0;for(t=i?w(t/f):t>>1,t+=w(t/e);t>T*d>>1;r+=l)t=w(t/T);return w(r+(T+1)*t/(t+p))}function D(t){var e,i,r,n,o,s,a,h,p,f,y,_=[],x=t.length,b=0,T=g,E=v;for((i=t.lastIndexOf(m))<0&&(i=0),r=0;r<i;++r)t.charCodeAt(r)>=128&&S("not-basic"),_.push(t.charCodeAt(r));for(n=i>0?i+1:0;n<x;){for(o=b,s=1,a=l;n>=x&&S("invalid-input"),((h=(y=t.charCodeAt(n++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:l)>=l||h>w((u-b)/s))&&S("overflow"),b+=h*s,!(h<(p=a<=E?c:a>=E+d?d:a-E));a+=l)s>w(u/(f=l-p))&&S("overflow"),s*=f;E=M(b-o,e=_.length+1,0==o),w(b/e)>u-T&&S("overflow"),T+=w(b/e),b%=e,_.splice(b++,0,T)}return O(_)}function R(t){var e,i,r,n,o,s,a,h,p,f,y,_,x,b,T,I=[];for(_=(t=A(t)).length,e=g,i=0,o=v,s=0;s<_;++s)(y=t[s])<128&&I.push(E(y));for(r=n=I.length,n&&I.push(m);r<_;){for(a=u,s=0;s<_;++s)(y=t[s])>=e&&y<a&&(a=y);for(a-e>w((u-i)/(x=r+1))&&S("overflow"),i+=(a-e)*x,e=a,s=0;s<_;++s)if((y=t[s])<e&&++i>u&&S("overflow"),y==e){for(h=i,p=l;!(h<(f=p<=o?c:p>=o+d?d:p-o));p+=l)T=h-f,b=l-f,I.push(E(C(f+T%b,0))),h=w(T/b);I.push(E(C(h,0))),o=M(i,x,r==n),i=0,++r}++i,++e}return I.join("")}if(a={version:"1.3.2",ucs2:{decode:A,encode:O},decode:D,encode:R,toASCII:function(t){return P(t,function(t){return _.test(t)?"xn--"+R(t):t})},toUnicode:function(t){return P(t,function(t){return y.test(t)?D(t.slice(4).toLowerCase()):t})}},n&&o)if(t.exports==n)o.exports=a;else for(h in a)a.hasOwnProperty(h)&&(n[h]=a[h]);else r.punycode=a}(e)}),z={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}};z.isString,z.isObject,z.isNull,z.isNullOrUndefined;function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Y=function(t,e,i,r){e=e||"&",i=i||"=";var n={};if("string"!=typeof t||0===t.length)return n;var o=/\+/g;t=t.split(e);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var h=0;h<a;++h){var u,l,c,d,p=t[h].replace(o,"%20"),f=p.indexOf(i);f>=0?(u=p.substr(0,f),l=p.substr(f+1)):(u=p,l=""),c=decodeURIComponent(u),d=decodeURIComponent(l),V(n,c)?Array.isArray(n[c])?n[c].push(d):n[c]=[n[c],d]:n[c]=d}return n},W=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},q=function(t,e,i,r){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(r){var n=encodeURIComponent(W(r))+i;return Array.isArray(t[r])?t[r].map(function(t){return n+encodeURIComponent(W(t))}).join(e):n+encodeURIComponent(W(t[r]))}).join(e):r?encodeURIComponent(W(r))+i+encodeURIComponent(W(t)):""},Z=i(function(t,e){e.decode=e.parse=Y,e.encode=e.stringify=q}),K=(Z.decode,Z.parse,Z.encode,Z.stringify,ft),J=function(t,e){return ft(t,!1,!0).resolve(e)},Q=function(t,e){if(!t)return e;return ft(t,!1,!0).resolveObject(e)},$=function(t){z.isString(t)&&(t=ft(t));if(!(t instanceof et))return et.prototype.format.call(t);return t.format()},tt=et;function et(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var it=/^([a-z0-9.+-]+:)/i,rt=/:[0-9]*$/,nt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ot=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),st=["'"].concat(ot),at=["%","/","?",";","#"].concat(st),ht=["/","?","#"],ut=/^[+a-z0-9A-Z_-]{0,63}$/,lt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ct={javascript:!0,"javascript:":!0},dt={javascript:!0,"javascript:":!0},pt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ft(t,e,i){if(t&&z.isObject(t)&&t instanceof et)return t;var r=new et;return r.parse(t,e,i),r}et.prototype.parse=function(t,e,i){if(!z.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),n=-1!==r&&r<t.indexOf("#")?"?":"#",o=t.split(n);o[0]=o[0].replace(/\\/g,"/");var s=t=o.join(n);if(s=s.trim(),!i&&1===t.split("#").length){var a=nt.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?Z.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=it.exec(s);if(h){var u=(h=h[0]).toLowerCase();this.protocol=u,s=s.substr(h.length)}if(i||h||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===s.substr(0,2);!l||h&&dt[h]||(s=s.substr(2),this.slashes=!0)}if(!dt[h]&&(l||h&&!pt[h])){for(var c,d,p=-1,f=0;f<ht.length;f++){-1!==(v=s.indexOf(ht[f]))&&(-1===p||v<p)&&(p=v)}-1!==(d=-1===p?s.lastIndexOf("@"):s.lastIndexOf("@",p))&&(c=s.slice(0,d),s=s.slice(d+1),this.auth=decodeURIComponent(c)),p=-1;for(f=0;f<at.length;f++){var v;-1!==(v=s.indexOf(at[f]))&&(-1===p||v<p)&&(p=v)}-1===p&&(p=s.length),this.host=s.slice(0,p),s=s.slice(p),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var m=this.hostname.split(/\./),y=(f=0,m.length);f<y;f++){var _=m[f];if(_&&!_.match(ut)){for(var x="",b=0,T=_.length;b<T;b++)_.charCodeAt(b)>127?x+="x":x+=_[b];if(!x.match(ut)){var w=m.slice(0,f),E=m.slice(f+1),S=_.match(lt);S&&(w.push(S[1]),E.unshift(S[2])),E.length&&(s="/"+E.join(".")+s),this.hostname=w.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=H.toASCII(this.hostname));var I=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+I,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!ct[u])for(f=0,y=st.length;f<y;f++){var A=st[f];if(-1!==s.indexOf(A)){var O=encodeURIComponent(A);O===A&&(O=escape(A)),s=s.split(A).join(O)}}var C=s.indexOf("#");-1!==C&&(this.hash=s.substr(C),s=s.slice(0,C));var M=s.indexOf("?");if(-1!==M?(this.search=s.substr(M),this.query=s.substr(M+1),e&&(this.query=Z.parse(this.query)),s=s.slice(0,M)):e&&(this.search="",this.query={}),s&&(this.pathname=s),pt[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){I=this.pathname||"";var D=this.search||"";this.path=I+D}return this.href=this.format(),this},et.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&z.isObject(this.query)&&Object.keys(this.query).length&&(o=Z.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||pt[e])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n||(n=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+n+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},et.prototype.resolve=function(t){return this.resolveObject(ft(t,!1,!0)).format()},et.prototype.resolveObject=function(t){if(z.isString(t)){var e=new et;e.parse(t,!1,!0),t=e}for(var i=new et,r=Object.keys(this),n=0;n<r.length;n++){var o=r[n];i[o]=this[o]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var h=s[a];"protocol"!==h&&(i[h]=t[h])}return pt[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!pt[t.protocol]){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];i[c]=t[c]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||dt[t.protocol])i.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),i.pathname=d.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var p=i.pathname||"",f=i.search||"";i.path=p+f}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var v=i.pathname&&"/"===i.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),m=g||v||i.host&&t.pathname,y=m,_=i.pathname&&i.pathname.split("/")||[],x=(d=t.pathname&&t.pathname.split("/")||[],i.protocol&&!pt[i.protocol]);if(x&&(i.hostname="",i.port=null,i.host&&(""===_[0]?_[0]=i.host:_.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),m=m&&(""===d[0]||""===_[0])),g)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,_=d;else if(d.length)_||(_=[]),_.pop(),_=_.concat(d),i.search=t.search,i.query=t.query;else if(!z.isNullOrUndefined(t.search)){if(x)i.hostname=i.host=_.shift(),(S=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=S.shift(),i.host=i.hostname=S.shift());return i.search=t.search,i.query=t.query,z.isNull(i.pathname)&&z.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!_.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var b=_.slice(-1)[0],T=(i.host||t.host||_.length>1)&&("."===b||".."===b)||""===b,w=0,E=_.length;E>=0;E--)"."===(b=_[E])?_.splice(E,1):".."===b?(_.splice(E,1),w++):w&&(_.splice(E,1),w--);if(!m&&!y)for(;w--;w)_.unshift("..");!m||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),T&&"/"!==_.join("/").substr(-1)&&_.push("");var S,I=""===_[0]||_[0]&&"/"===_[0].charAt(0);x&&(i.hostname=i.host=I?"":_.length?_.shift():"",(S=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=S.shift(),i.host=i.hostname=S.shift()));return(m=m||i.host&&_.length)&&!I&&_.unshift(""),_.length?i.pathname=_.join("/"):(i.pathname=null,i.path=null),z.isNull(i.pathname)&&z.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},et.prototype.parseHost=function(){var t=this.host,e=rt.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var vt={parse:K,resolve:J,resolveObject:Q,format:$,Url:tt},gt={WEBGL_LEGACY:0,WEBGL:1,WEBGL2:2},mt={UNKNOWN:0,WEBGL:1,CANVAS:2},yt={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19,NONE:20,SRC_OVER:0,SRC_IN:21,SRC_OUT:22,SRC_ATOP:23,DST_OVER:24,DST_IN:25,DST_OUT:26,DST_ATOP:27,ERASE:26,SUBTRACT:28},_t={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},xt={RGBA:6408,RGB:6407,ALPHA:6406,LUMINANCE:6409,LUMINANCE_ALPHA:6410,DEPTH_COMPONENT:6402,DEPTH_STENCIL:34041},bt={TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_2D_ARRAY:35866,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074},Tt={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,FLOAT:5126,HALF_FLOAT:36193},wt={LINEAR:1,NEAREST:0},Et={CLAMP:33071,REPEAT:10497,MIRRORED_REPEAT:33648},St={OFF:0,POW2:1,ON:2},It={AUTO:0,MANUAL:1},Pt={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};g.RETINA_PREFIX=/@([0-9\.]+)x/,g.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var At,Ot=!1,Ct="5.1.2";function Mt(t){if(!Ot){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+Ct+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+Ct+" - "+t+" - http://www.pixijs.com/");Ot=!0}}function Dt(){return void 0===At&&(At=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:g.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var n=i.getExtension("WEBGL_lose_context");n&&n.loseContext()}return i=null,r}catch(t){return!1}}()),At}function Rt(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Ft(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function Lt(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}var Nt=function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[yt.NORMAL_NPM]=yt.NORMAL,t[yt.ADD_NPM]=yt.ADD,t[yt.SCREEN_NPM]=yt.SCREEN,e[yt.NORMAL]=yt.NORMAL_NPM,e[yt.ADD]=yt.ADD_NPM,e[yt.SCREEN]=yt.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function Bt(t,e){return Nt[e?1:0][t]}function Ut(t,e,i,r){return i=i||new Float32Array(4),r||void 0===r?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i}function kt(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,r=t>>8&255,n=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(n=n*e+.5|0)}function Xt(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(r||void 0===r)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i}function jt(t,e){void 0===e&&(e=null);var i=6*t;if((e=e||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+i);for(var r=0,n=0;r<i;r+=6,n+=4)e[r+0]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3;return e}function Gt(t,e,i){var r,n=t.length;if(!(e>=n||0===i)){var o=n-(i=e+i>n?n-e:i);for(r=e;r<o;++r)t[r]=t[r+i];t.length=o}}var Ht=0;function zt(){return++Ht}function Vt(t){return 0===t?0:t<0?-1:1}function Yt(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function Wt(t){return!(t&t-1||!t)}function qt(t){var e=(t>65535)<<4,i=((t>>>=e)>255)<<3;return e|=i,e|=i=((t>>>=i)>15)<<2,(e|=i=((t>>>=i)>3)<<1)|(t>>>=i)>>1}var Zt={},Kt=Object.create(null),Jt=Object.create(null);function Qt(t){var e,i,r,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(i=e/4%n,r=~~(e/4/n),null===u.top&&(u.top=r),null===u.left?u.left=i:i<u.left&&(u.left=i),null===u.right?u.right=i+1:u.right<i&&(u.right=i+1),null===u.bottom?u.bottom=r:u.bottom<r&&(u.bottom=r));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}var $t=function(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||g.RESOLUTION,this.resize(t,e)},te={width:{configurable:!0},height:{configurable:!0}};$t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},$t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},$t.prototype.destroy=function(){this.context=null,this.canvas=null},te.width.get=function(){return this.canvas.width},te.width.set=function(t){this.canvas.width=t},te.height.get=function(){return this.canvas.height},te.height.set=function(t){this.canvas.height=t},Object.defineProperties($t.prototype,te);var ee,ie=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function re(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,ee||(ee=document.createElement("a")),ee.href=t;var i=!(t=vt.parse(ee.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&i&&t.protocol===e.protocol?"":"anonymous"}function ne(t,e){var i=g.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}var oe={};function se(t,e,i){if(void 0===i&&(i=3),!oe[e]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),oe[e]=!0}}var ae={BaseTextureCache:Jt,CanvasRenderTarget:$t,DATA_URI:ie,ProgramCache:Zt,TextureCache:Kt,clearTextureCache:function(){var t;for(t in Kt)delete Kt[t];for(t in Jt)delete Jt[t]},correctBlendMode:Bt,createIndicesForQuads:jt,decomposeDataUri:function(t){var e=ie.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}},deprecation:se,destroyTextureCache:function(){var t;for(t in Kt)Kt[t].destroy();for(t in Jt)Jt[t].destroy()},determineCrossOrigin:re,getResolutionOfUrl:ne,hex2rgb:Rt,hex2string:Ft,isPow2:Wt,isWebGLSupported:Dt,log2:qt,nextPow2:Yt,premultiplyBlendMode:Nt,premultiplyRgba:Ut,premultiplyTint:kt,premultiplyTintToRgba:Xt,removeItems:Gt,rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},sayHello:Mt,sign:Vt,skipHello:function(){Ot=!0},string2hex:Lt,trimCanvas:Qt,uid:zt,isMobile:v,EventEmitter:m,earcut:y,url:vt},he=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e};he.prototype.clone=function(){return new he(this.x,this.y)},he.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},he.prototype.copyTo=function(t){return t.set(this.x,this.y),t},he.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},he.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)};var ue=function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e},le={x:{configurable:!0},y:{configurable:!0}};ue.prototype.clone=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=t||this.cb,r=e||this.scope;return new ue(i,r,this._x,this._y)},ue.prototype.set=function(t,e){var i=t||0,r=e||(0!==e?i:0);this._x===i&&this._y===r||(this._x=i,this._y=r,this.cb.call(this.scope))},ue.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},ue.prototype.copyTo=function(t){return t.set(this._x,this._y),t},ue.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},le.x.get=function(){return this._x},le.x.set=function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},le.y.get=function(){return this._y},le.y.set=function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},Object.defineProperties(ue.prototype,le);var ce=2*Math.PI,de=180/Math.PI,pe=Math.PI/180,fe={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},ve=function(t,e,i,r,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=0),this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this.array=null},ge={IDENTITY:{configurable:!0},TEMP_MATRIX:{configurable:!0}};ve.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},ve.prototype.set=function(t,e,i,r,n,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this},ve.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},ve.prototype.apply=function(t,e){e=e||new he;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},ve.prototype.applyInverse=function(t,e){e=e||new he;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,n=t.y;return e.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},ve.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},ve.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},ve.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},ve.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},ve.prototype.setTransform=function(t,e,i,r,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},ve.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},ve.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,o=-Math.atan2(-r,n),s=Math.atan2(i,e),a=Math.abs(o+s);return a<1e-5||Math.abs(ce-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx,t.position.y=this.ty,t},ve.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,o=t*r-e*i;return this.a=r/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-r*n)/o,this.ty=-(t*this.ty-e*n)/o,this},ve.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},ve.prototype.clone=function(){var t=new ve;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},ve.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},ve.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},ge.IDENTITY.get=function(){return new ve},ge.TEMP_MATRIX.get=function(){return new ve},Object.defineProperties(ve,ge);var me=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ye=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],_e=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],xe=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],be=[],Te=[],we=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];be.push(e);for(var i=0;i<16;i++)for(var r=we(me[t]*me[i]+_e[t]*ye[i]),n=we(ye[t]*me[i]+xe[t]*ye[i]),o=we(me[t]*_e[i]+_e[t]*xe[i]),s=we(ye[t]*_e[i]+xe[t]*xe[i]),a=0;a<16;a++)if(me[a]===r&&ye[a]===n&&_e[a]===o&&xe[a]===s){e.push(a);break}}for(var h=0;h<16;h++){var u=new ve;u.set(me[h],ye[h],_e[h],xe[h],0,0),Te.push(u)}}();var Ee={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return me[t]},uY:function(t){return ye[t]},vX:function(t){return _e[t]},vY:function(t){return xe[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return be[t][e]},sub:function(t,e){return be[t][Ee.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Ee.S:Ee.N:2*Math.abs(e)<=Math.abs(t)?t>0?Ee.E:Ee.W:e>0?t>0?Ee.SE:Ee.SW:t>0?Ee.NE:Ee.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=Te[Ee.inv(e)];n.tx=i,n.ty=r,t.append(n)}},Se=function(){this.worldTransform=new ve,this.localTransform=new ve,this.position=new ue(this.onChange,this,0,0),this.scale=new ue(this.onChange,this,1,1),this.pivot=new ue(this.onChange,this,0,0),this.skew=new ue(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0},Ie={rotation:{configurable:!0}};Se.prototype.onChange=function(){this._localID++},Se.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},Se.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},Se.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},Se.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Ie.rotation.get=function(){return this._rotation},Ie.rotation.set=function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},Object.defineProperties(Se.prototype,Ie),Se.IDENTITY=new Se;var Pe=function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=fe.RECT},Ae={left:{configurable:!0},right:{configurable:!0},top:{configurable:!0},bottom:{configurable:!0}},Oe={EMPTY:{configurable:!0}};Ae.left.get=function(){return this.x},Ae.right.get=function(){return this.x+this.width},Ae.top.get=function(){return this.y},Ae.bottom.get=function(){return this.y+this.height},Oe.EMPTY.get=function(){return new Pe(0,0,0,0)},Pe.prototype.clone=function(){return new Pe(this.x,this.y,this.width,this.height)},Pe.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},Pe.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},Pe.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},Pe.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},Pe.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(n-r,0)},Pe.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y},Pe.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=i-e,this.y=r,this.height=n-r},Object.defineProperties(Pe.prototype,Ae),Object.defineProperties(Pe,Oe);var Ce=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=fe.CIRC};Ce.prototype.clone=function(){return new Ce(this.x,this.y,this.radius)},Ce.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,r=this.x-t,n=this.y-e;return(r*=r)+(n*=n)<=i},Ce.prototype.getBounds=function(){return new Pe(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};var Me=function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=fe.ELIP};Me.prototype.clone=function(){return new Me(this.x,this.y,this.width,this.height)},Me.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},Me.prototype.getBounds=function(){return new Pe(this.x-this.width,this.y-this.height,this.width,this.height)};var De=function(){for(var t=arguments,e=[],i=arguments.length;i--;)e[i]=t[i];if(Array.isArray(e[0])&&(e=e[0]),e[0]instanceof he){for(var r=[],n=0,o=e.length;n<o;n++)r.push(e[n].x,e[n].y);e=r}this.points=e,this.type=fe.POLY,this.closeStroke=!0};De.prototype.clone=function(){var t=new De(this.points.slice());return t.closeStroke=this.closeStroke,t},De.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,o=r-1;n<r;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(i=!i)}return i};var Re=function(t,e,i,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=n,this.type=fe.RREC};Re.prototype.clone=function(){return new Re(this.x,this.y,this.width,this.height,this.radius)},Re.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),r=e-(this.y+this.radius),n=this.radius*this.radius;if(i*i+r*r<=n)return!0;if((i=t-(this.x+this.width-this.radius))*i+r*r<=n)return!0;if(i*i+(r=e-(this.y+this.height-this.radius))*r<=n)return!0;if((i=t-(this.x+this.radius))*i+r*r<=n)return!0}return!1},g.SORTABLE_CHILDREN=!1;var Fe=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Fe.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Fe.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Fe.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Pe.EMPTY:((t=t||new Pe(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Fe.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Fe.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,i=s<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[2])<e?o:e,i=(s=t[3])<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[4])<e?o:e,i=(s=t[5])<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[6])<e?o:e,i=(s=t[7])<i?s:i,r=o>r?o:r,n=s>n?s:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},Fe.prototype.addFrame=function(t,e,i,r,n){var o=t.worldTransform,s=o.a,a=o.b,h=o.c,u=o.d,l=o.tx,c=o.ty,d=this.minX,p=this.minY,f=this.maxX,v=this.maxY,g=s*e+h*i+l,m=a*e+u*i+c;d=g<d?g:d,p=m<p?m:p,f=g>f?g:f,v=m>v?m:v,d=(g=s*r+h*i+l)<d?g:d,p=(m=a*r+u*i+c)<p?m:p,f=g>f?g:f,v=m>v?m:v,d=(g=s*e+h*n+l)<d?g:d,p=(m=a*e+u*n+c)<p?m:p,f=g>f?g:f,v=m>v?m:v,d=(g=s*r+h*n+l)<d?g:d,p=(m=a*r+u*n+c)<p?m:p,f=g>f?g:f,v=m>v?m:v,this.minX=d,this.minY=p,this.maxX=f,this.maxY=v},Fe.prototype.addVertexData=function(t,e,i){for(var r=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<i;a+=2){var h=t[a],u=t[a+1];r=h<r?h:r,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=r,this.minY=n,this.maxX=o,this.maxY=s},Fe.prototype.addVertices=function(t,e,i,r){for(var n=t.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,v=i;v<r;v+=2){var g=e[v],m=e[v+1],y=o*g+a*m+u,_=h*m+s*g+l;c=y<c?y:c,d=_<d?_:d,p=y>p?y:p,f=_>f?_:f}this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},Fe.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},Fe.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=n&&r<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},Fe.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=n&&r<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}};var Le=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new Se,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Fe,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return e.mixin=function(t){for(var i=Object.keys(t),r=0;r<i.length;++r){var n=i[r];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},i._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Pe),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new Pe),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=i,this.transform=e,r},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,r,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},i.x.get=function(){return this.position.x},i.x.set=function(t){this.transform.position.x=t},i.y.get=function(){return this.position.y},i.y.set=function(t){this.transform.position.y=t},i.worldTransform.get=function(){return this.transform.worldTransform},i.localTransform.get=function(){return this.transform.localTransform},i.position.get=function(){return this.transform.position},i.position.set=function(t){this.transform.position.copyFrom(t)},i.scale.get=function(){return this.transform.scale},i.scale.set=function(t){this.transform.scale.copyFrom(t)},i.pivot.get=function(){return this.transform.pivot},i.pivot.set=function(t){this.transform.pivot.copyFrom(t)},i.skew.get=function(){return this.transform.skew},i.skew.set=function(t){this.transform.skew.copyFrom(t)},i.rotation.get=function(){return this.transform.rotation},i.rotation.set=function(t){this.transform.rotation=t},i.angle.get=function(){return this.transform.rotation*de},i.angle.set=function(t){this.transform.rotation=t*pe},i.zIndex.get=function(){return this._zIndex},i.zIndex.set=function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},i.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},i.mask.get=function(){return this._mask},i.mask.set=function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)},Object.defineProperties(e.prototype,i),e}(m);function Ne(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Le.prototype.displayObjectUpdateTransform=Le.prototype.updateTransform;var Be=function(t){function e(){t.call(this),this.children=[],this.sortableChildren=g.SORTABLE_CHILDREN,this.sortDirty=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0}};return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var r=0;r<i;r++)this.addChild(e[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);Gt(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var r=0;r<i;r++)this.removeChild(e[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,Gt(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Gt(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0);var i,r=t,n="number"==typeof e?e:this.children.length,o=n-r;if(o>0&&o<=n){i=this.children.splice(r,o);for(var s=0;s<i.length;++s)i[s].parent=null,i[s].transform&&(i[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<i.length;++a)i[a].emit("removed",this),this.emit("childRemoved",i[a],this,a);return i}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Ne),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t);for(var n=0,o=this.children.length;n<o;n++)this.children[n].render(t);t.batch.flush(),i&&t.mask.pop(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var n=0;n<r.length;++n)r[n].destroy(e)},i.width.get=function(){return this.scale.x*this.getLocalBounds().width},i.width.set=function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},i.height.get=function(){return this.scale.y*this.getLocalBounds().height},i.height.set=function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},Object.defineProperties(e.prototype,i),e}(Le);Be.prototype.containerUpdateTransform=Be.prototype.updateTransform;var Ue={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};Le.mixin(Ue);var ke=function(t){this._hookDiv=null,(v.tablet||v.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};ke.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},ke.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},ke.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},ke.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},ke.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},ke.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,i=t.height/this.renderer.height,r=this.div;r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var o=this.children[n];if(o.renderId!==this.renderId)o._accessibleActive=!1,Gt(this.children,n,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{r=o._accessibleDiv;var s=o.hitArea,a=o.worldTransform;o.hitArea?(r.style.left=(a.tx+s.x*a.a)*e+"px",r.style.top=(a.ty+s.y*a.d)*i+"px",r.style.width=s.width*a.a*e+"px",r.style.height=s.height*a.d*i+"px"):(s=o.getBounds(),this.capHitArea(s),r.style.left=s.x*e+"px",r.style.top=s.y*i+"px",r.style.width=s.width*e+"px",r.style.height=s.height*i+"px",r.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(r.title=o.accessibleTitle),r.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&r.setAttribute("aria-label",o.accessibleHint))}}this.renderId++}},ke.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},ke.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},ke.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},ke.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},ke.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},ke.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},ke.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},ke.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};var Xe={AccessibilityManager:ke,accessibleTarget:Ue},je=function(t){this.items=[],this._name=t,this._aliasCount=0},Ge={empty:{configurable:!0},name:{configurable:!0}};je.prototype.emit=function(t,e,i,r,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this.name,u=this.items;this._aliasCount++;for(var l=0,c=u.length;l<c;l++)u[l][h](t,e,i,r,n,o,s,a);return u===this.items&&this._aliasCount--,this},je.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},je.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},je.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},je.prototype.contains=function(t){return-1!==this.items.indexOf(t)},je.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},je.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Ge.empty.get=function(){return 0===this.items.length},Ge.name.get=function(){return this._name},Object.defineProperties(je.prototype,Ge),je.prototype.dispatch=je.prototype.emit,je.prototype.run=je.prototype.emit,g.TARGET_FPMS=.06;var He={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50},ze=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.fn=t,this.context=e,this.priority=i,this.once=r,this.next=null,this.previous=null,this._destroyed=!1};ze.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},ze.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},ze.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},ze.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e};var Ve=function(){var t=this;this._head=new ze(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/g.TARGET_FPMS,this.elapsedMS=1/g.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}},Ye={FPS:{configurable:!0},minFPS:{configurable:!0},maxFPS:{configurable:!0}},We={shared:{configurable:!0},system:{configurable:!0}};Ve.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},Ve.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},Ve.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},Ve.prototype.add=function(t,e,i){return void 0===i&&(i=He.NORMAL),this._addListener(new ze(t,e,i))},Ve.prototype.addOnce=function(t,e,i){return void 0===i&&(i=He.NORMAL),this._addListener(new ze(t,e,i,!0))},Ve.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},Ve.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Ve.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},Ve.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},Ve.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},Ve.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*g.TARGET_FPMS;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Ye.FPS.get=function(){return 1e3/this.elapsedMS},Ye.minFPS.get=function(){return 1e3/this._maxElapsedMS},Ye.minFPS.set=function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,g.TARGET_FPMS);this._maxElapsedMS=1/i},Ye.maxFPS.get=function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},Ye.maxFPS.set=function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},We.shared.get=function(){if(!Ve._shared){var t=Ve._shared=new Ve;t.autoStart=!0,t._protected=!0}return Ve._shared},We.system.get=function(){if(!Ve._system){var t=Ve._system=new Ve;t.autoStart=!0,t._protected=!0}return Ve._system},Object.defineProperties(Ve.prototype,Ye),Object.defineProperties(Ve,We);var qe=function(){};qe.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,He.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Ve.shared:new Ve,t.autoStart&&this.start()},qe.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}};var Ze=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new je("setRealSize",2),this.onUpdate=new je("update"),this.onError=new je("onError",1)},Ke={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};Ze.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},Ze.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},Ze.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},Ke.valid.get=function(){return!!this._width&&!!this._height},Ze.prototype.update=function(){this.destroyed||this.onUpdate.run()},Ze.prototype.load=function(){return Promise.resolve()},Ke.width.get=function(){return this._width},Ke.height.get=function(){return this._height},Ze.prototype.upload=function(t,e,i){return!1},Ze.prototype.style=function(t,e,i){return!1},Ze.prototype.dispose=function(){},Ze.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Object.defineProperties(Ze.prototype,Ke);var Je=function(t){function e(e){var i=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;t.call(this,i,r),this.source=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=re(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,r){var n=t.gl,o=e.realWidth,s=e.realHeight;return r=r||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),e.target===n.TEXTURE_2D&&i.width===o&&i.height===s?n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,r):(i.width=o,i.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,r)),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source.naturalWidth||this.source.videoWidth||this.source.width,i=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(e,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Ze),Qe=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLImageElement)){var r=new Image;t.crossOrigin(r,e,i.crossorigin),r.src=e,e=r}t.call(this,e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==i.createBitmap?i.createBitmap:g.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.premultiplyAlpha=!1!==i.premultiplyAlpha,this.bitmap=null,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load?this._load:(this._load=new Promise(function(t){e.url=e.source.src;var i=e.source,r=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?r():(i.onload=r,i.onerror=function(t){return e.onError.run(t)})}),this._load)},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha?"premultiply":"none"}).then(function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))}),this._process):Promise.resolve(this)},e.prototype.upload=function(e,i,r){if(i.premultiplyAlpha=this.premultiplyAlpha,!this.createBitmap)return t.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var n=!0;for(var o in i._glTextures){var s=i._glTextures[o];if(s!==r&&s.dirtyId!==i.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(Je),$e=[];function ti(t,e){if(!t)return null;var i="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(i=r[1].toLowerCase())}for(var n=$e.length-1;n>=0;--n){var o=$e[n];if(o.test&&o.test(t,i))return new o(t,e)}return new Qe(t,e)}var ei=function(t){function e(e,i){var r=i||{},n=r.width,o=r.height;if(!n||!o)throw new Error("BufferResource width or height invalid");t.call(this,n,o),this.data=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,i.internalFormat,e.width,e.height,0,e.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(Ze),ii={scaleMode:wt.NEAREST,format:xt.RGBA,premultiplyAlpha:!1},ri=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null),t.call(this);var r=(i=i||{}).premultiplyAlpha,n=i.mipmap,o=i.anisotropicLevel,s=i.scaleMode,a=i.width,h=i.height,u=i.wrapMode,l=i.format,c=i.type,d=i.target,p=i.resolution,f=i.resourceOptions;!e||e instanceof Ze||((e=ti(e,f)).internal=!0),this.width=a||0,this.height=h||0,this.resolution=p||g.RESOLUTION,this.mipmap=void 0!==n?n:g.MIPMAP_TEXTURES,this.anisotropicLevel=void 0!==o?o:g.ANISOTROPIC_LEVEL,this.wrapMode=u||g.WRAP_MODE,this.scaleMode=void 0!==s?s:g.SCALE_MODE,this.format=l||xt.RGBA,this.type=c||Tt.UNSIGNED_BYTE,this.target=d||bt.TEXTURE_2D,this.premultiplyAlpha=!1!==r,this.uid=zt(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this.setResource(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={realWidth:{configurable:!0},realHeight:{configurable:!0}};return i.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},i.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Wt(this.realWidth)&&Wt(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Jt[this.cacheId],delete Kt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,i){var r=null;"string"==typeof t?r=t:(t._pixiId||(t._pixiId="pixiid_"+zt()),r=t._pixiId);var n=Jt[r];return n||((n=new e(t,i)).cacheId=r,e.addToCache(n,r)),n},e.fromBuffer=function(t,i,r,n){t=t||new Float32Array(i*r*4);var o=new ei(t,{width:i,height:r}),s=t instanceof Float32Array?Tt.FLOAT:Tt.UNSIGNED_BYTE;return new e(o,Object.assign(ii,n||{width:i,height:r,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Jt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),Jt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Jt[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete Jt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete Jt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,i),e}(m);ri._globalBatch=0;var ni=function(t){function e(e,i){var r;i=i||{};var n=e;Array.isArray(e)&&(r=e,n=e.length),t.call(this,i.width,i.height),this.items=[],this.itemDirtyIds=[];for(var o=0;o<n;o++){var s=new ri;this.items.push(s),this.itemDirtyIds.push(-1)}if(this.length=n,this._load=null,r)for(var a=0;a<n;a++)this.addResourceAt(ti(r[a],i),a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=bt.TEXTURE_2D_ARRAY;for(var i=0;i<this.length;i++)this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map(function(t){return t.resource}),i=e.map(function(t){return t.load()});return this._load=Promise.all(i).then(function(){var i=e[0],r=i.width,n=i.height;return t.resize(r,n),Promise.resolve(t)}),this._load},e.prototype.upload=function(t,e,i){var r=this.length,n=this.itemDirtyIds,o=this.items,s=t.gl;i.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,r,0,e.format,e.type,null);for(var a=0;a<r;a++){var h=o[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},e}(Ze),oi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(Je),si=function(t){function e(i,r){if(r=r||{},t.call(this,i,r),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var n=0;n<e.SIDES;n++)this.items[n].target=bt.TEXTURE_CUBE_MAP_POSITIVE_X+n;!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=bt.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,i,r){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(n[o]=s.dirtyId,s.valid&&s.resource.upload(t,s,r))}return!0},e}(ni);si.SIDES=6;var ai=function(t){function e(e,i){i=i||{},t.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=e,this.scale=i.scale||1,this._overrideWidth=i.width,this._overrideHeight=i.height,this._resolve=null,this._crossorigin=i.crossorigin,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise(function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var e=this,i=new Image;t.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(t){i.onerror=null,e.onError.run(t)},i.onload=function(){var t=i.width,r=i.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=t*e.scale,o=r*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/r*t,o=e._overrideHeight||e._overrideWidth/t*r),n=Math.round(n),o=Math.round(o);var s=e.source;s.width=n,s.height=o,s._pixiId="canvas_"+zt(),s.getContext("2d").drawImage(i,0,0,t,r,0,0,n,o),e._resolve(),e._resolve=null}},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e}(Je);ai.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var hi=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLVideoElement)){var r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),t.crossOrigin(r,e[0].src||e[0],i.crossorigin);for(var n=0;n<e.length;++n){var o=document.createElement("source"),s=e[n],a=s.src,h=s.mime,u=(a=a||e[n]).split("?").shift().toLowerCase(),l=u.substr(u.lastIndexOf(".")+1);h=h||"video/"+l,o.src=a,o.type=h,r.appendChild(o)}e=r}t.call(this,e),this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==i.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==i.autoLoad&&this.load()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var i=Ve.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this,e),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){t.valid?i(t):(t._resolve=i,e.load())}),this._load},e.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(Ve.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(Ve.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isAutoUpdating&&Ve.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},i.autoUpdate.get=function(){return this._autoUpdate},i.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(Ve.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(Ve.shared.add(this.update,this),this._isAutoUpdating=!0))},i.updateFPS.get=function(){return this._updateFPS},i.updateFPS.set=function(t){t!==this._updateFPS&&(this._updateFPS=t)},e.test=function(t,i){return t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},Object.defineProperties(e.prototype,i),e}(Je);hi.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(Je);$e.push(Qe,ui,oi,hi,ai,ei,si,ni);var li={INSTALLED:$e,autoDetectResource:ti,ArrayResource:ni,BufferResource:ei,CanvasResource:oi,CubeResource:si,ImageResource:Qe,ImageBitmapResource:ui,SVGResource:ai,VideoResource:hi,Resource:Ze,BaseImageResource:Je},ci=function(t){this.renderer=t};ci.prototype.destroy=function(){this.renderer=null};var di=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,r.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(ei),pi=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new je("disposeFramebuffer",2)},fi={colorTexture:{configurable:!0}};fi.colorTexture.get=function(){return this.colorTextures[0]},pi.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new ri(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},pi.prototype.addDepthTexture=function(t){return this.depthTexture=t||new ri(new di(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:xt.DEPTH_COMPONENT,type:Tt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},pi.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},pi.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},pi.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(t/n,e/n)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,e/o)}}},pi.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(pi.prototype,fi);var vi=function(t){function e(e){"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});t.call(this,null,e);var i=e||{},r=i.width,n=i.height;this.mipmap=!1,this.width=Math.ceil(r)||100,this.height=Math.ceil(n)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new pi(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this).enableStencil(),this.stencilMaskStack=[],this.filterStack=[{}]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.framebuffer=null},e}(ri),gi=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};gi.prototype.set=function(t,e,i){var r=e.width,n=e.height;if(i){var o=t.width/2/r,s=t.height/2/n,a=t.x/r+o,h=t.y/n+s;i=Ee.add(i,Ee.NW),this.x0=a+o*Ee.uX(i),this.y0=h+s*Ee.uY(i),i=Ee.add(i,2),this.x1=a+o*Ee.uX(i),this.y1=h+s*Ee.uY(i),i=Ee.add(i,2),this.x2=a+o*Ee.uX(i),this.y2=h+s*Ee.uY(i),i=Ee.add(i,2),this.x3=a+o*Ee.uX(i),this.y3=h+s*Ee.uY(i)}else this.x0=t.x/r,this.y0=t.y/n,this.x1=(t.x+t.width)/r,this.y1=t.y/n,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/n,this.x3=t.x/r,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var mi=new gi,yi=function(t){function e(i,r,n,o,s,a){if(t.call(this),this.noFrame=!1,r||(this.noFrame=!0,r=new Pe(0,0,1,1)),i instanceof e&&(i=i.baseTexture),this.baseTexture=i,this._frame=r,this.trim=o,this.valid=!1,this.requiresUpdate=!1,this._uvs=mi,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),!0===s)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new he(a.x,a.y):new he(0,0),this._updateID=0,this.textureCacheIds=[],i.valid?this.noFrame?i.valid&&this.onBaseTextureUpdated(i):this.frame=r:i.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&i.on("update",this.onBaseTextureUpdated,this)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var i=this.baseTexture.resource;i&&Kt[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===mi&&(this._uvs=new gi),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i){void 0===i&&(i={});var r=null;"string"==typeof t?r=t:(t._pixiId||(t._pixiId="pixiid_"+zt()),r=t._pixiId);var n=Kt[r];return n||(i.resolution||(i.resolution=ne(t)),(n=new e(new ri(t,i))).baseTexture.cacheId=r,ri.addToCache(n.baseTexture,r),e.addToCache(n,r)),n},e.fromBuffer=function(t,i,r,n){return new e(ri.fromBuffer(t,i,r,n))},e.fromLoader=function(t,i,r){var n=new Qe(t);n.url=i;var o=new e(new ri(n,{scaleMode:g.SCALE_MODE,resolution:ne(i)}));return r||(r=i),ri.addToCache(o.baseTexture,r),e.addToCache(o,r),r!==i&&(ri.addToCache(o.baseTexture,i),e.addToCache(o,i)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Kt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),Kt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Kt[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete Kt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)Kt[t.textureCacheIds[r]]===t&&delete Kt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},i.resolution.get=function(){return this.baseTexture.resolution},i.frame.get=function(){return this._frame},i.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,o=e+r>this.baseTexture.width,s=i+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,u="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},i.rotate.get=function(){return this._rotate},i.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},i.width.get=function(){return this.orig.width},i.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,i),e}(m);function _i(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}yi.EMPTY=new yi(new ri),_i(yi.EMPTY),_i(yi.EMPTY.baseTexture),yi.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new yi(new ri(new oi(t)))}(),_i(yi.WHITE),_i(yi.WHITE.baseTexture);var xi=function(t){function e(e,i){var r=null;if(!(e instanceof vi)){var n=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+o+") instead of the ctor directly."),r=arguments[0],i=null,e=new vi({width:n,height:o,scaleMode:s,resolution:a})}t.call(this,e,i),this.legacyRenderer=r,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e,i){void 0===i&&(i=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new vi(t))},e}(yi),bi=function(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};bi.prototype.createTexture=function(t,e){var i=new vi(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new xi(i)},bi.prototype.getOptimalTexture=function(t,e,i){void 0===i&&(i=1);var r=bi.SCREEN_KEY;t*=i,e*=i,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(r=(65535&(t=Yt(t)))<<16|65535&(e=Yt(e))),this.texturePool[r]||(this.texturePool[r]=[]);var n=this.texturePool[r].pop();return n||(n=this.createTexture(t,e)),n.filterPoolKey=r,n.setResolution(i),n},bi.prototype.getFilterTexture=function(t,e){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},bi.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},bi.prototype.returnFilterTexture=function(t){this.returnTexture(t)},bi.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},bi.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=bi.SCREEN_KEY,i=this.texturePool[e];if(this.enableFullScreen=t.width>0&&t.height>0,i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},bi.SCREEN_KEY="screen";var Ti=function(t,e,i,r,n,o,s){void 0===i&&(i=!1),void 0===r&&(r=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=n,this.start=o,this.instance=s};Ti.prototype.destroy=function(){this.buffer=null},Ti.from=function(t,e,i,r,n){return new Ti(t,e,i,r,n)};var wi=0,Ei=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=wi++,this.disposeRunner=new je("disposeBuffer",2)};function Si(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}Ei.prototype.update=function(t){this.data=t||this.data,this._updateID++},Ei.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Ei.prototype.destroy=function(){this.dispose(),this.data=null},Ei.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new Ei(t)};var Ii={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Pi={5126:4,5123:2,5121:1},Ai=0,Oi={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Ci=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ai++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new je("disposeGeometry",2),this.refCount=0};Ci.prototype.addAttribute=function(t,e,i,r,n,o,s,a){if(void 0===r&&(r=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new Ei(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,i,r,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Ti(l,i,r,n,o,s,a),this.instanced=this.instanced||a,this},Ci.prototype.getAttribute=function(t){return this.attributes[t]},Ci.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Ci.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ei(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},Ci.prototype.getIndex=function(){return this.indexBuffer},Ci.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new Ei;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),i.push(n.size*Pi[n.type]/4),n.buffer=0}for(r.data=function(t,e){for(var i=0,r=0,n={},o=0;o<t.length;o++)r+=e[o],i+=t[o].length;for(var s=new ArrayBuffer(4*i),a=null,h=0,u=0;u<t.length;u++){var l=e[u],c=t[u],d=Si(c);n[d]||(n[d]=new Ii[d](s)),a=n[d];for(var p=0;p<c.length;p++)a[(p/l|0)*r+h+p%l]=c[p];h+=l}return new Float32Array(s)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Ci.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},Ci.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Ci.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer.destroy(),this.attributes=null},Ci.prototype.clone=function(){for(var t=new Ci,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ei(this.buffers[e].data.slice());for(var i in this.attributes){var r=this.attributes[i];t.attributes[i]=new Ti(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},Ci.merge=function(t){for(var e,i=new Ci,r=[],n=[],o=[],s=0;s<t.length;s++){e=t[s];for(var a=0;a<e.buffers.length;a++)n[a]=n[a]||0,n[a]+=e.buffers[a].data.length,o[a]=0}for(var h=0;h<e.buffers.length;h++)r[h]=new(Oi[Si(e.buffers[h].data)])(n[h]),i.buffers[h]=new Ei(r[h]);for(var u=0;u<t.length;u++){e=t[u];for(var l=0;l<e.buffers.length;l++)r[l].set(e.buffers[l].data,o[l]),o[l]+=e.buffers[l].data.length}if(i.attributes=e.attributes,e.indexBuffer){i.indexBuffer=i.buffers[e.buffers.indexOf(e.indexBuffer)],i.indexBuffer.index=!0;for(var c=0,d=0,p=0,f=0,v=0;v<e.buffers.length;v++)if(e.buffers[v]!==e.indexBuffer){f=v;break}for(var g in e.attributes){var m=e.attributes[g];(0|m.buffer)===f&&(d+=m.size*Pi[m.type]/4)}for(var y=0;y<t.length;y++){for(var _=t[y].indexBuffer.data,x=0;x<_.length;x++)i.indexBuffer.data[x+p]+=c;c+=e.buffers[f].data.length/d,p+=_.length}}return i};var Mi=function(t){function e(){t.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ci),Di=function(t){function e(){t.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ei(this.vertices),this.uvBuffer=new Ei(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,e){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+e.width/t.width,this.uvs[3]=r,this.uvs[4]=i+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=i,this.uvs[7]=r+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Ci),Ri=0,Fi=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ri++,this.static=!!e};Fi.prototype.update=function(){this.dirtyId++},Fi.prototype.add=function(t,e,i){this.uniforms[t]=new Fi(e,i)},Fi.from=function(t,e){return new Fi(t,e)};var Li=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Pe,this.destinationFrame=new Pe,this.filters=[]};Li.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var Ni=function(t){function e(e){t.call(this,e),this.defaultFilterStack=[{}],this.texturePool=new bi,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Mi,this.quadUv=new Di,this.tempRect=new Pe,this.activeState={},this.globalUniforms=new Fi({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=e.view.width,this._pixelsHeight=e.view.height}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){for(var i=this.renderer,r=this.defaultFilterStack,n=this.statePool.pop()||new Li,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];o=Math.min(o,l.resolution),s=Math.max(s,l.padding),a=a||l.autoFit,h=h||l.legacy}1===r.length&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),r.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height,n.renderTexture.filterFrame=n.sourceFrame,i.renderTexture.bind(n.renderTexture,n.sourceFrame),i.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var n=r.inputSize,o=r.inputPixel,s=r.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=r.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(1===i.length)i[0].apply(this,e.renderTexture,h.renderTexture,!1,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<i.length-1;++c){i[c].apply(this,u,l,!0,e);var d=u;u=l,l=d}i[c].apply(this,u,h.renderTexture,!1,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.applyFilter=function(t,e,i,r){var n=this.renderer;n.renderTexture.bind(i,i?i.filterFrame:null),r&&n.renderTexture.clear(),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(_t.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(_t.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,r.x,r.y),a=e.worldTransform.copyTo(ve.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,i){return void 0===i&&(i=1),this.texturePool.getOptimalTexture(t,e,i)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var i=t;t=e,e=i}t=t||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(ci),Bi=function(t){this.renderer=t};Bi.prototype.flush=function(){},Bi.prototype.destroy=function(){this.renderer=null},Bi.prototype.start=function(){},Bi.prototype.stop=function(){this.flush()},Bi.prototype.render=function(t){};var Ui=function(t){function e(e){t.call(this,e),this.emptyRenderer=new Bi(e),this.currentRenderer=this.emptyRenderer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e}(ci);g.PREFER_ENV=v.any?gt.WEBGL:gt.WEBGL2;var ki=0,Xi=function(t){function e(e){t.call(this,e),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={isLost:{configurable:!0}};return i.isLost.get=function(){return!this.gl||this.gl.isContextLost()},e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=ki++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=ki++,this.renderer.runners.contextChange.run(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var i;if(g.PREFER_ENV>=gt.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),i},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBKIT_WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(e.prototype,i),e}(ci),ji=function(t){function e(e){t.call(this,e),this.managedFramebuffers=[],this.unknownFramebuffer=new pi(10,10)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={size:{configurable:!0}};return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Pe,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;g.PREFER_ENV===gt.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}},e.prototype.bind=function(t,e){var i=this.gl;if(t){var r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++)t.colorTextures[n].texturePart?this.renderer.texture.unbind(t.colorTextures[n].texture):this.renderer.texture.unbind(t.colorTextures[n]);t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,i,r){var n=this.viewport;n.width===i&&n.height===r&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=r,this.gl.viewport(t,e,i,r))},i.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},e.prototype.clear=function(t,e,i,r){var n=this.gl;n.clearColor(t,e,i,r),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},e.prototype.initFramebuffer=function(t){var e={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},e.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var r=t.colorTextures,n=0;n<r.length;n++)this.renderer.texture.bind(r[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures.length;e.drawBuffers||(r=Math.min(r,1));for(var n=[],o=0;o<r;o++){var s=t.colorTextures[o];s.texturePart?(this.renderer.texture.bind(s.texture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_CUBE_MAP_NEGATIVE_X+s.side,s.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,0)),n.push(e.COLOR_ATTACHMENT0+o)}if((n.length>1&&e.drawBuffers(n),t.depthTexture)&&this.writeDepthTexture){var a=t.depthTexture;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)}i.stencil||!t.stencil&&!t.depth||(i.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height))},e.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.stencil&&r.deleteRenderbuffer(i.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Pe},Object.defineProperties(e.prototype,i),e}(ci),Gi=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},Hi={5126:4,5123:2,5121:1},zi=function(t){function e(e){t.call(this,e),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var i=this.renderer.context.extensions.vertexArrayObject;g.PREFER_ENV===gt.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(t){return i.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return i.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){},t.bindVertexArray=function(){},t.deleteVertexArray=function(){})}if(!t.vertexAttribDivisor){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(t,e){return r.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,n,o){return r.drawElementsInstancedANGLE(t,e,i,n,o)},t.drawArraysInstanced=function(t,e,i,n){return r.drawArraysInstancedANGLE(t,e,i,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID];r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={});var n=r[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?i.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,i=0;i<t.buffers.length;i++){var r=t.buffers[i],n=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==n.updateID){n.updateID=r._updateID;var o=r.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=r.data.byteLength)e.bufferSubData(o,0,r.data);else{var s=r.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=r.data.byteLength,e.bufferData(o,r.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var n in r)if(!i[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,n=["g",t.id];for(var o in i)r[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var i=this.gl,r=this.CONTEXT_UID,n=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[e.id]=s,s;var a=t.buffers,h=t.attributes,u={},l={};for(var c in a)u[c]=0,l[c]=0;for(var d in h)!h[d].size&&e.attributeData[d]?h[d].size=e.attributeData[d].size:h[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[d].buffer]+=h[d].size*Hi[h[d].type];for(var p in h){var f=h[p],v=f.size;void 0===f.stride&&(u[f.buffer]===v*Hi[f.type]?f.stride=0:f.stride=u[f.buffer]),void 0===f.start&&(f.start=l[f.buffer],l[f.buffer]+=v*Hi[f.type])}s=i.createVertexArray(),i.bindVertexArray(s);for(var g=0;g<a.length;g++){var m=a[g];m._glBuffers[r]||(m._glBuffers[r]=new Gi(i.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),m._glBuffers[r].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[n]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),i){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in i)if("g"===a[0]){var h=i[a];this._activeVao===h&&this.unbind(),r.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t);e=Object.keys(this.managedBuffers);for(var r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},e.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[r].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[r];if(e.attributeData[a]){s!==u&&(i.bindBuffer(i.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(i.enableVertexAttribArray(l),i.vertexAttribPointer(l,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,i,r){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(i||0)*s,r||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(i||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,i,e||o.getSize(),r||1):n.drawArrays(t,i,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(ci);function Vi(t,e,i,r){var n=Yi(t,t.VERTEX_SHADER,e),o=Yi(t,t.FRAGMENT_SHADER,i),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),r)for(var a in r)t.bindAttribLocation(s,r[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function Yi(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.warn(i),console.error(t.getShaderInfoLog(r)),null)}function Wi(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return qi(2*e);case"bvec3":return qi(3*e);case"bvec4":return qi(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function qi(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}var Zi,Ki={},Ji=Ki;function Qi(){if(Ji===Ki){var t,e=document.createElement("canvas");g.PREFER_ENV>=gt.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Ji=t}return Ji}function $i(t,e,i){if("precision"!==t.substring(0,9)){var r=e;return e===Pt.HIGH&&i!==Pt.HIGH&&(r=Pt.MEDIUM),"precision "+r+" float;\n"+t}return i!==Pt.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var tr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function er(t){return tr[t]}var ir=null,rr={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function nr(t,e){if(!ir){var i=Object.keys(rr);ir={};for(var r=0;r<i.length;++r){var n=i[r];ir[t[n]]=rr[n]}}return ir[e]}var or={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},sr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var ar,hr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function ur(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=hr.replace(/%forloop%/gi,lr(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}function lr(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}var cr=0,dr={},pr=function t(e,i,r){void 0===r&&(r="pixi-shader"),this.id=cr++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),dr[r]?(dr[r]++,r+="-"+dr[r]):dr[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=$i(this.vertexSrc,g.PRECISION_VERTEX,Pt.HIGH),this.fragmentSrc=$i(this.fragmentSrc,g.PRECISION_FRAGMENT,function(){if(!Zi){Zi=Pt.MEDIUM;var t=Qi();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Zi=e.precision?Pt.HIGH:Pt.MEDIUM}}return Zi}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},fr={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};pr.prototype.extractData=function(t,e){var i=Qi();if(i){var r=Vi(i,t,e);this.attributeData=this.getAttributeData(r,i),this.uniformData=this.getUniformData(r,i),i.deleteProgram(r)}else this.uniformData={},this.attributeData={}},pr.prototype.getAttributeData=function(t,e){for(var i={},r=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=nr(e,s.type),h={type:a,name:s.name,size:er(a),location:0};i[s.name]=h,r.push(h)}r.sort(function(t,e){return t.name>e.name?1:-1});for(var u=0;u<r.length;u++)r[u].location=u;return i},pr.prototype.getUniformData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]/,""),a=o.name.match(/\[.*?\]/,""),h=nr(e,o.type);i[s]={type:h,size:o.size,isArray:a,value:Wi(h,o.size)}}return i},fr.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},fr.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},pr.from=function(t,e,i){var r=t+e,n=Zt[r];return n||(Zt[r]=n=new pr(t,e,i)),n},Object.defineProperties(pr,fr);var vr=function(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof Fi?e:new Fi(e):new Fi({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))},gr={uniforms:{configurable:!0}};vr.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},vr.prototype.destroy=function(){this.uniformGroup=null},gr.uniforms.get=function(){return this.uniformGroup.uniforms},vr.from=function(t,e,i){var r=pr.from(t,e);return new vr(r,i)},Object.defineProperties(vr.prototype,gr);var mr=function(){this.data=0,this.blendMode=yt.NORMAL,this.polygonOffset=0,this.blend=!0},yr={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};yr.blend.get=function(){return!!(1&this.data)},yr.blend.set=function(t){!!(1&this.data)!==t&&(this.data^=1)},yr.offsets.get=function(){return!!(2&this.data)},yr.offsets.set=function(t){!!(2&this.data)!==t&&(this.data^=2)},yr.culling.get=function(){return!!(4&this.data)},yr.culling.set=function(t){!!(4&this.data)!==t&&(this.data^=4)},yr.depthTest.get=function(){return!!(8&this.data)},yr.depthTest.set=function(t){!!(8&this.data)!==t&&(this.data^=8)},yr.clockwiseFrontFace.get=function(){return!!(16&this.data)},yr.clockwiseFrontFace.set=function(t){!!(16&this.data)!==t&&(this.data^=16)},yr.blendMode.get=function(){return this._blendMode},yr.blendMode.set=function(t){this.blend=t!==yt.NONE,this._blendMode=t},yr.polygonOffset.get=function(){return this._polygonOffset},yr.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},mr.for2d=function(){var t=new mr;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(mr.prototype,yr);var _r=function(t){function e(i,r,n){var o=pr.from(i||e.defaultVertexSrc,r||e.defaultFragmentSrc);t.call(this,o,n),this.padding=0,this.resolution=g.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new mr}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blendMode:{configurable:!0}},r={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r,n)},i.blendMode.get=function(){return this.state.blendMode},i.blendMode.set=function(t){this.state.blendMode=t},r.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},r.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(e.prototype,i),Object.defineProperties(e,r),e}(vr);_r.SOURCE_KEY_MAP={};var xr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",br="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Tr=new ve,wr=function(t,e){this._texture=t,this.mapCoord=new ve,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1},Er={texture:{configurable:!0}};Er.texture.get=function(){return this._texture},Er.texture.set=function(t){this._texture=t,this._updateID=-1},wr.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],o=t[r+1];e[r]=n*i.a+o*i.c+i.tx,e[r+1]=n*i.b+o*i.d+i.ty}return e},wr.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(Tr.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Tr));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},Object.defineProperties(wr.prototype,Er);var Sr=function(t){function e(e){var i=new ve;t.call(this,xr,br),e.renderable=!1,this.maskSprite=e,this.maskMatrix=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,i,r){var n=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new wr(o,0)),o.transform.update(),this.uniforms.npmAlpha=o.baseTexture.premultiplyAlpha?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,e,i,r))},e}(_r),Ir=function(t){function e(e){t.call(this,e),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){if(e.isSprite)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencil.stencilMaskStack.length&&e.isFastRect()){var i=e.worldTransform,r=Math.atan2(i.b,i.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.pop=function(t,e){e.isSprite?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencil.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Sr(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var r=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filter.push(t,i),t.filterArea=r,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.batch.flush(),this.renderer.stencil.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.stencil.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var i=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(i.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(r.x*n,(i.root?i.size.height-r.y-r.height:r.y)*n,r.width*n,r.height*n),this.scissorRenderTarget=i,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(ci),Pr=function(t){function e(e){t.call(this,e),this.stencilMaskStack=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.stencilMaskStack.length;this.stencilMaskStack=t,t.length!==i&&(0===t.length?e.disable(e.STENCIL_TEST):(e.enable(e.STENCIL_TEST),this._useCurrent()))},e.prototype.pushStencil=function(t){var e=this.renderer.gl,i=this.stencilMaskStack.length;0===i&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,i,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},e.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){t.prototype.destroy.call(this,this),this.stencilMaskStack=null},e}(ci),Ar=function(t){function e(e){t.call(this,e),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ve,this.transform=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,i,r){var n=this.projectionMatrix;r?(n.a=1/t.width*2*i,n.d=-1/t.height*2*i,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2*i,n.d=1/t.height*2*i,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},e.prototype.setTransform=function(){},e}(ci),Or=new Pe,Cr=function(t){function e(e){t.call(this,e),this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Pe,this.destinationFrame=new Pe}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,i){void 0===t&&(t=null),this.current=t;var r,n=this.renderer;if(t){var o=t.baseTexture;r=o.resolution,i||(Or.width=o.realWidth,Or.height=o.realHeight,i=Or),e||(e=i),this.renderer.framebuffer.bind(o.framebuffer,i),this.renderer.projection.update(i,e,r,!1),this.renderer.stencil.setMaskStack(o.stencilMaskStack)}else r=this.renderer.resolution,i||(Or.width=n.width,Or.height=n.height,i=Or),e||(e=i),n.framebuffer.bind(null,i),this.renderer.projection.update(i,e,r,!0),this.renderer.stencil.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e),this.destinationFrame.x=i.x/r,this.destinationFrame.y=i.y/r,this.destinationFrame.width=i.width/r,this.destinationFrame.height=i.height/r,e===i&&this.sourceFrame.copyFrom(this.destinationFrame)},e.prototype.clear=function(t){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(ci),Mr=function(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}};Mr.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Dr=0,Rr=function(t){function e(e){t.call(this,e),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Dr++}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof ar)return ar;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");ar=!0===t({a:"b"},"a","b")}catch(t){ar=!1}return ar}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||this.syncUniformGroup(t.uniformGroup),r},e.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t){var e=this.getglProgram();t.static&&t.dirtyId===e.uniformGroups[t.id]||(e.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,e))},e.prototype.syncUniforms=function(t,e){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var i=0,r="var v = null;\n    var cv = null\n    var gl = renderer.gl";for(var n in t.uniforms){var o=e[n];o?"float"===o.type&&1===o.size?r+="\n            if(uv."+n+" !== ud."+n+".value)\n            {\n                ud."+n+".value = uv."+n+"\n                gl.uniform1f(ud."+n+".location, uv."+n+")\n            }\n":"sampler2D"!==o.type&&"samplerCube"!==o.type&&"sampler2DArray"!==o.type||1!==o.size||o.isArray?"mat3"===o.type&&1===o.size?void 0!==t.uniforms[n].a?r+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+".toArray(true));\n                \n":r+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+");\n                \n":"vec2"===o.type&&1===o.size?void 0!==t.uniforms[n].x?r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+n+".location, v.x, v.y);\n                }\n":r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+n+".location, v[0], v[1]);\n                }\n                \n":"vec4"===o.type&&1===o.size?void 0!==t.uniforms[n].width?r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+n+".location, v.x, v.y, v.width, v.height)\n                }\n":r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+n+".location, v[0], v[1], v[2], v[3])\n                }\n                \n":r+="\n            cv = ud."+n+".value;\n            v = uv."+n+";\n            "+(1===o.size?or:sr)[o.type].replace("location","ud."+n+".location")+";\n":(r+="\n            renderer.texture.bind(uv."+n+", "+i+");\n\n            if(ud."+n+".value !== "+i+")\n            {\n                ud."+n+".value = "+i+";\n                gl.uniform1i(ud."+n+".location, "+i+");\n; // eslint-disable-line max-len\n            }\n",i++):t.uniforms[n].group&&(r+="\n                    renderer.shader.syncUniformGroup(uv."+n+");\n                ")}return new Function("ud","uv","renderer",r)}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var i=t.uniforms,r=[];for(var n in i)r.push(n),e[n]&&r.push(e[n].type);return r.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,i=t.program,r={};for(var n in i.attributeData)r[n]=i.attributeData[n].location;var o=Vi(e,i.vertexSrc,i.fragmentSrc,r),s={};for(var a in i.uniformData){var h=i.uniformData[a];s[a]={location:e.getUniformLocation(o,a),value:Wi(h.type,h.size)}}var u=new Mr(o,s);return i.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(ci);var Fr=0,Lr=1,Nr=2,Br=3,Ur=4,kr=function(t){function e(e){t.call(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=yt.NONE,this._blendEq=!1,this.map=[],this.map[Fr]=this.setBlend,this.map[Lr]=this.setOffset,this.map[Nr]=this.setCullFace,this.map[Br]=this.setDepthTest,this.map[Ur]=this.setFrontFace,this.checks=[],this.defaultState=new mr,this.defaultState.blend=!0,this.defaultState.depth=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[yt.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.ADD]=[t.ONE,t.ONE],e[yt.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.NONE]=[0,0],e[yt.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[yt.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[yt.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[yt.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[yt.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[yt.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[yt.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[yt.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[yt.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var i=0;i<this.checks.length;i++)this.checks[i](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(e.polygonOffset,0)},e}(ci),Xr=function(t){function e(e){t.call(this,e),this.count=0,this.checkCount=0,this.maxIdle=g.GC_MAX_IDLE,this.checkCountMax=g.GC_MAX_CHECK_COUNT,this.mode=g.GC_MODE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postrender=function(){this.count++,this.mode!==It.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[r]=null,i=!0)}if(i){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.textureSystem;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e}(ci),jr=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Gr=function(t){function e(e){t.call(this,e),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ri}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new jr(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new jr(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var o=0;o<this.boundTextures.length;o++)this.bind(null,o)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if(t){if((t=t.baseTexture||t).valid){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.boundTextures[e]!==t&&i.bindTexture(t.target,r.texture),r.dirtyId!==t.dirtyId&&this.updateTexture(t),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(var n=0;n<i.length;n++)i[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),i[n]=null)},e.prototype.initTexture=function(t){var e=new jr(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var i=this.renderer.gl;t.type===i.FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA32F),t.type===Tt.HALF_FLOAT&&(e.type=i.HALF_FLOAT),e.type===i.HALF_FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e));else{var r=t.realWidth,n=t.realHeight,o=i.gl;(e.width!==r||e.height!==n||e.dirtyId<0)&&(e.width=r,e.height=n,o.texImage2D(t.target,0,e.internalFormat,r,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.baseTexture||t)._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&Gt(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==St.POW2&&2===this.webGLVersion||t.isPowerOfTwo?(e.mipmap=t.mipmap>=1,e.wrapMode=t.wrapMode):(e.mipmap=0,e.wrapMode=Et.CLAMP),t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===wt.LINEAR){var n=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode?i.LINEAR:i.NEAREST)},e}(ci),Hr={FilterSystem:Ni,BatchSystem:Ui,ContextSystem:Xi,FramebufferSystem:ji,GeometrySystem:zi,MaskSystem:Ir,StencilSystem:Pr,ProjectionSystem:Ar,RenderTextureSystem:Cr,ShaderSystem:Rr,StateSystem:kr,TextureGCSystem:Xr,TextureSystem:Gr},zr=new ve,Vr=function(t){function e(e,i){t.call(this),(i=Object.assign({},g.RENDER_OPTIONS,i)).roundPixels&&(g.ROUND_PIXELS=i.roundPixels,se("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=i,this.type=mt.UNKNOWN,this.screen=new Pe(0,0,i.width,i.height),this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution||g.RESOLUTION,this.transparent=i.transparent,this.autoDensity=i.autoDensity||i.autoResize||!1,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new Be,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},i.width.get=function(){return this.view.width},i.height.get=function(){return this.view.height},e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,i,r){0===(r=r||t.getLocalBounds()).width&&(r.width=1),0===r.height&&(r.height=1);var n=xi.create(0|r.width,0|r.height,e,i);return zr.tx=-r.x,zr.ty=-r.y,this.render(t,n,!1,zr,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=mt.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},i.backgroundColor.get=function(){return this._backgroundColor},i.backgroundColor.set=function(t){this._backgroundColor=t,this._backgroundColorString=Ft(t),Rt(t,this._backgroundColorRgba)},Object.defineProperties(e.prototype,i),e}(m),Yr=function(t){function e(i){void 0===i&&(i={}),t.call(this,"WebGL",i),i=this.options,this.type=mt.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new je("destroy"),contextChange:new je("contextChange",1),reset:new je("reset"),update:new je("update"),postrender:new je("postrender"),prerender:new je("prerender"),resize:new je("resize",2)},this.globalUniforms=new Fi({projectionMatrix:new ve},!0),this.addSystem(Ir,"mask").addSystem(Xi,"context").addSystem(kr,"state").addSystem(Rr,"shader").addSystem(Gr,"texture").addSystem(zi,"geometry").addSystem(ji,"framebuffer").addSystem(Pr,"stencil").addSystem(Ar,"projection").addSystem(Xr,"textureGC").addSystem(Ni,"filter").addSystem(Cr,"renderTexture").addSystem(Ui,"batch"),this.initPlugins(e.__plugins),i.context?this.context.initFromContext(i.context):this.context.initFromOptions({alpha:this.transparent,antialias:i.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,Mt(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(Dt())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=i,this.runners)this.runners[r].add(i);return this},e.prototype.render=function(t,e,i,r,n){if(this.renderingToScreen=!e,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=r,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.runners.resize.run(e,i)},e.prototype.reset=function(){return this.runners.reset.run(),this},e.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},e.prototype.destroy=function(e){for(var i in this.runners.destroy.run(),this.runners)this.runners[i].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,i){e.__plugins=e.__plugins||{},e.__plugins[t]=i},e}(Vr);function Wr(t){return Yr.create(t)}var qr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Zr="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Kr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.from=function(t,i){return new e(new si(t,i))},e}(ri),Jr=function(){this.textures=[],this.ids=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=4},Qr=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},$r={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};$r.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},$r.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},$r.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},$r.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},$r.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},Qr.prototype.view=function(t){return this[t+"View"]},Qr.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},Qr.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Object.defineProperties(Qr.prototype,$r);var tn=function(t){function e(e){t.call(this,e),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=mr.for2d(),this.size=8e3,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._drawCalls=[];for(var i=0;i<this.size/4;i++)this._drawCalls[i]=new Jr;this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;g.PREFER_ENV===gt.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=ur(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedElements[this._bufferSize++]=t)},e.prototype.flush=function(){if(0!==this._vertexCount){var t,e,i=this.getAttributeBuffer(this._vertexCount),r=this.getIndexBuffer(this._indexCount),n=this.renderer.gl,o=this._bufferedElements,s=this._drawCalls,a=this.MAX_TEXTURES,h=this._packedGeometries,u=this.vertexSize,l=this.renderer.textureGC.count,c=0,d=0,p=0,f=s[0],v=0,m=-1;f.textureCount=0,f.start=0,f.blend=m;var y,_=++ri._globalBatch;for(y=0;y<this._bufferSize;++y){var x=o[y];o[y]=null,t=x._texture.baseTexture;var b=Nt[t.premultiplyAlpha?1:0][x.blendMode];m!==b&&(m=b,e=null,p=a,_++),e!==t&&(e=t,t._batchEnabled!==_&&(p===a&&(_++,p=0,f.size=d-f.start,(f=s[v++]).textureCount=0,f.blend=m,f.start=d),t.touched=l,t._batchEnabled=_,t._id=p,f.textures[f.textureCount++]=t,p++)),this.packInterleavedGeometry(x,i,r,c,d),c+=x.vertexData.length/2*u,d+=x.indices.length}ri._globalBatch=_,f.size=d-f.start,g.CAN_UPLOAD_SAME_BUFFER?(h[this._flushId]._buffer.update(i.rawBinaryData,0),h[this._flushId]._indexBuffer.update(r,0),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,h[this._flushId]=new this.geometryClass),h[this._flushId]._buffer.update(i.rawBinaryData,0),h[this._flushId]._indexBuffer.update(r,0),this.renderer.geometry.bind(h[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++);var T=this.renderer.texture,w=this.renderer.state;for(y=0;y<v;y++){for(var E=s[y],S=E.textureCount,I=0;I<S;I++)T.bind(E.textures[I],I),E.textures[I]=null;w.setBlendMode(E.blend),n.drawElements(E.type,E.size,n.UNSIGNED_SHORT,2*E.start)}this._bufferSize=0,this._vertexCount=0,this._indexCount=0}},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),g.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._drawCalls=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=Yt(Math.ceil(t/8)),i=qt(e),r=8*e;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._aBuffers[r];return n||(this._aBuffers[r]=n=new Qr(r*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=Yt(Math.ceil(t/12)),i=qt(e),r=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._iBuffers[i];return n||(this._iBuffers[i]=n=new Uint16Array(r)),n},e.prototype.packInterleavedGeometry=function(t,e,i,r,n){for(var o=e.uint32View,s=e.float32View,a=r/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._id,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.premultiplyAlpha?kt(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<l.length;f+=2)s[r++]=l[f],s[r++]=l[f+1],s[r++]=h[f],s[r++]=h[f+1],o[r++]=p,s[r++]=c;for(var v=0;v<u.length;v++)i[n++]=a+u[v]},e}(Bi),en=function(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};en.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Fi.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new pr(this.vertexSrc,r)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new ve,default:this.defaultGroupCache[t]};return new vr(this.programCache[t],n)},en.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"};var rn=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._buffer=new Ei(null,e,!1),this._indexBuffer=new Ei(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Tt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Tt.FLOAT).addAttribute("aColor",this._buffer,4,!0,Tt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Tt.FLOAT).addIndex(this._indexBuffer)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ci),nn="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",on="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",sn=function(){},an={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};sn.create=function(t){var e=Object.assign({vertex:nn,fragment:on,geometryClass:rn,vertexSize:6},t),i=e.vertex,r=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){t.call(this,e),this.shaderGenerator=new en(i,r),this.geometryClass=o,this.vertexSize=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(tn)},an.defaultVertexSrc.get=function(){return nn},an.defaultFragmentTemplate.get=function(){return on},Object.defineProperties(sn,an);var hn=sn.create(),un=new Pe,ln=function(t){this.renderer=t,t.extract=this};ln.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},ln.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},ln.prototype.canvas=function(t){var e,i,r,n=this.renderer,o=!1,s=!1;t&&(t instanceof xi?r=t:(r=this.renderer.generateTexture(t),s=!0)),r?(e=r.baseTexture.resolution,i=r.frame,o=!1,n.renderTexture.bind(r)):(e=this.renderer.resolution,o=!0,(i=un).width=this.renderer.width,i.height=this.renderer.height,n.renderTexture.bind(null));var a=Math.floor(i.width*e),h=Math.floor(i.height*e),u=new $t(a,h,1),l=new Uint8Array(4*a*h),c=n.gl;c.readPixels(i.x*e,i.y*e,a,h,c.RGBA,c.UNSIGNED_BYTE,l);var d=u.context.getImageData(0,0,a,h);return ln.arrayPostDivide(l,d.data),u.context.putImageData(d,0,0),o&&(u.context.scale(1,-1),u.context.drawImage(u.canvas,0,-h)),s&&r.destroy(!0),u.canvas},ln.prototype.pixels=function(t){var e,i,r,n=this.renderer,o=!1;t&&(t instanceof xi?r=t:(r=this.renderer.generateTexture(t),o=!0)),r?(e=r.baseTexture.resolution,i=r.frame,n.renderTexture.bind(r)):(e=n.resolution,(i=un).width=n.width,i.height=n.height,n.renderTexture.bind(null));var s=i.width*e,a=i.height*e,h=new Uint8Array(4*s*a),u=n.gl;return u.readPixels(i.x*e,i.y*e,s,a,u.RGBA,u.UNSIGNED_BYTE,h),o&&r.destroy(!0),ln.arrayPostDivide(h,h),h},ln.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},ln.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}};var cn={Extract:ln},dn=function(){this.global=new he,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},pn={pointerId:{configurable:!0}};pn.pointerId.get=function(){return this.identifier},dn.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},dn.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},dn.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(dn.prototype,pn);var fn=function(){this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};fn.prototype.stopPropagation=function(){this.stopped=!0},fn.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null};var vn=function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE},gn={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};vn.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},gn.pointerId.get=function(){return this._pointerId},gn.flags.get=function(){return this._flags},gn.flags.set=function(t){this._flags=t},gn.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},gn.over.get=function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},gn.over.set=function(t){this._doSet(this.constructor.FLAGS.OVER,t)},gn.rightDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},gn.rightDown.set=function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)},gn.leftDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},gn.leftDown.set=function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)},Object.defineProperties(vn.prototype,gn),vn.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var mn={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Le.mixin(mn);var yn=1,_n={target:null,data:{global:null}},xn=function(t){function e(e,i){t.call(this),i=i||{},this.renderer=e,this.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,this.interactionFrequency=i.interactionFrequency||10,this.mouse=new dn,this.mouse.identifier=yn,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[yn]=this.mouse,this.interactionDataPool=[],this.eventData=new fn,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this._tempPoint=new he,this.resolution=1,this.delayedEvents=[],this.setTargetElement(this.renderer.view,this.renderer.resolution)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hitTest=function(t,e){return _n.target=null,_n.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(_n,e,null,!0),_n.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(Ve.system.add(this.update,this,He.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(Ve.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,i){i.stopped||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},e.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},e.prototype.mapPositionToPoint=function(t,e,i){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},e.prototype.processInteractive=function(t,e,i,r,n,o){if(!e||!e.visible)return!1;var s=t.data.global,a=!1,h=n=e.interactive||n,u=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,u=!1)),h=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(r=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,c=l.length-1;c>=0;c--){var d=l[c],p=this.processInteractive(t,d,i,r,h,!0);if(p){if(!d.parent)continue;h=!1,p&&(t.target&&(r=!1),a=!0)}}n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),i&&i(t,e,!!a)));var f=this.delayedEvents;if(f.length&&!o){var v=f.length;this.delayedEvents=[];for(var g=0;g<v;g++){var m=f[g];this.dispatchEvent(m.displayObject,m.eventString,m.eventData)}}return a},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;if(i)if(e.trackedPointers[n]||(e.trackedPointers[n]=new vn(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,i){for(var r=this.normalizeToPointerData(t),n=r.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=r[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,i,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId,h))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,i){var r=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===r.pointerType,a="mouse"===r.pointerType||"pen"===r.pointerType,h=!1;if(a){var u=2===r.button,l=vn.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;i?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,s=e.trackedPointers[n];i&&!s&&(s=e.trackedPointers[n]=new vn(n)),void 0!==s&&(i&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return i===yn||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new dn).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,r=t.changedTouches.length;i<r;i++){var n=t.changedTouches[i];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=yn),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(m),bn={InteractionData:dn,InteractionEvent:fn,InteractionManager:xn,InteractionTrackingData:vn,interactiveTarget:mn},Tn={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},wn=function(){this.reset()};wn.prototype.clone=function(){var t=new wn;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},wn.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=yi.WHITE,this.matrix=null,this.visible=!1},wn.prototype.destroy=function(){this.texture=null,this.matrix=null};var En=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]};En.prototype.clone=function(){return new En(this.shape,this.fillStyle,this.lineStyle,this.matrix)},En.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var Sn={build:function(t){var e,i,r=t.shape,n=t.points,o=r.x,s=r.y;if(n.length=0,t.type===fe.CIRC?(e=r.radius,i=r.radius):(e=r.width,i=r.height),0!==e&&0!==i){var a=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height));a/=2.3;for(var h=2*Math.PI/a,u=0;u<a;u++)n.push(o+Math.sin(-h*u)*e,s+Math.cos(-h*u)*i);n.push(n[0],n[1])}},triangulate:function(t,e){var i=t.points,r=e.points,n=e.indices,o=r.length/2,s=o;r.push(t.shape.x,t.shape.y);for(var a=0;a<i.length;a+=2)r.push(i[a],i[a+1]),n.push(o++,s,o)}};function In(t,e){t.lineStyle.native?function(t,e){var i=0,r=t.shape,n=t.points||r.points,o=r.type!==fe.POLY||r.closeStroke;if(0===n.length)return;var s=e.points,a=e.indices,h=n.length/2,u=s.length/2,l=u;for(s.push(n[0],n[1]),i=1;i<h;i++)s.push(n[2*i],n[2*i+1]),a.push(l,l+1),l++;o&&a.push(l,u)}(t,e):function(t,e){var i=t.shape,r=t.points||i.points.slice(),n=e.closePointEps;if(0===r.length)return;var o=t.lineStyle,s=new he(r[0],r[1]),a=new he(r[r.length-2],r[r.length-1]),h=i.type!==fe.POLY||i.closeStroke,u=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(h){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));var l=a.x+.5*(s.x-a.x),c=a.y+.5*(s.y-a.y);r.unshift(l,c),r.push(l,c)}var d=e.points,p=r.length/2,f=r.length,v=d.length/2,g=o.width/2,m=r[0],y=r[1],_=r[2],x=r[3],b=0,T=0,w=-(y-x),E=m-_,S=0,I=0,P=0,A=0,O=Math.sqrt(w*w+E*E);w/=O,E/=O,w*=g,E*=g;var C=o.alignment,M=2*(1-C),D=2*C;d.push(m-w*M,y-E*M),d.push(m+w*D,y+E*D);for(var R=1;R<p-1;++R){m=r[2*(R-1)],y=r[2*(R-1)+1],_=r[2*R],x=r[2*R+1],b=r[2*(R+1)],T=r[2*(R+1)+1],w=-(y-x),E=m-_,O=Math.sqrt(w*w+E*E),w/=O,E/=O,w*=g,E*=g,S=-(x-T),I=_-b,O=Math.sqrt(S*S+I*I),S/=O,I/=O;var F=-E+y-(-E+x),L=-w+_-(-w+m),N=(-w+m)*(-E+x)-(-w+_)*(-E+y),B=-(I*=g)+T-(-I+x),U=-(S*=g)+_-(-S+b),k=(-S+b)*(-I+x)-(-S+_)*(-I+T),X=F*U-B*L;if(Math.abs(X)<.1)X+=10.1,d.push(_-w*M,x-E*M),d.push(_+w*D,x+E*D);else{var j=(L*k-U*N)/X,G=(B*N-F*k)/X,H=(j-_)*(j-_)+(G-x)*(G-x);H>196*g*g?(P=w-S,A=E-I,O=Math.sqrt(P*P+A*A),P/=O,A/=O,P*=g,A*=g,d.push(_-P*M,x-A*M),d.push(_+P*D,x+A*D),d.push(_-P*D*M,x-A*M),f++):(d.push(_+(j-_)*M,x+(G-x)*M),d.push(_-(j-_)*D,x-(G-x)*D))}}m=r[2*(p-2)],y=r[2*(p-2)+1],_=r[2*(p-1)],x=r[2*(p-1)+1],w=-(y-x),E=m-_,O=Math.sqrt(w*w+E*E),w/=O,E/=O,w*=g,E*=g,d.push(_-w*M,x-E*M),d.push(_+w*D,x+E*D);for(var z=e.indices,V=0;V<f-2;++V)z.push(v,v+1,v+2),v++}(t,e)}var Pn={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,o=e.indices;if(i.length>=6){for(var s=[],a=0;a<r.length;a++){var h=r[a];s.push(i.length/2),i=i.concat(h.points)}var u=y(i,s,2);if(!u)return;for(var l=n.length/2,c=0;c<u.length;c+=3)o.push(u[c]+l),o.push(u[c+1]+l),o.push(u[c+2]+l);for(var d=0;d<i.length;d++)n.push(i[d])}}},An={build:function(t){var e=t.shape,i=t.points,r=e.x,n=e.y,o=e.width,s=e.height,a=e.radius;i.length=0,Cn(r,n+a,r,n,r+a,n,i),Cn(r+o-a,n,r+o,n,r+o,n+a,i),Cn(r+o,n+s-a,r+o,n+s,r+o-a,n+s,i),Cn(r+a,n+s,r,n+s,r,n+s-a,i)},triangulate:function(t,e){for(var i=t.points,r=e.points,n=e.indices,o=r.length/2,s=y(i,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(var u=0,l=i.length;u<l;u++)r.push(i[u],i[++u])}};function On(t,e,i){return t+(e-t)*i}function Cn(t,e,i,r,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,p=0,f=0,v=0;f<=20;++f)h=On(t,i,v=f/20),u=On(e,r,v),l=On(i,n,v),c=On(r,o,v),d=On(h,l,v),p=On(u,c,v),a.push(d,p);return a}var Mn=[],Dn=[],Rn=new he,Fn={};Fn[fe.POLY]=Pn,Fn[fe.CIRC]=Sn,Fn[fe.ELIP]=Sn,Fn[fe.RECT]={build:function(t){var e=t.shape,i=e.x,r=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(i,r,i+n,r,i+n,r+o,i,r+o)},triangulate:function(t,e){var i=t.points,r=e.points,n=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},Fn[fe.RREC]=An;var Ln=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},Nn=function(t){function e(){t.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new Fe,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null,this.closePointEps=1e-4}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={bounds:{configurable:!0}};return i.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].textures.length=0,Dn.push(this.drawCalls[t]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var i=this.batches[e];i.start=0,i.attribStart=0,i.style=null,Mn.push(i)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,i,r){var n=new En(t,e,i,r);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;var i=new En(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(t,Rn):Rn.copyFrom(t),r.shape.contains(Rn.x,Rn.y)))){if(r.holes)for(var n=0;n<r.holes.length;n++){if(r.holes[n].shape.contains(Rn.x,Rn.y))return!1}return!0}}return!1},e.prototype.updateBatches=function(){if(this.dirty!==this.cacheDirty)if(0!==this.graphicsData.length){if(this.dirty!==this.cacheDirty)for(var t=0;t<this.graphicsData.length;t++){var e=this.graphicsData[t];if(e.fillStyle&&!e.fillStyle.texture.baseTexture.valid)return;if(e.lineStyle&&!e.lineStyle.texture.baseTexture.valid)return}this.cacheDirty=this.dirty;var i=this.uvs,r=null,n=null,o=0,s=!1;if(this.batches.length>0){var a=(r=this.batches[this.batches.length-1]).style;n=a.texture.baseTexture,o=a.color+a.alpha,s=!!a.native}for(var h=this.shapeIndex;h<this.graphicsData.length;h++){this.shapeIndex++;var u=this.graphicsData[h],l=Fn[u.type],c=u.fillStyle,d=u.lineStyle;l.build(u),u.matrix&&this.transformPoints(u.points,u.matrix);for(var p=0;p<2;p++){var f=0===p?c:d;if(f.visible){var v=f.texture.baseTexture,g=this.indices.length,m=this.points.length/2;!r||n===v&&o===f.color+f.alpha&&s===!!f.native||(r.size=g-r.start,r.attribSize=m-r.attribStart,r.size>0&&(r=null)),r||(r=Mn.pop()||new Ln,this.batches.push(r),v.wrapMode=Et.REPEAT,n=v,o=f.color+f.alpha,s=f.native,r.style=f,r.start=g,r.attribStart=m);var y=this.points.length/2;if(0===p)u.holes.length?(this.processHoles(u.holes),Pn.triangulate(u,this)):l.triangulate(u,this);else{In(u,this);for(var _=0;_<u.holes.length;_++)In(u.holes[_],this)}var x=this.points.length/2-y;this.addUvs(this.points,i,f.texture,y,x,f.matrix)}}}var b=this.indices.length,T=this.points.length/2;if(r)if(r.size=b-r.start,r.attribSize=T-r.attribStart,this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var w=0;w<this.batches.length;w++)for(var E=this.batches[w],S=0;S<E.size;S++){var I=E.start+S;this.indicesUint16[I]=this.indicesUint16[I]-E.attribStart}}else this.buildDrawCalls();else this.batchable=!0}else this.batchable=!0},e.prototype.isBatchable=function(){for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++ri._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].textures.length=0,Dn.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.uvs,r=this.colors,n=this.textureIds,o=Dn.pop()||new Jr;o.textureCount=0,o.start=0,o.size=0,o.type=_t.TRIANGLES;var s=0,a=null,h=0,u=!1,l=_t.TRIANGLES,c=0;this.drawCalls.push(o);for(var d=0;d<this.batches.length;d++){var p=this.batches[d],f=p.style,v=f.texture.baseTexture;u!==!!f.native&&(l=(u=f.native)?_t.LINES:_t.TRIANGLES,a=null,s=8,t++),a!==v&&(a=v,v._batchEnabled!==t&&(8===s&&(t++,s=0,o.size>0&&(o=Dn.pop()||new Jr,this.drawCalls.push(o)),o.start=c,o.size=0,o.textureCount=0,o.type=l),v.touched=1,v._batchEnabled=t,v._id=s,v.wrapMode=10497,o.textures[o.textureCount++]=v,s++)),o.size+=p.size,c+=p.size,h=v._id,this.addColors(r,f.color,f.alpha,p.attribSize),this.addTextureIds(n,h,p.attribSize)}ri._globalBatch=t;for(var g=this.points,m=new ArrayBuffer(3*g.length*4),y=new Float32Array(m),_=new Uint32Array(m),x=0,b=0;b<g.length/2;b++)y[x++]=g[2*b],y[x++]=g[2*b+1],y[x++]=i[2*b],y[x++]=i[2*b+1],_[x++]=r[b],y[x++]=n[b];this._buffer.update(m),this._indexBuffer.update(this.indicesUint16)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];Fn[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=1/0,e=-1/0,i=1/0,r=-1/0;if(this.graphicsData.length)for(var n=null,o=0,s=0,a=0,h=0,u=0;u<this.graphicsData.length;u++){var l=this.graphicsData[u],c=l.type,d=l.lineStyle?l.lineStyle.width:0;if(n=l.shape,c===fe.RECT||c===fe.RREC)o=n.x-d/2,s=n.y-d/2,t=o<t?o:t,e=o+(a=n.width+d)>e?o+a:e,i=s<i?s:i,r=s+(h=n.height+d)>r?s+h:r;else if(c===fe.CIRC)o=n.x,s=n.y,t=o-(a=n.radius+d/2)<t?o-a:t,e=o+a>e?o+a:e,i=s-(h=n.radius+d/2)<i?s-h:i,r=s+h>r?s+h:r;else if(c===fe.ELIP)o=n.x,s=n.y,t=o-(a=n.width+d/2)<t?o-a:t,e=o+a>e?o+a:e,i=s-(h=n.height+d/2)<i?s-h:i,r=s+h>r?s+h:r;else for(var p=n.points,f=0,v=0,g=0,m=0,y=0,_=0,x=0,b=0,T=0;T+2<p.length;T+=2)o=p[T],s=p[T+1],f=p[T+2],v=p[T+3],g=Math.abs(f-o),m=Math.abs(v-s),h=d,(a=Math.sqrt(g*g+m*m))<1e-9||(t=(x=(f+o)/2)-(y=(h/a*m+g)/2)<t?x-y:t,e=x+y>e?x+y:e,i=(b=(v+s)/2)-(_=(h/a*g+m)/2)<i?b-_:i,r=b+_>r?b+_:r)}else t=0,e=0,i=0,r=0;var w=this.boundsPadding;this._bounds.minX=t-w,this._bounds.maxX=e+w,this._bounds.minY=i-w,this._bounds.maxY=r+w},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},e.prototype.addColors=function(t,e,i,r){for(var n=kt((e>>16)+(65280&e)+((255&e)<<16),i);r-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,i){for(;i-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,i,r,n,o){for(var s=0,a=e.length,h=i.frame;s<n;){var u=t[2*(r+s)],l=t[2*(r+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=i.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,i,a,n)},e.prototype.adjustUvs=function(t,e,i,r){for(var n=e.baseTexture,o=i+2*r,s=e.frame,a=s.width/n.width,h=s.height/n.height,u=s.x/s.width,l=s.y/s.height,c=Math.floor(t[i]+1e-6),d=Math.floor(t[i+1]+1e-6),p=i+2;p<o;p+=2)c=Math.min(c,Math.floor(t[p]+1e-6)),d=Math.min(d,Math.floor(t[p+1]+1e-6));u-=c,l-=d;for(var f=i;f<o;f+=2)t[f]=(t[f]+u)*a,t[f+1]=(t[f+1]+l)*h},Object.defineProperties(e.prototype,i),e}(rn);Nn.BATCHABLE_SIZE=100;var Bn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(wn),Un=function(){};Un.curveLength=function(t,e,i,r,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,v=0,g=0,m=0,y=0,_=t,x=e,b=1;b<=10;++b)m=_-(v=(f=(p=(d=1-(u=b/10))*d)*d)*t+3*p*u*i+3*d*(l=u*u)*n+(c=l*u)*s),y=x-(g=f*e+3*p*u*r+3*d*l*o+c*a),_=v,x=g,h+=Math.sqrt(m*m+y*y);return h},Un.curveTo=function(t,e,i,r,n,o,s){var a=s[s.length-2],h=s[s.length-1];s.length-=2;var u=Tn._segmentsCount(Un.curveLength(a,h,t,e,i,r,n,o)),l=0,c=0,d=0,p=0,f=0;s.push(a,h);for(var v=1,g=0;v<=u;++v)d=(c=(l=1-(g=v/u))*l)*l,f=(p=g*g)*g,s.push(d*a+3*c*g*t+3*l*p*i+f*n,d*h+3*c*g*e+3*l*p*r+f*o)};var kn=function(){};kn.curveLength=function(t,e,i,r,n,o){var s=t-2*i+n,a=e-2*r+o,h=2*i-2*t,u=2*r-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),v=2*l*f,g=2*Math.sqrt(d),m=c/f;return(v*p+f*c*(p-g)+(4*d*l-c*c)*Math.log((2*f+m+p)/(m+g)))/(4*v)},kn.curveTo=function(t,e,i,r,n){for(var o=n[n.length-2],s=n[n.length-1],a=Tn._segmentsCount(kn.curveLength(o,s,t,e,i,r)),h=0,u=0,l=1;l<=a;++l){var c=l/a;h=o+(t-o)*c,u=s+(e-s)*c,n.push(h+(t+(i-t)*c-h)*c,u+(e+(r-e)*c-u)*c)}};var Xn=function(){};Xn.curveTo=function(t,e,i,r,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=r-e,l=i-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,v=n*Math.sqrt(d)/c,g=n*Math.sqrt(p)/c,m=v*f/d,y=g*f/p,_=v*l+g*h,x=v*u+g*a,b=h*(g+m),T=a*(g+m),w=l*(v+y),E=u*(v+y);return{cx:_+t,cy:x+e,radius:n,startAngle:Math.atan2(T-x,b-_),endAngle:Math.atan2(E-x,w-_),anticlockwise:h*u>l*a}},Xn.arc=function(t,e,i,r,n,o,s,a,h){for(var u=s-o,l=Tn._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/ce)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),v=l-1,g=v%1/v,m=0;m<=v;++m){var y=c+o+d*(m+g*m),_=Math.cos(y),x=-Math.sin(y);h.push((p*_+f*x)*n+i,(p*-x+f*_)*n+r)}};var jn=function(t){function e(e,i,r,n,o,s){o=o||n/2;for(var a=-1*Math.PI/2+s,h=2*r,u=ce/h,l=[],c=0;c<h;c++){var d=c%2?o:n,p=c*u+a;l.push(e+d*Math.cos(p),i+d*Math.sin(p))}t.call(this,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(De),Gn=new Float32Array(3),Hn=null,zn=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.geometry=e||new Nn,this.geometry.refCount++,this.shader=null,this.state=mr.for2d(),this._fillStyle=new wn,this._lineStyle=new Bn,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.pluginName="batch",this.tint=16777215,this.blendMode=yt.NORMAL}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return e.prototype.clone=function(){return this.finishPoly(),new e(this.geometry)},i.blendMode.set=function(t){this.state.blendMode=t},i.blendMode.get=function(){return this.state.blendMode},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t},i.fill.get=function(){return this._fillStyle},i.line.get=function(){return this._lineStyle},e.prototype.lineStyle=function(t,e,i,r,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=.5),void 0===n&&(n=!1),this.lineTextureStyle(t,yi.WHITE,e,i,null,r,n),this},e.prototype.lineTextureStyle=function(t,e,i,r,n,o,s){void 0===t&&(t=0),void 0===e&&(e=yi.WHITE),void 0===i&&(i=16777215),void 0===r&&(r=1),void 0===n&&(n=null),void 0===o&&(o=.5),void 0===s&&(s=!1),this.currentPath&&this.startPoly();var a=t>0&&r>0;return a?(n&&(n=n.clone()).invert(),Object.assign(this._lineStyle,{color:i,width:t,alpha:r,matrix:n,texture:e,alignment:o,native:s,visible:a})):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new De,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new De,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||i.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),kn.curveTo(t,e,i,r,n),this},e.prototype.bezierCurveTo=function(t,e,i,r,n,o){return this._initCurve(),Un.curveTo(t,e,i,r,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,i,r,n){this._initCurve(t,e);var o=this.currentPath.points,s=Xn.curveTo(t,e,i,r,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,i,r,n,o){if(void 0===o&&(o=!1),r===n)return this;if(!o&&n<=r?n+=ce:o&&r<=n&&(r+=ce),0===n-r)return this;var s=t+Math.cos(r)*i,a=e+Math.sin(r)*i,h=this.geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-s),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return Xn.arc(s,a,t,e,i,r,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill(yi.WHITE,t,e)},e.prototype.beginTextureFill=function(t,e,i,r){void 0===t&&(t=yi.WHITE),void 0===e&&(e=16777215),void 0===i&&(i=1),void 0===r&&(r=null),this.currentPath&&this.startPoly();var n=i>0;return n?(r&&(r=r.clone()).invert(),Object.assign(this._fillStyle,{color:e,alpha:i,texture:t,matrix:r,visible:n})):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,i,r){return this.drawShape(new Pe(t,e,i,r))},e.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new Re(t,e,i,r,n))},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new Ce(t,e,i))},e.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new Me(t,e,i,r))},e.prototype.drawPolygon=function(t){var e=arguments,i=t,r=!0;if(i.points&&(r=i.closeStroke,i=i.points),!Array.isArray(i)){i=new Array(arguments.length);for(var n=0;n<i.length;++n)i[n]=e[n]}var o=new De(i);return o.closeStroke=r,this.drawShape(o),this},e.prototype.drawShape=function(t){return this._holeMode?this.geometry.drawHole(t,this._matrix):this.geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,i,r,n,o){return void 0===o&&(o=0),this.drawPolygon(new jn(t,e,i,r,n,o))},e.prototype.clear=function(){return this.geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){return!1},e.prototype._render=function(t){this.finishPoly();var e=this.geometry;if(e.updateBatches(),e.batchable){if(this.batchDirty!==e.batchDirty){this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.vertexData=new Float32Array(e.points);for(var i=this.blendMode,r=0;r<e.batches.length;r++){var n=e.batches[r],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(e.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:i,indices:new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:Rt(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=h}}if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var u=0;u<this.batches.length;u++){var l=this.batches[u];l.worldAlpha=this.worldAlpha*l.alpha,t.plugins[this.pluginName].render(l)}}}else{if(t.batch.flush(),!this.shader){if(!Hn){for(var c=new Int32Array(16),d=0;d<16;d++)c[d]=d;var p={tint:new Float32Array([1,1,1,1]),translationMatrix:new ve,default:Fi.from({uSamplers:c},!0)},f=t.plugins.batch._shader.program;Hn=new vr(f,p)}this.shader=Hn}var v=this.shader.uniforms;v.translationMatrix=this.transform.worldTransform;var g=this.tint,m=this.worldAlpha;v.tint[0]=(g>>16&255)/255*m,v.tint[1]=(g>>8&255)/255*m,v.tint[2]=(255&g)/255*m,v.tint[3]=m,t.shader.bind(this.shader),t.geometry.bind(e,this.shader),t.state.set(this.state);for(var y=0;y<e.drawCalls.length;y++){for(var _=e.drawCalls[y],x=_.textureCount,b=0;b<x;b++)t.texture.bind(_.textures[b],b);t.geometry.draw(_.type,_.size,_.start)}}},e.prototype._calculateBounds=function(){this.finishPoly();var t=this.geometry.bounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this.geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Rt(this.tint,Gn),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,n=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldTransform,e=t.a,i=t.b,r=t.c,n=t.d,o=t.tx,s=t.ty,a=this.geometry.points,h=this.vertexData,u=0,l=0;l<a.length;l+=2){var c=a[l],d=a[l+1];h[u++]=e*c+r*d+o,h[u++]=n*d+i*c+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Object.defineProperties(e.prototype,i),e}(Be);zn._TEMP_POINT=new he;var Vn=new he,Yn=new Uint16Array([0,1,2,0,2,3]),Wn=function(t){function e(e){t.call(this),this._anchor=new ue(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=yt.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=e||yi.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Yn,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=g.ROUND_PIXELS}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this._width&&(this.scale.x=Vt(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Vt(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,v=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(v=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(v=-c._y*l.height)+l.height),h[0]=i*p+n*v+s,h[1]=o*v+r*p+a,h[2]=i*d+n*v+s,h[3]=o*v+r*d+a,h[4]=i*d+n*f+s,h[5]=o*f+r*d+a,h[6]=i*p+n*f+s,h[7]=o*f+r*p+a,this._roundPixels)for(var g=0;g<8;g++)h[g]=Math.round(h[g])}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-r._x*i.width,d=c+i.width,p=-r._y*i.height,f=p+i.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pe),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Vn);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,n=0;return Vn.x>=r&&Vn.x<r+e&&(n=-i*this.anchor.y,Vn.y>=n&&Vn.y<n+i)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},e.from=function(t,i){return new e(t instanceof yi?t:yi.from(t,i))},i.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},i.roundPixels.get=function(){return this._roundPixels},i.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){var e=Vt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){var e=Vt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){this._anchor.copyFrom(t)},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},i.texture.get=function(){return this._texture},i.texture.set=function(t){this._texture!==t&&(this._texture=t||yi.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},Object.defineProperties(e.prototype,i),e}(Be),qn={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},Zn={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:qn.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Kn=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Jn=function(t){this.styleID=0,this.reset(),eo(this,t,t)},Qn={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function $n(t){return"number"==typeof t?Ft(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function to(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=$n(t[e]);return t}return $n(t)}function eo(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}Jn.prototype.clone=function(){var t={};return eo(t,this,Zn),new Jn(t)},Jn.prototype.reset=function(){eo(this,Zn,Zn)},Qn.align.get=function(){return this._align},Qn.align.set=function(t){this._align!==t&&(this._align=t,this.styleID++)},Qn.breakWords.get=function(){return this._breakWords},Qn.breakWords.set=function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},Qn.dropShadow.get=function(){return this._dropShadow},Qn.dropShadow.set=function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},Qn.dropShadowAlpha.get=function(){return this._dropShadowAlpha},Qn.dropShadowAlpha.set=function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},Qn.dropShadowAngle.get=function(){return this._dropShadowAngle},Qn.dropShadowAngle.set=function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},Qn.dropShadowBlur.get=function(){return this._dropShadowBlur},Qn.dropShadowBlur.set=function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},Qn.dropShadowColor.get=function(){return this._dropShadowColor},Qn.dropShadowColor.set=function(t){var e=to(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},Qn.dropShadowDistance.get=function(){return this._dropShadowDistance},Qn.dropShadowDistance.set=function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},Qn.fill.get=function(){return this._fill},Qn.fill.set=function(t){var e=to(t);this._fill!==e&&(this._fill=e,this.styleID++)},Qn.fillGradientType.get=function(){return this._fillGradientType},Qn.fillGradientType.set=function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},Qn.fillGradientStops.get=function(){return this._fillGradientStops},Qn.fillGradientStops.set=function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},Qn.fontFamily.get=function(){return this._fontFamily},Qn.fontFamily.set=function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},Qn.fontSize.get=function(){return this._fontSize},Qn.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},Qn.fontStyle.get=function(){return this._fontStyle},Qn.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},Qn.fontVariant.get=function(){return this._fontVariant},Qn.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},Qn.fontWeight.get=function(){return this._fontWeight},Qn.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},Qn.letterSpacing.get=function(){return this._letterSpacing},Qn.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},Qn.lineHeight.get=function(){return this._lineHeight},Qn.lineHeight.set=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},Qn.leading.get=function(){return this._leading},Qn.leading.set=function(t){this._leading!==t&&(this._leading=t,this.styleID++)},Qn.lineJoin.get=function(){return this._lineJoin},Qn.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},Qn.miterLimit.get=function(){return this._miterLimit},Qn.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},Qn.padding.get=function(){return this._padding},Qn.padding.set=function(t){this._padding!==t&&(this._padding=t,this.styleID++)},Qn.stroke.get=function(){return this._stroke},Qn.stroke.set=function(t){var e=to(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},Qn.strokeThickness.get=function(){return this._strokeThickness},Qn.strokeThickness.set=function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},Qn.textBaseline.get=function(){return this._textBaseline},Qn.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},Qn.trim.get=function(){return this._trim},Qn.trim.set=function(t){this._trim!==t&&(this._trim=t,this.styleID++)},Qn.whiteSpace.get=function(){return this._whiteSpace},Qn.whiteSpace.set=function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},Qn.wordWrap.get=function(){return this._wordWrap},Qn.wordWrap.set=function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},Qn.wordWrapWidth.get=function(){return this._wordWrapWidth},Qn.wordWrapWidth.set=function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},Jn.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Kn.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Object.defineProperties(Jn.prototype,Qn);var io=function(t,e,i,r,n,o,s,a,h){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h};io.measureText=function(t,e,i,r){void 0===r&&(r=io._canvas),i=null==i?e.wordWrap:i;var n=e.toFontString(),o=io.measureFont(n);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=r.getContext("2d");s.font=n;for(var a=(i?io.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),u=0,l=0;l<a.length;l++){var c=s.measureText(a[l]).width+(a[l].length-1)*e.letterSpacing;h[l]=c,u=Math.max(u,c)}var d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||o.fontSize+e.strokeThickness,f=Math.max(p,o.fontSize+e.strokeThickness)+(a.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new io(t,e,d,f,a,h,p+e.leading,u,o)},io.wordWrap=function(t,e,i){void 0===i&&(i=io._canvas);for(var r=i.getContext("2d"),n=0,o="",s="",a={},h=e.letterSpacing,u=e.whiteSpace,l=io.collapseSpaces(u),c=io.collapseNewlines(u),d=!l,p=e.wordWrapWidth+h,f=io.tokenize(t),v=0;v<f.length;v++){var g=f[v];if(io.isNewline(g)){if(!c){s+=io.addLine(o),d=!l,o="",n=0;continue}g=" "}if(l){var m=io.isBreakingSpace(g),y=io.isBreakingSpace(o[o.length-1]);if(m&&y)continue}var _=io.getFromCache(g,h,a,r);if(_>p)if(""!==o&&(s+=io.addLine(o),o="",n=0),io.canBreakWords(g,e.breakWords))for(var x=g.split(""),b=0;b<x.length;b++){for(var T=x[b],w=1;x[b+w];){var E=x[b+w],S=T[T.length-1];if(io.canBreakChars(S,E,g,b,e.breakWords))break;T+=E,w++}b+=T.length-1;var I=io.getFromCache(T,h,a,r);I+n>p&&(s+=io.addLine(o),d=!1,o="",n=0),o+=T,n+=I}else{o.length>0&&(s+=io.addLine(o),o="",n=0);var P=v===f.length-1;s+=io.addLine(g,!P),d=!1,o="",n=0}else _+n>p&&(d=!1,s+=io.addLine(o),o="",n=0),(o.length>0||!io.isBreakingSpace(g)||d)&&(o+=g,n+=_)}return s+=io.addLine(o,!1)},io.addLine=function(t,e){return void 0===e&&(e=!0),t=io.trimRight(t),t=e?t+"\n":t},io.getFromCache=function(t,e,i,r){var n=i[t];if(void 0===n){var o=t.length*e;n=r.measureText(t).width+o,i[t]=n}return n},io.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},io.collapseNewlines=function(t){return"normal"===t},io.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var i=t[e];if(!io.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},io.isNewline=function(t){return"string"==typeof t&&io._newlines.indexOf(t.charCodeAt(0))>=0},io.isBreakingSpace=function(t){return"string"==typeof t&&io._breakingSpaces.indexOf(t.charCodeAt(0))>=0},io.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var n=t[r];io.isBreakingSpace(n)||io.isNewline(n)?(""!==i&&(e.push(i),i=""),e.push(n)):i+=n}return""!==i&&e.push(i),e},io.canBreakWords=function(t,e){return e},io.canBreakChars=function(t,e,i,r,n){return!0},io.measureFont=function(t){if(io._fonts[t])return io._fonts[t];var e={},i=io._canvas,r=io._context;r.font=t;var n=io.METRICS_STRING+io.BASELINE_SYMBOL,o=Math.ceil(r.measureText(n).width),s=Math.ceil(r.measureText(io.BASELINE_SYMBOL).width),a=2*s;s=s*io.BASELINE_MULTIPLIER|0,i.width=o,i.height=a,r.fillStyle="#f00",r.fillRect(0,0,o,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(n,0,s);var h=r.getImageData(0,0,o,a).data,u=h.length,l=4*o,c=0,d=0,p=!1;for(c=0;c<s;++c){for(var f=0;f<l;f+=4)if(255!==h[d+f]){p=!0;break}if(p)break;d+=l}for(e.ascent=s-c,d=u-l,p=!1,c=a;c>s;--c){for(var v=0;v<l;v+=4)if(255!==h[d+v]){p=!0;break}if(p)break;d-=l}return e.descent=c-s,e.fontSize=e.ascent+e.descent,io._fonts[t]=e,e},io.clearMetrics=function(t){void 0===t&&(t=""),t?delete io._fonts[t]:io._fonts={}};var ro=function(){try{var t=new OffscreenCanvas(0,0);return t.getContext("2d")?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();ro.width=ro.height=10,io._canvas=ro,io._context=ro.getContext("2d"),io._fonts={},io.METRICS_STRING="|ÉqÅ",io.BASELINE_SYMBOL="M",io.BASELINE_MULTIPLIER=1.4,io._newlines=[10,13],io._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var no={texture:!0,children:!1,baseTexture:!0},oo=function(t){function e(e,i,r){(r=r||document.createElement("canvas")).width=3,r.height=3;var n=yi.from(r);n.orig=new Pe,n.trim=new Pe,t.call(this,n),this.canvas=r,this.context=this.canvas.getContext("2d"),this._resolution=g.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=i,this.localStyleID=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,n=this.context,o=io.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var v=e.dropShadow&&0===f,g=v?2*a:0,m=g*this.resolution;if(v){n.fillStyle="black",n.strokeStyle="black";var y=e.dropShadowColor,_=Rt("number"==typeof y?y:Lt(y));n.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+m}else n.fillStyle=this._generateFillStyle(e,h),n.strokeStyle=e.stroke,n.shadowColor=0,n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var x=0;x<h.length;x++)i=e.strokeThickness/2,r=e.strokeThickness/2+x*u+d.ascent,"right"===e.align?i+=c-l[x]:"center"===e.align&&(i+=(c-l[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[x],i+e.padding,r+e.padding-g,!0),e.fill&&this.drawLetterSpacing(h[x],i+e.padding,r+e.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,i,r){void 0===r&&(r=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=0;a<s.length;++a){var h=s[a];r?this.context.strokeText(h,o,i):this.context.fillText(h,o,i),o+=this.context.measureText(h).width+n}else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=Qt(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,r=this._style,n=r.trim?0:r.padding,o=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(t.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(t.height/this._resolution),i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(1===t.fill.length)return t.fill[0];var i,r,n,o,s=Math.ceil(this.canvas.width/this._resolution),a=Math.ceil(this.canvas.height/this._resolution),h=t.fill.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var l=h.length+1,c=1;c<l;++c)u.push(c/l);if(h.unshift(t.fill[0]),u.unshift(0),h.push(t.fill[t.fill.length-1]),u.push(1),t.fillGradientType===qn.LINEAR_VERTICAL){i=this.context.createLinearGradient(s/2,0,s/2,a),r=(h.length+1)*e.length,n=0;for(var d=0;d<e.length;d++){n+=1;for(var p=0;p<h.length;p++)o="number"==typeof u[p]?u[p]/e.length+d/e.length:n/r,i.addColorStop(o,h[p]),n++}}else{i=this.context.createLinearGradient(0,a/2,s,a/2),r=h.length+1,n=1;for(var f=0;f<h.length;f++)o="number"==typeof u[f]?u[f]:n/r,i.addColorStop(o,h[f]),n++}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},no,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},i.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){this.updateText(!0);var e=Vt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){this.updateText(!0);var e=Vt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.style.get=function(){return this._style},i.style.set=function(t){t=t||{},this._style=t instanceof Jn?t:new Jn(t),this.localStyleID=-1,this.dirty=!0},i.text.get=function(){return this._text},i.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},i.resolution.get=function(){return this._resolution},i.resolution.set=function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},Object.defineProperties(e.prototype,i),e}(Wn);g.UPLOADS_PER_FRAME=4;var so=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};so.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},so.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var ao=function(t){var e=this;this.limiter=new so(g.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(fo),this.registerFindHook(vo),this.registerFindHook(ho),this.registerFindHook(uo),this.registerFindHook(lo),this.registerUploadHook(co),this.registerUploadHook(po)};function ho(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof yi){var n=t._textures[r].baseTexture;-1===e.indexOf(n)&&(e.push(n),i=!0)}return i}function uo(t,e){return t instanceof ri&&(-1===e.indexOf(t)&&e.push(t),!0)}function lo(t,e){if(t._texture&&t._texture instanceof yi){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function co(t,e){return e instanceof oo&&(e.updateText(!0),!0)}function po(t,e){if(e instanceof Jn){var i=e.toFontString();return io.measureFont(i),!0}return!1}function fo(t,e){if(t instanceof oo){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function vo(t,e){return t instanceof Jn&&(-1===e.indexOf(t)&&e.push(t),!0)}ao.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Ve.system.addOnce(this.tick,this,He.UTILITY))):e&&e()},ao.prototype.tick=function(){setTimeout(this.delayedTick,0)},ao.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Ve.system.addOnce(this.tick,this,He.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var o=0,s=n.length;o<s;o++)n[o]()}},ao.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},ao.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},ao.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Be)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},ao.prototype.destroy=function(){this.ticking&&Ve.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var go=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this.renderer,this.registerFindHook(_o),this.registerUploadHook(mo),this.registerUploadHook(yo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ao);function mo(t,e){return e instanceof ri&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function yo(t,e){return e instanceof zn&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function _o(t,e){return t instanceof zn&&(e.push(t),!0)}var xo=function(t){this.maxMilliseconds=t,this.frameStart=0};xo.prototype.beginFrame=function(){this.frameStart=Date.now()},xo.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};var bo={BasePrepare:ao,CountLimiter:so,Prepare:go,TimeLimiter:xo},To=function t(e){var i=this;e=Object.assign({forceCanvas:!1},e),this.renderer=Wr(e),this.stage=new Be,t._plugins.forEach(function(t){t.init.call(i,e)})},wo={view:{configurable:!0},screen:{configurable:!0}};To.registerPlugin=function(t){To._plugins.push(t)},To.prototype.render=function(){this.renderer.render(this.stage)},wo.view.get=function(){return this.renderer.view},wo.screen.get=function(){return this.renderer.screen},To.prototype.destroy=function(t,e){var i=this,r=To._plugins.slice(0);r.reverse(),r.forEach(function(t){t.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},Object.defineProperties(To.prototype,wo),To._plugins=[];var Eo=function(){};Eo.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.resize),this._resizeTo=t,t&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){e._resizeTo&&(e._resizeTo===window?e.renderer.resize(window.innerWidth,window.innerHeight):e.renderer.resize(e._resizeTo.clientWidth,e._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null},Eo.destroy=function(){this.resizeTo=null,this.resize=null},To.registerPlugin(Eo);var So=function(t,e){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[i.key[o]]=r[o]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,function(t,e,r){e&&(n[i.q.name][e]=r)}),n},Io=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(i(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,i,n){void 0===i&&(i=!1),r(this,t),this._fn=e,this._once=i,this._thisArg=n,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){r(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=arguments,e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,t),e=e._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=n,e.default=s,t.exports=e.default}));function Po(){}function Ao(t,e,i,r){var n=0,o=t.length;!function s(a){a||n===o?i&&i(a):r?setTimeout(function(){e(t[n++],s)},1):e(t[n++],s)}()}function Oo(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function Co(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,r={_tasks:[],concurrency:e,saturated:Po,unsaturated:Po,buffer:e/4,empty:Po,drain:Po,error:Po,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){i=0,r.drain=Po,r.started=!1,r._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!r.paused&&i<r.concurrency&&r._tasks.length;){var e=r._tasks.shift();0===r._tasks.length&&r.empty(),(i+=1)===r.concurrency&&r.saturated(),t(e.data,Oo(o(e)))}},length:function(){return r._tasks.length},running:function(){return i},idle:function(){return r._tasks.length+i===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var t=1;t<=r.concurrency;t++)r.process()}}};function n(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(r.started=!0,null==t&&r.idle())setTimeout(function(){return r.drain()},1);else{var n={data:t,callback:"function"==typeof i?i:Po};e?r._tasks.unshift(n):r._tasks.push(n),setTimeout(function(){return r.process()},1)}}function o(t){return function(){i-=1,t.callback.apply(t,arguments),null!=arguments[0]&&r.error(arguments[0],t.data),i<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}var Mo={};function Do(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ro(t,e,i){return e&&Do(t.prototype,e),i&&Do(t,i),t}var Fo=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Lo=null;function No(){}var Bo=function(){function t(e,i,r){if("string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=No,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Io,this.onProgress=new Io,this.onComplete=new Io,this.onAfterMiddleware=new Io}t.setExtensionLoadType=function(e,i){Uo(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){Uo(t._xhrTypeMap,e,i)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var i=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(i)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:Fo&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(ko(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(ko(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(ko(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,i="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),0===r&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(i,"text/xml")}else{var o=document.createElement("div");o.innerHTML=i,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,Lo||(Lo=document.createElement("a")),Lo.href=t;var i=!(t=So(Lo.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&r===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(r>-1?r:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Ro(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function Uo(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function ko(t){return t.toString().replace("object ","")}Bo.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Bo.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Bo.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Bo.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Bo._loadTypeMap={gif:Bo.LOAD_TYPE.IMAGE,png:Bo.LOAD_TYPE.IMAGE,bmp:Bo.LOAD_TYPE.IMAGE,jpg:Bo.LOAD_TYPE.IMAGE,jpeg:Bo.LOAD_TYPE.IMAGE,tif:Bo.LOAD_TYPE.IMAGE,tiff:Bo.LOAD_TYPE.IMAGE,webp:Bo.LOAD_TYPE.IMAGE,tga:Bo.LOAD_TYPE.IMAGE,svg:Bo.LOAD_TYPE.IMAGE,"svg+xml":Bo.LOAD_TYPE.IMAGE,mp3:Bo.LOAD_TYPE.AUDIO,ogg:Bo.LOAD_TYPE.AUDIO,wav:Bo.LOAD_TYPE.AUDIO,mp4:Bo.LOAD_TYPE.VIDEO,webm:Bo.LOAD_TYPE.VIDEO},Bo._xhrTypeMap={xhtml:Bo.XHR_RESPONSE_TYPE.DOCUMENT,html:Bo.XHR_RESPONSE_TYPE.DOCUMENT,htm:Bo.XHR_RESPONSE_TYPE.DOCUMENT,xml:Bo.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Bo.XHR_RESPONSE_TYPE.DOCUMENT,svg:Bo.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Bo.XHR_RESPONSE_TYPE.DOCUMENT,gif:Bo.XHR_RESPONSE_TYPE.BLOB,png:Bo.XHR_RESPONSE_TYPE.BLOB,bmp:Bo.XHR_RESPONSE_TYPE.BLOB,jpg:Bo.XHR_RESPONSE_TYPE.BLOB,jpeg:Bo.XHR_RESPONSE_TYPE.BLOB,tif:Bo.XHR_RESPONSE_TYPE.BLOB,tiff:Bo.XHR_RESPONSE_TYPE.BLOB,webp:Bo.XHR_RESPONSE_TYPE.BLOB,tga:Bo.XHR_RESPONSE_TYPE.BLOB,json:Bo.XHR_RESPONSE_TYPE.JSON,text:Bo.XHR_RESPONSE_TYPE.TEXT,txt:Bo.XHR_RESPONSE_TYPE.TEXT,ttf:Bo.XHR_RESPONSE_TYPE.BUFFER,otf:Bo.XHR_RESPONSE_TYPE.BUFFER},Bo.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var jo=window.URL||window.webkitURL;var Go={caching:function(t,e){var i=this;Mo[t.url]?(t.data=Mo[t.url],t.complete()):t.onComplete.once(function(){return Mo[i.url]=i.data}),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Bo.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=jo.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Bo.TYPE.IMAGE,void(t.data.onload=function(){jo.revokeObjectURL(i),t.data.onload=null,e()})}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+function(t){for(var e="",i=0;i<t.length;){for(var r=[0,0,0],n=[0,0,0,0],o=0;o<r.length;++o)i<t.length?r[o]=255&t.charCodeAt(i++):r[o]=0;switch(n[0]=r[0]>>2,n[1]=(3&r[0])<<4|r[1]>>4,n[2]=(15&r[1])<<2|r[2]>>6,n[3]=63&r[2],i-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+=Xo.charAt(n[s])}return e}(t.xhr.responseText),t.type=Bo.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Ho=/(#[\w-]+)?$/,zo=function(){function t(e,i){var r=this;void 0===e&&(e=""),void 0===i&&(i=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=Co(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new Io,this.onError=new Io,this.onLoad=new Io,this.onStart=new Io,this.onComplete=new Io;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,i,r){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(r=e||t.callback||t.onComplete,i=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(r=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Bo(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var o=i.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var h=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<s.length;++u)s[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,i=So(t,{strictMode:!0});if(e=i.protocol||!i.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=Ho.exec(e)[0];-1!==(e=e.substr(0,e.length-r.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=r}return e},e._loadResource=function(t,e){var i=this;t._dequeue=e,Ao(this._beforeMiddleware,function(e,r){e.call(i,t,function(){r(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Ao(this._afterMiddleware,function(i,r){i.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},Ro(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();zo._defaultBeforeMiddleware=[],zo._defaultAfterMiddleware=[],zo.pre=function(t){return zo._defaultBeforeMiddleware.push(t),zo},zo.use=function(t){return zo._defaultAfterMiddleware.push(t),zo};var Vo=function(){};Vo.use=function(t,e){t.data&&t.type===Bo.TYPE.IMAGE&&(t.texture=yi.fromLoader(t.data,t.url,t.name)),e()};var Yo=function(t){function e(i,r){var n=this;t.call(this,i,r),m.call(this);for(var o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&this.pre(a),h&&this.use(h)}this.onStart.add(function(t){return n.emit("start",t)}),this.onProgress.add(function(t,e){return n.emit("progress",t,e)}),this.onError.add(function(t,e,i){return n.emit("error",t,e,i)}),this.onLoad.add(function(t,e){return n.emit("load",t,e)}),this.onComplete.add(function(t,e){return n.emit("complete",t,e)}),this._protected=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={shared:{configurable:!0}};return e.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},i.shared.get=function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},Object.defineProperties(e,i),e}(zo);Object.assign(Yo.prototype,m.prototype),Yo._plugins=[],Yo.registerPlugin=function(t){return Yo._plugins.push(t),t.add&&t.add(),Yo},Yo.registerPlugin({use:Go.parsing}),Yo.registerPlugin(Vo);var Wo=function(){};Wo.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Yo.shared:new Yo},Wo.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var qo=Bo,Zo=function(t){function e(e,i,r,n){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===n&&(n=!1),t.call(this);r>16384&&(r=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=yt.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(i),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={tint:{configurable:!0}};return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,Rt(t,this.tintRgb)},e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},Object.defineProperties(e.prototype,i),e}(Be),Ko=function(t,e,i){this.geometry=new Ci,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var n=t[r];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||Tt.FLOAT,offset:n.offset},e[r]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};Ko.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Ei(jt(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var r=this.dynamicProperties[i];r.offset=e,e+=r.size,this.dynamicStride+=r.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ei(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var a=this.staticProperties[s];a.offset=o,o+=a.size,this.staticStride+=a.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=new Ei(this.staticData,!0,!1);for(var u=0;u<this.dynamicProperties.length;++u){var l=this.dynamicProperties[u];t.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===Tt.UNSIGNED_BYTE,l.type,4*this.dynamicStride,4*l.offset)}for(var c=0;c<this.staticProperties.length;++c){var d=this.staticProperties[c];t.addAttribute(d.attributeName,this.staticBuffer,0,d.type===Tt.UNSIGNED_BYTE,d.type,4*this.staticStride,4*d.offset)}},Ko.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(t,e,i,n.type===Tt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},Ko.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(t,e,i,n.type===Tt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},Ko.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var Jo="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",Qo="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",$o=function(t){function e(e){t.call(this,e),this.shader=null,this.properties=null,this.tempMatrix=new ve,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Tt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=vr.from(Jo,Qo,{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>i&&!t.autoResize&&(o=i);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.state.setBlendMode(Bt(t.blendMode,a.premultiplyAlpha));var h=n.gl,u=t.worldTransform.copyTo(this.tempMatrix);u.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=Ut(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.premultiplyAlpha),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var l=!1,c=0,d=0;c<o;c+=r,d+=1){var p=o-c;p>r&&(p=r),d>=s.length&&s.push(this._generateOneMoreBuffer(t));var f=s[d];f.uploadDynamic(e,c,p);var v=t._bufferUpdateIDs[d]||0;(l=l||f._updateID<v)&&(f._updateID=t._updateID,f.uploadStatic(e,c,p)),n.geometry.bind(f.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,n=t._properties,o=0;o<i;o+=r)e.push(new Ko(this.properties,n,r));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,i=t._properties;return new Ko(this.properties,i,e)},e.prototype.uploadVertices=function(t,e,i,r,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<i;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,v=d.trim,g=d.orig;v?(s=(a=v.x-c.anchor.x*g.width)+v.width,h=(u=v.y-c.anchor.y*g.height)+v.height):(s=g.width*(1-c.anchor.x),a=g.width*-c.anchor.x,h=g.height*(1-c.anchor.y),u=g.height*-c.anchor.y),r[o]=a*p,r[o+1]=u*f,r[o+n]=s*p,r[o+n+1]=u*f,r[o+2*n]=s*p,r[o+2*n+1]=h*f,r[o+3*n]=a*p,r[o+3*n+1]=h*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].position;r[o]=a.x,r[o+1]=a.y,r[o+n]=a.x,r[o+n+1]=a.y,r[o+2*n]=a.x,r[o+2*n+1]=a.y,r[o+3*n]=a.x,r[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].rotation;r[o]=a,r[o+n]=a,r[o+2*n]=a,r[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s]._texture._uvs;a?(r[o]=a.x0,r[o+1]=a.y0,r[o+n]=a.x1,r[o+n+1]=a.y1,r[o+2*n]=a.x2,r[o+2*n+1]=a.y2,r[o+3*n]=a.x3,r[o+3*n+1]=a.y3,o+=4*n):(r[o]=0,r[o+1]=0,r[o+n]=0,r[o+n+1]=0,r[o+2*n]=0,r[o+2*n+1]=0,r[o+3*n]=0,r[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s],h=a._texture.baseTexture.premultiplyAlpha,u=a.alpha,l=u<1&&h?kt(a._tintRGB,u):a._tintRGB+(255*u<<24);r[o]=l,r[o+n]=l,r[o+2*n]=l,r[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Bi),ts=function(t,e,i){void 0===i&&(i=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(i||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},es={BATCH_SIZE:{configurable:!0}};es.BATCH_SIZE.get=function(){return 1e3},ts.prototype._updateResolution=function(t){var e=this.data.meta.scale,i=ne(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},ts.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=ts.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},ts.prototype._processFrames=function(t){for(var e=t,i=ts.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r=this._frameKeys[e],n=this._frames[r],o=n.frame;if(o){var s=null,a=null,h=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,u=new Pe(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s=n.rotated?new Pe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new Pe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(a=new Pe(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[r]=new yi(this.baseTexture,s,u,a,n.rotated?2:0,n.anchor),yi.addToCache(this.textures[r],r)}e++}},ts.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++){var r=t[e][i];this.animations[e].push(this.textures[r])}}},ts.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},ts.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*ts.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*ts.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},ts.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(ts,es);var is=function(){};is.use=function(t,e){var i=t.name+"_image";if(t.data&&t.type===qo.TYPE.JSON&&t.data.frames&&!this.resources[i]){var r={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},n=is.getResourcePath(t,this.baseUrl);this.add(i,n,r,function(i){if(i.error)e(i.error);else{var r=new ts(i.texture.baseTexture,t.data,t.url);r.parse(function(){t.spritesheet=r,t.textures=r.textures,e()})}})}else e()},is.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:vt.resolve(t.url.replace(e,""),t.data.meta.image)};var rs=new he,ns=function(t){function e(e,i,r){void 0===i&&(i=100),void 0===r&&(r=100),t.call(this,e),this.tileTransform=new Se,this._width=i,this._height=r,this._canvasPattern=null,this.uvMatrix=e.uvMatrix||new wr(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={clampMargin:{configurable:!0},tileScale:{configurable:!0},tilePosition:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return i.clampMargin.get=function(){return this.uvMatrix.clampMargin},i.clampMargin.set=function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},i.tileScale.get=function(){return this.tileTransform.scale},i.tileScale.set=function(t){this.tileTransform.scale.copyFrom(t)},i.tilePosition.get=function(){return this.tileTransform.position},i.tilePosition.set=function(t){this.tileTransform.position.copyFrom(t)},e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pe),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,rs);var e=this._width,i=this._height,r=-e*this.anchor._x;if(rs.x>=r&&rs.x<r+e){var n=-i*this.anchor._y;if(rs.y>=n&&rs.y<n+i)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,i,r){return new e(yi.from(t),i,r)},e.fromFrame=function(t,i,r){var n=Kt[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(n,i,r)},e.fromImage=function(t,i,r,n){return n&&"object"!=typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),new e(yi.from(t,n),i,r)},i.width.get=function(){return this._width},i.width.set=function(t){this._width=t},i.height.get=function(){return this._height},i.height.set=function(t){this._height=t},Object.defineProperties(e.prototype,i),e}(Wn),os="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",ss="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n",as="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",hs=new ve,us=function(t){function e(e){t.call(this,e);var i={globals:this.renderer.globalUniforms};this.shader=vr.from(os,ss,i),this.simpleShader=vr.from(os,as,i),this.quad=new Di}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.renderer,i=this.quad,r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=i.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),i.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,h=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==Et.CLAMP:o.wrapMode===Et.CLAMP&&(o.wrapMode=Et.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,d=t._width,p=t._height;hs.set(s.a*l/d,s.b*l/p,s.c*c/d,s.d*c/p,s.tx/d,s.ty/p),hs.invert(),h?hs.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=hs.toArray(!0),u.uniforms.uColor=Xt(t.tint,t.worldAlpha,u.uniforms.uColor,o.premultiplyAlpha),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(i),e.state.setBlendMode(Bt(t.blendMode,o.premultiplyAlpha)),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Bi),ls=function(t){function e(e,i){var r=this;void 0===i&&(i={}),t.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==i.tint?i.tint:16777215,align:i.align||"left",name:null,size:0},this.font=i.font,this._text=e,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new ue(function(){r.dirty=!0},this,0,0),this.dirty=!1,this.roundPixels=g.ROUND_PIXELS,this.updateText()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],i=this._font.size/t.size,r=new he,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,h=this._maxWidth*t.size/this._font.size,u=null,l=0,c=0,d=0,p=-1,f=0,v=0,g=0,m=0;m<a;m++){var y=s.charCodeAt(m),_=s.charAt(m);if(/(?:\s)/.test(_)&&(p=m,f=l),"\r"!==_&&"\n"!==_){var x=t.chars[y];x&&(u&&x.kerning[u]&&(r.x+=x.kerning[u]),n.push({texture:x.texture,line:d,charCode:y,position:new he(r.x+x.xOffset+this._letterSpacing/2,r.y+x.yOffset)}),r.x+=x.xAdvance+this._letterSpacing,l=r.x,g=Math.max(g,x.yOffset+x.texture.height),u=y,-1!==p&&h>0&&r.x>h&&(Gt(n,1+p-++v,1+m-p),m=p,p=-1,o.push(f),c=Math.max(c,f),d++,r.x=0,r.y+=t.lineHeight,u=null))}else o.push(l),c=Math.max(c,l),++d,++v,r.x=0,r.y+=t.lineHeight,u=null}var b=s.charAt(s.length-1);"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(l=f),o.push(l),c=Math.max(c,l));for(var T=[],w=0;w<=d;w++){var E=0;"right"===this._font.align?E=c-o[w]:"center"===this._font.align&&(E=(c-o[w])/2),T.push(E)}for(var S=n.length,I=this.tint,P=0;P<S;P++){var A=this._glyphs[P];A?A.texture=n[P].texture:((A=new Wn(n[P].texture)).roundPixels=this.roundPixels,this._glyphs.push(A)),A.position.x=(n[P].position.x+T[n[P].line])*i,A.position.y=n[P].position.y*i,A.scale.x=A.scale.y=i,A.tint=I,A.parent||this.addChild(A)}for(var O=S;O<this._glyphs.length;++O)this.removeChild(this._glyphs[O]);if(this._textWidth=c*i,this._textHeight=(r.y+t.lineHeight)*i,0!==this.anchor.x||0!==this.anchor.y)for(var C=0;C<S;C++)this._glyphs[C].x-=this._textWidth*this.anchor.x,this._glyphs[C].y-=this._textHeight*this.anchor.y;this._maxLineHeight=g*i},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.tint.get=function(){return this._font.tint},i.tint.set=function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0},i.align.get=function(){return this._font.align},i.align.set=function(t){this._font.align=t||"left",this.dirty=!0},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},i.font.get=function(){return this._font},i.font.set=function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)},i.text.get=function(){return this._text},i.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},i.maxWidth.get=function(){return this._maxWidth},i.maxWidth.set=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},i.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},i.textWidth.get=function(){return this.validate(),this._textWidth},i.letterSpacing.get=function(){return this._letterSpacing},i.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},i.textHeight.get=function(){return this.validate(),this._textHeight},e.registerFont=function(t,i){var r={},n=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("page"),a=ne(s[0].getAttribute("file"),g.RESOLUTION),h={};r.font=n.getAttribute("face"),r.size=parseInt(n.getAttribute("size"),10),r.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/a,r.chars={},i instanceof yi&&(i=[i]);for(var u=0;u<s.length;u++){var l=s[u].getAttribute("id"),c=s[u].getAttribute("file");h[l]=i instanceof Array?i[u]:i[c]}for(var d=t.getElementsByTagName("char"),p=0;p<d.length;p++){var f=d[p],v=parseInt(f.getAttribute("id"),10),m=f.getAttribute("page")||0,y=new Pe(parseInt(f.getAttribute("x"),10)/a+h[m].frame.x/a,parseInt(f.getAttribute("y"),10)/a+h[m].frame.y/a,parseInt(f.getAttribute("width"),10)/a,parseInt(f.getAttribute("height"),10)/a);r.chars[v]={xOffset:parseInt(f.getAttribute("xoffset"),10)/a,yOffset:parseInt(f.getAttribute("yoffset"),10)/a,xAdvance:parseInt(f.getAttribute("xadvance"),10)/a,kerning:{},texture:new yi(h[m].baseTexture,y),page:m}}for(var _=t.getElementsByTagName("kerning"),x=0;x<_.length;x++){var b=_[x],T=parseInt(b.getAttribute("first"),10)/a,w=parseInt(b.getAttribute("second"),10)/a,E=parseInt(b.getAttribute("amount"),10)/a;r.chars[w]&&(r.chars[w].kerning[T]=E)}return e.fonts[r.font]=r,r},Object.defineProperties(e.prototype,i),e}(Be);ls.fonts={};var cs=function(){};cs.parse=function(t,e){t.bitmapFont=ls.registerFont(t.data,e)},cs.add=function(){qo.setExtensionXhrType("fnt",qo.XHR_RESPONSE_TYPE.DOCUMENT)},cs.dirname=function(t){var e=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},cs.use=function(t,e){if(t.data&&t.type===qo.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var i=t.isDataUrl?"":cs.dirname(t.url);t.isDataUrl&&("."===i&&(i=""),this.baseUrl&&i&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/")),(i=i.replace(this.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/");for(var r=t.data.getElementsByTagName("page"),n={},o=function(i){n[i.metadata.pageFile]=i.texture,Object.keys(n).length===r.length&&(cs.parse(t,n),e())},s=0;s<r.length;++s){var a=r[s].getAttribute("file"),h=i+a,u=!1;for(var l in this.resources){var c=this.resources[l];if(c.url===h){c.metadata.pageFile=a,c.texture?o(c):c.onAfterMiddleware.add(o),u=!0;break}}if(!u){var d={crossOrigin:t.crossOrigin,loadType:qo.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},t.metadata.imageMetadata),parentResource:t};this.add(h,d,o)}}}else e();else e()};var ds="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",ps=function(t){function e(e){void 0===e&&(e=1),t.call(this,qr,ds,{uAlpha:1}),this.alpha=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={alpha:{configurable:!0}};return i.alpha.get=function(){return this.uniforms.uAlpha},i.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,i),e}(_r),fs="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n    \n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n    \n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n    \n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var vs={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},gs=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var ms=function(t){function e(e,i,r,n,o){var s=function(t,e){var i,r=Math.ceil(t/2),n=fs,o="";i=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=i.replace("%index%",s);o+=a=a.replace("%sampleIndex%",s-(r-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o=o||5,e),a=function(t){for(var e,i=vs[t],r=i.length,n=gs,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s);e=s,s>=r&&(e=t-s-1),o+=a=a.replace("%value%",i[e]),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o);t.call(this,s,a),this.horizontal=e,this.resolution=n||g.RESOLUTION,this._quality=0,this.quality=r||4,this.blur=i||8}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blur:{configurable:!0},quality:{configurable:!0}};return e.prototype.apply=function(t,e,i,r){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,!1);for(var h=1;h<this.passes-1;h++){o.renderTexture.bind(s,s.filterFrame),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,i,r),t.returnFilterTexture(n)}},i.blur.get=function(){return this.strength},i.blur.set=function(t){this.padding=1+2*Math.abs(t),this.strength=t},i.quality.get=function(){return this._quality},i.quality.set=function(t){this._quality=t,this.passes=t},Object.defineProperties(e.prototype,i),e}(_r),ys=function(t){function e(e,i,r,n){t.call(this),this.blurXFilter=new ms(!0,e,i,r,n),this.blurYFilter=new ms(!1,e,i,r,n),this.resolution=r||g.RESOLUTION,this.quality=i||4,this.blur=e||8,this.repeatEdgePixels=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blur:{configurable:!0},quality:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0},blendMode:{configurable:!0},repeatEdgePixels:{configurable:!0}};return e.prototype.apply=function(t,e,i,r){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,!0),this.blurYFilter.apply(t,s,i,r),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,i,r):this.blurXFilter.apply(t,e,i,r)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},i.blur.get=function(){return this.blurXFilter.blur},i.blur.set=function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},i.quality.get=function(){return this.blurXFilter.quality},i.quality.set=function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},i.blurX.get=function(){return this.blurXFilter.blur},i.blurX.set=function(t){this.blurXFilter.blur=t,this.updatePadding()},i.blurY.get=function(){return this.blurYFilter.blur},i.blurY.set=function(t){this.blurYFilter.blur=t,this.updatePadding()},i.blendMode.get=function(){return this.blurYFilter.blendMode},i.blendMode.set=function(t){this.blurYFilter.blendMode=t},i.repeatEdgePixels.get=function(){return this._repeatEdgePixels},i.repeatEdgePixels.set=function(t){this._repeatEdgePixels=t,this.updatePadding()},Object.defineProperties(e.prototype,i),e}(_r),_s="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",xs=function(t){function e(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};t.call(this,Zr,_s,e),this.alpha=1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={matrix:{configurable:!0},alpha:{configurable:!0}};return e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[i+(1-i)*n,n*(1-i)-o*r,n*(1-i)+o*r,0,0,n*(1-i)+o*r,i+n*(1-i),n*(1-i)-o*r,0,0,n*(1-i)-o*r,n*(1-i)+o*r,i+n*(1-i),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var i=(t||0)+1,r=-.5*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var i=2*t/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,i,r,n){var o=((i=i||16770432)>>16&255)/255,s=(i>>8&255)/255,a=(255&i)/255,h=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,l=(255&r)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i.matrix.get=function(){return this.uniforms.m},i.matrix.set=function(t){this.uniforms.m=t},i.alpha.get=function(){return this.uniforms.uAlpha},i.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,i),e}(_r);xs.prototype.grayscale=xs.prototype.greyscale;var bs="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",Ts="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",ws=function(t){function e(e,i){var r=new ve;e.renderable=!1,t.call(this,bs,Ts,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,null==i&&(i=20),this.scale=new he(i,i)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={map:{configurable:!0}};return e.prototype.apply=function(t,e,i,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.transform.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,i,r)},i.map.get=function(){return this.uniforms.mapSampler},i.map.set=function(t){this.uniforms.mapSampler=t},Object.defineProperties(e.prototype,i),e}(_r),Es="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",Ss='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',Is=function(t){function e(){t.call(this,Es,Ss)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(_r),Ps="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",As=function(t){function e(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random()),t.call(this,Zr,Ps,{uNoise:0,uSeed:0}),this.noise=e,this.seed=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={noise:{configurable:!0},seed:{configurable:!0}};return i.noise.get=function(){return this.uniforms.uNoise},i.noise.set=function(t){this.uniforms.uNoise=t},i.seed.get=function(){return this.uniforms.uSeed},i.seed.set=function(t){this.uniforms.uSeed=t},Object.defineProperties(e.prototype,i),e}(_r),Os=new ve;Le.prototype._cacheAsBitmap=!1,Le.prototype._cacheData=!1;var Cs=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(Le.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Cs),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Le.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Le.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds().clone();if(this.filters){var r=this.filters[0].padding;i.pad(r)}i.ceil(g.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame,s=t.projection.transform,a=xi.create(i.width,i.height),h="cacheAsBitmap_"+zt();this._cacheData.textureCacheId=h,ri.addToCache(a.baseTexture,h),yi.addToCache(a,h);var u=Os;u.tx=-i.x,u.ty=-i.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,a,!0,u,!0),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new Wn(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-i.x/i.width,l.anchor.y=-i.y/i.height,l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},Le.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Le.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),i=this.alpha;this.alpha=1;var r=t.context;e.ceil(g.RESOLUTION);var n=xi.create(e.width,e.height),o="cacheAsBitmap_"+zt();this._cacheData.textureCacheId=o,ri.addToCache(n.baseTexture,o),yi.addToCache(n,o);var s=Os;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,n,!0,s,!1),t.context=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var a=new Wn(n);a.transform.worldTransform=this.transform.worldTransform,a.anchor.x=-e.x/e.width,a.anchor.y=-e.y/e.height,a.alpha=i,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=a.containsPoint.bind(a)}},Le.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},Le.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},Le.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ri.removeFromCache(this._cacheData.textureCacheId),yi.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Le.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Le.prototype.name=null,Be.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},Le.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new he),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Ms="5.0.0";var Ds=function(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};Ds.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}};var Rs=new he,Fs=new De,Ls=function(t){function e(e,i,r,n){void 0===n&&(n=_t.TRIANGLES),t.call(this),this.geometry=e,e.refCount++,this.shader=i,this.state=r||mr.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=yt.NORMAL,this._roundPixels=g.ROUND_PIXELS,this.batchUvs=null}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return i.uvBuffer.get=function(){return this.geometry.buffers[1]},i.verticesBuffer.get=function(){return this.geometry.buffers[0]},i.material.set=function(t){this.shader=t},i.material.get=function(){return this.shader},i.blendMode.set=function(t){this.state.blendMode=t},i.blendMode.get=function(){return this.state.blendMode},i.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},i.roundPixels.get=function(){return this._roundPixels},i.tint.get=function(){return this.shader.tint},i.tint.set=function(t){this.shader.tint=t},i.texture.get=function(){return this.shader.texture},i.texture.set=function(t){this.shader.texture=t},e.prototype._render=function(t){var i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===_t.TRIANGLES&&i.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,r=i.a,n=i.b,o=i.c,s=i.d,a=i.tx,h=i.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=r*c+o*d+a,u[2*l+1]=n*c+s*d+h}if(this._roundPixels)for(var p=0;p<u.length;p++)u[p]=Math.round(u[p]);this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Ds(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Rs);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=Fs.points,r=this.geometry.getIndex().data,n=r.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*r[s],h=2*r[s+1],u=2*r[s+2];if(i[0]=e[a],i[1]=e[a+1],i[2]=e[h],i[3]=e[h+1],i[4]=e[u],i[5]=e[u+1],Fs.contains(Rs.x,Rs.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(e.prototype,i),e}(Be);Ls.BATCHABLE_SIZE=100;var Ns="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",Bs="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",Us=function(t){function e(e,i){var r={uSampler:e,alpha:1,uTextureMatrix:ve.IDENTITY,uColor:new Float32Array([1,1,1,1])};(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(r,i.uniforms),t.call(this,i.program||pr.from(Ns,Bs),r),this._colorDirty=!1,this.uvMatrix=new wr(e),this.batchable=void 0===i.program,this.pluginName=i.pluginName,this.tint=i.tint,this.alpha=i.alpha}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={texture:{configurable:!0},alpha:{configurable:!0},tint:{configurable:!0}};return i.texture.get=function(){return this.uniforms.uSampler},i.texture.set=function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},i.alpha.set=function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},i.alpha.get=function(){return this._alpha},i.tint.set=function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},i.tint.get=function(){return this._tint},e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;Xt(this._tint,this._alpha,this.uniforms.uColor,t.premultiplyAlpha)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},Object.defineProperties(e.prototype,i),e}(vr),ks=function(t){function e(e,i,r){t.call(this);var n=new Ei(e),o=new Ei(i,!0),s=new Ei(r,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,Tt.FLOAT).addAttribute("aTextureCoord",o,2,!1,Tt.FLOAT).addIndex(s),this._updateId=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={vertexDirtyId:{configurable:!0}};return i.vertexDirtyId.get=function(){return this.buffers[0]._updateID},Object.defineProperties(e.prototype,i),e}(Ci),Xs=function(t){function e(e,i,r,n){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===n&&(n=10),t.call(this),this.segWidth=r,this.segHeight=n,this.width=e,this.height=i,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],r=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),i.push(u/n,l/o)}for(var c=n*o,d=0;d<c;d++){var p=d%n,f=d/n|0,v=f*this.segWidth+p,g=f*this.segWidth+p+1,m=(f+1)*this.segWidth+p,y=(f+1)*this.segWidth+p+1;r.push(v,g,m,g,y,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(ks),js=function(t){function e(e,i){void 0===e&&(e=200),t.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1))),this.points=i,this.width=e,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var n=i.data,o=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=t.length,a=0;a<s;a++){var h=4*a,u=a/(s-1);n[h]=u,n[h+1]=0,n[h+2]=u,n[h+3]=1}for(var l=0,c=0;c<s-1;c++){var d=2*c;o[l++]=d,o[l++]=d+1,o[l++]=d+2,o[l++]=d+2,o[l++]=d+1,o[l++]=d+3}i.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,i=t[0],r=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-i.x),r=e.y-i.y;var l=Math.sqrt(r*r+n*n),c=this.width/2;r/=l,n/=l,r*=c,n*=c,o[u]=h.x+r,o[u+1]=h.y+n,o[u+2]=h.x-r,o[u+3]=h.y-n,i=h}this.buffers[0].update()}},e.prototype.update=function(){this.updateVertices()},e}(ks),Gs=function(t){function e(e,i){var r=new js(e.height,i),n=new Us(e);t.call(this,r,n),this.autoUpdate=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._render=function(e){(this.autoUpdate||this.geometry.width!==this.shader.texture.height)&&(this.geometry.width=this.shader.texture.height,this.geometry.update()),t.prototype._render.call(this,e)},e}(Ls),Hs=function(t){function e(e,i,r){var n=new Xs(e.width,e.height,i,r),o=new Us(yi.WHITE);t.call(this,n,o),this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={texture:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this.geometry.width=this.shader.texture.width,this.geometry.height=this.shader.texture.height,this.geometry.build()},i.texture.set=function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},i.texture.get=function(){return this.shader.texture},e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,i),e}(Ls),zs=function(t){function e(e,i,r,n,o){void 0===e&&(e=yi.EMPTY);var s=new ks(i,r,n);s.getBuffer("aVertexPosition").static=!1;var a=new Us(e);t.call(this,s,a,null,o),this.autoUpdate=!0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={vertices:{configurable:!0}};return i.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},i.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,i),e}(Ls),Vs=10,Ys=function(t){function e(e,i,r,n,o){t.call(this,yi.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=void 0!==i?i:Vs,this._rightWidth=void 0!==n?n:Vs,this._topHeight=void 0!==r?r:Vs,this._bottomHeight=void 0!==o?o:Vs,this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={vertices:{configurable:!0},width:{configurable:!0},height:{configurable:!0},leftWidth:{configurable:!0},rightWidth:{configurable:!0},topHeight:{configurable:!0},bottomHeight:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},i.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},i.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,i=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*i,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*i,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,i=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*i,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*i,t[6]=t[14]=t[22]=t[30]=this._width},i.width.get=function(){return this._width},i.width.set=function(t){this._width=t,this._refresh()},i.height.get=function(){return this._height},i.height.set=function(t){this._height=t,this._refresh()},i.leftWidth.get=function(){return this._leftWidth},i.leftWidth.set=function(t){this._leftWidth=t,this._refresh()},i.rightWidth.get=function(){return this._rightWidth},i.rightWidth.set=function(t){this._rightWidth=t,this._refresh()},i.topHeight.get=function(){return this._topHeight},i.topHeight.set=function(t){this._topHeight=t,this._refresh()},i.bottomHeight.get=function(){return this._bottomHeight},i.bottomHeight.set=function(t){this._bottomHeight=t,this._refresh()},e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Object.defineProperties(e.prototype,i),e}(Hs),Ws=function(t){function e(e,i){t.call(this,e[0]instanceof yi?e[0]:e[0].texture),this._textures=null,this._durations=null,this.textures=e,this._autoUpdate=!1!==i,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={totalFrames:{configurable:!0},textures:{configurable:!0},currentFrame:{configurable:!0}};return e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&Ve.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&Ve.shared.add(this.update,this,He.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var i=[],r=0;r<t.length;++r)i.push(yi.from(t[r]));return new e(i)},e.fromImages=function(t){for(var i=[],r=0;r<t.length;++r)i.push(yi.from(t[r]));return new e(i)},i.totalFrames.get=function(){return this._textures.length},i.textures.get=function(){return this._textures},i.textures.set=function(t){if(t[0]instanceof yi)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()},i.currentFrame.get=function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},Object.defineProperties(e.prototype,i),e}(Wn);Yr.registerPlugin("accessibility",ke),Yr.registerPlugin("extract",ln),Yr.registerPlugin("interaction",xn),Yr.registerPlugin("particle",$o),Yr.registerPlugin("prepare",go),Yr.registerPlugin("batch",hn),Yr.registerPlugin("tilingSprite",us),Yo.registerPlugin(cs),Yo.registerPlugin(is),To.registerPlugin(qe),To.registerPlugin(Wo);var qs={AlphaFilter:ps,BlurFilter:ys,BlurFilterPass:ms,ColorMatrixFilter:xs,DisplacementFilter:ws,FXAAFilter:Is,NoiseFilter:As};return t.AbstractBatchRenderer=tn,t.AbstractRenderer=Vr,t.AnimatedSprite=Ws,t.AppLoaderPlugin=Wo,t.Application=To,t.Attribute=Ti,t.BLEND_MODES=yt,t.BaseRenderTexture=vi,t.BaseTexture=ri,t.BatchDrawCall=Jr,t.BatchGeometry=rn,t.BatchPluginFactory=sn,t.BatchRenderer=hn,t.BatchShaderGenerator=en,t.BitmapFontLoader=cs,t.BitmapText=ls,t.Bounds=Fe,t.Buffer=Ei,t.Circle=Ce,t.Container=Be,t.CubeTexture=Kr,t.DEG_TO_RAD=pe,t.DRAW_MODES=_t,t.DisplayObject=Le,t.ENV=gt,t.Ellipse=Me,t.FORMATS=xt,t.FillStyle=wn,t.Filter=_r,t.Framebuffer=pi,t.GC_MODES=It,t.GLProgram=Mr,t.GLTexture=ri,t.GRAPHICS_CURVES=Tn,t.Geometry=Ci,t.Graphics=zn,t.GraphicsData=En,t.GraphicsGeometry=Nn,t.GroupD8=Ee,t.LineStyle=Bn,t.Loader=Yo,t.LoaderResource=qo,t.MIPMAP_MODES=St,t.Matrix=ve,t.Mesh=Ls,t.MeshBatchUvs=Ds,t.MeshGeometry=ks,t.MeshMaterial=Us,t.NineSlicePlane=Ys,t.ObjectRenderer=Bi,t.ObservablePoint=ue,t.PI_2=ce,t.PRECISION=Pt,t.ParticleContainer=Zo,t.ParticleRenderer=$o,t.PlaneGeometry=Xs,t.Point=he,t.Polygon=De,t.Program=pr,t.Quad=Mi,t.QuadUv=Di,t.RAD_TO_DEG=de,t.RENDERER_TYPE=mt,t.Rectangle=Pe,t.RenderTexture=xi,t.RenderTexturePool=bi,t.Renderer=Yr,t.RopeGeometry=js,t.RoundedRectangle=Re,t.Runner=je,t.SCALE_MODES=wt,t.SHAPES=fe,t.Shader=vr,t.SimpleMesh=zs,t.SimplePlane=Hs,t.SimpleRope=Gs,t.Sprite=Wn,t.SpriteMaskFilter=Sr,t.Spritesheet=ts,t.SpritesheetLoader=is,t.State=mr,t.System=ci,t.TARGETS=bt,t.TEXT_GRADIENT=qn,t.TYPES=Tt,t.Text=oo,t.TextMetrics=io,t.TextStyle=Jn,t.Texture=yi,t.TextureLoader=Vo,t.TextureMatrix=wr,t.TextureUvs=gi,t.Ticker=Ve,t.TickerPlugin=qe,t.TilingSprite=ns,t.TilingSpriteRenderer=us,t.Transform=Se,t.UPDATE_PRIORITY=He,t.UniformGroup=Fi,t.VERSION="5.1.2",t.ViewableBuffer=Qr,t.WRAP_MODES=Et,t.accessibility=Xe,t.autoDetectRenderer=Wr,t.checkMaxIfStatementsInShader=ur,t.defaultFilterVertex=Zr,t.defaultVertex=qr,t.extract=cn,t.filters=qs,t.interaction=bn,t.isMobile=v,t.prepare=bo,t.resources=li,t.settings=g,t.systems=Hr,t.useDeprecated=function(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return se(Ms,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return se(Ms,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return se(Ms,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return se(Ms,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return se(Ms,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return se(Ms,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return se(Ms,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return se(Ms,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return se(Ms,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return se(Ms,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return se(Ms,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return se(Ms,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),Object.defineProperties(t.utils,{getSvgSize:{get:function(){return se(Ms,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return se(Ms,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return se(Ms,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return se(Ms,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return se(Ms,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return se(Ms,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return se(Ms,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return se(Ms,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return se(Ms,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return se(Ms,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return se(Ms,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return se(Ms,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return se(Ms,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return se(Ms,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return se(Ms,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){return se(Ms,"PIXI.loaders.parseBitmapFontData function has moved to PIXI.BitmapFontLoader.parse"),t.BitmapFontLoader.parse}},spritesheetParser:{get:function(){return se(Ms,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return se(Ms,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return se(Ms,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})},Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return se(Ms,"PIXI.extract.WebGLExtract method has moved to PIXI.extract.Extract"),t.extract.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return se(Ms,"PIXI.prepare.WebGLPrepare class has moved to PIXI.prepare.Prepare"),t.prepare.Prepare}}),t.Container.prototype._renderWebGL=function(t){se(Ms,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){se(Ms,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){se(Ms,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){se(Ms,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return se(Ms,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){se(Ms,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=t.BaseTexture;e.prototype.loadSource=function(e){se(Ms,"PIXI.BaseTexture.loadSource method has been deprecated");var i=t.resources.autoDetectResource(e);i.internal=!0,this.setResource(i),this.update()},Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return se(Ms,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){return se(Ms,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&this.resource.url},set:function(t){se(Ms,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return se(Ms,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource&&this.resource.source},set:function(t){se(Ms,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}}}),e.fromImage=function(t,i,r,n){se(Ms,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:i};return e.from(t,{scaleMode:r,resourceOptions:o})},e.fromCanvas=function(t,i){return se(Ms,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(t,{scaleMode:i})},e.fromSVG=function(t,i,r,n){se(Ms,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:i};return e.from(t,{scaleMode:r,resourceOptions:o})},t.Point.prototype.copy=function(t){return se(Ms,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return se(Ms,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return se(Ms,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return se(Ms,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},t.systems.StateSystem.prototype.setState=function(t){return se("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return se(Ms,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(e)},returnRenderTarget:function(t){se(Ms,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){se(Ms,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),i=this.activeState,r=i.sourceFrame,n=i.destinationFrame;return e.translate(r.x/n.width,r.y/n.height),e.scale(n.width,n.height),e},calculateNormalizedScreenSpaceMatrix:function(t){se(Ms,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,i=e.sourceFrame,r=e.destinationFrame,n=t.identity();n.translate(i.x/r.width,i.y/r.height);var o=r.width/i.width,s=r.height/i.height;return n.scale(o,s),n}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return se(Ms,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return se(Ms,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(t){function e(e,i,r,n){se(Ms,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,i,r,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass),r=function(t){function e(e,i,r,n){se(Ms,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,i,r,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:i,BlurYFilter:r});var n=t.Sprite,o=t.Texture,s=t.Graphics;function a(t,e,i,r){return se(Ms,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),n.from(e,{resourceOptions:{scale:r,crossorigin:i}})}function h(t,e,i,r){return se(Ms,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),o.from(e,{resourceOptions:{scale:r,crossorigin:i}})}s.prototype.generateCanvasTexture||(s.prototype.generateCanvasTexture=function(){se(Ms,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(t.Graphics.prototype,"graphicsData",{get:function(){return se(Ms,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),n.fromImage=a.bind(null,"fromImage"),n.fromSVG=a.bind(null,"fromSVG"),n.fromCanvas=a.bind(null,"fromCanvas"),n.fromVideo=a.bind(null,"fromVideo"),n.fromFrame=a.bind(null,"fromFrame"),o.fromImage=h.bind(null,"fromImage"),o.fromSVG=h.bind(null,"fromSVG"),o.fromCanvas=h.bind(null,"fromCanvas"),o.fromVideo=h.bind(null,"fromVideo"),o.fromFrame=h.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return se(Ms,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){se(Ms,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){return se(Ms,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),t.utils.mixins={mixin:function(){se(Ms,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){se(Ms,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){se(Ms,"PIXI.utils.mixins.performMixins function is no longer available")}}},t.utils=ae,t}({});PIXI.useDeprecated();


/*
 * anime.js v3.1.0
 * (c) 2019 Julian Garnier
 * Released under the MIT license
 * animejs.com
 */

!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.anime=e()}(this,function(){"use strict";var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},e={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},r=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],t={CSS:{},springs:{}};function a(n,e,r){return Math.min(Math.max(n,e),r)}function o(n,e){return n.indexOf(e)>-1}function u(n,e){return n.apply(null,e)}var i={arr:function(n){return Array.isArray(n)},obj:function(n){return o(Object.prototype.toString.call(n),"Object")},pth:function(n){return i.obj(n)&&n.hasOwnProperty("totalLength")},svg:function(n){return n instanceof SVGElement},inp:function(n){return n instanceof HTMLInputElement},dom:function(n){return n.nodeType||i.svg(n)},str:function(n){return"string"==typeof n},fnc:function(n){return"function"==typeof n},und:function(n){return void 0===n},hex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},rgb:function(n){return/^rgb/.test(n)},hsl:function(n){return/^hsl/.test(n)},col:function(n){return i.hex(n)||i.rgb(n)||i.hsl(n)},key:function(r){return!n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&"targets"!==r&&"keyframes"!==r}};function c(n){var e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function s(n,e){var r=c(n),o=a(i.und(r[0])?1:r[0],.1,100),u=a(i.und(r[1])?100:r[1],.1,100),s=a(i.und(r[2])?10:r[2],.1,100),f=a(i.und(r[3])?0:r[3],.1,100),l=Math.sqrt(u/o),d=s/(2*Math.sqrt(u*o)),p=d<1?l*Math.sqrt(1-d*d):0,h=1,v=d<1?(d*l-f)/p:-f+l;function g(n){var r=e?e*n/1e3:n;return r=d<1?Math.exp(-r*d*l)*(h*Math.cos(p*r)+v*Math.sin(p*r)):(h+v*r)*Math.exp(-r*l),0===n||1===n?n:1-r}return e?g:function(){var e=t.springs[n];if(e)return e;for(var r=0,a=0;;)if(1===g(r+=1/6)){if(++a>=16)break}else a=0;var o=r*(1/6)*1e3;return t.springs[n]=o,o}}function f(n){return void 0===n&&(n=10),function(e){return Math.round(e*n)*(1/n)}}var l,d,p=function(){var n=11,e=1/(n-1);function r(n,e){return 1-3*e+3*n}function t(n,e){return 3*e-6*n}function a(n){return 3*n}function o(n,e,o){return((r(e,o)*n+t(e,o))*n+a(e))*n}function u(n,e,o){return 3*r(e,o)*n*n+2*t(e,o)*n+a(e)}return function(r,t,a,i){if(0<=r&&r<=1&&0<=a&&a<=1){var c=new Float32Array(n);if(r!==t||a!==i)for(var s=0;s<n;++s)c[s]=o(s*e,r,a);return function(n){return r===t&&a===i?n:0===n||1===n?n:o(f(n),t,i)}}function f(t){for(var i=0,s=1,f=n-1;s!==f&&c[s]<=t;++s)i+=e;var l=i+(t-c[--s])/(c[s+1]-c[s])*e,d=u(l,r,a);return d>=.001?function(n,e,r,t){for(var a=0;a<4;++a){var i=u(e,r,t);if(0===i)return e;e-=(o(e,r,t)-n)/i}return e}(t,l,r,a):0===d?l:function(n,e,r,t,a){for(var u,i,c=0;(u=o(i=e+(r-e)/2,t,a)-n)>0?r=i:e=i,Math.abs(u)>1e-7&&++c<10;);return i}(t,i,i+e,r,a)}}}(),h=(l={linear:function(){return function(n){return n}}},d={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var e,r=4;n<((e=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*e-2)/22-n,2)}},Elastic:function(n,e){void 0===n&&(n=1),void 0===e&&(e=.5);var r=a(n,1,10),t=a(e,.1,2);return function(n){return 0===n||1===n?n:-r*Math.pow(2,10*(n-1))*Math.sin((n-1-t/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/t)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(n,e){d[n]=function(){return function(n){return Math.pow(n,e+2)}}}),Object.keys(d).forEach(function(n){var e=d[n];l["easeIn"+n]=e,l["easeOut"+n]=function(n,r){return function(t){return 1-e(n,r)(1-t)}},l["easeInOut"+n]=function(n,r){return function(t){return t<.5?e(n,r)(2*t)/2:1-e(n,r)(-2*t+2)/2}}}),l);function v(n,e){if(i.fnc(n))return n;var r=n.split("(")[0],t=h[r],a=c(n);switch(r){case"spring":return s(n,e);case"cubicBezier":return u(p,a);case"steps":return u(f,a);default:return u(t,a)}}function g(n){try{return document.querySelectorAll(n)}catch(n){return}}function m(n,e){for(var r=n.length,t=arguments.length>=2?arguments[1]:void 0,a=[],o=0;o<r;o++)if(o in n){var u=n[o];e.call(t,u,o,n)&&a.push(u)}return a}function y(n){return n.reduce(function(n,e){return n.concat(i.arr(e)?y(e):e)},[])}function b(n){return i.arr(n)?n:(i.str(n)&&(n=g(n)||n),n instanceof NodeList||n instanceof HTMLCollection?[].slice.call(n):[n])}function M(n,e){return n.some(function(n){return n===e})}function x(n){var e={};for(var r in n)e[r]=n[r];return e}function w(n,e){var r=x(n);for(var t in n)r[t]=e.hasOwnProperty(t)?e[t]:n[t];return r}function k(n,e){var r=x(n);for(var t in e)r[t]=i.und(n[t])?e[t]:n[t];return r}function O(n){return i.rgb(n)?(r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=n))?"rgba("+r[1]+",1)":e:i.hex(n)?(t=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,e,r,t){return e+e+r+r+t+t}),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),"rgba("+parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+",1)"):i.hsl(n)?function(n){var e,r,t,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(n),o=parseInt(a[1],10)/360,u=parseInt(a[2],10)/100,i=parseInt(a[3],10)/100,c=a[4]||1;function s(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+6*(e-n)*r:r<.5?e:r<2/3?n+(e-n)*(2/3-r)*6:n}if(0==u)e=r=t=i;else{var f=i<.5?i*(1+u):i+u-i*u,l=2*i-f;e=s(l,f,o+1/3),r=s(l,f,o),t=s(l,f,o-1/3)}return"rgba("+255*e+","+255*r+","+255*t+","+c+")"}(n):void 0;var e,r,t,a}function C(n){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);if(e)return e[1]}function B(n,e){return i.fnc(n)?n(e.target,e.id,e.total):n}function P(n,e){return n.getAttribute(e)}function I(n,e,r){if(M([r,"deg","rad","turn"],C(e)))return e;var a=t.CSS[e+r];if(!i.und(a))return a;var o=document.createElement(n.tagName),u=n.parentNode&&n.parentNode!==document?n.parentNode:document.body;u.appendChild(o),o.style.position="absolute",o.style.width=100+r;var c=100/o.offsetWidth;u.removeChild(o);var s=c*parseFloat(e);return t.CSS[e+r]=s,s}function T(n,e,r){if(e in n.style){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=n.style[e]||getComputedStyle(n).getPropertyValue(t)||"0";return r?I(n,a,r):a}}function D(n,e){return i.dom(n)&&!i.inp(n)&&(P(n,e)||i.svg(n)&&n[e])?"attribute":i.dom(n)&&M(r,e)?"transform":i.dom(n)&&"transform"!==e&&T(n,e)?"css":null!=n[e]?"object":void 0}function E(n){if(i.dom(n)){for(var e,r=n.style.transform||"",t=/(\w+)\(([^)]*)\)/g,a=new Map;e=t.exec(r);)a.set(e[1],e[2]);return a}}function F(n,e,r,t){var a,u=o(e,"scale")?1:0+(o(a=e,"translate")||"perspective"===a?"px":o(a,"rotate")||o(a,"skew")?"deg":void 0),i=E(n).get(e)||u;return r&&(r.transforms.list.set(e,i),r.transforms.last=e),t?I(n,i,t):i}function N(n,e,r,t){switch(D(n,e)){case"transform":return F(n,e,t,r);case"css":return T(n,e,r);case"attribute":return P(n,e);default:return n[e]||0}}function A(n,e){var r=/^(\*=|\+=|-=)/.exec(n);if(!r)return n;var t=C(n)||0,a=parseFloat(e),o=parseFloat(n.replace(r[0],""));switch(r[0][0]){case"+":return a+o+t;case"-":return a-o+t;case"*":return a*o+t}}function L(n,e){if(i.col(n))return O(n);if(/\s/g.test(n))return n;var r=C(n),t=r?n.substr(0,n.length-r.length):n;return e?t+e:t}function j(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function S(n){for(var e,r=n.points,t=0,a=0;a<r.numberOfItems;a++){var o=r.getItem(a);a>0&&(t+=j(e,o)),e=o}return t}function q(n){if(n.getTotalLength)return n.getTotalLength();switch(n.tagName.toLowerCase()){case"circle":return o=n,2*Math.PI*P(o,"r");case"rect":return 2*P(a=n,"width")+2*P(a,"height");case"line":return j({x:P(t=n,"x1"),y:P(t,"y1")},{x:P(t,"x2"),y:P(t,"y2")});case"polyline":return S(n);case"polygon":return r=(e=n).points,S(e)+j(r.getItem(r.numberOfItems-1),r.getItem(0))}var e,r,t,a,o}function $(n,e){var r=e||{},t=r.el||function(n){for(var e=n.parentNode;i.svg(e)&&i.svg(e.parentNode);)e=e.parentNode;return e}(n),a=t.getBoundingClientRect(),o=P(t,"viewBox"),u=a.width,c=a.height,s=r.viewBox||(o?o.split(" "):[0,0,u,c]);return{el:t,viewBox:s,x:s[0]/1,y:s[1]/1,w:u/s[2],h:c/s[3]}}function X(n,e){function r(r){void 0===r&&(r=0);var t=e+r>=1?e+r:0;return n.el.getPointAtLength(t)}var t=$(n.el,n.svg),a=r(),o=r(-1),u=r(1);switch(n.property){case"x":return(a.x-t.x)*t.w;case"y":return(a.y-t.y)*t.h;case"angle":return 180*Math.atan2(u.y-o.y,u.x-o.x)/Math.PI}}function Y(n,e){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,t=L(i.pth(n)?n.totalLength:n,e)+"";return{original:t,numbers:t.match(r)?t.match(r).map(Number):[0],strings:i.str(n)||e?t.split(r):[]}}function Z(n){return m(n?y(i.arr(n)?n.map(b):b(n)):[],function(n,e,r){return r.indexOf(n)===e})}function Q(n){var e=Z(n);return e.map(function(n,r){return{target:n,id:r,total:e.length,transforms:{list:E(n)}}})}function V(n,e){var r=x(e);if(/^spring/.test(r.easing)&&(r.duration=s(r.easing)),i.arr(n)){var t=n.length;2===t&&!i.obj(n[0])?n={value:n}:i.fnc(e.duration)||(r.duration=e.duration/t)}var a=i.arr(n)?n:[n];return a.map(function(n,r){var t=i.obj(n)&&!i.pth(n)?n:{value:n};return i.und(t.delay)&&(t.delay=r?0:e.delay),i.und(t.endDelay)&&(t.endDelay=r===a.length-1?e.endDelay:0),t}).map(function(n){return k(n,r)})}function z(n,e){var r=[],t=e.keyframes;for(var a in t&&(e=k(function(n){for(var e=m(y(n.map(function(n){return Object.keys(n)})),function(n){return i.key(n)}).reduce(function(n,e){return n.indexOf(e)<0&&n.push(e),n},[]),r={},t=function(t){var a=e[t];r[a]=n.map(function(n){var e={};for(var r in n)i.key(r)?r==a&&(e.value=n[r]):e[r]=n[r];return e})},a=0;a<e.length;a++)t(a);return r}(t),e)),e)i.key(a)&&r.push({name:a,tweens:V(e[a],n)});return r}function H(n,e){var r;return n.tweens.map(function(t){var a=function(n,e){var r={};for(var t in n){var a=B(n[t],e);i.arr(a)&&1===(a=a.map(function(n){return B(n,e)})).length&&(a=a[0]),r[t]=a}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(t,e),o=a.value,u=i.arr(o)?o[1]:o,c=C(u),s=N(e.target,n.name,c,e),f=r?r.to.original:s,l=i.arr(o)?o[0]:f,d=C(l)||C(s),p=c||d;return i.und(u)&&(u=f),a.from=Y(l,p),a.to=Y(A(u,l),p),a.start=r?r.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=v(a.easing,a.duration),a.isPath=i.pth(o),a.isColor=i.col(a.from.original),a.isColor&&(a.round=1),r=a,a})}var G={css:function(n,e,r){return n.style[e]=r},attribute:function(n,e,r){return n.setAttribute(e,r)},object:function(n,e,r){return n[e]=r},transform:function(n,e,r,t,a){if(t.list.set(e,r),e===t.last||a){var o="";t.list.forEach(function(n,e){o+=e+"("+n+") "}),n.style.transform=o}}};function R(n,e){Q(n).forEach(function(n){for(var r in e){var t=B(e[r],n),a=n.target,o=C(t),u=N(a,r,o,n),i=A(L(t,o||C(u)),u),c=D(a,r);G[c](a,r,i,n.transforms,!0)}})}function W(n,e){return m(y(n.map(function(n){return e.map(function(e){return function(n,e){var r=D(n.target,e.name);if(r){var t=H(e,n),a=t[t.length-1];return{type:r,property:e.name,animatable:n,tweens:t,duration:a.end,delay:t[0].delay,endDelay:a.endDelay}}}(n,e)})})),function(n){return!i.und(n)})}function J(n,e){var r=n.length,t=function(n){return n.timelineOffset?n.timelineOffset:0},a={};return a.duration=r?Math.max.apply(Math,n.map(function(n){return t(n)+n.duration})):e.duration,a.delay=r?Math.min.apply(Math,n.map(function(n){return t(n)+n.delay})):e.delay,a.endDelay=r?a.duration-Math.max.apply(Math,n.map(function(n){return t(n)+n.duration-n.endDelay})):e.endDelay,a}var K=0;var U,_=[],nn=[],en=function(){function n(){U=requestAnimationFrame(e)}function e(e){var r=_.length;if(r){for(var t=0;t<r;){var a=_[t];if(a.paused){var o=_.indexOf(a);o>-1&&(_.splice(o,1),r=_.length)}else a.tick(e);t++}n()}else U=cancelAnimationFrame(U)}return n}();function rn(r){void 0===r&&(r={});var t,o=0,u=0,i=0,c=0,s=null;function f(n){var e=window.Promise&&new Promise(function(n){return s=n});return n.finished=e,e}var l,d,p,h,v,g,y,b,M=(d=w(n,l=r),p=w(e,l),h=z(p,l),v=Q(l.targets),g=W(v,h),y=J(g,p),b=K,K++,k(d,{id:b,children:[],animatables:v,animations:g,duration:y.duration,delay:y.delay,endDelay:y.endDelay}));f(M);function x(){var n=M.direction;"alternate"!==n&&(M.direction="normal"!==n?"normal":"reverse"),M.reversed=!M.reversed,t.forEach(function(n){return n.reversed=M.reversed})}function O(n){return M.reversed?M.duration-n:n}function C(){o=0,u=O(M.currentTime)*(1/rn.speed)}function B(n,e){e&&e.seek(n-e.timelineOffset)}function P(n){for(var e=0,r=M.animations,t=r.length;e<t;){var o=r[e],u=o.animatable,i=o.tweens,c=i.length-1,s=i[c];c&&(s=m(i,function(e){return n<e.end})[0]||s);for(var f=a(n-s.start-s.delay,0,s.duration)/s.duration,l=isNaN(f)?1:s.easing(f),d=s.to.strings,p=s.round,h=[],v=s.to.numbers.length,g=void 0,y=0;y<v;y++){var b=void 0,x=s.to.numbers[y],w=s.from.numbers[y]||0;b=s.isPath?X(s.value,l*x):w+l*(x-w),p&&(s.isColor&&y>2||(b=Math.round(b*p)/p)),h.push(b)}var k=d.length;if(k){g=d[0];for(var O=0;O<k;O++){d[O];var C=d[O+1],B=h[O];isNaN(B)||(g+=C?B+C:B+" ")}}else g=h[0];G[o.type](u.target,o.property,g,u.transforms),o.currentValue=g,e++}}function I(n){M[n]&&!M.passThrough&&M[n](M)}function T(n){var e=M.duration,r=M.delay,l=e-M.endDelay,d=O(n);M.progress=a(d/e*100,0,100),M.reversePlayback=d<M.currentTime,t&&function(n){if(M.reversePlayback)for(var e=c;e--;)B(n,t[e]);else for(var r=0;r<c;r++)B(n,t[r])}(d),!M.began&&M.currentTime>0&&(M.began=!0,I("begin")),!M.loopBegan&&M.currentTime>0&&(M.loopBegan=!0,I("loopBegin")),d<=r&&0!==M.currentTime&&P(0),(d>=l&&M.currentTime!==e||!e)&&P(e),d>r&&d<l?(M.changeBegan||(M.changeBegan=!0,M.changeCompleted=!1,I("changeBegin")),I("change"),P(d)):M.changeBegan&&(M.changeCompleted=!0,M.changeBegan=!1,I("changeComplete")),M.currentTime=a(d,0,e),M.began&&I("update"),n>=e&&(u=0,M.remaining&&!0!==M.remaining&&M.remaining--,M.remaining?(o=i,I("loopComplete"),M.loopBegan=!1,"alternate"===M.direction&&x()):(M.paused=!0,M.completed||(M.completed=!0,I("loopComplete"),I("complete"),!M.passThrough&&"Promise"in window&&(s(),f(M)))))}return M.reset=function(){var n=M.direction;M.passThrough=!1,M.currentTime=0,M.progress=0,M.paused=!0,M.began=!1,M.loopBegan=!1,M.changeBegan=!1,M.completed=!1,M.changeCompleted=!1,M.reversePlayback=!1,M.reversed="reverse"===n,M.remaining=M.loop,t=M.children;for(var e=c=t.length;e--;)M.children[e].reset();(M.reversed&&!0!==M.loop||"alternate"===n&&1===M.loop)&&M.remaining++,P(M.reversed?M.duration:0)},M.set=function(n,e){return R(n,e),M},M.tick=function(n){i=n,o||(o=i),T((i+(u-o))*rn.speed)},M.seek=function(n){T(O(n))},M.pause=function(){M.paused=!0,C()},M.play=function(){M.paused&&(M.completed&&M.reset(),M.paused=!1,_.push(M),C(),U||en())},M.reverse=function(){x(),C()},M.restart=function(){M.reset(),M.play()},M.reset(),M.autoplay&&M.play(),M}function tn(n,e){for(var r=e.length;r--;)M(n,e[r].animatable.target)&&e.splice(r,1)}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){document.hidden?(_.forEach(function(n){return n.pause()}),nn=_.slice(0),rn.running=_=[]):nn.forEach(function(n){return n.play()})}),rn.version="3.1.0",rn.speed=1,rn.running=_,rn.remove=function(n){for(var e=Z(n),r=_.length;r--;){var t=_[r],a=t.animations,o=t.children;tn(e,a);for(var u=o.length;u--;){var i=o[u],c=i.animations;tn(e,c),c.length||i.children.length||o.splice(u,1)}a.length||o.length||t.pause()}},rn.get=N,rn.set=R,rn.convertPx=I,rn.path=function(n,e){var r=i.str(n)?g(n)[0]:n,t=e||100;return function(n){return{property:n,el:r,svg:$(r),totalLength:q(r)*(t/100)}}},rn.setDashoffset=function(n){var e=q(n);return n.setAttribute("stroke-dasharray",e),e},rn.stagger=function(n,e){void 0===e&&(e={});var r=e.direction||"normal",t=e.easing?v(e.easing):null,a=e.grid,o=e.axis,u=e.from||0,c="first"===u,s="center"===u,f="last"===u,l=i.arr(n),d=l?parseFloat(n[0]):parseFloat(n),p=l?parseFloat(n[1]):0,h=C(l?n[1]:n)||0,g=e.start||0+(l?d:0),m=[],y=0;return function(n,e,i){if(c&&(u=0),s&&(u=(i-1)/2),f&&(u=i-1),!m.length){for(var v=0;v<i;v++){if(a){var b=s?(a[0]-1)/2:u%a[0],M=s?(a[1]-1)/2:Math.floor(u/a[0]),x=b-v%a[0],w=M-Math.floor(v/a[0]),k=Math.sqrt(x*x+w*w);"x"===o&&(k=-x),"y"===o&&(k=-w),m.push(k)}else m.push(Math.abs(u-v));y=Math.max.apply(Math,m)}t&&(m=m.map(function(n){return t(n/y)*y})),"reverse"===r&&(m=m.map(function(n){return o?n<0?-1*n:-n:Math.abs(y-n)}))}return g+(l?(p-d)/y:d)*(Math.round(100*m[e])/100)+h}},rn.timeline=function(n){void 0===n&&(n={});var r=rn(n);return r.duration=0,r.add=function(t,a){var o=_.indexOf(r),u=r.children;function c(n){n.passThrough=!0}o>-1&&_.splice(o,1);for(var s=0;s<u.length;s++)c(u[s]);var f=k(t,w(e,n));f.targets=f.targets||n.targets;var l=r.duration;f.autoplay=!1,f.direction=r.direction,f.timelineOffset=i.und(a)?l:A(a,l),c(r),r.seek(f.timelineOffset);var d=rn(f);c(d),u.push(d);var p=J(u,n);return r.delay=p.delay,r.endDelay=p.endDelay,r.duration=p.duration,r.seek(0),r.reset(),r.autoplay&&r.play(),r},r},rn.easing=v,rn.penner=h,rn.random=function(n,e){return Math.floor(Math.random()*(e-n+1))+n},rn});
/**
 * Represents a Slot Machine game.
 * @constructor
 * @param {Object} params - The parameters required to create a game, such as resources, settings, etc.
 * @param {number} gameWidth - The width of the game.
 * @param {number} gameHeight - The height of the game.
 * @example
 * let game = new Slot({
 *  container: '.game-container',
 * }, 100, 100);
 */
var Slot = function(params, gameWidth, gameHeight) {
    this.VERSION = '0.1';
    this.engine = new Slot.Game(gameWidth, gameHeight);
    this.engine.game = this;
    this.reels = new Slot.ReelsController(this);
    this.texts = new Slot.TextController(this);
    this.events = {
        start: [],
        stop: [],
    };
    this.settings = {
        speed: 0.2,
        spinTime: 450000,
        spinTimeBetweenReels: 12000,
        reelBounceDuration: 3000,
        network: false,
    };
    this.waitForResult = false;
    this.forceStopPending = false;

    this.reels.onStart(function() {
        if (this.settings.network) {
            this.waitForResult = true;
        }
        this.events.start.forEach(function(fn) {
            fn();
        });
    }.bind(this));

    this.reels.onStop(function() {
        this.events.stop.forEach(function(fn) {
            fn();
        });
    }.bind(this));

    params = params || {};
    if (params.container) {
        var containerEl = document.querySelector(params.container);
        if (containerEl) {
            containerEl.appendChild(this.engine.renderer.view);
        } else {
            console.error("Invalid container");
        }
    } else {
        document.body.appendChild(this.engine.renderer.view);
    }

    function onResize() {
        var ratio = gameWidth / gameHeight;
        var view = this.engine.renderer.view;
        var width = view.parentNode.offsetWidth;
        var height = width / ratio;
        if (height > view.parentNode.offsetHeight) {
            height = view.parentNode.offsetHeight;
            width = ratio * height;
        }
        this.engine.renderer.resize(width, height);
    }
    onResize.bind(this)();
    window.addEventListener('resize', onResize.bind(this));

    var _this = this;

    if ('resources' in params) {
        params.resources.forEach(function(resource) {
            if (resource.length) {
                PIXI.Loader.shared.add(resource[0], resource[1]);
            } else {
                PIXI.Loader.shared.add(resource.key, resource.value);
            }
        });
    }

    if ('init' in params) {
        PIXI.Loader.shared.load(function() {
            params.init.bind(_this)(_this);
        });
    }

    if ('settings' in params) {
        for (var key in params.settings) {
            this.settings[key] = params.settings[key];
        }
        this.reels.spinTime = this.settings.spinTime;
        this.reels.spinTimeBetweenReels = this.settings.spinTimeBetweenReels;
    }
};

/**
 * This is the load resources method used to add resources to the game.
 * @param {Array} config - Array with resources key and source path.
 * @param {function} onComplete - Complete method which runs after loading is finished.
 */
Slot.prototype.load = function(config, onComplete) {
    config.forEach(function(resource) {
        if (resource.length) {
            PIXI.Loader.shared.add(resource[0], resource[1]);
        } else {
            PIXI.Loader.shared.add(resource.key, resource.value);
        }
    });
    PIXI.Loader.shared.load(onComplete);
};
/**
 * The main play method used to start or stop the reels.
 */
Slot.prototype.play = function() {
    if (!this.waitForResult) {
        if (!this.reels.rolling) {
            this.reels.start();
        } else {
            this.reels.stop();
        }
    }
    if (this.reels.rolling) {
        this.forceStopPending = true;
    }
};
/**
 * The result method is used to set a result and stop the reels.
 * @param {Array} result - The array containing the result for each reel.
 */
Slot.prototype.result = function(result) {
    this.reels.reels.forEach(function(reel, reelIndex) {
        reel.stopValues = result[reelIndex];
    });
    if (this.forceStopPending) {
        this.reels.stop();
        this.forceStopPending = false;
    }
    this.waitForResult = false;
};
/**
 * The method to attach event handlers on game.
 * @param {string} eventName - The name of the event.
 * @param {function} fn - The event callback.
 */
Slot.prototype.on = function(eventName, fn) {
    if (eventName in this.events) {
        this.events[eventName].push(fn);
    }
};
/**
 * The method to add a sprite in the game.
 * @param {string} resourceKey - The name of the resource, which must have been set on loading's configuration.
 */
Slot.prototype.sprite = function(resourceKey) {
    var sprite = new Slot.Sprite(resourceKey, this.engine);
    return sprite;
};
/**
 * Describes game actions. Can be attached to sprites.
 * @example
 * let buttonPlay = game.sprite('btn-play');
 * buttonPlay.action = Slot.ACTION.PLAY;
 */
Slot.ACTION = {
    NO_ACTION: 0,
    PLAY: 1,
};
Slot.Game = function(width, height) {
  this.width = width;
  this.height = height;
  PIXI.utils.skipHello();
  this.renderer = new PIXI.autoDetectRenderer({
    width: 800,
    height: 600,
    transparent: false,
  });
  this.stage = new PIXI.Container();

  var _this = this;

  PIXI.Ticker.shared.add(function() {
    _this.renderer.render(_this.stage);
  }, PIXI.UPDATE_PRIORITY.NORMAL);
};
Slot.ReelsController = function(game) {
    this.reels = [];
    this.engine = game.engine;
    this.game = game;
    this.x = 0;
    this.y = 0;
    this.events = {
        onStart: [],
        onStop: [],
    };
    this.rolling = false;

    var _this = this;

    function resizeAndPosition() {
        _this.reels.forEach(function(reel, reelIndex) {
            reel.container.x = (reel.x * game.engine.renderer.view.width) / game.engine.width;
            reel.container.y = (reel.y * game.engine.renderer.view.height) / game.engine.height;
            reel.symbols.forEach(function(symbol) {
                symbol.scale.x = game.engine.renderer.view.width / game.engine.width;
                symbol.scale.y = game.engine.renderer.view.height / game.engine.height;
            });
        });
    }
    resizeAndPosition();

    var rollingTime = 0;

    PIXI.Ticker.shared.add(function(delta) {
        var active = false;
        _this.reels.forEach(function(reel, reelIndex) {
            resizeAndPosition();

            reel.render(game.settings.speed, game.settings.reelBounceDuration, reelIndex);

            for (var i = 0; i < reel.symbols.length; i++) {
                var symbol = reel.symbols[i];
                symbol.y = (symbol.height * (i - 1)) + (0 + reel.offset);
                if (reel.values[i]) {
                    if ('symbol-' + reel.values[i] in PIXI.Loader.shared.resources) {
                        symbol.texture = PIXI.Loader.shared.resources['symbol-' + reel.values[i]].texture;
                    } else {
                        symbol.texture = PIXI.Texture.EMPTY;
                    }
                } else {
                    symbol.texture = PIXI.Texture.EMPTY;
                }
            }

            var m = reel.mask;
            m.x = reel.container.x;
            m.y = reel.container.y;
            m.clear();
            m.beginFill(0x000000);
            m.drawRect(0, 0, reel.symbols[0].width, reel.symbols[0].height * reel.positions);
            m.endFill();

            var pl1 = reel.playLine1;
            pl1.x = reel.container.x;
            pl1.y = reel.container.y;
            var borderWidth = 3;
            var borderColor = 0xFFFFF;
            pl1.clear();
            pl1.lineStyle(borderWidth, borderColor);
            pl1.drawRect(0, reel.symbols[0].height, reel.symbols[0].width, reel.symbols[1].height);

            active = reel.rolling == true || !isNaN(parseInt(reel.stopping));

            if (active) {
                var reelStopTime = game.settings.spinTime + (reelIndex * game.settings.spinTimeBetweenReels);
                if (rollingTime > reelStopTime) {
                    reel.stop(); // FIXME: don't call stop multiple times ... timee calc here on base 
                }
            }
        });

        if (!_this.rolling && active) {
            _this.rolling = true;
            _this.events.onStart.forEach(function(fn) {
                fn();
            });
        } else if (_this.rolling && !active) {
            _this.rolling = false;
            rollingTime = 0;
            _this.events.onStop.forEach(function(fn) {
                fn();
            });
        }

        if (active && !game.waitForResult) {
            rollingTime += delta * 16.667;
        }
    }, PIXI.UPDATE_PRIORITY.HIGH);
};

Slot.ReelsController.prototype.add = function(positions, symbolCount, symbolWidth, symbolHeight) {
    // const baseStyle = new PIXI.TextStyle({
    //     fontFamily: 'Arial',
    //     fontSize: 32,
    //     fontStyle: 'italic',
    //     fontWeight: 'bold',
    //     fill: ['#ffffff', '#00ff99'], // gradient
    //     stroke: '#4a1850',
    //     strokeThickness: 5,
    //     dropShadow: true,
    //     dropShadowColor: '#FFD700',
    //     dropShadowBlur: 4,
    //     dropShadowAngle: Math.PI / 3,
    //     dropShadowDistance: 6,
    //     wordWrap: true,
    //     wordWrapWidth: 440,
    //     lineJoin: 'round',
    // });

    // const labelStyle = Object.assign({}, baseStyle, { dropShadowColor: "#FFD700" });
    // const valueStyle = Object.assign({}, baseStyle, { dropShadowColor: "#C4B454" });

    // const balLabel = new PIXI.Text('Balance :', labelStyle);
    // balLabel.x = 150;
    // balLabel.y = 150;

    // const balance = new PIXI.Text('R 999.99', valueStyle);
    // balance.x = 320;
    // balance.y = 150;

    // const betLabel = new PIXI.Text('Bet :', labelStyle);
    // betLabel.x = 150;
    // betLabel.y = 200;

    // const betValue = new PIXI.Text('R 1.00', valueStyle);
    // betValue.x = 320;
    // betValue.y = 200;

    var reel = new Slot.Reel(positions, symbolCount, symbolWidth, symbolHeight);
    this.engine.stage.addChild(reel.container);
    this.engine.stage.addChild(reel.mask);
    this.engine.stage.addChild(reel.playLine1);
    // this.engine.stage.addChild(balLabel); // multiple add, resizing
    // this.engine.stage.addChild(balance);
    // this.engine.stage.addChild(betLabel);
    // this.engine.stage.addChild(betValue);
    this.reels.push(reel);
    return reel;
};

Slot.ReelsController.prototype.get = function(index) {
    return this.reels[index];
};

Slot.ReelsController.prototype.start = function() {
    this.reels.forEach(function(reel) {
        reel.roll();
    });
};

Slot.ReelsController.prototype.stop = function() {
    this.reels.forEach(function(reel) {
        reel.stop();
    });
};

Slot.ReelsController.prototype.onStart = function(fn) {
    this.events.onStart.push(fn);
};

Slot.ReelsController.prototype.onStop = function(fn) {
    this.events.onStop.push(fn);
};
Slot.TextController = function(game) {
    this.texts = [];
    this.engine = game.engine;
    this.game = game;
    this.x = 0;
    this.y = 0;

    var _this = this;

    function resizeAndPositionText() {
        _this.texts.forEach(function(text, textIndex) {
            text.container.x = (text.x * game.engine.renderer.view.width) / game.engine.width;
            text.container.y = (text.y * game.engine.renderer.view.height) / game.engine.height;
            text.symbols.forEach(function(symbol) {
                symbol.scale.x = game.engine.renderer.view.width / game.engine.width;
                symbol.scale.y = game.engine.renderer.view.height / game.engine.height;
            });
        });
    }
    resizeAndPositionText();

    _this.texts.forEach(function(text, textIndex) {
        resizeAndPositionText();
        text.render(textIndex);
    });
};

Slot.TextController.prototype.add = function(x, y, labelText, valueText) {
    const baseStyle = new PIXI.TextStyle({
        fontFamily: 'Arial',
        fontSize: 32,
        fontStyle: 'italic',
        fontWeight: 'bold',
        fill: ['#ffffff', '#00ff99'], // gradient
        stroke: '#4a1850',
        strokeThickness: 5,
        dropShadow: true,
        dropShadowColor: '#FFD700',
        dropShadowBlur: 4,
        dropShadowAngle: Math.PI / 3,
        dropShadowDistance: 6,
        wordWrap: true,
        wordWrapWidth: 440,
        lineJoin: 'round',
    });

    const labelStyle = Object.assign({}, baseStyle, { dropShadowColor: "#FFD700" });
    const valueStyle = Object.assign({}, baseStyle, { dropShadowColor: "#C4B454" });

    const balLabel = new PIXI.Text(labelText, labelStyle);
    balLabel.x = x;
    balLabel.y = y;

    const balance = new PIXI.Text(valueText, valueStyle);
    balance.x = x + 170;
    balance.y = y;

    // const betLabel = new PIXI.Text('Bet :', labelStyle);
    // betLabel.x = 150;
    // betLabel.y = 200;

    // const betValue = new PIXI.Text('R 1.00', valueStyle);
    // betValue.x = 320;
    // betValue.y = 200;

    var text = new Slot.Text();
    this.engine.stage.addChild(balLabel);
    this.engine.stage.addChild(balance);
    // this.engine.stage.addChild(betLabel);
    // this.engine.stage.addChild(betValue);
    this.texts.push(text);
    return text;
};
/**
 * Represents a reel in the game.
 * @constructor
 * @param {number} positions - Number of reel positions.
 */
Slot.Reel = function(positions) {
    this.positions = positions;
    this.values = [];
    this.spinValues = [];
    this.stopValues = [];
    this.symbols = [];
    this.container = new PIXI.Container();
    this.mask = new PIXI.Graphics();
    this.playLine1 = new PIXI.Graphics();
    this.offset = 0;
    this.rolling = false;
    this.stopping = false;

    this.container.mask = this.mask;
    this.container.playLine1 = this.playLine1;

    for (var i = 0; i < positions + 1; i++) {
        var symbol = new PIXI.Sprite(PIXI.Texture.EMPTY);
        this.container.addChild(symbol);
        this.symbols.push(symbol);
    }
};

Slot.Reel.prototype.render = function(speed, bounceDuration, reelIndex) {
    var _this = this;

    if (this.rolling) {
        this.offset += this.symbols[0].height * speed;

        if (this.offset >= this.symbols[0].height) {
            this.offset = 0;
            if (!isNaN(parseInt(this.stopping))) {
                if (!this.stopValues.length) {
                    console.error('No stop values have been set for reel: ' + reelIndex);
                }
                this.values.unshift(this.stopValues.pop());
                this.stopping++;
            } else {
                this.values.unshift(this.spinValues.pop());
            }
            this.values.splice(-1, 1);
        }

        if (this.stopping == this.positions + 1) {
            this.rolling = false;
            this.stopping++;
            var o = {
                offset: _this.symbols[0].height * speed,
            };
            this.offset = o.offset;
            anime({
                targets: o,
                offset: 0,
                round: 1,
                duration: bounceDuration,
                easing: 'easeOutQuint',
                update: function() {
                    _this.offset = o.offset;
                },
                complete: function() {
                    _this.stopping = false;
                },
            });
        }
    }
};
/**
 * Starts reel spinning.
 */
Slot.Reel.prototype.roll = function() {
    if (!this.rolling && this.stopping === false) {
        this.rolling = true;
    }
};
/**
 * Stops reel from spinning.
 */
Slot.Reel.prototype.stop = function() {
    if (this.rolling && this.stopping === false) {
        this.stopping = 0;
    }
};

// Slot.Reel.prototype.rectangle = function(x, y, width, height, backgroundColor, borderColor, borderWidth ) 
// {  var box = new PIXI.Graphics(); 
//   box.beginFill(backgroundColor);
//    box.lineStyle(borderWidth , borderColor);
//     box.drawRect(0, 0, width - borderWidth, height - borderWidth); box.endFill(); box.position.x = x + borderWidth/2; box.position.y = y + borderWidth/2; 
//     return box;
//   };// create a 100x100 white rectangle with a 10px black border at position 10/10stage.addChild(rectangle(10, 10, 100, 100, 0xFFFFFF, 0x000000, 10));
/**
 * Represents a reel in the game.
 * @constructor
 * @param {number} positions - Number of reel positions.
 */

Slot.Text = function() {
    // this.positions = positions;
    this.values = [];
    this.symbols = [];
    this.container = new PIXI.Container();

    const baseStyle = new PIXI.TextStyle({
        fontFamily: 'Arial',
        fontSize: 32,
        fontStyle: 'italic',
        fontWeight: 'bold',
        fill: ['#ffffff', '#00ff99'], // gradient
        stroke: '#4a1850',
        strokeThickness: 5,
        dropShadow: true,
        dropShadowColor: '#FFD700',
        dropShadowBlur: 4,
        dropShadowAngle: Math.PI / 3,
        dropShadowDistance: 6,
        wordWrap: true,
        wordWrapWidth: 440,
        lineJoin: 'round',
    });
    const labelStyle = Object.assign({}, baseStyle, { dropShadowColor: "#FFD700" });
    const valueStyle = Object.assign({}, baseStyle, { dropShadowColor: "#C4B454" });
    // for (var i = 0; i < positions + 1; i++) {
    //     // var symbol = new PIXI.Sprite(PIXI.Texture.EMPTY);
    //     var symbol = new PIXI.Text('', labelStyle);
    //     this.container.addChild(symbol);
    //     this.symbols.push(symbol);
    // }
};

Slot.Text.prototype.render = function(textIndex) {
    var _this = this;

};
Slot.Sprite = function(resourceKey, engine) {
  this.instance = new PIXI.Sprite(PIXI.Loader.shared.resources[resourceKey].texture);
  this.x = 0;
  this.y = 0;
  
  Object.defineProperties(this, {
    action: {
      set: function(value) {
        this.instance.interactive = false;
        this.instance.off('pointerdown');
        switch (value) {
          case Slot.ACTION.PLAY:
            this.instance.interactive = true;
            this.instance.on('pointerdown', function() {
              engine.game.play();
            });
            break;
        };
      },
    },
    visible: {
      set: function(value) {
        this.instance.visible = value;
      },
      get: function() {
        return this.instance.visible;
      },
    },
  });

  var _this = this;
  function resizeAndPosition() {
    var pixiSprite = _this.instance;
    pixiSprite.scale.x = engine.renderer.view.width / engine.width;
    pixiSprite.scale.y = engine.renderer.view.height / engine.height;
    pixiSprite.x = (_this.x * engine.renderer.view.width) / engine.width;
    pixiSprite.y = (_this.y * engine.renderer.view.height) / engine.height;
  }
  resizeAndPosition();
  PIXI.Ticker.shared.add(function() {
    resizeAndPosition();
  }, PIXI.UPDATE_PRIORITY.HIGH);

  engine.stage.addChild(this.instance);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS1wb2x5ZmlsbC9wcm9taXNlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9wb2x5ZmlsbC9zcmMvUHJvbWlzZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3BvbHlmaWxsL3NyYy9PYmplY3QuYXNzaWduLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvcG9seWZpbGwvc3JjL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3BvbHlmaWxsL3NyYy9NYXRoLnNpZ24uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9wb2x5ZmlsbC9zcmMvTnVtYmVyLmlzSW50ZWdlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3BvbHlmaWxsL3NyYy9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL2Rpc3QvaXNNb2JpbGUubWluLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvc2V0dGluZ3Mvc3JjL3NldHRpbmdzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvc2V0dGluZ3Mvc3JjL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9zZXR0aW5ncy9zcmMvdXRpbHMvY2FuVXBsb2FkU2FtZUJ1ZmZlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2VhcmN1dC9zcmMvZWFyY3V0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3VybC9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdXJsL3V0aWwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmcvZGVjb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2VuY29kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29uc3RhbnRzL3NyYy9pbmRleC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9zZXR0aW5ncy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9icm93c2VyL2hlbGxvLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2Jyb3dzZXIvaXNXZWJHTFN1cHBvcnRlZC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9jb2xvci9oZXguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvY29sb3IvcHJlbXVsdGlwbHkuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvZGF0YS9jcmVhdGVJbmRpY2VzRm9yUXVhZHMuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvZGF0YS9yZW1vdmVJdGVtcy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9kYXRhL3VpZC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9kYXRhL3NpZ24uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvZGF0YS9wb3cyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL21lZGlhL2NhY2hlcy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9tZWRpYS90cmltQ2FudmFzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL21lZGlhL0NhbnZhc1JlbmRlclRhcmdldC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9jb25zdC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9uZXR3b3JrL2RldGVybWluZUNyb3NzT3JpZ2luLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL25ldHdvcmsvZ2V0UmVzb2x1dGlvbk9mVXJsLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2xvZ2dpbmcvZGVwcmVjYXRpb24uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvbmV0d29yay9kZWNvbXBvc2VEYXRhVXJpLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWF0aC9zcmMvUG9pbnQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9PYnNlcnZhYmxlUG9pbnQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9jb25zdC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21hdGgvc3JjL01hdHJpeC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21hdGgvc3JjL0dyb3VwRDguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9UcmFuc2Zvcm0uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9zaGFwZXMvUmVjdGFuZ2xlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWF0aC9zcmMvc2hhcGVzL0NpcmNsZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21hdGgvc3JjL3NoYXBlcy9FbGxpcHNlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWF0aC9zcmMvc2hhcGVzL1BvbHlnb24uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9zaGFwZXMvUm91bmRlZFJlY3RhbmdsZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2Rpc3BsYXkvc3JjL3NldHRpbmdzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZGlzcGxheS9zcmMvQm91bmRzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZGlzcGxheS9zcmMvRGlzcGxheU9iamVjdC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2Rpc3BsYXkvc3JjL0NvbnRhaW5lci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2FjY2Vzc2liaWxpdHkvc3JjL2FjY2Vzc2libGVUYXJnZXQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9hY2Nlc3NpYmlsaXR5L3NyYy9BY2Nlc3NpYmlsaXR5TWFuYWdlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3J1bm5lci9zcmMvUnVubmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGlja2VyL3NyYy9zZXR0aW5ncy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3RpY2tlci9zcmMvY29uc3QuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy90aWNrZXIvc3JjL1RpY2tlckxpc3RlbmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGlja2VyL3NyYy9UaWNrZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy90aWNrZXIvc3JjL1RpY2tlclBsdWdpbi5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9SZXNvdXJjZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9CYXNlSW1hZ2VSZXNvdXJjZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9JbWFnZVJlc291cmNlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL2F1dG9EZXRlY3RSZXNvdXJjZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9CdWZmZXJSZXNvdXJjZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL0Jhc2VUZXh0dXJlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL0FycmF5UmVzb3VyY2UuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy90ZXh0dXJlcy9yZXNvdXJjZXMvQ2FudmFzUmVzb3VyY2UuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy90ZXh0dXJlcy9yZXNvdXJjZXMvQ3ViZVJlc291cmNlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL1NWR1Jlc291cmNlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL1ZpZGVvUmVzb3VyY2UuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy90ZXh0dXJlcy9yZXNvdXJjZXMvSW1hZ2VCaXRtYXBSZXNvdXJjZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9pbmRleC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL1N5c3RlbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9EZXB0aFJlc291cmNlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZnJhbWVidWZmZXIvRnJhbWVidWZmZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9yZW5kZXJUZXh0dXJlL0Jhc2VSZW5kZXJUZXh0dXJlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvVGV4dHVyZVV2cy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL1RleHR1cmUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmVQb29sLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZ2VvbWV0cnkvQXR0cmlidXRlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZ2VvbWV0cnkvQnVmZmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZ2VvbWV0cnkvdXRpbHMvZ2V0QnVmZmVyVHlwZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2dlb21ldHJ5L3V0aWxzL2ludGVybGVhdmVUeXBlZEFycmF5cy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2dlb21ldHJ5L0dlb21ldHJ5LmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdXRpbHMvUXVhZC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3V0aWxzL1F1YWRVdi5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci9Vbmlmb3JtR3JvdXAuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9maWx0ZXJzL0ZpbHRlclN5c3RlbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL09iamVjdFJlbmRlcmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYmF0Y2gvQmF0Y2hTeXN0ZW0uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zZXR0aW5ncy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2NvbnRleHQvQ29udGV4dFN5c3RlbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2ZyYW1lYnVmZmVyL0ZyYW1lYnVmZmVyU3lzdGVtLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZ2VvbWV0cnkvR0xCdWZmZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9nZW9tZXRyeS9HZW9tZXRyeVN5c3RlbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci91dGlscy9jb21waWxlUHJvZ3JhbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci91dGlscy9kZWZhdWx0VmFsdWUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvZ2V0VGVzdENvbnRleHQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvc2V0UHJlY2lzaW9uLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2hhZGVyL3V0aWxzL21hcFNpemUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvbWFwVHlwZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci91dGlscy9nZW5lcmF0ZVVuaWZvcm1zU3luYy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci91dGlscy9jaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2hhZGVyL3V0aWxzL3Vuc2FmZUV2YWxTdXBwb3J0ZWQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvUHJvZ3JhbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci9TaGFkZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zdGF0ZS9TdGF0ZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2ZpbHRlcnMvRmlsdGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvVGV4dHVyZU1hdHJpeC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvbWFzay9NYXNrU3lzdGVtLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvbWFzay9TdGVuY2lsU3lzdGVtLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvcHJvamVjdGlvbi9Qcm9qZWN0aW9uU3lzdGVtLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlU3lzdGVtLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2hhZGVyL0dMUHJvZ3JhbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci9TaGFkZXJTeXN0ZW0uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zdGF0ZS9TdGF0ZVN5c3RlbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3N0YXRlL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL1RleHR1cmVHQ1N5c3RlbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL0dMVGV4dHVyZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL1RleHR1cmVTeXN0ZW0uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9BYnN0cmFjdFJlbmRlcmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvUmVuZGVyZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9hdXRvRGV0ZWN0UmVuZGVyZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy90ZXh0dXJlcy9DdWJlVGV4dHVyZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL0JhdGNoRHJhd0NhbGwuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9nZW9tZXRyeS9WaWV3YWJsZUJ1ZmZlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL0Fic3RyYWN0QmF0Y2hSZW5kZXJlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL0JhdGNoU2hhZGVyR2VuZXJhdG9yLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYmF0Y2gvQmF0Y2hHZW9tZXRyeS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL0JhdGNoUGx1Z2luRmFjdG9yeS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2V4dHJhY3Qvc3JjL0V4dHJhY3QuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9pbnRlcmFjdGlvbi9zcmMvSW50ZXJhY3Rpb25EYXRhLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvaW50ZXJhY3Rpb24vc3JjL0ludGVyYWN0aW9uRXZlbnQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9pbnRlcmFjdGlvbi9zcmMvSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9pbnRlcmFjdGlvbi9zcmMvaW50ZXJhY3RpdmVUYXJnZXQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9pbnRlcmFjdGlvbi9zcmMvSW50ZXJhY3Rpb25NYW5hZ2VyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL2NvbnN0LmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL3N0eWxlcy9GaWxsU3R5bGUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvR3JhcGhpY3NEYXRhLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL3V0aWxzL2J1aWxkQ2lyY2xlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL3V0aWxzL2J1aWxkTGluZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9idWlsZFBvbHkuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL0dyYXBoaWNzR2VvbWV0cnkuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvdXRpbHMvYnVpbGRSZWN0YW5nbGUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvc3R5bGVzL0xpbmVTdHlsZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9CZXppZXJVdGlscy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9RdWFkcmF0aWNVdGlscy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9BcmNVdGlscy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9TdGFyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL0dyYXBoaWNzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvc3ByaXRlL3NyYy9TcHJpdGUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy90ZXh0L3NyYy9jb25zdC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3RleHQvc3JjL1RleHRTdHlsZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3RleHQvc3JjL1RleHRNZXRyaWNzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGV4dC9zcmMvVGV4dC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3ByZXBhcmUvc3JjL3NldHRpbmdzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvcHJlcGFyZS9zcmMvQ291bnRMaW1pdGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvcHJlcGFyZS9zcmMvQmFzZVByZXBhcmUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9wcmVwYXJlL3NyYy9QcmVwYXJlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvcHJlcGFyZS9zcmMvVGltZUxpbWl0ZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9hcHAvc3JjL0FwcGxpY2F0aW9uLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvYXBwL3NyYy9SZXNpemVQbHVnaW4uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9hcHAvc3JjL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLXNpZ25hbHMvbGliL21pbmktc2lnbmFscy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvc3JjL2FzeW5jLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9zcmMvbWlkZGxld2FyZS9jYWNoaW5nLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9zcmMvUmVzb3VyY2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL3NyYy9lbmNvZGVCaW5hcnkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL3NyYy9taWRkbGV3YXJlL3BhcnNpbmcuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL3NyYy9Mb2FkZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9sb2FkZXJzL3NyYy9UZXh0dXJlTG9hZGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbG9hZGVycy9zcmMvTG9hZGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbG9hZGVycy9zcmMvQXBwTG9hZGVyUGx1Z2luLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbG9hZGVycy9zcmMvaW5kZXguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9wYXJ0aWNsZXMvc3JjL1BhcnRpY2xlQ29udGFpbmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvcGFydGljbGVzL3NyYy9QYXJ0aWNsZUJ1ZmZlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3BhcnRpY2xlcy9zcmMvUGFydGljbGVSZW5kZXJlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3Nwcml0ZXNoZWV0L3NyYy9TcHJpdGVzaGVldC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3Nwcml0ZXNoZWV0L3NyYy9TcHJpdGVzaGVldExvYWRlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3Nwcml0ZS10aWxpbmcvc3JjL1RpbGluZ1Nwcml0ZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3Nwcml0ZS10aWxpbmcvc3JjL1RpbGluZ1Nwcml0ZVJlbmRlcmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGV4dC1iaXRtYXAvc3JjL0JpdG1hcFRleHQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy90ZXh0LWJpdG1hcC9zcmMvQml0bWFwRm9udExvYWRlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2ZpbHRlcnMvZmlsdGVyLWFscGhhL3NyYy9BbHBoYUZpbHRlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2ZpbHRlcnMvZmlsdGVyLWJsdXIvc3JjL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9maWx0ZXJzL2ZpbHRlci1ibHVyL3NyYy9nZW5lcmF0ZUJsdXJGcmFnU291cmNlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZmlsdGVycy9maWx0ZXItYmx1ci9zcmMvQmx1ckZpbHRlclBhc3MuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9maWx0ZXJzL2ZpbHRlci1ibHVyL3NyYy9CbHVyRmlsdGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZmlsdGVycy9maWx0ZXItY29sb3ItbWF0cml4L3NyYy9Db2xvck1hdHJpeEZpbHRlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2ZpbHRlcnMvZmlsdGVyLWRpc3BsYWNlbWVudC9zcmMvRGlzcGxhY2VtZW50RmlsdGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZmlsdGVycy9maWx0ZXItZnhhYS9zcmMvRlhBQUZpbHRlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2ZpbHRlcnMvZmlsdGVyLW5vaXNlL3NyYy9Ob2lzZUZpbHRlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21peGluLWNhY2hlLWFzLWJpdG1hcC9zcmMvaW5kZXguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9taXhpbi1nZXQtY2hpbGQtYnktbmFtZS9zcmMvaW5kZXguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uL3NyYy9pbmRleC5qcyIsIi4uL3NyYy91c2VEZXByZWNhdGVkLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWVzaC9zcmMvTWVzaEJhdGNoVXZzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWVzaC9zcmMvTWVzaC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gvc3JjL01lc2hNYXRlcmlhbC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gvc3JjL01lc2hHZW9tZXRyeS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gtZXh0cmFzL3NyYy9nZW9tZXRyeS9QbGFuZUdlb21ldHJ5LmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWVzaC1leHRyYXMvc3JjL2dlb21ldHJ5L1JvcGVHZW9tZXRyeS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gtZXh0cmFzL3NyYy9TaW1wbGVSb3BlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWVzaC1leHRyYXMvc3JjL1NpbXBsZVBsYW5lLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWVzaC1leHRyYXMvc3JjL1NpbXBsZU1lc2guanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tZXNoLWV4dHJhcy9zcmMvTmluZVNsaWNlUGxhbmUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9zcHJpdGUtYW5pbWF0ZWQvc3JjL0FuaW1hdGVkU3ByaXRlLmpzIiwiLi4vc3JjL2luZGV4LmpzIiwiYW5pbWUubWluLmpzIiwic2xvdC5qcyIsImdhbWUuanMiLCJyZWVscy1jb250cm9sbGVyLmpzIiwidGV4dHMtY29udHJvbGxlci5qcyIsInJlZWwuanMiLCJ0ZXh0LmpzIiwic3ByaXRlLmpzIl0sIm5hbWVzIjpbImdsb2JhbCIsIk5hdGl2ZVByb21pc2UiLCJuYXRpdmVQcm9taXNlU3VwcG9ydGVkIiwicmVzb2x2ZSIsInIiLCJleHBvcnRzIiwiUHJvbWlzZSIsIlBFTkRJTkciLCJTRUFMRUQiLCJGVUxGSUxMRUQiLCJSRUpFQ1RFRCIsIk5PT1AiLCJpc0FycmF5IiwidmFsdWUiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJhc3luY1RpbWVyIiwiYXN5bmNTZXRUaW1lciIsInNldEltbWVkaWF0ZSIsInNldFRpbWVvdXQiLCJhc3luY1F1ZXVlIiwiYXN5bmNGbHVzaCIsImkiLCJsZW5ndGgiLCJhc3luY0NhbGwiLCJjYWxsYmFjayIsImFyZyIsInB1c2giLCJpbnZva2VDYWxsYmFjayIsInN1YnNjcmliZXIiLCJvd25lciIsInNldHRsZWQiLCJzdGF0ZV8iLCJkYXRhXyIsInByb21pc2UiLCJ0aGVuIiwiZSIsInJlamVjdCIsImhhbmRsZVRoZW5hYmxlIiwicmVzb2x2ZWQiLCJUeXBlRXJyb3IiLCJ2YWwiLCJmdWxmaWxsIiwicmVhc29uIiwicHVibGlzaEZ1bGZpbGxtZW50IiwicHVibGlzaFJlamVjdGlvbiIsInB1Ymxpc2giLCJjYWxsYmFja3MiLCJ0aGVuXyIsInVuZGVmaW5lZCIsInJlc29sdmVyIiwidGhpcyIsInJlamVjdFByb21pc2UiLCJpbnZva2VSZXNvbHZlciIsImNvbnN0cnVjdG9yIiwib25GdWxmaWxsbWVudCIsIm9uUmVqZWN0aW9uIiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJjYXRjaCIsImFsbCIsInByb21pc2VzIiwicmVzdWx0cyIsInJlbWFpbmluZyIsImluZGV4IiwicmFjZSIsIndpbmRvdyIsInNlbGYiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJoYXNPd25Qcm9wZXJ0eSIsInByb3BJc0VudW1lcmFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImFzc2lnbiIsInRlc3QxIiwiU3RyaW5nIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInRlc3QyIiwiZnJvbUNoYXJDb2RlIiwibWFwIiwibiIsImpvaW4iLCJ0ZXN0MyIsInNwbGl0IiwiZm9yRWFjaCIsImxldHRlciIsImtleXMiLCJlcnIiLCJzaG91bGRVc2VOYXRpdmUiLCJ0YXJnZXQiLCJzb3VyY2UiLCJmcm9tIiwic3ltYm9scyIsInRvIiwidG9PYmplY3QiLCJzIiwiYXJndW1lbnRzIiwia2V5IiwiUG9seWZpbGwiLCJvYmplY3RBc3NpZ24iLCJEYXRlIiwibm93IiwiZ2V0VGltZSIsInBlcmZvcm1hbmNlIiwiY29uc3QiLCJzdGFydFRpbWUiLCJsZXQiLCJsYXN0VGltZSIsInZlbmRvcnMiLCJ4IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY3VycmVudFRpbWUiLCJkZWxheSIsImlkIiwiY2xlYXJUaW1lb3V0IiwiTWF0aCIsInNpZ24iLCJOdW1iZXIiLCJpc05hTiIsImlzSW50ZWdlciIsImlzRmluaXRlIiwiZmxvb3IiLCJBcnJheUJ1ZmZlciIsIkFycmF5IiwiRmxvYXQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJVaW50MTZBcnJheSIsIlVpbnQ4QXJyYXkiLCJJbnQzMkFycmF5IiwidCIsImEiLCJiIiwibCIsImYiLCJ1IiwiYyIsImgiLCJ2IiwidyIsIm0iLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibyIsImQiLCJhcHBsZSIsInBob25lIiwiaXBvZCIsInRhYmxldCIsImRldmljZSIsImFtYXpvbiIsImFuZHJvaWQiLCJ3aW5kb3dzIiwib3RoZXIiLCJibGFja2JlcnJ5IiwiYmxhY2tiZXJyeTEwIiwib3BlcmEiLCJmaXJlZm94IiwiY2hyb21lIiwiYW55IiwibW9kdWxlIiwiaXNNb2JpbGUiLCJNSVBNQVBfVEVYVFVSRVMiLCJBTklTT1RST1BJQ19MRVZFTCIsIlJFU09MVVRJT04iLCJGSUxURVJfUkVTT0xVVElPTiIsIlNQUklURV9NQVhfVEVYVFVSRVMiLCJtYXgiLCJhbGxvd01heCIsIm1hdGNoIiwicGFyc2VJbnQiLCJtYXhSZWNvbW1lbmRlZFRleHR1cmVzIiwiU1BSSVRFX0JBVENIX1NJWkUiLCJSRU5ERVJfT1BUSU9OUyIsInZpZXciLCJhbnRpYWxpYXMiLCJmb3JjZUZYQUEiLCJhdXRvRGVuc2l0eSIsInRyYW5zcGFyZW50IiwiYmFja2dyb3VuZENvbG9yIiwiY2xlYXJCZWZvcmVSZW5kZXIiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJ3aWR0aCIsImhlaWdodCIsImxlZ2FjeSIsIkdDX01PREUiLCJHQ19NQVhfSURMRSIsIkdDX01BWF9DSEVDS19DT1VOVCIsIldSQVBfTU9ERSIsIlNDQUxFX01PREUiLCJQUkVDSVNJT05fVkVSVEVYIiwiUFJFQ0lTSU9OX0ZSQUdNRU5UIiwiQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUiIsIkNSRUFURV9JTUFHRV9CSVRNQVAiLCJST1VORF9QSVhFTFMiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImZuIiwiY29udGV4dCIsIm9uY2UiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJldmVudCIsImxpc3RlbmVyIiwiZXZ0IiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsImNsZWFyRXZlbnQiLCJFdmVudEVtaXR0ZXIiLCJjcmVhdGUiLCJfX3Byb3RvX18iLCJldmVudE5hbWVzIiwiZXZlbnRzIiwibmFtZSIsIm5hbWVzIiwic2xpY2UiLCJjb25jYXQiLCJsaXN0ZW5lcnMiLCJoYW5kbGVycyIsImVlIiwibGlzdGVuZXJDb3VudCIsImVtaXQiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiYXJncyIsImxlbiIsInJlbW92ZUxpc3RlbmVyIiwiYXBwbHkiLCJqIiwib24iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJvZmYiLCJwcmVmaXhlZCIsImVhcmN1dCIsImRhdGEiLCJob2xlSW5kaWNlcyIsImRpbSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJ5IiwiaW52U2l6ZSIsImhhc0hvbGVzIiwib3V0ZXJMZW4iLCJvdXRlck5vZGUiLCJsaW5rZWRMaXN0IiwidHJpYW5nbGVzIiwibmV4dCIsInByZXYiLCJzdGFydCIsImVuZCIsImxpc3QiLCJxdWV1ZSIsInN0ZWluZXIiLCJnZXRMZWZ0bW9zdCIsInNvcnQiLCJjb21wYXJlWCIsImVsaW1pbmF0ZUhvbGUiLCJmaWx0ZXJQb2ludHMiLCJlbGltaW5hdGVIb2xlcyIsImVhcmN1dExpbmtlZCIsImNsb2Nrd2lzZSIsImxhc3QiLCJzaWduZWRBcmVhIiwiaW5zZXJ0Tm9kZSIsImVxdWFscyIsInJlbW92ZU5vZGUiLCJhZ2FpbiIsImFyZWEiLCJlYXIiLCJwYXNzIiwieiIsInpPcmRlciIsInByZXZaIiwibmV4dFoiLCJxIiwidGFpbCIsIm51bU1lcmdlcyIsInBTaXplIiwicVNpemUiLCJpblNpemUiLCJzb3J0TGlua2VkIiwiaW5kZXhDdXJ2ZSIsInN0b3AiLCJpc0Vhckhhc2hlZCIsImlzRWFyIiwiY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyIsInNwbGl0RWFyY3V0IiwicG9pbnRJblRyaWFuZ2xlIiwibWluVFgiLCJtaW5UWSIsIm1heFRYIiwibWF4VFkiLCJtaW5aIiwibWF4WiIsImludGVyc2VjdHMiLCJsb2NhbGx5SW5zaWRlIiwiaXNWYWxpZERpYWdvbmFsIiwic3BsaXRQb2x5Z29uIiwiaG9sZSIsImh4IiwiaHkiLCJxeCIsIkluZmluaXR5IiwidGFuIiwibXgiLCJteSIsInRhbk1pbiIsImFicyIsImZpbmRIb2xlQnJpZGdlIiwibGVmdG1vc3QiLCJheCIsImF5IiwiYngiLCJieSIsImN4IiwiY3kiLCJweCIsInB5IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJpbnNpZGUiLCJtaWRkbGVJbnNpZGUiLCJwMSIsInAyIiwicTEiLCJxMiIsIk5vZGUiLCJiMiIsImFuIiwiYnAiLCJzdW0iLCJkZXZpYXRpb24iLCJwb2x5Z29uQXJlYSIsInRyaWFuZ2xlc0FyZWEiLCJmbGF0dGVuIiwicmVzdWx0IiwidmVydGljZXMiLCJob2xlcyIsImRpbWVuc2lvbnMiLCJob2xlSW5kZXgiLCJyb290IiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJmcmVlR2xvYmFsIiwicHVueWNvZGUiLCJtYXhJbnQiLCJiYXNlIiwidE1pbiIsInRNYXgiLCJza2V3IiwiZGFtcCIsImluaXRpYWxCaWFzIiwiaW5pdGlhbE4iLCJkZWxpbWl0ZXIiLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsIm92ZXJmbG93Iiwibm90LWJhc2ljIiwiaW52YWxpZC1pbnB1dCIsImJhc2VNaW51c1RNaW4iLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJlcnJvciIsInR5cGUiLCJSYW5nZUVycm9yIiwiYXJyYXkiLCJtYXBEb21haW4iLCJzdHJpbmciLCJwYXJ0cyIsInJlcGxhY2UiLCJ1Y3MyZGVjb2RlIiwiZXh0cmEiLCJvdXRwdXQiLCJjb3VudGVyIiwiY2hhckNvZGVBdCIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImZsYWciLCJhZGFwdCIsImRlbHRhIiwibnVtUG9pbnRzIiwiZmlyc3RUaW1lIiwiayIsImRlY29kZSIsImlucHV0Iiwib3V0IiwiYmFzaWMiLCJvbGRpIiwiYmFzZU1pbnVzVCIsImNvZGVQb2ludCIsImlucHV0TGVuZ3RoIiwiYmlhcyIsImxhc3RJbmRleE9mIiwic3BsaWNlIiwiZW5jb2RlIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsImN1cnJlbnRWYWx1ZSIsImhhbmRsZWRDUENvdW50UGx1c09uZSIsInFNaW51c1QiLCJ2ZXJzaW9uIiwidWNzMiIsInRvQVNDSUkiLCJ0b1VuaWNvZGUiLCJ0b0xvd2VyQ2FzZSIsImlzU3RyaW5nIiwiaXNPYmplY3QiLCJpc051bGwiLCJpc051bGxPclVuZGVmaW5lZCIsIm9iaiIsInByb3AiLCJxcyIsInNlcCIsImVxIiwib3B0aW9ucyIsInJlZ2V4cCIsIm1heEtleXMiLCJrc3RyIiwidnN0ciIsImlkeCIsImluZGV4T2YiLCJzdWJzdHIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzdHJpbmdpZnlQcmltaXRpdmUiLCJrcyIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcXVpcmUkJDAiLCJyZXF1aXJlJCQxIiwidXJsUGFyc2UiLCJyZWxhdGl2ZSIsInJlc29sdmVPYmplY3QiLCJ1dGlsIiwiVXJsIiwiZm9ybWF0IiwicHJvdG9jb2wiLCJzbGFzaGVzIiwiYXV0aCIsImhvc3QiLCJwb3J0IiwiaG9zdG5hbWUiLCJoYXNoIiwic2VhcmNoIiwicXVlcnkiLCJwYXRobmFtZSIsInBhdGgiLCJocmVmIiwicHJvdG9jb2xQYXR0ZXJuIiwicG9ydFBhdHRlcm4iLCJzaW1wbGVQYXRoUGF0dGVybiIsInVud2lzZSIsImF1dG9Fc2NhcGUiLCJub25Ib3N0Q2hhcnMiLCJob3N0RW5kaW5nQ2hhcnMiLCJob3N0bmFtZVBhcnRQYXR0ZXJuIiwiaG9zdG5hbWVQYXJ0U3RhcnQiLCJ1bnNhZmVQcm90b2NvbCIsImphdmFzY3JpcHQiLCJqYXZhc2NyaXB0OiIsImhvc3RsZXNzUHJvdG9jb2wiLCJzbGFzaGVkUHJvdG9jb2wiLCJodHRwIiwiaHR0cHMiLCJmdHAiLCJnb3BoZXIiLCJmaWxlIiwiaHR0cDoiLCJodHRwczoiLCJmdHA6IiwiZ29waGVyOiIsImZpbGU6IiwidXJsIiwicGFyc2VRdWVyeVN0cmluZyIsInNsYXNoZXNEZW5vdGVIb3N0IiwicGFyc2UiLCJxdWVyeUluZGV4Iiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJyZXN0IiwidHJpbSIsInNpbXBsZVBhdGgiLCJleGVjIiwicXVlcnlzdHJpbmciLCJwcm90byIsImxvd2VyUHJvdG8iLCJhdFNpZ24iLCJob3N0RW5kIiwiaGVjIiwicGFyc2VIb3N0IiwiaXB2Nkhvc3RuYW1lIiwiaG9zdHBhcnRzIiwicGFydCIsIm5ld3BhcnQiLCJ2YWxpZFBhcnRzIiwibm90SG9zdCIsImJpdCIsInVuc2hpZnQiLCJhZSIsImVzYyIsImVzY2FwZSIsInFtIiwic3RyaW5naWZ5IiwiY2hhckF0IiwicmVsIiwidGtleXMiLCJ0ayIsInRrZXkiLCJya2V5cyIsInJrIiwicmtleSIsInJlbFBhdGgiLCJzaGlmdCIsImlzU291cmNlQWJzIiwiaXNSZWxBYnMiLCJtdXN0RW5kQWJzIiwicmVtb3ZlQWxsRG90cyIsInNyY1BhdGgiLCJwc3ljaG90aWMiLCJwb3AiLCJhdXRoSW5Ib3N0IiwiaGFzVHJhaWxpbmdTbGFzaCIsInVwIiwiaXNBYnNvbHV0ZSIsIkVOViIsIldFQkdMX0xFR0FDWSIsIldFQkdMIiwiV0VCR0wyIiwiUkVOREVSRVJfVFlQRSIsIlVOS05PV04iLCJDQU5WQVMiLCJCTEVORF9NT0RFUyIsIk5PUk1BTCIsIkFERCIsIk1VTFRJUExZIiwiU0NSRUVOIiwiT1ZFUkxBWSIsIkRBUktFTiIsIkxJR0hURU4iLCJDT0xPUl9ET0RHRSIsIkNPTE9SX0JVUk4iLCJIQVJEX0xJR0hUIiwiU09GVF9MSUdIVCIsIkRJRkZFUkVOQ0UiLCJFWENMVVNJT04iLCJIVUUiLCJTQVRVUkFUSU9OIiwiQ09MT1IiLCJMVU1JTk9TSVRZIiwiTk9STUFMX05QTSIsIkFERF9OUE0iLCJTQ1JFRU5fTlBNIiwiTk9ORSIsIlNSQ19PVkVSIiwiU1JDX0lOIiwiU1JDX09VVCIsIlNSQ19BVE9QIiwiRFNUX09WRVIiLCJEU1RfSU4iLCJEU1RfT1VUIiwiRFNUX0FUT1AiLCJFUkFTRSIsIlNVQlRSQUNUIiwiRFJBV19NT0RFUyIsIlBPSU5UUyIsIkxJTkVTIiwiTElORV9MT09QIiwiTElORV9TVFJJUCIsIlRSSUFOR0xFUyIsIlRSSUFOR0xFX1NUUklQIiwiVFJJQU5HTEVfRkFOIiwiRk9STUFUUyIsIlJHQkEiLCJSR0IiLCJBTFBIQSIsIkxVTUlOQU5DRSIsIkxVTUlOQU5DRV9BTFBIQSIsIkRFUFRIX0NPTVBPTkVOVCIsIkRFUFRIX1NURU5DSUwiLCJUQVJHRVRTIiwiVEVYVFVSRV8yRCIsIlRFWFRVUkVfQ1VCRV9NQVAiLCJURVhUVVJFXzJEX0FSUkFZIiwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YIiwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YIiwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZIiwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZIiwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aIiwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aIiwiVFlQRVMiLCJVTlNJR05FRF9CWVRFIiwiVU5TSUdORURfU0hPUlQiLCJVTlNJR05FRF9TSE9SVF81XzZfNSIsIlVOU0lHTkVEX1NIT1JUXzRfNF80XzQiLCJVTlNJR05FRF9TSE9SVF81XzVfNV8xIiwiRkxPQVQiLCJIQUxGX0ZMT0FUIiwiU0NBTEVfTU9ERVMiLCJMSU5FQVIiLCJORUFSRVNUIiwiV1JBUF9NT0RFUyIsIkNMQU1QIiwiUkVQRUFUIiwiTUlSUk9SRURfUkVQRUFUIiwiTUlQTUFQX01PREVTIiwiT0ZGIiwiUE9XMiIsIk9OIiwiR0NfTU9ERVMiLCJBVVRPIiwiTUFOVUFMIiwiUFJFQ0lTSU9OIiwiTE9XIiwiTUVESVVNIiwiSElHSCIsInNldHRpbmdzIiwiUkVUSU5BX1BSRUZJWCIsIkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUIiwic3VwcG9ydGVkIiwic2FpZEhlbGxvIiwiVkVSU0lPTiIsInNheUhlbGxvIiwiY29uc29sZSIsImxvZyIsImlzV2ViR0xTdXBwb3J0ZWQiLCJjb250ZXh0T3B0aW9ucyIsInN0ZW5jaWwiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2wiLCJnZXRDb250ZXh0Iiwic3VjY2VzcyIsImdldENvbnRleHRBdHRyaWJ1dGVzIiwibG9zZUNvbnRleHQiLCJnZXRFeHRlbnNpb24iLCJoZXgycmdiIiwiaGV4IiwiaGV4MnN0cmluZyIsInN0cmluZzJoZXgiLCJwcmVtdWx0aXBseUJsZW5kTW9kZSIsInBtIiwibnBtIiwibWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMiLCJjb3JyZWN0QmxlbmRNb2RlIiwiYmxlbmRNb2RlIiwicHJlbXVsdGlwbGllZCIsInByZW11bHRpcGx5UmdiYSIsInJnYiIsImFscGhhIiwicHJlbXVsdGlwbHkiLCJwcmVtdWx0aXBseVRpbnQiLCJ0aW50IiwiUiIsIkciLCJCIiwicHJlbXVsdGlwbHlUaW50VG9SZ2JhIiwiY3JlYXRlSW5kaWNlc0ZvclF1YWRzIiwic2l6ZSIsIm91dEJ1ZmZlciIsInRvdGFsSW5kaWNlcyIsIkVycm9yIiwicmVtb3ZlSXRlbXMiLCJhcnIiLCJzdGFydElkeCIsInJlbW92ZUNvdW50IiwibmV4dFVpZCIsInVpZCIsIm5leHRQb3cyIiwiaXNQb3cyIiwibG9nMiIsIlByb2dyYW1DYWNoZSIsIlRleHR1cmVDYWNoZSIsIkJhc2VUZXh0dXJlQ2FjaGUiLCJ0cmltQ2FudmFzIiwicGl4ZWxzIiwiZ2V0SW1hZ2VEYXRhIiwiYm91bmQiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJDYW52YXNSZW5kZXJUYXJnZXQiLCJyZXNvbHV0aW9uIiwicmVzaXplIiwiY2xlYXIiLCJzZXRUcmFuc2Zvcm0iLCJjbGVhclJlY3QiLCJkZXN0cm95IiwicHJvdG90eXBlQWNjZXNzb3JzIiwidGVtcEFuY2hvciIsIkRBVEFfVVJJIiwiZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJsb2MiLCJsb2NhdGlvbiIsInNhbWVQb3J0IiwiX3VybCIsImdldFJlc29sdXRpb25PZlVybCIsImRlZmF1bHRWYWx1ZSIsInBhcnNlRmxvYXQiLCJ3YXJuaW5ncyIsImRlcHJlY2F0aW9uIiwibWVzc2FnZSIsImlnbm9yZURlcHRoIiwic3RhY2siLCJ3YXJuIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsImRhdGFVcmkiLCJkYXRhVXJpTWF0Y2giLCJtZWRpYVR5cGUiLCJzdWJUeXBlIiwiY2hhcnNldCIsImVuY29kaW5nIiwiUG9pbnQiLCJjbG9uZSIsImNvcHlGcm9tIiwic2V0IiwiY29weVRvIiwiT2JzZXJ2YWJsZVBvaW50IiwiY2IiLCJzY29wZSIsIl94IiwiX3kiLCJfY2IiLCJfc2NvcGUiLCJQSV8yIiwiUEkiLCJSQURfVE9fREVHIiwiREVHX1RPX1JBRCIsIlNIQVBFUyIsIlBPTFkiLCJSRUNUIiwiQ0lSQyIsIkVMSVAiLCJSUkVDIiwiTWF0cml4IiwidHgiLCJ0eSIsImZyb21BcnJheSIsInRvQXJyYXkiLCJ0cmFuc3Bvc2UiLCJwb3MiLCJuZXdQb3MiLCJhcHBseUludmVyc2UiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsInJvdGF0ZSIsImFuZ2xlIiwiY29zIiwic2luIiwiYzEiLCJ0eDEiLCJhcHBlbmQiLCJtYXRyaXgiLCJiMSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsInRyYW5zZm9ybSIsImF0YW4yIiwic3FydCIsInBvc2l0aW9uIiwiaW52ZXJ0IiwiaWRlbnRpdHkiLCJzdGF0aWNBY2Nlc3NvcnMiLCJJREVOVElUWSIsIlRFTVBfTUFUUklYIiwidXgiLCJ1eSIsInZ4IiwidnkiLCJyb3RhdGlvbkNheWxleSIsInJvdGF0aW9uTWF0cmljZXMiLCJzaWdudW0iLCJyb3ciLCJfdXgiLCJfdXkiLCJfdngiLCJfdnkiLCJtYXQiLCJpbml0IiwiR3JvdXBEOCIsIkUiLCJTRSIsIlMiLCJTVyIsIlciLCJOVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1BSU5fRElBR09OQUwiLCJNSVJST1JfSE9SSVpPTlRBTCIsIlJFVkVSU0VfRElBR09OQUwiLCJ1WCIsImluZCIsInVZIiwidlgiLCJ2WSIsImludiIsImFkZCIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsImR4IiwiZHkiLCJtYXRyaXhBcHBlbmRSb3RhdGlvbkludiIsIlRyYW5zZm9ybSIsIndvcmxkVHJhbnNmb3JtIiwibG9jYWxUcmFuc2Zvcm0iLCJvbkNoYW5nZSIsInBpdm90IiwidXBkYXRlU2tldyIsIl9yb3RhdGlvbiIsIl9jeCIsIl9zeCIsIl9jeSIsIl9zeSIsIl9sb2NhbElEIiwiX2N1cnJlbnRMb2NhbElEIiwiX3dvcmxkSUQiLCJfcGFyZW50SUQiLCJ1cGRhdGVMb2NhbFRyYW5zZm9ybSIsImx0IiwidXBkYXRlVHJhbnNmb3JtIiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJ3dCIsInNldEZyb21NYXRyaXgiLCJSZWN0YW5nbGUiLCJFTVBUWSIsInJlY3RhbmdsZSIsImNvbnRhaW5zIiwicGFkIiwicGFkZGluZ1giLCJwYWRkaW5nWSIsImZpdCIsIngxIiwieDIiLCJtaW4iLCJ5MSIsInkyIiwiY2VpbCIsImVwcyIsImVubGFyZ2UiLCJDaXJjbGUiLCJyYWRpdXMiLCJyMiIsImdldEJvdW5kcyIsIkVsbGlwc2UiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0Iiwibm9ybXgiLCJub3JteSIsIlBvbHlnb24iLCJwb2ludHMiLCJpbCIsImNsb3NlU3Ryb2tlIiwicG9seWdvbiIsInhpIiwieWkiLCJ4aiIsInlqIiwiUm91bmRlZFJlY3RhbmdsZSIsInJhZGl1czIiLCJTT1JUQUJMRV9DSElMRFJFTiIsIkJvdW5kcyIsInJlY3QiLCJpc0VtcHR5IiwidXBkYXRlSUQiLCJnZXRSZWN0YW5nbGUiLCJhZGRQb2ludCIsInBvaW50IiwiYWRkUXVhZCIsImFkZEZyYW1lIiwieDAiLCJ5MCIsImFkZFZlcnRleERhdGEiLCJ2ZXJ0ZXhEYXRhIiwiYmVnaW5PZmZzZXQiLCJlbmRPZmZzZXQiLCJhZGRWZXJ0aWNlcyIsInJhd1giLCJyYXdZIiwiYWRkQm91bmRzIiwiYm91bmRzIiwiYWRkQm91bmRzTWFzayIsIm1hc2siLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsImFkZEJvdW5kc0FyZWEiLCJEaXNwbGF5T2JqZWN0Iiwic3VwZXIiLCJ0ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsInZpc2libGUiLCJyZW5kZXJhYmxlIiwicGFyZW50Iiwid29ybGRBbHBoYSIsIl9sYXN0U29ydGVkSW5kZXgiLCJfekluZGV4IiwiZmlsdGVyQXJlYSIsImZpbHRlcnMiLCJfZW5hYmxlZEZpbHRlcnMiLCJfYm91bmRzIiwiX2JvdW5kc0lEIiwiX2xhc3RCb3VuZHNJRCIsIl9ib3VuZHNSZWN0IiwiX2xvY2FsQm91bmRzUmVjdCIsIl9tYXNrIiwiX2Rlc3Ryb3llZCIsImlzU3ByaXRlIiwibWl4aW4iLCJwcm9wZXJ0eU5hbWUiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsIl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtIiwic2tpcFVwZGF0ZSIsImNhbGN1bGF0ZUJvdW5kcyIsImdldExvY2FsQm91bmRzIiwidHJhbnNmb3JtUmVmIiwicGFyZW50UmVmIiwidG9HbG9iYWwiLCJkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIiwidG9Mb2NhbCIsInJlbmRlciIsInJlbmRlcmVyIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwiYWRkQ2hpbGQiLCJyZW1vdmVDaGlsZCIsIl9jdXJyZW50Qm91bmRzIiwiaW50ZXJhY3RpdmUiLCJpbnRlcmFjdGl2ZUNoaWxkcmVuIiwiekluZGV4Iiwic29ydERpcnR5Iiwid29ybGRWaXNpYmxlIiwiaXRlbSIsImlzTWFzayIsInNvcnRDaGlsZHJlbiIsIkNvbnRhaW5lciIsImNoaWxkcmVuIiwic29ydGFibGVDaGlsZHJlbiIsIm9uQ2hpbGRyZW5DaGFuZ2UiLCJjaGlsZCIsImFyZ3VtZW50c0xlbmd0aCIsImFkZENoaWxkQXQiLCJzd2FwQ2hpbGRyZW4iLCJjaGlsZDIiLCJpbmRleDEiLCJnZXRDaGlsZEluZGV4IiwiaW5kZXgyIiwic2V0Q2hpbGRJbmRleCIsImN1cnJlbnRJbmRleCIsImdldENoaWxkQXQiLCJyZW1vdmVDaGlsZEF0IiwicmVtb3ZlQ2hpbGRyZW4iLCJiZWdpbkluZGV4IiwiZW5kSW5kZXgiLCJyZW1vdmVkIiwiYmVnaW4iLCJyYW5nZSIsInNvcnRSZXF1aXJlZCIsIl9jYWxjdWxhdGVCb3VuZHMiLCJyZW5kZXJBZHZhbmNlZCIsIl9yZW5kZXIiLCJiYXRjaCIsImZsdXNoIiwiZW5hYmxlZCIsImZpbHRlciIsImRlc3Ryb3lDaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwiX3dpZHRoIiwiX2hlaWdodCIsImNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSIsImFjY2Vzc2libGUiLCJhY2Nlc3NpYmxlVGl0bGUiLCJhY2Nlc3NpYmxlSGludCIsInRhYkluZGV4IiwiX2FjY2Vzc2libGVBY3RpdmUiLCJfYWNjZXNzaWJsZURpdiIsImFjY2Vzc2libGVUYXJnZXQiLCJBY2Nlc3NpYmlsaXR5TWFuYWdlciIsIl9ob29rRGl2IiwiY3JlYXRlVG91Y2hIb29rIiwiZGl2Iiwic3R5bGUiLCJESVZfVE9VQ0hfU0laRSIsIkRJVl9UT1VDSF9QT1NfWCIsIkRJVl9UT1VDSF9QT1NfWSIsInBvb2wiLCJyZW5kZXJJZCIsImRlYnVnIiwiX29uS2V5RG93biIsImJpbmQiLCJfb25Nb3VzZU1vdmUiLCJpc0FjdGl2ZSIsImlzTW9iaWxlQWNjZXNzaWJpbGl0eSIsImFkZEV2ZW50TGlzdGVuZXIiLCJob29rRGl2IiwiRElWX0hPT0tfU0laRSIsIkRJVl9IT09LX1BPU19YIiwiRElWX0hPT0tfUE9TX1kiLCJ0aXRsZSIsImFjdGl2YXRlIiwiZGVzdHJveVRvdWNoSG9vayIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGUiLCJwYXJlbnROb2RlIiwiZGVhY3RpdmF0ZSIsInVwZGF0ZUFjY2Vzc2libGVPYmplY3RzIiwiZGlzcGxheU9iamVjdCIsInJlbmRlcmluZ1RvU2NyZWVuIiwiX2xhc3RPYmplY3RSZW5kZXJlZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInN4Iiwic3kiLCJoaXRBcmVhIiwiY2FwSGl0QXJlYSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImJvcmRlclN0eWxlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwiaW50ZXJhY3Rpb25NYW5hZ2VyIiwicGx1Z2lucyIsImludGVyYWN0aW9uIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50RGF0YSIsImtleUNvZGUiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJSdW5uZXIiLCJpdGVtcyIsIl9uYW1lIiwiX2FsaWFzQ291bnQiLCJhMCIsImE2IiwiYTciLCJlbnN1cmVOb25BbGlhc2VkSXRlbXMiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJlbXB0eSIsImRpc3BhdGNoIiwicnVuIiwiVEFSR0VUX0ZQTVMiLCJVUERBVEVfUFJJT1JJVFkiLCJJTlRFUkFDVElPTiIsIlVUSUxJVFkiLCJUaWNrZXJMaXN0ZW5lciIsInByaW9yaXR5IiwicHJldmlvdXMiLCJkZWx0YVRpbWUiLCJyZWRpcmVjdCIsImNvbm5lY3QiLCJoYXJkIiwiVGlja2VyIiwiX2hlYWQiLCJfcmVxdWVzdElkIiwiX21heEVsYXBzZWRNUyIsIl9taW5FbGFwc2VkTVMiLCJhdXRvU3RhcnQiLCJkZWx0YU1TIiwiZWxhcHNlZE1TIiwic3BlZWQiLCJzdGFydGVkIiwiX3Byb3RlY3RlZCIsIl9sYXN0RnJhbWUiLCJfdGljayIsInRpbWUiLCJ0aGlzJDEiLCJfcmVxdWVzdElmTmVlZGVkIiwiX2NhbmNlbElmTmVlZGVkIiwiX3N0YXJ0SWZQb3NzaWJsZSIsIl9hZGRMaXN0ZW5lciIsImFkZE9uY2UiLCJjdXJyZW50IiwiaGVhZCIsIkZQUyIsIm1pbkZQUyIsImZwcyIsIm1heEZQUyIsIm1pbkZQTVMiLCJyb3VuZCIsInNoYXJlZCIsIl9zaGFyZWQiLCJzeXN0ZW0iLCJfc3lzdGVtIiwiVGlja2VyUGx1Z2luIiwic2hhcmVkVGlja2VyIiwidGlja2VyIiwiX3RpY2tlciIsImdldCIsIm9sZFRpY2tlciIsIlJlc291cmNlIiwiZGVzdHJveWVkIiwiaW50ZXJuYWwiLCJvblJlc2l6ZSIsIm9uVXBkYXRlIiwib25FcnJvciIsImJhc2VUZXh0dXJlIiwidW5iaW5kIiwidmFsaWQiLCJsb2FkIiwidXBsb2FkIiwiZ2xUZXh0dXJlIiwiZGlzcG9zZSIsIkJhc2VJbWFnZVJlc291cmNlIiwibmF0dXJhbFdpZHRoIiwidmlkZW9XaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ2aWRlb0hlaWdodCIsImNyb3NzT3JpZ2luIiwiZWxlbWVudCIsImNyb3Nzb3JpZ2luIiwicmVhbFdpZHRoIiwicmVhbEhlaWdodCIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIiwicHJlbXVsdGlwbHlBbHBoYSIsInRleFN1YkltYWdlMkQiLCJ0ZXhJbWFnZTJEIiwiSW1hZ2VSZXNvdXJjZSIsIkhUTUxJbWFnZUVsZW1lbnQiLCJpbWFnZUVsZW1lbnQiLCJJbWFnZSIsInNyYyIsImNvbXBsZXRlIiwiX3Byb2Nlc3MiLCJwcmVzZXJ2ZUJpdG1hcCIsImNyZWF0ZUJpdG1hcCIsImNyZWF0ZUltYWdlQml0bWFwIiwiYml0bWFwIiwiX2xvYWQiLCJhdXRvTG9hZCIsImNvbXBsZXRlZCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJwcm9jZXNzIiwiX2dsVGV4dHVyZXMiLCJvdGhlclRleCIsImRpcnR5SWQiLCJjbG9zZSIsIklOU1RBTExFRCIsImF1dG9EZXRlY3RSZXNvdXJjZSIsImV4dGVuc2lvbiIsIlJlc291cmNlUGx1Z2luIiwiQnVmZmVyUmVzb3VyY2UiLCJpbnRlcm5hbEZvcm1hdCIsImRlZmF1bHRCdWZmZXJPcHRpb25zIiwic2NhbGVNb2RlIiwiQmFzZVRleHR1cmUiLCJyZXNvdXJjZSIsInJlc291cmNlT3B0aW9ucyIsIm1pcG1hcCIsImFuaXNvdHJvcGljTGV2ZWwiLCJ3cmFwTW9kZSIsInRvdWNoZWQiLCJpc1Bvd2VyT2ZUd28iLCJfcmVmcmVzaFBPVCIsImRpcnR5U3R5bGVJZCIsImNhY2hlSWQiLCJ0ZXh0dXJlQ2FjaGVJZHMiLCJfYmF0Y2hFbmFibGVkIiwic2V0UmVzb3VyY2UiLCJzZXRTdHlsZSIsImRpcnR5Iiwic2V0U2l6ZSIsInNldFJlYWxTaXplIiwic2V0UmVzb2x1dGlvbiIsIm9sZFJlc29sdXRpb24iLCJyZW1vdmVGcm9tQ2FjaGUiLCJfcGl4aUlkIiwiYWRkVG9DYWNoZSIsImZyb21CdWZmZXIiLCJidWZmZXIiLCJiYXNlVGV4dHVyZUZyb21DYWNoZSIsIl9nbG9iYWxCYXRjaCIsIkFycmF5UmVzb3VyY2UiLCJ1cmxzIiwiaXRlbURpcnR5SWRzIiwicGFydFRleHR1cmUiLCJhZGRSZXNvdXJjZUF0IiwicmVzb3VyY2VzIiwidGV4dHVyZSIsInRleEltYWdlM0QiLCJ0ZXhTdWJJbWFnZTNEIiwiQ2FudmFzUmVzb3VyY2UiLCJPZmZzY3JlZW5DYW52YXMiLCJIVE1MQ2FudmFzRWxlbWVudCIsIkN1YmVSZXNvdXJjZSIsIlNJREVTIiwic2lkZSIsIlNWR1Jlc291cmNlIiwic3ZnIiwiX292ZXJyaWRlV2lkdGgiLCJfb3ZlcnJpZGVIZWlnaHQiLCJfcmVzb2x2ZSIsIl9jcm9zc29yaWdpbiIsImJ0b2EiLCJ1bmVzY2FwZSIsIl9sb2FkU3ZnIiwidGVtcEltYWdlIiwic3ZnV2lkdGgiLCJzdmdIZWlnaHQiLCJkcmF3SW1hZ2UiLCJnZXRTaXplIiwic3ZnU3RyaW5nIiwic2l6ZU1hdGNoIiwiU1ZHX1NJWkUiLCJWaWRlb1Jlc291cmNlIiwiSFRNTFZpZGVvRWxlbWVudCIsInZpZGVvRWxlbWVudCIsInNvdXJjZUVsZW1lbnQiLCJiYXNlU3JjIiwiZXh0IiwibWltZSIsIl9hdXRvVXBkYXRlIiwiX2lzQXV0b1VwZGF0aW5nIiwiX3VwZGF0ZUZQUyIsInVwZGF0ZUZQUyIsIl9tc1RvTmV4dFVwZGF0ZSIsImF1dG9QbGF5IiwiX29uQ2FuUGxheSIsIl9vbkVycm9yIiwicGxheWJhY2tSYXRlIiwicmVhZHlTdGF0ZSIsIkhBVkVfRU5PVUdIX0RBVEEiLCJIQVZFX0ZVVFVSRV9EQVRBIiwiX29uUGxheVN0YXJ0IiwiX29uUGxheVN0b3AiLCJfaXNTb3VyY2VSZWFkeSIsIl9pc1NvdXJjZVBsYXlpbmciLCJwYXVzZWQiLCJlbmRlZCIsImF1dG9VcGRhdGUiLCJwbGF5IiwicGF1c2UiLCJJbWFnZUJpdG1hcFJlc291cmNlIiwiSW1hZ2VCaXRtYXAiLCJTeXN0ZW0iLCJEZXB0aFJlc291cmNlIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJGcmFtZWJ1ZmZlciIsImRlcHRoIiwiZGlydHlGb3JtYXQiLCJkaXJ0eVNpemUiLCJkZXB0aFRleHR1cmUiLCJjb2xvclRleHR1cmVzIiwiZ2xGcmFtZWJ1ZmZlcnMiLCJkaXNwb3NlUnVubmVyIiwiY29sb3JUZXh0dXJlIiwiYWRkQ29sb3JUZXh0dXJlIiwiVGV4dHVyZSIsImFkZERlcHRoVGV4dHVyZSIsImVuYWJsZURlcHRoIiwiZW5hYmxlU3RlbmNpbCIsIkJhc2VSZW5kZXJUZXh0dXJlIiwiX2NhbnZhc1JlbmRlclRhcmdldCIsImNsZWFyQ29sb3IiLCJmcmFtZWJ1ZmZlciIsInN0ZW5jaWxNYXNrU3RhY2siLCJmaWx0ZXJTdGFjayIsIlRleHR1cmVVdnMiLCJ4MyIsInkzIiwidXZzRmxvYXQzMiIsImZyYW1lIiwiYmFzZUZyYW1lIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsImNZIiwiREVGQVVMVF9VVlMiLCJvcmlnIiwiYW5jaG9yIiwibm9GcmFtZSIsIl9mcmFtZSIsInJlcXVpcmVzVXBkYXRlIiwiX3V2cyIsInV2TWF0cml4IiwiX3JvdGF0ZSIsImRlZmF1bHRBbmNob3IiLCJfdXBkYXRlSUQiLCJvbkJhc2VUZXh0dXJlVXBkYXRlZCIsInVwZGF0ZVV2cyIsImRlc3Ryb3lCYXNlIiwiZnJvbUxvYWRlciIsImltYWdlVXJsIiwidGV4dHVyZUZyb21DYWNoZSIsInhOb3RGaXQiLCJ5Tm90Rml0IiwicmVsYXRpb25zaGlwIiwiZXJyb3JYIiwiZXJyb3JZIiwicmVtb3ZlQWxsSGFuZGxlcnMiLCJ0ZXgiLCJXSElURSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY3JlYXRlV2hpdGVUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZSIsImJhc2VSZW5kZXJUZXh0dXJlIiwiX2xlZ2FjeVJlbmRlcmVyIiwibGVnYWN5UmVuZGVyZXIiLCJmaWx0ZXJGcmFtZSIsImZpbHRlclBvb2xLZXkiLCJyZXNpemVCYXNlVGV4dHVyZSIsIlJlbmRlclRleHR1cmVQb29sIiwidGV4dHVyZU9wdGlvbnMiLCJ0ZXh0dXJlUG9vbCIsImVuYWJsZUZ1bGxTY3JlZW4iLCJfcGl4ZWxzV2lkdGgiLCJfcGl4ZWxzSGVpZ2h0IiwiY3JlYXRlVGV4dHVyZSIsImdldE9wdGltYWxUZXh0dXJlIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJTQ1JFRU5fS0VZIiwicmVuZGVyVGV4dHVyZSIsImdldEZpbHRlclRleHR1cmUiLCJmaWx0ZXJUZXh0dXJlIiwicmV0dXJuVGV4dHVyZSIsInJldHVybkZpbHRlclRleHR1cmUiLCJkZXN0cm95VGV4dHVyZXMiLCJ0ZXh0dXJlcyIsInNldFNjcmVlblNpemUiLCJzY3JlZW5LZXkiLCJBdHRyaWJ1dGUiLCJub3JtYWxpemVkIiwic3RyaWRlIiwiaW5zdGFuY2UiLCJVSUQiLCJCdWZmZXIiLCJfc3RhdGljIiwiX2dsQnVmZmVycyIsInN0YXRpYyIsImdldEJ1ZmZlclR5cGUiLCJCWVRFU19QRVJfRUxFTUVOVCIsImJ5dGVTaXplTWFwIiwiNTEyNiIsIjUxMjMiLCI1MTIxIiwiR2VvbWV0cnkiLCJidWZmZXJzIiwiYXR0cmlidXRlcyIsImluZGV4QnVmZmVyIiwiZ2xWZXJ0ZXhBcnJheU9iamVjdHMiLCJpbnN0YW5jZWQiLCJpbnN0YW5jZUNvdW50IiwicmVmQ291bnQiLCJhZGRBdHRyaWJ1dGUiLCJpZHMiLCJidWZmZXJJbmRleCIsImdldEJ1ZmZlciIsImFkZEluZGV4IiwiZ2V0SW5kZXgiLCJpbnRlcmxlYXZlIiwiYXJyYXlzIiwic2l6ZXMiLCJpbnRlcmxlYXZlZEJ1ZmZlciIsImF0dHJpYnV0ZSIsIm91dFNpemUiLCJ2aWV3cyIsImxpdHRsZU9mZnNldCIsImludGVybGVhdmVUeXBlZEFycmF5cyIsImdlb21ldHJ5IiwiYXR0cmliIiwibWVyZ2UiLCJnZW9tZXRyaWVzIiwiZ2VvbWV0cnlPdXQiLCJvZmZzZXRzIiwib2Zmc2V0Iiwib2Zmc2V0MiIsImJ1ZmZlckluZGV4VG9Db3VudCIsImluZGV4QnVmZmVyRGF0YSIsIlF1YWQiLCJRdWFkVXYiLCJ1dnMiLCJ2ZXJ0ZXhCdWZmZXIiLCJ1dkJ1ZmZlciIsInRhcmdldFRleHR1cmVGcmFtZSIsImRlc3RpbmF0aW9uRnJhbWUiLCJpbnZhbGlkYXRlIiwiVW5pZm9ybUdyb3VwIiwidW5pZm9ybXMiLCJncm91cCIsInN5bmNVbmlmb3JtcyIsIkZpbHRlclN0YXRlIiwic291cmNlRnJhbWUiLCJGaWx0ZXJTeXN0ZW0iLCJkZWZhdWx0RmlsdGVyU3RhY2siLCJzdGF0ZVBvb2wiLCJxdWFkIiwicXVhZFV2IiwidGVtcFJlY3QiLCJhY3RpdmVTdGF0ZSIsImdsb2JhbFVuaWZvcm1zIiwib3V0cHV0RnJhbWUiLCJpbnB1dFNpemUiLCJpbnB1dFBpeGVsIiwiaW5wdXRDbGFtcCIsImZpbHRlckNsYW1wIiwic3RhdGUiLCJwYWRkaW5nIiwiYXV0b0ZpdCIsImdldE9wdGltYWxGaWx0ZXJUZXh0dXJlIiwibGFzdFN0YXRlIiwiZmxpcCIsImZsb3AiLCJhcHBseUZpbHRlciIsInVTYW1wbGVyIiwiZmlsdGVyR2xvYmFscyIsInNoYWRlciIsImRyYXciLCJjYWxjdWxhdGVTcHJpdGVNYXRyaXgiLCJvdXRwdXRNYXRyaXgiLCJzcHJpdGUiLCJfdGV4dHVyZSIsIm1hcHBlZE1hdHJpeCIsInN3YXAiLCJlbXB0eVBvb2wiLCJPYmplY3RSZW5kZXJlciIsIm9iamVjdCIsIkJhdGNoU3lzdGVtIiwiZW1wdHlSZW5kZXJlciIsImN1cnJlbnRSZW5kZXJlciIsInNldE9iamVjdFJlbmRlcmVyIiwib2JqZWN0UmVuZGVyZXIiLCJyZXNldCIsIlBSRUZFUl9FTlYiLCJDT05URVhUX1VJRCIsIkNvbnRleHRTeXN0ZW0iLCJ3ZWJHTFZlcnNpb24iLCJleHRlbnNpb25zIiwiaGFuZGxlQ29udGV4dExvc3QiLCJoYW5kbGVDb250ZXh0UmVzdG9yZWQiLCJpc0xvc3QiLCJpc0NvbnRleHRMb3N0IiwiY29udGV4dENoYW5nZSIsInJlc3RvcmVDb250ZXh0IiwiaW5pdEZyb21Db250ZXh0IiwidmFsaWRhdGVDb250ZXh0IiwicnVubmVycyIsImluaXRGcm9tT3B0aW9ucyIsImNyZWF0ZUNvbnRleHQiLCJnZXRFeHRlbnNpb25zIiwiZHJhd0J1ZmZlcnMiLCJ2ZXJ0ZXhBcnJheU9iamVjdCIsImFuaXNvdHJvcGljRmlsdGVyaW5nIiwidWludDMyRWxlbWVudEluZGV4IiwiZmxvYXRUZXh0dXJlIiwiZmxvYXRUZXh0dXJlTGluZWFyIiwidGV4dHVyZUhhbGZGbG9hdCIsInRleHR1cmVIYWxmRmxvYXRMaW5lYXIiLCJjb2xvckJ1ZmZlckZsb2F0IiwicHJldmVudERlZmF1bHQiLCJ1c2VQcm9ncmFtIiwicG9zdHJlbmRlciIsIkZyYW1lYnVmZmVyU3lzdGVtIiwibWFuYWdlZEZyYW1lYnVmZmVycyIsInVua25vd25GcmFtZWJ1ZmZlciIsInZpZXdwb3J0IiwiaGFzTVJUIiwid3JpdGVEZXB0aFRleHR1cmUiLCJkaXNwb3NlQWxsIiwibmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24iLCJuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24iLCJhY3RpdmVUZXh0dXJlcyIsImRyYXdCdWZmZXJzV0VCR0wiLCJmYm8iLCJpbml0RnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsInVwZGF0ZUZyYW1lYnVmZmVyIiwicmVzaXplRnJhbWVidWZmZXIiLCJ0ZXh0dXJlUGFydCIsInNldFZpZXdwb3J0IiwiZyIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kUmVuZGVyYnVmZmVyIiwiUkVOREVSQlVGRkVSIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsImNvdW50IiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsIkRFUFRIX0FUVEFDSE1FTlQiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsImRpc3Bvc2VGcmFtZWJ1ZmZlciIsImNvbnRleHRMb3N0IiwiZGVsZXRlRnJhbWVidWZmZXIiLCJkZWxldGVSZW5kZXJidWZmZXIiLCJHTEJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJHZW9tZXRyeVN5c3RlbSIsIl9hY3RpdmVHZW9tZXRyeSIsIl9hY3RpdmVWYW8iLCJoYXNWYW8iLCJoYXNJbnN0YW5jZSIsImNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCIsImJvdW5kQnVmZmVycyIsIm1hbmFnZWRHZW9tZXRyaWVzIiwibWFuYWdlZEJ1ZmZlcnMiLCJjcmVhdGVWZXJ0ZXhBcnJheSIsIm5hdGl2ZVZhb0V4dGVuc2lvbiIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwiYmluZFZlcnRleEFycmF5IiwidmFvIiwiYmluZFZlcnRleEFycmF5T0VTIiwiZGVsZXRlVmVydGV4QXJyYXkiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsInZlcnRleEF0dHJpYkRpdmlzb3IiLCJpbnN0YW5jZUV4dCIsInZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRSIsImRyYXdFbGVtZW50c0luc3RhbmNlZCIsImRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFIiwiZHJhd0FycmF5c0luc3RhbmNlZCIsImRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRSIsInZhb3MiLCJwcm9ncmFtIiwiaW5pdEdlb21ldHJ5VmFvIiwiYWN0aXZhdGVWYW8iLCJ1cGRhdGVCdWZmZXJzIiwiZ2xCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIkFSUkFZX0JVRkZFUiIsImJpbmRCdWZmZXIiLCJfYm91bmRCdWZmZXIiLCJidWZmZXJTdWJEYXRhIiwiZHJhd1R5cGUiLCJTVEFUSUNfRFJBVyIsIkRZTkFNSUNfRFJBVyIsImJ1ZmZlckRhdGEiLCJjaGVja0NvbXBhdGliaWxpdHkiLCJnZW9tZXRyeUF0dHJpYnV0ZXMiLCJzaGFkZXJBdHRyaWJ1dGVzIiwiYXR0cmlidXRlRGF0YSIsImdldFNpZ25hdHVyZSIsImF0dHJpYnMiLCJzdHJpbmdzIiwic2lnbmF0dXJlIiwidmFvT2JqZWN0SGFzaCIsInRlbXBTdHJpZGUiLCJ0ZW1wU3RhcnQiLCJhdHRyaWJTaXplIiwiY3JlYXRlQnVmZmVyIiwiZGlzcG9zZUJ1ZmZlciIsImRlbGV0ZUJ1ZmZlciIsImRpc3Bvc2VHZW9tZXRyeSIsImJ1ZiIsInZhb0lkIiwibGFzdEJ1ZmZlciIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwidmVydGV4QXR0cmliUG9pbnRlciIsImJ5dGVTaXplIiwiZ2xUeXBlIiwiVU5TSUdORURfSU5UIiwiZHJhd0VsZW1lbnRzIiwiZHJhd0FycmF5cyIsImNvbXBpbGVQcm9ncmFtIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJnbFZlcnRTaGFkZXIiLCJjb21waWxlU2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImdsRnJhZ1NoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsIlZBTElEQVRFX1NUQVRVUyIsImdldEVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiYm9vbGVhbkFycmF5IiwibWF4RnJhZ21lbnRQcmVjaXNpb24iLCJ1bmtub3duQ29udGV4dCIsImdldFRlc3RDb250ZXh0Iiwic2V0UHJlY2lzaW9uIiwicmVxdWVzdGVkUHJlY2lzaW9uIiwibWF4U3VwcG9ydGVkUHJlY2lzaW9uIiwic3Vic3RyaW5nIiwicHJlY2lzaW9uIiwiR0xTTF9UT19TSVpFIiwiZmxvYXQiLCJ2ZWMyIiwidmVjMyIsInZlYzQiLCJpbnQiLCJpdmVjMiIsIml2ZWMzIiwiaXZlYzQiLCJib29sIiwiYnZlYzIiLCJidmVjMyIsImJ2ZWM0IiwibWF0MiIsIm1hdDMiLCJtYXQ0Iiwic2FtcGxlcjJEIiwibWFwU2l6ZSIsIkdMX1RBQkxFIiwiR0xfVE9fR0xTTF9UWVBFUyIsIkZMT0FUX1ZFQzIiLCJGTE9BVF9WRUMzIiwiRkxPQVRfVkVDNCIsIklOVCIsIklOVF9WRUMyIiwiSU5UX1ZFQzMiLCJJTlRfVkVDNCIsIkJPT0wiLCJCT09MX1ZFQzIiLCJCT09MX1ZFQzMiLCJCT09MX1ZFQzQiLCJGTE9BVF9NQVQyIiwiRkxPQVRfTUFUMyIsIkZMT0FUX01BVDQiLCJTQU1QTEVSXzJEIiwiU0FNUExFUl9DVUJFIiwiU0FNUExFUl8yRF9BUlJBWSIsIm1hcFR5cGUiLCJ0eXBlTmFtZXMiLCJ0biIsIkdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIiwic2FtcGxlckN1YmUiLCJzYW1wbGVyMkRBcnJheSIsIkdMU0xfVE9fQVJSQVlfU0VUVEVSUyIsInVuc2FmZUV2YWwiLCJmcmFnVGVtcGxhdGUiLCJjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIiwibWF4SWZzIiwiZ2VuZXJhdGVJZlRlc3RTcmMiLCJuYW1lQ2FjaGUiLCJQcm9ncmFtIiwiZGVmYXVsdFZlcnRleFNyYyIsImRlZmF1bHRGcmFnbWVudFNyYyIsImdldFNoYWRlclByZWNpc2lvbkZvcm1hdCIsInNoYWRlckZyYWdtZW50IiwiSElHSF9GTE9BVCIsImdldE1heEZyYWdtZW50UHJlY2lzaW9uIiwiZXh0cmFjdERhdGEiLCJnbFByb2dyYW1zIiwiZ2V0QXR0cmlidXRlRGF0YSIsInVuaWZvcm1EYXRhIiwiZ2V0VW5pZm9ybURhdGEiLCJhdHRyaWJ1dGVzQXJyYXkiLCJ0b3RhbEF0dHJpYnV0ZXMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYkRhdGEiLCJnZXRBY3RpdmVBdHRyaWIiLCJ0b3RhbFVuaWZvcm1zIiwiQUNUSVZFX1VOSUZPUk1TIiwiZ2V0QWN0aXZlVW5pZm9ybSIsIlNoYWRlciIsInVuaWZvcm1Hcm91cCIsImNoZWNrVW5pZm9ybUV4aXN0cyIsInVuaWZvcm0iLCJTdGF0ZSIsInBvbHlnb25PZmZzZXQiLCJibGVuZCIsImN1bGxpbmciLCJkZXB0aFRlc3QiLCJjbG9ja3dpc2VGcm9udEZhY2UiLCJfYmxlbmRNb2RlIiwiX3BvbHlnb25PZmZzZXQiLCJmb3IyZCIsIkZpbHRlciIsImFUZXh0dXJlQ29vcmQiLCJmaWx0ZXJNYW5hZ2VyIiwiY3VycmVudFN0YXRlIiwiU09VUkNFX0tFWV9NQVAiLCJ0ZW1wTWF0IiwiVGV4dHVyZU1hdHJpeCIsImNsYW1wTWFyZ2luIiwibWFwQ29vcmQiLCJ1Q2xhbXBGcmFtZSIsInVDbGFtcE9mZnNldCIsImNsYW1wT2Zmc2V0IiwiaXNTaW1wbGUiLCJtdWx0aXBseVV2cyIsImZvcmNlVXBkYXRlIiwidGV4QmFzZSIsIm1hcmdpbiIsIlNwcml0ZU1hc2tGaWx0ZXIiLCJtYXNrTWF0cml4IiwidmVydGV4IiwiZnJhZ21lbnQiLCJtYXNrU3ByaXRlIiwibnBtQWxwaGEiLCJvdGhlck1hdHJpeCIsIm1hc2tDbGFtcCIsIk1hc2tTeXN0ZW0iLCJzY2lzc29yIiwic2Npc3NvckRhdGEiLCJzY2lzc29yUmVuZGVyVGFyZ2V0IiwiZW5hYmxlU2Npc3NvciIsImFscGhhTWFza1Bvb2wiLCJhbHBoYU1hc2tJbmRleCIsIm1hc2tEYXRhIiwicHVzaFNwcml0ZU1hc2siLCJfYWN0aXZlUmVuZGVyVGFyZ2V0IiwiaXNGYXN0UmVjdCIsInJvdCIsInB1c2hTdGVuY2lsTWFzayIsInB1c2hTY2lzc29yTWFzayIsInBvcFNwcml0ZU1hc2siLCJwb3BTY2lzc29yTWFzayIsInBvcFN0ZW5jaWxNYXNrIiwiYWxwaGFNYXNrRmlsdGVyIiwic3Rhc2hGaWx0ZXJBcmVhIiwicHVzaFN0ZW5jaWwiLCJwb3BTdGVuY2lsIiwicmVuZGVyVGFyZ2V0IiwiZW5hYmxlIiwiU0NJU1NPUl9URVNUIiwiZGlzYWJsZSIsIlN0ZW5jaWxTeXN0ZW0iLCJzZXRNYXNrU3RhY2siLCJjdXJTdGFja0xlbiIsIlNURU5DSUxfVEVTVCIsIl91c2VDdXJyZW50IiwiZ3JhcGhpY3MiLCJwcmV2TWFza0NvdW50IiwiY29sb3JNYXNrIiwic3RlbmNpbEZ1bmMiLCJFUVVBTCIsIl9nZXRCaXR3aXNlTWFzayIsInN0ZW5jaWxPcCIsIktFRVAiLCJJTkNSIiwiU1RFTkNJTF9CVUZGRVJfQklUIiwiY2xlYXJTdGVuY2lsIiwiREVDUiIsIlByb2plY3Rpb25TeXN0ZW0iLCJkZWZhdWx0RnJhbWUiLCJwcm9qZWN0aW9uTWF0cml4IiwiY2FsY3VsYXRlUHJvamVjdGlvbiIsInN5bmNVbmlmb3JtR3JvdXAiLCJnbG9iYWxzIiwiUmVuZGVyVGV4dHVyZVN5c3RlbSIsIl9iYWNrZ3JvdW5kQ29sb3JSZ2JhIiwiZGVmYXVsdE1hc2tTdGFjayIsInByb2plY3Rpb24iLCJHTFByb2dyYW0iLCJ1bmlmb3JtR3JvdXBzIiwiU2hhZGVyU3lzdGVtIiwic3lzdGVtQ2hlY2siLCJjYWNoZSIsImZ1bmMiLCJGdW5jdGlvbiIsInVuc2FmZUV2YWxTdXBwb3J0ZWQiLCJkb250U3luYyIsImdsUHJvZ3JhbSIsImdlbmVyYXRlU2hhZGVyIiwic2V0VW5pZm9ybXMiLCJnZXRnbFByb2dyYW0iLCJjcmVhdGVTeW5jR3JvdXBzIiwidGV4dHVyZUNvdW50IiwiZ2VuZXJhdGVVbmlmb3Jtc1N5bmMiLCJhdHRyaWJNYXAiLCJzaGFkZXJQcm9ncmFtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiQkxFTkQiLCJPRkZTRVQiLCJDVUxMSU5HIiwiREVQVEhfVEVTVCIsIldJTkRJTkciLCJTdGF0ZVN5c3RlbSIsInN0YXRlSWQiLCJfYmxlbmRFcSIsInNldEJsZW5kIiwic2V0T2Zmc2V0Iiwic2V0Q3VsbEZhY2UiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJjaGVja3MiLCJkZWZhdWx0U3RhdGUiLCJibGVuZE1vZGVzIiwiT05FIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIkRTVF9DT0xPUiIsIk9ORV9NSU5VU19TUkNfQ09MT1IiLCJTUkNfQUxQSEEiLCJEU1RfQUxQSEEiLCJaRVJPIiwiT05FX01JTlVTX0RTVF9BTFBIQSIsIkZVTkNfUkVWRVJTRV9TVUJUUkFDVCIsIkZVTkNfQUREIiwibWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIiwiZGlmZiIsImZvcmNlU3RhdGUiLCJ1cGRhdGVDaGVjayIsImNoZWNrQmxlbmRNb2RlIiwiY2hlY2tQb2x5Z29uT2Zmc2V0IiwiUE9MWUdPTl9PRkZTRVRfRklMTCIsIkNVTExfRkFDRSIsImZyb250RmFjZSIsInNldEJsZW5kTW9kZSIsIm1vZGUiLCJibGVuZEZ1bmMiLCJibGVuZEZ1bmNTZXBhcmF0ZSIsImJsZW5kRXF1YXRpb25TZXBhcmF0ZSIsInNldFBvbHlnb25PZmZzZXQiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwiVGV4dHVyZUdDU3lzdGVtIiwiY2hlY2tDb3VudCIsIm1heElkbGUiLCJjaGVja0NvdW50TWF4IiwidG0iLCJtYW5hZ2VkVGV4dHVyZXMiLCJ3YXNSZW1vdmVkIiwiZGVzdHJveVRleHR1cmUiLCJ1bmxvYWQiLCJ0ZXh0dXJlU3lzdGVtIiwiX2dsUmVuZGVyVGFyZ2V0cyIsIkdMVGV4dHVyZSIsIlRleHR1cmVTeXN0ZW0iLCJib3VuZFRleHR1cmVzIiwiY3VycmVudExvY2F0aW9uIiwiX3Vua25vd25Cb3VuZFRleHR1cmVzIiwidW5rbm93blRleHR1cmUiLCJtYXhUZXh0dXJlcyIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwiZW1wdHlUZXh0dXJlcyIsImVtcHR5VGV4dHVyZTJEIiwiYmluZFRleHR1cmUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwidGV4dHVyZUdDIiwiaW5pdFRleHR1cmUiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJ1cGRhdGVUZXh0dXJlIiwiaW5pdFRleHR1cmVUeXBlIiwiUkdCQTMyRiIsIlJHQkExNkYiLCJ1cGRhdGVUZXh0dXJlU3R5bGUiLCJza2lwUmVtb3ZlIiwiZGVsZXRlVGV4dHVyZSIsImdlbmVyYXRlTWlwbWFwIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIkxJTkVBUl9NSVBNQVBfTElORUFSIiwiTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCIsImFuaXNvdHJvcGljRXh0IiwibGV2ZWwiLCJNQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZXhQYXJhbWV0ZXJmIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZW1wTWF0cml4IiwiQWJzdHJhY3RSZW5kZXJlciIsInJvdW5kUGl4ZWxzIiwic2NyZWVuIiwiYXV0b1Jlc2l6ZSIsIl9iYWNrZ3JvdW5kQ29sb3IiLCJfYmFja2dyb3VuZENvbG9yU3RyaW5nIiwiaW5pdFBsdWdpbnMiLCJzdGF0aWNNYXAiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImdlbmVyYXRlVGV4dHVyZSIsInJlZ2lvbiIsInJlbW92ZVZpZXciLCJSZW5kZXJlciIsInByZXJlbmRlciIsImFkZFN5c3RlbSIsIl9fcGx1Z2lucyIsInByZW11bHRpcGxpZWRBbHBoYSIsInBvd2VyUHJlZmVyZW5jZSIsIkNsYXNzUmVmIiwic2tpcFVwZGF0ZVRyYW5zZm9ybSIsImNhY2hlUGFyZW50IiwicmVnaXN0ZXJQbHVnaW4iLCJwbHVnaW5OYW1lIiwiY3RvciIsImF1dG9EZXRlY3RSZW5kZXJlciIsIkN1YmVUZXh0dXJlIiwiQmF0Y2hEcmF3Q2FsbCIsIlZpZXdhYmxlQnVmZmVyIiwicmF3QmluYXJ5RGF0YSIsInVpbnQzMlZpZXciLCJmbG9hdDMyVmlldyIsImludDhWaWV3IiwiX2ludDhWaWV3IiwiSW50OEFycmF5IiwidWludDhWaWV3IiwiX3VpbnQ4VmlldyIsImludDE2VmlldyIsIl9pbnQxNlZpZXciLCJJbnQxNkFycmF5IiwidWludDE2VmlldyIsIl91aW50MTZWaWV3IiwiaW50MzJWaWV3IiwiX2ludDMyVmlldyIsInNpemVPZiIsIkFic3RyYWN0QmF0Y2hSZW5kZXJlciIsInNoYWRlckdlbmVyYXRvciIsImdlb21ldHJ5Q2xhc3MiLCJ2ZXJ0ZXhTaXplIiwiX3ZlcnRleENvdW50IiwiX2luZGV4Q291bnQiLCJfYnVmZmVyZWRFbGVtZW50cyIsIl9idWZmZXJTaXplIiwiX3NoYWRlciIsIl9wYWNrZWRHZW9tZXRyaWVzIiwiX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUiLCJfZmx1c2hJZCIsIl9kcmF3Q2FsbHMiLCJfYUJ1ZmZlcnMiLCJfaUJ1ZmZlcnMiLCJNQVhfVEVYVFVSRVMiLCJvblByZXJlbmRlciIsImluZGljZXMiLCJuZXh0VGV4dHVyZSIsImN1cnJlbnRUZXh0dXJlIiwiYXR0cmlidXRlQnVmZmVyIiwiZ2V0QXR0cmlidXRlQnVmZmVyIiwiZ2V0SW5kZXhCdWZmZXIiLCJ0b3VjaCIsImN1cnJlbnRHcm91cCIsImRyYXdDYWxscyIsImdyb3VwQ291bnQiLCJUSUNLIiwiZWxlbWVudHMiLCJzcHJpdGVCbGVuZE1vZGUiLCJfaWQiLCJwYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeSIsInBhY2tlZEdlb21ldHJpZXMiLCJfYnVmZmVyIiwiX2luZGV4QnVmZmVyIiwic3RhdGVTeXN0ZW0iLCJncm91cFRleHR1cmVDb3VudCIsInJvdW5kZWRQMiIsInJvdW5kZWRTaXplSW5kZXgiLCJyb3VuZGVkU2l6ZSIsImFJbmRleCIsImlJbmRleCIsInBhY2tlZFZlcnRpY2VzIiwiaW5kaWNpZXMiLCJ0ZXh0dXJlSWQiLCJhcmdiIiwiX3RpbnRSR0IiLCJCYXRjaFNoYWRlckdlbmVyYXRvciIsInByb2dyYW1DYWNoZSIsImRlZmF1bHRHcm91cENhY2hlIiwic2FtcGxlVmFsdWVzIiwidVNhbXBsZXJzIiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJ0cmFuc2xhdGlvbk1hdHJpeCIsImRlZmF1bHQiLCJCYXRjaEdlb21ldHJ5IiwiQmF0Y2hQbHVnaW5GYWN0b3J5IiwiZGVmYXVsdFZlcnRleCIsImRlZmF1bHRGcmFnbWVudCIsImRlZmF1bHRGcmFnbWVudFRlbXBsYXRlIiwiQmF0Y2hSZW5kZXJlciIsIlRFTVBfUkVDVCIsIkV4dHJhY3QiLCJleHRyYWN0IiwiaW1hZ2UiLCJxdWFsaXR5IiwiYmFzZTY0IiwidG9EYXRhVVJMIiwiZmxpcFkiLCJnZW5lcmF0ZWQiLCJjYW52YXNCdWZmZXIiLCJ3ZWJnbFBpeGVscyIsInJlYWRQaXhlbHMiLCJjYW52YXNEYXRhIiwiYXJyYXlQb3N0RGl2aWRlIiwicHV0SW1hZ2VEYXRhIiwiSW50ZXJhY3Rpb25EYXRhIiwib3JpZ2luYWxFdmVudCIsImlkZW50aWZpZXIiLCJpc1ByaW1hcnkiLCJidXR0b24iLCJidXR0b25zIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwicHJlc3N1cmUiLCJyb3RhdGlvbkFuZ2xlIiwidHdpc3QiLCJ0YW5nZW50aWFsUHJlc3N1cmUiLCJwb2ludGVySWQiLCJnZXRMb2NhbFBvc2l0aW9uIiwiZ2xvYmFsUG9zIiwiY29weUV2ZW50Iiwid2hpY2giLCJJbnRlcmFjdGlvbkV2ZW50Iiwic3RvcHBlZCIsImN1cnJlbnRUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJJbnRlcmFjdGlvblRyYWNraW5nRGF0YSIsIl9wb2ludGVySWQiLCJfZmxhZ3MiLCJGTEFHUyIsIl9kb1NldCIsInluIiwiZmxhZ3MiLCJub25lIiwib3ZlciIsIk9WRVIiLCJyaWdodERvd24iLCJSSUdIVF9ET1dOIiwibGVmdERvd24iLCJMRUZUX0RPV04iLCJmcmVlemUiLCJidXR0b25Nb2RlIiwiY3Vyc29yIiwidHJhY2tlZFBvaW50ZXJzIiwiX3RyYWNrZWRQb2ludGVycyIsImludGVyYWN0aXZlVGFyZ2V0IiwiTU9VU0VfUE9JTlRFUl9JRCIsImhpdFRlc3RFdmVudCIsIkludGVyYWN0aW9uTWFuYWdlciIsImF1dG9QcmV2ZW50RGVmYXVsdCIsImludGVyYWN0aW9uRnJlcXVlbmN5IiwibW91c2UiLCJhY3RpdmVJbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkRhdGFQb29sIiwiaW50ZXJhY3Rpb25ET01FbGVtZW50IiwibW92ZVdoZW5JbnNpZGUiLCJldmVudHNBZGRlZCIsIm1vdXNlT3ZlclJlbmRlcmVyIiwic3VwcG9ydHNUb3VjaEV2ZW50cyIsInN1cHBvcnRzUG9pbnRlckV2ZW50cyIsIlBvaW50ZXJFdmVudCIsIm9uUG9pbnRlclVwIiwicHJvY2Vzc1BvaW50ZXJVcCIsIm9uUG9pbnRlckNhbmNlbCIsInByb2Nlc3NQb2ludGVyQ2FuY2VsIiwib25Qb2ludGVyRG93biIsInByb2Nlc3NQb2ludGVyRG93biIsIm9uUG9pbnRlck1vdmUiLCJwcm9jZXNzUG9pbnRlck1vdmUiLCJvblBvaW50ZXJPdXQiLCJwcm9jZXNzUG9pbnRlck92ZXJPdXQiLCJvblBvaW50ZXJPdmVyIiwiY3Vyc29yU3R5bGVzIiwicG9pbnRlciIsImN1cnJlbnRDdXJzb3JNb2RlIiwiX3RlbXBQb2ludCIsImRlbGF5ZWRFdmVudHMiLCJzZXRUYXJnZXRFbGVtZW50IiwiaGl0VGVzdCIsImdsb2JhbFBvaW50IiwicHJvY2Vzc0ludGVyYWN0aXZlIiwicmVtb3ZlRXZlbnRzIiwiYWRkRXZlbnRzIiwibXNQb2ludGVyRW5hYmxlZCIsIl9kZWx0YVRpbWUiLCJkaWRNb3ZlIiwiaW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25FdmVudCIsImNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCIsInNldEN1cnNvck1vZGUiLCJldmVudFN0cmluZyIsImRlbGF5RGlzcGF0Y2hFdmVudCIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInBhcmVudEVsZW1lbnQiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsInNraXBEZWxheWVkIiwiaGl0IiwiaW50ZXJhY3RpdmVQYXJlbnQiLCJoaXRUZXN0Q2hpbGRyZW4iLCJjb250YWluc1BvaW50IiwiY2hpbGRIaXQiLCJkZWxheWVkTGVuIiwiZGVsYXllZCIsIm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEiLCJpc05vcm1hbGl6ZWQiLCJjYW5jZWxhYmxlIiwiZXZlbnRMZW4iLCJnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJpc1JpZ2h0QnV0dG9uIiwib25Qb2ludGVyQ29tcGxldGUiLCJjYW5jZWxsZWQiLCJldmVudEFwcGVuZCIsInJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJ0cmFja2luZ0RhdGEiLCJpc1RvdWNoIiwiaXNNb3VzZSIsImlzTW91c2VUYXAiLCJpc0Rvd24iLCJwb2ludGVyRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsImdsb2JhbFgiLCJnbG9iYWxZIiwibm9ybWFsaXplZEV2ZW50cyIsIlRvdWNoRXZlbnQiLCJsaSIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2hlcyIsInJhZGl1c1giLCJyYWRpdXNZIiwiZm9yY2UiLCJsYXllclgiLCJvZmZzZXRYIiwibGF5ZXJZIiwib2Zmc2V0WSIsIk1vdXNlRXZlbnQiLCJHUkFQSElDU19DVVJWRVMiLCJhZGFwdGl2ZSIsIm1heExlbmd0aCIsIm1pblNlZ21lbnRzIiwibWF4U2VnbWVudHMiLCJfc2VnbWVudHNDb3VudCIsImRlZmF1bHRTZWdtZW50cyIsIkZpbGxTdHlsZSIsImNvbG9yIiwiR3JhcGhpY3NEYXRhIiwic2hhcGUiLCJsaW5lU3R5bGUiLCJidWlsZCIsImdyYXBoaWNzRGF0YSIsImNpcmNsZURhdGEiLCJ0b3RhbFNlZ3MiLCJzZWciLCJ0cmlhbmd1bGF0ZSIsImdyYXBoaWNzR2VvbWV0cnkiLCJ2ZXJ0cyIsInZlcnRQb3MiLCJjZW50ZXIiLCJuYXRpdmUiLCJjbG9zZWRTaGFwZSIsInN0YXJ0SW5kZXgiLCJidWlsZE5hdGl2ZUxpbmUiLCJjbG9zZVBvaW50RXBzIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsImNsb3NlZFBhdGgiLCJtaWRQb2ludFgiLCJtaWRQb2ludFkiLCJpbmRleENvdW50IiwiaW5kZXhTdGFydCIsInAxeCIsInAxeSIsInAyeCIsInAyeSIsInAzeCIsInAzeSIsInBlcnB4IiwicGVycHkiLCJwZXJwMngiLCJwZXJwMnkiLCJwZXJwM3giLCJwZXJwM3kiLCJkaXN0IiwicmF0aW8iLCJhbGlnbm1lbnQiLCJyMSIsImMyIiwiZGVub20iLCJwZGlzdCIsImJ1aWxkTGluZSIsImhvbGVBcnJheSIsInJyZWN0RGF0YSIsInF1YWRyYXRpY0JlemllckN1cnZlIiwidmVjUG9zIiwiZ2V0UHQiLCJuMSIsIm4yIiwicGVyYyIsImZyb21YIiwiZnJvbVkiLCJjcFgiLCJjcFkiLCJ0b1giLCJ0b1kiLCJ4YSIsInlhIiwieGIiLCJ5YiIsIkJBVENIX1BPT0wiLCJEUkFXX0NBTExfUE9PTCIsInRtcFBvaW50IiwiZmlsbENvbW1hbmRzIiwiYnVpbGRQb2x5IiwiYnVpbGRDaXJjbGUiLCJyZWN0RGF0YSIsImJ1aWxkUm91bmRlZFJlY3RhbmdsZSIsIkJhdGNoUGFydCIsImF0dHJpYlN0YXJ0IiwiR3JhcGhpY3NHZW9tZXRyeSIsImNvbG9ycyIsInRleHR1cmVJZHMiLCJiYXRjaERpcnR5IiwiY2FjaGVEaXJ0eSIsImNsZWFyRGlydHkiLCJiYXRjaGVzIiwic2hhcGVJbmRleCIsImJvdW5kc0RpcnR5IiwiYm91bmRzUGFkZGluZyIsImJhdGNoYWJsZSIsImluZGljZXNVaW50MTYiLCJkcmF3U2hhcGUiLCJkcmF3SG9sZSIsImxhc3RTaGFwZSIsInVwZGF0ZUJhdGNoZXMiLCJiYXRjaFBhcnQiLCJjdXJyZW50Q29sb3IiLCJjdXJyZW50TmF0aXZlIiwiY29tbWFuZCIsInRyYW5zZm9ybVBvaW50cyIsImF0dHJpYkluZGV4IiwicHJvY2Vzc0hvbGVzIiwiYWRkVXZzIiwiaXNCYXRjaGFibGUiLCJidWlsZERyYXdDYWxscyIsIkJBVENIQUJMRV9TSVpFIiwiZHJhd01vZGUiLCJhZGRDb2xvcnMiLCJhZGRUZXh0dXJlSWRzIiwiZ2xQb2ludHMiLCJmMzIiLCJ1MzIiLCJsaW5lV2lkdGgiLCJydyIsInJoIiwicmdiYSIsInV2c1N0YXJ0IiwibngiLCJhZGp1c3RVdnMiLCJmaW5pc2giLCJMaW5lU3R5bGUiLCJCZXppZXJVdGlscyIsImN1cnZlTGVuZ3RoIiwiY3BYMiIsImNwWTIiLCJ0MiIsInQzIiwibnQiLCJudDIiLCJudDMiLCJwcmV2WCIsInByZXZZIiwiY3VydmVUbyIsImR0IiwiZHQyIiwiZHQzIiwiUXVhZHJhdGljVXRpbHMiLCJhMzIiLCJiYSIsIkFyY1V0aWxzIiwibW0iLCJkZCIsImNjIiwidHQiLCJrMSIsImsyIiwiajEiLCJqMiIsInF5Iiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiYW50aWNsb2Nrd2lzZSIsImFyYyIsInN0YXJ0WCIsInN0YXJ0WSIsInN3ZWVwIiwidGhldGEiLCJ0aGV0YTIiLCJjVGhldGEiLCJzVGhldGEiLCJzZWdNaW51cyIsInJlbWFpbmRlciIsIlN0YXIiLCJpbm5lclJhZGl1cyIsInRlbXAiLCJkZWZhdWx0U2hhZGVyIiwiR3JhcGhpY3MiLCJfZmlsbFN0eWxlIiwiX2xpbmVTdHlsZSIsIl9tYXRyaXgiLCJfaG9sZU1vZGUiLCJjdXJyZW50UGF0aCIsImJhdGNoVGludCIsIl90cmFuc2Zvcm1JRCIsImZpbmlzaFBvbHkiLCJfdGludCIsImZpbGwiLCJsaW5lIiwibGluZVRleHR1cmVTdHlsZSIsInN0YXJ0UG9seSIsIm1vdmVUbyIsImxpbmVUbyIsIl9pbml0Q3VydmUiLCJxdWFkcmF0aWNDdXJ2ZVRvIiwiYmV6aWVyQ3VydmVUbyIsImFyY1RvIiwieERpZmYiLCJ5RGlmZiIsImJlZ2luRmlsbCIsImJlZ2luVGV4dHVyZUZpbGwiLCJlbmRGaWxsIiwiZHJhd1JlY3QiLCJkcmF3Um91bmRlZFJlY3QiLCJkcmF3Q2lyY2xlIiwiZHJhd0VsbGlwc2UiLCJkcmF3UG9seWdvbiIsImRyYXdTdGFyIiwiZ0kiLCJfYmF0Y2hSR0IiLCJjYWxjdWxhdGVWZXJ0aWNlcyIsImNhbGN1bGF0ZVRpbnRzIiwid2EiLCJkcmF3Q2FsbCIsImxiIiwiX1RFTVBfUE9JTlQiLCJ0aW50UkdCIiwiY2xvc2VQYXRoIiwic2V0TWF0cml4IiwiYmVnaW5Ib2xlIiwiZW5kSG9sZSIsInRlbXBQb2ludCIsIlNwcml0ZSIsIl9hbmNob3IiLCJfb25BbmNob3JVcGRhdGUiLCJfY2FjaGVkVGludCIsInZlcnRleFRyaW1tZWREYXRhIiwiX3RleHR1cmVJRCIsIl90cmFuc2Zvcm1UcmltbWVkSUQiLCJfdGV4dHVyZVRyaW1tZWRJRCIsIl9yb3VuZFBpeGVscyIsIl9vblRleHR1cmVVcGRhdGUiLCJ3MCIsIncxIiwiaDAiLCJoMSIsImNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyIsImRlc3Ryb3lCYXNlVGV4dHVyZSIsIlRFWFRfR1JBRElFTlQiLCJMSU5FQVJfVkVSVElDQUwiLCJMSU5FQVJfSE9SSVpPTlRBTCIsImRlZmF1bHRTdHlsZSIsImFsaWduIiwiYnJlYWtXb3JkcyIsImRyb3BTaGFkb3ciLCJkcm9wU2hhZG93QWxwaGEiLCJkcm9wU2hhZG93QW5nbGUiLCJkcm9wU2hhZG93Qmx1ciIsImRyb3BTaGFkb3dDb2xvciIsImRyb3BTaGFkb3dEaXN0YW5jZSIsImZpbGxHcmFkaWVudFR5cGUiLCJmaWxsR3JhZGllbnRTdG9wcyIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRTdHlsZSIsImZvbnRWYXJpYW50IiwiZm9udFdlaWdodCIsImxldHRlclNwYWNpbmciLCJsaW5lSGVpZ2h0IiwibGluZUpvaW4iLCJtaXRlckxpbWl0Iiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwidGV4dEJhc2VsaW5lIiwid2hpdGVTcGFjZSIsIndvcmRXcmFwIiwid29yZFdyYXBXaWR0aCIsImxlYWRpbmciLCJnZW5lcmljRm9udEZhbWlsaWVzIiwiVGV4dFN0eWxlIiwic3R5bGVJRCIsImRlZXBDb3B5UHJvcGVydGllcyIsImdldFNpbmdsZUNvbG9yIiwiZ2V0Q29sb3IiLCJwcm9wZXJ0eU9iaiIsImNsb25lZFByb3BlcnRpZXMiLCJfYWxpZ24iLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2Ryb3BTaGFkb3dBbHBoYSIsIl9kcm9wU2hhZG93QW5nbGUiLCJfZHJvcFNoYWRvd0JsdXIiLCJfZHJvcFNoYWRvd0NvbG9yIiwib3V0cHV0Q29sb3IiLCJfZHJvcFNoYWRvd0Rpc3RhbmNlIiwiX2ZpbGwiLCJfZmlsbEdyYWRpZW50VHlwZSIsIl9maWxsR3JhZGllbnRTdG9wcyIsImFycmF5MSIsImFycmF5MiIsImFyZUFycmF5c0VxdWFsIiwiX2ZvbnRGYW1pbHkiLCJfZm9udFNpemUiLCJfZm9udFN0eWxlIiwiX2ZvbnRWYXJpYW50IiwiX2ZvbnRXZWlnaHQiLCJfbGV0dGVyU3BhY2luZyIsIl9saW5lSGVpZ2h0IiwiX2xlYWRpbmciLCJfbGluZUpvaW4iLCJfbWl0ZXJMaW1pdCIsIl9wYWRkaW5nIiwiX3N0cm9rZSIsIl9zdHJva2VUaGlja25lc3MiLCJfdGV4dEJhc2VsaW5lIiwiX3RyaW0iLCJfd2hpdGVTcGFjZSIsIl93b3JkV3JhcCIsIl93b3JkV3JhcFdpZHRoIiwidG9Gb250U3RyaW5nIiwiZm9udFNpemVTdHJpbmciLCJmb250RmFtaWxpZXMiLCJUZXh0TWV0cmljcyIsInRleHQiLCJsaW5lcyIsImxpbmVXaWR0aHMiLCJtYXhMaW5lV2lkdGgiLCJmb250UHJvcGVydGllcyIsIm1lYXN1cmVUZXh0IiwiX2NhbnZhcyIsImZvbnQiLCJtZWFzdXJlRm9udCIsImFzY2VudCIsImNvbGxhcHNlU3BhY2VzIiwiY29sbGFwc2VOZXdsaW5lcyIsImNhblByZXBlbmRTcGFjZXMiLCJ0b2tlbnMiLCJ0b2tlbml6ZSIsInRva2VuIiwiaXNOZXdsaW5lIiwiYWRkTGluZSIsImN1cnJJc0JyZWFraW5nU3BhY2UiLCJpc0JyZWFraW5nU3BhY2UiLCJsYXN0SXNCcmVha2luZ1NwYWNlIiwidG9rZW5XaWR0aCIsImdldEZyb21DYWNoZSIsImNhbkJyZWFrV29yZHMiLCJjaGFyYWN0ZXJzIiwiY2hhciIsIm5leHRDaGFyIiwibGFzdENoYXIiLCJjYW5CcmVha0NoYXJzIiwiY2hhcmFjdGVyV2lkdGgiLCJpc0xhc3RUb2tlbiIsIm5ld0xpbmUiLCJ0cmltUmlnaHQiLCJzcGFjaW5nIiwiX25ld2xpbmVzIiwiX2JyZWFraW5nU3BhY2VzIiwiX2ZvbnRzIiwicHJvcGVydGllcyIsIl9jb250ZXh0IiwibWV0cmljc1N0cmluZyIsIk1FVFJJQ1NfU1RSSU5HIiwiQkFTRUxJTkVfU1lNQk9MIiwiYmFzZWxpbmUiLCJCQVNFTElORV9NVUxUSVBMSUVSIiwiZmlsbFRleHQiLCJpbWFnZWRhdGEiLCJkZXNjZW50IiwiY2xlYXJNZXRyaWNzIiwiZXgiLCJkZWZhdWx0RGVzdHJveU9wdGlvbnMiLCJUZXh0IiwiX3Jlc29sdXRpb24iLCJfYXV0b1Jlc29sdXRpb24iLCJfdGV4dCIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwiX2ZvbnQiLCJsb2NhbFN0eWxlSUQiLCJ1cGRhdGVUZXh0IiwicmVzcGVjdERpcnR5IiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJtZWFzdXJlZCIsInBhc3Nlc0NvdW50IiwiaXNTaGFkb3dQYXNzIiwiZHNPZmZzZXRUZXh0IiwiZHNPZmZzZXRTaGFkb3ciLCJzdHJva2VTdHlsZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwiY3VycmVudENoYXIiLCJzdHJva2VUZXh0IiwidHJpbW1lZCIsIl9vblN0eWxlQ2hhbmdlIiwiZ3JhZGllbnQiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJjdXJyZW50SXRlcmF0aW9uIiwibGVuZ3RoUGx1czEiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsIlVQTE9BRFNfUEVSX0ZSQU1FIiwiQ291bnRMaW1pdGVyIiwibWF4SXRlbXNQZXJGcmFtZSIsIml0ZW1zTGVmdCIsImJlZ2luRnJhbWUiLCJhbGxvd2VkVG9VcGxvYWQiLCJCYXNlUHJlcGFyZSIsImxpbWl0ZXIiLCJ1cGxvYWRIb29rSGVscGVyIiwiYWRkSG9va3MiLCJ1cGxvYWRIb29rcyIsImNvbXBsZXRlcyIsInRpY2tpbmciLCJkZWxheWVkVGljayIsInByZXBhcmVJdGVtcyIsInJlZ2lzdGVyRmluZEhvb2siLCJmaW5kVGV4dCIsImZpbmRUZXh0U3R5bGUiLCJmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMiLCJmaW5kQmFzZVRleHR1cmUiLCJmaW5kVGV4dHVyZSIsInJlZ2lzdGVyVXBsb2FkSG9vayIsImRyYXdUZXh0IiwiY2FsY3VsYXRlVGV4dFN0eWxlIiwiX3RleHR1cmVzIiwiaGVscGVyIiwiZG9uZSIsInRpY2siLCJ1cGxvYWRlZCIsImFkZEhvb2siLCJ1cGxvYWRIb29rIiwiUHJlcGFyZSIsImZpbmRHcmFwaGljcyIsInVwbG9hZEJhc2VUZXh0dXJlcyIsInVwbG9hZEdyYXBoaWNzIiwiX3dlYkdMIiwidXBkYXRlR3JhcGhpY3MiLCJUaW1lTGltaXRlciIsIm1heE1pbGxpc2Vjb25kcyIsImZyYW1lU3RhcnQiLCJBcHBsaWNhdGlvbiIsImZvcmNlQ2FudmFzIiwic3RhZ2UiLCJfcGx1Z2lucyIsInBsdWdpbiIsInN0YWdlT3B0aW9ucyIsInJldmVyc2UiLCJfb3B0aW9ucyIsIlJlc2l6ZVBsdWdpbiIsImRvbSIsIl9yZXNpemVUbyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwicmVzaXplVG8iLCJzdHIiLCJvcHRzIiwicGFyc2VyIiwic3RyaWN0IiwibG9vc2UiLCJzdHJpY3RNb2RlIiwidXJpIiwiJDAiLCIkMSIsIiQyIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwiTWluaVNpZ25hbEJpbmRpbmciLCJ0aGlzQXJnIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9uZXh0IiwiX3ByZXYiLCJfb3duZXIiLCJkZXRhY2giLCJfYWRkTWluaVNpZ25hbEJpbmRpbmciLCJub2RlIiwiX3RhaWwiLCJNaW5pU2lnbmFsIiwiZXhpc3RzIiwiX25vb3AiLCJlYWNoU2VyaWVzIiwiaXRlcmF0b3IiLCJkZWZlck5leHQiLCJvbmx5T25jZSIsImNhbGxGbiIsIndvcmtlciIsImNvbmN1cnJlbmN5Iiwid29ya2VycyIsIl90YXNrcyIsInNhdHVyYXRlZCIsInVuc2F0dXJhdGVkIiwiZHJhaW4iLCJfaW5zZXJ0Iiwia2lsbCIsInRhc2siLCJydW5uaW5nIiwiaWRsZSIsInJlc3VtZSIsImluc2VydEF0RnJvbnQiLCJ1c2VYZHIiLCJYRG9tYWluUmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJ0aW1lb3V0IiwibG9hZFR5cGUiLCJfZGV0ZXJtaW5lTG9hZFR5cGUiLCJ4aHJUeXBlIiwibWV0YWRhdGEiLCJ4aHIiLCJUWVBFIiwicHJvZ3Jlc3NDaHVuayIsIl9kZXF1ZXVlIiwiX29uTG9hZEJpbmRpbmciLCJfZWxlbWVudFRpbWVyIiwiX2JvdW5kQ29tcGxldGUiLCJfYm91bmRPbkVycm9yIiwiX2JvdW5kT25Qcm9ncmVzcyIsIl9vblByb2dyZXNzIiwiX2JvdW5kT25UaW1lb3V0IiwiX29uVGltZW91dCIsIl9ib3VuZFhock9uRXJyb3IiLCJfeGhyT25FcnJvciIsIl9ib3VuZFhock9uVGltZW91dCIsIl94aHJPblRpbWVvdXQiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwib25TdGFydCIsIlNpZ25hbCIsIm9uUHJvZ3Jlc3MiLCJvbkNvbXBsZXRlIiwib25BZnRlck1pZGRsZXdhcmUiLCJzZXRFeHRlbnNpb25Mb2FkVHlwZSIsImV4dG5hbWUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJfY2xlYXJFdmVudHMiLCJfZmluaXNoIiwiYWJvcnQiLCJ4ZHIiLCJFTVBUWV9HSUYiLCJmaXJzdENoaWxkIiwiaXNMb2FkaW5nIiwiaXNDb21wbGV0ZSIsIl90aGlzIiwiTE9BRElORyIsIl9kZXRlcm1pbmVDcm9zc09yaWdpbiIsIkxPQURfVFlQRSIsIklNQUdFIiwiX2xvYWRFbGVtZW50IiwiQVVESU8iLCJfbG9hZFNvdXJjZUVsZW1lbnQiLCJWSURFTyIsIlhIUiIsIl9sb2FkWGRyIiwiX2xvYWRYaHIiLCJfaGFzRmxhZyIsIm9udGltZW91dCIsIm9ucHJvZ3Jlc3MiLCJDT01QTEVURSIsImxvYWRFbGVtZW50Iiwic2tpcFNvdXJjZSIsIkF1ZGlvIiwiaXNDb2Nvb25KUyIsIm1pbWVUeXBlcyIsIm1pbWVUeXBlIiwiX2NyZWF0ZVNvdXJjZSIsIl9kZXRlcm1pbmVYaHJUeXBlIiwib3BlbiIsIlhIUl9SRVNQT05TRV9UWVBFIiwiSlNPTiIsIkRPQ1VNRU5UIiwicmVzcG9uc2VUeXBlIiwiVEVYVCIsInNlbmQiLCJub2RlTmFtZSIsImxlbmd0aENvbXB1dGFibGUiLCJsb2FkZWQiLCJ0b3RhbCIsInJlcVR5cGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwicmVzcG9uc2VUZXh0IiwiQlVGRkVSIiwiRE9NUGFyc2VyIiwiZG9tcGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiaW5uZXJIVE1MIiwiWE1MIiwicmVzcG9uc2UiLCJyZXNwb25zZVVSTCIsIm9yaWdpbiIsInBhcnNlVXJpIiwiaXNEYXRhVXJsIiwic2xhc2hJbmRleCIsInF1ZXJ5U3RhcnQiLCJoYXNoU3RhcnQiLCJfZ2V0TWltZUZyb21YaHJUeXBlIiwiQkxPQiIsIkRFRkFVTFQiLCJnaWYiLCJwbmciLCJibXAiLCJqcGciLCJqcGVnIiwidGlmIiwidGlmZiIsIndlYnAiLCJ0Z2EiLCJtcDMiLCJvZ2ciLCJ3YXYiLCJtcDQiLCJ3ZWJtIiwieGh0bWwiLCJodG1sIiwiaHRtIiwieG1sIiwidG14IiwidHN4IiwianNvbiIsInR4dCIsInR0ZiIsIm90ZiIsIl9rZXlTdHIiLCJVUkwiLCJ3ZWJraXRVUkwiLCJCbG9iIiwiY3JlYXRlT2JqZWN0VVJMIiwiYmxvYiIsInJldm9rZU9iamVjdFVSTCIsImdldFJlc3BvbnNlSGVhZGVyIiwiaW54IiwiYnl0ZWJ1ZmZlciIsImVuY29kZWRDaGFySW5kZXhlcyIsImpueCIsImVuY29kZUJpbmFyeSIsInJneEV4dHJhY3RVcmxIYXNoIiwiTG9hZGVyIiwiYmFzZVVybCIsInByb2dyZXNzIiwibG9hZGluZyIsImRlZmF1bHRRdWVyeVN0cmluZyIsIl9iZWZvcmVNaWRkbGV3YXJlIiwiX2FmdGVyTWlkZGxld2FyZSIsIl9yZXNvdXJjZXNQYXJzaW5nIiwiX2JvdW5kTG9hZFJlc291cmNlIiwiX2xvYWRSZXNvdXJjZSIsIl9xdWV1ZSIsImFzeW5jIiwib25Mb2FkIiwiX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlIiwicHJlIiwiX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUiLCJ1c2UiLCJwYXJlbnRSZXNvdXJjZSIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiZWFjaENodW5rIiwicmVzIiwiX29uU3RhcnQiLCJfb25Db21wbGV0ZSIsImNodW5rIiwicGFyc2VkVXJsIiwiZGVxdWV1ZSIsIl90aGlzMiIsIl9vbkxvYWQiLCJfdGhpczMiLCJUZXh0dXJlTG9hZGVyIiwiUmVzb3VyY2VMb2FkZXIiLCJtaWRkbGV3YXJlIiwicGFyc2luZyIsIkFwcExvYWRlclBsdWdpbiIsInNoYXJlZExvYWRlciIsImxvYWRlciIsIkxvYWRlclJlc291cmNlIiwiUGFydGljbGVDb250YWluZXIiLCJtYXhTaXplIiwiYmF0Y2hTaXplIiwiX3Byb3BlcnRpZXMiLCJfbWF4U2l6ZSIsIl9iYXRjaFNpemUiLCJfYnVmZmVycyIsIl9idWZmZXJVcGRhdGVJRHMiLCJzZXRQcm9wZXJ0aWVzIiwidGludFJnYiIsInBhcnRpY2xlIiwic21hbGxlc3RDaGlsZEluZGV4IiwiUGFydGljbGVCdWZmZXIiLCJkeW5hbWljUHJvcGVydHlGbGFncyIsImR5bmFtaWNQcm9wZXJ0aWVzIiwic3RhdGljUHJvcGVydGllcyIsInByb3BlcnR5IiwiYXR0cmlidXRlTmFtZSIsInVwbG9hZEZ1bmN0aW9uIiwic3RhdGljU3RyaWRlIiwic3RhdGljQnVmZmVyIiwic3RhdGljRGF0YSIsInN0YXRpY0RhdGFVaW50MzIiLCJkeW5hbWljU3RyaWRlIiwiZHluYW1pY0J1ZmZlciIsImR5bmFtaWNEYXRhIiwiZHluYW1pY0RhdGFVaW50MzIiLCJpbml0QnVmZmVycyIsImR5bmFtaWNPZmZzZXQiLCJkeW5CdWZmZXIiLCJzdGF0aWNPZmZzZXQiLCJzdGF0QnVmZmVyIiwicHJvcGVydHkkMiIsInByb3BlcnR5JDMiLCJ1cGxvYWREeW5hbWljIiwiYW1vdW50IiwidXBsb2FkU3RhdGljIiwiUGFydGljbGVSZW5kZXJlciIsInVwbG9hZFZlcnRpY2VzIiwidXBsb2FkUG9zaXRpb24iLCJ1cGxvYWRSb3RhdGlvbiIsInVwbG9hZFV2cyIsInVwbG9hZFRpbnQiLCJ0b3RhbENoaWxkcmVuIiwiZ2VuZXJhdGVCdWZmZXJzIiwidUNvbG9yIiwidXBkYXRlU3RhdGljIiwiX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciIsImJpZCIsInNwcml0ZVBvc2l0aW9uIiwic3ByaXRlUm90YXRpb24iLCJ0ZXh0dXJlVXZzIiwiU3ByaXRlc2hlZXQiLCJyZXNvbHV0aW9uRmlsZW5hbWUiLCJhbmltYXRpb25zIiwiX3VwZGF0ZVJlc29sdXRpb24iLCJfZnJhbWVzIiwiZnJhbWVzIiwiX2ZyYW1lS2V5cyIsIl9iYXRjaEluZGV4IiwiX2NhbGxiYWNrIiwiQkFUQ0hfU0laRSIsIm1ldGEiLCJfcHJvY2Vzc0ZyYW1lcyIsIl9wcm9jZXNzQW5pbWF0aW9ucyIsIl9wYXJzZUNvbXBsZXRlIiwiX25leHRCYXRjaCIsImluaXRpYWxGcmFtZUluZGV4IiwiZnJhbWVJbmRleCIsIm1heEZyYW1lcyIsInNvdXJjZVNpemUiLCJyb3RhdGVkIiwic3ByaXRlU291cmNlU2l6ZSIsImFuaW1OYW1lIiwiZnJhbWVOYW1lIiwiU3ByaXRlc2hlZXRMb2FkZXIiLCJpbWFnZVJlc291cmNlTmFtZSIsImxvYWRPcHRpb25zIiwiaW1hZ2VNZXRhZGF0YSIsInJlc291cmNlUGF0aCIsImdldFJlc291cmNlUGF0aCIsInNwcml0ZXNoZWV0IiwiVGlsaW5nU3ByaXRlIiwidGlsZVRyYW5zZm9ybSIsIl9jYW52YXNQYXR0ZXJuIiwidXZSZXNwZWN0QW5jaG9yIiwidGlsZVNjYWxlIiwidGlsZVBvc2l0aW9uIiwiZnJvbUZyYW1lIiwiZnJhbWVJZCIsImZyb21JbWFnZSIsImltYWdlSWQiLCJUaWxpbmdTcHJpdGVSZW5kZXJlciIsInNpbXBsZVNoYWRlciIsImZyYWdtZW50U2ltcGxlIiwidHMiLCJiYXNlVGV4IiwidXYiLCJIIiwidU1hcENvb3JkIiwidVRyYW5zZm9ybSIsIkJpdG1hcFRleHQiLCJfdGV4dFdpZHRoIiwiX3RleHRIZWlnaHQiLCJfZ2x5cGhzIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJmb250cyIsImNoYXJzIiwidGV4dExlbmd0aCIsIm1heFdpZHRoIiwicHJldkNoYXJDb2RlIiwibGFzdExpbmVXaWR0aCIsImxhc3RCcmVha1BvcyIsImxhc3RCcmVha1dpZHRoIiwic3BhY2VzUmVtb3ZlZCIsIm1heExpbmVIZWlnaHQiLCJjaGFyQ29kZSIsImNoYXJEYXRhIiwia2VybmluZyIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwieEFkdmFuY2UiLCJsaW5lQWxpZ25PZmZzZXRzIiwiYWxpZ25PZmZzZXQiLCJsZW5DaGFycyIsInZhbGlkYXRlIiwidGV4dFdpZHRoIiwidGV4dEhlaWdodCIsInJlZ2lzdGVyRm9udCIsImluZm8iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNvbW1vbiIsInBhZ2VzIiwicGFnZXNUZXh0dXJlcyIsImxldHRlcnMiLCJwYWdlIiwidGV4dHVyZVJlY3QiLCJrZXJuaW5ncyIsImZpcnN0Iiwic2Vjb25kIiwiQml0bWFwRm9udExvYWRlciIsImJpdG1hcEZvbnQiLCJkaXJuYW1lIiwiZGlyIiwieG1sVXJsIiwicGFnZUZpbGUiLCJiaXRtYXBSZXNvdXJjZSIsIkFscGhhRmlsdGVyIiwidUFscGhhIiwidmVydFRlbXBsYXRlIiwiR0FVU1NJQU5fVkFMVUVTIiwiNSIsIjciLCI5IiwiMTEiLCIxMyIsIjE1IiwiQmx1ckZpbHRlclBhc3MiLCJob3Jpem9udGFsIiwic3RyZW5ndGgiLCJrZXJuZWxTaXplIiwidmVydFNyYyIsInRlbXBsYXRlIiwiaGFsZkxlbmd0aCIsInZlcnRTb3VyY2UiLCJibHVyTG9vcCIsImJsdXIiLCJnZW5lcmF0ZUJsdXJWZXJ0U291cmNlIiwiZnJhZ1NyYyIsImtlcm5lbCIsImZyYWdTb3VyY2UiLCJnZW5lcmF0ZUJsdXJGcmFnU291cmNlIiwiX3F1YWxpdHkiLCJwYXNzZXMiLCJCbHVyRmlsdGVyIiwiYmx1clhGaWx0ZXIiLCJibHVyWUZpbHRlciIsInJlcGVhdEVkZ2VQaXhlbHMiLCJ4U3RyZW5ndGgiLCJ5U3RyZW5ndGgiLCJ1cGRhdGVQYWRkaW5nIiwiX3JlcGVhdEVkZ2VQaXhlbHMiLCJibHVyWCIsImJsdXJZIiwiQ29sb3JNYXRyaXhGaWx0ZXIiLCJkZWZhdWx0RmlsdGVyVmVydGV4IiwiX2xvYWRNYXRyaXgiLCJtdWx0aXBseSIsIm5ld01hdHJpeCIsIl9tdWx0aXBseSIsIl9jb2xvck1hdHJpeCIsImJyaWdodG5lc3MiLCJncmV5c2NhbGUiLCJibGFja0FuZFdoaXRlIiwiaHVlIiwiY29zUiIsInNpblIiLCJzcXJXIiwiY29udHJhc3QiLCJzYXR1cmF0ZSIsImRlc2F0dXJhdGUiLCJuZWdhdGl2ZSIsInNlcGlhIiwidGVjaG5pY29sb3IiLCJwb2xhcm9pZCIsInRvQkdSIiwia29kYWNocm9tZSIsImJyb3duaSIsInZpbnRhZ2UiLCJjb2xvclRvbmUiLCJkZXNhdHVyYXRpb24iLCJ0b25lZCIsImxpZ2h0Q29sb3IiLCJkYXJrQ29sb3IiLCJsUiIsImxHIiwibEIiLCJkUiIsImRHIiwiZEIiLCJuaWdodCIsImludGVuc2l0eSIsInByZWRhdG9yIiwibHNkIiwiZ3JheXNjYWxlIiwiRGlzcGxhY2VtZW50RmlsdGVyIiwibWFwU2FtcGxlciIsImZpbHRlck1hdHJpeCIsImxlblgiLCJsZW5ZIiwiRlhBQUZpbHRlciIsIk5vaXNlRmlsdGVyIiwibm9pc2UiLCJzZWVkIiwicmFuZG9tIiwidU5vaXNlIiwidVNlZWQiLCJfdGVtcE1hdHJpeCIsIl9jYWNoZUFzQml0bWFwIiwiX2NhY2hlRGF0YSIsIkNhY2hlRGF0YSIsInRleHR1cmVDYWNoZUlkIiwib3JpZ2luYWxSZW5kZXIiLCJvcmlnaW5hbFJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzIiwib3JpZ2luYWxHZXRMb2NhbEJvdW5kcyIsIm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtIiwib3JpZ2luYWxIaXRUZXN0Iiwib3JpZ2luYWxEZXN0cm95Iiwib3JpZ2luYWxNYXNrIiwib3JpZ2luYWxGaWx0ZXJBcmVhIiwiY2FjaGVBc0JpdG1hcCIsInJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ29udGFpbnNQb2ludCIsIl9yZW5kZXJDYWNoZWQiLCJfcmVuZGVyQ2FjaGVkQ2FudmFzIiwiX2NhY2hlQXNCaXRtYXBEZXN0cm95IiwiX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0IiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0IiwiY2FjaGVBbHBoYSIsImNhY2hlZFJlbmRlclRleHR1cmUiLCJjYWNoZWRTb3VyY2VGcmFtZSIsImNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0iLCJfY2FsY3VsYXRlQ2FjaGVkQm91bmRzIiwiX2dldENhY2hlZExvY2FsQm91bmRzIiwiY2FjaGVkU3ByaXRlIiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzIiwiX3JlbmRlckNhbnZhcyIsImNhY2hlZFJlbmRlclRhcmdldCIsImdldENoaWxkQnlOYW1lIiwiZ2V0R2xvYmFsUG9zaXRpb24iLCJ2NSIsIk1lc2hCYXRjaFV2cyIsIl9idWZmZXJVcGRhdGVJZCIsIl90ZXh0dXJlVXBkYXRlSWQiLCJ0ZW1wUG9seWdvbiIsIk1lc2giLCJ2ZXJ0ZXhEaXJ0eSIsImJhdGNoVXZzIiwidmVydGljZXNCdWZmZXIiLCJtYXRlcmlhbCIsIl9yZW5kZXJUb0JhdGNoIiwiX3JlbmRlckRlZmF1bHQiLCJjYWxjdWxhdGVVdnMiLCJ2ZXJ0ZXhEaXJ0eUlkIiwiZ2VvbVV2cyIsInN0ZXAiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJNZXNoTWF0ZXJpYWwiLCJ1VGV4dHVyZU1hdHJpeCIsIl9jb2xvckRpcnR5IiwiX2FscGhhIiwiTWVzaEdlb21ldHJ5IiwidXZzQnVmZmVyIiwiX3VwZGF0ZUlkIiwiUGxhbmVHZW9tZXRyeSIsInNlZ1dpZHRoIiwic2VnSGVpZ2h0Iiwic2VnbWVudHNYIiwic2VnbWVudHNZIiwic2l6ZVgiLCJzaXplWSIsInRvdGFsU3ViIiwieHBvcyIsInlwb3MiLCJ2YWx1ZTIiLCJ2YWx1ZTMiLCJ2YWx1ZTQiLCJSb3BlR2VvbWV0cnkiLCJ1cGRhdGVWZXJ0aWNlcyIsIm5leHRQb2ludCIsInBlcnBYIiwicGVycFkiLCJwZXJwTGVuZ3RoIiwibnVtIiwiU2ltcGxlUm9wZSIsInJvcGVHZW9tZXRyeSIsIm1lc2hNYXRlcmlhbCIsIlNpbXBsZVBsYW5lIiwidmVydGljZXNYIiwidmVydGljZXNZIiwicGxhbmVHZW9tZXRyeSIsInRleHR1cmVVcGRhdGVkIiwiU2ltcGxlTWVzaCIsIkRFRkFVTFRfQk9SREVSX1NJWkUiLCJOaW5lU2xpY2VQbGFuZSIsImxlZnRXaWR0aCIsInRvcEhlaWdodCIsInJpZ2h0V2lkdGgiLCJib3R0b21IZWlnaHQiLCJfb3JpZ1dpZHRoIiwiX29yaWdIZWlnaHQiLCJfbGVmdFdpZHRoIiwiX3JpZ2h0V2lkdGgiLCJfdG9wSGVpZ2h0IiwiX2JvdHRvbUhlaWdodCIsIl9yZWZyZXNoIiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsIl91dnciLCJfdXZoIiwiQW5pbWF0ZWRTcHJpdGUiLCJfZHVyYXRpb25zIiwiYW5pbWF0aW9uU3BlZWQiLCJsb29wIiwidXBkYXRlQW5jaG9yIiwib25GcmFtZUNoYW5nZSIsIm9uTG9vcCIsIl9jdXJyZW50VGltZSIsInBsYXlpbmciLCJnb3RvQW5kU3RvcCIsImZyYW1lTnVtYmVyIiwicHJldmlvdXNGcmFtZSIsImN1cnJlbnRGcmFtZSIsImdvdG9BbmRQbGF5IiwiZWxhcHNlZCIsImxhZyIsImNvcHkiLCJmcm9tRnJhbWVzIiwiZnJvbUltYWdlcyIsImltYWdlcyIsInRvdGFsRnJhbWVzIiwiYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlciIsImV4dHJhY3QuRXh0cmFjdCIsImludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciIsInByZXBhcmUuUHJlcGFyZSIsIlBJWEkiLCJUcmFuc2Zvcm1TdGF0aWMiLCJUcmFuc2Zvcm1CYXNlIiwiVFJBTlNGT1JNX01PREUiLCJTVEFUSUMiLCJEWU5BTUlDIiwiV2ViR0xSZW5kZXJlciIsInV0aWxzIiwiRmlsdGVyTWFuYWdlciIsInN5c3RlbXMiLCJleHRyYXMiLCJnZXRTdmdTaXplIiwibWVzaCIsIlBsYW5lIiwiUm9wZSIsIlJhd01lc2giLCJDYW52YXNNZXNoUmVuZGVyZXIiLCJNZXNoUmVuZGVyZXIiLCJwYXJ0aWNsZXMiLCJsb2FkZXJzIiwiYml0bWFwRm9udFBhcnNlciIsInBhcnNlQml0bWFwRm9udERhdGEiLCJzcHJpdGVzaGVldFBhcnNlciIsImFkZFBpeGlNaWRkbGV3YXJlIiwicHJlcGFyZSIsIl9yZW5kZXJXZWJHTCIsInJlbmRlcldlYkdMIiwicmVuZGVyQWR2YW5jZWRXZWJHTCIsImxvYWRTb3VyY2UiLCJoYXNMb2FkZWQiLCJmcm9tQ2FudmFzIiwiZnJvbVNWRyIsInNldFN0YXRlIiwiZ2V0UmVuZGVyVGFyZ2V0IiwicmV0dXJuUmVuZGVyVGFyZ2V0IiwiY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgiLCJjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgiLCJ0cmFuc2xhdGVTY2FsZVgiLCJ0cmFuc2xhdGVTY2FsZVkiLCJCbHVyWEZpbHRlciIsIkJsdXJZRmlsdGVyIiwic3ByaXRlRnJvbSIsInRleHR1cmVGcm9tIiwiZ2VuZXJhdGVDYW52YXNUZXh0dXJlIiwiZnJvbVZpZGVvIiwibWl4aW5zIiwiZGVsYXlNaXhpbiIsInBlcmZvcm1NaXhpbnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7MlFBQUEsU0FBVUEsR0FNVixJQUFJQyxFQUFnQkQsRUFBZ0IsUUFDaENFLEVBQ0ZELEdBR0EsWUFBYUEsR0FDYixXQUFZQSxHQUNaLFFBQVNBLEdBQ1QsU0FBVUEsR0FHVixXQUNFLElBQUlFLEVBRUosT0FEQSxJQUFJRixFQUFjLFNBQVNHLEdBQUlELEVBQVVD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cGtGLEVBQUt4USxFQUFHQyxHQThCZCxPQTNCQXVRLEVBQUksR0FBTXhRLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXVRLEVBQUksR0FBTXhRLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXVRLEVBQUksR0FBTXhRLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXVRLEVBQUksR0FBTXhRLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXVRLEVBQUksR0FBTXhRLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUFPRCxFQUFFLEdBRzdFd1EsRUFBSSxHQUFNeFEsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFdVEsRUFBSSxHQUFNeFEsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFdVEsRUFBSSxHQUFNeFEsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFdVEsRUFBSSxHQUFNeFEsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFdVEsRUFBSSxHQUFNeFEsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQU9ELEVBQUUsR0FHN0V3USxFQUFJLElBQU94USxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekV1USxFQUFJLElBQU94USxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekV1USxFQUFJLElBQU94USxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekV1USxFQUFJLElBQU94USxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekV1USxFQUFJLElBQU94USxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFBT0QsRUFBRSxJQUdsRndRLEVBQUksSUFBT3hRLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RXVRLEVBQUksSUFBT3hRLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RXVRLEVBQUksSUFBT3hRLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RXVRLEVBQUksSUFBT3hRLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RXVRLEVBQUksSUFBT3hRLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUFPRCxFQUFFLElBRTNFd1EsZUFVWHFrRixzQkFBYXB0RSxHQUdUcnBCLElBQU1xQyxFQUFJLElBQUlmLGFBQWErbkIsR0FPM0IsT0FMQWhuQixFQUFFLElBQU0sSUFDUkEsRUFBRSxJQUFNLElBQ1JBLEVBQUUsS0FBTyxJQUNUQSxFQUFFLEtBQU8sSUFFRkEsZUFVWHEwRixvQkFBVzcwRixFQUFHeTBGLEdBRVZ0MkYsSUFBTXFwQixFQUFTLENBQ1h4bkIsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUdBLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHQSxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR2hCakYsS0FBS3k1RixZQUFZaHRFLEVBQVFpdEUsZ0JBVTdCSyxtQkFBVTl0RSxFQUFPeXRFLEdBRWJ0MkYsSUFBTXFwQixFQUFTLENBQ1hSLEVBQU9BLEVBQU9BLEVBQU8sRUFBRyxFQUN4QkEsRUFBT0EsRUFBT0EsRUFBTyxFQUFHLEVBQ3hCQSxFQUFPQSxFQUFPQSxFQUFPLEVBQUcsRUFDeEIsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdoQmpzQixLQUFLeTVGLFlBQVlodEUsRUFBUWl0RSxnQkFTN0JNLHVCQUFjTixHQVNWMTVGLEtBQUt5NUYsWUFQVSxDQUNYLEdBQUssR0FBSyxHQUFLLEVBQUcsRUFDbEIsR0FBSyxHQUFLLEdBQUssRUFBRyxFQUNsQixHQUFLLEdBQUssR0FBSyxFQUFHLEVBQ2xCLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHU0MsZ0JBVTdCTyxhQUFJanRFLEVBQVUwc0UsR0FFVjFzRSxHQUFZQSxHQUFZLEdBQUssSUFBTS9vQixLQUFLNm1CLEdBRXhDMW5CLElBQU04MkYsRUFBT2oyRixLQUFLbW9CLElBQUlZLEdBQ2hCbXRFLEVBQU9sMkYsS0FBS29vQixJQUFJVyxHQWdCaEJ4bkIsRUFBSSxFQUFJLEVBQ1I0MEYsR0FBTzdzRSxFQWhCQXRwQixLQUFLc3BCLE1BZ0JBL25CLEdBY1ppbkIsRUFBUyxDQVpIeXRFLEdBQVMsRUFBTUEsR0FBUTEwRixFQUN0QkEsR0FBSyxFQUFNMDBGLEdBQVVFLEVBQU9ELEVBQzVCMzBGLEdBQUssRUFBTTAwRixHQUFVRSxFQUFPRCxFQVd0QixFQUFHLEVBVFQzMEYsR0FBSyxFQUFNMDBGLEdBQVVFLEVBQU9ELEVBQzdCRCxFQUFRMTBGLEdBQUssRUFBTTAwRixHQUNsQjEwRixHQUFLLEVBQU0wMEYsR0FBVUUsRUFBT0QsRUFRdEIsRUFBRyxFQU5UMzBGLEdBQUssRUFBTTAwRixHQUFVRSxFQUFPRCxFQUM1QjMwRixHQUFLLEVBQU0wMEYsR0FBVUUsRUFBT0QsRUFDN0JELEVBQVExMEYsR0FBSyxFQUFNMDBGLEdBS1osRUFBRyxFQUNsQixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR2hCbDZGLEtBQUt5NUYsWUFBWWh0RSxFQUFRaXRFLGdCQVk3Qlcsa0JBQVNwSyxFQUFReUosR0FFYnQyRixJQUFNbUMsR0FBSzBxRixHQUFVLEdBQUssRUFDcEJwcUYsR0FBSyxJQUFPTixFQUFJLEdBRWhCa25CLEVBQVMsQ0FDWGxuQixFQUFHLEVBQUcsRUFBRyxFQUFHTSxFQUNaLEVBQUdOLEVBQUcsRUFBRyxFQUFHTSxFQUNaLEVBQUcsRUFBR04sRUFBRyxFQUFHTSxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHaEI3RixLQUFLeTVGLFlBQVlodEUsRUFBUWl0RSxnQkFXN0JZLGtCQUFTckssRUFBWXlKLGtCQUFILEdBRWR0MkYsSUFBTUssRUFBYyxFQUFUd3NGLEVBQWEsRUFBSyxFQUN2QjdqRixHQUFnQixJQUFWM0ksRUFBSSxHQUVWZ3BCLEVBQVMsQ0FDWGhwQixFQUFHMkksRUFBR0EsRUFBRyxFQUFHLEVBQ1pBLEVBQUczSSxFQUFHMkksRUFBRyxFQUFHLEVBQ1pBLEVBQUdBLEVBQUczSSxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR2hCekQsS0FBS3k1RixZQUFZaHRFLEVBQVFpdEUsZ0JBUzdCYSxzQkFFSXY2RixLQUFLczZGLFVBQVUsZ0JBU25CRSxrQkFBU2QsR0FTTDE1RixLQUFLeTVGLFlBUFUsRUFDVixFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ2IsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUNiLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFDYixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NDLGdCQVM3QmUsZUFBTWYsR0FTRjE1RixLQUFLeTVGLFlBUFUsQ0FDWCxLQUFPLFNBQVcsVUFBWSxFQUFHLEVBQ2pDLEtBQU8sU0FBVyxVQUFZLEVBQUcsRUFDakMsS0FBTyxTQUFXLFVBQVksRUFBRyxFQUNqQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NDLGdCQVM3QmdCLHFCQUFZaEIsR0FTUjE1RixLQUFLeTVGLFlBUFUsQ0FDWCxvQkFBcUIsbUJBQXFCLG1CQUFxQixFQUFHLG9CQUNqRSxrQkFBb0Isb0JBQXFCLG1CQUFxQixHQUFJLG1CQUNsRSxrQkFBb0Isa0JBQW9CLGtCQUFtQixFQUFHLG1CQUMvRCxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NDLGdCQVM3QmlCLGtCQUFTakIsR0FTTDE1RixLQUFLeTVGLFlBUFUsQ0FDWCxPQUFRLE1BQVEsS0FBTyxFQUFHLEdBQ3pCLEtBQU8sT0FBUSxLQUFPLEVBQUcsR0FDekIsTUFBUSxLQUFPLE1BQU8sRUFBRyxFQUMxQixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NDLGdCQVM3QmtCLGVBQU1sQixHQVNGMTVGLEtBQUt5NUYsWUFQVSxDQUNYLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHU0MsZ0JBUzdCbUIsb0JBQVduQixHQVNQMTVGLEtBQUt5NUYsWUFQVSxDQUNYLG9CQUFxQixtQkFBcUIsbUJBQXFCLEVBQUcsbUJBQ2pFLG1CQUFxQixvQkFBcUIsbUJBQXFCLEVBQUcsb0JBQ2xFLG9CQUFzQixrQkFBb0IsbUJBQW9CLEVBQUcsa0JBQ2xFLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHU0MsZ0JBUzdCb0IsZ0JBQU9wQixHQVNIMTVGLEtBQUt5NUYsWUFQVSxDQUNYLGtCQUFvQixvQkFBc0Isa0JBQW9CLEVBQUcsbUJBQ2hFLG9CQUFzQixrQkFBb0IsbUJBQXFCLEdBQUksa0JBQ3BFLG9CQUFzQixtQkFBcUIsbUJBQXFCLEdBQUksa0JBQ3BFLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHU0MsZ0JBUzdCcUIsaUJBQVFyQixHQVNKMTVGLEtBQUt5NUYsWUFQVSxDQUNYLGtCQUFvQixtQkFBcUIsbUJBQXFCLEVBQUcsa0JBQ2pFLG1CQUFxQixrQkFBb0IsbUJBQXFCLEVBQUcsa0JBQ2pFLG1CQUFxQixrQkFBb0Isa0JBQW9CLEVBQUcsa0JBQ2hFLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHU0MsZ0JBYTdCc0IsbUJBQVVDLEVBQWNDLEVBQU9DLEVBQVlDLEVBQVcxQixHQU9sRHQyRixJQUFNaTRGLElBSE5GLEVBQWFBLEdBQWMsV0FHQSxHQUFNLEtBQVEsSUFDbkNHLEdBQU9ILEdBQWMsRUFBSyxLQUFRLElBQ2xDSSxHQUFtQixJQUFiSixHQUFxQixJQUUzQkssSUFOTkosRUFBWUEsR0FBYSxVQU1DLEdBQU0sS0FBUSxJQUNsQ0ssR0FBT0wsR0FBYSxFQUFLLEtBQVEsSUFDakNNLEdBQWtCLElBQVpOLEdBQW9CLElBRTFCM3VFLEVBQVMsQ0FDWCxHQUFLLElBQU0sSUFBTSxFQUFHLEVBQ3BCNHVFLEVBQUlDLEVBQUlDLEVBZlpOLEVBQWVBLEdBQWdCLEdBZUQsRUFDMUJPLEVBQUlDLEVBQUlDLEVBZlpSLEVBQVFBLEdBQVMsSUFlTSxFQUNuQkcsRUFBS0csRUFBSUYsRUFBS0csRUFBSUYsRUFBS0csRUFBSSxFQUFHLEdBR2xDMTdGLEtBQUt5NUYsWUFBWWh0RSxFQUFRaXRFLGdCQVU3QmlDLGVBQU1DLEVBQVdsQyxHQUdidDJGLElBQU1xcEIsRUFBUyxFQUNHLEdBRmxCbXZFLEVBQVlBLEdBQWEsS0FFQUEsRUFBVyxFQUFHLEVBQUcsR0FDckNBLEVBQVcsRUFBR0EsRUFBVyxFQUFHLEVBQzdCLEVBQUdBLEVBQXVCLEVBQVpBLEVBQWlCLEVBQUcsRUFDbEMsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdoQjU3RixLQUFLeTVGLFlBQVlodEUsRUFBUWl0RSxnQkFZN0JtQyxrQkFBUzVMLEVBQVF5SixHQUVidDJGLElBQU1xcEIsRUFBUyxDQUVYLG1CQUFxQndqRSxHQUNwQixrQkFBb0JBLEdBQ3BCLG1CQUFxQkEsRUFDdEIsRUFBSUEsRUFDSixtQkFBc0JBLEdBRXJCLG1CQUFxQkEsRUFDdEIsa0JBQW9CQSxHQUNuQixrQkFBb0JBLEVBQ3JCLEVBQUlBLEdBQ0gsa0JBQW9CQSxHQUVwQixtQkFBcUJBLEdBQ3JCLG1CQUFxQkEsRUFDdEIsa0JBQW9CQSxFQUNwQixFQUFJQSxFQUNKLGtCQUFxQkEsRUFFckIsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdoQmp3RixLQUFLeTVGLFlBQVlodEUsRUFBUWl0RSxnQkFXN0JvQyxhQUFJcEMsR0FTQTE1RixLQUFLeTVGLFlBUFUsQ0FDWCxHQUFJLEdBQUssR0FBSyxFQUFHLEdBQ2hCLEdBQUssR0FBSSxHQUFLLEVBQUcsR0FDakIsSUFBTSxHQUFLLEVBQUcsRUFBRyxFQUNsQixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NDLGdCQU83QjVoRCxpQkFTSTkzQyxLQUFLeTVGLFlBUFUsQ0FDWCxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLElBR1MsSUFTN0JqeEUsRUFBSWlFLHNCQUVBLE9BQU96c0IsS0FBS2sxQyxTQUFTenZDLEdBR3pCK2lCLEVBQUlpRSxvQkFBT2p2QixHQUVQd0MsS0FBS2sxQyxTQUFTenZDLEVBQUlqSSxHQWF0QmdyQixFQUFJeEMscUJBRUEsT0FBT2htQixLQUFLazFDLFNBQVNpaUQsUUFHekIzdUUsRUFBSXhDLG1CQUFNeG9CLEdBRU53QyxLQUFLazFDLFNBQVNpaUQsT0FBUzM1Riw2Q0E1akJnQmlxRCxJQWlrQi9DOHhDLEdBQWtCNzdGLFVBQVVxK0YsVUFBWXhDLEdBQWtCNzdGLFVBQVVxOEYseXNDQzVqQi9DaUMsZUFNakIsV0FBWTlrRCxFQUFRanJCLEdBRWhCN29CLElBQU11bEQsRUFBYSxJQUFJcDlCLEdBRXZCMnJCLEVBQU8vZ0IsWUFBYSxFQUVwQkgsWUFBTTR5QixHQUFRQyxHQUFVLENBQ3BCb3pDLFdBQVkva0QsRUFBT0MsU0FDbkIra0QsYUFBY3Z6QyxFQUNkMThCLE1BQU8sQ0FBRXhvQixFQUFHLEVBQUcySSxFQUFHLEdBQ2xCNGdCLFNBQVUsSUFBSXRvQixhQUFhLENBQUMsRUFBRyxFQUFHLEVBQUcsTUFHekMxRSxLQUFLOG9ELFdBQWE1UixFQUNsQmwzQyxLQUFLMm9ELFdBQWFBLEVBRWQxOEIsTUFBQUEsSUFFQUEsRUFBUSxJQU9aanNCLEtBQUtpc0IsTUFBUSxJQUFJaEMsR0FBTWdDLEVBQU9BLDJJQVdsQzNnQixlQUFNcThDLEVBQWVweUMsRUFBT2IsRUFBUTBULEdBR2hDcG9CLEtBQUtrMUMsU0FBU2duRCxhQUFldjBDLEVBQWMzUSxzQkFBc0JoM0MsS0FBSzJvRCxXQUFZM29ELEtBQUs4b0QsWUFDdkY5b0QsS0FBS2sxQyxTQUFTanBCLE1BQU14b0IsRUFBSXpELEtBQUtpc0IsTUFBTXhvQixFQUNuQ3pELEtBQUtrMUMsU0FBU2pwQixNQUFNN2YsRUFBSXBNLEtBQUtpc0IsTUFBTTdmLEVBR25DaEosSUFBTXl1QixFQUFLN3hCLEtBQUs4b0QsV0FBV3o3QixVQUFVcUQsZUFDL0J5ckUsRUFBT2w0RixLQUFLc3BCLEtBQU1zRSxFQUFHN3NCLEVBQUk2c0IsRUFBRzdzQixFQUFNNnNCLEVBQUc1c0IsRUFBSTRzQixFQUFHNXNCLEdBQzVDbTNGLEVBQU9uNEYsS0FBS3NwQixLQUFNc0UsRUFBR3hzQixFQUFJd3NCLEVBQUd4c0IsRUFBTXdzQixFQUFHL3JCLEVBQUkrckIsRUFBRy9yQixHQUVyQyxJQUFUcTJGLEdBQXVCLElBQVRDLElBRWRwOEYsS0FBS2sxQyxTQUFTbG9CLFNBQVMsR0FBSzZFLEVBQUc3c0IsRUFBSW0zRixFQUNuQ244RixLQUFLazFDLFNBQVNsb0IsU0FBUyxHQUFLNkUsRUFBRzVzQixFQUFJazNGLEVBQ25DbjhGLEtBQUtrMUMsU0FBU2xvQixTQUFTLEdBQUs2RSxFQUFHeHNCLEVBQUkrMkYsRUFDbkNwOEYsS0FBS2sxQyxTQUFTbG9CLFNBQVMsR0FBSzZFLEVBQUcvckIsRUFBSXMyRixHQUl2Q3owQyxFQUFjaFIsWUFBWTMyQyxLQUFNdVYsRUFBT2IsRUFBUTBULElBUW5ESSxFQUFJN21CLG1CQUVBLE9BQU8zQixLQUFLazFDLFNBQVMrbUQsWUFHekJ6ekUsRUFBSTdtQixpQkFBSW5FLEdBRUp3QyxLQUFLazFDLFNBQVMrbUQsV0FBYXorRiw2Q0E5RWFpcUQsazhLQ1IzQjQwQyxlQUVqQixhQUdJcm1FLFlBQU00eUIsR0FBUUMscUdBTGtCcEIsNHVCQ0FuQjYwQyxlQU1qQixXQUFZQyxFQUFhQyxrQkFBTCxtQkFBWXY0RixLQUFLdzRGLFVBRWpDem1FLFlBQU13akUsR0FBcUIzd0MsR0FBVSxDQUNqQzZ6QyxPQUFRLEVBQ1JDLE1BQU8sSUFHWDM4RixLQUFLdThGLE1BQVFBLEVBQ2J2OEYsS0FBS3c4RixLQUFPQSx1SkFTaEJoMEUsRUFBSSt6RSxxQkFFQSxPQUFPdjhGLEtBQUtrMUMsU0FBU3duRCxRQUd6QmwwRSxFQUFJK3pFLG1CQUFNLytGLEdBRU53QyxLQUFLazFDLFNBQVN3bkQsT0FBU2wvRixHQVEzQmdyQixFQUFJZzBFLG9CQUVBLE9BQU94OEYsS0FBS2sxQyxTQUFTeW5ELE9BR3pCbjBFLEVBQUlnMEUsa0JBQUtoL0YsR0FFTHdDLEtBQUtrMUMsU0FBU3luRCxNQUFRbi9GLDZDQTdDV2lxRCxJQ1JuQ20xQyxHQUFjLElBQUlyeEUsR0FFeEJ3SyxHQUFjcjRCLFVBQVVtL0YsZ0JBQWlCLEVBQ3pDOW1FLEdBQWNyNEIsVUFBVW8vRixZQUFhLEVBU3JDLElBQU1DLEdBRUYsV0FFSS84RixLQUFLZzlGLGVBQWlCLEtBRXRCaDlGLEtBQUtpOUYsZUFBaUIsS0FDdEJqOUYsS0FBS2s5RixxQkFBdUIsS0FDNUJsOUYsS0FBS205Rix3QkFBMEIsS0FDL0JuOUYsS0FBS285Rix1QkFBeUIsS0FFOUJwOUYsS0FBS3E5Rix3QkFBMEIsS0FDL0JyOUYsS0FBS3M5RixnQkFBa0IsS0FDdkJ0OUYsS0FBS3U5RixnQkFBa0IsS0FDdkJ2OUYsS0FBS3c5RixhQUFlLEtBQ3BCeDlGLEtBQUt5OUYsbUJBQXFCLEtBQzFCejlGLEtBQUtrM0MsT0FBUyxNQUl0Qno1QyxPQUFPa2lGLGlCQUFpQjVwRCxHQUFjcjRCLFVBQVcsQ0FhN0NnZ0csY0FBZSxDQUNYLzZELGVBRUksT0FBTzNpQyxLQUFLNjhGLGdCQUVoQnp5RSxhQUFJNXNCLEdBU0E4RixJQUFJdUksRUFQQTdMLEtBQUs2OEYsaUJBQW1Cci9GLElBSzVCd0MsS0FBSzY4RixlQUFpQnIvRixFQUlsQkEsR0FFS3dDLEtBQUs4OEYsYUFFTjk4RixLQUFLODhGLFdBQWEsSUFBSUMsS0FHMUJseEYsRUFBTzdMLEtBQUs4OEYsWUFFUEcsZUFBaUJqOUYsS0FBS2k0QixPQUMzQnBzQixFQUFLcXhGLHFCQUF1Qmw5RixLQUFLMjlGLGFBRWpDOXhGLEVBQUt3eEYsd0JBQTBCcjlGLEtBQUsweEIsZ0JBQ3BDN2xCLEVBQUtzeEYsd0JBQTBCbjlGLEtBQUswM0IsZ0JBQ3BDN3JCLEVBQUt1eEYsdUJBQXlCcDlGLEtBQUsyM0IsZUFFbkM5ckIsRUFBSzB4RixnQkFBa0J2OUYsS0FBS3VvQixRQUU1QjFjLEVBQUsreEYsc0JBQXdCNTlGLEtBQUsyZ0UsY0FFbEM5MEQsRUFBSzJ4RixhQUFleDlGLEtBQUtnM0IsTUFDekJuckIsRUFBSzR4RixtQkFBcUJ6OUYsS0FBS3cyQixXQUUvQngyQixLQUFLaTRCLE9BQVNqNEIsS0FBSzY5RixjQUNuQjc5RixLQUFLMjlGLGFBQWUzOUYsS0FBSzg5RixvQkFFekI5OUYsS0FBS3VvQixRQUFVdm9CLEtBQUsrOUYseUJBSXBCbHlGLEVBQU83TCxLQUFLODhGLFlBRUg1bEQsUUFFTGwzQyxLQUFLZytGLDhCQUdUaCtGLEtBQUtpNEIsT0FBU3BzQixFQUFLb3hGLGVBQ25CajlGLEtBQUsyOUYsYUFBZTl4RixFQUFLcXhGLHFCQUN6Qmw5RixLQUFLMDNCLGdCQUFrQjdyQixFQUFLc3hGLHdCQUM1Qm45RixLQUFLMjNCLGVBQWlCOXJCLEVBQUt1eEYsdUJBRTNCcDlGLEtBQUt1b0IsUUFBVTFjLEVBQUsweEYsZ0JBRXBCdjlGLEtBQUsweEIsZ0JBQWtCN2xCLEVBQUt3eEYsd0JBQzVCcjlGLEtBQUsyZ0UsY0FBZ0I5MEQsRUFBSyt4RixzQkFFMUI1OUYsS0FBS2czQixNQUFRbnJCLEVBQUsyeEYsYUFDbEJ4OUYsS0FBS3cyQixXQUFhM3FCLEVBQUs0eEYseUJBY3ZDMW5FLEdBQWNyNEIsVUFBVW1nRyxjQUFnQixTQUF1QjNsRSxJQUV0RGw0QixLQUFLazJCLFNBQVdsMkIsS0FBS3EyQixZQUFjLElBQU1yMkIsS0FBS20yQixhQUtuRG4yQixLQUFLaStGLHlCQUF5Qi9sRSxHQUU5Qmw0QixLQUFLODhGLFdBQVc1bEQsT0FBTzdwQixVQUFVaUUsU0FBV3R4QixLQUFLcXRCLFVBQVVpRSxTQUMzRHR4QixLQUFLODhGLFdBQVc1bEQsT0FBTzdnQixXQUFhcjJCLEtBQUtxMkIsV0FDekNyMkIsS0FBSzg4RixXQUFXNWxELE9BQU96YyxRQUFRdkMsS0FXbkNuQyxHQUFjcjRCLFVBQVV1Z0cseUJBQTJCLFNBQWtDL2xFLEdBRWpGLElBQUlsNEIsS0FBSzg4RixhQUFjOThGLEtBQUs4OEYsV0FBVzVsRCxPQUF2QyxDQU1BOXpDLElBQU04NkYsRUFBYWwrRixLQUFLZ21CLE1BRXhCaG1CLEtBQUtnbUIsTUFBUSxFQUdia1MsRUFBU3dDLE1BQU1DLFFBT2Z2M0IsSUFBTW15QixFQUFTdjFCLEtBQUsyM0IsaUJBQWlCek4sUUFHckMsR0FBSWxxQixLQUFLeTJCLFFBQ1QsQ0FDSXJ6QixJQUFNaXpDLEVBQVVyMkMsS0FBS3kyQixRQUFRLEdBQUc0ZixRQUVoQzlnQixFQUFPcEQsSUFBSWtrQixHQUdmOWdCLEVBQU8zQyxLQUFLaFAsRUFBUzFjLFlBSXJCOUQsSUFBTSs2RixFQUFzQmptRSxFQUFTOFksY0FBY3JQLFFBQzdDeThELEVBQW9CbG1FLEVBQVM4WSxjQUFjc0UsWUFDM0Mrb0QsRUFBNEJubUUsRUFBU20wQixXQUFXaC9CLFVBTWhEMmpCLEVBQWdCbEIsR0FBYzdsQyxPQUFPc3JCLEVBQU9udEIsTUFBT210QixFQUFPbHRCLFFBRTFEMjBGLEVBQWlCLGlCQUFpQjkxRSxLQUV4Q2xuQixLQUFLODhGLFdBQVdFLGVBQWlCQSxFQUVqQzEyRCxHQUFZc0IsV0FBV29KLEVBQWM3TixZQUFhNjVELEdBQ2xEcHdELEdBQVFoRixXQUFXb0osRUFBZWdzRCxHQUdsQzU1RixJQUFNcUMsRUFBSW0zRixHQUVWbjNGLEVBQUUrbEIsSUFBTStKLEVBQU85eEIsRUFDZmdDLEVBQUVnbUIsSUFBTThKLEVBQU9ucEIsRUFHZnBNLEtBQUtxdEIsVUFBVXFELGVBQWVoRCxXQUc5QjF0QixLQUFLaTRCLE9BQVNqNEIsS0FBSzg4RixXQUFXRyxlQUU5Qi9rRSxFQUFTRCxPQUFPajRCLEtBQU1neEMsR0FBZSxFQUFNdnJDLEdBQUcsR0FHOUN5eUIsRUFBU20wQixXQUFXaC9CLFVBQVlneEUsRUFDaENubUUsRUFBUzhZLGNBQWMxVSxLQUFLNmhFLEVBQXFCQyxHQUlqRHArRixLQUFLaTRCLE9BQVNqNEIsS0FBSzY5RixjQUVuQjc5RixLQUFLMHhCLGdCQUFrQjF4QixLQUFLKzNCLDZCQUM1Qi8zQixLQUFLMDNCLGdCQUFrQjEzQixLQUFLcytGLHVCQUM1QnQrRixLQUFLMjNCLGVBQWlCMzNCLEtBQUt1K0Ysc0JBRTNCditGLEtBQUtnM0IsTUFBUSxLQUNiaDNCLEtBQUt3MkIsV0FBYSxLQUdsQnB6QixJQUFNbzdGLEVBQWUsSUFBSWx1QixHQUFPdC9CLEdBRWhDd3RELEVBQWFueEUsVUFBVXFELGVBQWlCMXdCLEtBQUtxdEIsVUFBVXFELGVBQ3ZEOHRFLEVBQWFwd0QsT0FBTzNxQyxHQUFNOHhCLEVBQU85eEIsRUFBSTh4QixFQUFPbnRCLE1BQzVDbzJGLEVBQWFwd0QsT0FBT2hpQyxHQUFNbXBCLEVBQU9ucEIsRUFBSW1wQixFQUFPbHRCLE9BQzVDbTJGLEVBQWF4NEUsTUFBUWs0RSxFQUNyQk0sRUFBYTduRSxRQUFVMzJCLEtBQUsyMkIsUUFFNUIzMkIsS0FBSzg4RixXQUFXNWxELE9BQVNzbkQsRUFFekJ4K0YsS0FBS3F0QixVQUFVa0UsV0FBYSxFQUV2QnZ4QixLQUFLbzJCLE9BUU5wMkIsS0FBSzB4QixtQkFOTDF4QixLQUFLbzJCLE9BQVM4QixFQUFTWCx5QkFDdkJ2M0IsS0FBSzB4QixrQkFDTDF4QixLQUFLbzJCLE9BQVMsTUFRbEJwMkIsS0FBSzJnRSxjQUFnQjY5QixFQUFhNzlCLGNBQWNya0MsS0FBS2tpRSxLQVd6RHpvRSxHQUFjcjRCLFVBQVVvZ0csb0JBQXNCLFNBQTZCNWxFLElBRWxFbDRCLEtBQUtrMkIsU0FBV2wyQixLQUFLcTJCLFlBQWMsSUFBTXIyQixLQUFLbTJCLGFBS25EbjJCLEtBQUt5K0YsK0JBQStCdm1FLEdBRXBDbDRCLEtBQUs4OEYsV0FBVzVsRCxPQUFPN2dCLFdBQWFyMkIsS0FBS3EyQixXQUN6Q3IyQixLQUFLODhGLFdBQVc1bEQsT0FBT3duRCxjQUFjeG1FLEtBWXpDbkMsR0FBY3I0QixVQUFVK2dHLCtCQUFpQyxTQUF3Q3ZtRSxHQUU3RixJQUFJbDRCLEtBQUs4OEYsYUFBYzk4RixLQUFLODhGLFdBQVc1bEQsT0FBdkMsQ0FNQTl6QyxJQUFNbXlCLEVBQVN2MUIsS0FBSzIzQixpQkFFZHVtRSxFQUFhbCtGLEtBQUtnbUIsTUFFeEJobUIsS0FBS2dtQixNQUFRLEVBRWI1aUIsSUFBTXU3RixFQUFxQnptRSxFQUFTNXVCLFFBRXBDaXNCLEVBQU8zQyxLQUFLaFAsRUFBUzFjLFlBRXJCOUQsSUFBTTR0QyxFQUFnQmxCLEdBQWM3bEMsT0FBT3NyQixFQUFPbnRCLE1BQU9tdEIsRUFBT2x0QixRQUUxRDIwRixFQUFpQixpQkFBaUI5MUUsS0FFeENsbkIsS0FBSzg4RixXQUFXRSxlQUFpQkEsRUFFakMxMkQsR0FBWXNCLFdBQVdvSixFQUFjN04sWUFBYTY1RCxHQUNsRHB3RCxHQUFRaEYsV0FBV29KLEVBQWVnc0QsR0FHbEM1NUYsSUFBTXFDLEVBQUltM0YsR0FFVjU4RixLQUFLcXRCLFVBQVVzRCxlQUFldEcsT0FBTzVrQixHQUNyQ0EsRUFBRWdvQixTQUVGaG9CLEVBQUUrbEIsSUFBTStKLEVBQU85eEIsRUFDZmdDLEVBQUVnbUIsSUFBTThKLEVBQU9ucEIsRUFJZnBNLEtBQUsyOUYsYUFBZTM5RixLQUFLODhGLFdBQVdJLHFCQUdwQ2hsRSxFQUFTRCxPQUFPajRCLEtBQU1neEMsR0FBZSxFQUFNdnJDLEdBQUcsR0FHOUN5eUIsRUFBUzV1QixRQUFVcTFGLEVBRW5CMytGLEtBQUsyOUYsYUFBZTM5RixLQUFLODlGLG9CQUV6Qjk5RixLQUFLMHhCLGdCQUFrQjF4QixLQUFLKzNCLDZCQUM1Qi8zQixLQUFLMDNCLGdCQUFrQjEzQixLQUFLcytGLHVCQUM1QnQrRixLQUFLMjNCLGVBQWlCMzNCLEtBQUt1K0Ysc0JBRTNCditGLEtBQUtnM0IsTUFBUSxLQUNiaDNCLEtBQUt3MkIsV0FBYSxLQUdsQnB6QixJQUFNbzdGLEVBQWUsSUFBSWx1QixHQUFPdC9CLEdBRWhDd3RELEVBQWFueEUsVUFBVXFELGVBQWlCMXdCLEtBQUtxdEIsVUFBVXFELGVBQ3ZEOHRFLEVBQWFwd0QsT0FBTzNxQyxHQUFNOHhCLEVBQU85eEIsRUFBSTh4QixFQUFPbnRCLE1BQzVDbzJGLEVBQWFwd0QsT0FBT2hpQyxHQUFNbXBCLEVBQU9ucEIsRUFBSW1wQixFQUFPbHRCLE9BQzVDbTJGLEVBQWF4NEUsTUFBUWs0RSxFQUNyQk0sRUFBYTduRSxRQUFVMzJCLEtBQUsyMkIsUUFFNUIzMkIsS0FBSzg4RixXQUFXNWxELE9BQVNzbkQsRUFFekJ4K0YsS0FBS3F0QixVQUFVa0UsV0FBYSxFQUV2QnZ4QixLQUFLbzJCLE9BUU5wMkIsS0FBSzB4QixtQkFOTDF4QixLQUFLbzJCLE9BQVM4QixFQUFTWCx5QkFDdkJ2M0IsS0FBSzB4QixrQkFDTDF4QixLQUFLbzJCLE9BQVMsTUFRbEJwMkIsS0FBSzJnRSxjQUFnQjY5QixFQUFhNzlCLGNBQWNya0MsS0FBS2tpRSxLQVF6RHpvRSxHQUFjcjRCLFVBQVU0Z0csdUJBQXlCLFdBRTdDdCtGLEtBQUsyMkIsUUFBUXZPLFFBQ2Jwb0IsS0FBSzg4RixXQUFXNWxELE9BQU83cEIsVUFBVWlFLFNBQVd0eEIsS0FBS3F0QixVQUFVaUUsU0FDM0R0eEIsS0FBSzg4RixXQUFXNWxELE9BQU8zYyxtQkFDdkJ2NkIsS0FBSzYyQixjQUFnQjcyQixLQUFLNDJCLFdBUzlCYixHQUFjcjRCLFVBQVU2Z0csc0JBQXdCLFdBRTVDLE9BQU92K0YsS0FBSzg4RixXQUFXNWxELE9BQU92ZixrQkFRbEM1QixHQUFjcjRCLFVBQVVzZ0csNEJBQThCLFdBRWxEaCtGLEtBQUs4OEYsV0FBVzVsRCxPQUFPQyxTQUFTNXVCLFNBQVEsR0FDeEN2b0IsS0FBSzg4RixXQUFXNWxELE9BQVMsS0FFekI1USxHQUFZb0IsZ0JBQWdCMW5DLEtBQUs4OEYsV0FBV0UsZ0JBQzVDcHdELEdBQVFsRixnQkFBZ0IxbkMsS0FBSzg4RixXQUFXRSxnQkFFeENoOUYsS0FBSzg4RixXQUFXRSxlQUFpQixNQVdyQ2puRSxHQUFjcjRCLFVBQVVxZ0csc0JBQXdCLFNBQStCMW1GLEdBRTNFclgsS0FBSzA5RixlQUFnQixFQUNyQjE5RixLQUFLdW9CLFFBQVFsUixJQ2hhakIwZSxHQUFjcjRCLFVBQVUyTSxLQUFPLEtBVS9CMnVCLEdBQVV0N0IsVUFBVWtoRyxlQUFpQixTQUF3QnYwRixHQUV6RCxJQUFLL0csSUFBSW5GLEVBQUksRUFBR0EsRUFBSTZCLEtBQUtpNUIsU0FBUzc2QixPQUFRRCxJQUV0QyxHQUFJNkIsS0FBS2k1QixTQUFTOTZCLEdBQUdrTSxPQUFTQSxFQUUxQixPQUFPckssS0FBS2k1QixTQUFTOTZCLEdBSTdCLE9BQU8sTUNkWDQzQixHQUFjcjRCLFVBQVVtaEcsa0JBQW9CLFNBQTJCbnFFLEVBQXFCK0MsR0FZeEYsc0JBWjJFLElBQUl4TixvQkFBc0IsR0FFakdqcUIsS0FBS28yQixPQUVMcDJCLEtBQUtvMkIsT0FBTzBCLFNBQVM5M0IsS0FBS3d0QixTQUFVa0gsRUFBTytDLElBSTNDL0MsRUFBTWp4QixFQUFJekQsS0FBS3d0QixTQUFTL3BCLEVBQ3hCaXhCLEVBQU10b0IsRUFBSXBNLEtBQUt3dEIsU0FBU3BoQixHQUdyQnNvQixHQ3hCWHR4QixJQUFNMDdGLEdBQUssWUNJVUMsR0FNakIsU0FBWWxxRCxFQUFVcEcsR0FNbEJ6dUMsS0FBSzYwQyxTQUFXQSxFQU1oQjcwQyxLQUFLeXVDLFNBQVdBLEVBT2hCenVDLEtBQUs2TCxLQUFPLEtBRVo3TCxLQUFLZy9GLGlCQUFtQixFQUV4QmgvRixLQUFLaS9GLGtCQUFvQixFQUV6QmovRixLQUFLNHVDLFVBQVksR0FRekJtd0QsYUFBSTFoRSxnQkFBT2tyQixHQUVQLEdBQVNBLEdBQ0V2b0QsS0FBS2cvRixrQkFBb0JoL0YsS0FBSzYwQyxTQUFTakcsV0FDdkM1dUMsS0FBS2kvRixtQkFBcUJqL0YsS0FBS3l1QyxTQUFTRyxVQUZuRCxDQU9BNXVDLEtBQVNnL0YsZ0JBQWtCaC9GLEtBQUs2MEMsU0FBU2pHLFVBQ3pDNXVDLEtBQVNpL0YsaUJBQW1Cai9GLEtBQUt5dUMsU0FBU0csVUFFMUMsSUFBVS9pQyxFQUFPN0wsS0FBSzYwQyxTQUFTaHBDLEtBRXRCN0wsS0FBSzZMLE1BQVE3TCxLQUFLNkwsS0FBS3pOLFNBQVd5TixFQUFLek4sU0FFNUM0QixLQUFTNkwsS0FBTyxJQUFJbkgsYUFBYW1ILEVBQUt6TixTQUd0QzRCLEtBQUt5dUMsU0FBUzZaLFlBQVl6OEMsRUFBTTdMLEtBQUs2TCxNQUVyQzdMLEtBQUs0dUMsY0MzRGJ4ckMsSUFBTWl0RSxHQUFZLElBQUlwbUQsR0FDaEJpMUUsR0FBYyxJQUFJMXJFLEdBb0JIMnJFLGVBU2pCLFdBQVlwckQsRUFBVStDLEVBQVFWLEVBQU95ekIsa0JBQVdycEQsR0FBV0ssV0FFdkRtVixhQVNBaDJCLEtBQUsrekMsU0FBV0EsRUFFaEJBLEVBQVNoQixXQU9UL3lDLEtBQUs4MkMsT0FBU0EsRUFPZDkyQyxLQUFLbzJDLE1BQVFBLEdBQVM0USxHQUFNUSxRQVE1QnhuRCxLQUFLNnBFLFNBQVdBLEVBT2hCN3BFLEtBQUs2TSxNQUFRLEVBT2I3TSxLQUFLeW1CLEtBQU8sRUFPWnptQixLQUFLMjBDLElBQU0sS0FPWDMwQyxLQUFLaTNELFFBQVUsS0FPZmozRCxLQUFLZzFCLFdBQWEsSUFBSXR3QixhQUFhLEdBUW5DMUUsS0FBS28vRixZQUFjLEVBRW5CcC9GLEtBQUtndUUsY0FBZ0IsRUFHckJodUUsS0FBS21tQixLQUFPLFNBQ1pubUIsS0FBSzRsQixVQUFZcEgsR0FBWUMsT0FRN0J6ZSxLQUFLOHdFLGFBQWVsdEQsRUFBUzVhLGFBTzdCaEosS0FBS3EvRixTQUFXLDZTQVFwQjcyRSxFQUFJcXNCLHdCQUVBLE9BQU83MEMsS0FBSyt6QyxTQUFTdEIsUUFBUSxJQVNqQ2pxQixFQUFJODJFLDhCQUVBLE9BQU90L0YsS0FBSyt6QyxTQUFTdEIsUUFBUSxJQU9qQ2pxQixFQUFJKzJFLHNCQUFTL2hHLEdBRVR3QyxLQUFLODJDLE9BQVN0NUMsR0FHbEJnckIsRUFBSSsyRSx3QkFFQSxPQUFPdi9GLEtBQUs4MkMsUUFXaEJ0dUIsRUFBSTVDLHVCQUFVcG9CLEdBRVZ3QyxLQUFLbzJDLE1BQU14d0IsVUFBWXBvQixHQUczQmdyQixFQUFJNUMseUJBRUEsT0FBTzVsQixLQUFLbzJDLE1BQU14d0IsV0FZdEI0QyxFQUFJNHFDLHlCQUFZNTFELEdBRVJ3QyxLQUFLOHdFLGVBQWlCdHpFLElBRXRCd0MsS0FBS2d1RSxjQUFnQixHQUV6Qmh1RSxLQUFLOHdFLGFBQWV0ekUsR0FHeEJnckIsRUFBSTRxQywyQkFFQSxPQUFPcHpELEtBQUs4d0UsY0FVaEJ0b0QsRUFBSXJDLG9CQUVBLE9BQU9ubUIsS0FBSzgyQyxPQUFPM3dCLE1BR3ZCcUMsRUFBSXJDLGtCQUFLM29CLEdBRUx3QyxLQUFLODJDLE9BQU8zd0IsS0FBTzNvQixHQVF2QmdyQixFQUFJK2YsdUJBRUEsT0FBT3ZvQyxLQUFLODJDLE9BQU92TyxTQUd2Qi9mLEVBQUkrZixxQkFBUS9xQyxHQUVSd0MsS0FBSzgyQyxPQUFPdk8sUUFBVS9xQyxlQVExQmk5QixpQkFBUXZDLEdBSUo5MEIsSUFBTWdQLEVBQVdwUyxLQUFLK3pDLFNBQVN0QixRQUFRLEdBQUc1bUMsS0FHdEM3TCxLQUFLODJDLE9BQU84eEIsV0FBYTVvRSxLQUFLNnBFLFdBQWFycEQsR0FBV0ssV0FBYXpPLEVBQVNoVSxPQUErQixFQUF0QitnRyxFQUFLdjFCLGVBRTFGNXBFLEtBQUt3L0YsZUFBZXRuRSxHQUlwQmw0QixLQUFLeS9GLGVBQWV2bkUsZ0JBUzVCdW5FLHdCQUFldm5FLEdBRVg5MEIsSUFBTTB6QyxFQUFTOTJDLEtBQUs4MkMsT0FFcEJBLEVBQU85d0IsTUFBUWhtQixLQUFLcTJCLFdBQ2hCeWdCLEVBQU96WixRQUVQeVosRUFBT3paLFNBR1huRixFQUFTd0MsTUFBTUMsUUFFWG1jLEVBQU84RyxRQUFRc0ksWUFBWW1ULG9CQUUzQnZpQixFQUFPNUIsU0FBU21rQixrQkFBb0JyNUQsS0FBS3F0QixVQUFVcUQsZUFBZS9FLFNBQVEsSUFJOUV1TSxFQUFTNGUsT0FBT3hhLEtBQUt3YSxHQUdyQjVlLEVBQVNrZSxNQUFNaHNCLElBQUlwcUIsS0FBS28yQyxPQUd4QmxlLEVBQVM2YixTQUFTelgsS0FBS3Q4QixLQUFLK3pDLFNBQVUrQyxHQUd0QzVlLEVBQVM2YixTQUFTZ0QsS0FBSy8yQyxLQUFLNnBFLFNBQVU3cEUsS0FBS3ltQixLQUFNem1CLEtBQUs2TSxNQUFPN00sS0FBSyt6QyxTQUFTakIsNEJBUS9FMHNELHdCQUFldG5FLEdBRVg5MEIsSUFBTTJ3QyxFQUFXL3pDLEtBQUsrekMsU0FFbEIvekMsS0FBSzgyQyxPQUFPckksV0FFWnp1QyxLQUFLODJDLE9BQU9ySSxTQUFTcFIsU0FDckJyOUIsS0FBSzAvRixnQkFJVDEvRixLQUFLMHZFLG9CQUNMMXZFLEtBQUtpM0QsUUFBVWxqQixFQUFTcEIsWUFBWTltQyxLQUNwQzdMLEtBQUs4NEQsU0FBVzk0RCxLQUFLODJDLE9BQU9naUIsU0FDNUI5NEQsS0FBS20zQyxTQUFXbjNDLEtBQUs4MkMsT0FBT3ZPLFFBRTVCbmxDLElBQU1zeEQsRUFBYTEwRCxLQUFLdS9GLFNBQVM3cUMsV0FFakN4OEIsRUFBU3dDLE1BQU1rZCxrQkFBa0IxZixFQUFTc0csUUFBUWsyQixJQUNsRHg4QixFQUFTc0csUUFBUWsyQixHQUFZejhCLE9BQU9qNEIsbUJBTXhDMHZFLDZCQUVJdHNFLElBQU0yd0MsRUFBVy96QyxLQUFLK3pDLFNBQ2hCM2hDLEVBQVcyaEMsRUFBU3RCLFFBQVEsR0FBRzVtQyxLQUVyQyxHQUFJa29DLEVBQVM0ckQsZ0JBQWtCMy9GLEtBQUtvL0YsYUFBZXAvRixLQUFLZ3VFLGVBQWlCaHVFLEtBQUtxdEIsVUFBVWlFLFNBQXhGLENBS0F0eEIsS0FBS2d1RSxhQUFlaHVFLEtBQUtxdEIsVUFBVWlFLFNBRS9CdHhCLEtBQUtnMUIsV0FBVzUyQixTQUFXZ1UsRUFBU2hVLFNBRXBDNEIsS0FBS2cxQixXQUFhLElBQUl0d0IsYUFBYTBOLEVBQVNoVSxTQWFoRCxJQVZBZ0YsSUFBTXl1QixFQUFLN3hCLEtBQUtxdEIsVUFBVXFELGVBQ3BCMXJCLEVBQUk2c0IsRUFBRzdzQixFQUNQQyxFQUFJNHNCLEVBQUc1c0IsRUFDUEksRUFBSXdzQixFQUFHeHNCLEVBQ1BTLEVBQUkrckIsRUFBRy9yQixFQUNQMGxCLEVBQUtxRyxFQUFHckcsR0FDUkMsRUFBS29HLEVBQUdwRyxHQUVSdUosRUFBYWgxQixLQUFLZzFCLFdBRWY3MkIsRUFBSSxFQUFHQSxFQUFJNjJCLEVBQVc1MkIsT0FBUyxFQUFHRCxJQUMzQyxDQUNJaUYsSUFBTUssRUFBSTJPLEVBQWMsRUFBSmpVLEdBQ2RpTyxFQUFJZ0csRUFBYyxFQUFKalUsRUFBUyxHQUU3QjYyQixFQUFnQixFQUFKNzJCLEdBQVc2RyxFQUFJdkIsRUFBTTRCLEVBQUkrRyxFQUFLb2YsRUFDMUN3SixFQUFnQixFQUFKNzJCLEVBQVMsR0FBTThHLEVBQUl4QixFQUFNcUMsRUFBSXNHLEVBQUtxZixFQUdsRCxHQUFJenJCLEtBQUs4d0UsYUFFTCxJQUFLeHRFLElBQUluRixFQUFJLEVBQUdBLEVBQUk2MkIsRUFBVzUyQixPQUFRRCxJQUVuQzYyQixFQUFXNzJCLEdBQUs4RixLQUFLaStCLE1BQU1sTixFQUFXNzJCLElBSTlDNkIsS0FBS28vRixZQUFjcnJELEVBQVM0ckQsNEJBTWhDRCx3QkFFSXQ4RixJQUFNdzhGLEVBQVU1L0YsS0FBSyt6QyxTQUFTdEIsUUFBUSxHQUVqQ3p5QyxLQUFLODJDLE9BQU9ySSxTQUFTNFosU0FXdEJyb0QsS0FBSzIwQyxJQUFNaXJELEVBQVEvekYsTUFUZDdMLEtBQUtxL0YsV0FFTnIvRixLQUFLcS9GLFNBQVcsSUFBSU4sR0FBYWEsRUFBUzUvRixLQUFLODJDLE9BQU9ySSxXQUUxRHp1QyxLQUFLcS9GLFNBQVNoaUUsU0FDZHI5QixLQUFLMjBDLElBQU0zMEMsS0FBS3EvRixTQUFTeHpGLG1CQWNqQzB1Qiw0QkFFSXY2QixLQUFLMHZFLG9CQUVMMXZFLEtBQUsyMkIsUUFBUTVCLGNBQWMvMEIsS0FBS2cxQixXQUFZLEVBQUdoMUIsS0FBS2cxQixXQUFXNTJCLHFCQVNuRXVpRSx1QkFBY2pzQyxHQUVWLElBQUsxMEIsS0FBS2t6QixZQUFZaEIsU0FBU3dDLEVBQU1qeEIsRUFBR2l4QixFQUFNdG9CLEdBRTFDLE9BQU8sRUFHWHBNLEtBQUswd0IsZUFBZTNFLGFBQWEySSxFQUFPMjdDLElBU3hDLElBUEFqdEUsSUFBTWdQLEVBQVdwUyxLQUFLK3pDLFNBQVNaLFVBQVUsbUJBQW1CdG5DLEtBRXRENG5CLEVBQVN5ckUsR0FBWXpyRSxPQUNyQndqQyxFQUFXajNELEtBQUsrekMsU0FBU1YsV0FBV3huQyxLQUNwQ1QsRUFBTTZyRCxFQUFRNzRELE9BQ2R5aEcsRUFBeUIsSUFBbEI3L0YsS0FBSzZwRSxTQUFpQixFQUFJLEVBRTlCMXJFLEVBQUksRUFBR0EsRUFBSSxFQUFJaU4sRUFBS2pOLEdBQUswaEcsRUFDbEMsQ0FDSXo4RixJQUFNMDhGLEVBQW9CLEVBQWI3b0MsRUFBUTk0RCxHQUNmNGhHLEVBQXdCLEVBQWpCOW9DLEVBQVE5NEQsRUFBSSxHQUNuQjZoRyxFQUF3QixFQUFqQi9vQyxFQUFROTRELEVBQUksR0FTekIsR0FQQXMxQixFQUFPLEdBQUtyaEIsRUFBUzB0RixHQUNyQnJzRSxFQUFPLEdBQUtyaEIsRUFBUzB0RixFQUFPLEdBQzVCcnNFLEVBQU8sR0FBS3JoQixFQUFTMnRGLEdBQ3JCdHNFLEVBQU8sR0FBS3JoQixFQUFTMnRGLEVBQU8sR0FDNUJ0c0UsRUFBTyxHQUFLcmhCLEVBQVM0dEYsR0FDckJ2c0UsRUFBTyxHQUFLcmhCLEVBQVM0dEYsRUFBTyxHQUV4QmQsR0FBWWh0RSxTQUFTbStDLEdBQVU1c0UsRUFBRzRzRSxHQUFVamtFLEdBRTVDLE9BQU8sRUFJZixPQUFPLGVBVVhtYyxpQkFBUWxSLEdBRUoyZSxZQUFNek4sa0JBQVFsUixHQUVkclgsS0FBSyt6QyxTQUFTaEIsV0FDaUIsSUFBM0IveUMsS0FBSyt6QyxTQUFTaEIsVUFFZC95QyxLQUFLK3pDLFNBQVN0USxVQUdsQnpqQyxLQUFLK3pDLFNBQVcsS0FDaEIvekMsS0FBSzgyQyxPQUFTLEtBQ2Q5MkMsS0FBS28yQyxNQUFRLEtBQ2JwMkMsS0FBSzIwQyxJQUFNLEtBQ1gzMEMsS0FBS2kzRCxRQUFVLEtBQ2ZqM0QsS0FBS2cxQixXQUFhLGdEQXRjUWdFLElBaWRsQ21tRSxHQUFLdjFCLGVBQWlCLDJrQkNqZURxMkIsZUFXakIsV0FBWXJwRCxFQUFVdi9CLEdBRWxCalUsSUFBTTh4QyxFQUFXLFVBQ2IwQixFQUNBNXdCLE1BQU8sRUFDUGs2RSxlQUFnQjMwRSxHQUFPcUMsU0FDdkIraUUsT0FBUSxJQUFJanNGLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxNQUl2QzJTLEVBQVU1WixPQUFPNEQsT0FBTyxDQUNwQjhrQixLQUFNLFNBQ05ILE1BQU8sRUFDUDB1QyxXQUFZLFNBQ2JyOUMsSUFFUzY5QixVQUVSejNDLE9BQU80RCxPQUFPNnpDLEVBQVU3OUIsRUFBUTY5QixVQUdwQ2xmLFlBQU0zZSxFQUFRdW1DLFNBQVc0SCxHQUFRampELEtBQUtxbUQsR0FBUUMsSUFBVzNULEdBUXpEbDFDLEtBQUttZ0csYUFBYyxFQVFuQm5nRyxLQUFLeXVDLFNBQVcsSUFBSXNaLEdBQWNuUixHQU9sQzUyQyxLQUFLNG9FLGVBQWdDOW9FLElBQXBCdVgsRUFBUXVtQyxRQVF6QjU5QyxLQUFLMDBELFdBQWFyOUMsRUFBUXE5QyxXQUUxQjEwRCxLQUFLbW1CLEtBQU85TyxFQUFROE8sS0FDcEJubUIsS0FBS2dtQixNQUFRM08sRUFBUTJPLHFMQU96QndDLEVBQUkrZix1QkFFQSxPQUFPdm9DLEtBQUtrMUMsU0FBUzBCLFVBRXpCcHVCLEVBQUkrZixxQkFBUS9xQyxHQUVKd0MsS0FBS2sxQyxTQUFTMEIsV0FBYXA1QyxJQUUzQndDLEtBQUtrMUMsU0FBUzBCLFNBQVdwNUMsRUFDekJ3QyxLQUFLeXVDLFNBQVNsRyxRQUFVL3FDLElBVWhDZ3JCLEVBQUl4QyxtQkFBTXhvQixHQUVGQSxJQUFVd0MsS0FBS29nRyxTQUVuQnBnRyxLQUFLb2dHLE9BQVM1aUcsRUFDZHdDLEtBQUttZ0csYUFBYyxJQUV2QjMzRSxFQUFJeEMscUJBRUEsT0FBT2htQixLQUFLb2dHLFFBUWhCNTNFLEVBQUlyQyxrQkFBSzNvQixHQUVEQSxJQUFVd0MsS0FBS2t1RSxRQUVuQmx1RSxLQUFLa3VFLE1BQVExd0UsRUFDYndDLEtBQUs4NEQsVUFBWXQ3RCxHQUFTLEtBQWUsTUFBUkEsS0FBNEIsSUFBUkEsSUFBaUIsSUFDdEV3QyxLQUFLbWdHLGFBQWMsSUFFdkIzM0UsRUFBSXJDLG9CQUVBLE9BQU9ubUIsS0FBS2t1RSxtQkFPaEI3d0Msa0JBRUksR0FBSXI5QixLQUFLbWdHLFlBQ1QsQ0FDSW5nRyxLQUFLbWdHLGFBQWMsRUFDbkIvOEYsSUFBTSsvQixFQUFjbmpDLEtBQUt1b0MsUUFBUXBGLFlBRWpDNWMsR0FBc0J2bUIsS0FBS2t1RSxNQUFPbHVFLEtBQUtvZ0csT0FBUXBnRyxLQUFLazFDLFNBQVN5N0MsT0FBUXh0RCxFQUFZbUIsa0JBRWpGdGtDLEtBQUt5dUMsU0FBU3BSLFdBRWRyOUIsS0FBS2sxQyxTQUFTZ3JELGVBQWlCbGdHLEtBQUt5dUMsU0FBU3daLHFEQXpJZnJCLElDUXJCeTVDLGVBT2pCLFdBQVlqdUYsRUFBVXVpQyxFQUFLOXpDLEdBRXZCbTFCLGFBRUE1eUIsSUFBTWs4RixFQUFpQixJQUFJeHRELEdBQU8xL0IsR0FDNUJrdUYsRUFBWSxJQUFJeHVELEdBQU82QyxHQUFLLEdBQzVCaEMsRUFBYyxJQUFJYixHQUFPanhDLEdBQU8sR0FBTSxHQUU1Q2IsS0FBS2d6QyxhQUFhLGtCQUFtQnNzRCxFQUFnQixHQUFHLEVBQU9wOUUsR0FBTU0sT0FDaEV3d0IsYUFBYSxnQkFBaUJzdEQsRUFBVyxHQUFHLEVBQU9wK0UsR0FBTU0sT0FDekQ0d0IsU0FBU1QsR0FVZDN5QyxLQUFLdWdHLFdBQWEsd0lBU3RCLzNFLEVBQUltM0UsNkJBRUEsT0FBTzMvRixLQUFLeXlDLFFBQVEsR0FBRzdELHFEQXRDVzRELElDbEJyQmd1RCxlQUVqQixXQUFZcDRGLEVBQWFDLEVBQWNvNEYsRUFBZUMsa0JBQWxDLG9CQUFjLG9CQUFnQixtQkFBZ0IsSUFFOUQxcUUsYUFFQWgyQixLQUFLeWdHLFNBQVdBLEVBQ2hCemdHLEtBQUswZ0csVUFBWUEsRUFFakIxZ0csS0FBS29JLE1BQVFBLEVBQ2JwSSxLQUFLcUksT0FBU0EsRUFFZHJJLEtBQUs0akUsa0hBT1RBLGlCQWFJLElBWEF4Z0UsSUFBTXdrRixFQUFRNW5GLEtBQUt5Z0csU0FBV3pnRyxLQUFLMGdHLFVBQzdCdjhCLEVBQVEsR0FDUnh2QixFQUFNLEdBQ05zaUIsRUFBVSxHQUVWMHBDLEVBQVkzZ0csS0FBS3lnRyxTQUFXLEVBQzVCRyxFQUFZNWdHLEtBQUswZ0csVUFBWSxFQUU3QkcsRUFBUzdnRyxLQUFVLE1BQUkyZ0csRUFDdkJHLEVBQVM5Z0csS0FBVyxPQUFJNGdHLEVBRXJCemlHLEVBQUksRUFBR0EsRUFBSXlwRixFQUFPenBGLElBQzNCLENBQ0lpRixJQUFNSyxFQUFLdEYsRUFBSTZCLEtBQUt5Z0csU0FDZHIwRixFQUFNak8sRUFBSTZCLEtBQUt5Z0csU0FBWSxFQUVqQ3Q4QixFQUFNM2xFLEtBQUtpRixFQUFJbzlGLEVBQU96MEYsRUFBSTAwRixHQUMxQm5zRCxFQUFJbjJDLEtBQUtpRixFQUFJazlGLEVBQVd2MEYsRUFBSXcwRixHQUtoQyxJQUZBeDlGLElBQU0yOUYsRUFBV0osRUFBWUMsRUFFcEJ6aUcsRUFBSSxFQUFHQSxFQUFJNGlHLEVBQVU1aUcsSUFDOUIsQ0FDSWlGLElBQU00OUYsRUFBTzdpRyxFQUFJd2lHLEVBQ1hNLEVBQVE5aUcsRUFBSXdpRyxFQUFhLEVBRXpCbmpHLEVBQVN5akcsRUFBT2poRyxLQUFLeWdHLFNBQVlPLEVBQ2pDRSxFQUFVRCxFQUFPamhHLEtBQUt5Z0csU0FBWU8sRUFBTyxFQUN6Q0csR0FBV0YsRUFBTyxHQUFLamhHLEtBQUt5Z0csU0FBWU8sRUFDeENJLEdBQVdILEVBQU8sR0FBS2poRyxLQUFLeWdHLFNBQVlPLEVBQU8sRUFFckQvcEMsRUFBUXo0RCxLQUFLaEIsRUFBTzBqRyxFQUFRQyxFQUN4QkQsRUFBUUUsRUFBUUQsR0FHeEJuaEcsS0FBS3l5QyxRQUFRLEdBQUc1bUMsS0FBTyxJQUFJbkgsYUFBYXkvRCxHQUN4Q25rRSxLQUFLeXlDLFFBQVEsR0FBRzVtQyxLQUFPLElBQUluSCxhQUFhaXdDLEdBQ3hDMzBDLEtBQUsyeUMsWUFBWTltQyxLQUFPLElBQUlqSCxZQUFZcXlELEdBR3hDajNELEtBQUt5eUMsUUFBUSxHQUFHcFYsU0FDaEJyOUIsS0FBS3l5QyxRQUFRLEdBQUdwVixTQUNoQnI5QixLQUFLMnlDLFlBQVl0VixhQWhFa0JnakUsSUNjdEJnQixlQU1qQixXQUFZajVGLEVBQWFxckIsa0JBQUwsS0FFaEJ1QyxZQUFNLElBQUl0eEIsYUFBNkIsRUFBaEIrdUIsRUFBT3IxQixRQUMxQixJQUFJc0csYUFBNkIsRUFBaEIrdUIsRUFBT3IxQixRQUN4QixJQUFJd0csWUFBa0MsR0FBckI2dUIsRUFBT3IxQixPQUFTLEtBTXJDNEIsS0FBS3l6QixPQUFTQSxFQU9kenpCLEtBQUtvSSxNQUFRQSxFQUVicEksS0FBSzRqRSxrSEFNVEEsaUJBRUl4Z0UsSUFBTXF3QixFQUFTenpCLEtBQUt5ekIsT0FFcEIsR0FBS0EsRUFBTCxDQUVBcndCLElBQU13eEMsRUFBZTUwQyxLQUFLbXpDLFVBQVUsbUJBQzlCMEIsRUFBVzcwQyxLQUFLbXpDLFVBQVUsaUJBQzFCUixFQUFjM3lDLEtBQUtxekMsV0FHekIsS0FBSTVmLEVBQU9yMUIsT0FBUyxHQUFwQixDQU1JdzJDLEVBQWEvb0MsS0FBS3pOLE9BQVMsSUFBTXExQixFQUFPcjFCLFNBRXhDdzJDLEVBQWEvb0MsS0FBTyxJQUFJbkgsYUFBNkIsRUFBaEIrdUIsRUFBT3IxQixRQUM1Q3kyQyxFQUFTaHBDLEtBQU8sSUFBSW5ILGFBQTZCLEVBQWhCK3VCLEVBQU9yMUIsUUFDeEN1MEMsRUFBWTltQyxLQUFPLElBQUlqSCxZQUFrQyxHQUFyQjZ1QixFQUFPcjFCLE9BQVMsS0FHeERnRixJQUFNdXhDLEVBQU1FLEVBQVNocEMsS0FDZm9yRCxFQUFVdGtCLEVBQVk5bUMsS0FFNUI4b0MsRUFBSSxHQUFLLEVBQ1RBLEVBQUksR0FBSyxFQUNUQSxFQUFJLEdBQUssRUFDVEEsRUFBSSxHQUFLLEVBT1QsSUFGQXZ4QyxJQUFNd2tGLEVBQVFuMEQsRUFBT3IxQixPQUVaRCxFQUFJLEVBQUdBLEVBQUl5cEYsRUFBT3pwRixJQUMzQixDQUVJaUYsSUFBTXZDLEVBQVksRUFBSjFDLEVBQ1I4eEYsRUFBUzl4RixHQUFLeXBGLEVBQVEsR0FFNUJqekMsRUFBSTl6QyxHQUFTb3ZGLEVBQ2J0N0MsRUFBSTl6QyxFQUFRLEdBQUssRUFFakI4ekMsRUFBSTl6QyxFQUFRLEdBQUtvdkYsRUFDakJ0N0MsRUFBSTl6QyxFQUFRLEdBQUssRUFLckIsSUFGQXlDLElBQUkwaEUsRUFBYSxFQUVSN21FLEVBQUksRUFBR0EsRUFBSXlwRixFQUFRLEVBQUd6cEYsSUFDL0IsQ0FDSWlGLElBQU12QyxFQUFZLEVBQUoxQyxFQUVkODRELEVBQVErTixLQUFnQm5rRSxFQUN4Qm8yRCxFQUFRK04sS0FBZ0Jua0UsRUFBUSxFQUNoQ28yRCxFQUFRK04sS0FBZ0Jua0UsRUFBUSxFQUVoQ28yRCxFQUFRK04sS0FBZ0Jua0UsRUFBUSxFQUNoQ28yRCxFQUFRK04sS0FBZ0Jua0UsRUFBUSxFQUNoQ28yRCxFQUFRK04sS0FBZ0Jua0UsRUFBUSxFQUlwQ2cwQyxFQUFTeFgsU0FDVHNWLEVBQVl0VixTQUVacjlCLEtBQUtzaEcsZ0NBTVRBLDBCQUVJbCtGLElBQU1xd0IsRUFBU3p6QixLQUFLeXpCLE9BRXBCLEtBQUlBLEVBQU9yMUIsT0FBUyxHQUFwQixDQWVBLElBVkFrRixJQUNJaStGLEVBREEzOEIsRUFBWW54QyxFQUFPLEdBRW5CK3RFLEVBQVEsRUFDUkMsRUFBUSxFQUlOcnZGLEVBQVdwUyxLQUFLeXlDLFFBQVEsR0FBRzVtQyxLQUMzQis3RSxFQUFRbjBELEVBQU9yMUIsT0FFWkQsRUFBSSxFQUFHQSxFQUFJeXBGLEVBQU96cEYsSUFDM0IsQ0FDSWlGLElBQU1zeEIsRUFBUWpCLEVBQU90MUIsR0FDZjBDLEVBQVksRUFBSjFDLEVBV2RzakcsS0FQSUYsRUFGQXBqRyxFQUFJczFCLEVBQU9yMUIsT0FBUyxFQUVScTFCLEVBQU90MUIsRUFBSSxHQUlYdTJCLEdBR0lqeEIsRUFBSW1oRSxFQUFVbmhFLEdBQ2xDKzlGLEVBQVFELEVBQVVuMUYsRUFBSXc0RCxFQUFVeDRELEVBU2hDaEosSUFBTXMrRixFQUFhejlGLEtBQUtzcEIsS0FBTWkwRSxFQUFRQSxFQUFVQyxFQUFRQSxHQUNsREUsRUFBTTNoRyxLQUFLb0ksTUFBUSxFQUV6Qm81RixHQUFTRSxFQUNURCxHQUFTQyxFQUVURixHQUFTRyxFQUNURixHQUFTRSxFQUVUdnZGLEVBQVN2UixHQUFTNnpCLEVBQU1qeEIsRUFBSSs5RixFQUM1QnB2RixFQUFTdlIsRUFBUSxHQUFLNnpCLEVBQU10b0IsRUFBSXExRixFQUNoQ3J2RixFQUFTdlIsRUFBUSxHQUFLNnpCLEVBQU1qeEIsRUFBSSs5RixFQUNoQ3B2RixFQUFTdlIsRUFBUSxHQUFLNnpCLEVBQU10b0IsRUFBSXExRixFQUVoQzc4QixFQUFZbHdDLEVBR2hCMTBCLEtBQUt5eUMsUUFBUSxHQUFHcFYsdUJBR3BCQSxrQkFFSXI5QixLQUFLc2hHLHFCQTNLNkJqQixJQ0VyQnVCLGVBTWpCLFdBQVlyNUQsRUFBUzlVLEdBRWpCcndCLElBQU15K0YsRUFBZSxJQUFJUixHQUFhOTRELEVBQVFsZ0MsT0FBUW9yQixHQUNoRHF1RSxFQUFlLElBQUk3QixHQUFhMTNELEdBRXRDdlMsWUFBTTZyRSxFQUFjQyxHQU9wQjloRyxLQUFLMHJDLFlBQWEsNEdBR3RCalIsaUJBQVF2QyxJQUVBbDRCLEtBQUswckMsWUFDRjFyQyxLQUFLK3pDLFNBQVMzckMsUUFBVXBJLEtBQUs4MkMsT0FBT3ZPLFFBQVFsZ0MsVUFFL0NySSxLQUFLK3pDLFNBQVMzckMsTUFBUXBJLEtBQUs4MkMsT0FBT3ZPLFFBQVFsZ0MsT0FDMUNySSxLQUFLK3pDLFNBQVMxVyxVQUdsQnJILFlBQU15RSxrQkFBUXZDLE9BOUJrQmluRSxJQ0NuQjRDLGVBT2pCLFdBQVl4NUQsRUFBU3k1RCxFQUFXQyxHQUU1QjcrRixJQUFNOCtGLEVBQWdCLElBQUkxQixHQUFjajRELEVBQVFuZ0MsTUFBT21nQyxFQUFRbGdDLE9BQVEyNUYsRUFBV0MsR0FDNUVILEVBQWUsSUFBSTdCLEdBQWFyekQsR0FBUThDLE9BRTlDMVosWUFBTWtzRSxFQUFlSixHQUdyQjloRyxLQUFLdW9DLFFBQVVBLDhJQU9uQjQ1RCwwQkFFSW5pRyxLQUFLMndFLFdBQWEzd0UsS0FBSzgyQyxPQUFPdk8sUUFBUXFHLFVBRXRDNXVDLEtBQUsrekMsU0FBUzNyQyxNQUFRcEksS0FBSzgyQyxPQUFPdk8sUUFBUW5nQyxNQUMxQ3BJLEtBQUsrekMsU0FBUzFyQyxPQUFTckksS0FBSzgyQyxPQUFPdk8sUUFBUWxnQyxPQUUzQ3JJLEtBQUsrekMsU0FBUzZ2QixTQUdsQnA3QyxFQUFJK2YscUJBQVEvcUMsR0FNSndDLEtBQUs4MkMsT0FBT3ZPLFVBQVkvcUMsSUFLNUJ3QyxLQUFLODJDLE9BQU92TyxRQUFVL3FDLEVBQ3RCd0MsS0FBSzJ3RSxZQUFjLEVBRWZuekUsRUFBTTJsQyxZQUFZRSxNQUVsQnJqQyxLQUFLbWlHLGlCQUlMM2tHLEVBQU0rTCxLQUFLLFNBQVV2SixLQUFLbWlHLGVBQWdCbmlHLFFBSWxEd29CLEVBQUkrZix1QkFFQSxPQUFPdm9DLEtBQUs4MkMsT0FBT3ZPLHFCQUd2QjlOLGlCQUFRdkMsR0FFQWw0QixLQUFLMndFLGFBQWUzd0UsS0FBSzgyQyxPQUFPdk8sUUFBUXFHLFdBRXhDNXVDLEtBQUttaUcsaUJBR1Ruc0UsWUFBTXlFLGtCQUFRdkMsOENBcEVtQmluRSxJQ1JwQmlELGVBU2pCLFdBQVk3NUQsRUFBeUJuMkIsRUFBVXVpQyxFQUFLc2lCLEVBQVM0UyxrQkFBdkNqOUIsR0FBUTVhLE9BRTFCNXVCLElBQU0yd0MsRUFBVyxJQUFJc3NELEdBQWFqdUYsRUFBVXVpQyxFQUFLc2lCLEdBRWpEbGpCLEVBQVNaLFVBQVUsbUJBQW1CbEIsUUFBUyxFQUUvQzd1QyxJQUFNMCtGLEVBQWUsSUFBSTdCLEdBQWExM0QsR0FFdEN2UyxZQUFNK2QsRUFBVSt0RCxFQUFjLEtBQU1qNEIsR0FNcEM3cEUsS0FBSzByQyxZQUFhLG1JQU90QmxqQixFQUFJcFcsd0JBRUEsT0FBT3BTLEtBQUsrekMsU0FBU1osVUFBVSxtQkFBbUJ0bkMsTUFFdEQyYyxFQUFJcFcsc0JBQVM1VSxHQUVUd0MsS0FBSyt6QyxTQUFTWixVQUFVLG1CQUFtQnRuQyxLQUFPck8sZUFHdERpOUIsaUJBQVF2QyxHQUVBbDRCLEtBQUswckMsWUFFTDFyQyxLQUFLK3pDLFNBQVNaLFVBQVUsbUJBQW1COVYsU0FHL0NySCxZQUFNeUUsa0JBQVF2Qyw4Q0E5Q2tCaW5FLElDUmxDa0QsR0FBc0IsR0FpQ1BDLGVBU2pCLFdBQVkvNUQsRUFBU2c2RCxFQUFXQyxFQUFXQyxFQUFZQyxHQUVuRDFzRSxZQUFNNFcsR0FBUThDLE1BQU8sRUFBRyxHQUV4QjF2QyxLQUFLMmlHLFdBQWFwNkQsRUFBUTRGLEtBQUsvbEMsTUFDL0JwSSxLQUFLNGlHLFlBQWNyNkQsRUFBUTRGLEtBQUs5bEMsT0FRaENySSxLQUFLZzdCLE9BQVNoN0IsS0FBSzJpRyxXQVFuQjNpRyxLQUFLaTdCLFFBQVVqN0IsS0FBSzRpRyxZQVFwQjVpRyxLQUFLNmlHLGdCQUFrQyxJQUFkTixFQUE0QkEsRUFBWUYsR0FRakVyaUcsS0FBSzhpRyxpQkFBb0MsSUFBZkwsRUFBNkJBLEVBQWFKLEdBUXBFcmlHLEtBQUsraUcsZ0JBQWtDLElBQWRQLEVBQTRCQSxFQUFZSCxHQVFqRXJpRyxLQUFLZ2pHLG1CQUF3QyxJQUFqQk4sRUFBK0JBLEVBQWVMLEdBRzFFcmlHLEtBQUt1b0MsUUFBVUEsb1RBR25CNDVELDBCQUVJbmlHLEtBQUsyd0UsV0FBYTN3RSxLQUFLODJDLE9BQU92TyxRQUFRcUcsVUFDdEM1dUMsS0FBS2lqRyxZQUdUejZFLEVBQUlwVyx3QkFFQSxPQUFPcFMsS0FBSyt6QyxTQUFTWixVQUFVLG1CQUFtQnRuQyxNQUd0RDJjLEVBQUlwVyxzQkFBUzVVLEdBRVR3QyxLQUFLK3pDLFNBQVNaLFVBQVUsbUJBQW1CdG5DLEtBQU9yTyxlQU90RDBsRyxvQ0FFSTkvRixJQUFNZ1AsRUFBV3BTLEtBQUtvUyxTQUVoQjlNLEVBQUl0RixLQUFLK2lHLFdBQWEvaUcsS0FBS2dqRyxjQUMzQi8yRSxFQUFRanNCLEtBQUtpN0IsUUFBVTMxQixFQUFJLEVBQU10RixLQUFLaTdCLFFBQVUzMUIsRUFFdEQ4TSxFQUFTLEdBQUtBLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU1wUyxLQUFLK2lHLFdBQWE5MkUsRUFDN0U3WixFQUFTLElBQU1BLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU1wUyxLQUFLaTdCLFFBQVdqN0IsS0FBS2dqRyxjQUFnQi8yRSxFQUNqRzdaLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTXBTLEtBQUtpN0IscUJBT3JFa29FLGtDQUVJLy9GLElBQU1nUCxFQUFXcFMsS0FBS29TLFNBRWhCNU0sRUFBSXhGLEtBQUs2aUcsV0FBYTdpRyxLQUFLOGlHLFlBQzNCNzJFLEVBQVFqc0IsS0FBS2c3QixPQUFTeDFCLEVBQUksRUFBTXhGLEtBQUtnN0IsT0FBU3gxQixFQUVwRDRNLEVBQVMsR0FBS0EsRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTXBTLEtBQUs2aUcsV0FBYTUyRSxFQUM3RTdaLEVBQVMsR0FBS0EsRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTXBTLEtBQUtnN0IsT0FBVWg3QixLQUFLOGlHLFlBQWM3MkUsRUFDN0Y3WixFQUFTLEdBQUtBLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU1wUyxLQUFLZzdCLFFBUXBFeFMsRUFBSXBnQixxQkFFQSxPQUFPcEksS0FBS2c3QixRQUdoQnhTLEVBQUlwZ0IsbUJBQU01SyxHQUVOd0MsS0FBS2c3QixPQUFTeDlCLEVBQ2R3QyxLQUFLaWpHLFlBUVR6NkUsRUFBSW5nQixzQkFFQSxPQUFPckksS0FBS2k3QixTQUdoQnpTLEVBQUluZ0Isb0JBQU83SyxHQUVQd0MsS0FBS2k3QixRQUFVejlCLEVBQ2Z3QyxLQUFLaWpHLFlBUVR6NkUsRUFBSSs1RSx5QkFFQSxPQUFPdmlHLEtBQUs2aUcsWUFHaEJyNkUsRUFBSSs1RSx1QkFBVS9rRyxHQUVWd0MsS0FBSzZpRyxXQUFhcmxHLEVBQ2xCd0MsS0FBS2lqRyxZQVFUejZFLEVBQUlpNkUsMEJBRUEsT0FBT3ppRyxLQUFLOGlHLGFBR2hCdDZFLEVBQUlpNkUsd0JBQVdqbEcsR0FFWHdDLEtBQUs4aUcsWUFBY3RsRyxFQUNuQndDLEtBQUtpakcsWUFRVHo2RSxFQUFJZzZFLHlCQUVBLE9BQU94aUcsS0FBSytpRyxZQUdoQnY2RSxFQUFJZzZFLHVCQUFVaGxHLEdBRVZ3QyxLQUFLK2lHLFdBQWF2bEcsRUFDbEJ3QyxLQUFLaWpHLFlBUVR6NkUsRUFBSWs2RSw0QkFFQSxPQUFPMWlHLEtBQUtnakcsZUFHaEJ4NkUsRUFBSWs2RSwwQkFBYWxsRyxHQUVid0MsS0FBS2dqRyxjQUFnQnhsRyxFQUNyQndDLEtBQUtpakcsd0JBTVRBLG9CQUVJNy9GLElBQU1tbEMsRUFBVXZvQyxLQUFLdW9DLFFBRWZvTSxFQUFNMzBDLEtBQUsrekMsU0FBU3RCLFFBQVEsR0FBRzVtQyxLQUVyQzdMLEtBQUsyaUcsV0FBYXA2RCxFQUFRNEYsS0FBSy9sQyxNQUMvQnBJLEtBQUs0aUcsWUFBY3I2RCxFQUFRNEYsS0FBSzlsQyxPQUVoQ2pGLElBQU1nZ0csRUFBTyxFQUFNcGpHLEtBQUsyaUcsV0FDbEJVLEVBQU8sRUFBTXJqRyxLQUFLNGlHLFlBRXhCanVELEVBQUksR0FBS0EsRUFBSSxHQUFLQSxFQUFJLElBQU1BLEVBQUksSUFBTSxFQUN0Q0EsRUFBSSxHQUFLQSxFQUFJLEdBQUtBLEVBQUksR0FBS0EsRUFBSSxHQUFLLEVBQ3BDQSxFQUFJLEdBQUtBLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU0sRUFDdkNBLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTSxFQUV4Q0EsRUFBSSxHQUFLQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNeXVELEVBQU9wakcsS0FBSzZpRyxXQUNuRGx1RCxFQUFJLEdBQUtBLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU0sRUFBS3l1RCxFQUFPcGpHLEtBQUs4aUcsWUFDeERudUQsRUFBSSxHQUFLQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNMHVELEVBQU9yakcsS0FBSytpRyxXQUNuRHB1RCxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU0sRUFBSzB1RCxFQUFPcmpHLEtBQUtnakcsY0FFekRoakcsS0FBS2tqRywyQkFDTGxqRyxLQUFLbWpHLHlCQUVMbmpHLEtBQUsrekMsU0FBU3RCLFFBQVEsR0FBR3BWLFNBQ3pCcjlCLEtBQUsrekMsU0FBU3RCLFFBQVEsR0FBR3BWLG9EQWpQVzBrRSxJQ0N2QnVCLGVBT2pCLFdBQVloeUQsRUFBVTVGLEdBRWxCMVYsWUFBTXNiLEVBQVMsYUFBYzFFLEdBQVUwRSxFQUFTLEdBQUtBLEVBQVMsR0FBRy9JLFNBTWpFdm9DLEtBQUtnOUUsVUFBWSxLQU1qQmg5RSxLQUFLdWpHLFdBQWEsS0FFbEJ2akcsS0FBS3N4QyxTQUFXQSxFQVFoQnR4QyxLQUFLd3FDLGFBQTZCLElBQWZrQixFQVFuQjFyQyxLQUFLd2pHLGVBQWlCLEVBUXRCeGpHLEtBQUt5akcsTUFBTyxFQWNaempHLEtBQUswakcsY0FBZSxFQU9wQjFqRyxLQUFLMGtGLFdBQWEsS0FPbEIxa0YsS0FBSzJqRyxjQUFnQixLQU9yQjNqRyxLQUFLNGpHLE9BQVMsS0FRZDVqRyxLQUFLNmpHLGFBQWUsRUFRcEI3akcsS0FBSzhqRyxTQUFVLDRNQU9uQi8wRixnQkFFUy9PLEtBQUs4akcsVUFLVjlqRyxLQUFLOGpHLFNBQVUsRUFDWDlqRyxLQUFLd3FDLGFBRUxqSyxHQUFPNEIsT0FBTzVDLE9BQU92L0IsS0FBS3E5QixPQUFRcjlCLG9CQVExQzJyQyxnQkFFUTNyQyxLQUFLOGpHLFVBS1Q5akcsS0FBSzhqRyxTQUFVLEVBQ1g5akcsS0FBS3dxQyxhQUVMakssR0FBTzRCLE9BQU9wUyxJQUFJL3ZCLEtBQUtxOUIsT0FBUXI5QixLQUFNNi9CLEdBQWdCbGMsb0JBUzdEb2dGLHFCQUFZQyxHQUVSaGtHLEtBQUsrTyxPQUVMM0wsSUFBTTZnRyxFQUFnQmprRyxLQUFLa2tHLGFBRTNCbGtHLEtBQUs2akcsYUFBZUcsRUFFaEJDLElBQWtCamtHLEtBQUtra0csY0FFdkJsa0csS0FBS2l5RCw2QkFTYmt5QyxxQkFBWUgsR0FFUjVnRyxJQUFNNmdHLEVBQWdCamtHLEtBQUtra0csYUFFM0Jsa0csS0FBSzZqRyxhQUFlRyxFQUVoQkMsSUFBa0Jqa0csS0FBS2trRyxjQUV2QmxrRyxLQUFLaXlELGdCQUdUanlELEtBQUsyckMsb0JBU1R0TyxnQkFBTzhDLEdBRUgvOEIsSUFBTWdoRyxFQUFVcGtHLEtBQUt3akcsZUFBaUJyakUsRUFDaEM4akUsRUFBZ0Jqa0csS0FBS2trRyxhQUUzQixHQUF3QixPQUFwQmxrRyxLQUFLdWpHLFdBQ1QsQ0FDSWpnRyxJQUFJK2dHLEVBQU1ya0csS0FBSzZqRyxhQUFlLEVBQUk3akcsS0FBS3VqRyxXQUFXdmpHLEtBQUtra0csY0FJdkQsSUFGQUcsR0FBT0QsRUFBVSxHQUFLLElBRWZDLEVBQU0sR0FFVHJrRyxLQUFLNmpHLGVBQ0xRLEdBQU9ya0csS0FBS3VqRyxXQUFXdmpHLEtBQUtra0csY0FHaEM5Z0csSUFBTWMsRUFBT0QsS0FBS0MsS0FBS2xFLEtBQUt3akcsZUFBaUJyakUsR0FJN0MsSUFGQW5nQyxLQUFLNmpHLGFBQWU1L0YsS0FBS00sTUFBTXZFLEtBQUs2akcsY0FFN0JRLEdBQU9ya0csS0FBS3VqRyxXQUFXdmpHLEtBQUtra0csZUFFL0JHLEdBQU9ya0csS0FBS3VqRyxXQUFXdmpHLEtBQUtra0csY0FBZ0JoZ0csRUFDNUNsRSxLQUFLNmpHLGNBQWdCMy9GLEVBR3pCbEUsS0FBSzZqRyxjQUFnQlEsRUFBTXJrRyxLQUFLdWpHLFdBQVd2akcsS0FBS2trRyxtQkFJaERsa0csS0FBSzZqRyxjQUFnQk8sRUFHckJwa0csS0FBSzZqRyxhQUFlLElBQU03akcsS0FBS3lqRyxNQUUvQnpqRyxLQUFLK2pHLFlBQVksR0FFYi9qRyxLQUFLMGtGLFlBRUwxa0YsS0FBSzBrRixjQUdKMWtGLEtBQUs2akcsY0FBZ0I3akcsS0FBS2c5RSxVQUFVNStFLFNBQVc0QixLQUFLeWpHLE1BRXpEempHLEtBQUsrakcsWUFBWS9qRyxLQUFLZzlFLFVBQVU1K0UsT0FBUyxHQUVyQzRCLEtBQUswa0YsWUFFTDFrRixLQUFLMGtGLGNBR0p1ZixJQUFrQmprRyxLQUFLa2tHLGVBRXhCbGtHLEtBQUt5akcsTUFBUXpqRyxLQUFLNGpHLFNBRWQ1akcsS0FBS3dqRyxlQUFpQixHQUFLeGpHLEtBQUtra0csYUFBZUQsRUFFL0Nqa0csS0FBSzRqRyxTQUVBNWpHLEtBQUt3akcsZUFBaUIsR0FBS3hqRyxLQUFLa2tHLGFBQWVELEdBRXBEamtHLEtBQUs0akcsVUFJYjVqRyxLQUFLaXlELDhCQVNiQSx5QkFFSWp5RCxLQUFLbTNDLFNBQVduM0MsS0FBS2c5RSxVQUFVaDlFLEtBQUtra0csY0FDcENsa0csS0FBSzJ3RSxZQUFjLEVBQ25CM3dFLEtBQUs2d0UsbUJBQXFCLEVBQzFCN3dFLEtBQUt5d0UsWUFBYyxTQUNuQnp3RSxLQUFLMjBDLElBQU0zMEMsS0FBS20zQyxTQUFTM0ksS0FBS2YsV0FFMUJ6dEMsS0FBSzBqRyxjQUVMMWpHLEtBQUt1d0UsUUFBUSt6QixLQUFLdGtHLEtBQUttM0MsU0FBU3hJLGVBR2hDM3VDLEtBQUsyakcsZUFFTDNqRyxLQUFLMmpHLGNBQWMzakcsS0FBS2trRywyQkFjaEMzN0UsaUJBQVFsUixHQUVKclgsS0FBSytPLE9BQ0xpbkIsWUFBTXpOLGtCQUFRbFIsR0FFZHJYLEtBQUswa0YsV0FBYSxLQUNsQjFrRixLQUFLMmpHLGNBQWdCLEtBQ3JCM2pHLEtBQUs0akcsT0FBUyxNQVVsQk4sRUFBT2lCLG9CQUFXaFQsR0FJZCxJQUZBbnVGLElBQU1rdUMsRUFBVyxHQUVSbnpDLEVBQUksRUFBR0EsRUFBSW96RixFQUFPbnpGLFNBQVVELEVBRWpDbXpDLEVBQVM5eUMsS0FBS291QyxHQUFRcnFDLEtBQUtndkYsRUFBT3B6RixLQUd0QyxPQUFPLElBQUltbEcsRUFBZWh5RCxJQVU5Qmd5RCxFQUFPa0Isb0JBQVdDLEdBSWQsSUFGQXJoRyxJQUFNa3VDLEVBQVcsR0FFUm56QyxFQUFJLEVBQUdBLEVBQUlzbUcsRUFBT3JtRyxTQUFVRCxFQUVqQ216QyxFQUFTOXlDLEtBQUtvdUMsR0FBUXJxQyxLQUFLa2lHLEVBQU90bUcsS0FHdEMsT0FBTyxJQUFJbWxHLEVBQWVoeUQsSUFXOUI5b0IsRUFBSWs4RSwyQkFFQSxPQUFPMWtHLEtBQUtnOUUsVUFBVTUrRSxRQVExQm9xQixFQUFJOG9CLHdCQUVBLE9BQU90eEMsS0FBS2c5RSxXQUdoQngwRCxFQUFJOG9CLHNCQUFTOXpDLEdBRVQsR0FBSUEsRUFBTSxhQUFjb3ZDLEdBRXBCNXNDLEtBQUtnOUUsVUFBWXgvRSxFQUNqQndDLEtBQUt1akcsV0FBYSxTQUd0QixDQUNJdmpHLEtBQUtnOUUsVUFBWSxHQUNqQmg5RSxLQUFLdWpHLFdBQWEsR0FFbEIsSUFBS2pnRyxJQUFJbkYsRUFBSSxFQUFHQSxFQUFJWCxFQUFNWSxPQUFRRCxJQUU5QjZCLEtBQUtnOUUsVUFBVXgrRSxLQUFLaEIsRUFBTVcsR0FBR29xQyxTQUM3QnZvQyxLQUFLdWpHLFdBQVcva0csS0FBS2hCLEVBQU1XLEdBQUdpakMsTUFHdENwaEMsS0FBSytqRyxZQUFZLEdBQ2pCL2pHLEtBQUtpeUQsaUJBU1R6cEMsRUFBSTA3RSw0QkFFQTVnRyxJQUFJNGdHLEVBQWVqZ0csS0FBS00sTUFBTXZFLEtBQUs2akcsY0FBZ0I3akcsS0FBS2c5RSxVQUFVNStFLE9BT2xFLE9BTEk4bEcsRUFBZSxJQUVmQSxHQUFnQmxrRyxLQUFLZzlFLFVBQVU1K0UsUUFHNUI4bEcsNkNBelk2QjV6QixJQ041Q3RjLEdBQVNTLGVBQWUsZ0JBQWlCa3dDLElBQ3pDM3dDLEdBQVNTLGVBQWUsVUFBV213QyxJQUNuQzV3QyxHQUFTUyxlQUFlLGNBQWVvd0MsSUFDdkM3d0MsR0FBU1MsZUFBZSxXQUFZMDdCLElBQ3BDbjhCLEdBQVNTLGVBQWUsVUFBV3F3QyxJQUNuQzl3QyxHQUFTUyxlQUFlLFFBQVNtRixJQUNqQzVGLEdBQVNTLGVBQWUsZUFBZ0JpL0IsT0FFakNqL0IsZUFBZWtpQyxPQUNmbGlDLGVBQWVnK0IsSUFFdEJ6VSxHQUFZdnBCLGVBQWVseUIsSUFDM0J5N0MsR0FBWXZwQixlQUFlaTVCLFFBNENkajNELEdBQVUsYUFDbkJ5Z0UsY0FDQTJCLGtCQUNBakIscUJBQ0EyQixzQkFDQXlDLGNBQ0FLLGVBQ0FDLGdvREF4Q21CLG1TWnhDUixXQUVYbDVGLElBQU0yaEcsRUFBTy9rRyxLQUVidkMsT0FBT2tpRixpQkFBaUJvbEIsRUFBTSxDQU8xQi82RCxTQUFVLENBQ05ySCxlQUlJLE9BRkF2WixHQUFZMDFFLEdBQUksaUZBRVRpRyxFQUFLLzdELFlBQVlnQixXQVNoQ2c3RCxnQkFBaUIsQ0FDYnJpRSxlQUlJLE9BRkF2WixHQUFZMDFFLEdBQUksbUVBRVRpRyxFQUFLdDBFLFlBU3BCdzBFLGNBQWUsQ0FDWHRpRSxlQUlJLE9BRkF2WixHQUFZMDFFLEdBQUksaUVBRVRpRyxFQUFLdDBFLFlBZ0JwQnkwRSxlQUFnQixDQUNadmlFLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxpREFFVCxDQUFFcUcsT0FBUSxFQUFHQyxRQUFTLEtBU3JDQyxjQUFlLENBQ1gxaUUsZUFJSSxPQUZBdlosR0FBWTAxRSxHQUFJLHVEQUVUaUcsRUFBSy93QyxXQVNwQi9yQyxtQkFBb0IsQ0FDaEIwYSxlQUlJLE9BRkF2WixHQUFZMDFFLEdBQUksNEVBRVRpRyxFQUFLTyxNQUFNcjlFLHFCQVcxQjJsRSxPQUFRLENBQ0pqckQsZUFJSSxPQUZBdlosR0FBWTAxRSxHQUFJLHdEQUVUaUcsRUFBS3ZaLE9BQU9ycEQsU0FTM0JvakUsY0FBZSxDQUNYNWlFLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxtRUFFVGlHLEVBQUtTLFFBQVFqd0QsaUJBV2hDd3ZELEVBQUtVLE9BQVMsR0FFZGhvRyxPQUFPa2lGLGlCQUFpQm9sQixFQUFLVSxPQUFRLENBTWpDelMsYUFBYyxDQUNWcndELGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxpRUFFVGlHLEVBQUsvUixlQVFwQlUscUJBQXNCLENBQ2xCL3dELGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxpRkFFVGlHLEVBQUtyUix1QkFRcEI0UCxlQUFnQixDQUNaM2dFLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxxRUFFVGlHLEVBQUt6QixpQkFRcEJuUCxXQUFZLENBQ1J4eEQsZUFJSSxPQUZBdlosR0FBWTAxRSxHQUFJLDZEQUVUaUcsRUFBSzVRLGVBS3hCMTJGLE9BQU9raUYsaUJBQWlCb2xCLEVBQUtPLE1BQU8sQ0FNaENJLFdBQVksQ0FDUi9pRSxlQUlJLE9BRkF2WixHQUFZMDFFLEdBQUksa0ZBRVRpRyxFQUFLLzdELFlBQVlhLFlBVXBDazdELEVBQUtZLEtBQU8sR0FFWmxvRyxPQUFPa2lGLGlCQUFpQm9sQixFQUFLWSxLQUFNLENBTS9CeEcsS0FBTSxDQUNGeDhELGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxxREFFVGlHLEVBQUszQyxhQVFwQkUsZUFBZ0IsQ0FDWjMvRCxlQUlJLE9BRkF2WixHQUFZMDFFLEdBQUksbUVBRVRpRyxFQUFLekMsaUJBUXBCc0QsTUFBTyxDQUNIampFLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSx1REFFVGlHLEVBQUtoRCxjQVFwQjhELEtBQU0sQ0FDRmxqRSxlQUlJLE9BRkF2WixHQUFZMDFFLEdBQUkscURBRVRpRyxFQUFLbkQsYUFRcEJrRSxRQUFTLENBQ0xuakUsZUFJSSxPQUZBdlosR0FBWTAxRSxHQUFJLGtEQUVUaUcsRUFBSzVGLE9BUXBCNEcsbUJBQW9CLENBQ2hCcGpFLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSwyRUFFVGlHLEVBQUtnQixxQkFRcEJDLGFBQWMsQ0FDVnJqRSxlQUlJLE9BRkF2WixHQUFZMDFFLEdBQUksK0RBRVRpRyxFQUFLaUIsaUJBV3hCakIsRUFBS2tCLFVBQVksR0FFakJ4b0csT0FBT2tpRixpQkFBaUJvbEIsRUFBS2tCLFVBQVcsQ0FNcENuWSxrQkFBbUIsQ0FDZm5yRCxlQUlJLE9BRkF2WixHQUFZMDFFLEdBQUksOEVBRVRpRyxFQUFLalgsb0JBUXBCcUMsaUJBQWtCLENBQ2R4dEQsZUFJSSxPQUZBdlosR0FBWTAxRSxHQUFJLDRFQUVUaUcsRUFBSzVVLHFCQVd4QjRVLEVBQUt0aUUsT0FBUyxHQUVkaGxDLE9BQU9raUYsaUJBQWlCb2xCLEVBQUt0aUUsT0FBUSxDQU1qQ2xDLE9BQVEsQ0FDSm9DLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxxREFFVGlHLEVBQUt4a0UsU0FTcEI0QixPQUFRLENBQ0pRLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSwrREFFVGlHLEVBQUt4a0UsT0FBTzRCLFdBVS9CNGlFLEVBQUttQixRQUFVLEdBRWZ6b0csT0FBT2tpRixpQkFBaUJvbEIsRUFBS21CLFFBQVMsQ0FNbEMxYSxPQUFRLENBQ0o3b0QsZUFJSSxPQUZBdlosR0FBWTAxRSxHQUFJLHNEQUVUaUcsRUFBS3ZaLFNBUXBCM29ELFNBQVUsQ0FDTkYsZUFJSSxPQUZBdlosR0FBWTAxRSxHQUFJLGdFQUVUaUcsRUFBS2xYLGlCQVFwQnNZLGlCQUFrQixDQUNkeGpFLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxpRkFFVGlHLEVBQUtwTyxpQkFBaUJuSyxNQVFyQzRaLG9CQUFxQixDQUNqQnpqRSxlQUlJLE9BRkF2WixHQUFZMDFFLEdBQUksc0ZBRVRpRyxFQUFLcE8saUJBQWlCMzdFLFFBUXJDcXJGLGtCQUFtQixDQUNmMWpFLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxtRkFFVGlHLEVBQUt0UyxrQkFBa0JqRyxNQVF0Q3NHLGdCQUFpQixDQUNibndELGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSw2RkFFVGlHLEVBQUt0UyxrQkFBa0JLLG9CQVcxQ2lTLEVBQUt2WixPQUFPOGEsa0JBQW9CLFNBQTJCOVksR0FNdkQsT0FKQXBrRSxHQUFZMDFFLEdBQ1Isd0dBR0dpRyxFQUFLbUIsUUFBUTFhLE9BQU8vMkIsZUFBZSxDQUFFKzNCLElBQUtnQixPQVFyRC92RixPQUFPNDVCLGVBQWUwdEUsRUFBS2hyQyxRQUFTLGVBQWdCLENBQ2hEcDNCLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxzRUFFVGlHLEVBQUtockMsUUFBUUQsV0FTNUJyOEQsT0FBTzQ1QixlQUFlMHRFLEVBQUt3QixRQUFTLGVBQWdCLENBQ2hENWpFLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxxRUFFVGlHLEVBQUt3QixRQUFRaHBCLFdBVzVCd25CLEVBQUsvckUsVUFBVXQ3QixVQUFVOG9HLGFBQWUsU0FBc0J0dUUsR0FFMUQ5TyxHQUFZMDFFLEdBQUksMEVBRWhCOStGLEtBQUt5NkIsUUFBUXZDLElBU2pCNnNFLEVBQUsvckUsVUFBVXQ3QixVQUFVK29HLFlBQWMsU0FBcUJ2dUUsR0FFeEQ5TyxHQUFZMDFFLEdBQUksd0VBRWhCOStGLEtBQUtpNEIsT0FBT0MsSUFTaEI2c0UsRUFBS2h2RSxjQUFjcjRCLFVBQVUrb0csWUFBYyxTQUFxQnZ1RSxHQUU1RDlPLEdBQVkwMUUsR0FBSSxnRkFFaEI5K0YsS0FBS2k0QixPQUFPQyxJQVNoQjZzRSxFQUFLL3JFLFVBQVV0N0IsVUFBVWdwRyxvQkFBc0IsU0FBNkJ4dUUsR0FFeEU5TyxHQUFZMDFFLEdBQUksd0ZBRWhCOStGLEtBQUt3NkIsZUFBZXRDLElBR3hCejZCLE9BQU9raUYsaUJBQWlCb2xCLEVBQUtuaEYsU0FBVSxDQVVuQ3NoRixlQUFnQixDQUNadmlFLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSwwREFFVCxHQUVYMTBFLGVBRUloQixHQUFZMDFFLEdBQUksOERBS3BCLG9CQU9SeDRELEVBQVk1b0MsVUFBVWlwRyxXQUFhLFNBQW9CM3NDLEdBRW5ENXdDLEdBQVkwMUUsR0FBSSwwREFFaEIxN0YsSUFBTW1qQyxFQUFXdytELEVBQUt6OEQsVUFBVXZDLG1CQUFtQmkwQixHQUVuRHp6QixFQUFTeEQsVUFBVyxFQUVwQi9pQyxLQUFLbW5DLFlBQVlaLEdBQ2pCdm1DLEtBQUtxOUIsVUFHVDUvQixPQUFPa2lGLGlCQUFpQnI1QyxFQUFZNW9DLFVBQVcsQ0FRM0NrcEcsVUFBVyxDQUNQamtFLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxvRkFFVDkrRixLQUFLcWpDLFFBU3BCNEwsU0FBVSxDQUNOdE0sZUFJSSxPQUZBdlosR0FBWTAxRSxHQUFJLDBGQUVUOStGLEtBQUt1bUMsVUFBWXZtQyxLQUFLdW1DLFNBQVMxckIsS0FHMUN1UCxhQUFJNmtCLEdBRUE3bEIsR0FBWTAxRSxHQUFJLDBGQUVaOStGLEtBQUt1bUMsV0FFTHZtQyxLQUFLdW1DLFNBQVMxckIsSUFBTW8wQixLQVdoQzNzQyxPQUFRLENBQ0pxZ0MsZUFJSSxPQUZBdlosR0FBWTAxRSxHQUFJLDJGQUVUOStGLEtBQUt1bUMsVUFBWXZtQyxLQUFLdW1DLFNBQVNqa0MsUUFFMUM4bkIsYUFBSTluQixHQUVBOG1CLEdBQVkwMUUsR0FBSSxvS0FHWjkrRixLQUFLdW1DLFdBRUx2bUMsS0FBS3VtQyxTQUFTamtDLE9BQVNBLE9BYXZDZ2tDLEVBQVlrdEQsVUFBWSxTQUFtQjl1RSxFQUFRdWYsRUFBYW9DLEVBQVdwYSxHQUV2RTdDLEdBQVkwMUUsR0FBSSxrRkFFaEIxN0YsSUFBTW9qQyxFQUFrQixPQUFFdmEsY0FBT2dZLEdBRWpDLE9BQU9xQyxFQUFZL2pDLEtBQUttaUIsRUFBUSxXQUFFMmhCLGtCQUFXRyxLQVVqREYsRUFBWXVnRSxXQUFhLFNBQW9CbmlGLEVBQVEyaEIsR0FJakQsT0FGQWpkLEdBQVkwMUUsR0FBSSxtRkFFVHg0RCxFQUFZL2pDLEtBQUttaUIsRUFBUSxXQUFFMmhCLEtBVXRDQyxFQUFZd2dFLFFBQVUsU0FBaUJwaUYsRUFBUXVmLEVBQWFvQyxFQUFXcGEsR0FFbkU3QyxHQUFZMDFFLEdBQUksZ0ZBRWhCMTdGLElBQU1vakMsRUFBa0IsT0FBRXZhLGNBQU9nWSxHQUVqQyxPQUFPcUMsRUFBWS9qQyxLQUFLbWlCLEVBQVEsV0FBRTJoQixrQkFBV0csS0FRakR1K0QsRUFBSzk2RSxNQUFNdnNCLFVBQVU0bUcsS0FBTyxTQUFjM2dHLEdBSXRDLE9BRkF5bEIsR0FBWTAxRSxHQUFJLHFFQUVUOStGLEtBQUttcUIsU0FBU3htQixJQVF6Qm9oRyxFQUFLejZFLGdCQUFnQjVzQixVQUFVNG1HLEtBQU8sU0FBYzNnRyxHQUloRCxPQUZBeWxCLEdBQVkwMUUsR0FBSSx5RkFFVDkrRixLQUFLbXFCLFNBQVN4bUIsSUFRekJvaEcsRUFBS2h6RSxVQUFVcjBCLFVBQVU0bUcsS0FBTyxTQUFjM2dHLEdBSTFDLE9BRkF5bEIsR0FBWTAxRSxHQUFJLDZFQUVUOStGLEtBQUttcUIsU0FBU3htQixJQVF6Qm9oRyxFQUFLeDVFLE9BQU83dEIsVUFBVTRtRyxLQUFPLFNBQWMzZ0csR0FJdkMsT0FGQXlsQixHQUFZMDFFLEdBQUkscUVBRVQ5K0YsS0FBS3FxQixPQUFPMW1CLElBUXZCb2hHLEVBQUtTLFFBQVExM0MsWUFBWXB3RCxVQUFVcXBHLFNBQVcsU0FBa0Jwa0csR0FJNUQsT0FGQXltQixHQUFZLFNBQVUsNERBRWZwcEIsS0FBS29xQixJQUFJem5CLElBR3BCbEYsT0FBTzRELE9BQU8wakcsRUFBS1MsUUFBUWp3RCxhQUFhNzNDLFVBQVcsQ0FNL0NzcEcseUJBQWdCNStFLEVBQU9GLEdBTW5CLE9BSkFrQixHQUFZMDFFLEdBQ1IsK0dBR0c5K0YsS0FBS2l4QyxpQkFBaUIvb0IsSUFRakMrK0UsNEJBQW1CajJELEdBRWY1bkIsR0FBWTAxRSxHQUNSLHFIQUlKOStGLEtBQUtveEMsb0JBQW9CSixJQVM3QmsyRCxvQ0FBMkJqd0QsR0FFdkI3dEIsR0FBWTAxRSxHQUFJLHlJQUdoQjE3RixJQUFNZzBDLEVBQWVILEVBQWF2cEIsYUFDUTF0QixLQUFLNjFDLGlEQUsvQyxPQUhBdUIsRUFBYXByQixVQUFVc3BCLEVBQVk3eEMsRUFBSXN4QyxFQUFpQjNzQyxNQUFPa3RDLEVBQVlscEMsRUFBSTJvQyxFQUFpQjFzQyxRQUNoRyt1QyxFQUFhbnJCLE1BQU04b0IsRUFBaUIzc0MsTUFBTzJzQyxFQUFpQjFzQyxRQUVyRCt1QyxHQVNYK3ZELDhDQUFxQ2x3RCxHQUVqQzd0QixHQUFZMDFFLEdBQUksd0tBR2hCLE1BQTBDOStGLEtBQUs2MUMsaURBQ3pDdUIsRUFBZUgsRUFBYXZwQixXQUVsQzBwQixFQUFhcHJCLFVBQVVzcEIsRUFBWTd4QyxFQUFJc3hDLEVBQWlCM3NDLE1BQU9rdEMsRUFBWWxwQyxFQUFJMm9DLEVBQWlCMXNDLFFBRWhHakYsSUFBTWdrRyxFQUFtQnJ5RCxFQUFpQjNzQyxNQUFRa3RDLEVBQVlsdEMsTUFDeERpL0YsRUFBbUJ0eUQsRUFBaUIxc0MsT0FBU2l0QyxFQUFZanRDLE9BSS9ELE9BRkErdUMsRUFBYW5yQixNQUFNbTdFLEVBQWlCQyxHQUU3Qmp3RCxLQUlmMzVDLE9BQU9raUYsaUJBQWlCb2xCLEVBQUtqMUQsY0FBY3B5QyxVQUFXLENBT2xENDNDLFlBQWEsQ0FDVDNTLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSw0REFFVDkrRixLQUFLa3dDLGNBU3BCenBCLEtBQU0sQ0FDRmtjLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSxxREFFVDkrRixLQUFLc3VDLFdBV3hCLElBQU1nNUQsY0FFRixXQUFZeFAsRUFBVTc5QixFQUFTL3hDLEVBQVk2dkUsR0FFdkMzdUUsR0FBWTAxRSxHQUFJLGlGQUVoQjlvRSxhQUFNLEVBQU04aEUsRUFBVTc5QixFQUFTL3hDLEVBQVk2dkUsb0dBTnpCZ04sRUFBS3R1RSxRQUFRbWhFLGdCQWdCakMyUCxjQUVGLFdBQVl6UCxFQUFVNzlCLEVBQVMveEMsRUFBWTZ2RSxHQUV2QzN1RSxHQUFZMDFFLEdBQUksaUZBRWhCOW9FLGFBQU0sRUFBTzhoRSxFQUFVNzlCLEVBQVMveEMsRUFBWTZ2RSxvR0FOMUJnTixFQUFLdHVFLFFBQVFtaEUsZ0JBVXZDbjZGLE9BQU80RCxPQUFPMGpHLEVBQUt0dUUsUUFBUyxhQUN4QjZ3RSxjQUNBQyxJQUdKLHdDQTRCQSxTQUFTQyxFQUFXbjlGLEVBQU0vSCxFQUFRMmhDLEVBQWFvQyxHQUkzQyxPQUZBamQsR0FBWTAxRSxrQkFBbUJ6MEYsaURBRXhCaW1FLEVBQU8vdEUsS0FBS0QsRUFBUSxDQUN2QmtrQyxnQkFBaUIsQ0FDYnZhLE1BQU9vYSxjQUNQcEMsS0E4Q1osU0FBU3dqRSxFQUFZcDlGLEVBQU0vSCxFQUFRMmhDLEVBQWFvQyxHQUk1QyxPQUZBamQsR0FBWTAxRSxtQkFBb0J6MEYsa0RBRXpCdWlDLEVBQVFycUMsS0FBS0QsRUFBUSxDQUN4QmtrQyxnQkFBaUIsQ0FDYnZhLE1BQU9vYSxjQUNQcEMsS0FwRlB3cEMsRUFBUy92RSxVQUFVZ3FHLHdCQUVwQmo2QixFQUFTL3ZFLFVBQVVncUcsc0JBQXdCLFdBRXZDdCtFLEdBQVkwMUUsR0FBSSxzRkFVeEJyaEcsT0FBTzQ1QixlQUFlMHRFLEVBQUt0M0IsU0FBUy92RSxVQUFXLGVBQWdCLENBQzNEaWxDLGVBSUksT0FGQXZaLEdBQVkwMUUsR0FBSSw4RkFFVDkrRixLQUFLK3pDLFNBQVM4dkIsZ0JBdUI3QnlNLEVBQU9rakIsVUFBWWdVLEVBQVdsckUsS0FBSyxLQUFNLGFBUXpDZzBDLEVBQU93MkIsUUFBVVUsRUFBV2xyRSxLQUFLLEtBQU0sV0FRdkNnMEMsRUFBT3UyQixXQUFhVyxFQUFXbHJFLEtBQUssS0FBTSxjQVExQ2cwQyxFQUFPcTNCLFVBQVlILEVBQVdsckUsS0FBSyxLQUFNLGFBUXpDZzBDLEVBQU9nakIsVUFBWWtVLEVBQVdsckUsS0FBSyxLQUFNLGFBcUJ6Q3NRLEVBQVE0bUQsVUFBWWlVLEVBQVluckUsS0FBSyxLQUFNLGFBUTNDc1EsRUFBUWs2RCxRQUFVVyxFQUFZbnJFLEtBQUssS0FBTSxXQVF6Q3NRLEVBQVFpNkQsV0FBYVksRUFBWW5yRSxLQUFLLEtBQU0sY0FRNUNzUSxFQUFRKzZELFVBQVlGLEVBQVluckUsS0FBSyxLQUFNLGFBUTNDc1EsRUFBUTBtRCxVQUFZbVUsRUFBWW5yRSxLQUFLLEtBQU0sYUFPM0M3K0IsT0FBTzQ1QixlQUFlMHRFLEVBQUs1eEMsaUJBQWlCejFELFVBQVcsYUFBYyxDQUNqRWlsQyxlQUtJLE9BSEF2WixHQUFZMDFFLEdBQUksa0dBR1Q5K0YsS0FBSytILGFBRWhCcWlCLGFBQUk1c0IsR0FFQTRyQixHQUFZMDFFLEdBQUksa0dBR2hCOStGLEtBQUsrSCxZQUFjdkssS0FTM0JDLE9BQU80NUIsZUFBZTB0RSxFQUFLL3dDLFNBQVN0MkQsVUFBVyxpQkFBa0IsQ0FDN0RpbEMsZUFJSSxPQUZBdlosR0FBWTAxRSxHQUFJLGtGQUVUOStGLEtBQUt1b0MsV0FRcEJ3OEQsRUFBS08sTUFBTXNDLE9BQVMsQ0FNaEJ6d0UsaUJBRUkvTixHQUFZMDFFLEdBQUksNERBT3BCK0ksc0JBRUl6K0UsR0FBWTAxRSxHQUFJLGlFQU9wQmdKLHlCQUVJMStFLEdBQVkwMUUsR0FBSTs7O0Fhbm5DNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDOUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDMUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJzbG90LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKGdsb2JhbCl7XG5cbi8vXG4vLyBDaGVjayBmb3IgbmF0aXZlIFByb21pc2UgYW5kIGl0IGhhcyBjb3JyZWN0IGludGVyZmFjZVxuLy9cblxudmFyIE5hdGl2ZVByb21pc2UgPSBnbG9iYWxbJ1Byb21pc2UnXTtcbnZhciBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID1cbiAgTmF0aXZlUHJvbWlzZSAmJlxuICAvLyBTb21lIG9mIHRoZXNlIG1ldGhvZHMgYXJlIG1pc3NpbmcgZnJvbVxuICAvLyBGaXJlZm94L0Nocm9tZSBleHBlcmltZW50YWwgaW1wbGVtZW50YXRpb25zXG4gICdyZXNvbHZlJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdyZWplY3QnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ2FsbCcgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAncmFjZScgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAvLyBPbGRlciB2ZXJzaW9uIG9mIHRoZSBzcGVjIGhhZCBhIHJlc29sdmVyIG9iamVjdFxuICAvLyBhcyB0aGUgYXJnIHJhdGhlciB0aGFuIGEgZnVuY3Rpb25cbiAgKGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlc29sdmU7XG4gICAgbmV3IE5hdGl2ZVByb21pc2UoZnVuY3Rpb24ocil7IHJlc29sdmUgPSByOyB9KTtcbiAgICByZXR1cm4gdHlwZW9mIHJlc29sdmUgPT09ICdmdW5jdGlvbic7XG4gIH0pKCk7XG5cblxuLy9cbi8vIGV4cG9ydCBpZiBuZWNlc3Nhcnlcbi8vXG5cbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgZXhwb3J0cylcbntcbiAgLy8gbm9kZS5qc1xuICBleHBvcnRzLlByb21pc2UgPSBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID8gTmF0aXZlUHJvbWlzZSA6IFByb21pc2U7XG4gIGV4cG9ydHMuUG9seWZpbGwgPSBQcm9taXNlO1xufVxuZWxzZVxue1xuICAvLyBBTURcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuICB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gbmF0aXZlUHJvbWlzZVN1cHBvcnRlZCA/IE5hdGl2ZVByb21pc2UgOiBQcm9taXNlO1xuICAgIH0pO1xuICB9XG4gIGVsc2VcbiAge1xuICAgIC8vIGluIGJyb3dzZXIgYWRkIHRvIGdsb2JhbFxuICAgIGlmICghbmF0aXZlUHJvbWlzZVN1cHBvcnRlZClcbiAgICAgIGdsb2JhbFsnUHJvbWlzZSddID0gUHJvbWlzZTtcbiAgfVxufVxuXG5cbi8vXG4vLyBQb2x5ZmlsbFxuLy9cblxudmFyIFBFTkRJTkcgPSAncGVuZGluZyc7XG52YXIgU0VBTEVEID0gJ3NlYWxlZCc7XG52YXIgRlVMRklMTEVEID0gJ2Z1bGZpbGxlZCc7XG52YXIgUkVKRUNURUQgPSAncmVqZWN0ZWQnO1xudmFyIE5PT1AgPSBmdW5jdGlvbigpe307XG5cbmZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8vIGFzeW5jIGNhbGxzXG52YXIgYXN5bmNTZXRUaW1lciA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09ICd1bmRlZmluZWQnID8gc2V0SW1tZWRpYXRlIDogc2V0VGltZW91dDtcbnZhciBhc3luY1F1ZXVlID0gW107XG52YXIgYXN5bmNUaW1lcjtcblxuZnVuY3Rpb24gYXN5bmNGbHVzaCgpe1xuICAvLyBydW4gcHJvbWlzZSBjYWxsYmFja3NcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc3luY1F1ZXVlLmxlbmd0aDsgaSsrKVxuICAgIGFzeW5jUXVldWVbaV1bMF0oYXN5bmNRdWV1ZVtpXVsxXSk7XG5cbiAgLy8gcmVzZXQgYXN5bmMgYXN5bmNRdWV1ZVxuICBhc3luY1F1ZXVlID0gW107XG4gIGFzeW5jVGltZXIgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYXN5bmNDYWxsKGNhbGxiYWNrLCBhcmcpe1xuICBhc3luY1F1ZXVlLnB1c2goW2NhbGxiYWNrLCBhcmddKTtcblxuICBpZiAoIWFzeW5jVGltZXIpXG4gIHtcbiAgICBhc3luY1RpbWVyID0gdHJ1ZTtcbiAgICBhc3luY1NldFRpbWVyKGFzeW5jRmx1c2gsIDApO1xuICB9XG59XG5cblxuZnVuY3Rpb24gaW52b2tlUmVzb2x2ZXIocmVzb2x2ZXIsIHByb21pc2UpIHtcbiAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIH1cblxuICB0cnkge1xuICAgIHJlc29sdmVyKHJlc29sdmVQcm9taXNlLCByZWplY3RQcm9taXNlKTtcbiAgfSBjYXRjaChlKSB7XG4gICAgcmVqZWN0UHJvbWlzZShlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzdWJzY3JpYmVyKXtcbiAgdmFyIG93bmVyID0gc3Vic2NyaWJlci5vd25lcjtcbiAgdmFyIHNldHRsZWQgPSBvd25lci5zdGF0ZV87XG4gIHZhciB2YWx1ZSA9IG93bmVyLmRhdGFfOyAgXG4gIHZhciBjYWxsYmFjayA9IHN1YnNjcmliZXJbc2V0dGxlZF07XG4gIHZhciBwcm9taXNlID0gc3Vic2NyaWJlci50aGVuO1xuXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpXG4gIHtcbiAgICBzZXR0bGVkID0gRlVMRklMTEVEO1xuICAgIHRyeSB7XG4gICAgICB2YWx1ZSA9IGNhbGxiYWNrKHZhbHVlKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhhbmRsZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKSlcbiAge1xuICAgIGlmIChzZXR0bGVkID09PSBGVUxGSUxMRUQpXG4gICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcblxuICAgIGlmIChzZXR0bGVkID09PSBSRUpFQ1RFRClcbiAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpIHtcbiAgdmFyIHJlc29sdmVkO1xuXG4gIHRyeSB7XG4gICAgaWYgKHByb21pc2UgPT09IHZhbHVlKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xuXG4gICAgaWYgKHZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykpXG4gICAge1xuICAgICAgdmFyIHRoZW4gPSB2YWx1ZS50aGVuOyAgLy8gdGhlbiBzaG91bGQgYmUgcmV0cml2ZWQgb25seSBvbmNlXG5cbiAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHtcbiAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBmdW5jdGlvbih2YWwpe1xuICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHZhbClcbiAgICAgICAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWwpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICByZWplY3QocHJvbWlzZSwgZSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSl7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSB8fCAhaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKVxuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xufVxuXG5mdW5jdGlvbiBmdWxmaWxsKHByb21pc2UsIHZhbHVlKXtcbiAgaWYgKHByb21pc2Uuc3RhdGVfID09PSBQRU5ESU5HKVxuICB7XG4gICAgcHJvbWlzZS5zdGF0ZV8gPSBTRUFMRUQ7XG4gICAgcHJvbWlzZS5kYXRhXyA9IHZhbHVlO1xuXG4gICAgYXN5bmNDYWxsKHB1Ymxpc2hGdWxmaWxsbWVudCwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVqZWN0KHByb21pc2UsIHJlYXNvbil7XG4gIGlmIChwcm9taXNlLnN0YXRlXyA9PT0gUEVORElORylcbiAge1xuICAgIHByb21pc2Uuc3RhdGVfID0gU0VBTEVEO1xuICAgIHByb21pc2UuZGF0YV8gPSByZWFzb247XG5cbiAgICBhc3luY0NhbGwocHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBjYWxsYmFja3MgPSBwcm9taXNlLnRoZW5fO1xuICBwcm9taXNlLnRoZW5fID0gdW5kZWZpbmVkO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgaW52b2tlQ2FsbGJhY2soY2FsbGJhY2tzW2ldKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoRnVsZmlsbG1lbnQocHJvbWlzZSl7XG4gIHByb21pc2Uuc3RhdGVfID0gRlVMRklMTEVEO1xuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoUmVqZWN0aW9uKHByb21pc2Upe1xuICBwcm9taXNlLnN0YXRlXyA9IFJFSkVDVEVEO1xuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG4vKipcbiogQGNsYXNzXG4qL1xuZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcil7XG4gIGlmICh0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvbWlzZSBjb25zdHJ1Y3RvciB0YWtlcyBhIGZ1bmN0aW9uIGFyZ3VtZW50Jyk7XG5cbiAgaWYgKHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlID09PSBmYWxzZSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGYWlsZWQgdG8gY29uc3RydWN0IFxcJ1Byb21pc2VcXCc6IFBsZWFzZSB1c2UgdGhlIFxcJ25ld1xcJyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLicpO1xuXG4gIHRoaXMudGhlbl8gPSBbXTtcblxuICBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgdGhpcyk7XG59XG5cblByb21pc2UucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogUHJvbWlzZSxcblxuICBzdGF0ZV86IFBFTkRJTkcsXG4gIHRoZW5fOiBudWxsLFxuICBkYXRhXzogdW5kZWZpbmVkLFxuXG4gIHRoZW46IGZ1bmN0aW9uKG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKXtcbiAgICB2YXIgc3Vic2NyaWJlciA9IHtcbiAgICAgIG93bmVyOiB0aGlzLFxuICAgICAgdGhlbjogbmV3IHRoaXMuY29uc3RydWN0b3IoTk9PUCksXG4gICAgICBmdWxmaWxsZWQ6IG9uRnVsZmlsbG1lbnQsXG4gICAgICByZWplY3RlZDogb25SZWplY3Rpb25cbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuc3RhdGVfID09PSBGVUxGSUxMRUQgfHwgdGhpcy5zdGF0ZV8gPT09IFJFSkVDVEVEKVxuICAgIHtcbiAgICAgIC8vIGFscmVhZHkgcmVzb2x2ZWQsIGNhbGwgY2FsbGJhY2sgYXN5bmNcbiAgICAgIGFzeW5jQ2FsbChpbnZva2VDYWxsYmFjaywgc3Vic2NyaWJlcik7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAvLyBzdWJzY3JpYmVcbiAgICAgIHRoaXMudGhlbl8ucHVzaChzdWJzY3JpYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3Vic2NyaWJlci50aGVuO1xuICB9LFxuXG4gICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gIH1cbn07XG5cblByb21pc2UuYWxsID0gZnVuY3Rpb24ocHJvbWlzZXMpe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIGlmICghaXNBcnJheShwcm9taXNlcykpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byBQcm9taXNlLmFsbCgpLicpO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciByZW1haW5pbmcgPSAwO1xuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoaW5kZXgpe1xuICAgICAgcmVtYWluaW5nKys7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICByZXN1bHRzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICBpZiAoIS0tcmVtYWluaW5nKVxuICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBwcm9taXNlOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldO1xuXG4gICAgICBpZiAocHJvbWlzZSAmJiB0eXBlb2YgcHJvbWlzZS50aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZXIoaSksIHJlamVjdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlc3VsdHNbaV0gPSBwcm9taXNlO1xuICAgIH1cblxuICAgIGlmICghcmVtYWluaW5nKVxuICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJhY2UgPSBmdW5jdGlvbihwcm9taXNlcyl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIFByb21pc2UucmFjZSgpLicpO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV07XG5cbiAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgZWxzZVxuICAgICAgICByZXNvbHZlKHByb21pc2UpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IENsYXNzKVxuICAgIHJldHVybiB2YWx1ZTtcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUpe1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24ocmVhc29uKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufTtcblxufSkodHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcbiIsIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG4iLCJpbXBvcnQgeyBQb2x5ZmlsbCB9IGZyb20gJ2VzNi1wcm9taXNlLXBvbHlmaWxsJztcblxuLy8gU3VwcG9ydCBmb3IgSUUgOSAtIDExIHdoaWNoIGRvZXMgbm90IGluY2x1ZGUgUHJvbWlzZXNcbmlmICghd2luZG93LlByb21pc2UpXG57XG4gICAgd2luZG93LlByb21pc2UgPSBQb2x5ZmlsbDtcbn1cbiIsIi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL29iamVjdC1hc3NpZ25cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cblxuaW1wb3J0IG9iamVjdEFzc2lnbiBmcm9tICdvYmplY3QtYXNzaWduJztcblxuaWYgKCFPYmplY3QuYXNzaWduKVxue1xuICAgIE9iamVjdC5hc3NpZ24gPSBvYmplY3RBc3NpZ247XG59XG4iLCIvLyBSZWZlcmVuY2VzOlxuLy8gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzE1Nzk2NzFcbi8vIGh0dHA6Ly91cGRhdGVzLmh0bWw1cm9ja3MuY29tLzIwMTIvMDUvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLUFQSS1ub3ctd2l0aC1zdWItbWlsbGlzZWNvbmQtcHJlY2lzaW9uXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS90aW1oYWxsLzQwNzg2MTRcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS90cmVlL21hc3Rlci9wb2x5ZmlsbHMvcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cbi8vIEV4cGVjdGVkIHRvIGJlIHVzZWQgd2l0aCBCcm93c2VyZml5XG4vLyBCcm93c2VyaWZ5IGF1dG9tYXRpY2FsbHkgZGV0ZWN0cyB0aGUgdXNlIG9mIGBnbG9iYWxgIGFuZCBwYXNzZXMgdGhlXG4vLyBjb3JyZWN0IHJlZmVyZW5jZSBvZiBgZ2xvYmFsYCwgYHNlbGZgLCBhbmQgZmluYWxseSBgd2luZG93YFxuXG5jb25zdCBPTkVfRlJBTUVfVElNRSA9IDE2O1xuXG4vLyBEYXRlLm5vd1xuaWYgKCEoRGF0ZS5ub3cgJiYgRGF0ZS5wcm90b3R5cGUuZ2V0VGltZSkpXG57XG4gICAgRGF0ZS5ub3cgPSBmdW5jdGlvbiBub3coKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH07XG59XG5cbi8vIHBlcmZvcm1hbmNlLm5vd1xuaWYgKCEoZ2xvYmFsLnBlcmZvcm1hbmNlICYmIGdsb2JhbC5wZXJmb3JtYW5jZS5ub3cpKVxue1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG5cbiAgICBpZiAoIWdsb2JhbC5wZXJmb3JtYW5jZSlcbiAgICB7XG4gICAgICAgIGdsb2JhbC5wZXJmb3JtYW5jZSA9IHt9O1xuICAgIH1cblxuICAgIGdsb2JhbC5wZXJmb3JtYW5jZS5ub3cgPSAoKSA9PiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xufVxuXG4vLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbmxldCBsYXN0VGltZSA9IERhdGUubm93KCk7XG5jb25zdCB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXTtcblxuZm9yIChsZXQgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KVxue1xuICAgIGNvbnN0IHAgPSB2ZW5kb3JzW3hdO1xuXG4gICAgZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGdsb2JhbFtgJHtwfVJlcXVlc3RBbmltYXRpb25GcmFtZWBdO1xuICAgIGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGdsb2JhbFtgJHtwfUNhbmNlbEFuaW1hdGlvbkZyYW1lYF0gfHwgZ2xvYmFsW2Ake3B9Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lYF07XG59XG5cbmlmICghZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSlcbntcbiAgICBnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gKGNhbGxiYWNrKSA9PlxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtjYWxsYmFja31pcyBub3QgYSBmdW5jdGlvbmApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBsZXQgZGVsYXkgPSBPTkVfRlJBTUVfVElNRSArIGxhc3RUaW1lIC0gY3VycmVudFRpbWU7XG5cbiAgICAgICAgaWYgKGRlbGF5IDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdFRpbWUgPSBjdXJyZW50VGltZTtcblxuICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBsYXN0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjYWxsYmFjayhwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICB9O1xufVxuXG5pZiAoIWdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSlcbntcbiAgICBnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSAoaWQpID0+IGNsZWFyVGltZW91dChpZCk7XG59XG4iLCIvLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduXG5cbmlmICghTWF0aC5zaWduKVxue1xuICAgIE1hdGguc2lnbiA9IGZ1bmN0aW9uIG1hdGhTaWduKHgpXG4gICAge1xuICAgICAgICB4ID0gTnVtYmVyKHgpO1xuXG4gICAgICAgIGlmICh4ID09PSAwIHx8IGlzTmFOKHgpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB4ID4gMCA/IDEgOiAtMTtcbiAgICB9O1xufVxuIiwiLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci9pc0ludGVnZXJcblxuaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKVxue1xuICAgIE51bWJlci5pc0ludGVnZXIgPSBmdW5jdGlvbiBudW1iZXJJc0ludGVnZXIodmFsdWUpXG4gICAge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xuICAgIH07XG59XG4iLCJpbXBvcnQgJy4vUHJvbWlzZSc7XG5pbXBvcnQgJy4vT2JqZWN0LmFzc2lnbic7XG5pbXBvcnQgJy4vcmVxdWVzdEFuaW1hdGlvbkZyYW1lJztcbmltcG9ydCAnLi9NYXRoLnNpZ24nO1xuaW1wb3J0ICcuL051bWJlci5pc0ludGVnZXInO1xuXG5pZiAoIXdpbmRvdy5BcnJheUJ1ZmZlcilcbntcbiAgICB3aW5kb3cuQXJyYXlCdWZmZXIgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuRmxvYXQzMkFycmF5KVxue1xuICAgIHdpbmRvdy5GbG9hdDMyQXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuVWludDMyQXJyYXkpXG57XG4gICAgd2luZG93LlVpbnQzMkFycmF5ID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LlVpbnQxNkFycmF5KVxue1xuICAgIHdpbmRvdy5VaW50MTZBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50OEFycmF5KVxue1xuICAgIHdpbmRvdy5VaW50OEFycmF5ID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LkludDMyQXJyYXkpXG57XG4gICAgd2luZG93LkludDMyQXJyYXkgPSBBcnJheTtcbn1cbiIsIiFmdW5jdGlvbihlKXt2YXIgbj0vaVBob25lL2ksdD0vaVBvZC9pLHI9L2lQYWQvaSxhPS9cXGJBbmRyb2lkKD86LispTW9iaWxlXFxiL2kscD0vQW5kcm9pZC9pLGI9L1xcYkFuZHJvaWQoPzouKylTRDQ5MzBVUlxcYi9pLGw9L1xcYkFuZHJvaWQoPzouKykoPzpLRltBLVpdezIsNH0pXFxiL2ksZj0vV2luZG93cyBQaG9uZS9pLHM9L1xcYldpbmRvd3MoPzouKylBUk1cXGIvaSx1PS9CbGFja0JlcnJ5L2ksYz0vQkIxMC9pLGg9L09wZXJhIE1pbmkvaSx2PS9cXGIoQ3JpT1N8Q2hyb21lKSg/Oi4rKU1vYmlsZS9pLHc9L01vYmlsZSg/Oi4rKUZpcmVmb3hcXGIvaTtmdW5jdGlvbiBtKGUsaSl7cmV0dXJuIGUudGVzdChpKX1mdW5jdGlvbiBpKGUpe3ZhciBpPWV8fChcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yP25hdmlnYXRvci51c2VyQWdlbnQ6XCJcIiksbz1pLnNwbGl0KFwiW0ZCQU5cIik7dm9pZCAwIT09b1sxXSYmKGk9b1swXSksdm9pZCAwIT09KG89aS5zcGxpdChcIlR3aXR0ZXJcIikpWzFdJiYoaT1vWzBdKTt2YXIgZD17YXBwbGU6e3Bob25lOm0obixpKSYmIW0oZixpKSxpcG9kOm0odCxpKSx0YWJsZXQ6IW0obixpKSYmbShyLGkpJiYhbShmLGkpLGRldmljZToobShuLGkpfHxtKHQsaSl8fG0ocixpKSkmJiFtKGYsaSl9LGFtYXpvbjp7cGhvbmU6bShiLGkpLHRhYmxldDohbShiLGkpJiZtKGwsaSksZGV2aWNlOm0oYixpKXx8bShsLGkpfSxhbmRyb2lkOntwaG9uZTohbShmLGkpJiZtKGIsaSl8fCFtKGYsaSkmJm0oYSxpKSx0YWJsZXQ6IW0oZixpKSYmIW0oYixpKSYmIW0oYSxpKSYmKG0obCxpKXx8bShwLGkpKSxkZXZpY2U6IW0oZixpKSYmKG0oYixpKXx8bShsLGkpfHxtKGEsaSl8fG0ocCxpKSl8fG0oL1xcYm9raHR0cFxcYi9pLGkpfSx3aW5kb3dzOntwaG9uZTptKGYsaSksdGFibGV0Om0ocyxpKSxkZXZpY2U6bShmLGkpfHxtKHMsaSl9LG90aGVyOntibGFja2JlcnJ5Om0odSxpKSxibGFja2JlcnJ5MTA6bShjLGkpLG9wZXJhOm0oaCxpKSxmaXJlZm94Om0odyxpKSxjaHJvbWU6bSh2LGkpLGRldmljZTptKHUsaSl8fG0oYyxpKXx8bShoLGkpfHxtKHcsaSl8fG0odixpKX19O3JldHVybiBkLmFueT1kLmFwcGxlLmRldmljZXx8ZC5hbmRyb2lkLmRldmljZXx8ZC53aW5kb3dzLmRldmljZXx8ZC5vdGhlci5kZXZpY2UsZC5waG9uZT1kLmFwcGxlLnBob25lfHxkLmFuZHJvaWQucGhvbmV8fGQud2luZG93cy5waG9uZSxkLnRhYmxldD1kLmFwcGxlLnRhYmxldHx8ZC5hbmRyb2lkLnRhYmxldHx8ZC53aW5kb3dzLnRhYmxldCxkfVwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiZcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P21vZHVsZS5leHBvcnRzPWk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/KG1vZHVsZS5leHBvcnRzPWkoKSxtb2R1bGUuZXhwb3J0cy5pc01vYmlsZT1pKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUuaXNNb2JpbGU9aSgpKTplLmlzTW9iaWxlPWkoKX0odGhpcyk7IiwiaW1wb3J0IGlzTW9iaWxlIGZyb20gJ2lzbW9iaWxlanMnO1xuaW1wb3J0IG1heFJlY29tbWVuZGVkVGV4dHVyZXMgZnJvbSAnLi91dGlscy9tYXhSZWNvbW1lbmRlZFRleHR1cmVzJztcbmltcG9ydCBjYW5VcGxvYWRTYW1lQnVmZmVyIGZyb20gJy4vdXRpbHMvY2FuVXBsb2FkU2FtZUJ1ZmZlcic7XG5cbi8qKlxuICogVXNlcidzIGN1c3RvbWl6YWJsZSBnbG9iYWxzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IFBJWEkgc2V0dGluZ3MsIHN1Y2hcbiAqIGFzIGEgcmVuZGVyZXIncyBkZWZhdWx0IHJlc29sdXRpb24sIGZyYW1lcmF0ZSwgZmxvYXQgcHJlY2lzaW9uLCBldGMuXG4gKiBAZXhhbXBsZVxuICogLy8gVXNlIHRoZSBuYXRpdmUgd2luZG93IHJlc29sdXRpb24gYXMgdGhlIGRlZmF1bHQgcmVzb2x1dGlvblxuICogLy8gd2lsbCBzdXBwb3J0IGhpZ2gtZGVuc2l0eSBkaXNwbGF5cyB3aGVuIHJlbmRlcmluZ1xuICogUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8uXG4gKlxuICogLy8gRGlzYWJsZSBpbnRlcnBvbGF0aW9uIHdoZW4gc2NhbGluZywgd2lsbCBtYWtlIHRleHR1cmUgYmUgcGl4ZWxhdGVkXG4gKiBQSVhJLnNldHRpbmdzLlNDQUxFX01PREUgPSBQSVhJLlNDQUxFX01PREVTLk5FQVJFU1Q7XG4gKiBAbmFtZXNwYWNlIFBJWEkuc2V0dGluZ3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuXG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIHRydWUgV2ViR0wgd2lsbCBhdHRlbXB0IG1ha2UgdGV4dHVyZXMgbWltcGFwZWQgYnkgZGVmYXVsdC5cbiAgICAgKiBNaXBtYXBwaW5nIHdpbGwgb25seSBzdWNjZWVkIGlmIHRoZSBiYXNlIHRleHR1cmUgdXBsb2FkZWQgaGFzIHBvd2VyIG9mIHR3byBkaW1lbnNpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIE1JUE1BUF9URVhUVVJFU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuTUlQTUFQX01PREVTLlBPVzJcbiAgICAgKi9cbiAgICBNSVBNQVBfVEVYVFVSRVM6IDEsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlcy5cbiAgICAgKiBVc3VhbGx5IGZyb20gMCB0byAxNlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEFOSVNPVFJPUElDX0xFVkVMXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBBTklTT1RST1BJQ19MRVZFTDogMCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgUkVTT0xVVElPTjogMSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZmlsdGVyIHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgRklMVEVSX1JFU09MVVRJT05cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIEZJTFRFUl9SRVNPTFVUSU9OOiAxLFxuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gdGV4dHVyZXMgdGhhdCB0aGlzIGRldmljZSBzdXBwb3J0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTUFJJVEVfTUFYX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDMyXG4gICAgICovXG4gICAgU1BSSVRFX01BWF9URVhUVVJFUzogbWF4UmVjb21tZW5kZWRUZXh0dXJlcygzMiksXG5cbiAgICAvLyBUT0RPOiBtYXliZSBjaGFuZ2UgdG8gU1BSSVRFLkJBVENIX1NJWkU6IDIwMDBcbiAgICAvLyBUT0RPOiBtYXliZSBhZGQgUEFSVElDTEUuQkFUQ0hfU0laRTogMTUwMDBcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHNwcml0ZSBiYXRjaCBzaXplLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgYWltcyB0byBiYWxhbmNlIGRlc2t0b3AgYW5kIG1vYmlsZSBkZXZpY2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNQUklURV9CQVRDSF9TSVpFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDQwOTZcbiAgICAgKi9cbiAgICBTUFJJVEVfQkFUQ0hfU0laRTogNDA5NixcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zIGlmIG5vbmUgYXJlIHN1cHBsaWVkIHRvIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICAgICAqIG9yIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBSRU5ERVJfT1BUSU9OU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSB2aWV3PW51bGxcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBhbnRpYWxpYXM9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGZvcmNlRlhBQT1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYXV0b0RlbnNpdHk9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zcGFyZW50PWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJhY2tncm91bmRDb2xvcj0weDAwMDAwMFxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoPTgwMFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQ9NjAwXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBsZWdhY3k9ZmFsc2VcbiAgICAgKi9cbiAgICBSRU5ERVJfT1BUSU9OUzoge1xuICAgICAgICB2aWV3OiBudWxsLFxuICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgICAgICBmb3JjZUZYQUE6IGZhbHNlLFxuICAgICAgICBhdXRvRGVuc2l0eTogZmFsc2UsXG4gICAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAweDAwMDAwMCxcbiAgICAgICAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWUsXG4gICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXG4gICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICBsZWdhY3k6IGZhbHNlLFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLkdDX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuR0NfTU9ERVMuQVVUT1xuICAgICAqL1xuICAgIEdDX01PREU6IDAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXggaWRsZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NQVhfSURMRVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAzNjAwXG4gICAgICovXG4gICAgR0NfTUFYX0lETEU6IDYwICogNjAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9DSEVDS19DT1VOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfQ0hFQ0tfQ09VTlQ6IDYwICogMTAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgV1JBUF9NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5XUkFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuV1JBUF9NT0RFUy5DTEFNUFxuICAgICAqL1xuICAgIFdSQVBfTU9ERTogMzMwNzEsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNjYWxlIG1vZGUgZm9yIHRleHR1cmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNDQUxFX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlNDQUxFX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0NBTEVfTU9ERVMuTElORUFSXG4gICAgICovXG4gICAgU0NBTEVfTU9ERTogMSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fVkVSVEVYXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uSElHSFxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9WRVJURVg6ICdoaWdocCcsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBpT1MgaXMgYmVzdCBzZXQgYXQgaGlnaHAgZHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvMzc0MlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFBSRUNJU0lPTl9GUkFHTUVOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuUFJFQ0lTSU9OfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuUFJFQ0lTSU9OLk1FRElVTVxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9GUkFHTUVOVDogaXNNb2JpbGUuYXBwbGUuZGV2aWNlID8gJ2hpZ2hwJyA6ICdtZWRpdW1wJyxcblxuICAgIC8qKlxuICAgICAqIENhbiB3ZSB1cGxvYWQgdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lP1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENBTl9VUExPQURfU0FNRV9CVUZGRVJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIENBTl9VUExPQURfU0FNRV9CVUZGRVI6IGNhblVwbG9hZFNhbWVCdWZmZXIoKSxcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYml0bWFwIGNyZWF0aW9uIGJlZm9yZSBpbWFnZSBsb2FkLiBUaGlzIGZlYXR1cmUgaXMgZXhwZXJpbWVudGFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgQ1JFQVRFX0lNQUdFX0JJVE1BUDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBST1VORF9QSVhFTFM6IGZhbHNlLFxufTtcbiIsImltcG9ydCBpc01vYmlsZSBmcm9tICdpc21vYmlsZWpzJztcblxuLyoqXG4gKiBUaGUgbWF4aW11bSByZWNvbW1lbmRlZCB0ZXh0dXJlIHVuaXRzIHRvIHVzZS5cbiAqIEluIHRoZW9yeSB0aGUgYmlnZ2VyIHRoZSBiZXR0ZXIsIGFuZCBmb3IgZGVza3RvcCB3ZSdsbCB1c2UgYXMgbWFueSBhcyB3ZSBjYW4uXG4gKiBCdXQgc29tZSBtb2JpbGUgZGV2aWNlcyBzbG93IGRvd24gaWYgdGhlcmUgaXMgdG8gbWFueSBicmFuY2hlcyBpbiB0aGUgc2hhZGVyLlxuICogU28gaW4gcHJhY3RpY2UgdGhlcmUgc2VlbXMgdG8gYmUgYSBzd2VldCBzcG90IHNpemUgdGhhdCB2YXJpZXMgZGVwZW5kaW5nIG9uIHRoZSBkZXZpY2UuXG4gKlxuICogSW4gdjQsIGFsbCBtb2JpbGUgZGV2aWNlcyB3ZXJlIGxpbWl0ZWQgdG8gNCB0ZXh0dXJlIHVuaXRzIGJlY2F1c2UgZm9yIHRoaXMuXG4gKiBJbiB2NSwgd2UgYWxsb3cgYWxsIHRleHR1cmUgdW5pdHMgdG8gYmUgdXNlZCBvbiBtb2Rlcm4gQXBwbGUgb3IgQW5kcm9pZCBkZXZpY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKG1heClcbntcbiAgICBsZXQgYWxsb3dNYXggPSB0cnVlO1xuXG4gICAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSlcbiAgICB7XG4gICAgICAgIGFsbG93TWF4ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzTW9iaWxlLmFwcGxlLmRldmljZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAobmF2aWdhdG9yLnVzZXJBZ2VudCkubWF0Y2goL09TIChcXGQrKV8oXFxkKyk/Lyk7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYWpvclZlcnNpb24gPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuXG4gICAgICAgICAgICAgICAgLy8gQWxsIHRleHR1cmUgdW5pdHMgY2FuIGJlIHVzZWQgb24gZGV2aWNlcyB0aGF0IHN1cHBvcnQgaW9zIDExIG9yIGFib3ZlXG4gICAgICAgICAgICAgICAgaWYgKG1ham9yVmVyc2lvbiA+PSAxMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93TWF4ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTW9iaWxlLmFuZHJvaWQuZGV2aWNlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IChuYXZpZ2F0b3IudXNlckFnZW50KS5tYXRjaCgvQW5kcm9pZFxccyhbMC05Ll0qKS8pO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2gpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcblxuICAgICAgICAgICAgICAgIC8vIEFsbCB0ZXh0dXJlIHVuaXRzIGNhbiBiZSB1c2VkIG9uIGRldmljZXMgdGhhdCBzdXBwb3J0IEFuZHJvaWQgNyAoTm91Z2F0KSBvciBhYm92ZVxuICAgICAgICAgICAgICAgIGlmIChtYWpvclZlcnNpb24gPj0gNylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93TWF4ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYWxsb3dNYXggPyBtYXggOiA0O1xufVxuIiwiaW1wb3J0IGlzTW9iaWxlIGZyb20gJ2lzbW9iaWxlanMnO1xuXG4vKipcbiAqIFVwbG9hZGluZyB0aGUgc2FtZSBidWZmZXIgbXVsdGlwbGUgdGltZXMgaW4gYSBzaW5nbGUgZnJhbWUgY2FuIGNhdXNlIHBlcmZvcm1hbmNlIGlzc3Vlcy5cbiAqIEFwcGFyZW50IG9uIGlPUyBzbyBvbmx5IGNoZWNrIGZvciB0aGF0IGF0IHRoZSBtb21lbnRcbiAqIFRoaXMgY2hlY2sgbWF5IGJlY29tZSBtb3JlIGNvbXBsZXggaWYgdGhpcyBpc3N1ZSBwb3BzIHVwIGVsc2V3aGVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNhblVwbG9hZFNhbWVCdWZmZXIoKVxue1xuICAgIHJldHVybiAhaXNNb2JpbGUuYXBwbGUuZGV2aWNlO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzO1xuXG4gICAgdmFyIG1pblgsIG1pblksIG1heFgsIG1heFksIHgsIHksIGludlNpemU7XG5cbiAgICBpZiAoaGFzSG9sZXMpIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSk7XG5cbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcbiAgICBpZiAoZGF0YS5sZW5ndGggPiA4MCAqIGRpbSkge1xuICAgICAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07XG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGltOyBpIDwgb3V0ZXJMZW47IGkgKz0gZGltKSB7XG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xuICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcbiAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvblxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICAgICAgaW52U2l6ZSA9IGludlNpemUgIT09IDAgPyAxIC8gaW52U2l6ZSA6IDA7XG4gICAgfVxuXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbn1cblxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGksIGxhc3Q7XG5cbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH1cblxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XG5cbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBhZ2FpbjtcbiAgICBkbyB7XG4gICAgICAgIGFnYWluID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XG5cbiAgICByZXR1cm4gZW5kO1xufVxuXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XG4gICAgaWYgKCFlYXIpIHJldHVybjtcblxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHN0b3AgPSBlYXIsXG4gICAgICAgIHByZXYsIG5leHQ7XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xuXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV4dC5pIC8gZGltKTtcblxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xuXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhlYXIsIHRyaWFuZ2xlcywgZGltKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XG5cbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbiAgICB2YXIgcCA9IGVhci5uZXh0Lm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gZWFyLnByZXYpIHtcbiAgICAgICAgaWYgKHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgbWluVFggPSBhLnggPCBiLnggPyAoYS54IDwgYy54ID8gYS54IDogYy54KSA6IChiLnggPCBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtaW5UWSA9IGEueSA8IGIueSA/IChhLnkgPCBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA8IGMueSA/IGIueSA6IGMueSksXG4gICAgICAgIG1heFRYID0gYS54ID4gYi54ID8gKGEueCA+IGMueCA/IGEueCA6IGMueCkgOiAoYi54ID4gYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWF4VFkgPSBhLnkgPiBiLnkgPyAoYS55ID4gYy55ID8gYS55IDogYy55KSA6IChiLnkgPiBjLnkgPyBiLnkgOiBjLnkpO1xuXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcbiAgICB2YXIgbWluWiA9IHpPcmRlcihtaW5UWCwgbWluVFksIG1pblgsIG1pblksIGludlNpemUpLFxuICAgICAgICBtYXhaID0gek9yZGVyKG1heFRYLCBtYXhUWSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgcCA9IGVhci5wcmV2WixcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0pO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIHA7XG59XG5cbi8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5XG5mdW5jdGlvbiBzcGxpdEVhcmN1dChzdGFydCwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBsb29rIGZvciBhIHZhbGlkIGRpYWdvbmFsIHRoYXQgZGl2aWRlcyB0aGUgcG9seWdvbiBpbnRvIHR3b1xuICAgIHZhciBhID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYiA9IGEubmV4dC5uZXh0O1xuICAgICAgICB3aGlsZSAoYiAhPT0gYS5wcmV2KSB7XG4gICAgICAgICAgICBpZiAoYS5pICE9PSBiLmkgJiYgaXNWYWxpZERpYWdvbmFsKGEsIGIpKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BsaXQgdGhlIHBvbHlnb24gaW4gdHdvIGJ5IHRoZSBkaWFnb25hbFxuICAgICAgICAgICAgICAgIHZhciBjID0gc3BsaXRQb2x5Z29uKGEsIGIpO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgICAgICAgICBhID0gZmlsdGVyUG9pbnRzKGEsIGEubmV4dCk7XG4gICAgICAgICAgICAgICAgYyA9IGZpbHRlclBvaW50cyhjLCBjLm5leHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gcnVuIGVhcmN1dCBvbiBlYWNoIGhhbGZcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChjLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYiA9IGIubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBhID0gYS5uZXh0O1xuICAgIH0gd2hpbGUgKGEgIT09IHN0YXJ0KTtcbn1cblxuLy8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlc1xuZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKSB7XG4gICAgdmFyIHF1ZXVlID0gW10sXG4gICAgICAgIGksIGxlbiwgc3RhcnQsIGVuZCwgbGlzdDtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgIGxpc3QgPSBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgZmFsc2UpO1xuICAgICAgICBpZiAobGlzdCA9PT0gbGlzdC5uZXh0KSBsaXN0LnN0ZWluZXIgPSB0cnVlO1xuICAgICAgICBxdWV1ZS5wdXNoKGdldExlZnRtb3N0KGxpc3QpKTtcbiAgICB9XG5cbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmVYKTtcblxuICAgIC8vIHByb2Nlc3MgaG9sZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0XG4gICAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsaW1pbmF0ZUhvbGUocXVldWVbaV0sIG91dGVyTm9kZSk7XG4gICAgICAgIG91dGVyTm9kZSA9IGZpbHRlclBvaW50cyhvdXRlck5vZGUsIG91dGVyTm9kZS5uZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0ZXJOb2RlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlWChhLCBiKSB7XG4gICAgcmV0dXJuIGEueCAtIGIueDtcbn1cblxuLy8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0XG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIG91dGVyTm9kZSA9IGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSk7XG4gICAgaWYgKG91dGVyTm9kZSkge1xuICAgICAgICB2YXIgYiA9IHNwbGl0UG9seWdvbihvdXRlck5vZGUsIGhvbGUpO1xuICAgICAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTtcbiAgICB9XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC55KSByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG0ucHJldjsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbG93ZXIgZW5kcG9pbnRcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbS5uZXh0O1xuXG4gICAgd2hpbGUgKHAgIT09IHN0b3ApIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAoKHRhbiA8IHRhbk1pbiB8fCAodGFuID09PSB0YW5NaW4gJiYgcC54ID4gbS54KSkgJiYgbG9jYWxseUluc2lkZShwLCBob2xlKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gbnVsbCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gMzI3NjcgKiAoeCAtIG1pblgpICogaW52U2l6ZTtcbiAgICB5ID0gMzI3NjcgKiAoeSAtIG1pblkpICogaW52U2l6ZTtcblxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LnggfHwgKHAueCA9PT0gbGVmdG1vc3QueCAmJiBwLnkgPCBsZWZ0bW9zdC55KSkgbGVmdG1vc3QgPSBwO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHJldHVybiBsZWZ0bW9zdDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2ludCBsaWVzIHdpdGhpbiBhIGNvbnZleCB0cmlhbmdsZVxuZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHB4LCBweSkge1xuICAgIHJldHVybiAoY3ggLSBweCkgKiAoYXkgLSBweSkgLSAoYXggLSBweCkgKiAoY3kgLSBweSkgPj0gMCAmJlxuICAgICAgICAgICAoYXggLSBweCkgKiAoYnkgLSBweSkgLSAoYnggLSBweCkgKiAoYXkgLSBweSkgPj0gMCAmJlxuICAgICAgICAgICAoYnggLSBweCkgKiAoY3kgLSBweSkgLSAoY3ggLSBweCkgKiAoYnkgLSBweSkgPj0gMDtcbn1cblxuLy8gY2hlY2sgaWYgYSBkaWFnb25hbCBiZXR3ZWVuIHR3byBwb2x5Z29uIG5vZGVzIGlzIHZhbGlkIChsaWVzIGluIHBvbHlnb24gaW50ZXJpb3IpXG5mdW5jdGlvbiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikge1xuICAgIHJldHVybiBhLm5leHQuaSAhPT0gYi5pICYmIGEucHJldi5pICE9PSBiLmkgJiYgIWludGVyc2VjdHNQb2x5Z29uKGEsIGIpICYmXG4gICAgICAgICAgIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSAmJiBtaWRkbGVJbnNpZGUoYSwgYik7XG59XG5cbi8vIHNpZ25lZCBhcmVhIG9mIGEgdHJpYW5nbGVcbmZ1bmN0aW9uIGFyZWEocCwgcSwgcikge1xuICAgIHJldHVybiAocS55IC0gcC55KSAqIChyLnggLSBxLngpIC0gKHEueCAtIHAueCkgKiAoci55IC0gcS55KTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHBvaW50cyBhcmUgZXF1YWxcbmZ1bmN0aW9uIGVxdWFscyhwMSwgcDIpIHtcbiAgICByZXR1cm4gcDEueCA9PT0gcDIueCAmJiBwMS55ID09PSBwMi55O1xufVxuXG4vLyBjaGVjayBpZiB0d28gc2VnbWVudHMgaW50ZXJzZWN0XG5mdW5jdGlvbiBpbnRlcnNlY3RzKHAxLCBxMSwgcDIsIHEyKSB7XG4gICAgaWYgKChlcXVhbHMocDEsIHExKSAmJiBlcXVhbHMocDIsIHEyKSkgfHxcbiAgICAgICAgKGVxdWFscyhwMSwgcTIpICYmIGVxdWFscyhwMiwgcTEpKSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGFyZWEocDEsIHExLCBwMikgPiAwICE9PSBhcmVhKHAxLCBxMSwgcTIpID4gMCAmJlxuICAgICAgICAgICBhcmVhKHAyLCBxMiwgcDEpID4gMCAhPT0gYXJlYShwMiwgcTIsIHExKSA+IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpbnRlcnNlY3RzIGFueSBwb2x5Z29uIHNlZ21lbnRzXG5mdW5jdGlvbiBpbnRlcnNlY3RzUG9seWdvbihhLCBiKSB7XG4gICAgdmFyIHAgPSBhO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAuaSAhPT0gYS5pICYmIHAubmV4dC5pICE9PSBhLmkgJiYgcC5pICE9PSBiLmkgJiYgcC5uZXh0LmkgIT09IGIuaSAmJlxuICAgICAgICAgICAgICAgIGludGVyc2VjdHMocCwgcC5uZXh0LCBhLCBiKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpcyBsb2NhbGx5IGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbG9jYWxseUluc2lkZShhLCBiKSB7XG4gICAgcmV0dXJuIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpIDwgMCA/XG4gICAgICAgIGFyZWEoYSwgYiwgYS5uZXh0KSA+PSAwICYmIGFyZWEoYSwgYS5wcmV2LCBiKSA+PSAwIDpcbiAgICAgICAgYXJlYShhLCBiLCBhLnByZXYpIDwgMCB8fCBhcmVhKGEsIGEubmV4dCwgYikgPCAwO1xufVxuXG4vLyBjaGVjayBpZiB0aGUgbWlkZGxlIHBvaW50IG9mIGEgcG9seWdvbiBkaWFnb25hbCBpcyBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIG1pZGRsZUluc2lkZShhLCBiKSB7XG4gICAgdmFyIHAgPSBhLFxuICAgICAgICBpbnNpZGUgPSBmYWxzZSxcbiAgICAgICAgcHggPSAoYS54ICsgYi54KSAvIDIsXG4gICAgICAgIHB5ID0gKGEueSArIGIueSkgLyAyO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKCgocC55ID4gcHkpICE9PSAocC5uZXh0LnkgPiBweSkpICYmIHAubmV4dC55ICE9PSBwLnkgJiZcbiAgICAgICAgICAgICAgICAocHggPCAocC5uZXh0LnggLSBwLngpICogKHB5IC0gcC55KSAvIChwLm5leHQueSAtIHAueSkgKyBwLngpKVxuICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBpbnNpZGU7XG59XG5cbi8vIGxpbmsgdHdvIHBvbHlnb24gdmVydGljZXMgd2l0aCBhIGJyaWRnZTsgaWYgdGhlIHZlcnRpY2VzIGJlbG9uZyB0byB0aGUgc2FtZSByaW5nLCBpdCBzcGxpdHMgcG9seWdvbiBpbnRvIHR3bztcbi8vIGlmIG9uZSBiZWxvbmdzIHRvIHRoZSBvdXRlciByaW5nIGFuZCBhbm90aGVyIHRvIGEgaG9sZSwgaXQgbWVyZ2VzIGl0IGludG8gYSBzaW5nbGUgcmluZ1xuZnVuY3Rpb24gc3BsaXRQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgYTIgPSBuZXcgTm9kZShhLmksIGEueCwgYS55KSxcbiAgICAgICAgYjIgPSBuZXcgTm9kZShiLmksIGIueCwgYi55KSxcbiAgICAgICAgYW4gPSBhLm5leHQsXG4gICAgICAgIGJwID0gYi5wcmV2O1xuXG4gICAgYS5uZXh0ID0gYjtcbiAgICBiLnByZXYgPSBhO1xuXG4gICAgYTIubmV4dCA9IGFuO1xuICAgIGFuLnByZXYgPSBhMjtcblxuICAgIGIyLm5leHQgPSBhMjtcbiAgICBhMi5wcmV2ID0gYjI7XG5cbiAgICBicC5uZXh0ID0gYjI7XG4gICAgYjIucHJldiA9IGJwO1xuXG4gICAgcmV0dXJuIGIyO1xufVxuXG4vLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gaW5zZXJ0Tm9kZShpLCB4LCB5LCBsYXN0KSB7XG4gICAgdmFyIHAgPSBuZXcgTm9kZShpLCB4LCB5KTtcblxuICAgIGlmICghbGFzdCkge1xuICAgICAgICBwLnByZXYgPSBwO1xuICAgICAgICBwLm5leHQgPSBwO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcC5uZXh0ID0gbGFzdC5uZXh0O1xuICAgICAgICBwLnByZXYgPSBsYXN0O1xuICAgICAgICBsYXN0Lm5leHQucHJldiA9IHA7XG4gICAgICAgIGxhc3QubmV4dCA9IHA7XG4gICAgfVxuICAgIHJldHVybiBwO1xufVxuXG5mdW5jdGlvbiByZW1vdmVOb2RlKHApIHtcbiAgICBwLm5leHQucHJldiA9IHAucHJldjtcbiAgICBwLnByZXYubmV4dCA9IHAubmV4dDtcblxuICAgIGlmIChwLnByZXZaKSBwLnByZXZaLm5leHRaID0gcC5uZXh0WjtcbiAgICBpZiAocC5uZXh0WikgcC5uZXh0Wi5wcmV2WiA9IHAucHJldlo7XG59XG5cbmZ1bmN0aW9uIE5vZGUoaSwgeCwgeSkge1xuICAgIC8vIHZlcnRleCBpbmRleCBpbiBjb29yZGluYXRlcyBhcnJheVxuICAgIHRoaXMuaSA9IGk7XG5cbiAgICAvLyB2ZXJ0ZXggY29vcmRpbmF0ZXNcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCB2ZXJ0ZXggbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmdcbiAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAvLyB6LW9yZGVyIGN1cnZlIHZhbHVlXG4gICAgdGhpcy56ID0gbnVsbDtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXJcbiAgICB0aGlzLnByZXZaID0gbnVsbDtcbiAgICB0aGlzLm5leHRaID0gbnVsbDtcblxuICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50XG4gICAgdGhpcy5zdGVpbmVyID0gZmFsc2U7XG59XG5cbi8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XG4vLyB1c2VkIHRvIHZlcmlmeSBjb3JyZWN0bmVzcyBvZiB0cmlhbmd1bGF0aW9uXG5lYXJjdXQuZGV2aWF0aW9uID0gZnVuY3Rpb24gKGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0sIHRyaWFuZ2xlcykge1xuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDtcbiAgICB2YXIgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgcG9seWdvbkFyZWEgPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIDAsIG91dGVyTGVuLCBkaW0pKTtcbiAgICBpZiAoaGFzSG9sZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgcG9seWdvbkFyZWEgLT0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0cmlhbmdsZXNBcmVhID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciBhID0gdHJpYW5nbGVzW2ldICogZGltO1xuICAgICAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07XG4gICAgICAgIHZhciBjID0gdHJpYW5nbGVzW2kgKyAyXSAqIGRpbTtcbiAgICAgICAgdHJpYW5nbGVzQXJlYSArPSBNYXRoLmFicyhcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLVxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2JdKSAqIChkYXRhW2MgKyAxXSAtIGRhdGFbYSArIDFdKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvbHlnb25BcmVhID09PSAwICYmIHRyaWFuZ2xlc0FyZWEgPT09IDAgPyAwIDpcbiAgICAgICAgTWF0aC5hYnMoKHRyaWFuZ2xlc0FyZWEgLSBwb2x5Z29uQXJlYSkgLyBwb2x5Z29uQXJlYSk7XG59O1xuXG5mdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkge1xuICAgIHZhciBzdW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydCwgaiA9IGVuZCAtIGRpbTsgaSA8IGVuZDsgaSArPSBkaW0pIHtcbiAgICAgICAgc3VtICs9IChkYXRhW2pdIC0gZGF0YVtpXSkgKiAoZGF0YVtpICsgMV0gKyBkYXRhW2ogKyAxXSk7XG4gICAgICAgIGogPSBpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG4vLyB0dXJuIGEgcG9seWdvbiBpbiBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IGZvcm0gKGUuZy4gYXMgaW4gR2VvSlNPTikgaW50byBhIGZvcm0gRWFyY3V0IGFjY2VwdHNcbmVhcmN1dC5mbGF0dGVuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgZGltID0gZGF0YVswXVswXS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IHt2ZXJ0aWNlczogW10sIGhvbGVzOiBbXSwgZGltZW5zaW9uczogZGltfSxcbiAgICAgICAgaG9sZUluZGV4ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgZGltOyBkKyspIHJlc3VsdC52ZXJ0aWNlcy5wdXNoKGRhdGFbaV1bal1bZF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgaG9sZUluZGV4ICs9IGRhdGFbaSAtIDFdLmxlbmd0aDtcbiAgICAgICAgICAgIHJlc3VsdC5ob2xlcy5wdXNoKGhvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjMuMiBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXlcblx0ICogaXRlbS5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdHdoaWxlIChsZW5ndGgtLSkge1xuXHRcdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWxcblx0ICogYWRkcmVzc2VzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcblx0ICogY2hhcmFjdGVyLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7XG5cdFx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdFx0cmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7XG5cdFx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0XHR9XG5cdFx0Ly8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LlxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdFx0dmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuXHRcdHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTtcblx0XHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG5cdCAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcblx0ICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcblx0ICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG5cdCAqIG1hdGNoaW5nIFVURi0xNi5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cblx0ICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGNvdW50ZXIgPSAwLFxuXHRcdCAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgZXh0cmE7XG5cdFx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGVuY29kZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0cmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cblx0ICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWZcblx0ICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdFx0aWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSAyMjtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA2NTtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA5Nztcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2U7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3Jcblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2Vcblx0ICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG5cdCAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG5cdCAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uXG5cdCAqL1xuXHRmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHtcblx0XHQvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuXHRcdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRcdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG5cdH1cblxuXHQvKipcblx0ICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cblx0ICogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS4zLjInLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9KTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7IC8vIGluIE5vZGUuanMgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2UgeyAvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHsgLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8vIElmIG9iai5oYXNPd25Qcm9wZXJ0eSBoYXMgYmVlbiBvdmVycmlkZGVuLCB0aGVuIGNhbGxpbmdcbi8vIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSB3aWxsIGJyZWFrLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvaXNzdWVzLzE3MDdcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocXMsIHNlcCwgZXEsIG9wdGlvbnMpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIHZhciBvYmogPSB7fTtcblxuICBpZiAodHlwZW9mIHFzICE9PSAnc3RyaW5nJyB8fCBxcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IC9cXCsvZztcbiAgcXMgPSBxcy5zcGxpdChzZXApO1xuXG4gIHZhciBtYXhLZXlzID0gMTAwMDtcbiAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4S2V5cyA9PT0gJ251bWJlcicpIHtcbiAgICBtYXhLZXlzID0gb3B0aW9ucy5tYXhLZXlzO1xuICB9XG5cbiAgdmFyIGxlbiA9IHFzLmxlbmd0aDtcbiAgLy8gbWF4S2V5cyA8PSAwIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIG5vdCBsaW1pdCBrZXlzIGNvdW50XG4gIGlmIChtYXhLZXlzID4gMCAmJiBsZW4gPiBtYXhLZXlzKSB7XG4gICAgbGVuID0gbWF4S2V5cztcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgeCA9IHFzW2ldLnJlcGxhY2UocmVnZXhwLCAnJTIwJyksXG4gICAgICAgIGlkeCA9IHguaW5kZXhPZihlcSksXG4gICAgICAgIGtzdHIsIHZzdHIsIGssIHY7XG5cbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGtzdHIgPSB4LnN1YnN0cigwLCBpZHgpO1xuICAgICAgdnN0ciA9IHguc3Vic3RyKGlkeCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrc3RyID0geDtcbiAgICAgIHZzdHIgPSAnJztcbiAgICB9XG5cbiAgICBrID0gZGVjb2RlVVJJQ29tcG9uZW50KGtzdHIpO1xuICAgIHYgPSBkZWNvZGVVUklDb21wb25lbnQodnN0cik7XG5cbiAgICBpZiAoIWhhc093blByb3BlcnR5KG9iaiwgaykpIHtcbiAgICAgIG9ialtrXSA9IHY7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9ialtrXSkpIHtcbiAgICAgIG9ialtrXS5wdXNoKHYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba10gPSBbb2JqW2tdLCB2XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gb2JqW2tdLm1hcChmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuZGVjb2RlID0gZXhwb3J0cy5wYXJzZSA9IHJlcXVpcmUoJy4vZGVjb2RlJyk7XG5leHBvcnRzLmVuY29kZSA9IGV4cG9ydHMuc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiLyoqXG4gKiBEaWZmZXJlbnQgdHlwZXMgb2YgZW52aXJvbm1lbnRzIGZvciBXZWJHTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgRU5WXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMX0xFR0FDWSAtIFVzZWQgZm9yIG9sZGVyIHYxIFdlYkdMIGRldmljZXMuIFBpeGlKUyB3aWxsIGFpbSB0byBlbnN1cmUgY29tcGF0aWJpbGl0eVxuICogIHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuIElmIHlvdSBleHBlcmllbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgcHJlZmVyIHRoaXMgZW52aXJvbm1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBWZXJzaW9uIDEgb2YgV2ViR0xcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTDIgLSBWZXJzaW9uIDIgb2YgV2ViR0xcbiAqL1xuZXhwb3J0IGNvbnN0IEVOViA9IHtcbiAgICBXRUJHTF9MRUdBQ1k6IDAsXG4gICAgV0VCR0w6IDEsXG4gICAgV0VCR0wyOiAyLFxufTtcblxuLyoqXG4gKiBDb25zdGFudCB0byBpZGVudGlmeSB0aGUgUmVuZGVyZXIgVHlwZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgUkVOREVSRVJfVFlQRVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTktOT1dOIC0gVW5rbm93biByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFdlYkdMIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENBTlZBUyAtIENhbnZhcyByZW5kZXIgdHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFJFTkRFUkVSX1RZUEUgPSB7XG4gICAgVU5LTk9XTjogICAgMCxcbiAgICBXRUJHTDogICAgICAxLFxuICAgIENBTlZBUzogICAgIDIsXG59O1xuXG4vKipcbiAqIFZhcmlvdXMgYmxlbmQgbW9kZXMgc3VwcG9ydGVkIGJ5IFBJWEkuXG4gKlxuICogSU1QT1JUQU5UIC0gVGhlIFdlYkdMIHJlbmRlcmVyIG9ubHkgc3VwcG9ydHMgdGhlIE5PUk1BTCwgQURELCBNVUxUSVBMWSBhbmQgU0NSRUVOIGJsZW5kIG1vZGVzLlxuICogQW55dGhpbmcgZWxzZSB3aWxsIHNpbGVudGx5IGFjdCBsaWtlIE5PUk1BTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQkxFTkRfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREXG4gKiBAcHJvcGVydHkge251bWJlcn0gTVVMVElQTFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPVkVSTEFZXG4gKiBAcHJvcGVydHkge251bWJlcn0gREFSS0VOXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElHSFRFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0RPREdFXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfQlVSTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBUkRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTT0ZUX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRElGRkVSRU5DRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVYQ0xVU0lPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhVRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNBVFVSQVRJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOT1NJVFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTl9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0lOXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09VVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19BVE9QXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVUJUUkFDVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVkVSXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVJBU0VcbiAqL1xuZXhwb3J0IGNvbnN0IEJMRU5EX01PREVTID0ge1xuICAgIE5PUk1BTDogICAgICAgICAwLFxuICAgIEFERDogICAgICAgICAgICAxLFxuICAgIE1VTFRJUExZOiAgICAgICAyLFxuICAgIFNDUkVFTjogICAgICAgICAzLFxuICAgIE9WRVJMQVk6ICAgICAgICA0LFxuICAgIERBUktFTjogICAgICAgICA1LFxuICAgIExJR0hURU46ICAgICAgICA2LFxuICAgIENPTE9SX0RPREdFOiAgICA3LFxuICAgIENPTE9SX0JVUk46ICAgICA4LFxuICAgIEhBUkRfTElHSFQ6ICAgICA5LFxuICAgIFNPRlRfTElHSFQ6ICAgICAxMCxcbiAgICBESUZGRVJFTkNFOiAgICAgMTEsXG4gICAgRVhDTFVTSU9OOiAgICAgIDEyLFxuICAgIEhVRTogICAgICAgICAgICAxMyxcbiAgICBTQVRVUkFUSU9OOiAgICAgMTQsXG4gICAgQ09MT1I6ICAgICAgICAgIDE1LFxuICAgIExVTUlOT1NJVFk6ICAgICAxNixcbiAgICBOT1JNQUxfTlBNOiAgICAgMTcsXG4gICAgQUREX05QTTogICAgICAgIDE4LFxuICAgIFNDUkVFTl9OUE06ICAgICAxOSxcbiAgICBOT05FOiAgICAgICAgICAgMjAsXG5cbiAgICBTUkNfT1ZFUjogICAgICAgMCxcbiAgICBTUkNfSU46ICAgICAgICAgMjEsXG4gICAgU1JDX09VVDogICAgICAgIDIyLFxuICAgIFNSQ19BVE9QOiAgICAgICAyMyxcbiAgICBEU1RfT1ZFUjogICAgICAgMjQsXG4gICAgRFNUX0lOOiAgICAgICAgIDI1LFxuICAgIERTVF9PVVQ6ICAgICAgICAyNixcbiAgICBEU1RfQVRPUDogICAgICAgMjcsXG4gICAgRVJBU0U6ICAgICAgICAgIDI2LFxuICAgIFNVQlRSQUNUOiAgICAgICAyOCxcbn07XG5cbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xuZXhwb3J0IGNvbnN0IERSQVdfTU9ERVMgPSB7XG4gICAgUE9JTlRTOiAgICAgICAgIDAsXG4gICAgTElORVM6ICAgICAgICAgIDEsXG4gICAgTElORV9MT09QOiAgICAgIDIsXG4gICAgTElORV9TVFJJUDogICAgIDMsXG4gICAgVFJJQU5HTEVTOiAgICAgIDQsXG4gICAgVFJJQU5HTEVfU1RSSVA6IDUsXG4gICAgVFJJQU5HTEVfRkFOOiAgIDYsXG59O1xuXG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbmV4cG9ydCBjb25zdCBGT1JNQVRTID0ge1xuICAgIFJHQkE6ICAgICAgICAgICAgIDY0MDgsXG4gICAgUkdCOiAgICAgICAgICAgICAgNjQwNyxcbiAgICBBTFBIQTogICAgICAgICAgICA2NDA2LFxuICAgIExVTUlOQU5DRTogICAgICAgIDY0MDksXG4gICAgTFVNSU5BTkNFX0FMUEhBOiAgNjQxMCxcbiAgICBERVBUSF9DT01QT05FTlQ6ICA2NDAyLFxuICAgIERFUFRIX1NURU5DSUw6ICAgIDM0MDQxLFxufTtcblxuLyoqXG4gKiBWYXJpb3VzIEdMIHRhcmdldCB0eXBlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEPTM1NTNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQPTM0MDY3XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRF9BUlJBWT0zNTg2NlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWD0zNDA2OVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWD0zNDA3MFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWT0zNDA3MVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWT0zNDA3MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWj0zNDA3M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWj0zNDA3NFxuICovXG5leHBvcnQgY29uc3QgVEFSR0VUUyA9IHtcbiAgICBURVhUVVJFXzJEOiAzNTUzLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVA6IDM0MDY3LFxuICAgIFRFWFRVUkVfMkRfQVJSQVk6IDM1ODY2LFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWDogMzQwNjksXG4gICAgVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YOiAzNDA3MCxcbiAgICBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1k6IDM0MDcxLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWTogMzQwNzIsXG4gICAgVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aOiAzNDA3MyxcbiAgICBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1o6IDM0MDc0LFxufTtcblxuLyoqXG4gKiBWYXJpb3VzIEdMIGRhdGEgZm9ybWF0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9CWVRFPTUxMjFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVD01MTIzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV82XzU9MzM2MzVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF80XzRfNF80PTMyODE5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV81XzVfMT0zMjgyMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEZMT0FUPTUxMjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQUxGX0ZMT0FUPTM2MTkzXG4gKi9cbmV4cG9ydCBjb25zdCBUWVBFUyA9IHtcbiAgICBVTlNJR05FRF9CWVRFOiA1MTIxLFxuICAgIFVOU0lHTkVEX1NIT1JUOiA1MTIzLFxuICAgIFVOU0lHTkVEX1NIT1JUXzVfNl81OiAzMzYzNSxcbiAgICBVTlNJR05FRF9TSE9SVF80XzRfNF80OiAzMjgxOSxcbiAgICBVTlNJR05FRF9TSE9SVF81XzVfNV8xOiAzMjgyMCxcbiAgICBGTE9BVDogNTEyNixcbiAgICBIQUxGX0ZMT0FUOiAzNjE5Myxcbn07XG5cbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNDQUxFX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUiBTbW9vdGggc2NhbGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5FQVJFU1QgUGl4ZWxhdGluZyBzY2FsaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBTQ0FMRV9NT0RFUyA9IHtcbiAgICBMSU5FQVI6ICAgICAxLFxuICAgIE5FQVJFU1Q6ICAgIDAsXG59O1xuXG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBXUkFQX01PREVTID0ge1xuICAgIENMQU1QOiAgICAgICAgICAgMzMwNzEsXG4gICAgUkVQRUFUOiAgICAgICAgICAxMDQ5NyxcbiAgICBNSVJST1JFRF9SRVBFQVQ6IDMzNjQ4LFxufTtcblxuLyoqXG4gKiBNaXBtYXAgZmlsdGVyaW5nIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVN9IGFmZmVjdHMgZGVmYXVsdCB0ZXh0dXJlIGZpbHRlcmluZy5cbiAqIE1pcG1hcHMgYXJlIGdlbmVyYXRlZCBmb3IgYSBiYXNlVGV4dHVyZSBpZiBpdHMgYG1pcG1hcGAgZmllbGQgaXMgYE9OYCxcbiAqIG9yIGl0cyBgUE9XMmAgYW5kIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93ZXJzIG9mIDIuXG4gKiBEdWUgdG8gcGxhdGZvcm0gcmVzdHJpY3Rpb24sIGBPTmAgb3B0aW9uIHdpbGwgd29yayBsaWtlIGBQT1cyYCBmb3Igd2ViZ2wtMS5cbiAqXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBNSVBNQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9GRiAtIE5vIG1pcG1hcHNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT1cyIC0gR2VuZXJhdGUgbWlwbWFwcyBpZiB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvdzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPTiAtIEFsd2F5cyBnZW5lcmF0ZSBtaXBtYXBzXG4gKi9cbmV4cG9ydCBjb25zdCBNSVBNQVBfTU9ERVMgPSB7XG4gICAgT0ZGOiAwLFxuICAgIFBPVzI6IDEsXG4gICAgT046IDIsXG59O1xuXG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIEdDX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgaGFwcGVuIHBlcmlvZGljYWxseSBhdXRvbWF0aWNhbGx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUFOVUFMIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgbWFudWFsbHlcbiAqL1xuZXhwb3J0IGNvbnN0IEdDX01PREVTID0ge1xuICAgIEFVVE86ICAgICAgICAgICAwLFxuICAgIE1BTlVBTDogICAgICAgICAxLFxufTtcblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBzaGFkZXJzLlxuICpcbiAqIEBuYW1lIFBSRUNJU0lPTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAY29uc3RhbnRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBMT1c9J2xvd3AnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gTUVESVVNPSdtZWRpdW1wJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IEhJR0g9J2hpZ2hwJ1xuICovXG5leHBvcnQgY29uc3QgUFJFQ0lTSU9OID0ge1xuICAgIExPVzogJ2xvd3AnLFxuICAgIE1FRElVTTogJ21lZGl1bXAnLFxuICAgIEhJR0g6ICdoaWdocCcsXG59O1xuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogVGhlIHByZWZpeCB0aGF0IGRlbm90ZXMgYSBVUkwgaXMgZm9yIGEgcmV0aW5hIGFzc2V0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFJFVElOQV9QUkVGSVhcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQGRlZmF1bHQgL0AoWzAtOVxcLl0rKXgvXG4gKiBAZXhhbXBsZSBgQDJ4YFxuICovXG5zZXR0aW5ncy5SRVRJTkFfUFJFRklYID0gL0AoWzAtOVxcLl0rKXgvO1xuXG4vKipcbiAqIFNob3VsZCB0aGUgYGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXRgIGZsYWcgYmUgZW5hYmxlZCBhcyBhIGNvbnRleHQgb3B0aW9uIHVzZWQgaW4gdGhlIGBpc1dlYkdMU3VwcG9ydGVkYCBmdW5jdGlvbi5cbiAqIEZvciBtb3N0IHNjZW5hcmlvcyB0aGlzIHNob3VsZCBiZSBsZWZ0IGFzIHRydWUsIGFzIG90aGVyd2lzZSB0aGUgdXNlciBtYXkgaGF2ZSBhIHBvb3IgZXhwZXJpZW5jZS5cbiAqIEhvd2V2ZXIsIGl0IGNhbiBiZSB1c2VmdWwgdG8gZGlzYWJsZSB1bmRlciBjZXJ0YWluIHNjZW5hcmlvcywgc3VjaCBhcyBoZWFkbGVzcyB1bml0IHRlc3RzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCB0cnVlXG4gKi9cbnNldHRpbmdzLkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUID0gdHJ1ZTtcblxuZXhwb3J0IHsgc2V0dGluZ3MgfTtcbiIsImxldCBzYWlkSGVsbG8gPSBmYWxzZTtcbmNvbnN0IFZFUlNJT04gPSAnX19WRVJTSU9OX18nO1xuXG4vKipcbiAqIFNraXBzIHRoZSBoZWxsbyBtZXNzYWdlIG9mIHJlbmRlcmVycyB0aGF0IGFyZSBjcmVhdGVkIGFmdGVyIHRoaXMgaXMgcnVuLlxuICpcbiAqIEBmdW5jdGlvbiBza2lwSGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBza2lwSGVsbG8oKVxue1xuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbi8qKlxuICogTG9ncyBvdXQgdGhlIHZlcnNpb24gYW5kIHJlbmRlcmVyIGluZm9ybWF0aW9uIGZvciB0aGlzIHJ1bm5pbmcgaW5zdGFuY2Ugb2YgUElYSS5cbiAqIElmIHlvdSBkb24ndCB3YW50IHRvIHNlZSB0aGlzIG1lc3NhZ2UgeW91IGNhbiBydW4gYFBJWEkudXRpbHMuc2tpcEhlbGxvKClgIGJlZm9yZVxuICogY3JlYXRpbmcgeW91ciByZW5kZXJlci4gS2VlcCBpbiBtaW5kIHRoYXQgZG9pbmcgdGhhdCB3aWxsIGZvcmV2ZXIgbWFrZSB5b3UgYSBqZXJrIGZhY2UuXG4gKlxuICogQHN0YXRpY1xuICogQGZ1bmN0aW9uIHNheUhlbGxvXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgc3RyaW5nIHJlbmRlcmVyIHR5cGUgdG8gbG9nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2F5SGVsbG8odHlwZSlcbntcbiAgICBpZiAoc2FpZEhlbGxvKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBbXG4gICAgICAgICAgICBgXFxuICVjICVjICVjIFBpeGlKUyAke1ZFUlNJT059IC0g4pywICR7dHlwZX0g4pywICAlYyAgJWMgIGh0dHA6Ly93d3cucGl4aWpzLmNvbS8gICVjICVjIOKZpSVj4pmlJWPimaUgXFxuXFxuYCxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmY2NmE1OyBiYWNrZ3JvdW5kOiAjMDMwMzA3OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZmMzZGM7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgIF07XG5cbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICAgIH1cbiAgICBlbHNlIGlmICh3aW5kb3cuY29uc29sZSlcbiAgICB7XG4gICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhgUGl4aUpTICR7VkVSU0lPTn0gLSAke3R5cGV9IC0gaHR0cDovL3d3dy5waXhpanMuY29tL2ApO1xuICAgIH1cblxuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJy4uL3NldHRpbmdzJztcblxubGV0IHN1cHBvcnRlZDtcblxuLyoqXG4gKiBIZWxwZXIgZm9yIGNoZWNraW5nIGZvciBXZWJHTCBzdXBwb3J0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZFxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgV2ViR0wgc3VwcG9ydGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZCgpXG57XG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0ZWQgPT09ICd1bmRlZmluZWQnKVxuICAgIHtcbiAgICAgICAgc3VwcG9ydGVkID0gKGZ1bmN0aW9uIHN1cHBvcnRlZCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgICAgICAgICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0cnlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgbGV0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgY29udGV4dE9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBjb250ZXh0T3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdWNjZXNzID0gISEoZ2wgJiYgZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsKTtcblxuICAgICAgICAgICAgICAgIGlmIChnbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvc2VDb250ZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobG9zZUNvbnRleHQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvc2VDb250ZXh0Lmxvc2VDb250ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBnbCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3VwcG9ydGVkO1xufVxuIiwiLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlciB0byBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgKG51bWJlcnMgZnJvbSAwLjAgdG8gMS4wKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgycmdiKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBbMSwgMSwgMV1cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIFRoZSBoZXhhZGVjaW1hbCBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtICB7bnVtYmVyW119IFtvdXQ9W11dIElmIHN1cHBsaWVkLCB0aGlzIGFycmF5IHdpbGwgYmUgdXNlZCByYXRoZXIgdGhhbiByZXR1cm5pbmcgYSBuZXcgb25lXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gQW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBbUiwgRywgQl0gb2YgdGhlIGNvbG9yIHdoZXJlIGFsbCB2YWx1ZXMgYXJlIGZsb2F0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleDJyZ2IoaGV4LCBvdXQpXG57XG4gICAgb3V0ID0gb3V0IHx8IFtdO1xuXG4gICAgb3V0WzBdID0gKChoZXggPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzFdID0gKChoZXggPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMl0gPSAoaGV4ICYgMHhGRikgLyAyNTU7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyIHRvIGEgc3RyaW5nLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLmhleDJzdHJpbmcoMHhmZmZmZmYpOyAvLyByZXR1cm5zIFwiI2ZmZmZmZlwiXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGhleDJzdHJpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZXggLSBOdW1iZXIgaW4gaGV4IChlLmcuLCBgMHhmZmZmZmZgKVxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgc3RyaW5nIGNvbG9yIChlLmcuLCBgXCIjZmZmZmZmXCJgKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleDJzdHJpbmcoaGV4KVxue1xuICAgIGhleCA9IGhleC50b1N0cmluZygxNik7XG4gICAgaGV4ID0gJzAwMDAwMCcuc3Vic3RyKDAsIDYgLSBoZXgubGVuZ3RoKSArIGhleDtcblxuICAgIHJldHVybiBgIyR7aGV4fWA7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBzdHJpbmcgdG8gYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuc3RyaW5nMmhleChcIiNmZmZmZmZcIik7IC8vIHJldHVybnMgMHhmZmZmZmZcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc3RyaW5nMmhleFxuICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBpbiBoZXhhZGVjaW1hbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZzJoZXgoc3RyaW5nKVxue1xuICAgIGlmICh0eXBlb2Ygc3RyaW5nID09PSAnc3RyaW5nJyAmJiBzdHJpbmdbMF0gPT09ICcjJylcbiAgICB7XG4gICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHIoMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlSW50KHN0cmluZywgMTYpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5IG9mIG5vcm1hbGl6ZWQgZmxvYXRzIHRvIGEgaGV4YWRlY2ltYWwgbnVtYmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLnJnYjJoZXgoWzEsIDEsIDFdKTsgLy8gcmV0dXJucyAweGZmZmZmZlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiByZ2IyaGV4XG4gKiBAcGFyYW0ge251bWJlcltdfSByZ2IgLSBBcnJheSBvZiBudW1iZXJzIHdoZXJlIGFsbCB2YWx1ZXMgYXJlIG5vcm1hbGl6ZWQgZmxvYXRzIGZyb20gMC4wIHRvIDEuMC5cbiAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIGluIGhleGFkZWNpbWFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmdiMmhleChyZ2IpXG57XG4gICAgcmV0dXJuICgoKHJnYlswXSAqIDI1NSkgPDwgMTYpICsgKChyZ2JbMV0gKiAyNTUpIDw8IDgpICsgKHJnYlsyXSAqIDI1NSB8IDApKTtcbn1cbiIsImltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyoqXG4gKiBDb3JyZWN0cyBQaXhpSlMgYmxlbmQsIHRha2VzIHByZW11bHRpcGxpZWQgYWxwaGEgaW50byBhY2NvdW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyW10+fSBbYXJyYXldIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyW10+fSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKClcbntcbiAgICBjb25zdCBwbSA9IFtdO1xuICAgIGNvbnN0IG5wbSA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMjsgaSsrKVxuICAgIHtcbiAgICAgICAgcG1baV0gPSBpO1xuICAgICAgICBucG1baV0gPSBpO1xuICAgIH1cblxuICAgIHBtW0JMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIHBtW0JMRU5EX01PREVTLkFERF9OUE1dID0gQkxFTkRfTU9ERVMuQUREO1xuICAgIHBtW0JMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gQkxFTkRfTU9ERVMuU0NSRUVOO1xuXG4gICAgbnBtW0JMRU5EX01PREVTLk5PUk1BTF0gPSBCTEVORF9NT0RFUy5OT1JNQUxfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5BRERdID0gQkxFTkRfTU9ERVMuQUREX05QTTtcbiAgICBucG1bQkxFTkRfTU9ERVMuU0NSRUVOXSA9IEJMRU5EX01PREVTLlNDUkVFTl9OUE07XG5cbiAgICBjb25zdCBhcnJheSA9IFtdO1xuXG4gICAgYXJyYXkucHVzaChucG0pO1xuICAgIGFycmF5LnB1c2gocG0pO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIG1hcHMgcHJlbXVsdGlwbHkgZmxhZyBhbmQgYmxlbmRNb2RlIHRvIGFkanVzdGVkIGJsZW5kTW9kZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBjb25zdCBwcmVtdWx0aXBseUJsZW5kTW9kZVxuICogQHR5cGUge0FycmF5PG51bWJlcltdPn1cbiAqL1xuZXhwb3J0IGNvbnN0IHByZW11bHRpcGx5QmxlbmRNb2RlID0gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKTtcblxuLyoqXG4gKiBjaGFuZ2VzIGJsZW5kTW9kZSBhY2NvcmRpbmcgdG8gdGV4dHVyZSBmb3JtYXRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgc3VwcG9zZWQgYmxlbmQgbW9kZVxuICogQHBhcmFtIHtib29sZWFufSBwcmVtdWx0aXBsaWVkICB3aGV0aGVyIHNvdXJjZSBpcyBwcmVtdWx0aXBsaWVkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0cnVlIGJsZW5kIG1vZGUgZm9yIHRoaXMgdGV4dHVyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZShibGVuZE1vZGUsIHByZW11bHRpcGxpZWQpXG57XG4gICAgcmV0dXJuIHByZW11bHRpcGx5QmxlbmRNb2RlW3ByZW11bHRpcGxpZWQgPyAxIDogMF1bYmxlbmRNb2RlXTtcbn1cblxuLyoqXG4gKiBjb21iaW5lcyByZ2IgYW5kIGFscGhhIHRvIG91dCBhcnJheVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gcmdiIGlucHV0IHJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVtdWx0aXBseVJnYmEocmdiLCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSlcbntcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAgIG91dFswXSA9IHJnYlswXSAqIGFscGhhO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdICogYWxwaGE7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIG91dFswXSA9IHJnYlswXTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl07XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuXG4gICAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBwcmVtdWx0aXBsaWVzIHRpbnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHByZW11bHRpcGx5VGludFxuICogQHBhcmFtIHtudW1iZXJ9IHRpbnQgaW50ZWdlciBSR0JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSBmbG9hdGluZyBwb2ludCBhbHBoYSAoMC4wLTEuMClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRpbnQgbXVsdGlwbGllZCBieSBhbHBoYVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50KHRpbnQsIGFscGhhKVxue1xuICAgIGlmIChhbHBoYSA9PT0gMS4wKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyB0aW50O1xuICAgIH1cbiAgICBpZiAoYWxwaGEgPT09IDAuMClcbiAgICB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBsZXQgUiA9ICgodGludCA+PiAxNikgJiAweEZGKTtcbiAgICBsZXQgRyA9ICgodGludCA+PiA4KSAmIDB4RkYpO1xuICAgIGxldCBCID0gKHRpbnQgJiAweEZGKTtcblxuICAgIFIgPSAoKFIgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICBHID0gKChHICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgQiA9ICgoQiAqIGFscGhhKSArIDAuNSkgfCAwO1xuXG4gICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyAoUiA8PCAxNikgKyAoRyA8PCA4KSArIEI7XG59XG5cbi8qKlxuICogY29udmVydHMgaW50ZWdlciB0aW50IGFuZCBmbG9hdCBhbHBoYSB0byB2ZWM0IGZvcm0sIHByZW11bHRpcGxpZXMgYnkgZGVmYXVsdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhXG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnB1dCB0aW50XG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZW11bHRpcGx5VGludFRvUmdiYSh0aW50LCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSlcbntcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBvdXRbMF0gPSAoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUuMDtcbiAgICBvdXRbMV0gPSAoKHRpbnQgPj4gOCkgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsyXSA9ICh0aW50ICYgMHhGRikgLyAyNTUuMDtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAgIG91dFswXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzFdICo9IGFscGhhO1xuICAgICAgICBvdXRbMl0gKj0gYWxwaGE7XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuXG4gICAgcmV0dXJuIG91dDtcbn1cbiIsIi8qKlxuICogR2VuZXJpYyBNYXNrIFN0YWNrIGRhdGEgc3RydWN0dXJlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjcmVhdGVJbmRpY2VzRm9yUXVhZHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gTnVtYmVyIG9mIHF1YWRzXG4gKiBAcGFyYW0ge1VpbnQxNkFycmF5fFVpbnQzMkFycmF5fSBbb3V0QnVmZmVyXSAtIEJ1ZmZlciBmb3Igb3V0cHV0LCBsZW5ndGggaGFzIHRvIGJlIGA2ICogc2l6ZWBcbiAqIEByZXR1cm4ge1VpbnQxNkFycmF5fFVpbnQzMkFycmF5fSAtIFJlc3VsdGluZyBpbmRleCBidWZmZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplLCBvdXRCdWZmZXIgPSBudWxsKVxue1xuICAgIC8vIHRoZSB0b3RhbCBudW1iZXIgb2YgaW5kaWNlcyBpbiBvdXIgYXJyYXksIHRoZXJlIGFyZSA2IHBvaW50cyBwZXIgcXVhZC5cbiAgICBjb25zdCB0b3RhbEluZGljZXMgPSBzaXplICogNjtcblxuICAgIG91dEJ1ZmZlciA9IG91dEJ1ZmZlciB8fCBuZXcgVWludDE2QXJyYXkodG90YWxJbmRpY2VzKTtcblxuICAgIGlmIChvdXRCdWZmZXIubGVuZ3RoICE9PSB0b3RhbEluZGljZXMpXG4gICAge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE91dCBidWZmZXIgbGVuZ3RoIGlzIGluY29ycmVjdCwgZ290ICR7b3V0QnVmZmVyLmxlbmd0aH0gYW5kIGV4cGVjdGVkICR7dG90YWxJbmRpY2VzfWApO1xuICAgIH1cblxuICAgIC8vIGZpbGwgdGhlIGluZGljZXMgd2l0aCB0aGUgcXVhZHMgdG8gZHJhd1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpXG4gICAge1xuICAgICAgICBvdXRCdWZmZXJbaSArIDBdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMV0gPSBqICsgMTtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAyXSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDNdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgNF0gPSBqICsgMjtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA1XSA9IGogKyAzO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRCdWZmZXI7XG59XG4iLCIvKipcbiAqIFJlbW92ZSBpdGVtcyBmcm9tIGEgamF2YXNjcmlwdCBhcnJheSB3aXRob3V0IGdlbmVyYXRpbmcgZ2FyYmFnZVxuICpcbiAqIEBmdW5jdGlvbiByZW1vdmVJdGVtc1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIEFycmF5IHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJZHggc3RhcnRpbmcgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdmVDb3VudCBob3cgbWFueSB0byByZW1vdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUl0ZW1zKGFyciwgc3RhcnRJZHgsIHJlbW92ZUNvdW50KVxue1xuICAgIGNvbnN0IGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gICAgbGV0IGk7XG5cbiAgICBpZiAoc3RhcnRJZHggPj0gbGVuZ3RoIHx8IHJlbW92ZUNvdW50ID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlbW92ZUNvdW50ID0gKHN0YXJ0SWR4ICsgcmVtb3ZlQ291bnQgPiBsZW5ndGggPyBsZW5ndGggLSBzdGFydElkeCA6IHJlbW92ZUNvdW50KTtcblxuICAgIGNvbnN0IGxlbiA9IGxlbmd0aCAtIHJlbW92ZUNvdW50O1xuXG4gICAgZm9yIChpID0gc3RhcnRJZHg7IGkgPCBsZW47ICsraSlcbiAgICB7XG4gICAgICAgIGFycltpXSA9IGFycltpICsgcmVtb3ZlQ291bnRdO1xuICAgIH1cblxuICAgIGFyci5sZW5ndGggPSBsZW47XG59XG4iLCJsZXQgbmV4dFVpZCA9IDA7XG5cbi8qKlxuICogR2V0cyB0aGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdWlkXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyIHRvIHVzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVpZCgpXG57XG4gICAgcmV0dXJuICsrbmV4dFVpZDtcbn1cbiIsIi8qKlxuICogUmV0dXJucyBzaWduIG9mIG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc2lnblxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSB0aGUgbnVtYmVyIHRvIGNoZWNrIHRoZSBzaWduIG9mXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIGBuYCBpcyAwLCAtMSBpZiBgbmAgaXMgbmVnYXRpdmUsIDEgaWYgYG5gIGlzIHBvc2l0aXZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaWduKG4pXG57XG4gICAgaWYgKG4gPT09IDApIHJldHVybiAwO1xuXG4gICAgcmV0dXJuIG4gPCAwID8gLTEgOiAxO1xufVxuIiwiLy8gVGFrZW4gZnJvbSB0aGUgYml0LXR3aWRkbGUgcGFja2FnZVxuXG4vKipcbiAqIFJvdW5kcyB0byBuZXh0IHBvd2VyIG9mIHR3by5cbiAqXG4gKiBAZnVuY3Rpb24gbmV4dFBvdzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbmV4dFBvdzIodilcbntcbiAgICB2ICs9IHYgPT09IDA7XG4gICAgLS12O1xuICAgIHYgfD0gdiA+Pj4gMTtcbiAgICB2IHw9IHYgPj4+IDI7XG4gICAgdiB8PSB2ID4+PiA0O1xuICAgIHYgfD0gdiA+Pj4gODtcbiAgICB2IHw9IHYgPj4+IDE2O1xuXG4gICAgcmV0dXJuIHYgKyAxO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG51bWJlciBpcyBhIHBvd2VyIG9mIHR3by5cbiAqXG4gKiBAZnVuY3Rpb24gaXNQb3cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2YWx1ZSBpcyBwb3dlciBvZiB0d29cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUG93Mih2KVxue1xuICAgIHJldHVybiAhKHYgJiAodiAtIDEpKSAmJiAoISF2KTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBjZWlsIG9mIGxvZyBiYXNlIDJcbiAqXG4gKiBAZnVuY3Rpb24gbG9nMlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGxvZ2FyaXRobSBiYXNlIDJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvZzIodilcbntcbiAgICBsZXQgciA9ICh2ID4gMHhGRkZGKSA8PCA0O1xuXG4gICAgdiA+Pj49IHI7XG5cbiAgICBsZXQgc2hpZnQgPSAodiA+IDB4RkYpIDw8IDM7XG5cbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4RikgPDwgMjtcbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4MykgPDwgMTtcbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG5cbiAgICByZXR1cm4gciB8ICh2ID4+IDEpO1xufVxuIiwiLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFByb2dyYW1DYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBjb25zdCBQcm9ncmFtQ2FjaGUgPSB7fTtcblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRleHR1cmVDYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgQmFzZVRleHR1cmVDYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cblxuZXhwb3J0IGNvbnN0IEJhc2VUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG4gKiBEZXN0cm95cyBhbGwgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGUoKVxue1xuICAgIGxldCBrZXk7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCB0ZXh0dXJlcyBmcm9tIGNhY2hlLCBidXQgZG9lcyBub3QgZGVzdHJveSB0aGVtXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGUoKVxue1xuICAgIGxldCBrZXk7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzIGZyb20gYSBjYW52YXNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHRyaW1DYW52YXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIHRoZSBjYW52YXMgdG8gdHJpbVxuICogQHJldHVybnMge29iamVjdH0gVHJpbSBkYXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmltQ2FudmFzKGNhbnZhcylcbntcbiAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9yZW15Lzc4NDUwOFxuXG4gICAgbGV0IHdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgIGxldCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuXG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnN0IGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGNvbnN0IHBpeGVscyA9IGltYWdlRGF0YS5kYXRhO1xuICAgIGNvbnN0IGxlbiA9IHBpeGVscy5sZW5ndGg7XG5cbiAgICBjb25zdCBib3VuZCA9IHtcbiAgICAgICAgdG9wOiBudWxsLFxuICAgICAgICBsZWZ0OiBudWxsLFxuICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgYm90dG9tOiBudWxsLFxuICAgIH07XG4gICAgbGV0IGRhdGEgPSBudWxsO1xuICAgIGxldCBpO1xuICAgIGxldCB4O1xuICAgIGxldCB5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KVxuICAgIHtcbiAgICAgICAgaWYgKHBpeGVsc1tpICsgM10gIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHggPSAoaSAvIDQpICUgd2lkdGg7XG4gICAgICAgICAgICB5ID0gfn4oKGkgLyA0KSAvIHdpZHRoKTtcblxuICAgICAgICAgICAgaWYgKGJvdW5kLnRvcCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC50b3AgPSB5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQubGVmdCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHggPCBib3VuZC5sZWZ0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQucmlnaHQgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLnJpZ2h0IDwgeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQuYm90dG9tID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChib3VuZC5ib3R0b20gPCB5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYm91bmQudG9wICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQ7XG4gICAgICAgIGhlaWdodCA9IGJvdW5kLmJvdHRvbSAtIGJvdW5kLnRvcCArIDE7XG4gICAgICAgIGRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShib3VuZC5sZWZ0LCBib3VuZC50b3AsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGRhdGEsXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCBvZiB0aGUgZ2l2ZW4gc2l6ZSB0byBiZSB1c2VkIGFzIGEgdGFyZ2V0IGZvciByZW5kZXJpbmcgdG8uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNSZW5kZXJUYXJnZXRcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgQ2FudmFzIG9iamVjdCB0aGF0IGJlbG9uZ3MgdG8gdGhpcyBDYW52YXNSZW5kZXJUYXJnZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgb2JqZWN0IHJlcHJlc2VudGluZyBhIHR3by1kaW1lbnNpb25hbCByZW5kZXJpbmcgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgdGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBjYW52YXMgdGhhdCB3YXMgY3JlYXRlZCBieSB0aGUgQ2FudmFzUmVuZGVyVGFyZ2V0IGNsYXNzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjbGVhcigpXG4gICAge1xuICAgICAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSBjYW52YXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAqL1xuICAgIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgY2FudmFzLlxuICAgICAqXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoO1xuICAgIH1cblxuICAgIHNldCB3aWR0aCh2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB2YWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgIH1cblxuICAgIHNldCBoZWlnaHQodmFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHZhbDtcbiAgICB9XG59XG4iLCIvKipcbiAqIFJlZ2V4cCBmb3IgZGF0YSBVUkkuXG4gKiBCYXNlZCBvbjoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9yYWdpbmd3aW5kL2RhdGEtdXJpLXJlZ2V4fVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gREFUQV9VUklcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXhhbXBsZSBkYXRhOmltYWdlL3BuZztiYXNlNjRcbiAqL1xuZXhwb3J0IGNvbnN0IERBVEFfVVJJID0gL15cXHMqZGF0YTooPzooW1xcdy1dKylcXC8oW1xcdysuLV0rKSk/KD86O2NoYXJzZXQ9KFtcXHctXSspKT8oPzo7KGJhc2U2NCkpPywoLiopL2k7XG4iLCJpbXBvcnQgX3VybCBmcm9tICd1cmwnO1xuXG5sZXQgdGVtcEFuY2hvcjtcblxuLyoqXG4gKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICogTmlwcGVkIGZyb20gdGhlIHJlc291cmNlIGxvYWRlciFcbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MgPSB3aW5kb3cubG9jYXRpb24pXG57XG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuXG4gICAgaWYgKCF0ZW1wQW5jaG9yKVxuICAgIHtcbiAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9XG5cbiAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICB1cmwgPSBfdXJsLnBhcnNlKHRlbXBBbmNob3IuaHJlZik7XG5cbiAgICBjb25zdCBzYW1lUG9ydCA9ICghdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnKSB8fCAodXJsLnBvcnQgPT09IGxvYy5wb3J0KTtcblxuICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgIGlmICh1cmwuaG9zdG5hbWUgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgdXJsLnByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpXG4gICAge1xuICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xufVxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuLi9zZXR0aW5ncyc7XG5cbi8qKlxuICogZ2V0IHRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0IGJ5IGxvb2tpbmcgZm9yIHRoZSBwcmVmaXhcbiAqIHVzZWQgYnkgc3ByaXRlc2hlZXRzIGFuZCBpbWFnZSB1cmxzXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmxcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSB0aGUgaW1hZ2UgcGF0aFxuICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWU9MV0gLSB0aGUgZGVmYXVsdFZhbHVlIGlmIG5vIGZpbGVuYW1lIHByZWZpeCBpcyBzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybCh1cmwsIGRlZmF1bHRWYWx1ZSlcbntcbiAgICBjb25zdCByZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVUSU5BX1BSRUZJWC5leGVjKHVybCk7XG5cbiAgICBpZiAocmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHJlc29sdXRpb25bMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IDE7XG59XG4iLCIvLyBBIG1hcCBvZiB3YXJuaW5nIG1lc3NhZ2VzIGFscmVhZHkgZmlyZWRcbmNvbnN0IHdhcm5pbmdzID0ge307XG5cbi8qKlxuICogSGVscGVyIGZvciB3YXJuaW5nIGRldmVsb3BlcnMgYWJvdXQgZGVwcmVjYXRlZCBmZWF0dXJlcyAmIHNldHRpbmdzLlxuICogQSBzdGFjayB0cmFjayBmb3Igd2FybmluZ3MgaXMgZ2l2ZW47IHVzZWZ1bCBmb3IgdHJhY2tpbmctZG93biB3aGVyZVxuICogZGVwcmVjYXRlZCBtZXRob2RzL3Byb3BlcnRpZXMvY2xhc3NlcyBhcmUgYmVpbmcgdXNlZCB3aXRoaW4gdGhlIGNvZGUuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZXByZWNhdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBUaGUgdmVyc2lvbiB3aGVyZSB0aGUgZmVhdHVyZSBiZWNhbWUgZGVwcmVjYXRlZFxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBNZXNzYWdlIHNob3VsZCBpbmNsdWRlIHdoYXQgaXMgZGVwcmVjYXRlZCwgd2hlcmUsIGFuZCB0aGUgbmV3IHNvbHV0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gW2lnbm9yZURlcHRoPTNdIC0gVGhlIG51bWJlciBvZiBzdGVwcyB0byBpZ25vcmUgYXQgdGhlIHRvcCBvZiB0aGUgZXJyb3Igc3RhY2tcbiAqICAgICAgICB0aGlzIGlzIG1vc3RseSB0byBpZ25vcmUgaW50ZXJuYWwgZGVwcmVjYXRpb24gY2FsbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXByZWNhdGlvbih2ZXJzaW9uLCBtZXNzYWdlLCBpZ25vcmVEZXB0aCA9IDMpXG57XG4gICAgLy8gSWdub3JlIGR1cGxpY2F0XG4gICAgaWYgKHdhcm5pbmdzW21lc3NhZ2VdKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICBsZXQgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcblxuICAgIC8vIEhhbmRsZSBJRSA8IDEwIGFuZCBTYWZhcmkgPCA2XG4gICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gJ3VuZGVmaW5lZCcpXG4gICAge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBgJHttZXNzYWdlfVxcbkRlcHJlY2F0ZWQgc2luY2UgdiR7dmVyc2lvbn1gKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gY2hvcCBvZmYgdGhlIHN0YWNrIHRyYWNlIHdoaWNoIGluY2x1ZGVzIFBpeGlKUyBpbnRlcm5hbCBjYWxsc1xuICAgICAgICBzdGFjayA9IHN0YWNrLnNwbGl0KCdcXG4nKS5zcGxpY2UoaWdub3JlRGVwdGgpLmpvaW4oJ1xcbicpO1xuXG4gICAgICAgIGlmIChjb25zb2xlLmdyb3VwQ29sbGFwc2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFxuICAgICAgICAgICAgICAgICclY1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAlYyVzJyxcbiAgICAgICAgICAgICAgICAnY29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLFxuICAgICAgICAgICAgICAgICdmb250LXdlaWdodDpub3JtYWw7Y29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLFxuICAgICAgICAgICAgICAgIGAke21lc3NhZ2V9XFxuRGVwcmVjYXRlZCBzaW5jZSB2JHt2ZXJzaW9ufWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQaXhpSlMgRGVwcmVjYXRpb24gV2FybmluZzogJywgYCR7bWVzc2FnZX1cXG5EZXByZWNhdGVkIHNpbmNlIHYke3ZlcnNpb259YCk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXG4gICAgd2FybmluZ3NbbWVzc2FnZV0gPSB0cnVlO1xufVxuIiwiaW1wb3J0IHsgREFUQV9VUkkgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogVHlwZWRlZiBmb3IgZGVjb21wb3NlRGF0YVVyaSByZXR1cm4gb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBEZWNvbXBvc2VkRGF0YVVyaVxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lZGlhVHlwZSBNZWRpYSB0eXBlLCBlZy4gYGltYWdlYFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN1YlR5cGUgU3ViIHR5cGUsIGVnLiBgcG5nYFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVuY29kaW5nIERhdGEgZW5jb2RpbmcsIGVnLiBgYmFzZTY0YFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRhdGEgVGhlIGFjdHVhbCBkYXRhXG4gKi9cblxuLyoqXG4gKiBTcGxpdCBhIGRhdGEgVVJJIGludG8gY29tcG9uZW50cy4gUmV0dXJucyB1bmRlZmluZWQgaWZcbiAqIHBhcmFtZXRlciBgZGF0YVVyaWAgaXMgbm90IGEgdmFsaWQgZGF0YSBVUkkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIHRoZSBkYXRhIFVSSSB0byBjaGVja1xuICogQHJldHVybiB7UElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaXx1bmRlZmluZWR9IFRoZSBkZWNvbXBvc2VkIGRhdGEgdXJpIG9yIHVuZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaShkYXRhVXJpKVxue1xuICAgIGNvbnN0IGRhdGFVcmlNYXRjaCA9IERBVEFfVVJJLmV4ZWMoZGF0YVVyaSk7XG5cbiAgICBpZiAoZGF0YVVyaU1hdGNoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZTogZGF0YVVyaU1hdGNoWzFdID8gZGF0YVVyaU1hdGNoWzFdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdWJUeXBlOiBkYXRhVXJpTWF0Y2hbMl0gPyBkYXRhVXJpTWF0Y2hbMl0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoYXJzZXQ6IGRhdGFVcmlNYXRjaFszXSA/IGRhdGFVcmlNYXRjaFszXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IGRhdGFVcmlNYXRjaFs0XSA/IGRhdGFVcmlNYXRjaFs0XS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogZGF0YVVyaU1hdGNoWzVdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4iLCIvKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvaW50XG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbVxuICAgICAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgY29weUZyb20ocClcbiAgICB7XG4gICAgICAgIHRoaXMuc2V0KHAueCwgcC55KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBpbnRvIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gR2l2ZW4gcG9pbnQgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICAgICAqL1xuICAgIGNvcHlUbyhwKVxuICAgIHtcbiAgICAgICAgcC5zZXQodGhpcy54LCB0aGlzLnkpO1xuXG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICovXG4gICAgZXF1YWxzKHApXG4gICAge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy54KSAmJiAocC55ID09PSB0aGlzLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBzZXQoeCwgeSlcbiAgICB7XG4gICAgICAgIHRoaXMueCA9IHggfHwgMDtcbiAgICAgICAgdGhpcy55ID0geSB8fCAoKHkgIT09IDApID8gdGhpcy54IDogMCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQW4gT2JzZXJ2YWJsZVBvaW50IGlzIGEgcG9pbnQgdGhhdCB0cmlnZ2VycyBhIGNhbGxiYWNrIHdoZW4gdGhlIHBvaW50J3MgcG9zaXRpb24gaXMgY2hhbmdlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9ic2VydmFibGVQb2ludFxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gY2FsbGJhY2sgd2hlbiBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNjb3BlIC0gb3duZXIgb2YgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2IsIHNjb3BlLCB4ID0gMCwgeSA9IDApXG4gICAge1xuICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgdGhpcy5feSA9IHk7XG5cbiAgICAgICAgdGhpcy5jYiA9IGNiO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnQuXG4gICAgICogVGhlIGNhbGxiYWNrIGFuZCBzY29wZSBwYXJhbXMgY2FuIGJlIG92ZXJpZGRlbiBvdGhlcndpc2UgdGhleSB3aWxsIGRlZmF1bHRcbiAgICAgKiB0byB0aGUgY2xvbmUgb2JqZWN0J3MgdmFsdWVzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiPW51bGxdIC0gY2FsbGJhY2sgd2hlbiBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtzY29wZT1udWxsXSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7UElYSS5PYnNlcnZhYmxlUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBjbG9uZShjYiA9IG51bGwsIHNjb3BlID0gbnVsbClcbiAgICB7XG4gICAgICAgIGNvbnN0IF9jYiA9IGNiIHx8IHRoaXMuY2I7XG4gICAgICAgIGNvbnN0IF9zY29wZSA9IHNjb3BlIHx8IHRoaXMuc2NvcGU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUG9pbnQoX2NiLCBfc2NvcGUsIHRoaXMuX3gsIHRoaXMuX3kpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBzZXQoeCwgeSlcbiAgICB7XG4gICAgICAgIGNvbnN0IF94ID0geCB8fCAwO1xuICAgICAgICBjb25zdCBfeSA9IHkgfHwgKCh5ICE9PSAwKSA/IF94IDogMCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IF94IHx8IHRoaXMuX3kgIT09IF95KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl94ID0gX3g7XG4gICAgICAgICAgICB0aGlzLl95ID0gX3k7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybnMge1BJWEkuSVBvaW50fSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBjb3B5RnJvbShwKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHAueCB8fCB0aGlzLl95ICE9PSBwLnkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSBwLng7XG4gICAgICAgICAgICB0aGlzLl95ID0gcC55O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBjb3B5VG8ocClcbiAgICB7XG4gICAgICAgIHAuc2V0KHRoaXMuX3gsIHRoaXMuX3kpO1xuXG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICovXG4gICAgZXF1YWxzKHApXG4gICAge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy5feCkgJiYgKHAueSA9PT0gdGhpcy5feSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgfVxuXG4gICAgc2V0IHgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl94ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgeSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICB9XG5cbiAgICBzZXQgeSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5feSAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIG51bWJlciwgb3IgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlci5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7KFBJWEkuUG9pbnR8UElYSS5PYnNlcnZhYmxlUG9pbnQpfSBJUG9pbnRcbiAqL1xuIiwiLyoqXG4gKiBUd28gUGkuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtudW1iZXJ9IFBJXzJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjb25zdCBQSV8yID0gTWF0aC5QSSAqIDI7XG5cbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgcmFkaWFucyB0byBkZWdyZWVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7bnVtYmVyfSBSQURfVE9fREVHXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY29uc3QgUkFEX1RPX0RFRyA9IDE4MCAvIE1hdGguUEk7XG5cbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgZGVncmVlcyB0byByYWRpYW5zLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7bnVtYmVyfSBERUdfVE9fUkFEXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY29uc3QgREVHX1RPX1JBRCA9IE1hdGguUEkgLyAxODA7XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgaWRlbnRpZnkgc2hhcGVzLCBtYWlubHkgdG8gcHJldmVudCBgaW5zdGFuY2VvZmAgY2FsbHMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTSEFQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPTFkgUG9seWdvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFQ1QgUmVjdGFuZ2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0lSQyBDaXJjbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFTElQIEVsbGlwc2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSUkVDIFJvdW5kZWQgUmVjdGFuZ2xlXG4gKi9cbmV4cG9ydCBjb25zdCBTSEFQRVMgPSB7XG4gICAgUE9MWTogMCxcbiAgICBSRUNUOiAxLFxuICAgIENJUkM6IDIsXG4gICAgRUxJUDogMyxcbiAgICBSUkVDOiA0LFxufTtcblxuIiwiaW1wb3J0IFBvaW50IGZyb20gJy4vUG9pbnQnO1xuaW1wb3J0IHsgUElfMiB9IGZyb20gJy4vY29uc3QnO1xuXG4vKipcbiAqIFRoZSBQaXhpSlMgTWF0cml4IGFzIGEgY2xhc3MgbWFrZXMgaXQgYSBsb3QgZmFzdGVyLlxuICpcbiAqIEhlcmUgaXMgYSByZXByZXNlbnRhdGlvbiBvZiBpdDpcbiAqIGBgYGpzXG4gKiB8IGEgfCBjIHwgdHh8XG4gKiB8IGIgfCBkIHwgdHl8XG4gKiB8IDAgfCAwIHwgMSB8XG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0cml4XG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthPTFdIC0geCBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYj0wXSAtIHggc2tld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYz0wXSAtIHkgc2tld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZD0xXSAtIHkgc2NhbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3R4PTBdIC0geCB0cmFuc2xhdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHk9MF0gLSB5IHRyYW5zbGF0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYSA9IDEsIGIgPSAwLCBjID0gMCwgZCA9IDEsIHR4ID0gMCwgdHkgPSAwKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hID0gYTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmIgPSBiO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYyA9IGM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kID0gZDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eSA9IHR5O1xuXG4gICAgICAgIHRoaXMuYXJyYXkgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBNYXRyaXggb2JqZWN0IGJhc2VkIG9uIHRoZSBnaXZlbiBhcnJheS4gVGhlIEVsZW1lbnQgdG8gTWF0cml4IG1hcHBpbmcgb3JkZXIgaXMgYXMgZm9sbG93czpcbiAgICAgKlxuICAgICAqIGEgPSBhcnJheVswXVxuICAgICAqIGIgPSBhcnJheVsxXVxuICAgICAqIGMgPSBhcnJheVszXVxuICAgICAqIGQgPSBhcnJheVs0XVxuICAgICAqIHR4ID0gYXJyYXlbMl1cbiAgICAgKiB0eSA9IGFycmF5WzVdXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSBhcnJheSB0aGF0IHRoZSBtYXRyaXggd2lsbCBiZSBwb3B1bGF0ZWQgZnJvbS5cbiAgICAgKi9cbiAgICBmcm9tQXJyYXkoYXJyYXkpXG4gICAge1xuICAgICAgICB0aGlzLmEgPSBhcnJheVswXTtcbiAgICAgICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgICAgIHRoaXMuYyA9IGFycmF5WzNdO1xuICAgICAgICB0aGlzLmQgPSBhcnJheVs0XTtcbiAgICAgICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzLnR5ID0gYXJyYXlbNV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2V0cyB0aGUgbWF0cml4IHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBzZXQoYSwgYiwgYywgZCwgdHgsIHR5KVxuICAgIHtcbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgdGhpcy5jID0gYztcbiAgICAgICAgdGhpcy5kID0gZDtcbiAgICAgICAgdGhpcy50eCA9IHR4O1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBmcm9tIHRoZSBjdXJyZW50IE1hdHJpeCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zcG9zZSAtIFdoZXRoZXIgd2UgbmVlZCB0byB0cmFuc3Bvc2UgdGhlIG1hdHJpeCBvciBub3RcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD1uZXcgRmxvYXQzMkFycmF5KDkpXSAtIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGJlIGFzc2lnbmVkIHRvIG91dFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSB0aGUgbmV3bHkgY3JlYXRlZCBhcnJheSB3aGljaCBjb250YWlucyB0aGUgbWF0cml4XG4gICAgICovXG4gICAgdG9BcnJheSh0cmFuc3Bvc2UsIG91dClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5hcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoOSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuXG4gICAgICAgIGlmICh0cmFuc3Bvc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVsyXSA9IDA7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzJdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs2XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs3XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlIHRvIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiByZW5kZXJpbmcpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIHRyYW5zZm9ybWVkIHRocm91Z2ggdGhpcyBtYXRyaXhcbiAgICAgKi9cbiAgICBhcHBseShwb3MsIG5ld1BvcylcbiAgICB7XG4gICAgICAgIG5ld1BvcyA9IG5ld1BvcyB8fCBuZXcgUG9pbnQoKTtcblxuICAgICAgICBjb25zdCB4ID0gcG9zLng7XG4gICAgICAgIGNvbnN0IHkgPSBwb3MueTtcblxuICAgICAgICBuZXdQb3MueCA9ICh0aGlzLmEgKiB4KSArICh0aGlzLmMgKiB5KSArIHRoaXMudHg7XG4gICAgICAgIG5ld1Bvcy55ID0gKHRoaXMuYiAqIHgpICsgKHRoaXMuZCAqIHkpICsgdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZSB0byBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gaW5wdXQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIGludmVyc2UtdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuICAgIGFwcGx5SW52ZXJzZShwb3MsIG5ld1BvcylcbiAgICB7XG4gICAgICAgIG5ld1BvcyA9IG5ld1BvcyB8fCBuZXcgUG9pbnQoKTtcblxuICAgICAgICBjb25zdCBpZCA9IDEgLyAoKHRoaXMuYSAqIHRoaXMuZCkgKyAodGhpcy5jICogLXRoaXMuYikpO1xuXG4gICAgICAgIGNvbnN0IHggPSBwb3MueDtcbiAgICAgICAgY29uc3QgeSA9IHBvcy55O1xuXG4gICAgICAgIG5ld1Bvcy54ID0gKHRoaXMuZCAqIGlkICogeCkgKyAoLXRoaXMuYyAqIGlkICogeSkgKyAoKCh0aGlzLnR5ICogdGhpcy5jKSAtICh0aGlzLnR4ICogdGhpcy5kKSkgKiBpZCk7XG4gICAgICAgIG5ld1Bvcy55ID0gKHRoaXMuYSAqIGlkICogeSkgKyAoLXRoaXMuYiAqIGlkICogeCkgKyAoKCgtdGhpcy50eSAqIHRoaXMuYSkgKyAodGhpcy50eCAqIHRoaXMuYikpICogaWQpO1xuXG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggSG93IG11Y2ggdG8gdHJhbnNsYXRlIHggYnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeSBieVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIHRyYW5zbGF0ZSh4LCB5KVxuICAgIHtcbiAgICAgICAgdGhpcy50eCArPSB4O1xuICAgICAgICB0aGlzLnR5ICs9IHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHNjYWxlIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaGUgYW1vdW50IHRvIHNjYWxlIGhvcml6b250YWxseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRoZSBhbW91bnQgdG8gc2NhbGUgdmVydGljYWxseVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIHNjYWxlKHgsIHkpXG4gICAge1xuICAgICAgICB0aGlzLmEgKj0geDtcbiAgICAgICAgdGhpcy5kICo9IHk7XG4gICAgICAgIHRoaXMuYyAqPSB4O1xuICAgICAgICB0aGlzLmIgKj0geTtcbiAgICAgICAgdGhpcy50eCAqPSB4O1xuICAgICAgICB0aGlzLnR5ICo9IHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHJvdGF0aW9uIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgLSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICByb3RhdGUoYW5nbGUpXG4gICAge1xuICAgICAgICBjb25zdCBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICBjb25zdCBhMSA9IHRoaXMuYTtcbiAgICAgICAgY29uc3QgYzEgPSB0aGlzLmM7XG4gICAgICAgIGNvbnN0IHR4MSA9IHRoaXMudHg7XG5cbiAgICAgICAgdGhpcy5hID0gKGExICogY29zKSAtICh0aGlzLmIgKiBzaW4pO1xuICAgICAgICB0aGlzLmIgPSAoYTEgKiBzaW4pICsgKHRoaXMuYiAqIGNvcyk7XG4gICAgICAgIHRoaXMuYyA9IChjMSAqIGNvcykgLSAodGhpcy5kICogc2luKTtcbiAgICAgICAgdGhpcy5kID0gKGMxICogc2luKSArICh0aGlzLmQgKiBjb3MpO1xuICAgICAgICB0aGlzLnR4ID0gKHR4MSAqIGNvcykgLSAodGhpcy50eSAqIHNpbik7XG4gICAgICAgIHRoaXMudHkgPSAodHgxICogc2luKSArICh0aGlzLnR5ICogY29zKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGFwcGVuZC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBhcHBlbmQobWF0cml4KVxuICAgIHtcbiAgICAgICAgY29uc3QgYTEgPSB0aGlzLmE7XG4gICAgICAgIGNvbnN0IGIxID0gdGhpcy5iO1xuICAgICAgICBjb25zdCBjMSA9IHRoaXMuYztcbiAgICAgICAgY29uc3QgZDEgPSB0aGlzLmQ7XG5cbiAgICAgICAgdGhpcy5hID0gKG1hdHJpeC5hICogYTEpICsgKG1hdHJpeC5iICogYzEpO1xuICAgICAgICB0aGlzLmIgPSAobWF0cml4LmEgKiBiMSkgKyAobWF0cml4LmIgKiBkMSk7XG4gICAgICAgIHRoaXMuYyA9IChtYXRyaXguYyAqIGExKSArIChtYXRyaXguZCAqIGMxKTtcbiAgICAgICAgdGhpcy5kID0gKG1hdHJpeC5jICogYjEpICsgKG1hdHJpeC5kICogZDEpO1xuXG4gICAgICAgIHRoaXMudHggPSAobWF0cml4LnR4ICogYTEpICsgKG1hdHJpeC50eSAqIGMxKSArIHRoaXMudHg7XG4gICAgICAgIHRoaXMudHkgPSAobWF0cml4LnR4ICogYjEpICsgKG1hdHJpeC50eSAqIGQxKSArIHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWF0cml4IGJhc2VkIG9uIGFsbCB0aGUgYXZhaWxhYmxlIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gUG9zaXRpb24gb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gUG9zaXRpb24gb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFggLSBQaXZvdCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WSAtIFBpdm90IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYIC0gU2NhbGUgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkgLSBTY2FsZSBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gUm90YXRpb24gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WCAtIFNrZXcgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WSAtIFNrZXcgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIHNldFRyYW5zZm9ybSh4LCB5LCBwaXZvdFgsIHBpdm90WSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1kpXG4gICAge1xuICAgICAgICB0aGlzLmEgPSBNYXRoLmNvcyhyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5iID0gTWF0aC5zaW4ocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgICAgIHRoaXMuYyA9IC1NYXRoLnNpbihyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcbiAgICAgICAgdGhpcy5kID0gTWF0aC5jb3Mocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG5cbiAgICAgICAgdGhpcy50eCA9IHggLSAoKHBpdm90WCAqIHRoaXMuYSkgKyAocGl2b3RZICogdGhpcy5jKSk7XG4gICAgICAgIHRoaXMudHkgPSB5IC0gKChwaXZvdFggKiB0aGlzLmIpICsgKHBpdm90WSAqIHRoaXMuZCkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIHByZXBlbmRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBwcmVwZW5kKG1hdHJpeClcbiAgICB7XG4gICAgICAgIGNvbnN0IHR4MSA9IHRoaXMudHg7XG5cbiAgICAgICAgaWYgKG1hdHJpeC5hICE9PSAxIHx8IG1hdHJpeC5iICE9PSAwIHx8IG1hdHJpeC5jICE9PSAwIHx8IG1hdHJpeC5kICE9PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhMSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGNvbnN0IGMxID0gdGhpcy5jO1xuXG4gICAgICAgICAgICB0aGlzLmEgPSAoYTEgKiBtYXRyaXguYSkgKyAodGhpcy5iICogbWF0cml4LmMpO1xuICAgICAgICAgICAgdGhpcy5iID0gKGExICogbWF0cml4LmIpICsgKHRoaXMuYiAqIG1hdHJpeC5kKTtcbiAgICAgICAgICAgIHRoaXMuYyA9IChjMSAqIG1hdHJpeC5hKSArICh0aGlzLmQgKiBtYXRyaXguYyk7XG4gICAgICAgICAgICB0aGlzLmQgPSAoYzEgKiBtYXRyaXguYikgKyAodGhpcy5kICogbWF0cml4LmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50eCA9ICh0eDEgKiBtYXRyaXguYSkgKyAodGhpcy50eSAqIG1hdHJpeC5jKSArIG1hdHJpeC50eDtcbiAgICAgICAgdGhpcy50eSA9ICh0eDEgKiBtYXRyaXguYikgKyAodGhpcy50eSAqIG1hdHJpeC5kKSArIG1hdHJpeC50eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIHRoZSBtYXRyaXggKHgsIHksIHNjYWxlWCwgc2NhbGVZLCBhbmQgcm90YXRpb24pIGFuZCBzZXRzIHRoZSBwcm9wZXJ0aWVzIG9uIHRvIGEgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSB0byBhcHBseSB0aGUgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRyYW5zZm9ybX0gVGhlIHRyYW5zZm9ybSB3aXRoIHRoZSBuZXdseSBhcHBsaWVkIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBkZWNvbXBvc2UodHJhbnNmb3JtKVxuICAgIHtcbiAgICAgICAgLy8gc29ydCBvdXQgcm90YXRpb24gLyBza2V3Li5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMuYTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuYztcbiAgICAgICAgY29uc3QgZCA9IHRoaXMuZDtcblxuICAgICAgICBjb25zdCBza2V3WCA9IC1NYXRoLmF0YW4yKC1jLCBkKTtcbiAgICAgICAgY29uc3Qgc2tld1kgPSBNYXRoLmF0YW4yKGIsIGEpO1xuXG4gICAgICAgIGNvbnN0IGRlbHRhID0gTWF0aC5hYnMoc2tld1ggKyBza2V3WSk7XG5cbiAgICAgICAgaWYgKGRlbHRhIDwgMC4wMDAwMSB8fCBNYXRoLmFicyhQSV8yIC0gZGVsdGEpIDwgMC4wMDAwMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gc2tld1k7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoKGEgKiBhKSArIChiICogYikpO1xuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUueSA9IE1hdGguc3FydCgoYyAqIGMpICsgKGQgKiBkKSk7XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgcG9zaXRpb25cbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnggPSB0aGlzLnR4O1xuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnRzIHRoaXMgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBpbnZlcnQoKVxuICAgIHtcbiAgICAgICAgY29uc3QgYTEgPSB0aGlzLmE7XG4gICAgICAgIGNvbnN0IGIxID0gdGhpcy5iO1xuICAgICAgICBjb25zdCBjMSA9IHRoaXMuYztcbiAgICAgICAgY29uc3QgZDEgPSB0aGlzLmQ7XG4gICAgICAgIGNvbnN0IHR4MSA9IHRoaXMudHg7XG4gICAgICAgIGNvbnN0IG4gPSAoYTEgKiBkMSkgLSAoYjEgKiBjMSk7XG5cbiAgICAgICAgdGhpcy5hID0gZDEgLyBuO1xuICAgICAgICB0aGlzLmIgPSAtYjEgLyBuO1xuICAgICAgICB0aGlzLmMgPSAtYzEgLyBuO1xuICAgICAgICB0aGlzLmQgPSBhMSAvIG47XG4gICAgICAgIHRoaXMudHggPSAoKGMxICogdGhpcy50eSkgLSAoZDEgKiB0eDEpKSAvIG47XG4gICAgICAgIHRoaXMudHkgPSAtKChhMSAqIHRoaXMudHkpIC0gKGIxICogdHgxKSkgLyBuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGlzIE1hdHJpeCB0byBhbiBpZGVudGl0eSAoZGVmYXVsdCkgbWF0cml4LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgaWRlbnRpdHkoKVxuICAgIHtcbiAgICAgICAgdGhpcy5hID0gMTtcbiAgICAgICAgdGhpcy5iID0gMDtcbiAgICAgICAgdGhpcy5jID0gMDtcbiAgICAgICAgdGhpcy5kID0gMTtcbiAgICAgICAgdGhpcy50eCA9IDA7XG4gICAgICAgIHRoaXMudHkgPSAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgTWF0cml4IG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBBIGNvcHkgb2YgdGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBjbG9uZSgpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgbWF0cml4LmEgPSB0aGlzLmE7XG4gICAgICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgICAgICBtYXRyaXguYyA9IHRoaXMuYztcbiAgICAgICAgbWF0cml4LmQgPSB0aGlzLmQ7XG4gICAgICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgICAgIG1hdHJpeC50eSA9IHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGdpdmVuIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWF0cml4IGdpdmVuIGluIHBhcmFtZXRlciB3aXRoIGl0cyB2YWx1ZXMgdXBkYXRlZC5cbiAgICAgKi9cbiAgICBjb3B5VG8obWF0cml4KVxuICAgIHtcbiAgICAgICAgbWF0cml4LmEgPSB0aGlzLmE7XG4gICAgICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgICAgICBtYXRyaXguYyA9IHRoaXMuYztcbiAgICAgICAgbWF0cml4LmQgPSB0aGlzLmQ7XG4gICAgICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgICAgIG1hdHJpeC50eSA9IHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiBnaXZlbiBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSBmcm9tLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSB0aGlzXG4gICAgICovXG4gICAgY29weUZyb20obWF0cml4KVxuICAgIHtcbiAgICAgICAgdGhpcy5hID0gbWF0cml4LmE7XG4gICAgICAgIHRoaXMuYiA9IG1hdHJpeC5iO1xuICAgICAgICB0aGlzLmMgPSBtYXRyaXguYztcbiAgICAgICAgdGhpcy5kID0gbWF0cml4LmQ7XG4gICAgICAgIHRoaXMudHggPSBtYXRyaXgudHg7XG4gICAgICAgIHRoaXMudHkgPSBtYXRyaXgudHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBkZWZhdWx0IChpZGVudGl0eSkgbWF0cml4XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0XG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgc3RhdGljIGdldCBJREVOVElUWSgpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgdGVtcCBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IFRFTVBfTUFUUklYKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgfVxufVxuIiwiLy8gWW91ciBmcmllbmRseSBuZWlnaGJvdXIgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGloZWRyYWxfZ3JvdXBcbi8vXG4vLyBUaGlzIGZpbGUgaW1wbGVtZW50cyB0aGUgZGloZWRyYWwgZ3JvdXAgb2Ygb3JkZXIgMTYsIGFsc28gY2FsbGVkXG4vLyBvZiBkZWdyZWUgOC4gVGhhdCdzIHdoeSBpdHMgY2FsbGVkIEdyb3VwRDguXG5cbmltcG9ydCBNYXRyaXggZnJvbSAnLi9NYXRyaXgnO1xuXG4vKlxuICogVHJhbnNmb3JtIG1hdHJpeCBmb3Igb3BlcmF0aW9uIG4gaXM6XG4gKiB8IHV4IHwgdnggfFxuICogfCB1eSB8IHZ5IHxcbiAqL1xuXG5jb25zdCB1eCA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxXTtcbmNvbnN0IHV5ID0gWzAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xuY29uc3QgdnggPSBbMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG5jb25zdCB2eSA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xXTtcblxuLyoqXG4gKiBbQ2F5bGV5IFRhYmxlXXtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYXlsZXlfdGFibGV9XG4gKiBmb3IgdGhlIGNvbXBvc2l0aW9uIG9mIGVhY2ggcm90YXRpb24gaW4gdGhlIGRpaGVkZXJhbCBncm91cCBEOC5cbiAqXG4gKiBAdHlwZSBudW1iZXJbXVtdXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCByb3RhdGlvbkNheWxleSA9IFtdO1xuXG4vKipcbiAqIE1hdHJpY2VzIGZvciBlYWNoIGBHRDhTeW1tZXRyeWAgcm90YXRpb24uXG4gKlxuICogQHR5cGUgTWF0cml4W11cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHJvdGF0aW9uTWF0cmljZXMgPSBbXTtcblxuLypcbiAqIEFsaWFzIGZvciB7QGNvZGUgTWF0aC5zaWdufS5cbiAqL1xuY29uc3Qgc2lnbnVtID0gTWF0aC5zaWduO1xuXG4vKlxuICogSW5pdGlhbGl6ZXMgYHJvdGF0aW9uQ2F5bGV5YCBhbmQgYHJvdGF0aW9uTWF0cmljZXNgLiBJdCBpcyBjYWxsZWRcbiAqIG9ubHkgb25jZSBiZWxvdy5cbiAqL1xuZnVuY3Rpb24gaW5pdCgpXG57XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKVxuICAgIHtcbiAgICAgICAgY29uc3Qgcm93ID0gW107XG5cbiAgICAgICAgcm90YXRpb25DYXlsZXkucHVzaChyb3cpO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTY7IGorKylcbiAgICAgICAge1xuICAgICAgICAgICAgLyogTXVsdGlwbGllcyByb3RhdGlvbiBtYXRyaWNlcyBpIGFuZCBqLiAqL1xuICAgICAgICAgICAgY29uc3QgX3V4ID0gc2lnbnVtKCh1eFtpXSAqIHV4W2pdKSArICh2eFtpXSAqIHV5W2pdKSk7XG4gICAgICAgICAgICBjb25zdCBfdXkgPSBzaWdudW0oKHV5W2ldICogdXhbal0pICsgKHZ5W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIGNvbnN0IF92eCA9IHNpZ251bSgodXhbaV0gKiB2eFtqXSkgKyAodnhbaV0gKiB2eVtqXSkpO1xuICAgICAgICAgICAgY29uc3QgX3Z5ID0gc2lnbnVtKCh1eVtpXSAqIHZ4W2pdKSArICh2eVtpXSAqIHZ5W2pdKSk7XG5cbiAgICAgICAgICAgIC8qIEZpbmRzIHJvdGF0aW9uIG1hdHJpeCBtYXRjaGluZyB0aGUgcHJvZHVjdCBhbmQgcHVzaGVzIGl0LiAqL1xuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCAxNjsgaysrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh1eFtrXSA9PT0gX3V4ICYmIHV5W2tdID09PSBfdXlcbiAgICAgICAgICAgICAgICAgICAgICAmJiB2eFtrXSA9PT0gX3Z4ICYmIHZ5W2tdID09PSBfdnkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByb3cucHVzaChrKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIG1hdC5zZXQodXhbaV0sIHV5W2ldLCB2eFtpXSwgdnlbaV0sIDAsIDApO1xuICAgICAgICByb3RhdGlvbk1hdHJpY2VzLnB1c2gobWF0KTtcbiAgICB9XG59XG5cbmluaXQoKTtcblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge251bWJlcn0gR0Q4U3ltbWV0cnlcbiAqIEBzZWUgUElYSS5Hcm91cEQ4XG4gKi9cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBkaWhlZHJhbCBncm91cCBEOCwgd2hpY2ggaXMgc2ltaWxhciB0b1xuICogW2dyb3VwIEQ0XXtAbGluayBodHRwOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL0RpaGVkcmFsR3JvdXBENC5odG1sfTtcbiAqIEQ4IGlzIHRoZSBzYW1lIGJ1dCB3aXRoIGRpYWdvbmFscywgYW5kIGl0IGlzIHVzZWQgZm9yIHRleHR1cmVcbiAqIHJvdGF0aW9ucy5cbiAqXG4gKiBUaGUgZGlyZWN0aW9ucyB0aGUgVS0gYW5kIFYtIGF4ZXMgYWZ0ZXIgcm90YXRpb25cbiAqIG9mIGFuIGFuZ2xlIG9mIGBhOiBHRDhDb25zdGFudGAgYXJlIHRoZSB2ZWN0b3JzIGAodVgoYSksIHVZKGEpKWBcbiAqIGFuZCBgKHZYKGEpLCB2WShhKSlgLiBUaGVzZSBhcmVuJ3QgbmVjZXNzYXJpbHkgdW5pdCB2ZWN0b3JzLlxuICpcbiAqICoqT3JpZ2luOioqPGJyPlxuICogIFRoaXMgaXMgdGhlIHNtYWxsIHBhcnQgb2YgZ2FtZW9mYm9tYnMuY29tIHBvcnRhbCBzeXN0ZW0uIEl0IHdvcmtzLlxuICpcbiAqIEBzZWUgUElYSS5Hcm91cEQ4LkVcbiAqIEBzZWUgUElYSS5Hcm91cEQ4LlNFXG4gKiBAc2VlIFBJWEkuR3JvdXBEOC5TXG4gKiBAc2VlIFBJWEkuR3JvdXBEOC5TV1xuICogQHNlZSBQSVhJLkdyb3VwRDguV1xuICogQHNlZSBQSVhJLkdyb3VwRDguTldcbiAqIEBzZWUgUElYSS5Hcm91cEQ4Lk5cbiAqIEBzZWUgUElYSS5Hcm91cEQ4Lk5FXG4gKiBAYXV0aG9yIEl2YW4gQGl2YW5wb3BlbHlzaGV2XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmNvbnN0IEdyb3VwRDggPSB7XG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAwwrAgICAgICAgfCBFYXN0ICAgICAgfFxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIEU6IDAsXG5cbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDQ1wrDihrsgICAgIHwgU291dGhlYXN0IHxcbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTRTogMSxcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgOTDCsOKGuyAgICAgfCBTb3V0aCAgICAgfFxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFM6IDIsXG5cbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDEzNcKw4oa7ICAgIHwgU291dGh3ZXN0IHxcbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTVzogMyxcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMTgwwrAgICAgIHwgV2VzdCAgICAgIHxcbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBXOiA0LFxuXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtMTM1wrAvMjI1wrDihrsgfCBOb3J0aHdlc3QgICAgfFxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE5XOiA1LFxuXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtOTDCsC8yNzDCsOKGuyAgfCBOb3J0aCAgICAgICAgfFxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE46IDYsXG5cbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC00NcKwLzMxNcKw4oa7ICB8IE5vcnRoZWFzdCAgICB8XG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTkU6IDcsXG5cbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IFktYXhpcy5cbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNSVJST1JfVkVSVElDQUw6IDgsXG5cbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IHRoZSBtYWluIGRpYWdvbmFsLlxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1BSU5fRElBR09OQUw6IDEwLFxuXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCBYLWF4aXMuXG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUlSUk9SX0hPUklaT05UQUw6IDEyLFxuXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCByZXZlcnNlIGRpYWdvbmFsLlxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFJFVkVSU0VfRElBR09OQUw6IDE0LFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBYLWNvbXBvbmVudCBvZiB0aGUgVS1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdVg6IChpbmQpID0+IHV4W2luZF0sXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFktY29tcG9uZW50IG9mIHRoZSBVLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB1WTogKGluZCkgPT4gdXlbaW5kXSxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWC1jb21wb25lbnQgb2YgdGhlIFYtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHZYOiAoaW5kKSA9PiB2eFtpbmRdLFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBZLWNvbXBvbmVudCBvZiB0aGUgVi1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdlk6IChpbmQpID0+IHZ5W2luZF0sXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIHN5bW1ldHJ5IHdob3NlIG9wcG9zaXRlXG4gICAgICogICBpcyBuZWVkZWQuIE9ubHkgcm90YXRpb25zIGhhdmUgb3Bwb3NpdGUgc3ltbWV0cmllcyB3aGlsZVxuICAgICAqICAgcmVmbGVjdGlvbnMgZG9uJ3QuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIG9wcG9zaXRlIHN5bW1ldHJ5IG9mIGByb3RhdGlvbmBcbiAgICAgKi9cbiAgICBpbnY6IChyb3RhdGlvbikgPT5cbiAgICB7XG4gICAgICAgIGlmIChyb3RhdGlvbiAmIDgpLy8gdHJ1ZSBvbmx5IGlmIGJldHdlZW4gOCAmIDE1IChyZWZsZWN0aW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uICYgMTU7Ly8gb3Igcm90YXRpb24gJSAxNlxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgtcm90YXRpb24pICYgNzsvLyBvciAoOCAtIHJvdGF0aW9uKSAlIDhcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29tcG9zZXMgdGhlIHR3byBEOCBvcGVyYXRpb25zLlxuICAgICAqXG4gICAgICogVGFraW5nIGBeYCBhcyByZWZsZWN0aW9uOlxuICAgICAqXG4gICAgICogfCAgICAgICB8IEU9MCB8IFM9MiB8IFc9NCB8IE49NiB8IEVePTggfCBTXj0xMCB8IFdePTEyIHwgTl49MTQgfFxuICAgICAqIHwtLS0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tLXwtLS0tLS0tfC0tLS0tLS18LS0tLS0tLXxcbiAgICAgKiB8IEU9MCAgIHwgRSAgIHwgUyAgIHwgVyAgIHwgTiAgIHwgRV4gICB8IFNeICAgIHwgV14gICAgfCBOXiAgICB8XG4gICAgICogfCBTPTIgICB8IFMgICB8IFcgICB8IE4gICB8IEUgICB8IFNeICAgfCBXXiAgICB8IE5eICAgIHwgRV4gICAgfFxuICAgICAqIHwgVz00ICAgfCBXICAgfCBOICAgfCBFICAgfCBTICAgfCBXXiAgIHwgTl4gICAgfCBFXiAgICB8IFNeICAgIHxcbiAgICAgKiB8IE49NiAgIHwgTiAgIHwgRSAgIHwgUyAgIHwgVyAgIHwgTl4gICB8IEVeICAgIHwgU14gICAgfCBXXiAgICB8XG4gICAgICogfCBFXj04ICB8IEVeICB8IE5eICB8IFdeICB8IFNeICB8IEUgICAgfCBOICAgICB8IFcgICAgIHwgUyAgICAgfFxuICAgICAqIHwgU149MTAgfCBTXiAgfCBFXiAgfCBOXiAgfCBXXiAgfCBTICAgIHwgRSAgICAgfCBOICAgICB8IFcgICAgIHxcbiAgICAgKiB8IFdePTEyIHwgV14gIHwgU14gIHwgRV4gIHwgTl4gIHwgVyAgICB8IFMgICAgIHwgRSAgICAgfCBOICAgICB8XG4gICAgICogfCBOXj0xNCB8IE5eICB8IFdeICB8IFNeICB8IEVeICB8IE4gICAgfCBXICAgICB8IFMgICAgIHwgRSAgICAgfFxuICAgICAqXG4gICAgICogW1RoaXMgaXMgYSBDYXlsZXkgdGFibGVde0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NheWxleV90YWJsZX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvblNlY29uZCAtIFNlY29uZCBvcGVyYXRpb24sIHdoaWNoXG4gICAgICogICBpcyB0aGUgcm93IGluIHRoZSBhYm92ZSBjYXlsZXkgdGFibGUuXG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbkZpcnN0IC0gRmlyc3Qgb3BlcmF0aW9uLCB3aGljaFxuICAgICAqICAgaXMgdGhlIGNvbHVtbiBpbiB0aGUgYWJvdmUgY2F5bGV5IHRhYmxlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IENvbXBvc2VkIG9wZXJhdGlvblxuICAgICAqL1xuICAgIGFkZDogKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSA9PiAoXG4gICAgICAgIHJvdGF0aW9uQ2F5bGV5W3JvdGF0aW9uU2Vjb25kXVtyb3RhdGlvbkZpcnN0XVxuICAgICksXG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlIG9mIGBhZGRgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25TZWNvbmQgLSBTZWNvbmQgb3BlcmF0aW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbkZpcnN0IC0gRmlyc3Qgb3BlcmF0aW9uXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gUmVzdWx0XG4gICAgICovXG4gICAgc3ViOiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpID0+IChcbiAgICAgICAgcm90YXRpb25DYXlsZXlbcm90YXRpb25TZWNvbmRdW0dyb3VwRDguaW52KHJvdGF0aW9uRmlyc3QpXVxuICAgICksXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIDE4MCBkZWdyZWVzIHRvIHJvdGF0aW9uLCB3aGljaCBpcyBhIGNvbW11dGF0aXZlXG4gICAgICogb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gcm90YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJvdGF0ZWQgbnVtYmVyXG4gICAgICovXG4gICAgcm90YXRlMTgwOiAocm90YXRpb24pID0+IHJvdGF0aW9uIF4gNCxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcm90YXRpb24gYW5nbGUgaXMgdmVydGljYWwsIGkuZS4gc291dGhcbiAgICAgKiBvciBub3J0aC4gSXQgZG9lc24ndCB3b3JrIGZvciByZWZsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGRpcmVjdGlvbiBpcyB2ZXJ0aWNhbFxuICAgICAqL1xuICAgIGlzVmVydGljYWw6IChyb3RhdGlvbikgPT4gKHJvdGF0aW9uICYgMykgPT09IDIsIC8vIHJvdGF0aW9uICUgNCA9PT0gMlxuXG4gICAgLyoqXG4gICAgICogQXBwcm94aW1hdGVzIHRoZSB2ZWN0b3IgYFYoZHgsZHkpYCBpbnRvIG9uZSBvZiB0aGVcbiAgICAgKiBlaWdodCBkaXJlY3Rpb25zIHByb3ZpZGVkIGJ5IGBHcm91cEQ4YC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHggLSBYLWNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR5IC0gWS1jb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IEFwcHJveGltYXRpb24gb2YgdGhlIHZlY3RvciBpbnRvXG4gICAgICogIG9uZSBvZiB0aGUgZWlnaHQgc3ltbWV0cmllcy5cbiAgICAgKi9cbiAgICBieURpcmVjdGlvbjogKGR4LCBkeSkgPT5cbiAgICB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeCkgKiAyIDw9IE1hdGguYWJzKGR5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGR5ID49IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguUztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguTjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhkeSkgKiAyIDw9IE1hdGguYWJzKGR4KSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGR4ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5FO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5XO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR5ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGR4ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguU1c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5ORTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBHcm91cEQ4Lk5XO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwcyBzcHJpdGUgdG8gY29tcGVuc2F0ZSB0ZXh0dXJlIHBhY2tlciByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBzcHJpdGUgd29ybGQgbWF0cml4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIFRoZSByb3RhdGlvbiBmYWN0b3IgdG8gdXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICovXG4gICAgbWF0cml4QXBwZW5kUm90YXRpb25JbnY6IChtYXRyaXgsIHJvdGF0aW9uLCB0eCA9IDAsIHR5ID0gMCkgPT5cbiAgICB7XG4gICAgICAgIC8vIFBhY2tlciB1c2VkIFwicm90YXRpb25cIiwgd2UgdXNlIFwiaW52KHJvdGF0aW9uKVwiXG4gICAgICAgIGNvbnN0IG1hdCA9IHJvdGF0aW9uTWF0cmljZXNbR3JvdXBEOC5pbnYocm90YXRpb24pXTtcblxuICAgICAgICBtYXQudHggPSB0eDtcbiAgICAgICAgbWF0LnR5ID0gdHk7XG4gICAgICAgIG1hdHJpeC5hcHBlbmQobWF0KTtcbiAgICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgR3JvdXBEODtcbiIsImltcG9ydCBPYnNlcnZhYmxlUG9pbnQgZnJvbSAnLi9PYnNlcnZhYmxlUG9pbnQnO1xuaW1wb3J0IE1hdHJpeCBmcm9tICcuL01hdHJpeCc7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoYXQgdGFrZXMgY2FyZSBhYm91dCBpdHMgdmVyc2lvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zZm9ybVxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2NhbFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGUgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDEsIDEpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBpdm90ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2tldyA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy51cGRhdGVTa2V3LCB0aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIGFtb3VudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWCBheGlzLFxuICAgICAgICAgKiB0aGUgZmlyc3QgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N4ID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFktY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3ggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWC1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFkgYXhpcyxcbiAgICAgICAgICogdGhlIHNlY29uZCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3kgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWS1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFkgYXhpcyxcbiAgICAgICAgICogdGhlIHNlY29uZCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3kgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIGxvY2FsIHRyYW5zZm9ybS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2NhbElEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1cbiAgICAgICAgICogdXNlZCB0byBjYWxjdWxhdGUgdGhlIGN1cnJlbnQgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSB3b3JsZCB0cmFuc2Zvcm0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd29ybGRJRCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgcGFyZW50J3Mgd29ybGQgdHJhbnNmb3JtXG4gICAgICAgICAqIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSB2YWx1ZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uQ2hhbmdlKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgc2tldyBvciB0aGUgcm90YXRpb24gY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB1cGRhdGVTa2V3KClcbiAgICB7XG4gICAgICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgICAgICB0aGlzLl9zeCA9IE1hdGguc2luKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICAgICAgdGhpcy5fY3kgPSAtTWF0aC5zaW4odGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcuX3gpOyAvLyBjb3MsIGFkZGVkIFBJLzJcbiAgICAgICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIHNpbiwgYWRkZWQgUEkvMlxuXG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICovXG4gICAgdXBkYXRlTG9jYWxUcmFuc2Zvcm0oKVxuICAgIHtcbiAgICAgICAgY29uc3QgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUuX3k7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLl95O1xuXG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24uX3ggLSAoKHRoaXMucGl2b3QuX3ggKiBsdC5hKSArICh0aGlzLnBpdm90Ll95ICogbHQuYykpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLl95IC0gKCh0aGlzLnBpdm90Ll94ICogbHQuYikgKyAodGhpcy5waXZvdC5feSAqIGx0LmQpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcblxuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBhbmQgdGhlIHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHBhcmVudCB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICB1cGRhdGVUcmFuc2Zvcm0ocGFyZW50VHJhbnNmb3JtKVxuICAgIHtcbiAgICAgICAgY29uc3QgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUuX3k7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLl95O1xuXG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24uX3ggLSAoKHRoaXMucGl2b3QuX3ggKiBsdC5hKSArICh0aGlzLnBpdm90Ll95ICogbHQuYykpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLl95IC0gKCh0aGlzLnBpdm90Ll94ICogbHQuYikgKyAodGhpcy5waXZvdC5feSAqIGx0LmQpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcblxuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcGFyZW50SUQgIT09IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgICAgICAgICAgY29uc3QgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICBjb25zdCB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIHd0LmEgPSAobHQuYSAqIHB0LmEpICsgKGx0LmIgKiBwdC5jKTtcbiAgICAgICAgICAgIHd0LmIgPSAobHQuYSAqIHB0LmIpICsgKGx0LmIgKiBwdC5kKTtcbiAgICAgICAgICAgIHd0LmMgPSAobHQuYyAqIHB0LmEpICsgKGx0LmQgKiBwdC5jKTtcbiAgICAgICAgICAgIHd0LmQgPSAobHQuYyAqIHB0LmIpICsgKGx0LmQgKiBwdC5kKTtcbiAgICAgICAgICAgIHd0LnR4ID0gKGx0LnR4ICogcHQuYSkgKyAobHQudHkgKiBwdC5jKSArIHB0LnR4O1xuICAgICAgICAgICAgd3QudHkgPSAobHQudHggKiBwdC5iKSArIChsdC50eSAqIHB0LmQpICsgcHQudHk7XG5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGlkIG9mIHRoZSB0cmFuc2Zvcm0uLlxuICAgICAgICAgICAgdGhpcy5fd29ybGRJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyBhIG1hdHJpeCBhbmQgc2V0cyB0aGUgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGJhc2VkIG9uIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBkZWNvbXBvc2VcbiAgICAgKi9cbiAgICBzZXRGcm9tTWF0cml4KG1hdHJpeClcbiAgICB7XG4gICAgICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByb3RhdGlvbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgfVxuXG4gICAgc2V0IHJvdGF0aW9uKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yb3RhdGlvbiAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNrZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIGRlZmF1bHQgKGlkZW50aXR5KSB0cmFuc2Zvcm1cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICovXG5UcmFuc2Zvcm0uSURFTlRJVFkgPSBuZXcgVHJhbnNmb3JtKCk7XG4iLCJpbXBvcnQgeyBTSEFQRVMgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogU2l6ZSBvYmplY3QsIGNvbnRhaW5zIHdpZHRoIGFuZCBoZWlnaHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSVNpemVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIGNvbXBvbmVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBjb21wb25lbnRcbiAqL1xuXG4vKipcbiAqIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSBkZWZpbmVkIGJ5IGl0cyBwb3NpdGlvbiwgYXMgaW5kaWNhdGVkIGJ5IGl0cyB0b3AtbGVmdCBjb3JuZXJcbiAqIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjdGFuZ2xlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0gTnVtYmVyKHgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IE51bWJlcih5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IE51bWJlcihoZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJFQ1RcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJFQ1Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbGVmdCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy54O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHJpZ2h0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSB0b3AgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHRvcCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy55O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgYm90dG9tKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLmhlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGNvbnN0YW50IGVtcHR5IHJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IEVNUFRZKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgYW5vdGhlciByZWN0YW5nbGUgdG8gdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgY29weUZyb20ocmVjdGFuZ2xlKVxuICAgIHtcbiAgICAgICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgICAgICB0aGlzLndpZHRoID0gcmVjdGFuZ2xlLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoaXMgcmVjdGFuZ2xlIHRvIGFub3RoZXIgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGdpdmVuIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBjb3B5VG8ocmVjdGFuZ2xlKVxuICAgIHtcbiAgICAgICAgcmVjdGFuZ2xlLnggPSB0aGlzLng7XG4gICAgICAgIHJlY3RhbmdsZS55ID0gdGhpcy55O1xuICAgICAgICByZWN0YW5nbGUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICByZWN0YW5nbGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHJlY3RhbmdsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cbiAgICBjb250YWlucyh4LCB5KVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdYIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdZIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqL1xuICAgIHBhZChwYWRkaW5nWCwgcGFkZGluZ1kpXG4gICAge1xuICAgICAgICBwYWRkaW5nWCA9IHBhZGRpbmdYIHx8IDA7XG4gICAgICAgIHBhZGRpbmdZID0gcGFkZGluZ1kgfHwgKChwYWRkaW5nWSAhPT0gMCkgPyBwYWRkaW5nWCA6IDApO1xuXG4gICAgICAgIHRoaXMueCAtPSBwYWRkaW5nWDtcbiAgICAgICAgdGhpcy55IC09IHBhZGRpbmdZO1xuXG4gICAgICAgIHRoaXMud2lkdGggKz0gcGFkZGluZ1ggKiAyO1xuICAgICAgICB0aGlzLmhlaWdodCArPSBwYWRkaW5nWSAqIDI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRml0cyB0aGlzIHJlY3RhbmdsZSBhcm91bmQgdGhlIHBhc3NlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGZpdC5cbiAgICAgKi9cbiAgICBmaXQocmVjdGFuZ2xlKVxuICAgIHtcbiAgICAgICAgY29uc3QgeDEgPSBNYXRoLm1heCh0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgY29uc3QgeDIgPSBNYXRoLm1pbih0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIGNvbnN0IHkxID0gTWF0aC5tYXgodGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIGNvbnN0IHkyID0gTWF0aC5taW4odGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLm1heCh4MiAtIHgxLCAwKTtcbiAgICAgICAgdGhpcy55ID0geTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgoeTIgLSB5MSwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5sYXJnZXMgcmVjdGFuZ2xlIHRoYXQgd2F5IGl0cyBjb3JuZXJzIGxpZSBvbiBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gcmVzb2x1dGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZXBzPTAuMDAxXSBwcmVjaXNpb25cbiAgICAgKi9cbiAgICBjZWlsKHJlc29sdXRpb24gPSAxLCBlcHMgPSAwLjAwMSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHgyID0gTWF0aC5jZWlsKCh0aGlzLnggKyB0aGlzLndpZHRoIC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgY29uc3QgeTIgPSBNYXRoLmNlaWwoKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLnggPSBNYXRoLmZsb29yKCh0aGlzLnggKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLmZsb29yKCh0aGlzLnkgKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHRoaXMueDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHRoaXMueTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyB0aGlzIHJlY3RhbmdsZSB0byBpbmNsdWRlIHRoZSBwYXNzZWQgcmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBpbmNsdWRlLlxuICAgICAqL1xuICAgIGVubGFyZ2UocmVjdGFuZ2xlKVxuICAgIHtcbiAgICAgICAgY29uc3QgeDEgPSBNYXRoLm1pbih0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgY29uc3QgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIGNvbnN0IHkxID0gTWF0aC5taW4odGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIGNvbnN0IHkyID0gTWF0aC5tYXgodGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHgxO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHkxO1xuICAgIH1cbn1cbiIsImltcG9ydCBSZWN0YW5nbGUgZnJvbSAnLi9SZWN0YW5nbGUnO1xuaW1wb3J0IHsgU0hBUEVTIH0gZnJvbSAnLi4vY29uc3QnO1xuXG4vKipcbiAqIFRoZSBDaXJjbGUgb2JqZWN0IGlzIHVzZWQgdG8gaGVscCBkcmF3IGdyYXBoaWNzIGFuZCBjYW4gYWxzbyBiZSB1c2VkIHRvIHNwZWNpZnkgYSBoaXQgYXJlYSBmb3IgZGlzcGxheU9iamVjdHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaXJjbGVcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0wXSAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgcmFkaXVzID0gMClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5DSVJDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5DSVJDO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIENpcmNsZSBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5DaXJjbGV9IGEgY29weSBvZiB0aGUgQ2lyY2xlXG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGNpcmNsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBDaXJjbGVcbiAgICAgKi9cbiAgICBjb250YWlucyh4LCB5KVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmFkaXVzIDw9IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHIyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbiAgICAgICAgbGV0IGR4ID0gKHRoaXMueCAtIHgpO1xuICAgICAgICBsZXQgZHkgPSAodGhpcy55IC0geSk7XG5cbiAgICAgICAgZHggKj0gZHg7XG4gICAgICAgIGR5ICo9IGR5O1xuXG4gICAgICAgIHJldHVybiAoZHggKyBkeSA8PSByMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgY2lyY2xlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICpcbiAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICAqL1xuICAgIGdldEJvdW5kcygpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUmVjdGFuZ2xlIGZyb20gJy4vUmVjdGFuZ2xlJztcbmltcG9ydCB7IFNIQVBFUyB9IGZyb20gJy4uL2NvbnN0JztcblxuLyoqXG4gKiBUaGUgRWxsaXBzZSBvYmplY3QgaXMgdXNlZCB0byBoZWxwIGRyYXcgZ3JhcGhpY3MgYW5kIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVsbGlwc2VcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGFsZldpZHRoPTBdIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoYWxmSGVpZ2h0PTBdIC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoaXMgZWxsaXBzZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgaGFsZldpZHRoID0gMCwgaGFsZkhlaWdodCA9IDApXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IGhhbGZXaWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhhbGZIZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuRUxJUFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuRUxJUDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBFbGxpcHNlIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkVsbGlwc2V9IGEgY29weSBvZiB0aGUgZWxsaXBzZVxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkcyBhcmUgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqL1xuICAgIGNvbnRhaW5zKHgsIHkpXG4gICAge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vcm1hbGl6ZSB0aGUgY29vcmRzIHRvIGFuIGVsbGlwc2Ugd2l0aCBjZW50ZXIgMCwwXG4gICAgICAgIGxldCBub3JteCA9ICgoeCAtIHRoaXMueCkgLyB0aGlzLndpZHRoKTtcbiAgICAgICAgbGV0IG5vcm15ID0gKCh5IC0gdGhpcy55KSAvIHRoaXMuaGVpZ2h0KTtcblxuICAgICAgICBub3JteCAqPSBub3JteDtcbiAgICAgICAgbm9ybXkgKj0gbm9ybXk7XG5cbiAgICAgICAgcmV0dXJuIChub3JteCArIG5vcm15IDw9IDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBlbGxpcHNlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSBmcmFtaW5nIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIGdldEJvdW5kcygpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cbn1cbiIsImltcG9ydCBQb2ludCBmcm9tICcuLi9Qb2ludCc7XG5pbXBvcnQgeyBTSEFQRVMgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogQSBjbGFzcyB0byBkZWZpbmUgYSBzaGFwZSB2aWEgdXNlciBkZWZpbmVkIGNvLW9yaW5hdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9seWdvblxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfG51bWJlcltdfSBwb2ludHMgLSBUaGlzIGNhbiBiZSBhbiBhcnJheSBvZiBQb2ludHNcbiAgICAgKiAgdGhhdCBmb3JtIHRoZSBwb2x5Z29uLCBhIGZsYXQgYXJyYXkgb2YgbnVtYmVycyB0aGF0IHdpbGwgYmUgaW50ZXJwcmV0ZWQgYXMgW3gseSwgeCx5LCAuLi5dLCBvclxuICAgICAqICB0aGUgYXJndW1lbnRzIHBhc3NlZCBjYW4gYmUgYWxsIHRoZSBwb2ludHMgb2YgdGhlIHBvbHlnb24gZS5nLlxuICAgICAqICBgbmV3IFBJWEkuUG9seWdvbihuZXcgUElYSS5Qb2ludCgpLCBuZXcgUElYSS5Qb2ludCgpLCAuLi4pYCwgb3IgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGZsYXRcbiAgICAgKiAgeCx5IHZhbHVlcyBlLmcuIGBuZXcgUG9seWdvbih4LHksIHgseSwgeCx5LCAuLi4pYCB3aGVyZSBgeGAgYW5kIGB5YCBhcmUgTnVtYmVycy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciguLi5wb2ludHMpXG4gICAge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwb2ludHNbMF0pKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHNbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGFycmF5IG9mIHBvaW50cywgY29udmVydCBpdCB0byBhIGZsYXQgYXJyYXkgb2YgbnVtYmVyc1xuICAgICAgICBpZiAocG9pbnRzWzBdIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlsID0gcG9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcC5wdXNoKHBvaW50c1tpXS54LCBwb2ludHNbaV0ueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvaW50cyA9IHA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdGhlIHBvaW50cyBvZiB0aGlzIHBvbHlnb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5QT0xZXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5QT0xZO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgZmFsc2VgIGFmdGVyIG1vdmVUbywgYHRydWVgIGFmdGVyIGBjbG9zZVBhdGhgLiBJbiBhbGwgb3RoZXIgY2FzZXMgaXQgaXMgYHRydWVgLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsb3NlU3Ryb2tlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvbHlnb259IGEgY29weSBvZiB0aGUgcG9seWdvblxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvbHlnb24gPSBuZXcgUG9seWdvbih0aGlzLnBvaW50cy5zbGljZSgpKTtcblxuICAgICAgICBwb2x5Z29uLmNsb3NlU3Ryb2tlID0gdGhpcy5jbG9zZVN0cm9rZTtcblxuICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqL1xuICAgIGNvbnRhaW5zKHgsIHkpXG4gICAge1xuICAgICAgICBsZXQgaW5zaWRlID0gZmFsc2U7XG5cbiAgICAgICAgLy8gdXNlIHNvbWUgcmF5Y2FzdGluZyB0byB0ZXN0IGhpdHNcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N1YnN0YWNrL3BvaW50LWluLXBvbHlnb24vYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IGxlbmd0aCAtIDE7IGkgPCBsZW5ndGg7IGogPSBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHhpID0gdGhpcy5wb2ludHNbaSAqIDJdO1xuICAgICAgICAgICAgY29uc3QgeWkgPSB0aGlzLnBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICBjb25zdCB4aiA9IHRoaXMucG9pbnRzW2ogKiAyXTtcbiAgICAgICAgICAgIGNvbnN0IHlqID0gdGhpcy5wb2ludHNbKGogKiAyKSArIDFdO1xuICAgICAgICAgICAgY29uc3QgaW50ZXJzZWN0ID0gKCh5aSA+IHkpICE9PSAoeWogPiB5KSkgJiYgKHggPCAoKHhqIC0geGkpICogKCh5IC0geWkpIC8gKHlqIC0geWkpKSkgKyB4aSk7XG5cbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnNpZGU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU0hBUEVTIH0gZnJvbSAnLi4vY29uc3QnO1xuXG4vKipcbiAqIFRoZSBSb3VuZGVkIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSB0aGF0IGhhcyBuaWNlIHJvdW5kZWQgY29ybmVycywgYXMgaW5kaWNhdGVkIGJ5IGl0c1xuICogdG9wLWxlZnQgY29ybmVyIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0IGFuZCBpdHMgcmFkaXVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm91bmRlZFJlY3RhbmdsZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzPTIwXSAtIENvbnRyb2xzIHRoZSByYWRpdXMgb2YgdGhlIHJvdW5kZWQgY29ybmVyc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCByYWRpdXMgPSAyMClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMjBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJSRUNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJSRUM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUm91bmRlZFJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUm91bmRlZFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucmFkaXVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICovXG4gICAgY29udGFpbnMoeCwgeSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICgoeSA+PSB0aGlzLnkgKyB0aGlzLnJhZGl1cyAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpXG4gICAgICAgICAgICAgICAgfHwgKHggPj0gdGhpcy54ICsgdGhpcy5yYWRpdXMgJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGxldCBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhZGl1czIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKipcbiAqIFNldHMgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBjb250YWluZXIgcHJvcGVydHkgJ3NvcnRhYmxlQ2hpbGRyZW4nLlxuICogSWYgc2V0IHRvIHRydWUsIHRoZSBjb250YWluZXIgd2lsbCBzb3J0IGl0cyBjaGlsZHJlbiBieSB6SW5kZXggdmFsdWVcbiAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gKlxuICogVGhpcyBhY3R1YWxseSBjaGFuZ2VzIHRoZSBvcmRlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXksIHNvIHNob3VsZCBiZSB0cmVhdGVkXG4gKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICpcbiAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNPUlRBQkxFX0NISUxEUkVOXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5zZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTiA9IGZhbHNlO1xuXG5leHBvcnQgeyBzZXR0aW5ncyB9O1xuIiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogJ0J1aWxkZXInIHBhdHRlcm4gZm9yIGJvdW5kcyByZWN0YW5nbGVzLlxuICpcbiAqIFRoaXMgY291bGQgYmUgY2FsbGVkIGFuIEF4aXMtQWxpZ25lZCBCb3VuZGluZyBCb3guXG4gKiBJdCBpcyBub3QgYW4gYWN0dWFsIHNoYXBlLiBJdCBpcyBhIG11dGFibGUgdGhpbmc7IG5vICdFTVBUWScgb3IgdGhvc2Uga2luZCBvZiBwcm9ibGVtcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvdW5kc1xue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG5cbiAgICAgICAgdGhpcy5yZWN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYm91bmRzIGFyZSBlbXB0eS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgZW1wdHkuXG4gICAgICovXG4gICAgaXNFbXB0eSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5YID4gdGhpcy5tYXhYIHx8IHRoaXMubWluWSA+IHRoaXMubWF4WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGJvdW5kcyBhbmQgcmVzZXRzLlxuICAgICAqXG4gICAgICovXG4gICAgY2xlYXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVJRCsrO1xuXG4gICAgICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICAgICAqIEl0IGlzIG5vdCBndWFyYW50ZWVkIHRoYXQgaXQgd2lsbCByZXR1cm4gdGVtcFJlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX0gQSByZWN0YW5nbGUgb2YgdGhlIGJvdW5kc1xuICAgICAqL1xuICAgIGdldFJlY3RhbmdsZShyZWN0KVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBSZWN0YW5nbGUuRU1QVFk7XG4gICAgICAgIH1cblxuICAgICAgICByZWN0ID0gcmVjdCB8fCBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgICAgIHJlY3QueCA9IHRoaXMubWluWDtcbiAgICAgICAgcmVjdC55ID0gdGhpcy5taW5ZO1xuICAgICAgICByZWN0LndpZHRoID0gdGhpcy5tYXhYIC0gdGhpcy5taW5YO1xuICAgICAgICByZWN0LmhlaWdodCA9IHRoaXMubWF4WSAtIHRoaXMubWluWTtcblxuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBpbmxpbmVkIHdoZW4gaXRzIHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIFRoZSBwb2ludCB0byBhZGQuXG4gICAgICovXG4gICAgYWRkUG9pbnQocG9pbnQpXG4gICAge1xuICAgICAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHBvaW50LngpO1xuICAgICAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHBvaW50LngpO1xuICAgICAgICB0aGlzLm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIHBvaW50LnkpO1xuICAgICAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHBvaW50LnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBxdWFkLCBub3QgdHJhbnNmb3JtZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gICAgICovXG4gICAgYWRkUXVhZCh2ZXJ0aWNlcylcbiAgICB7XG4gICAgICAgIGxldCBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICBsZXQgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgbGV0IG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIGxldCBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIGxldCB4ID0gdmVydGljZXNbMF07XG4gICAgICAgIGxldCB5ID0gdmVydGljZXNbMV07XG5cbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IHZlcnRpY2VzWzJdO1xuICAgICAgICB5ID0gdmVydGljZXNbM107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSB2ZXJ0aWNlc1s0XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzVdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gdmVydGljZXNbNl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1s3XTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHNwcml0ZSBmcmFtZSwgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgwIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVE9ET1xuICAgICAqL1xuICAgIGFkZEZyYW1lKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSB0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGEgPSBtYXRyaXguYTtcbiAgICAgICAgY29uc3QgYiA9IG1hdHJpeC5iO1xuICAgICAgICBjb25zdCBjID0gbWF0cml4LmM7XG4gICAgICAgIGNvbnN0IGQgPSBtYXRyaXguZDtcbiAgICAgICAgY29uc3QgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIGNvbnN0IHR5ID0gbWF0cml4LnR5O1xuXG4gICAgICAgIGxldCBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICBsZXQgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgbGV0IG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIGxldCBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIGxldCB4ID0gKGEgKiB4MCkgKyAoYyAqIHkwKSArIHR4O1xuICAgICAgICBsZXQgeSA9IChiICogeDApICsgKGQgKiB5MCkgKyB0eTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkwKSArIHR4O1xuICAgICAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkwKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gKGEgKiB4MCkgKyAoYyAqIHkxKSArIHR4O1xuICAgICAgICB5ID0gKGIgKiB4MCkgKyAoZCAqIHkxKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkxKSArIHR4O1xuICAgICAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkxKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgc2NyZWVuIHZlcnRpY2VzIGZyb20gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0ZXhEYXRhIC0gY2FsY3VsYXRlZCB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICAgICAqL1xuICAgIGFkZFZlcnRleERhdGEodmVydGV4RGF0YSwgYmVnaW5PZmZzZXQsIGVuZE9mZnNldClcbiAgICB7XG4gICAgICAgIGxldCBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICBsZXQgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgbGV0IG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIGxldCBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4ID0gdmVydGV4RGF0YVtpXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB2ZXJ0ZXhEYXRhW2kgKyAxXTtcblxuICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhbiBhcnJheSBvZiBtZXNoIHZlcnRpY2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBtZXNoIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIG1lc2ggY29vcmRpbmF0ZXMgaW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gZW5kIG9mZnNldCwgZXhjbHVkZWRcbiAgICAgKi9cbiAgICBhZGRWZXJ0aWNlcyh0cmFuc2Zvcm0sIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gdHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICBjb25zdCBhID0gbWF0cml4LmE7XG4gICAgICAgIGNvbnN0IGIgPSBtYXRyaXguYjtcbiAgICAgICAgY29uc3QgYyA9IG1hdHJpeC5jO1xuICAgICAgICBjb25zdCBkID0gbWF0cml4LmQ7XG4gICAgICAgIGNvbnN0IHR4ID0gbWF0cml4LnR4O1xuICAgICAgICBjb25zdCB0eSA9IG1hdHJpeC50eTtcblxuICAgICAgICBsZXQgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgbGV0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIGxldCBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICBsZXQgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICBmb3IgKGxldCBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcmF3WCA9IHZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmF3WSA9IHZlcnRpY2VzW2kgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHggPSAoYSAqIHJhd1gpICsgKGMgKiByYXdZKSArIHR4O1xuICAgICAgICAgICAgY29uc3QgeSA9IChkICogcmF3WSkgKyAoYiAqIHJhd1gpICsgdHk7XG5cbiAgICAgICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqL1xuICAgIGFkZEJvdW5kcyhib3VuZHMpXG4gICAge1xuICAgICAgICBjb25zdCBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICBjb25zdCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICBjb25zdCBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICBjb25zdCBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIHRoaXMubWluWCA9IGJvdW5kcy5taW5YIDwgbWluWCA/IGJvdW5kcy5taW5YIDogbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gYm91bmRzLm1pblkgPCBtaW5ZID8gYm91bmRzLm1pblkgOiBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBib3VuZHMubWF4WCA+IG1heFggPyBib3VuZHMubWF4WCA6IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IGJvdW5kcy5tYXhZID4gbWF4WSA/IGJvdW5kcy5tYXhZIDogbWF4WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggQm91bmRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gbWFzayAtIFRPRE9cbiAgICAgKi9cbiAgICBhZGRCb3VuZHNNYXNrKGJvdW5kcywgbWFzaylcbiAgICB7XG4gICAgICAgIGNvbnN0IF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICAgICAgY29uc3QgX21pblkgPSBib3VuZHMubWluWSA+IG1hc2subWluWSA/IGJvdW5kcy5taW5ZIDogbWFzay5taW5ZO1xuICAgICAgICBjb25zdCBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgbWFzay5tYXhYID8gYm91bmRzLm1heFggOiBtYXNrLm1heFg7XG4gICAgICAgIGNvbnN0IF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcblxuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgICAgICBjb25zdCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgY29uc3QgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIGNvbnN0IG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBhcmVhIC0gVE9ET1xuICAgICAqL1xuICAgIGFkZEJvdW5kc0FyZWEoYm91bmRzLCBhcmVhKVxuICAgIHtcbiAgICAgICAgY29uc3QgX21pblggPSBib3VuZHMubWluWCA+IGFyZWEueCA/IGJvdW5kcy5taW5YIDogYXJlYS54O1xuICAgICAgICBjb25zdCBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgICAgIGNvbnN0IF9tYXhYID0gYm91bmRzLm1heFggPCBhcmVhLnggKyBhcmVhLndpZHRoID8gYm91bmRzLm1heFggOiAoYXJlYS54ICsgYXJlYS53aWR0aCk7XG4gICAgICAgIGNvbnN0IF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogKGFyZWEueSArIGFyZWEuaGVpZ2h0KTtcblxuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgICAgICBjb25zdCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgY29uc3QgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIGNvbnN0IG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFJlY3RhbmdsZSwgVHJhbnNmb3JtLCBSQURfVE9fREVHLCBERUdfVE9fUkFEIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgQm91bmRzIGZyb20gJy4vQm91bmRzJztcbi8vIF90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBEaXNwbGF5T2JqZWN0KCk7XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIG9uIHRoZSBzY3JlZW4uXG4gKlxuICogVGhpcyBpcyBhbiBhYnN0cmFjdCBjbGFzcyBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIG9uIGl0cyBvd247IHJhdGhlciBpdCBzaG91bGQgYmUgZXh0ZW5kZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlzcGxheU9iamVjdCBleHRlbmRzIEV2ZW50RW1pdHRlclxue1xuICAgIC8qKlxuICAgICAqIE1peGVzIGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZnJvbSBhIHNvdXJjZSBvYmplY3QgdG8gRGlzcGxheU9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvZiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHRvIG1peCBpbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgbWl4aW4oc291cmNlKVxuICAgIHtcbiAgICAgICAgLy8gaW4gRVM4L0VTMjAxNywgdGhpcyB3b3VsZCBiZSByZWFsbHkgZWFzeTpcbiAgICAgICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcblxuICAgICAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHByb3BlcnRpZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBrZXlzW2ldO1xuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIHByb3BlcnR5IHVzaW5nIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIC0gdGhpcyB3b3JrcyBmb3IgYWNjZXNzb3JzIGFuZCBub3JtYWwgdmFsdWUgcHJvcGVydGllc1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgICAgICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5TmFtZSxcbiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byBjcmVhdGUgVHJhbnNmb3JtIGZyb20gZmFjdG9yeVxuICAgICAgICAvKipcbiAgICAgICAgICogV29ybGQgdHJhbnNmb3JtIGFuZCBsb2NhbCB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqIFRoaXMgd2lsbCBiZWNvbWUgcmVhZC1vbmx5IGxhdGVyLCBwbGVhc2UgZG8gbm90IGFzc2lnbiBhbnl0aGluZyB0aGVyZSB1bmxlc3MgeW91IGtub3cgd2hhdCBhcmUgeW91IGRvaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BhY2l0eSBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZpc2liaWxpdHkgb2YgdGhlIG9iamVjdC4gSWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biwgYW5kXG4gICAgICAgICAqIHRoZSB1cGRhdGVUcmFuc2Zvcm0gZnVuY3Rpb24gd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG9yIGNhbGwgdXBkYXRlVHJhbnNmb3JtIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuIHRoaXMgb2JqZWN0IGJlIHJlbmRlcmVkLCBpZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduIGJ1dCB0aGUgdXBkYXRlVHJhbnNmb3JtXG4gICAgICAgICAqIG1ldGhvZHMgd2lsbCBzdGlsbCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmFibGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyIHRoYXQgY29udGFpbnMgdGhpcyBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbXVsdGlwbGllZCBhbHBoYSBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoaWNoIGluZGV4IGluIHRoZSBjaGlsZHJlbiBhcnJheSB0aGUgZGlzcGxheSBjb21wb25lbnQgd2FzIGJlZm9yZSB0aGUgcHJldmlvdXMgekluZGV4IHNvcnQuXG4gICAgICAgICAqIFVzZWQgYnkgY29udGFpbmVycyB0byBoZWxwIHNvcnQgb2JqZWN0cyB3aXRoIHRoZSBzYW1lIHpJbmRleCwgYnkgdXNpbmcgcHJldmlvdXMgYXJyYXkgaW5kZXggYXMgdGhlIGRlY2lkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGFzdFNvcnRlZEluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHpJbmRleCBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogQSBoaWdoZXIgdmFsdWUgd2lsbCBtZWFuIGl0IHdpbGwgYmUgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGRpc3BsYXlPYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fekluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFyZWEgdGhlIGZpbHRlciBpcyBhcHBsaWVkIHRvLiBUaGlzIGlzIHVzZWQgYXMgbW9yZSBvZiBhbiBvcHRpbWl6YXRpb25cbiAgICAgICAgICogcmF0aGVyIHRoYW4gZmlndXJpbmcgb3V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGVhY2ggZnJhbWUgeW91IGNhbiBzZXQgdGhpcyByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEFsc28gd29ya3MgYXMgYW4gaW50ZXJhY3Rpb24gbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7P1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgZmlsdGVycyBmb3IgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqICogSU1QT1JUQU5UOiBUaGlzIGlzIGEgV2ViR0wgb25seSBmZWF0dXJlIGFuZCB3aWxsIGJlIGlnbm9yZWQgYnkgdGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgICAgICogVG8gcmVtb3ZlIGZpbHRlcnMgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvIGAnbnVsbCdgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHs/UElYSS5GaWx0ZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJvdW5kcyBvYmplY3QsIHRoaXMgaXMgdXNlZCB0byBjYWxjdWxhdGUgYW5kIHN0b3JlIHRoZSBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEID0gMDtcbiAgICAgICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gLTE7XG4gICAgICAgIHRoaXMuX2JvdW5kc1JlY3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3JpZ2luYWwsIGNhY2hlZCBtYXNrIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N8UElYSS5TcHJpdGV8bnVsbH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2FkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgYWRkZWQgdG8uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyByZW1vdmVkIGZyb20gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmVtb3ZlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHJlbW92ZWQgZnJvbS5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVzZWQgdG8gZmFzdCBjaGVjayBpZiBhIHNwcml0ZSBpcy4uIGEgc3ByaXRlIVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1Nwcml0ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgZ2V0IF90ZW1wRGlzcGxheU9iamVjdFBhcmVudCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBEaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBUT0RPIC0gT3B0aW1pemF0aW9uIHBhc3MhXG4gICAgICovXG4gICAgdXBkYXRlVHJhbnNmb3JtKClcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAvLyBtdWx0aXBseSB0aGUgYWxwaGFzLi5cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgdXBkYXRlcyB0cmFuc2Zvcm0gb2YgYWxsIG9iamVjdHMgZnJvbSB0aGUgcm9vdCB0byB0aGlzIG9uZVxuICAgICAqIGludGVybmFsIGZ1bmN0aW9uIGZvciB0b0xvY2FsKClcbiAgICAgKi9cbiAgICBfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Ll9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZV0gLSBTZXR0aW5nIHRvIGB0cnVlYCB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAgICAgKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAgICAgKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYS5cbiAgICAgKi9cbiAgICBnZXRCb3VuZHMoc2tpcFVwZGF0ZSwgcmVjdClcbiAgICB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvdW5kc0lEICE9PSB0aGlzLl9sYXN0Qm91bmRzSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Qm91bmRzSUQgPSB0aGlzLl9ib3VuZHNJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVjdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ib3VuZHNSZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgZ2V0TG9jYWxCb3VuZHMocmVjdClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybVJlZiA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICBjb25zdCBwYXJlbnRSZWYgPSB0aGlzLnBhcmVudDtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtO1xuXG4gICAgICAgIGlmICghcmVjdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5nZXRCb3VuZHMoZmFsc2UsIHJlY3QpO1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50UmVmO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVJlZjtcblxuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLklQb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICB0b0dsb2JhbChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgbG90XG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5KHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IFtmcm9tXSAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNhbGN1bGF0ZSB0aGUgZ2xvYmFsIHBvc2l0aW9uIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge1BJWEkuSVBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICovXG4gICAgdG9Mb2NhbChwb3NpdGlvbiwgZnJvbSwgcG9pbnQsIHNraXBVcGRhdGUpXG4gICAge1xuICAgICAgICBpZiAoZnJvbSlcbiAgICAgICAge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBmcm9tLnRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2ltcGx5IGFwcGx5IHRoZSBtYXRyaXguLlxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9zaXRpb24sIHBvaW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlci5cbiAgICAgKi9cbiAgICByZW5kZXIocmVuZGVyZXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIC8vIE9WRVJXUklURTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBDb250YWluZXIgb2YgdGhpcyBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBhZGQgdGhpcyBEaXNwbGF5T2JqZWN0IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ29udGFpbmVyfSBUaGUgQ29udGFpbmVyIHRoYXQgdGhpcyBEaXNwbGF5T2JqZWN0IHdhcyBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBzZXRQYXJlbnQoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci5hZGRDaGlsZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRQYXJlbnQ6IEFyZ3VtZW50IG11c3QgYmUgYSBDb250YWluZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIHNldCB0aGUgcG9zaXRpb24sIHNjYWxlLCBza2V3IGFuZCBwaXZvdCBhdCBvbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVYPTFdIC0gVGhlIFggc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWT0xXSAtIFRoZSBZIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2tld1g9MF0gLSBUaGUgWCBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WT0wXSAtIFRoZSBZIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WD0wXSAtIFRoZSBYIHBpdm90IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwaXZvdFk9MF0gLSBUaGUgWSBwaXZvdCB2YWx1ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBzZXRUcmFuc2Zvcm0oeCA9IDAsIHkgPSAwLCBzY2FsZVggPSAxLCBzY2FsZVkgPSAxLCByb3RhdGlvbiA9IDAsIHNrZXdYID0gMCwgc2tld1kgPSAwLCBwaXZvdFggPSAwLCBwaXZvdFkgPSAwKVxuICAgIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0geDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0geTtcbiAgICAgICAgdGhpcy5zY2FsZS54ID0gIXNjYWxlWCA/IDEgOiBzY2FsZVg7XG4gICAgICAgIHRoaXMuc2NhbGUueSA9ICFzY2FsZVkgPyAxIDogc2NhbGVZO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHRoaXMuc2tldy54ID0gc2tld1g7XG4gICAgICAgIHRoaXMuc2tldy55ID0gc2tld1k7XG4gICAgICAgIHRoaXMucGl2b3QueCA9IHBpdm90WDtcbiAgICAgICAgdGhpcy5waXZvdC55ID0gcGl2b3RZO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJhc2UgZGVzdHJveSBtZXRob2QgZm9yIGdlbmVyaWMgZGlzcGxheSBvYmplY3RzLiBUaGlzIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAqIHJlbW92ZSB0aGUgZGlzcGxheSBvYmplY3QgZnJvbSBpdHMgcGFyZW50IENvbnRhaW5lciBhcyB3ZWxsIGFzIHJlbW92ZVxuICAgICAqIGFsbCBjdXJyZW50IGV2ZW50IGxpc3RlbmVycyBhbmQgaW50ZXJuYWwgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhIERpc3BsYXlPYmplY3RcbiAgICAgKiBhZnRlciBjYWxsaW5nIGBkZXN0cm95KClgLlxuICAgICAqXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VycmVudEJvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX21hc2sgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnhcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgeCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi54O1xuICAgIH1cblxuICAgIHNldCB4KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHkgYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi55XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgICB9XG5cbiAgICBzZXQgeSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiB3b3JsZCAocGFyZW50KSBmYWN0b3JzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHdvcmxkVHJhbnNmb3JtKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIGxvY2FsIGZhY3RvcnM6IHBvc2l0aW9uLCBzY2FsZSwgb3RoZXIgc3R1ZmYuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgbG9jYWxUcmFuc2Zvcm0oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5JUG9pbnR9XG4gICAgICovXG4gICAgZ2V0IHBvc2l0aW9uKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgcG9zaXRpb24odmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklQb2ludH1cbiAgICAgKi9cbiAgICBnZXQgc2NhbGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNjYWxlO1xuICAgIH1cblxuICAgIHNldCBzY2FsZSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5zY2FsZS5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmQuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5JUG9pbnR9XG4gICAgICovXG4gICAgZ2V0IHBpdm90KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdDtcbiAgICB9XG5cbiAgICBzZXQgcGl2b3QodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGl2b3QuY29weUZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBza2V3IGZhY3RvciBmb3IgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIGdldCBza2V3KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5za2V3O1xuICAgIH1cblxuICAgIHNldCBza2V3KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnNrZXcuY29weUZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByb3RhdGlvbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucm90YXRpb247XG4gICAgfVxuXG4gICAgc2V0IHJvdGF0aW9uKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFuZ2xlIG9mIHRoZSBvYmplY3QgaW4gZGVncmVlcy5cbiAgICAgKiAncm90YXRpb24nIGFuZCAnYW5nbGUnIGhhdmUgdGhlIHNhbWUgZWZmZWN0IG9uIGEgZGlzcGxheSBvYmplY3Q7IHJvdGF0aW9uIGlzIGluIHJhZGlhbnMsIGFuZ2xlIGlzIGluIGRlZ3JlZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGFuZ2xlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiAqIFJBRF9UT19ERUc7XG4gICAgfVxuXG4gICAgc2V0IGFuZ2xlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWUgKiBERUdfVE9fUkFEO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICogSWYgYSBjb250YWluZXIgaGFzIHRoZSBzb3J0YWJsZUNoaWxkcmVuIHByb3BlcnR5IHNldCB0byB0cnVlLCBjaGlsZHJlbiB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICAgKiBzb3J0ZWQgYnkgekluZGV4IHZhbHVlOyBhIGhpZ2hlciB2YWx1ZSB3aWxsIG1lYW4gaXQgd2lsbCBiZSBtb3ZlZCB0b3dhcmRzIHRoZSBlbmQgb2YgdGhlIGFycmF5LFxuICAgICAqIGFuZCB0aHVzIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5T2JqZWN0cyB3aXRoaW4gdGhlIHNhbWUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB6SW5kZXgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3pJbmRleDtcbiAgICB9XG5cbiAgICBzZXQgekluZGV4KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3pJbmRleCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG9iamVjdCBpcyBnbG9iYWxseSB2aXNpYmxlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgd29ybGRWaXNpYmxlKClcbiAgICB7XG4gICAgICAgIGxldCBpdGVtID0gdGhpcztcblxuICAgICAgICBkb1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0udmlzaWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAoaXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1hc2sgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LiBBIG1hc2sgaXMgYW4gb2JqZWN0IHRoYXQgbGltaXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFuXG4gICAgICogb2JqZWN0IHRvIHRoZSBzaGFwZSBvZiB0aGUgbWFzayBhcHBsaWVkIHRvIGl0LiBJbiBQaXhpSlMgYSByZWd1bGFyIG1hc2sgbXVzdCBiZSBhXG4gICAgICoge0BsaW5rIFBJWEkuR3JhcGhpY3N9IG9yIGEge0BsaW5rIFBJWEkuU3ByaXRlfSBvYmplY3QuIFRoaXMgYWxsb3dzIGZvciBtdWNoIGZhc3RlciBtYXNraW5nIGluIGNhbnZhcyBhcyBpdFxuICAgICAqIHV0aWxpdGllcyBzaGFwZSBjbGlwcGluZy4gVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gYG51bGxgLlxuICAgICAqXG4gICAgICogRm9yIHNwcml0ZSBtYXNrIGJvdGggYWxwaGEgYW5kIHJlZCBjaGFubmVsIGFyZSB1c2VkLiBCbGFjayBtYXNrIGlzIHRoZSBzYW1lIGFzIHRyYW5zcGFyZW50IG1hc2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICogZ3JhcGhpY3MuYmVnaW5GaWxsKDB4RkYzMzAwKTtcbiAgICAgKiBncmFwaGljcy5kcmF3UmVjdCg1MCwgMjUwLCAxMDAsIDEwMCk7XG4gICAgICogZ3JhcGhpY3MuZW5kRmlsbCgpO1xuICAgICAqXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5tYXNrID0gZ3JhcGhpY3M7XG4gICAgICogQHRvZG8gQXQgdGhlIG1vbWVudCwgUElYSS5DYW52YXNSZW5kZXJlciBkb2Vzbid0IHN1cHBvcnQgUElYSS5TcHJpdGUgYXMgbWFzay5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N8UElYSS5TcHJpdGV8bnVsbH1cbiAgICAgKi9cbiAgICBnZXQgbWFzaygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFzaztcbiAgICB9XG5cbiAgICBzZXQgbWFzayh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbWFzay5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX21hc2suaXNNYXNrID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYXNrID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX21hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX21hc2sucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbWFzay5pc01hc2sgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIERpc3BsYXlPYmplY3QgZGVmYXVsdCB1cGRhdGVUcmFuc2Zvcm0sIGRvZXMgbm90IHVwZGF0ZSBjaGlsZHJlbiBvZiBjb250YWluZXIuXG4gKiBXaWxsIGNyYXNoIGlmIHRoZXJlJ3Mgbm8gcGFyZW50IGVsZW1lbnQuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBmdW5jdGlvbiBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gPSBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IERpc3BsYXlPYmplY3QgZnJvbSAnLi9EaXNwbGF5T2JqZWN0JztcblxuZnVuY3Rpb24gc29ydENoaWxkcmVuKGEsIGIpXG57XG4gICAgaWYgKGEuekluZGV4ID09PSBiLnpJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiBhLl9sYXN0U29ydGVkSW5kZXggLSBiLl9sYXN0U29ydGVkSW5kZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEuekluZGV4IC0gYi56SW5kZXg7XG59XG5cbi8qKlxuICogQSBDb250YWluZXIgcmVwcmVzZW50cyBhIGNvbGxlY3Rpb24gb2YgZGlzcGxheSBvYmplY3RzLlxuICpcbiAqIEl0IGlzIHRoZSBiYXNlIGNsYXNzIG9mIGFsbCBkaXNwbGF5IG9iamVjdHMgdGhhdCBhY3QgYXMgYSBjb250YWluZXIgZm9yIG90aGVyIG9iamVjdHMgKGxpa2UgU3ByaXRlcykuXG4gKlxuICpgYGBqc1xuICogbGV0IGNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udGFpbmVyIGV4dGVuZHMgRGlzcGxheU9iamVjdFxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGNvbnRhaW5lciB3aWxsIHNvcnQgaXRzIGNoaWxkcmVuIGJ5IHpJbmRleCB2YWx1ZVxuICAgICAgICAgKiB3aGVuIHVwZGF0ZVRyYW5zZm9ybSgpIGlzIGNhbGxlZCwgb3IgbWFudWFsbHkgaWYgc29ydENoaWxkcmVuKCkgaXMgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGFjdHVhbGx5IGNoYW5nZXMgdGhlIG9yZGVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheSwgc28gc2hvdWxkIGJlIHRyZWF0ZWRcbiAgICAgICAgICogYXMgYSBiYXNpYyBzb2x1dGlvbiB0aGF0IGlzIG5vdCBwZXJmb3JtYW50IGNvbXBhcmVkIHRvIG90aGVyIHNvbHV0aW9ucyxcbiAgICAgICAgICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIGJlIGF3YXJlIG9mIHRoYXQgdGhpcyBtYXkgbm90IHdvcmsgbmljZWx5IHdpdGggdGhlIGFkZENoaWxkQXQoKSBmdW5jdGlvbixcbiAgICAgICAgICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gPSBzZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGNoaWxkcmVuIGJlIHNvcnRlZCBieSB6SW5kZXggYXQgdGhlIG5leHQgdXBkYXRlVHJhbnNmb3JtIGNhbGwuXG4gICAgICAgICAqIFdpbGwgZ2V0IGF1dG9tYXRpY2FsbHkgc2V0IHRvIHRydWUgaWYgYSBuZXcgY2hpbGQgaXMgYWRkZWQsIG9yIGlmIGEgY2hpbGQncyB6SW5kZXggY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5Db250YWluZXIjY2hpbGRBZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgYWRkZWQgdG8gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IGFkZGVkIHRoZSBjaGlsZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIGFkZGVkIGNoaWxkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRGcm9tXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCByZW1vdmVkIGZyb20gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IHJlbW92ZWQgcmVtb3ZlZCB0aGUgY2hpbGQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBmb3JtZXIgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgcmVtb3ZlZCBjaGlsZFxuICAgICAgICAgKi9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBtZXRob2QgdGhhdCBjYW4gYmUgdXNlZCBieSBDb250YWluZXIgc3ViY2xhc3NlcyB3aGVuZXZlciB0aGUgY2hpbGRyZW4gYXJyYXkgaXMgbW9kaWZpZWRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvbkNoaWxkcmVuQ2hhbmdlKClcbiAgICB7XG4gICAgICAgIC8qIGVtcHR5ICovXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiB0byB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogTXVsdGlwbGUgaXRlbXMgY2FuIGJlIGFkZGVkIGxpa2Ugc286IGBteUNvbnRhaW5lci5hZGRDaGlsZCh0aGluZ09uZSwgdGhpbmdUd28sIHRoaW5nVGhyZWUpYFxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gYWRkIHRvIHRoZSBjb250YWluZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBhZGRDaGlsZChjaGlsZClcbiAgICB7XG4gICAgICAgIGNvbnN0IGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB1c2UgaXQgdGhlIHJpZ2h0IHdheSAoLmxlbmd0aCBhbmQgW2ldKSBzbyB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIHN0aWxsIGJlIG9wdGltaXplZCBieSBKUyBydW50aW1lc1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHNMZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgY2hpbGQgaGFzIGEgcGFyZW50IHRoZW4gbGV0cyByZW1vdmUgaXQgYXMgUGl4aUpTIG9iamVjdHMgY2FuIG9ubHkgZXhpc3QgaW4gb25lIHBsYWNlXG4gICAgICAgICAgICBpZiAoY2hpbGQucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcblxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcblxuICAgICAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkQWRkZWQnLCBjaGlsZCwgdGhpcywgdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNoaWxkIHRvIHRoZSBjb250YWluZXIgYXQgYSBzcGVjaWZpZWQgaW5kZXguIElmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIHBsYWNlIHRoZSBjaGlsZCBpblxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIGFkZENoaWxkQXQoY2hpbGQsIGluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Y2hpbGR9YWRkQ2hpbGRBdDogVGhlIGluZGV4ICR7aW5kZXh9IHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgJHt0aGlzLmNoaWxkcmVuLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZC5wYXJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcblxuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdhZGRlZCcsIHRoaXMpO1xuICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkQWRkZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTd2FwcyB0aGUgcG9zaXRpb24gb2YgMiBEaXNwbGF5IE9iamVjdHMgd2l0aGluIHRoaXMgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gRmlyc3QgZGlzcGxheSBvYmplY3QgdG8gc3dhcFxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZDIgLSBTZWNvbmQgZGlzcGxheSBvYmplY3QgdG8gc3dhcFxuICAgICAqL1xuICAgIHN3YXBDaGlsZHJlbihjaGlsZCwgY2hpbGQyKVxuICAgIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBjaGlsZDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluZGV4MSA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIGNvbnN0IGluZGV4MiA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZDIpO1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgxXSA9IGNoaWxkMjtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDJdID0gY2hpbGQ7XG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleDEgPCBpbmRleDIgPyBpbmRleDEgOiBpbmRleDIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IHBvc2l0aW9uIG9mIGEgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgdG8gaWRlbnRpZnlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBwb3NpdGlvbiBvZiB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3QgdG8gaWRlbnRpZnlcbiAgICAgKi9cbiAgICBnZXRDaGlsZEluZGV4KGNoaWxkKVxuICAgIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHN1cHBsaWVkIERpc3BsYXlPYmplY3QgbXVzdCBiZSBhIGNoaWxkIG9mIHRoZSBjYWxsZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBvZiBhbiBleGlzdGluZyBjaGlsZCBpbiB0aGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZSBmb3Igd2hpY2ggeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgcmVzdWx0aW5nIGluZGV4IG51bWJlciBmb3IgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgc2V0Q2hpbGRJbmRleChjaGlsZCwgaW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBpbmRleCAke2luZGV4fSBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzICR7dGhpcy5jaGlsZHJlbi5sZW5ndGh9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuXG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7IC8vIHJlbW92ZSBmcm9tIG9sZCBwb3NpdGlvblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpOyAvLyBhZGQgYXQgbmV3IHBvc2l0aW9uXG5cbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBhdFxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIGF0IHRoZSBnaXZlbiBpbmRleCwgaWYgYW55LlxuICAgICAqL1xuICAgIGdldENoaWxkQXQoaW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGdldENoaWxkQXQ6IEluZGV4ICgke2luZGV4fSkgZG9lcyBub3QgZXhpc3QuYCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpbmRleF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiBmcm9tIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byByZW1vdmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIHJlbW92ZUNoaWxkKGNoaWxkKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pemVkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkUmVtb3ZlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGNoaWxkIGZyb20gdGhlIHNwZWNpZmllZCBpbmRleCBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBnZXQgdGhlIGNoaWxkIGZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIHJlbW92ZUNoaWxkQXQoaW5kZXgpXG4gICAge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGRBdChpbmRleCk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZC4uXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIHRoaXMgY29udGFpbmVyIHRoYXQgYXJlIHdpdGhpbiB0aGUgYmVnaW4gYW5kIGVuZCBpbmRleGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiZWdpbkluZGV4PTBdIC0gVGhlIGJlZ2lubmluZyBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZEluZGV4PXRoaXMuY2hpbGRyZW4ubGVuZ3RoXSAtIFRoZSBlbmRpbmcgcG9zaXRpb24uIERlZmF1bHQgdmFsdWUgaXMgc2l6ZSBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gTGlzdCBvZiByZW1vdmVkIGNoaWxkcmVuXG4gICAgICovXG4gICAgcmVtb3ZlQ2hpbGRyZW4oYmVnaW5JbmRleCA9IDAsIGVuZEluZGV4KVxuICAgIHtcbiAgICAgICAgY29uc3QgYmVnaW4gPSBiZWdpbkluZGV4O1xuICAgICAgICBjb25zdCBlbmQgPSB0eXBlb2YgZW5kSW5kZXggPT09ICdudW1iZXInID8gZW5kSW5kZXggOiB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBlbmQgLSBiZWdpbjtcbiAgICAgICAgbGV0IHJlbW92ZWQ7XG5cbiAgICAgICAgaWYgKHJhbmdlID4gMCAmJiByYW5nZSA8PSBlbmQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSB0aGlzLmNoaWxkcmVuLnNwbGljZShiZWdpbiwgcmFuZ2UpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbW92ZWQubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkW2ldLnRyYW5zZm9ybSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0udHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGJlZ2luSW5kZXgpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbW92ZWQubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCByZW1vdmVkW2ldLCB0aGlzLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmFuZ2UgPT09IDAgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdyZW1vdmVDaGlsZHJlbjogbnVtZXJpYyB2YWx1ZXMgYXJlIG91dHNpZGUgdGhlIGFjY2VwdGFibGUgcmFuZ2UuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU29ydHMgY2hpbGRyZW4gYnkgekluZGV4LiBQcmV2aW91cyBvcmRlciBpcyBtYW50YWluZWQgZm9yIDIgY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSB6SW5kZXguXG4gICAgICovXG4gICAgc29ydENoaWxkcmVuKClcbiAgICB7XG4gICAgICAgIGxldCBzb3J0UmVxdWlyZWQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGNoaWxkLl9sYXN0U29ydGVkSW5kZXggPSBpO1xuXG4gICAgICAgICAgICBpZiAoIXNvcnRSZXF1aXJlZCAmJiBjaGlsZC56SW5kZXggIT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc29ydFJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3J0UmVxdWlyZWQgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNvcnQoc29ydENoaWxkcmVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9uIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciBmb3IgcmVuZGVyaW5nXG4gICAgICovXG4gICAgdXBkYXRlVHJhbnNmb3JtKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gJiYgdGhpcy5zb3J0RGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc29ydENoaWxkcmVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuXG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqL1xuICAgIGNhbGN1bGF0ZUJvdW5kcygpXG4gICAge1xuICAgICAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZHMoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKCFjaGlsZC52aXNpYmxlIHx8ICFjaGlsZC5yZW5kZXJhYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5jYWxjdWxhdGVCb3VuZHMoKTtcblxuICAgICAgICAgICAgLy8gVE9ETzogZmlsdGVyK21hc2ssIG5lZWQgdG8gbWFzayBib3RoIHNvbWVob3dcbiAgICAgICAgICAgIGlmIChjaGlsZC5fbWFzaylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fbWFzay5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzTWFzayhjaGlsZC5fYm91bmRzLCBjaGlsZC5fbWFzay5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc0FyZWEoY2hpbGQuX2JvdW5kcywgY2hpbGQuZmlsdGVyQXJlYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kcyhjaGlsZC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QuIE92ZXJyaWRlIHRoaXMgdG9cbiAgICAgKiBjYWxjdWxhdGUgdGhlIGJvdW5kcyBvZiB0aGUgc3BlY2lmaWMgb2JqZWN0IChub3QgaW5jbHVkaW5nIGNoaWxkcmVuKS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY2FsY3VsYXRlQm91bmRzKClcbiAgICB7XG4gICAgICAgIC8vIEZJTEwgSU4vL1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICByZW5kZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvIGEgcXVpY2sgY2hlY2sgdG8gc2VlIGlmIHRoaXMgZWxlbWVudCBoYXMgYSBtYXNrIG9yIGEgZmlsdGVyLlxuICAgICAgICBpZiAodGhpcy5fbWFzayB8fCAodGhpcy5maWx0ZXJzICYmIHRoaXMuZmlsdGVycy5sZW5ndGgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG5cbiAgICAgICAgICAgIC8vIHNpbXBsZSByZW5kZXIgY2hpbGRyZW4hXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBhbmQgYWR2YW5jZWQgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIHJlbmRlckFkdmFuY2VkKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcblxuICAgICAgICBjb25zdCBmaWx0ZXJzID0gdGhpcy5maWx0ZXJzO1xuICAgICAgICBjb25zdCBtYXNrID0gdGhpcy5fbWFzaztcblxuICAgICAgICAvLyBwdXNoIGZpbHRlciBmaXJzdCBhcyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgc3RlbmNpbCBidWZmZXIgaXMgY29ycmVjdCBmb3IgYW55IG1hc2tpbmdcbiAgICAgICAgaWYgKGZpbHRlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZW5hYmxlZEZpbHRlcnMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ldLmVuYWJsZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5wdXNoKGZpbHRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucHVzaCh0aGlzLCB0aGlzLl9lbmFibGVkRmlsdGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wdXNoKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoaXMgb2JqZWN0IHRvIHRoZSBiYXRjaCwgb25seSByZW5kZXJlZCBpZiBpdCBoYXMgYSB0ZXh0dXJlLlxuICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIG5vdyBsb29wIHRocm91Z2ggdGhlIGNoaWxkcmVuIGFuZCBtYWtlIHN1cmUgdGhleSBnZXQgcmVuZGVyZWRcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcblxuICAgICAgICBpZiAobWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wb3AodGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIF9yZW5kZXIocmVuZGVyZXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIC8vIHRoaXMgaXMgd2hlcmUgY29udGVudCBpdHNlbGYgZ2V0cyByZW5kZXJlZC4uLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGludGVybmFsIHJlZmVyZW5jZXMgYW5kIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHJlbW92ZXMgY2hpbGRyZW4gZnJvbSB0aGUgZGlzcGxheSBsaXN0LlxuICAgICAqIERvIG5vdCB1c2UgYSBDb250YWluZXIgYWZ0ZXIgY2FsbGluZyBgZGVzdHJveWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3kob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcblxuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGRlc3Ryb3lDaGlsZHJlbiA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmNoaWxkcmVuO1xuXG4gICAgICAgIGNvbnN0IG9sZENoaWxkcmVuID0gdGhpcy5yZW1vdmVDaGlsZHJlbigwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lDaGlsZHJlbilcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvbGRDaGlsZHJlbltpXS5kZXN0cm95KG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnggKiB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gICAgfVxuXG4gICAgc2V0IHdpZHRoKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuXG4gICAgICAgIGlmICh3aWR0aCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdmFsdWUgLyB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnkgKiB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0O1xuICAgIH1cblxuICAgIHNldCBoZWlnaHQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcblxuICAgICAgICBpZiAoaGVpZ2h0ICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB2YWx1ZSAvIGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9XG59XG5cbi8vIHBlcmZvcm1hbmNlIGluY3JlYXNlIHRvIGF2b2lkIHVzaW5nIGNhbGwuLiAoMTB4IGZhc3RlcilcbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG4iLCIvKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGFjY2Vzc2libGUgb2JqZWN0c1xuICogdXNlZCBieSB7QGxpbmsgUElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIGFjY2Vzc2libGVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJLmFjY2Vzc2liaWxpdHlcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgTXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5hY2Nlc3NpYmlsaXR5LmFjY2Vzc2libGVUYXJnZXRcbiAqICAgICAgKTtcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqICBGbGFnIGZvciBpZiB0aGUgb2JqZWN0IGlzIGFjY2Vzc2libGUuIElmIHRydWUgQWNjZXNzaWJpbGl0eU1hbmFnZXIgd2lsbCBvdmVybGF5IGFcbiAgICAgKiAgIHNoYWRvdyBkaXYgd2l0aCBhdHRyaWJ1dGVzIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGl0bGUgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAgICogSWYgYWNjZXNzaWJsZVRpdGxlIEFORCBhY2Nlc3NpYmxlSGludCBoYXMgbm90IGJlZW4gdGhpcyB3aWxsIGRlZmF1bHQgdG8gJ2Rpc3BsYXlPYmplY3QgW3RhYkluZGV4XSdcbiAgICAgKlxuICAgICAqIEBtZW1iZXIgez9zdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlVGl0bGU6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAgICovXG4gICAgdGFiSW5kZXg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZUFjdGl2ZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZURpdjogZmFsc2UsXG59O1xuIiwiaW1wb3J0IGFjY2Vzc2libGVUYXJnZXQgZnJvbSAnLi9hY2Nlc3NpYmxlVGFyZ2V0JztcbmltcG9ydCB7IHJlbW92ZUl0ZW1zLCBpc01vYmlsZSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLy8gYWRkIHNvbWUgZXh0cmEgdmFyaWFibGVzIHRvIHRoZSBjb250YWluZXIuLlxuRGlzcGxheU9iamVjdC5taXhpbihhY2Nlc3NpYmxlVGFyZ2V0KTtcblxuY29uc3QgS0VZX0NPREVfVEFCID0gOTtcblxuY29uc3QgRElWX1RPVUNIX1NJWkUgPSAxMDA7XG5jb25zdCBESVZfVE9VQ0hfUE9TX1ggPSAwO1xuY29uc3QgRElWX1RPVUNIX1BPU19ZID0gMDtcbmNvbnN0IERJVl9UT1VDSF9aSU5ERVggPSAyO1xuXG5jb25zdCBESVZfSE9PS19TSVpFID0gMTtcbmNvbnN0IERJVl9IT09LX1BPU19YID0gLTEwMDA7XG5jb25zdCBESVZfSE9PS19QT1NfWSA9IC0xMDAwO1xuY29uc3QgRElWX0hPT0tfWklOREVYID0gMjtcblxuLyoqXG4gKiBUaGUgQWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHJlY3JlYXRlcyB0aGUgYWJpbGl0eSB0byB0YWIgYW5kIGhhdmUgY29udGVudCByZWFkIGJ5IHNjcmVlbiByZWFkZXJzLlxuICogVGhpcyBpcyB2ZXJ5IGltcG9ydGFudCBhcyBpdCBjYW4gcG9zc2libHkgaGVscCBwZW9wbGUgd2l0aCBkaXNhYmlsaXRpZXMgYWNjZXNzIFBpeGlKUyBjb250ZW50LlxuICpcbiAqIEEgRGlzcGxheU9iamVjdCBjYW4gYmUgbWFkZSBhY2Nlc3NpYmxlIGp1c3QgbGlrZSBpdCBjYW4gYmUgbWFkZSBpbnRlcmFjdGl2ZS4gVGhpcyBtYW5hZ2VyIHdpbGwgbWFwIHRoZVxuICogZXZlbnRzIGFzIGlmIHRoZSBtb3VzZSB3YXMgYmVpbmcgdXNlZCwgbWluaW1pemluZyB0aGUgZWZmb3J0IHJlcXVpcmVkIHRvIGltcGxlbWVudC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmFjY2Vzc2liaWxpdHlgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5hY2Nlc3NpYmlsaXR5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjY2Vzc2liaWxpdHlNYW5hZ2VyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfFBJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7P0hUTUxFbGVtZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gICAgICAgIGlmIChpc01vYmlsZS50YWJsZXQgfHwgaXNNb2JpbGUucGhvbmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVG91Y2hIb29rKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJzdCB3ZSBjcmVhdGUgYSBkaXYgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGAke0RJVl9UT1VDSF9QT1NfWH1weGA7XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gYCR7RElWX1RPVUNIX1BPU19ZfXB4YDtcbiAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGRvbSBlbGVtZW50IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpdiA9IGRpdjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBzaW1wbGUgcG9vbCBmb3Igc3RvcmluZyBkaXZzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Kn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIGEgdGljayB1c2VkIHRvIGNoZWNrIGlmIGFuIG9iamVjdCBpcyBubyBsb25nZXIgYmVpbmcgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcklkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0dGluZyB0aGlzIHRvIHRydWUgd2lsbCB2aXN1YWxseSBzaG93IHRoZSBkaXZzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgY3VycmVudGx5IGFjdGl2ZSBhY2Nlc3NpYmxlIGl0ZW1zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogcHJlLWJpbmQgdGhlIGZ1bmN0aW9uc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbktleURvd24gPSB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogcHJlLWJpbmQgdGhlIGZ1bmN0aW9uc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZ1xuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZ1xuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGxldCBsaXN0ZW4gZm9yIHRhYi4uIG9uY2UgcHJlc3NlZCB3ZSBjYW4gZmlyZSB1cCBhbmQgc2hvdyB0aGUgYWNjZXNzaWJpbGl0eSBsYXllclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHRvdWNoIGhvb2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjcmVhdGVUb3VjaEhvb2soKVxuICAgIHtcbiAgICAgICAgY29uc3QgaG9va0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICAgIGhvb2tEaXYuc3R5bGUud2lkdGggPSBgJHtESVZfSE9PS19TSVpFfXB4YDtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5oZWlnaHQgPSBgJHtESVZfSE9PS19TSVpFfXB4YDtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUudG9wID0gYCR7RElWX0hPT0tfUE9TX1h9cHhgO1xuICAgICAgICBob29rRGl2LnN0eWxlLmxlZnQgPSBgJHtESVZfSE9PS19QT1NfWX1weGA7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuekluZGV4ID0gRElWX0hPT0tfWklOREVYO1xuICAgICAgICBob29rRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkYwMDAwJztcbiAgICAgICAgaG9va0Rpdi50aXRsZSA9ICdIT09LIERJVic7XG5cbiAgICAgICAgaG9va0Rpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveVRvdWNoSG9vaygpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhvb2tEaXYpO1xuICAgICAgICB0aGlzLl9ob29rRGl2ID0gaG9va0RpdjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgdG91Y2ggaG9va3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3lUb3VjaEhvb2soKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ob29rRGl2KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLl9ob29rRGl2KTtcbiAgICAgICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIHNob3duLlxuICAgICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIHByZXNzZXMgdGhlIHRhYiBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFjdGl2YXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmlzQWN0aXZlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIub24oJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBoaWRkZW4uXG4gICAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgbW92ZXMgdGhlIG1vdXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkZWFjdGl2YXRlKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSB8fCB0aGlzLmlzTW9iaWxlQWNjZXNzaWJpbGl0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGl2LnBhcmVudE5vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyByZWN1cnNpdmUgZnVuY3Rpb24gd2lsbCBydW4gdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIGFkZCBhbnkgbmV3IGFjY2Vzc2libGUgb2JqZWN0cyB0byB0aGUgRE9NIGxheWVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2hlY2suXG4gICAgICovXG4gICAgdXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoZGlzcGxheU9iamVjdClcbiAgICB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdC52aXNpYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcklkID0gdGhpcy5yZW5kZXJJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJlZm9yZSBlYWNoIHJlbmRlciB0aGlzIGZ1bmN0aW9uIHdpbGwgZW5zdXJlIHRoYXQgYWxsIGRpdnMgYXJlIG1hcHBlZCBjb3JyZWN0bHkgdG8gdGhlaXIgRGlzcGxheU9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSBjaGlsZHJlbi4uLlxuICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCk7XG5cbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3Qgc3ggPSByZWN0LndpZHRoIC8gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgY29uc3Qgc3kgPSByZWN0LmhlaWdodCAvIHRoaXMucmVuZGVyZXIuaGVpZ2h0O1xuXG4gICAgICAgIGxldCBkaXYgPSB0aGlzLmRpdjtcblxuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGAke3JlY3QubGVmdH1weGA7XG4gICAgICAgIGRpdi5zdHlsZS50b3AgPSBgJHtyZWN0LnRvcH1weGA7XG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGAke3RoaXMucmVuZGVyZXIud2lkdGh9cHhgO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5yZW5kZXJlci5oZWlnaHR9cHhgO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQucmVuZGVySWQgIT09IHRoaXMucmVuZGVySWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGksIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LnJlbW92ZUNoaWxkKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvb2wucHVzaChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVEaXYgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaS0tO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIG1hcCBkaXYgdG8gZGlzcGxheS4uXG4gICAgICAgICAgICAgICAgZGl2ID0gY2hpbGQuX2FjY2Vzc2libGVEaXY7XG4gICAgICAgICAgICAgICAgbGV0IGhpdEFyZWEgPSBjaGlsZC5oaXRBcmVhO1xuICAgICAgICAgICAgICAgIGNvbnN0IHd0ID0gY2hpbGQud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaGl0QXJlYSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gYCR7KHd0LnR4ICsgKGhpdEFyZWEueCAqIHd0LmEpKSAqIHN4fXB4YDtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGAkeyh3dC50eSArIChoaXRBcmVhLnkgKiB3dC5kKSkgKiBzeX1weGA7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7aGl0QXJlYS53aWR0aCAqIHd0LmEgKiBzeH1weGA7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBgJHtoaXRBcmVhLmhlaWdodCAqIHd0LmQgKiBzeX1weGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGhpdEFyZWEgPSBjaGlsZC5nZXRCb3VuZHMoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcEhpdEFyZWEoaGl0QXJlYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBgJHtoaXRBcmVhLnggKiBzeH1weGA7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBgJHtoaXRBcmVhLnkgKiBzeX1weGA7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7aGl0QXJlYS53aWR0aCAqIHN4fXB4YDtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke2hpdEFyZWEuaGVpZ2h0ICogc3l9cHhgO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBidXR0b24gdGl0bGVzIGFuZCBoaW50cyBpZiB0aGV5IGV4aXN0IGFuZCB0aGV5J3ZlIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpdi50aXRsZSAhPT0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlICYmIGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXYuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgIT09IGNoaWxkLmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBjaGlsZC5hY2Nlc3NpYmxlSGludCAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGNoaWxkLmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgcmVuZGVyIGlkLi5cbiAgICAgICAgdGhpcy5yZW5kZXJJZCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkanVzdCB0aGUgaGl0IGFyZWEgYmFzZWQgb24gdGhlIGJvdW5kcyBvZiBhIGRpc3BsYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBoaXRBcmVhIC0gQm91bmRzIG9mIHRoZSBjaGlsZFxuICAgICAqL1xuICAgIGNhcEhpdEFyZWEoaGl0QXJlYSlcbiAgICB7XG4gICAgICAgIGlmIChoaXRBcmVhLnggPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoICs9IGhpdEFyZWEueDtcbiAgICAgICAgICAgIGhpdEFyZWEueCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGl0QXJlYS55IDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgKz0gaGl0QXJlYS55O1xuICAgICAgICAgICAgaGl0QXJlYS55ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaXRBcmVhLnggKyBoaXRBcmVhLndpZHRoID4gdGhpcy5yZW5kZXJlci53aWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgaGl0QXJlYS53aWR0aCA9IHRoaXMucmVuZGVyZXIud2lkdGggLSBoaXRBcmVhLng7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGl0QXJlYS55ICsgaGl0QXJlYS5oZWlnaHQgPiB0aGlzLnJlbmRlcmVyLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIGhpdEFyZWEueTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBEaXNwbGF5T2JqZWN0IHRvIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgY2hpbGQgdG8gbWFrZSBhY2Nlc3NpYmxlLlxuICAgICAqL1xuICAgIGFkZENoaWxkKGRpc3BsYXlPYmplY3QpXG4gICAge1xuICAgICAgICAvLyAgICB0aGlzLmFjdGl2YXRlKCk7XG5cbiAgICAgICAgbGV0IGRpdiA9IHRoaXMucG9vbC5wb3AoKTtcblxuICAgICAgICBpZiAoIWRpdilcbiAgICAgICAge1xuICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBgJHtESVZfVE9VQ0hfU0laRX1weGA7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5kZWJ1ZyA/ICdyZ2JhKDI1NSwwLDAsMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAvLyBBUklBIGF0dHJpYnV0ZXMgZW5zdXJlIHRoYXQgYnV0dG9uIHRpdGxlIGFuZCBoaW50IHVwZGF0ZXMgYXJlIGFubm91bmNlZCBwcm9wZXJseVxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIENocm9tZSBkb2Vzbid0IG5lZWQgYXJpYS1saXZlIHRvIHdvcmsgYXMgaW50ZW5kZWQ7IGluIGZhY3QgaXQganVzdCBnZXRzIG1vcmUgY29uZnVzZWQuXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3J2Oi4qR2Vja29cXC8vKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlRm94IG5lZWRzIHRoaXMgdG8gYW5ub3VuY2Ugb25seSB0aGUgbmV3IGJ1dHRvbiBuYW1lXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICdhZGRpdGlvbnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyByZXF1aXJlZCBieSBJRSwgb3RoZXIgYnJvd3NlcnMgZG9uJ3QgbXVjaCBjYXJlXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICd0ZXh0Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9vbkZvY3VzLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5fb25Gb2N1c091dC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICAgICAgfHwgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gYGRpc3BsYXlPYmplY3QgJHtkaXNwbGF5T2JqZWN0LnRhYkluZGV4fWA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAgICAgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9cblxuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdiA9IGRpdjtcbiAgICAgICAgZGl2LmRpc3BsYXlPYmplY3QgPSBkaXNwbGF5T2JqZWN0O1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgdGhpcy5kaXYuYXBwZW5kQ2hpbGQoZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYudGFiSW5kZXggPSBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBidXR0b24gcHJlc3MgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAoY2xpY2spXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBjbGljayBldmVudC5cbiAgICAgKi9cbiAgICBfb25DbGljayhlKVxuICAgIHtcbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdjbGljaycsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAndGFwJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW92ZXIpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1cyBldmVudC5cbiAgICAgKi9cbiAgICBfb25Gb2N1cyhlKVxuICAgIHtcbiAgICAgICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3V0KVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXNvdXQgZXZlbnQuXG4gICAgICovXG4gICAgX29uRm9jdXNPdXQoZSlcbiAgICB7XG4gICAgICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiBhIGtleSBpcyBwcmVzc2VkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIFRoZSBrZXlkb3duIGV2ZW50LlxuICAgICAqL1xuICAgIF9vbktleURvd24oZSlcbiAgICB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgIT09IEtFWV9DT0RFX1RBQilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBtb3VzZSBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIG1vdXNlIGV2ZW50LlxuICAgICAqL1xuICAgIF9vbk1vdXNlTW92ZShlKVxuICAgIHtcbiAgICAgICAgaWYgKGUubW92ZW1lbnRYID09PSAwICYmIGUubW92ZW1lbnRZID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMuZGVzdHJveVRvdWNoSG9vaygpO1xuICAgICAgICB0aGlzLmRpdiA9IG51bGw7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmRpdiA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bik7XG5cbiAgICAgICAgdGhpcy5wb29sID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQSBSdW5uZXIgaXMgYSBoaWdobHkgcGVyZm9ybWFudCBhbmQgc2ltcGxlIGFsdGVybmF0aXZlIHRvIHNpZ25hbHMuIEJlc3QgdXNlZCBpbiBzaXR1YXRpb25zXG4gKiB3aGVyZSBldmVudHMgYXJlIGRpc3BhdGNoZWQgdG8gbWFueSBvYmplY3RzIGF0IGhpZ2ggZnJlcXVlbmN5IChzYXkgZXZlcnkgZnJhbWUhKVxuICpcbiAqXG4gKiBsaWtlIGEgc2lnbmFsLi5cbiAqIGBgYFxuICogY29uc3QgbXlPYmplY3QgPSB7XG4gKiAgICAgbG9hZGVkOiBuZXcgUElYSS5SdW5uZXIoJ2xvYWRlZCcpXG4gKiB9XG4gKlxuICogY29uc3QgbGlzdGVuZXIgPSB7XG4gKiAgICAgbG9hZGVkOiBmdW5jdGlvbigpe1xuICogICAgICAgICAvLyB0aGluXG4gKiAgICAgfVxuICogfVxuICpcbiAqIG15T2JqZWN0LnVwZGF0ZS5hZGQobGlzdGVuZXIpO1xuICpcbiAqIG15T2JqZWN0LmxvYWRlZC5lbWl0KCk7XG4gKiBgYGBcbiAqXG4gKiBPciBmb3IgaGFuZGxpbmcgY2FsbGluZyB0aGUgc2FtZSBmdW5jdGlvbiBvbiBtYW55IGl0ZW1zXG4gKiBgYGBcbiAqIGNvbnN0IG15R2FtZSA9IHtcbiAqICAgICB1cGRhdGU6IG5ldyBQSVhJLlJ1bm5lcigndXBkYXRlJylcbiAqIH1cbiAqXG4gKiBjb25zdCBnYW1lT2JqZWN0ID0ge1xuICogICAgIHVwZGF0ZTogZnVuY3Rpb24odGltZSl7XG4gKiAgICAgICAgIC8vIHVwZGF0ZSBteSBnYW1leSBzdGF0ZVxuICogICAgIH1cbiAqIH1cbiAqXG4gKiBteUdhbWUudXBkYXRlLmFkZChnYW1lT2JqZWN0MSk7XG4gKlxuICogbXlHYW1lLnVwZGF0ZS5lbWl0KHRpbWUpO1xuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ1bm5lclxue1xuICAgIC8qKlxuICAgICAqICBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgZnVuY3Rpb24gbmFtZSB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgb24gdGhlIGxpc3RlbmVycyBhZGRlZCB0byB0aGlzIFJ1bm5lci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lKVxuICAgIHtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2gvQnJvYWRjYXN0IFJ1bm5lciB0byBhbGwgbGlzdGVuZXJzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gey4uLmFueX0gcGFyYW1zIC0gb3B0aW9uYWwgcGFyYW1ldGVycyB0byBwYXNzIHRvIGVhY2ggbGlzdGVuZXJcbiAgICAgKi9cbiAgICBlbWl0KGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNylcbiAgICB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gOClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXggYXJndW1lbnRzIHJlYWNoZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgbmFtZSwgaXRlbXMgfSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5fYWxpYXNDb3VudCsrO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaXRlbXNbaV1bbmFtZV0oYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtcyA9PT0gdGhpcy5pdGVtcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYWxpYXNDb3VudC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9hbGlhc0NvdW50ID4gMCAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FsaWFzQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBsaXN0ZW5lciB0byB0aGUgUnVubmVyXG4gICAgICpcbiAgICAgKiBSdW5uZXJzIGRvIG5vdCBuZWVkIHRvIGhhdmUgc2NvcGUgb3IgZnVuY3Rpb25zIHBhc3NlZCB0byB0aGVtLlxuICAgICAqIEFsbCB0aGF0IGlzIHJlcXVpcmVkIGlzIHRvIHBhc3MgdGhlIGxpc3RlbmluZyBvYmplY3QgYW5kIGVuc3VyZSB0aGF0IGl0IGhhcyBjb250YWlucyBhIGZ1bmN0aW9uIHRoYXQgaGFzIHRoZSBzYW1lIG5hbWVcbiAgICAgKiBhcyB0aGUgbmFtZSBwcm92aWRlZCB0byB0aGUgUnVubmVyIHdoZW4gaXQgd2FzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBFZyBBIGxpc3RlbmVyIHBhc3NlZCB0byB0aGlzIFJ1bm5lciB3aWxsIHJlcXVpcmUgYSAnY29tcGxldGUnIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogY29uc3QgY29tcGxldGUgPSBuZXcgUElYSS5SdW5uZXIoJ2NvbXBsZXRlJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGUgc2NvcGUgdXNlZCB3aWxsIGJlIHRoZSBvYmplY3QgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgb2JqZWN0IHRoYXQgd2lsbCBiZSBsaXN0ZW5pbmcuXG4gICAgICovXG4gICAgYWRkKGl0ZW0pXG4gICAge1xuICAgICAgICBpZiAoaXRlbVt0aGlzLl9uYW1lXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgc2luZ2xlIGxpc3RlbmVyIGZyb20gdGhlIGRpc3BhdGNoIHF1ZXVlLlxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIGxpc3RlbnIgdGhhdCB5b3Ugd291bGQgbGlrZSB0byByZW1vdmUuXG4gICAgICovXG4gICAgcmVtb3ZlKGl0ZW0pXG4gICAge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTtcblxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBsaXN0ZW5lciBpcyBhbHJlYWR5IGluIHRoZSBSdW5uZXJcbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBsaXN0ZW5lciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIGNoZWNrLlxuICAgICAqL1xuICAgIGNvbnRhaW5zKGl0ZW0pXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGxpc3RlbmVycyBmcm9tIHRoZSBSdW5uZXJcbiAgICAgKi9cbiAgICByZW1vdmVBbGwoKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgICAgdGhpcy5pdGVtcy5sZW5ndGggPSAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgcmVmZXJlbmNlcywgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIHRoZXJlIGFyZSBubyB0aGlzIFJ1bm5lciBjb250YWlucyBubyBsaXN0ZW5lcnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGVtcHR5KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aCA9PT0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcnVubmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBuYW1lKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBbGlhcyBmb3IgYGVtaXRgXG4gKiBAbWVtYmVyb2YgUElYSS5SdW5uZXIjXG4gKiBAbWV0aG9kIGRpc3BhdGNoXG4gKiBAc2VlIFBJWEkuUnVubmVyI2VtaXRcbiAqL1xuUnVubmVyLnByb3RvdHlwZS5kaXNwYXRjaCA9IFJ1bm5lci5wcm90b3R5cGUuZW1pdDtcblxuLyoqXG4gKiBBbGlhcyBmb3IgYGVtaXRgXG4gKiBAbWVtYmVyb2YgUElYSS5SdW5uZXIjXG4gKiBAbWV0aG9kIHJ1blxuICogQHNlZSBQSVhJLlJ1bm5lciNlbWl0XG4gKi9cblJ1bm5lci5wcm90b3R5cGUucnVuID0gUnVubmVyLnByb3RvdHlwZS5lbWl0O1xuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogVGFyZ2V0IGZyYW1lcyBwZXIgbWlsbGlzZWNvbmQuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUX0ZQTVNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMC4wNlxuICovXG5zZXR0aW5ncy5UQVJHRVRfRlBNUyA9IDAuMDY7XG5cbmV4cG9ydCB7IHNldHRpbmdzIH07XG4iLCIvKipcbiAqIFJlcHJlc2VudHMgdGhlIHVwZGF0ZSBwcmlvcml0aWVzIHVzZWQgYnkgaW50ZXJuYWwgUElYSSBjbGFzc2VzIHdoZW4gcmVnaXN0ZXJlZCB3aXRoXG4gKiB0aGUge0BsaW5rIFBJWEkuVGlja2VyfSBvYmplY3QuIEhpZ2hlciBwcmlvcml0eSBpdGVtcyBhcmUgdXBkYXRlZCBmaXJzdCBhbmQgbG93ZXJcbiAqIHByaW9yaXR5IGl0ZW1zLCBzdWNoIGFzIHJlbmRlciwgc2hvdWxkIGdvIGxhdGVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVVBEQVRFX1BSSU9SSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBJTlRFUkFDVElPTj01MCBIaWdoZXN0IHByaW9yaXR5LCB1c2VkIGZvciB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSElHSD0yNSBIaWdoIHByaW9yaXR5IHVwZGF0aW5nLCB7QGxpbmsgUElYSS5WaWRlb0Jhc2VUZXh0dXJlfSBhbmQge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMPTAgRGVmYXVsdCBwcmlvcml0eSBmb3IgdGlja2VyIGV2ZW50cywgc2VlIHtAbGluayBQSVhJLlRpY2tlciNhZGR9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExPVz0tMjUgTG93IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSByZW5kZXJpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVVRJTElUWT0tNTAgTG93ZXN0IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IHV0aWxpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCBVUERBVEVfUFJJT1JJVFkgPSB7XG4gICAgSU5URVJBQ1RJT046IDUwLFxuICAgIEhJR0g6IDI1LFxuICAgIE5PUk1BTDogMCxcbiAgICBMT1c6IC0yNSxcbiAgICBVVElMSVRZOiAtNTAsXG59O1xuIiwiLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpY2tlckxpc3RlbmVyXG57XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dD1udWxsXSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT0wXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvbmNlPWZhbHNlXSAtIElmIHRoZSBoYW5kbGVyIHNob3VsZCBmaXJlIG9uY2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihmbiwgY29udGV4dCA9IG51bGwsIHByaW9yaXR5ID0gMCwgb25jZSA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGluZyB0byBleGVjdXRlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHsqfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcHJpb3JpdHkuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBzaG91bGQgb25seSBleGVjdXRlIG9uY2UuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uY2UgPSBvbmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmV4dCBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcmV2aW91cyBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhpcyBsaXN0ZW5lciBoYXMgYmVlbiBkZXN0cm95ZWQgYWxyZWFkeS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpbXBsZSBjb21wYXJlIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgYSBmdW5jdGlvbiBhbmQgY29udGV4dCBtYXRjaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29udGV4dCAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBsaXN0ZW5lciBtYXRjaCB0aGUgYXJndW1lbnRzXG4gICAgICovXG4gICAgbWF0Y2goZm4sIGNvbnRleHQpXG4gICAge1xuICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmZuID09PSBmbiAmJiB0aGlzLmNvbnRleHQgPT09IGNvbnRleHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW1pdCBieSBjYWxsaW5nIHRoZSBjdXJyZW50IGZ1bmN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgc2luY2UgdGhlIGxhc3QgZW1pdC5cbiAgICAgKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gTmV4dCB0aWNrZXJcbiAgICAgKi9cbiAgICBlbWl0KGRlbHRhVGltZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmZuKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbihkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG5cbiAgICAgICAgaWYgKHRoaXMub25jZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29mdC1kZXN0cm95aW5nIHNob3VsZCByZW1vdmVcbiAgICAgICAgLy8gdGhlIG5leHQgcmVmZXJlbmNlXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgbGlzdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IHByZXZpb3VzIC0gSW5wdXQgbm9kZSwgcHJldmlvdXMgbGlzdGVuZXJcbiAgICAgKi9cbiAgICBjb25uZWN0KHByZXZpb3VzKVxuICAgIHtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuICAgICAgICBpZiAocHJldmlvdXMubmV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgcHJldmlvdXMubmV4dC5wcmV2aW91cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXh0ID0gcHJldmlvdXMubmV4dDtcbiAgICAgICAgcHJldmlvdXMubmV4dCA9IHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoYXJkID0gZmFsc2VdIGB0cnVlYCB0byByZW1vdmUgdGhlIGBuZXh0YCByZWZlcmVuY2UsIHRoaXNcbiAgICAgKiAgICAgICAgaXMgY29uc2lkZXJlZCBhIGhhcmQgZGVzdHJveS4gU29mdCBkZXN0cm95IG1haW50YWlucyB0aGUgbmV4dCByZWZlcmVuY2UuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IFRoZSBsaXN0ZW5lciB0byByZWRpcmVjdCB3aGlsZSBlbWl0dGluZyBvciByZW1vdmluZy5cbiAgICAgKi9cbiAgICBkZXN0cm95KGhhcmQgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm4gPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuXG4gICAgICAgIC8vIERpc2Nvbm5lY3QsIGhvb2sgdXAgbmV4dCBhbmQgcHJldmlvdXNcbiAgICAgICAgaWYgKHRoaXMucHJldmlvdXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXMubmV4dCA9IHRoaXMubmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5leHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubmV4dC5wcmV2aW91cyA9IHRoaXMucHJldmlvdXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWRpcmVjdCB0byB0aGUgbmV4dCBpdGVtXG4gICAgICAgIGNvbnN0IHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuXG4gICAgICAgIC8vIFJlbW92ZSByZWZlcmVuY2VzXG4gICAgICAgIHRoaXMubmV4dCA9IGhhcmQgPyBudWxsIDogcmVkaXJlY3Q7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnLi9jb25zdCc7XG5pbXBvcnQgVGlja2VyTGlzdGVuZXIgZnJvbSAnLi9UaWNrZXJMaXN0ZW5lcic7XG5cbi8qKlxuICogQSBUaWNrZXIgY2xhc3MgdGhhdCBydW5zIGFuIHVwZGF0ZSBsb29wIHRoYXQgb3RoZXIgb2JqZWN0cyBsaXN0ZW4gdG8uXG4gKlxuICogVGhpcyBjbGFzcyBpcyBjb21wb3NlZCBhcm91bmQgbGlzdGVuZXJzIG1lYW50IGZvciBleGVjdXRpb24gb24gdGhlIG5leHQgcmVxdWVzdGVkIGFuaW1hdGlvbiBmcmFtZS5cbiAqIEFuaW1hdGlvbiBmcmFtZXMgYXJlIHJlcXVlc3RlZCBvbmx5IHdoZW4gbmVjZXNzYXJ5LCBlLmcuIFdoZW4gdGhlIHRpY2tlciBpcyBzdGFydGVkIGFuZCB0aGUgZW1pdHRlciBoYXMgbGlzdGVuZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlja2VyXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmaXJzdCBsaXN0ZW5lci4gQWxsIG5ldyBsaXN0ZW5lcnMgYWRkZWQgYXJlIGNoYWluZWQgb24gdGhpcy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVhZCA9IG5ldyBUaWNrZXJMaXN0ZW5lcihudWxsLCBudWxsLCBJbmZpbml0eSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGN1cnJlbnQgZnJhbWUgcmVxdWVzdCBJRFxuICAgICAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWluRlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBtYXhpbXVtIGFsbG93ZWQgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtYXhGUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1pbmltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgc2hvdWxkIGludm9rZSB0aGUgbWV0aG9kXG4gICAgICAgICAqIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gYXV0b21hdGljYWxseVxuICAgICAgICAgKiB3aGVuIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9TdGFydCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsZXIgdGltZSBlbGFwc2VkIGluIG1pbGxpc2Vjb25kcyBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICogRGVmYXVsdHMgdG8gdGFyZ2V0IGZyYW1lIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNi42NlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YU1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lIGVsYXBzZWQgaW4gbWlsbGlzZWNvbmRzIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBPcHBvc2VkIHRvIHdoYXQgdGhlIHNjYWxhciB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfVxuICAgICAgICAgKiBpcyBiYXNlZCwgdGhpcyB2YWx1ZSBpcyBuZWl0aGVyIGNhcHBlZCBub3Igc2NhbGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxhcHNlZE1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9IHdhcyBpbnZva2VkLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGFsc28gcmVzZXQgaW50ZXJuYWxseSBvdXRzaWRlIG9mIGludm9raW5nXG4gICAgICAgICAqIHVwZGF0ZSwgYnV0IG9ubHkgd2hlbiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmFjdG9yIG9mIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFNjYWxlcyB0aWNrZXIuZGVsdGFUaW1lIHRvIHdoYXQgd291bGQgYmVcbiAgICAgICAgICogLy8gdGhlIGVxdWl2YWxlbnQgb2YgYXBwcm94aW1hdGVseSAxMjAgRlBTXG4gICAgICAgICAqIHRpY2tlci5zcGVlZCA9IDI7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQuXG4gICAgICAgICAqIGB0cnVlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RhcnR9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICogYGZhbHNlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RvcH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBXaGlsZSBgZmFsc2VgLCB0aGlzIHZhbHVlIG1heSBjaGFuZ2UgdG8gYHRydWVgIGluIHRoZVxuICAgICAgICAgKiBldmVudCBvZiB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBiZWluZyBgdHJ1ZWBcbiAgICAgICAgICogYW5kIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCwgZGVsZXRpbmcgaXMgZGlzYWJsZWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSBrZXlmcmFtZSB3YXMgZXhlY3V0ZWQuXG4gICAgICAgICAqIE1haW50YWlucyBhIHJlbGF0aXZlbHkgZml4ZWQgaW50ZXJ2YWwgd2l0aCB0aGUgcHJldmlvdXMgdmFsdWUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xhc3RGcmFtZSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB0aWNrIG1ldGhvZCBib3VuZCB0byB0aWNrZXIgaW5zdGFuY2UuXG4gICAgICAgICAqIFRoaXMgaXMgYmVjYXVzZSBpbiBlYXJseSAyMDE1LCBGdW5jdGlvbi5iaW5kXG4gICAgICAgICAqIGlzIHN0aWxsIDYwJSBzbG93ZXIgaW4gaGlnaCBwZXJmb3JtYW5jZSBzY2VuYXJpb3MuXG4gICAgICAgICAqIEFsc28gc2VwYXJhdGluZyBmcmFtZSByZXF1ZXN0cyBmcm9tIHVwZGF0ZSBtZXRob2RcbiAgICAgICAgICogc28gbGlzdGVuZXJzIG1heSBiZSBjYWxsZWQgYXQgYW55IHRpbWUgYW5kIHdpdGhcbiAgICAgICAgICogYW55IGFuaW1hdGlvbiBBUEksIGp1c3QgaW52b2tlIHRpY2tlci51cGRhdGUodGltZSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrID0gKHRpbWUpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBub3dcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW5lciBzaWRlIGVmZmVjdHMgbWF5IGhhdmUgbW9kaWZpZWQgdGlja2VyIHN0YXRlLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQgJiYgdGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIHRoaXMuX2hlYWQubmV4dClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHkgYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWxcbiAgICAgKiBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlcXVlc3RJZk5lZWRlZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIHRoaXMuX2hlYWQubmV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNhbGxiYWNrcyBnZXQgY29ycmVjdCBkZWx0YVxuICAgICAgICAgICAgdGhpcy5sYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gdGhpcy5sYXN0VGltZTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgY2FuY2VscyBhIHBlbmRpbmcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FuY2VsSWZOZWVkZWQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBJZiB0aGUgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQgaXQgY2hlY2tzIGlmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5XG4gICAgICogYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWwgZW1pdHRlciBoYXMgbGlzdGVuZXJzLiBJZiB0aGVzZVxuICAgICAqIGNvbmRpdGlvbnMgYXJlIG1ldCwgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLiBJZiB0aGUgdGlja2VyIGhhcyBub3RcbiAgICAgKiBiZWVuIHN0YXJ0ZWQsIGJ1dCBhdXRvU3RhcnQgaXMgYHRydWVgLCB0aGVuIHRoZSB0aWNrZXIgc3RhcnRzIG5vdyxcbiAgICAgKiBhbmQgY29udGludWVzIHdpdGggdGhlIHByZXZpb3VzIGNvbmRpdGlvbnMgdG8gcmVxdWVzdCBhIG5ldyBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3N0YXJ0SWZQb3NzaWJsZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF1dG9TdGFydClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciB0aWNrIGV2ZW50cy4gQ2FsbHMgY29udGludW91c2x5IHVubGVzc1xuICAgICAqIGl0IGlzIHJlbW92ZWQgb3IgdGhlIHRpY2tlciBpcyBzdG9wcGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIHVwZGF0ZXNcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIGFkZChmbiwgY29udGV4dCwgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBoYW5kbGVyIGZvciB0aGUgdGljayBldmVudCB3aGljaCBpcyBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBhZGRPbmNlKGZuLCBjb250ZXh0LCBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUwpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgdHJ1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVybmFsbHkgYWRkcyB0aGUgZXZlbnQgaGFuZGxlciBzbyB0aGF0IGl0IGNhbiBiZSBzb3J0ZWQgYnkgcHJpb3JpdHkuXG4gICAgICogUHJpb3JpdHkgYWxsb3dzIGNlcnRhaW4gaGFuZGxlciAodXNlciwgQW5pbWF0ZWRTcHJpdGUsIEludGVyYWN0aW9uKSB0byBiZSBydW5cbiAgICAgKiBiZWZvcmUgdGhlIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gbGlzdGVuZXIgLSBDdXJyZW50IGxpc3RlbmVyIGJlaW5nIGFkZGVkLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIF9hZGRMaXN0ZW5lcihsaXN0ZW5lcilcbiAgICB7XG4gICAgICAgIC8vIEZvciBhdHRhY2hpbmcgdG8gaGVhZFxuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICAgICAgbGV0IHByZXZpb3VzID0gdGhpcy5faGVhZDtcblxuICAgICAgICAvLyBBZGQgdGhlIGZpcnN0IGl0ZW1cbiAgICAgICAgaWYgKCFjdXJyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEdvIGZyb20gaGlnaGVzdCB0byBsb3dlc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5wcmlvcml0eSA+IGN1cnJlbnQucHJpb3JpdHkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOb3QgeWV0IGNvbm5lY3RlZFxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lci5wcmV2aW91cylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXJ0SWZQb3NzaWJsZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW55IGhhbmRsZXJzIG1hdGNoaW5nIHRoZSBmdW5jdGlvbiBhbmQgY29udGV4dCBwYXJhbWV0ZXJzLlxuICAgICAqIElmIG5vIGhhbmRsZXJzIGFyZSBsZWZ0IGFmdGVyIHJlbW92aW5nLCB0aGVuIGl0IGNhbmNlbHMgdGhlIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0IHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICByZW1vdmUoZm4sIGNvbnRleHQpXG4gICAge1xuICAgICAgICBsZXQgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG5cbiAgICAgICAgd2hpbGUgKGxpc3RlbmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhIG1hdGNoLCBsZXRzIHJlbW92ZSBpdFxuICAgICAgICAgICAgLy8gbm8gYnJlYWsgdG8gZGVsZXRlIGFsbCBwb3NzaWJsZSBtYXRjaGVzXG4gICAgICAgICAgICAvLyBpbmNhc2UgYSBsaXN0ZW5lciB3YXMgYWRkZWQgMisgdGltZXNcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5tYXRjaChmbiwgY29udGV4dCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkLm5leHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgbGlzdGVuZXJzXG4gICAgICogYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIHN0YXJ0KClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyByZXF1ZXN0ZWRcbiAgICAgKiBhbiBhbmltYXRpb24gZnJhbWUgaXQgaXMgY2FuY2VsZWQgYXQgdGhpcyBwb2ludC5cbiAgICAgKi9cbiAgICBzdG9wKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIHRpY2tlciBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuIENhbGxpbmdcbiAgICAgKiB0aGlzIG1ldGhvZCByZW1vdmVzIGFsbCByZWZlcmVuY2VzIHRvIGludGVybmFsIGV2ZW50cy5cbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fcHJvdGVjdGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICAgICAgbGV0IGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuXG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9oZWFkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYW4gdXBkYXRlLiBBbiB1cGRhdGUgZW50YWlscyBzZXR0aW5nIHRoZVxuICAgICAqIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2VsYXBzZWRNU30sXG4gICAgICogdGhlIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICogaW52b2tpbmcgYWxsIGxpc3RlbmVycyB3aXRoIGN1cnJlbnQgZGVsdGFUaW1lLFxuICAgICAqIGFuZCB0aGVuIGZpbmFsbHkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbGFzdFRpbWV9XG4gICAgICogd2l0aCB0aGUgdmFsdWUgb2YgY3VycmVudFRpbWUgdGhhdCB3YXMgcHJvdmlkZWQuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSBhbmltYXRpb25cbiAgICAgKiBmcmFtZSBjYWxsYmFja3MgaWYgdGhlIHRpY2tlciBpbnN0YW5jZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICogYW5kIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2N1cnJlbnRUaW1lPXBlcmZvcm1hbmNlLm5vdygpXSAtIHRoZSBjdXJyZW50IHRpbWUgb2YgZXhlY3V0aW9uXG4gICAgICovXG4gICAgdXBkYXRlKGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkpXG4gICAge1xuICAgICAgICBsZXQgZWxhcHNlZE1TO1xuXG4gICAgICAgIC8vIElmIHRoZSBkaWZmZXJlbmNlIGluIHRpbWUgaXMgemVybyBvciBuZWdhdGl2ZSwgd2UgaWdub3JlIG1vc3Qgb2YgdGhlIHdvcmsgZG9uZSBoZXJlLlxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyB2YWxpZCBkaWZmZXJlbmNlLCB0aGVuIHNob3VsZCBiZSBubyByZWFzb24gdG8gbGV0IGFueW9uZSBrbm93IGFib3V0IGl0LlxuICAgICAgICAvLyBBIHplcm8gZGVsdGEsIGlzIGV4YWN0bHkgdGhhdCwgbm90aGluZyBzaG91bGQgdXBkYXRlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBpbiB0aW1lIGNhbiBiZSBuZWdhdGl2ZSwgYW5kIG5vIHRoaXMgZG9lcyBub3QgbWVhbiB0aW1lIHRyYXZlbGluZy5cbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgdGhlIHJlc3VsdCBvZiBhIHJhY2UgY29uZGl0aW9uIGJldHdlZW4gd2hlbiBhbiBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkXG4gICAgICAgIC8vIG9uIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgZW5naW5lIGV2ZW50IGxvb3AsIGFuZCB3aGVuIHRoZSB0aWNrZXIncyBzdGFydCBtZXRob2QgaXMgaW52b2tlZFxuICAgICAgICAvLyAod2hpY2ggaW52b2tlcyB0aGUgaW50ZXJuYWwgX3JlcXVlc3RJZk5lZWRlZCBtZXRob2QpLiBJZiBhIGZyYW1lIGlzIHJlcXVlc3RlZCBiZWZvcmVcbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZCBpcyBpbnZva2VkLCB0aGVuIHRoZSBjYWxsYmFjayBmb3IgdGhlIGFuaW1hdGlvbiBmcmFtZSB0aGUgdGlja2VyIHJlcXVlc3RzLFxuICAgICAgICAvLyBjYW4gcmVjZWl2ZSBhIHRpbWUgYXJndW1lbnQgdGhhdCBjYW4gYmUgbGVzcyB0aGFuIHRoZSBsYXN0VGltZSB2YWx1ZSB0aGF0IHdhcyBzZXQgd2l0aGluXG4gICAgICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQuIFRoaXMgZGlmZmVyZW5jZSBpcyBpbiBtaWNyb3NlY29uZHMsIGJ1dCB0aGlzIGlzIGVub3VnaCB0byBjYXVzZSBwcm9ibGVtcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBjaGVjayBjb3ZlcnMgdGhpcyBicm93c2VyIGVuZ2luZSB0aW1pbmcgaXNzdWUsIGFzIHdlbGwgYXMgaWYgY29uc3VtZXJzIHBhc3MgYW4gaW52YWxpZFxuICAgICAgICAvLyBjdXJyZW50VGltZSB2YWx1ZS4gVGhpcyBtYXkgaGFwcGVuIGlmIGNvbnN1bWVycyBvcHQtb3V0IG9mIHRoZSBhdXRvU3RhcnQsIGFuZCB1cGRhdGUgdGhlbXNlbHZlcy5cblxuICAgICAgICBpZiAoY3VycmVudFRpbWUgPiB0aGlzLmxhc3RUaW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBTYXZlIHVuY2FwcGVkIGVsYXBzZWRNUyBmb3IgbWVhc3VyZW1lbnRcbiAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuZWxhcHNlZE1TID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lO1xuXG4gICAgICAgICAgICAvLyBjYXAgdGhlIG1pbGxpc2Vjb25kcyBlbGFwc2VkIHVzZWQgZm9yIGRlbHRhVGltZVxuICAgICAgICAgICAgaWYgKGVsYXBzZWRNUyA+IHRoaXMuX21heEVsYXBzZWRNUylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsYXBzZWRNUyAqPSB0aGlzLnNwZWVkO1xuXG4gICAgICAgICAgICAvLyBJZiBub3QgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCwgZXhpdCB0aGUgZnVuY3Rpb24uXG4gICAgICAgICAgICAvLyBHZXQgcmVhZHkgZm9yIG5leHQgZnJhbWUgYnkgc2V0dGluZyBfbGFzdEZyYW1lLCBidXQgYmFzZWQgb24gX21pbkVsYXBzZWRNU1xuICAgICAgICAgICAgLy8gYWRqdXN0bWVudCB0byBlbnN1cmUgYSByZWxhdGl2ZWx5IHN0YWJsZSBpbnRlcnZhbC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBjdXJyZW50VGltZSAtIHRoaXMuX2xhc3RGcmFtZSB8IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPCB0aGlzLl9taW5FbGFwc2VkTVMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gY3VycmVudFRpbWUgLSAoZGVsdGEgJSB0aGlzLl9taW5FbGFwc2VkTVMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRlbHRhTVMgPSBlbGFwc2VkTVM7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZGVsdGFNUyAqIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuXG4gICAgICAgICAgICAvLyBDYWNoZSBhIGxvY2FsIHJlZmVyZW5jZSwgaW4tY2FzZSB0aWNrZXIgaXMgZGVzdHJveWVkXG4gICAgICAgICAgICAvLyBkdXJpbmcgdGhlIGVtaXQsIHdlIGNhbiBzdGlsbCBjaGVjayBmb3IgaGVhZC5uZXh0XG4gICAgICAgICAgICBjb25zdCBoZWFkID0gdGhpcy5faGVhZDtcblxuICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBhZGRlZCB0byBpbnRlcm5hbCBlbWl0dGVyXG4gICAgICAgICAgICBsZXQgbGlzdGVuZXIgPSBoZWFkLm5leHQ7XG5cbiAgICAgICAgICAgIHdoaWxlIChsaXN0ZW5lcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmVtaXQodGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWhlYWQubmV4dClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgPSB0aGlzLmVsYXBzZWRNUyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lcyBwZXIgc2Vjb25kIGF0IHdoaWNoIHRoaXMgdGlja2VyIGlzIHJ1bm5pbmcuXG4gICAgICogVGhlIGRlZmF1bHQgaXMgYXBwcm94aW1hdGVseSA2MCBpbiBtb3N0IG1vZGVybiBicm93c2Vycy5cbiAgICAgKiAqKk5vdGU6KiogVGhpcyBkb2VzIG5vdCBmYWN0b3IgaW4gdGhlIHZhbHVlIG9mXG4gICAgICoge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfSwgd2hpY2ggaXMgc3BlY2lmaWNcbiAgICAgKiB0byBzY2FsaW5nIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBGUFMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIDEwMDAgLyB0aGlzLmVsYXBzZWRNUztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYW5hZ2VzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgYWxsb3dlZCB0b1xuICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICAgICAqIFRoaXMgdmFsdWUgaXMgdXNlZCB0byBjYXAge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICogYnV0IGRvZXMgbm90IGVmZmVjdCB0aGUgbWVhc3VyZWQgdmFsdWUgb2Yge0BsaW5rIFBJWEkuVGlja2VyI0ZQU30uXG4gICAgICogV2hlbiBzZXR0aW5nIHRoaXMgcHJvcGVydHkgaXQgaXMgY2xhbXBlZCB0byBhIHZhbHVlIGJldHdlZW5cbiAgICAgKiBgMGAgYW5kIGBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TICogMTAwMGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTBcbiAgICAgKi9cbiAgICBnZXQgbWluRlBTKClcbiAgICB7XG4gICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgIH1cblxuICAgIHNldCBtaW5GUFMoZnBzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIC8vIE1pbmltdW0gbXVzdCBiZSBiZWxvdyB0aGUgbWF4RlBTXG4gICAgICAgIGNvbnN0IG1pbkZQUyA9IE1hdGgubWluKHRoaXMubWF4RlBTLCBmcHMpO1xuXG4gICAgICAgIC8vIE11c3QgYmUgYXQgbGVhc3QgMCwgYnV0IGJlbG93IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNU1xuICAgICAgICBjb25zdCBtaW5GUE1TID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgbWluRlBTKSAvIDEwMDAsIHNldHRpbmdzLlRBUkdFVF9GUE1TKTtcblxuICAgICAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxIC8gbWluRlBNUztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYW5hZ2VzIHRoZSBtaW5pbXVtIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgcmVxdWlyZWQgdG9cbiAgICAgKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfS5cbiAgICAgKiBUaGlzIHdpbGwgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgKiBJZiBpdCBpcyBzZXQgdG8gYDBgLCB0aGVuIHRoZXJlIGlzIG5vIGxpbWl0OyBQaXhpSlMgd2lsbCByZW5kZXIgYXMgbWFueSBmcmFtZXMgYXMgaXQgY2FuLlxuICAgICAqIE90aGVyd2lzZSBpdCB3aWxsIGJlIGF0IGxlYXN0IGBtaW5GUFNgXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIGdldCBtYXhGUFMoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX21pbkVsYXBzZWRNUylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoMTAwMCAvIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBzZXQgbWF4RlBTKGZwcylcbiAgICB7XG4gICAgICAgIGlmIChmcHMgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX21pbkVsYXBzZWRNUyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBNYXggbXVzdCBiZSBhdCBsZWFzdCB0aGUgbWluRlBTXG4gICAgICAgICAgICBjb25zdCBtYXhGUFMgPSBNYXRoLm1heCh0aGlzLm1pbkZQUywgZnBzKTtcblxuICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMSAvIChtYXhGUFMgLyAxMDAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzaGFyZWQgdGlja2VyIGluc3RhbmNlIHVzZWQgYnkge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9IGFuZCBieVxuICAgICAqIHtAbGluayBQSVhJLlZpZGVvUmVzb3VyY2V9IHRvIHVwZGF0ZSBhbmltYXRpb24gZnJhbWVzIC8gdmlkZW8gdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBJdCBtYXkgYWxzbyBiZSB1c2VkIGJ5IHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSBpZiBjcmVhdGVkIHdpdGggdGhlIGBzaGFyZWRUaWNrZXJgIG9wdGlvbiBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZS5cbiAgICAgKlxuICAgICAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBpcyBzZXQgdG8gYHRydWVgIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAqIFBsZWFzZSBmb2xsb3cgdGhlIGV4YW1wbGVzIGZvciB1c2FnZSwgaW5jbHVkaW5nIGhvdyB0byBvcHQtb3V0IG9mIGF1dG8tc3RhcnRpbmcgdGhlIHNoYXJlZCB0aWNrZXIuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGxldCB0aWNrZXIgPSBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gICAgICogLy8gU2V0IHRoaXMgdG8gcHJldmVudCBzdGFydGluZyB0aGlzIHRpY2tlciB3aGVuIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICogLy8gQnkgZGVmYXVsdCB0aGlzIGlzIHRydWUgb25seSBmb3IgdGhlIFBJWEkuVGlja2VyLnNoYXJlZCBpbnN0YW5jZS5cbiAgICAgKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICogLy8gRllJLCBjYWxsIHRoaXMgdG8gZW5zdXJlIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC4gSXQgc2hvdWxkIGJlIHN0b3BwZWRcbiAgICAgKiAvLyBpZiB5b3UgaGF2ZSBub3QgYXR0ZW1wdGVkIHRvIHJlbmRlciBhbnl0aGluZyB5ZXQuXG4gICAgICogdGlja2VyLnN0b3AoKTtcbiAgICAgKiAvLyBDYWxsIHRoaXMgd2hlbiB5b3UgYXJlIHJlYWR5IGZvciBhIHJ1bm5pbmcgc2hhcmVkIHRpY2tlci5cbiAgICAgKiB0aWNrZXIuc3RhcnQoKTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gWW91IG1heSB1c2UgdGhlIHNoYXJlZCB0aWNrZXIgdG8gcmVuZGVyLi4uXG4gICAgICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAgICAgKiBsZXQgc3RhZ2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLnZpZXcpO1xuICAgICAqIHRpY2tlci5hZGQoZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gT3IgeW91IGNhbiBqdXN0IHVwZGF0ZSBpdCBtYW51YWxseS5cbiAgICAgKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICogdGlja2VyLnN0b3AoKTtcbiAgICAgKiBmdW5jdGlvbiBhbmltYXRlKHRpbWUpIHtcbiAgICAgKiAgICAgdGlja2VyLnVwZGF0ZSh0aW1lKTtcbiAgICAgKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAgICAgKiAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAqIH1cbiAgICAgKiBhbmltYXRlKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGlja2VyfVxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHNoYXJlZCgpXG4gICAge1xuICAgICAgICBpZiAoIVRpY2tlci5fc2hhcmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzaGFyZWQgPSBUaWNrZXIuX3NoYXJlZCA9IG5ldyBUaWNrZXIoKTtcblxuICAgICAgICAgICAgc2hhcmVkLmF1dG9TdGFydCA9IHRydWU7XG4gICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gVGlja2VyLl9zaGFyZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHN5c3RlbSB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IGFuZCBieVxuICAgICAqIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSBmb3IgY29yZSB0aW1pbmcgZnVuY3Rpb25hbGl0eSB0aGF0IHNob3VsZG4ndCB1c3VhbGx5IG5lZWQgdG8gYmUgcGF1c2VkLFxuICAgICAqIHVubGlrZSB0aGUgYHNoYXJlZGAgdGlja2VyIHdoaWNoIGRyaXZlcyB2aXN1YWwgYW5pbWF0aW9ucyBhbmQgcmVuZGVyaW5nIHdoaWNoIG1heSB3YW50IHRvIGJlIHBhdXNlZC5cbiAgICAgKlxuICAgICAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBpcyBzZXQgdG8gYHRydWVgIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc3lzdGVtKClcbiAgICB7XG4gICAgICAgIGlmICghVGlja2VyLl9zeXN0ZW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHN5c3RlbSA9IFRpY2tlci5fc3lzdGVtID0gbmV3IFRpY2tlcigpO1xuXG4gICAgICAgICAgICBzeXN0ZW0uYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHN5c3RlbS5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBUaWNrZXIuX3N5c3RlbTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVGlja2VyIGZyb20gJy4vVGlja2VyJztcbmltcG9ydCB7IFVQREFURV9QUklPUklUWSB9IGZyb20gJy4vY29uc3QnO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbiBUaWNrZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7VGlja2VyUGx1Z2lufSBmcm9tICdAcGl4aS90aWNrZXInO1xuICogaW1wb3J0IHtBcHBsaWNhdGlvbn0gZnJvbSAnQHBpeGkvYXBwJztcbiAqIEFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFRpY2tlclBsdWdpbik7XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWNrZXJQbHVnaW5cbntcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSBhcHBsaWNhdGlvbiBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGluaXQob3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGF1dG9TdGFydDogdHJ1ZSxcbiAgICAgICAgICAgIHNoYXJlZFRpY2tlcjogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIENyZWF0ZSB0aWNrZXIgc2V0dGVyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndGlja2VyJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXQodGlja2VyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RpY2tlcilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyLnJlbW92ZSh0aGlzLnJlbmRlciwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGlja2VyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXIuYWRkKHRoaXMucmVuZGVyLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuTE9XKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0b3BwaW5nIHRoZSByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNzdG9wXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3AgPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90aWNrZXIuc3RvcCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0YXJ0aW5nIHRoZSByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNzdGFydFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFydCA9ICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpY2tlci5zdGFydCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByZWZlcmVuY2UgdG8gdGhlIHRpY2tlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAbmFtZSBfdGlja2VyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGlja2VyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGlja2VyIGZvciBkb2luZyByZW5kZXIgdXBkYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAbmFtZSB0aWNrZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVGlja2VyLnNoYXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWNrZXIgPSBvcHRpb25zLnNoYXJlZFRpY2tlciA/IFRpY2tlci5zaGFyZWQgOiBuZXcgVGlja2VyKCk7XG5cbiAgICAgICAgLy8gU3RhcnQgdGhlIHJlbmRlcmluZ1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvU3RhcnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90aWNrZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFRpY2tlciA9IHRoaXMuX3RpY2tlcjtcblxuICAgICAgICAgICAgdGhpcy50aWNrZXIgPSBudWxsO1xuICAgICAgICAgICAgb2xkVGlja2VyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5cbi8qKlxuICogQmFzZSByZXNvdXJjZSBjbGFzcyBmb3IgdGV4dHVyZXMgdGhhdCBtYW5hZ2VzIHZhbGlkYXRpb24gYW5kIHVwbG9hZGluZywgZGVwZW5kaW5nIG9uIGl0cyB0eXBlLlxuICpcbiAqIFVwbG9hZGluZyBvZiBhIGJhc2UgdGV4dHVyZSB0byB0aGUgR1BVIGlzIHJlcXVpcmVkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc291cmNlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iod2lkdGggPSAwLCBoZWlnaHQgPSAwKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHJlc291cmNlIGhhcyBiZWVuIGRlc3Ryb3llZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiByZXNvdXJjZSBpcyBjcmVhdGVkIGJ5IEJhc2VUZXh0dXJlXG4gICAgICAgICAqIHVzZWZ1bCBmb3IgZG9pbmcgY2xlYW51cCB3aXRoIEJhc2VUZXh0dXJlIGRlc3Ryb3lcbiAgICAgICAgICogYW5kIG5vdCBjbGVhbmluZyB1cCByZXNvdXJjZXMgdGhhdCB3ZXJlIGNyZWF0ZWRcbiAgICAgICAgICogZXh0ZXJuYWxseS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcm5hbCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pLXJ1bm5lciBmb3IgaGFuZGxpbmcgcmVzaXplIGV2ZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUmVzaXplID0gbmV3IFJ1bm5lcignc2V0UmVhbFNpemUnLCAyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWluaS1ydW5uZXIgZm9yIGhhbmRsaW5nIHVwZGF0ZSBldmVudHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UnVubmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG5ldyBSdW5uZXIoJ3VwZGF0ZScpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYW5kbGUgaW50ZXJuYWwgZXJyb3JzLCBzdWNoIGFzIGxvYWRpbmcgZXJyb3JzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBSdW5uZXIoJ29uRXJyb3InLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIHRvIGEgcGFyZW50IEJhc2VUZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUGFyZW50IHRleHR1cmVcbiAgICAgKi9cbiAgICBiaW5kKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdGhpcy5vblJlc2l6ZS5hZGQoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlLmFkZChiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25FcnJvci5hZGQoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIC8vIENhbGwgYSByZXNpemUgaW1tZWRpYXRlIGlmIHdlIGFscmVhZHlcbiAgICAgICAgLy8gaGF2ZSB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoIHx8IHRoaXMuX2hlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZS5ydW4odGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICAgICAqL1xuICAgIHVuYmluZChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHRoaXMub25SZXNpemUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGEgcmVzaXplIGV2ZW50XG4gICAgICovXG4gICAgcmVzaXplKHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICBpZiAod2lkdGggIT09IHRoaXMuX3dpZHRoIHx8IGhlaWdodCAhPT0gdGhpcy5faGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZS5ydW4od2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYXMgYmVlbiB2YWxpZGF0ZWRcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCB2YWxpZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gISF0aGlzLl93aWR0aCAmJiAhIXRoaXMuX2hlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYXMgYmVlbiB1cGRhdGVkIHRyaWdnZXIgZXZlbnRcbiAgICAgKi9cbiAgICB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZS5ydW4oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gdG8gc3RhcnQgcHJlbG9hZGluZyBhIHJlc291cmNlXG4gICAgICogb3IgZG8gYW55IG90aGVyIHByZXBhcmUgc3RlcC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICAgICAqL1xuICAgIGxvYWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdGV4dHVyZSBvciByZXR1cm5zIGZhbHNlIGlmIGl0IGNhbnQgZm9yIHNvbWUgcmVhc29uLiBPdmVycmlkZSB0aGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHllYWgsIHJlbmRlcmVyIVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIHRleHR1cmUgaW5zdGFuY2UgZm9yIHRoaXMgd2ViZ2wgY29udGV4dFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHN0eWxlLCBvcHRpb25hbCB0byBvdmVycmlkZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHllYWgsIHJlbmRlcmVyIVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIHRleHR1cmUgaW5zdGFuY2UgZm9yIHRoaXMgd2ViZ2wgY29udGV4dFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIHN0eWxlKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgYW55dGhpbmcsIHRoaXMgaGFwcGVucyB3aGVuIGRlc3Ryb3lpbmcgaXMgcmVhZHkuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICAvLyBvdmVycmlkZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgd2hlbiBkZXN0cm95aW5nIHJlc291cmNlLCB1bmJpbmQgYW55IEJhc2VUZXh0dXJlIG9iamVjdFxuICAgICAqIGJlZm9yZSBjYWxsaW5nIHRoaXMgbWV0aG9kLCBhcyByZWZlcmVuY2UgY291bnRzIGFyZSBtYWludGFpbmVkXG4gICAgICogaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5kZXN0cm95ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGUucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBSZXNvdXJjZSBmcm9tICcuL1Jlc291cmNlJztcbmltcG9ydCB7IGRldGVybWluZUNyb3NzT3JpZ2luIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIEJhc2UgZm9yIGFsbCB0aGUgaW1hZ2UvY2FudmFzIHJlc291cmNlc1xuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VJbWFnZVJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2VcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fSBzb3VyY2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UpXG4gICAge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHNvdXJjZS5uYXR1cmFsV2lkdGggfHwgc291cmNlLnZpZGVvV2lkdGggfHwgc291cmNlLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBzb3VyY2UubmF0dXJhbEhlaWdodCB8fCBzb3VyY2UudmlkZW9IZWlnaHQgfHwgc291cmNlLmhlaWdodDtcblxuICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNvdXJjZSBlbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBjcm9zcyBvcmlnaW4gYmFzZWQgZGV0ZWN0aW5nIHRoZSB1cmwgYW5kIHRoZSBjcm9zc29yaWdpblxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSBjcm9zc09yaWdpblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBbY3Jvc3NvcmlnaW49dHJ1ZV0gLSBDcm9zcyBvcmlnaW4gdmFsdWUgdG8gdXNlXG4gICAgICovXG4gICAgc3RhdGljIGNyb3NzT3JpZ2luKGVsZW1lbnQsIHVybCwgY3Jvc3NvcmlnaW4pXG4gICAge1xuICAgICAgICBpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCAmJiB1cmwuaW5kZXhPZignZGF0YTonKSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgZWxlbWVudC5jcm9zc09yaWdpbiA9IGRldGVybWluZUNyb3NzT3JpZ2luKHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3Jvc3NvcmlnaW4gIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSAnc3RyaW5nJyA/IGNyb3Nzb3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9IFtzb3VyY2VdIChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgdXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCBzb3VyY2UpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBjb25zdCB3aWR0aCA9IGJhc2VUZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcblxuICAgICAgICBzb3VyY2UgPSBzb3VyY2UgfHwgdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtcblxuICAgICAgICBpZiAoYmFzZVRleHR1cmUudGFyZ2V0ID09PSBnbC5URVhUVVJFXzJEICYmIGdsVGV4dHVyZS53aWR0aCA9PT0gd2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHNvdXJjZSB3aWR0aC9oZWlnaHQgd2FzIGNoYW5nZWQsIHJlc2l6ZSBjYW4gY2F1c2UgZXh0cmEgYmFzZVRleHR1cmUgdXBkYXRlLlxuICAgICAqIFRyaWdnZXJzIG9uZSB1cGRhdGUgaW4gYW55IGNhc2UuXG4gICAgICovXG4gICAgdXBkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLnNvdXJjZS5uYXR1cmFsV2lkdGggfHwgdGhpcy5zb3VyY2UudmlkZW9XaWR0aCB8fCB0aGlzLnNvdXJjZS53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5zb3VyY2UubmF0dXJhbEhlaWdodCB8fCB0aGlzLnNvdXJjZS52aWRlb0hlaWdodCB8fCB0aGlzLnNvdXJjZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgc3VwZXIudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGlzIEJhc2VJbWFnZVJlc291cmNlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBbZnJvbVRleHR1cmVdIE9wdGlvbmFsIGJhc2UgdGV4dHVyZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IERlc3Ryb3kgd2FzIHN1Y2Nlc3NmdWxcbiAgICAgKi9cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgQmFzZUltYWdlUmVzb3VyY2UgZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MSW1hZ2VFbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlUmVzb3VyY2UgZXh0ZW5kcyBCYXNlSW1hZ2VSZXNvdXJjZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxzdHJpbmd9IHNvdXJjZSAtIGltYWdlIHNvdXJjZSBvciBVUkxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIHN0YXJ0IGxvYWRpbmcgcHJvY2Vzc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3JlYXRlQml0bWFwPVBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUF0gd2hldGhlciBpdHMgcmVxdWlyZWQgdG8gY3JlYXRlXG4gICAgICogICAgICAgIGEgYml0bWFwIGJlZm9yZSB1cGxvYWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gTG9hZCBpbWFnZSB1c2luZyBjcm9zcyBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZW11bHRpcGx5QWxwaGE9dHJ1ZV0gLSBQcmVtdWx0aXBseSBpbWFnZSBhbHBoYSBpbiBiaXRtYXBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKGltYWdlRWxlbWVudCwgc291cmNlLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcblxuICAgICAgICAgICAgaW1hZ2VFbGVtZW50LnNyYyA9IHNvdXJjZTtcbiAgICAgICAgICAgIHNvdXJjZSA9IGltYWdlRWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKHNvdXJjZSk7XG5cbiAgICAgICAgLy8gRmlyZUZveCA2OCwgYW5kIHBvc3NpYmx5IG90aGVyIHZlcnNpb25zLCBzZWVtcyBsaWtlIHNldHRpbmcgdGhlIEhUTUxJbWFnZUVsZW1lbnQjd2lkdGggYW5kICNoZWlnaHRcbiAgICAgICAgLy8gdG8gbm9uLXplcm8gdmFsdWVzIGJlZm9yZSBpdHMgbG9hZGluZyBjb21wbGV0ZXMgaWYgaW1hZ2VzIGFyZSBpbiBhIGNhY2hlLlxuICAgICAgICAvLyBCZWNhdXNlIG9mIHRoaXMsIG5lZWQgdG8gc2V0IHRoZSBgX3dpZHRoYCBhbmQgdGhlIGBfaGVpZ2h0YCB0byB6ZXJvIHRvIGF2b2lkIHVwbG9hZGluZyBpbmNvbXBsZXRlIGltYWdlcy5cbiAgICAgICAgLy8gUGxlYXNlIHJlZmVyIHRvIHRoZSBpc3N1ZSAjNTk2OCAoaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81OTY4KS5cbiAgICAgICAgaWYgKCFzb3VyY2UuY29tcGxldGUgJiYgISF0aGlzLl93aWR0aCAmJiAhIXRoaXMuX2hlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSAwO1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVUkwgb2YgdGhlIGltYWdlIHNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHNvdXJjZS5zcmM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gcHJvY2VzcyBpcyBjb21wbGV0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgaW1hZ2Ugc2hvdWxkIGJlIGRpc3Bvc2VkIGFmdGVyIHVwbG9hZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVzZXJ2ZUJpdG1hcCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBjYXBhYmxlLCBjb252ZXJ0IHRoZSBpbWFnZSB1c2luZyBjcmVhdGVJbWFnZUJpdG1hcCBBUElcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNyZWF0ZUJpdG1hcCA9IChvcHRpb25zLmNyZWF0ZUJpdG1hcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuY3JlYXRlQml0bWFwIDogc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUCkgJiYgISF3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRyb2xzIHRleHR1cmUgcHJlbXVsdGlwbHlBbHBoYSBmaWVsZFxuICAgICAgICAgKiBDb3BpZXMgZnJvbSBvcHRpb25zXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW58bnVsbH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBvcHRpb25zLnByZW11bHRpcGx5QWxwaGEgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSW1hZ2VCaXRtYXAgZWxlbWVudCBjcmVhdGVkIGZvciBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXIge0ltYWdlQml0bWFwfVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgcHJvbWlzZSB3aGVuIGltYWdlIHdpbGwgYmUgbG9hZGVkIGFuZCBwcm9jZXNzZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NyZWF0ZUJpdG1hcD10cnVlXSB3aGV0aGVyIHByb2Nlc3MgaW1hZ2UgaW50byBiaXRtYXBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBsb2FkKGNyZWF0ZUJpdG1hcClcbiAgICB7XG4gICAgICAgIGlmIChjcmVhdGVCaXRtYXAgIT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVCaXRtYXAgPSBjcmVhdGVCaXRtYXA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXJsID0gdGhpcy5zb3VyY2Uuc3JjO1xuICAgICAgICAgICAgY29uc3QgeyBzb3VyY2UgfSA9IHRoaXM7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZCA9ICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZShzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3JlYXRlQml0bWFwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnByb2Nlc3MoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHNvdXJjZS5jb21wbGV0ZSAmJiBzb3VyY2Uuc3JjKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBjb21wbGV0ZWQ7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSAoZXZlbnQpID0+IHRoaXMub25FcnJvci5ydW4oZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB3ZSBuZWVkIHRvIGNvbnZlcnQgaW1hZ2UgaW50byBCaXRtYXBJbWFnZS5cbiAgICAgKiBDYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCByZWFsIHByb21pc2UgaXMgY2FjaGVkIGluc2lkZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBjYWNoZWQgcHJvbWlzZSB0byBmaWxsIHRoYXQgYml0bWFwXG4gICAgICovXG4gICAgcHJvY2VzcygpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcHJvY2VzcyAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYml0bWFwICE9PSBudWxsIHx8ICF3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcm9jZXNzID0gd2luZG93LmNyZWF0ZUltYWdlQml0bWFwKHRoaXMuc291cmNlLFxuICAgICAgICAgICAgMCwgMCwgdGhpcy5zb3VyY2Uud2lkdGgsIHRoaXMuc291cmNlLmhlaWdodCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB0aGlzLnByZW11bHRpcGx5QWxwaGEgPyAncHJlbXVsdGlwbHknIDogJ25vbmUnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChiaXRtYXApID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYml0bWFwID0gYml0bWFwO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSBpbWFnZSByZXNvdXJjZSB0byBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gUmVuZGVyZXIgdG8gdXBsb2FkIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEJhc2VUZXh0dXJlIGZvciB0aGlzIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gR0xUZXh0dXJlIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpXG4gICAge1xuICAgICAgICBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhID0gdGhpcy5wcmVtdWx0aXBseUFscGhhO1xuXG4gICAgICAgIGlmICghdGhpcy5jcmVhdGVCaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci51cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHllYWgsIGlnbm9yZSB0aGUgb3V0cHV0XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iaXRtYXApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIudXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCB0aGlzLmJpdG1hcCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnByZXNlcnZlQml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBjaGVja3MgaWYgdGhlcmUgYXJlIG90aGVyIHJlbmRlcmVycyB0aGF0IHBvc3NpYmx5IG5lZWQgdGhpcyBiaXRtYXBcblxuICAgICAgICAgICAgbGV0IGZsYWcgPSB0cnVlO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBiYXNlVGV4dHVyZS5fZ2xUZXh0dXJlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlclRleCA9IGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzW2tleV07XG5cbiAgICAgICAgICAgICAgICBpZiAob3RoZXJUZXggIT09IGdsVGV4dHVyZSAmJiBvdGhlclRleC5kaXJ0eUlkICE9PSBiYXNlVGV4dHVyZS5kaXJ0eUlkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmbGFnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJpdG1hcC5jbG9zZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICB0aGlzLnNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICB0aGlzLnNvdXJjZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuYml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJpdG1hcC5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgSW1hZ2VSZXNvdXJjZSBmcm9tICcuL0ltYWdlUmVzb3VyY2UnO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHJlc291cmNlIHR5cGVzLCBjbGFzcyBtdXN0IGV4dGVuZCB7QGxpbmsgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9LlxuICogQGV4YW1wbGVcbiAqIGNsYXNzIEN1c3RvbVJlc291cmNlIGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2Uge1xuICogICAvLyBNVVNUIGhhdmUgc291cmNlLCBvcHRpb25zIGNvbnN0cnVjdG9yIHNpZ25hdHVyZVxuICogICAvLyBmb3IgYXV0by1kZXRlY3RlZCByZXNvdXJjZXMgdG8gYmUgY3JlYXRlZC5cbiAqICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gKiAgICAgc3VwZXIoKTtcbiAqICAgfVxuICogICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAqICAgICAvLyB1cGxvYWQgd2l0aCBHTFxuICogICAgIHJldHVybiB0cnVlO1xuICogICB9XG4gKiAgIC8vIHVzZWQgdG8gYXV0by1kZXRlY3QgcmVzb3VyY2VcbiAqICAgc3RhdGljIHRlc3Qoc291cmNlLCBleHRlbnNpb24pIHtcbiAqICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAneHl6J3x8IHNvdXJjZSBpbnN0YW5jZW9mIFNvbWVDbGFzcztcbiAqICAgfVxuICogfVxuICogLy8gSW5zdGFsbCB0aGUgbmV3IHJlc291cmNlIHR5cGVcbiAqIFBJWEkucmVzb3VyY2VzLklOU1RBTExFRC5wdXNoKEN1c3RvbVJlc291cmNlKTtcbiAqXG4gKiBAbmFtZSBQSVhJLnJlc291cmNlcy5JTlNUQUxMRURcbiAqIEB0eXBlIHtBcnJheTwqPn1cbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICovXG5leHBvcnQgY29uc3QgSU5TVEFMTEVEID0gW107XG5cbi8qKlxuICogQ3JlYXRlIGEgcmVzb3VyY2UgZWxlbWVudCBmcm9tIGEgc2luZ2xlIHNvdXJjZSBlbGVtZW50LiBUaGlzXG4gKiBhdXRvLWRldGVjdHMgd2hpY2ggdHlwZSBvZiByZXNvdXJjZSB0byBjcmVhdGUuIEFsbCByZXNvdXJjZXMgdGhhdFxuICogYXJlIGF1dG8tZGV0ZWN0YWJsZSBtdXN0IGhhdmUgYSBzdGF0aWMgYHRlc3RgIG1ldGhvZCBhbmQgYSBjb25zdHJ1Y3RvclxuICogd2l0aCB0aGUgYXJndW1lbnRzIGAoc291cmNlLCBvcHRpb25zPylgLiBDdXJyZW50bHksIHRoZSBzdXBwb3J0ZWRcbiAqIHJlc291cmNlcyBmb3IgYXV0by1kZXRlY3Rpb24gaW5jbHVkZTpcbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkNhbnZhc1Jlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLlZpZGVvUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuQnVmZmVyUmVzb3VyY2V9XG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ3wqfSBzb3VyY2UgLSBSZXNvdXJjZSBzb3VyY2UsIHRoaXMgY2FuIGJlIHRoZSBVUkwgdG8gdGhlIHJlc291cmNlLFxuICogICAgICAgIGEgdHlwZWQtYXJyYXkgKGZvciBCdWZmZXJSZXNvdXJjZSksIEhUTUxWaWRlb0VsZW1lbnQsIFNWRyBkYXRhLXVyaVxuICogICAgICAgIG9yIGFueSBvdGhlciByZXNvdXJjZSB0aGF0IGNhbiBiZSBhdXRvLWRldGVjdGVkLiBJZiBub3QgcmVzb3VyY2UgaXNcbiAqICAgICAgICBkZXRlY3RlZCwgaXQncyBhc3N1bWVkIHRvIGJlIGFuIEltYWdlUmVzb3VyY2UuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gUGFzcy10aHJvdWdoIG9wdGlvbnMgdG8gdXNlIGZvciBSZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiBCdWZmZXJSZXNvdXJjZSBvciBTVkcgcmFzdGVyaXphdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIEltYWdlLCBTVkcgYW5kIFZpZGVvIGZsYWcgdG8gc3RhcnQgbG9hZGluZ1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTFdIC0gU1ZHIHNvdXJjZSBzY2FsZS4gT3ZlcnJpZGRlbiBieSB3aWR0aCwgaGVpZ2h0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyZWF0ZUJpdG1hcD1QSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBdIC0gSW1hZ2Ugb3B0aW9uIHRvIGNyZWF0ZSBCaXRtYXAgb2JqZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gSW1hZ2UgYW5kIFZpZGVvIG9wdGlvbiB0byBzZXQgY3Jvc3NPcmlnaW5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1BsYXk9dHJ1ZV0gLSBWaWRlbyBvcHRpb24gdG8gc3RhcnQgcGxheWluZyB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVwZGF0ZUZQUz0wXSAtIFZpZGVvIG9wdGlvbiB0byB1cGRhdGUgaG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdGhlXG4gKiAgICAgICAgdGV4dHVyZSBzaG91bGQgYmUgdXBkYXRlZCBmcm9tIHRoZSB2aWRlby4gTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyXG4gKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gVGhlIGNyZWF0ZWQgcmVzb3VyY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKVxue1xuICAgIGlmICghc291cmNlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbGV0IGV4dGVuc2lvbiA9ICcnO1xuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKVxuICAgIHtcbiAgICAgICAgLy8gc2VhcmNoIGZvciBmaWxlIGV4dGVuc2lvbjogcGVyaW9kLCAzLTQgY2hhcnMsIHRoZW4gPywgIyBvciBFT0xcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKC9cXC4oXFx3ezMsNH0pKD86JHxcXD98IykvaSkuZXhlYyhzb3VyY2UpO1xuXG4gICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9IHJlc3VsdFsxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IElOU1RBTExFRC5sZW5ndGggLSAxOyBpID49IDA7IC0taSlcbiAgICB7XG4gICAgICAgIGNvbnN0IFJlc291cmNlUGx1Z2luID0gSU5TVEFMTEVEW2ldO1xuXG4gICAgICAgIGlmIChSZXNvdXJjZVBsdWdpbi50ZXN0ICYmIFJlc291cmNlUGx1Z2luLnRlc3Qoc291cmNlLCBleHRlbnNpb24pKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlc291cmNlUGx1Z2luKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXaGVuIGluIGRvdWJ0OiBwcm9iYWJseSBhbiBpbWFnZVxuICAgIC8vIG1pZ2h0IGJlIGFwcHJvcHJpYXRlIHRvIHRocm93IGFuIGVycm9yIG9yIHJldHVybiBudWxsXG4gICAgcmV0dXJuIG5ldyBJbWFnZVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucyk7XG59XG4iLCJpbXBvcnQgUmVzb3VyY2UgZnJvbSAnLi9SZXNvdXJjZSc7XG5cbi8qKlxuICogQGludGVyZmFjZSBTaGFyZWRBcnJheUJ1ZmZlclxuICovXG5cbi8qKlxuICogQnVmZmVyIHJlc291cmNlIHdpdGggZGF0YSBvZiB0eXBlZCBhcnJheS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWZmZXJSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheXxVaW50MzJBcnJheX0gc291cmNlIC0gU291cmNlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gT3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLndpZHRoIC0gV2lkdGggb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5oZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1ZmZlclJlc291cmNlIHdpZHRoIG9yIGhlaWdodCBpbnZhbGlkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGFycmF5XG4gICAgICAgICAqIENhbm5vdCBiZSBDbGFtcGVkVWludDhBcnJheSBiZWNhdXNlIGl0IGNhbnQgYmUgdXBsb2FkZWQgdG8gV2ViR0xcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl8VWludDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBzb3VyY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoID09PSBiYXNlVGV4dHVyZS53aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBiYXNlVGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgPGNhbnZhcz5cbiAgICAgKi9cbiAgICBzdGF0aWMgdGVzdChzb3VyY2UpXG4gICAge1xuICAgICAgICByZXR1cm4gc291cmNlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5XG4gICAgICAgICAgICB8fCBzb3VyY2UgaW5zdGFuY2VvZiBVaW50OEFycmF5XG4gICAgICAgICAgICB8fCBzb3VyY2UgaW5zdGFuY2VvZiBVaW50MzJBcnJheTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlVGV4dHVyZUNhY2hlLCBFdmVudEVtaXR0ZXIsIGlzUG93MiwgVGV4dHVyZUNhY2hlLCB1aWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBGT1JNQVRTLCBTQ0FMRV9NT0RFUywgVEFSR0VUUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5pbXBvcnQgUmVzb3VyY2UgZnJvbSAnLi9yZXNvdXJjZXMvUmVzb3VyY2UnO1xuaW1wb3J0IEJ1ZmZlclJlc291cmNlIGZyb20gJy4vcmVzb3VyY2VzL0J1ZmZlclJlc291cmNlJztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZXNvdXJjZSB9IGZyb20gJy4vcmVzb3VyY2VzL2F1dG9EZXRlY3RSZXNvdXJjZSc7XG5cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG5jb25zdCBkZWZhdWx0QnVmZmVyT3B0aW9ucyA9IHtcbiAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgZm9ybWF0OiBGT1JNQVRTLlJHQkEsXG4gICAgcHJlbXVsdGlwbHlBbHBoYTogZmFsc2UsXG59O1xuXG4vKipcbiAqIEEgVGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZS5cbiAqIEFsbCB0ZXh0dXJlcyBoYXZlIGEgYmFzZSB0ZXh0dXJlLCB3aGljaCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc291cmNlLlxuICogVGhlcmVmb3JlIHlvdSBjYW4gaGF2ZSBtYW55IHRleHR1cmVzIGFsbCB1c2luZyBhIHNpbmdsZSBCYXNlVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfHN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtyZXNvdXJjZT1udWxsXVxuICogICAgICAgIFRoZSBjdXJyZW50IHJlc291cmNlIHRvIHVzZSwgZm9yIHRoaW5ncyB0aGF0IGFyZW4ndCBSZXNvdXJjZSBvYmplY3RzLCB3aWxsIGJlIGNvbnZlcnRlZFxuICogICAgICAgIGludG8gYSBSZXNvdXJjZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBDb2xsZWN0aW9uIG9mIG9wdGlvbnNcbiAqIEBwYXJhbSB7UElYSS5NSVBNQVBfTU9ERVN9IFtvcHRpb25zLm1pcG1hcD1QSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU10gLSBJZiBtaXBtYXBwaW5nIGlzIGVuYWJsZWQgZm9yIHRleHR1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbmlzb3Ryb3BpY0xldmVsPVBJWEkuc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUxdIC0gQW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVcbiAqIEBwYXJhbSB7UElYSS5XUkFQX01PREVTfSBbb3B0aW9ucy53cmFwTW9kZT1QSVhJLnNldHRpbmdzLldSQVBfTU9ERV0gLSBXcmFwIG1vZGUgZm9yIHRleHR1cmVzXG4gKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFtvcHRpb25zLnNjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gRGVmYXVsdCBzY2FsZSBtb2RlLCBsaW5lYXIsIG5lYXJlc3RcbiAqIEBwYXJhbSB7UElYSS5GT1JNQVRTfSBbb3B0aW9ucy5mb3JtYXQ9UElYSS5GT1JNQVRTLlJHQkFdIC0gR0wgZm9ybWF0IHR5cGVcbiAqIEBwYXJhbSB7UElYSS5UWVBFU30gW29wdGlvbnMudHlwZT1QSVhJLlRZUEVTLlVOU0lHTkVEX0JZVEVdIC0gR0wgZGF0YSB0eXBlXG4gKiBAcGFyYW0ge1BJWEkuVEFSR0VUU30gW29wdGlvbnMudGFyZ2V0PVBJWEkuVEFSR0VUUy5URVhUVVJFXzJEXSAtIEdMIHRleHR1cmUgdGFyZ2V0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZW11bHRpcGx5QWxwaGE9dHJ1ZV0gLSBQcmUgbXVsdGlwbHkgdGhlIGltYWdlIGFscGhhXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MF0gLSBXaWR0aCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD0wXSAtIEhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb25dIC0gUmVzb2x1dGlvbiBvZiB0aGUgYmFzZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMucmVzb3VyY2VPcHRpb25zXSAtIE9wdGlvbmFsIHJlc291cmNlIG9wdGlvbnMsXG4gKiAgICAgICAgc2VlIHtAbGluayBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2UgYXV0b0RldGVjdFJlc291cmNlfVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlVGV4dHVyZSBleHRlbmRzIEV2ZW50RW1pdHRlclxue1xuICAgIGNvbnN0cnVjdG9yKHJlc291cmNlID0gbnVsbCwgb3B0aW9ucyA9IG51bGwpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGNvbnN0IHsgcHJlbXVsdGlwbHlBbHBoYSwgbWlwbWFwLCBhbmlzb3Ryb3BpY0xldmVsLCBzY2FsZU1vZGUsIHdpZHRoLCBoZWlnaHQsXG4gICAgICAgICAgICB3cmFwTW9kZSwgZm9ybWF0LCB0eXBlLCB0YXJnZXQsIHJlc29sdXRpb24sIHJlc291cmNlT3B0aW9ucyB9ID0gb3B0aW9ucztcblxuICAgICAgICAvLyBDb252ZXJ0IHRoZSByZXNvdXJjZSB0byBhIFJlc291cmNlIG9iamVjdFxuICAgICAgICBpZiAocmVzb3VyY2UgJiYgIShyZXNvdXJjZSBpbnN0YW5jZW9mIFJlc291cmNlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb3VyY2UgPSBhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2UsIHJlc291cmNlT3B0aW9ucyk7XG4gICAgICAgICAgICByZXNvdXJjZS5pbnRlcm5hbCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCB8fCAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pcG1hcCBtb2RlIG9mIHRoZSB0ZXh0dXJlLCBhZmZlY3RzIGRvd25zY2FsZWQgaW1hZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taXBtYXAgPSBtaXBtYXAgIT09IHVuZGVmaW5lZCA/IG1pcG1hcCA6IHNldHRpbmdzLk1JUE1BUF9URVhUVVJFUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuaXNvdHJvcGljTGV2ZWwgPSBhbmlzb3Ryb3BpY0xldmVsICE9PSB1bmRlZmluZWQgPyBhbmlzb3Ryb3BpY0xldmVsIDogc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyB0aGUgdGV4dHVyZSB3cmFwc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBNb2RlID0gd3JhcE1vZGUgfHwgc2V0dGluZ3MuV1JBUF9NT0RFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgbW9kZSB0byBhcHBseSB3aGVuIHNjYWxpbmcgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IHNldHRpbmdzLlNDQUxFX01PREU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXhlbCBmb3JtYXQgb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GT1JNQVRTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkZPUk1BVFMuUkdCQVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb3JtYXQgPSBmb3JtYXQgfHwgRk9STUFUUy5SR0JBO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiByZXNvdXJjZSBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVFlQRVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVFlQRVMuVU5TSUdORURfQllURVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gdHlwZSB8fCBUWVBFUy5VTlNJR05FRF9CWVRFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGFyZ2V0IHR5cGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UQVJHRVRTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRBUkdFVFMuVEVYVFVSRV8yRFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQgfHwgVEFSR0VUUy5URVhUVVJFXzJEO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgcHJlLW11bHRpcGxpZWQgYWxwaGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVtdWx0aXBseUFscGhhID0gcHJlbXVsdGlwbHlBbHBoYSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdsb2JhbCB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBCYXNlVGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudWlkID0gdWlkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgYXV0b21hdGljIHRleHR1cmUgR2FyYmFnZSBDb2xsZWN0aW9uLCBzdG9yZXMgbGFzdCBHQyB0aWNrIHdoZW4gaXQgd2FzIGJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50b3VjaGVkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIHRleHR1cmUgaXMgYSBwb3dlciBvZiB0d28sIHRyeSB0byB1c2UgcG93ZXIgb2YgdHdvIHRleHR1cmVzIGFzIG11Y2hcbiAgICAgICAgICogYXMgeW91IGNhblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNQb3dlck9mVHdvID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiByZW5kZXIgY29udGV4dCB0ZXh0dXJlcyB3aGVyZSB0aGlzIGlzIGJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2dsVGV4dHVyZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBUZXh0dXJlU3lzdGVtIHRvIG9ubHkgdXBkYXRlIHRleHR1cmUgdG8gdGhlIEdQVSB3aGVuIG5lZWRlZC5cbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZSgpYCB0byBpbmNyZW1lbnQgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IFRleHR1cmVTeXN0ZW0gdG8gb25seSB1cGRhdGUgdGV4dHVyZSBzdHlsZSB3aGVuIG5lZWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnRseSBkZWZhdWx0IGNhY2hlIElELlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlSWQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZW5lcmFsbHkgc3BlYWtpbmcgbWVhbnMgd2hlbiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBhbHRlcm5hdGl2ZSBjYWNoZSBpZHMsIHNpbmNlIHNvbWUgQmFzZVRleHR1cmVzXG4gICAgICAgICAqIGNhbiBoYXZlIG1vcmUgdGhhbiBvbmUgSUQsIHNob3J0IG5hbWUgYW5kIGxvbmdlciBmdWxsIFVSTFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWcgaWYgQmFzZVRleHR1cmUgaGFzIGJlZW4gZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZSB1c2VkIGJ5IHRoaXMgQmFzZVRleHR1cmUsIHRoZXJlIGNhbiBvbmx5XG4gICAgICAgICAqIGJlIG9uZSByZXNvdXJjZSBwZXIgQmFzZVRleHR1cmUsIGJ1dCB0ZXh0dXJlcyBjYW4gc2hhcmVcbiAgICAgICAgICogcmVzb3VyY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc291cmNlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIHRoZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoRW5hYmxlZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgbG9hZGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZhaWxzIHRvIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZXJyb3JcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGVycm9yZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RXJyb3JFdmVudH0gZXZlbnQgLSBMb2FkIGVycm9yIGV2ZW50LlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgbG9hZGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyBkZXN0cm95ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIFNldCB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGl4ZWwgd2lkdGggb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcmVhbFdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwoKHRoaXMud2lkdGggKiB0aGlzLnJlc29sdXRpb24pIC0gMWUtNCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGl4ZWwgaGVpZ2h0IG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHJlYWxIZWlnaHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pIC0gMWUtNCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBzdHlsZSBvcHRpb25zIG9mIEJhc2VUZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFtzY2FsZU1vZGVdIC0gUGl4aSBzY2FsZW1vZGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTUlQTUFQX01PREVTfSBbbWlwbWFwXSAtIGVuYWJsZSBtaXBtYXBzXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBzZXRTdHlsZShzY2FsZU1vZGUsIG1pcG1hcClcbiAgICB7XG4gICAgICAgIGxldCBkaXJ0eTtcblxuICAgICAgICBpZiAoc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgJiYgc2NhbGVNb2RlICE9PSB0aGlzLnNjYWxlTW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGU7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWlwbWFwICE9PSB1bmRlZmluZWQgJiYgbWlwbWFwICE9PSB0aGlzLm1pcG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5taXBtYXAgPSBtaXBtYXA7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHcvaC9yZXNvbHV0aW9uLiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggVmlzdWFsIHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBWaXN1YWwgaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBPcHRpb25hbGx5IHNldCByZXNvbHV0aW9uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBzZXRTaXplKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgcmVhbCBzaXplIG9mIGJhc2VUZXh0dXJlLCBwcmVzZXJ2ZXMgY3VycmVudCByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxXaWR0aCBGdWxsIHJlbmRlcmVkIHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxIZWlnaHQgRnVsbCByZW5kZXJlZCBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIE9wdGlvbmFsbHkgc2V0IHJlc29sdXRpb25cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIHNldFJlYWxTaXplKHJlYWxXaWR0aCwgcmVhbEhlaWdodCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0gcmVhbFdpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHJlYWxIZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoIGNoZWNrIGZvciBpc1Bvd2VyT2ZUd28gdGV4dHVyZSBiYXNlZCBvbiBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZWZyZXNoUE9UKClcbiAgICB7XG4gICAgICAgIHRoaXMuaXNQb3dlck9mVHdvID0gaXNQb3cyKHRoaXMucmVhbFdpZHRoKSAmJiBpc1BvdzIodGhpcy5yZWFsSGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHJlc29sdXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gcmVzXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBzZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICBjb25zdCBvbGRSZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChvbGRSZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLndpZHRoICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJlc291cmNlIGlmIGl0IHdhc24ndCBzZXQuIFRocm93cyBlcnJvciBpZiByZXNvdXJjZSBhbHJlYWR5IHByZXNlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9IHJlc291cmNlIC0gdGhhdCBpcyBtYW5hZ2luZyB0aGlzIEJhc2VUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBzZXRSZXNvdXJjZShyZXNvdXJjZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlID09PSByZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBjYW4gYmUgc2V0IG9ubHkgb25jZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb3VyY2UuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnJlc291cmNlID0gcmVzb3VyY2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52YWxpZGF0ZXMgdGhlIG9iamVjdC4gVGV4dHVyZSBiZWNvbWVzIHZhbGlkIGlmIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGdyZWF0ZXIgdGhhbiB6ZXJvLlxuICAgICAqL1xuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoID4gMCAmJiB0aGlzLmhlaWdodCA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBlcnJvcnMgd2l0aCByZXNvdXJjZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Vycm9yRXZlbnR9IGV2ZW50IC0gRXJyb3IgZXZlbnQgZW1pdHRlZC5cbiAgICAgKi9cbiAgICBvbkVycm9yKGV2ZW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHRoaXMsIGV2ZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGJhc2UgdGV4dHVyZS5cbiAgICAgKiBUaGUgbWV0aG9kIHN0b3BzIGlmIHJlc291cmNlIGRvZXNuJ3Qgd2FudCB0aGlzIHRleHR1cmUgdG8gYmUgZGVzdHJveWVkLlxuICAgICAqIFJlbW92ZXMgdGV4dHVyZSBmcm9tIGFsbCBjYWNoZXMuXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICAvLyByZW1vdmUgYW5kIGRlc3Ryb3kgdGhlIHJlc291cmNlXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlLnVuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIC8vIG9ubHkgZGVzdHJveSByZXNvdXJjZWQgY3JlYXRlZCBpbnRlcm5hbGx5XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZS5pbnRlcm5hbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2FjaGVJZClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbdGhpcy5jYWNoZUlkXTtcbiAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGhpcy5jYWNoZUlkXTtcblxuICAgICAgICAgICAgdGhpcy5jYWNoZUlkID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbmFsbHkgbGV0IHRoZSBXZWJHTCByZW5kZXJlciBrbm93Li5cbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkaXNwb3NlJywgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gaW1hZ2UgdXJsLCBpbWFnZSBlbGVtZW50LCBjYW52YXMgZWxlbWVudC4gSWYgdGhlXG4gICAgICogc291cmNlIGlzIGFuIGltYWdlIHVybCBvciBhbiBpbWFnZSBlbGVtZW50IGFuZCBub3QgaW4gdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIGNhY2hlLCBpdCB3aWxsIGJlIGNyZWF0ZWQgYW5kIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fFNWR0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gVGhlXG4gICAgICogICAgICAgIHNvdXJjZSB0byBjcmVhdGUgYmFzZSB0ZXh0dXJlIGZyb20uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IFRoZSBuZXcgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGxldCBjYWNoZUlkID0gbnVsbDtcblxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS5fcGl4aUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5fcGl4aUlkID0gYHBpeGlpZF8ke3VpZCgpfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2UuX3BpeGlJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBiYXNlVGV4dHVyZSA9IEJhc2VUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLmNhY2hlSWQgPSBjYWNoZUlkO1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJhc2VUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSByZXN1bHRpbmcgbmV3IEJhc2VUZXh0dXJlXG4gICAgICovXG4gICAgc3RhdGljIGZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgYnVmZmVyID0gYnVmZmVyIHx8IG5ldyBGbG9hdDMyQXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcblxuICAgICAgICBjb25zdCByZXNvdXJjZSA9IG5ldyBCdWZmZXJSZXNvdXJjZShidWZmZXIsIHsgd2lkdGgsIGhlaWdodCB9KTtcbiAgICAgICAgY29uc3QgdHlwZSA9IGJ1ZmZlciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSA/IFRZUEVTLkZMT0FUIDogVFlQRVMuVU5TSUdORURfQllURTtcblxuICAgICAgICByZXR1cm4gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCBPYmplY3QuYXNzaWduKGRlZmF1bHRCdWZmZXJPcHRpb25zLCBvcHRpb25zIHx8IHsgd2lkdGgsIGhlaWdodCwgdHlwZSB9KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIEJhc2VUZXh0dXJlIHRvIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIEJhc2VUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIEJhc2VUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG4gICAgc3RhdGljIGFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGlkKVxuICAgIHtcbiAgICAgICAgaWYgKGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChCYXNlVGV4dHVyZUNhY2hlW2lkXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQmFzZVRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgWyR7aWR9XSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEJhc2VUZXh0dXJlQ2FjaGVbaWRdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBCYXNlVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIGlkIG9mIGEgQmFzZVRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBCYXNlVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGYuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZXxudWxsfSBUaGUgQmFzZVRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVtb3ZlRnJvbUNhY2hlKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiYXNlVGV4dHVyZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlRnJvbUNhY2hlID0gQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZUZyb21DYWNoZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJhc2VUZXh0dXJlICYmIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBHbG9iYWwgbnVtYmVyIG9mIHRoZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5CYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSAwO1xuIiwiaW1wb3J0IFJlc291cmNlIGZyb20gJy4vUmVzb3VyY2UnO1xuaW1wb3J0IEJhc2VUZXh0dXJlIGZyb20gJy4uL0Jhc2VUZXh0dXJlJztcbmltcG9ydCB7IFRBUkdFVFMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgYXV0b0RldGVjdFJlc291cmNlIH0gZnJvbSAnLi9hdXRvRGV0ZWN0UmVzb3VyY2UnO1xuXG4vKipcbiAqIEEgcmVzb3VyY2UgdGhhdCBjb250YWlucyBhIG51bWJlciBvZiBzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtudW1iZXJ8QXJyYXk8Kj59IHNvdXJjZSAtIE51bWJlciBvZiBpdGVtcyBpbiBhcnJheSBvciB0aGUgY29sbGVjdGlvblxuICogICAgICAgIG9mIGltYWdlIFVSTHMgdG8gdXNlLiBDYW4gYWxzbyBiZSByZXNvdXJjZXMsIGltYWdlIGVsZW1lbnRzLCBjYW52YXMsIGV0Yy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBhcHBseSB0byB7QGxpbmsgUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlfVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFycmF5UmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZVxue1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGxldCB1cmxzO1xuICAgICAgICBsZXQgbGVuZ3RoID0gc291cmNlO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHVybHMgPSBzb3VyY2U7XG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIob3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHJlc291cmNlcy5cbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5CYXNlVGV4dHVyZT59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXJ0eSBJRHMgZm9yIGVhY2ggcGFydFxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXRlbURpcnR5SWRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGFydFRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoKTtcblxuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHBhcnRUZXh0dXJlKTtcbiAgICAgICAgICAgIHRoaXMuaXRlbURpcnR5SWRzLnB1c2goLTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBlbGVtZW50cyBpbiBhcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2V9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIGlmICh1cmxzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChhdXRvRGV0ZWN0UmVzb3VyY2UodXJsc1tpXSwgb3B0aW9ucyksIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGlzIEJhc2VJbWFnZVJlc291cmNlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaXRlbURpcnR5SWRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGEgcmVzb3VyY2UgYnkgSURcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gWmVyby1iYXNlZCBpbmRleCBvZiByZXNvdXJjZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlfSBJbnN0YW5jZSBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBhZGRSZXNvdXJjZUF0KHJlc291cmNlLCBpbmRleClcbiAgICB7XG4gICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGhpcy5pdGVtc1tpbmRleF07XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmRleCAke2luZGV4fSBpcyBvdXQgb2YgYm91bmRzYCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbmhlcml0IHRoZSBmaXJzdCByZXNvdXJjZSBkaW1lbnNpb25zXG4gICAgICAgIGlmIChyZXNvdXJjZS52YWxpZCAmJiAhdGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUocmVzb3VyY2Uud2lkdGgsIHJlc291cmNlLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLml0ZW1zW2luZGV4XS5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBiaW5kKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgc3VwZXIuYmluZChiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFXzJEX0FSUkFZO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5vbigndXBkYXRlJywgYmFzZVRleHR1cmUudXBkYXRlLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbnNldCB0aGUgcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgdW5iaW5kKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgc3VwZXIudW5iaW5kKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ub2ZmKCd1cGRhdGUnLCBiYXNlVGV4dHVyZS51cGRhdGUsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWQgYWxsIHRoZSByZXNvdXJjZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBXaGVuIGxvYWQgaXMgcmVzb2x2ZWRcbiAgICAgKi9cbiAgICBsb2FkKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc291cmNlcyA9IHRoaXMuaXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLnJlc291cmNlKTtcblxuICAgICAgICAvLyBUT0RPOiBhbHNvIGltcGxlbWVudCBsb2FkIHBhcnQtYnktcGFydCBzdHJhdGVneVxuICAgICAgICBjb25zdCBwcm9taXNlcyA9IHJlc291cmNlcy5tYXAoKGl0ZW0pID0+IGl0ZW0ubG9hZCgpKTtcblxuICAgICAgICB0aGlzLl9sb2FkID0gUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICAgICAgICAudGhlbigoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gcmVzb3VyY2VzWzBdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHJlc291cmNlcyB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciB0ZXh0dXJlIHdhcyB1cGxvYWRlZFxuICAgICAqL1xuICAgIHVwbG9hZChyZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBsZW5ndGgsIGl0ZW1EaXJ0eUlkcywgaXRlbXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHJlbmRlcmVyO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleEltYWdlM0QoXG4gICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRF9BUlJBWSxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIHRoaXMuX3dpZHRoLFxuICAgICAgICAgICAgICAgIHRoaXMuX2hlaWdodCxcbiAgICAgICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcblxuICAgICAgICAgICAgaWYgKGl0ZW1EaXJ0eUlkc1tpXSA8IGl0ZW0uZGlydHlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpdGVtRGlydHlJZHNbaV0gPSBpdGVtLmRpcnR5SWQ7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udmFsaWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTNEKFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRF9BUlJBWSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCAvLyB4b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAwLCAvLyB5b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBpLCAvLyB6b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc291cmNlLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXNvdXJjZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc291cmNlLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCBCYXNlSW1hZ2VSZXNvdXJjZSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlJztcblxuLyoqXG4gKiBAaW50ZXJmYWNlIE9mZnNjcmVlbkNhbnZhc1xuICovXG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTENhbnZhc0VsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIENhbnZhcyBlbGVtZW50IHRvIHVzZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNSZXNvdXJjZSBleHRlbmRzIEJhc2VJbWFnZVJlc291cmNlXG57XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fE9mZnNjcmVlbkNhbnZhc30gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIEhUTUxDYW52YXNFbGVtZW50IG9yIE9mZnNjcmVlbkNhbnZhc1xuICAgICAqL1xuICAgIHN0YXRpYyB0ZXN0KHNvdXJjZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgT2Zmc2NyZWVuQ2FudmFzIH0gPSB3aW5kb3c7XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3QgeWV0IHN1cHBvcnQgT2Zmc2NyZWVuQ2FudmFzXG4gICAgICAgIGlmIChPZmZzY3JlZW5DYW52YXMgJiYgc291cmNlIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICB9XG59XG4iLCJpbXBvcnQgQXJyYXlSZXNvdXJjZSBmcm9tICcuL0FycmF5UmVzb3VyY2UnO1xuaW1wb3J0IHsgVEFSR0VUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogUmVzb3VyY2UgZm9yIGEgQ3ViZVRleHR1cmUgd2hpY2ggY29udGFpbnMgc2l4IHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkFycmF5UmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtBcnJheTxzdHJpbmd8UElYSS5yZXNvdXJjZXMuUmVzb3VyY2U+fSBbc291cmNlXSBDb2xsZWN0aW9uIG9mIFVSTHMgb3IgcmVzb3VyY2VzXG4gKiAgICAgICAgdG8gdXNlIGFzIHRoZSBzaWRlcyBvZiB0aGUgY3ViZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBJbWFnZVJlc291cmNlIG9wdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgcmVzb3VyY2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3ViZVJlc291cmNlIGV4dGVuZHMgQXJyYXlSZXNvdXJjZVxue1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHN1cGVyKHNvdXJjZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoICE9PSBDdWJlUmVzb3VyY2UuU0lERVMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBsZW5ndGguIEdvdCAke3RoaXMubGVuZ3RofSwgZXhwZWN0ZWQgNmApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDdWJlUmVzb3VyY2UuU0lERVM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGJpbmRpbmdcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICovXG4gICAgYmluZChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHN1cGVyLmJpbmQoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHJlc291cmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgdXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgZGlydHkgPSB0aGlzLml0ZW1EaXJ0eUlkcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IEN1YmVSZXNvdXJjZS5TSURFUzsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzaWRlID0gdGhpcy5pdGVtc1tpXTtcblxuICAgICAgICAgICAgaWYgKGRpcnR5W2ldIDwgc2lkZS5kaXJ0eUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpcnR5W2ldID0gc2lkZS5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIGlmIChzaWRlLnZhbGlkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkZS5yZXNvdXJjZS51cGxvYWQocmVuZGVyZXIsIHNpZGUsIGdsVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHVwbG9hZCB6ZXJvIGJ1ZmZlclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBOdW1iZXIgb2YgdGV4dHVyZSBzaWRlcyB0byBzdG9yZSBmb3IgQ3ViZVJlc291cmNlc1xuICpcbiAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLkN1YmVSZXNvdXJjZS5TSURFU1xuICogQHN0YXRpY1xuICogQG1lbWJlciB7bnVtYmVyfVxuICogQGRlZmF1bHQgNlxuICovXG5DdWJlUmVzb3VyY2UuU0lERVMgPSA2O1xuIiwiaW1wb3J0IHsgdWlkIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IEJhc2VJbWFnZVJlc291cmNlIGZyb20gJy4vQmFzZUltYWdlUmVzb3VyY2UnO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIFNWRyBlbGVtZW50cyBhbmQgZ3JhcGhpY3MuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgLSBCYXNlNjQgZW5jb2RlZCBTVkcgZWxlbWVudCBvciBVUkwgZm9yIFNWRyBmaWxlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gdXNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gU2NhbGUgdG8gYXBwbHkgdG8gU1ZHLiBPdmVycmlkZGVuIGJ5Li4uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIFJhc3Rlcml6ZSBTVkcgdGhpcyB3aWRlLiBBc3BlY3QgcmF0aW8gcHJlc2VydmVkIGlmIGhlaWdodCBub3Qgc3BlY2lmaWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gUmFzdGVyaXplIFNWRyB0aGlzIGhpZ2guIEFzcGVjdCByYXRpbyBwcmVzZXJ2ZWQgaWYgd2lkdGggbm90IHNwZWNpZmllZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gU3RhcnQgbG9hZGluZyByaWdodCBhd2F5LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTVkdSZXNvdXJjZSBleHRlbmRzIEJhc2VJbWFnZVJlc291cmNlXG57XG4gICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgc3VwZXIoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpO1xuICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhc2U2NCBlbmNvZGVkIFNWRyBlbGVtZW50IG9yIFVSTCBmb3IgU1ZHIGZpbGVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3ZnID0gc291cmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc291cmNlIHNjYWxlIHRvIGFwcGx5IHdoZW4gcmFzdGVyaXppbmcgb24gbG9hZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZSA9IG9wdGlvbnMuc2NhbGUgfHwgMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB3aWR0aCBvdmVycmlkZSBmb3IgcmFzdGVyaXphdGlvbiBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vdmVycmlkZVdpZHRoID0gb3B0aW9ucy53aWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBoZWlnaHQgb3ZlcnJpZGUgZm9yIHJhc3Rlcml6YXRpb24gb24gbG9hZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb3ZlcnJpZGVIZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbCB3aGVuIGNvbXBsZXRlbHkgbG9hZGVkXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyb3NzIG9yaWdpbiB2YWx1ZSB0byB1c2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbnxzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jcm9zc29yaWdpbiA9IG9wdGlvbnMuY3Jvc3NvcmlnaW47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGlzIHVudGlsIGFmdGVyIGxvYWQgaXMgZmluaXNoZWRcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKHRoaXMuc291cmNlLndpZHRoLCB0aGlzLnNvdXJjZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IFNWRyBpbmxpbmUgc3RyaW5nIHRvIGRhdGEtdXJpXG4gICAgICAgICAgICBpZiAoKC9eXFw8c3ZnLykudGVzdCh0aGlzLnN2Zy50cmltKCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghYnRvYSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGJhc2U2NCBjb252ZXJzaW9ucy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdmcgPSBgZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwke2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuc3ZnKSkpfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2xvYWRTdmcoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgYW4gU1ZHIGltYWdlIGZyb20gYGltYWdlVXJsYCBvciBgZGF0YSBVUkxgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbG9hZFN2ZygpXG4gICAge1xuICAgICAgICBjb25zdCB0ZW1wSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbih0ZW1wSW1hZ2UsIHRoaXMuc3ZnLCB0aGlzLl9jcm9zc29yaWdpbik7XG4gICAgICAgIHRlbXBJbWFnZS5zcmMgPSB0aGlzLnN2ZztcblxuICAgICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IChldmVudCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcEltYWdlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yLnJ1bihldmVudCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGVtcEltYWdlLm9ubG9hZCA9ICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHN2Z1dpZHRoID0gdGVtcEltYWdlLndpZHRoO1xuICAgICAgICAgICAgY29uc3Qgc3ZnSGVpZ2h0ID0gdGVtcEltYWdlLmhlaWdodDtcblxuICAgICAgICAgICAgaWYgKCFzdmdXaWR0aCB8fCAhc3ZnSGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFNWRyBpbWFnZSBtdXN0IGhhdmUgd2lkdGggYW5kIGhlaWdodCBkZWZpbmVkIChpbiBwaXhlbHMpLCBjYW52YXMgQVBJIG5lZWRzIHRoZW0uJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldCByZW5kZXIgc2l6ZVxuICAgICAgICAgICAgbGV0IHdpZHRoID0gc3ZnV2lkdGggKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgbGV0IGhlaWdodCA9IHN2Z0hlaWdodCAqIHRoaXMuc2NhbGU7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9vdmVycmlkZVdpZHRoIHx8IHRoaXMuX292ZXJyaWRlSGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy5fb3ZlcnJpZGVXaWR0aCB8fCB0aGlzLl9vdmVycmlkZUhlaWdodCAvIHN2Z0hlaWdodCAqIHN2Z1dpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuX292ZXJyaWRlSGVpZ2h0IHx8IHRoaXMuX292ZXJyaWRlV2lkdGggLyBzdmdXaWR0aCAqIHN2Z0hlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCk7XG4gICAgICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIGNhbnZhcyBlbGVtZW50XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgY2FudmFzLl9waXhpSWQgPSBgY2FudmFzXyR7dWlkKCl9YDtcblxuICAgICAgICAgICAgLy8gRHJhdyB0aGUgU3ZnIHRvIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGNhbnZhc1xuICAgICAgICAgICAgICAgIC5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgICAgICAgICAgLmRyYXdJbWFnZSh0ZW1wSW1hZ2UsIDAsIDAsIHN2Z1dpZHRoLCBzdmdIZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKCk7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc2l6ZSBmcm9tIGFuIHN2ZyBzdHJpbmcgdXNpbmcgcmVnZXhwLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdmdTdHJpbmcgLSBhIHNlcmlhbGl6ZWQgc3ZnIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLklTaXplfSBpbWFnZSBleHRlbnNpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0U2l6ZShzdmdTdHJpbmcpXG4gICAge1xuICAgICAgICBjb25zdCBzaXplTWF0Y2ggPSBTVkdSZXNvdXJjZS5TVkdfU0laRS5leGVjKHN2Z1N0cmluZyk7XG4gICAgICAgIGNvbnN0IHNpemUgPSB7fTtcblxuICAgICAgICBpZiAoc2l6ZU1hdGNoKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaXplW3NpemVNYXRjaFsxXV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzNdKSk7XG4gICAgICAgICAgICBzaXplW3NpemVNYXRjaFs1XV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzddKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Nyb3Nzb3JpZ2luID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqL1xuICAgIHN0YXRpYyB0ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKVxuICAgIHtcbiAgICAgICAgLy8gdXJsIGZpbGUgZXh0ZW5zaW9uIGlzIFNWR1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAnc3ZnJ1xuICAgICAgICAgICAgLy8gc291cmNlIGlzIFNWRyBkYXRhLXVyaVxuICAgICAgICAgICAgfHwgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIHNvdXJjZS5pbmRleE9mKCdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0JykgPT09IDApXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMgU1ZHIGlubGluZVxuICAgICAgICAgICAgfHwgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIHNvdXJjZS5pbmRleE9mKCc8c3ZnJykgPT09IDApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZWdFeHAgZm9yIFNWRyBzaXplLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gU1ZHX1NJWkVcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZVxuICogQGV4YW1wbGUgJmx0O3N2ZyB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiJmd0OyZsdDsvc3ZnJmd0O1xuICovXG5TVkdSZXNvdXJjZS5TVkdfU0laRSA9IC88c3ZnW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKj4vaTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG4iLCJpbXBvcnQgQmFzZUltYWdlUmVzb3VyY2UgZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZSc7XG5pbXBvcnQgeyBUaWNrZXIgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxWaWRlb0VsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudHxvYmplY3R8c3RyaW5nfEFycmF5PHN0cmluZ3xvYmplY3Q+fSBzb3VyY2UgLSBWaWRlbyBlbGVtZW50IHRvIHVzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIHVzZVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIFN0YXJ0IGxvYWRpbmcgdGhlIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QbGF5PXRydWVdIC0gU3RhcnQgcGxheWluZyB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVwZGF0ZUZQUz0wXSAtIEhvdyBtYW55IHRpbWVzIGEgc2Vjb25kIHRvIHVwZGF0ZSB0aGUgdGV4dHVyZSBmcm9tIHRoZSB2aWRlby5cbiAqIExlYXZlIGF0IDAgdG8gdXBkYXRlIGF0IGV2ZXJ5IHJlbmRlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBMb2FkIGltYWdlIHVzaW5nIGNyb3NzIG9yaWdpblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWRlb1Jlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2VcbntcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcblxuICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81OTk2XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCdwcmVsb2FkJywgJ2F1dG8nKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dlYmtpdC1wbGF5c2lubGluZScsICcnKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gW3NvdXJjZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHZpZGVvRWxlbWVudCwgKHNvdXJjZVswXS5zcmMgfHwgc291cmNlWzBdKSwgb3B0aW9ucy5jcm9zc29yaWdpbik7XG5cbiAgICAgICAgICAgIC8vIGFycmF5IG9mIG9iamVjdHMgb3Igc3RyaW5nc1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHsgc3JjLCBtaW1lIH0gPSBzb3VyY2VbaV07XG5cbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMgfHwgc291cmNlW2ldO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZVNyYyA9IHNyYy5zcGxpdCgnPycpLnNoaWZ0KCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBleHQgPSBiYXNlU3JjLnN1YnN0cihiYXNlU3JjLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcblxuICAgICAgICAgICAgICAgIG1pbWUgPSBtaW1lIHx8IGB2aWRlby8ke2V4dH1gO1xuXG4gICAgICAgICAgICAgICAgc291cmNlRWxlbWVudC5zcmMgPSBzcmM7XG4gICAgICAgICAgICAgICAgc291cmNlRWxlbWVudC50eXBlID0gbWltZTtcblxuICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5hcHBlbmRDaGlsZChzb3VyY2VFbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gT3ZlcnJpZGUgdGhlIHNvdXJjZVxuICAgICAgICAgICAgc291cmNlID0gdmlkZW9FbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIoc291cmNlKTtcblxuICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRlBTID0gb3B0aW9ucy51cGRhdGVGUFMgfHwgMDtcbiAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHNldCB0byB0cnVlIHdpbGwgYXV0b21hdGljYWxseSBwbGF5IHZpZGVvcyB1c2VkIGJ5IHRoaXMgdGV4dHVyZSBvbmNlXG4gICAgICAgICAqIHRoZXkgYXJlIGxvYWRlZC4gSWYgZmFsc2UsIGl0IHdpbGwgbm90IG1vZGlmeSB0aGUgcGxheWluZyBzdGF0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvUGxheSA9IG9wdGlvbnMuYXV0b1BsYXkgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZWQgd2l0aCBsb2FkLlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuXG4gICAgICAgIC8vIEJpbmQgZm9yIGxpc3RlbmVyc1xuICAgICAgICB0aGlzLl9vbkNhblBsYXkgPSB0aGlzLl9vbkNhblBsYXkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fb25FcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB1cGRhdGluZyBvZiB0aGUgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWx0YVRpbWU9MF0gLSB0aW1lIGRlbHRhIHNpbmNlIGxhc3QgdGlja1xuICAgICAqL1xuICAgIHVwZGF0ZShkZWx0YVRpbWUgPSAwKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYWNjb3VudCBmb3IgaWYgdmlkZW8gaGFzIGhhZCBpdHMgcGxheWJhY2tSYXRlIGNoYW5nZWRcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWRNUyA9IFRpY2tlci5zaGFyZWQuZWxhcHNlZE1TICogdGhpcy5zb3VyY2UucGxheWJhY2tSYXRlO1xuXG4gICAgICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IE1hdGguZmxvb3IodGhpcy5fbXNUb05leHRVcGRhdGUgLSBlbGFwc2VkTVMpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl91cGRhdGVGUFMgfHwgdGhpcy5fbXNUb05leHRVcGRhdGUgPD0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdXBlci51cGRhdGUoZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IHRoaXMuX3VwZGF0ZUZQUyA/IE1hdGguZmxvb3IoMTAwMCAvIHRoaXMuX3VwZGF0ZUZQUykgOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnQgcHJlbG9hZGluZyB0aGUgdmlkZW8gcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICAgICAqL1xuICAgIGxvYWQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgaWYgKChzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRU5PVUdIX0RBVEEgfHwgc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0ZVVFVSRV9EQVRBKVxuICAgICAgICAgICAgJiYgc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIHRoaXMuX29uUGxheVN0YXJ0LmJpbmQodGhpcykpO1xuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCB0aGlzLl9vblBsYXlTdG9wLmJpbmQodGhpcykpO1xuXG4gICAgICAgIGlmICghdGhpcy5faXNTb3VyY2VSZWFkeSgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gcmVzb2x2ZTtcblxuICAgICAgICAgICAgICAgIHNvdXJjZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB2aWRlbyBlcnJvciBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkVycm9yKClcbiAgICB7XG4gICAgICAgIHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICAgIHRoaXMub25FcnJvci5ydW4oZXZlbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nLlxuICAgICAqL1xuICAgIF9pc1NvdXJjZVBsYXlpbmcoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgcmV0dXJuIChzb3VyY2UuY3VycmVudFRpbWUgPiAwICYmIHNvdXJjZS5wYXVzZWQgPT09IGZhbHNlICYmIHNvdXJjZS5lbmRlZCA9PT0gZmFsc2UgJiYgc291cmNlLnJlYWR5U3RhdGUgPiAyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHJlYWR5IGZvciBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlYWR5LlxuICAgICAqL1xuICAgIF9pc1NvdXJjZVJlYWR5KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5yZWFkeVN0YXRlID09PSAzIHx8IHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgdXBkYXRlIGxvb3Agd2hlbiB0aGUgdmlkZW8gaXMgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25QbGF5U3RhcnQoKVxuICAgIHtcbiAgICAgICAgLy8gSnVzdCBpbiBjYXNlIHRoZSB2aWRlbyBoYXMgbm90IHJlY2VpdmVkIGl0cyBjYW4gcGxheSBldmVuIHlldC4uXG4gICAgICAgIGlmICghdGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2lzQXV0b1VwZGF0aW5nICYmIHRoaXMuYXV0b1VwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBhdXNlIGV2ZW50IGlzIHRyaWdnZXJlZCwgc3RvcHMgdGhlIHVwZGF0ZSBsb29wXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vblBsYXlTdG9wKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9pc0F1dG9VcGRhdGluZylcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIHZpZGVvIGlzIGxvYWRlZCBhbmQgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25DYW5QbGF5KClcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgc291cmNlIH0gPSB0aGlzO1xuXG4gICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcblxuICAgICAgICBjb25zdCB2YWxpZCA9IHRoaXMudmFsaWQ7XG5cbiAgICAgICAgdGhpcy5yZXNpemUoc291cmNlLnZpZGVvV2lkdGgsIHNvdXJjZS52aWRlb0hlaWdodCk7XG5cbiAgICAgICAgLy8gcHJldmVudCBtdWx0aXBsZSBsb2FkZWQgZGlzcGF0Y2hlcy4uXG4gICAgICAgIGlmICghdmFsaWQgJiYgdGhpcy5fcmVzb2x2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzU291cmNlUGxheWluZygpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vblBsYXlTdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0b1BsYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZS5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9pc0F1dG9VcGRhdGluZylcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGhlIGJhc2UgdGV4dHVyZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZSBpdHNlbGYsIHNldCB0byB0cnVlIGJ5IGRlZmF1bHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGF1dG9VcGRhdGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9VcGRhdGU7XG4gICAgfVxuXG4gICAgc2V0IGF1dG9VcGRhdGUodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0F1dG9VcGRhdGluZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIb3cgbWFueSB0aW1lcyBhIHNlY29uZCB0byB1cGRhdGUgdGhlIHRleHR1cmUgZnJvbSB0aGUgdmlkZW8uIExlYXZlIGF0IDAgdG8gdXBkYXRlIGF0IGV2ZXJ5IHJlbmRlci5cbiAgICAgKiBBIGxvd2VyIGZwcyBjYW4gaGVscCBwZXJmb3JtYW5jZSwgYXMgdXBkYXRpbmcgdGhlIHRleHR1cmUgYXQgNjBmcHMgb24gYSAzMHBzIHZpZGVvIG1heSBub3QgYmUgZWZmaWNpZW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB1cGRhdGVGUFMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUZQUztcbiAgICB9XG5cbiAgICBzZXQgdXBkYXRlRlBTKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fdXBkYXRlRlBTKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVGUFMgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gLSBUaGUgZXh0ZW5zaW9uIG9mIHNvdXJjZSwgaWYgc2V0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHZpZGVvIHNvdXJjZVxuICAgICAqL1xuICAgIHN0YXRpYyB0ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgfHwgVmlkZW9SZXNvdXJjZS5UWVBFUy5pbmRleE9mKGV4dGVuc2lvbikgPiAtMTtcbiAgICB9XG59XG5cbi8qKlxuICogTGlzdCBvZiBjb21tb24gdmlkZW8gZmlsZSBleHRlbnNpb25zIHN1cHBvcnRlZCBieSBWaWRlb1Jlc291cmNlLlxuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKi9cblZpZGVvUmVzb3VyY2UuVFlQRVMgPSBbJ21wNCcsICdtNHYnLCAnd2VibScsICdvZ2cnLCAnb2d2JywgJ2gyNjQnLCAnYXZpJywgJ21vdiddO1xuIiwiaW1wb3J0IEJhc2VJbWFnZVJlc291cmNlIGZyb20gJy4vQmFzZUltYWdlUmVzb3VyY2UnO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEltYWdlQml0bWFwLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0ltYWdlQml0bWFwfSBzb3VyY2UgLSBJbWFnZSBlbGVtZW50IHRvIHVzZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZUJpdG1hcFJlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2VcbntcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SW1hZ2VCaXRtYXB9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBhbiBJbWFnZUJpdG1hcFxuICAgICAqL1xuICAgIHN0YXRpYyB0ZXN0KHNvdXJjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiAhIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCAmJiBzb3VyY2UgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJTlNUQUxMRUQsIGF1dG9EZXRlY3RSZXNvdXJjZSB9IGZyb20gJy4vYXV0b0RldGVjdFJlc291cmNlJztcbmltcG9ydCBBcnJheVJlc291cmNlIGZyb20gJy4vQXJyYXlSZXNvdXJjZSc7XG5pbXBvcnQgQnVmZmVyUmVzb3VyY2UgZnJvbSAnLi9CdWZmZXJSZXNvdXJjZSc7XG5pbXBvcnQgQ2FudmFzUmVzb3VyY2UgZnJvbSAnLi9DYW52YXNSZXNvdXJjZSc7XG5pbXBvcnQgQ3ViZVJlc291cmNlIGZyb20gJy4vQ3ViZVJlc291cmNlJztcbmltcG9ydCBJbWFnZVJlc291cmNlIGZyb20gJy4vSW1hZ2VSZXNvdXJjZSc7XG5pbXBvcnQgU1ZHUmVzb3VyY2UgZnJvbSAnLi9TVkdSZXNvdXJjZSc7XG5pbXBvcnQgVmlkZW9SZXNvdXJjZSBmcm9tICcuL1ZpZGVvUmVzb3VyY2UnO1xuaW1wb3J0IEltYWdlQml0bWFwUmVzb3VyY2UgZnJvbSAnLi9JbWFnZUJpdG1hcFJlc291cmNlJztcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGJhc2UgcmVzb3VyY2UgdHlwZXMgc3VwcG9ydGVkIGJ5IFBpeGlKUy5cbiAqXG4gKiBSZXNvdXJjZXMgYXJlIHVzZWQgYnkge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9IHRvIGhhbmRsZSBkaWZmZXJlbnQgbWVkaWEgdHlwZXNcbiAqIHN1Y2ggYXMgaW1hZ2VzLCB2aWRlbywgU1ZHIGdyYXBoaWNzLCBldGMuIEluIG1vc3QgdXNlLWNhc2VzLCB5b3Ugc2hvdWxkIG5vdFxuICogaW5zdGFudGlhdGUgdGhlIHJlc291cmNlcyBkaXJlY3RseS4gVGhlIGVhc3kgdGhpbmcgaXMgdG8gdXNlXG4gKiB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZS5mcm9tfS5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCBiYXNlVGV4dHVyZSA9IFBJWEkuQmFzZVRleHR1cmUuZnJvbSgncGF0aC90by9pbWFnZS5qcGcnKTtcbiAqIEBuYW1lc3BhY2UgUElYSS5yZXNvdXJjZXNcbiAqL1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBSZXNvdXJjZSB9IGZyb20gJy4vUmVzb3VyY2UnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBCYXNlSW1hZ2VSZXNvdXJjZSB9IGZyb20gJy4vQmFzZUltYWdlUmVzb3VyY2UnO1xuXG5JTlNUQUxMRUQucHVzaChcbiAgICBJbWFnZVJlc291cmNlLFxuICAgIEltYWdlQml0bWFwUmVzb3VyY2UsXG4gICAgQ2FudmFzUmVzb3VyY2UsXG4gICAgVmlkZW9SZXNvdXJjZSxcbiAgICBTVkdSZXNvdXJjZSxcbiAgICBCdWZmZXJSZXNvdXJjZSxcbiAgICBDdWJlUmVzb3VyY2UsXG4gICAgQXJyYXlSZXNvdXJjZVxuKTtcblxuZXhwb3J0IHtcbiAgICBJTlNUQUxMRUQsXG4gICAgYXV0b0RldGVjdFJlc291cmNlLFxuICAgIEFycmF5UmVzb3VyY2UsXG4gICAgQnVmZmVyUmVzb3VyY2UsXG4gICAgQ2FudmFzUmVzb3VyY2UsXG4gICAgQ3ViZVJlc291cmNlLFxuICAgIEltYWdlUmVzb3VyY2UsXG4gICAgSW1hZ2VCaXRtYXBSZXNvdXJjZSxcbiAgICBTVkdSZXNvdXJjZSxcbiAgICBWaWRlb1Jlc291cmNlIH07XG4iLCIvKipcbiAqIFN5c3RlbSBpcyBhIGJhc2UgY2xhc3MgdXNlZCBmb3IgZXh0ZW5kaW5nIHN5c3RlbXMgdXNlZCBieSB0aGUge0BsaW5rIFBJWEkuUmVuZGVyZXJ9XG4gKlxuICogQHNlZSBQSVhJLlJlbmRlcmVyI2FkZFN5c3RlbVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBkZXN0cm95IG1ldGhvZHMgdG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCBCdWZmZXJSZXNvdXJjZSBmcm9tICcuL0J1ZmZlclJlc291cmNlJztcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBEZXB0aFRleHR1cmUuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJ1ZmZlclJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVwdGhSZXNvdXJjZSBleHRlbmRzIEJ1ZmZlclJlc291cmNlXG57XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoID09PSBiYXNlVGV4dHVyZS53aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBiYXNlVGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgZ2wuREVQVEhfQ09NUE9ORU5UMTYsIC8vIE5lZWRlZCBmb3IgZGVwdGggdG8gcmVuZGVyIHByb3Blcmx5IGluIHdlYmdsMi4wXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUud2lkdGgsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4uL3RleHR1cmVzL0Jhc2VUZXh0dXJlJztcbmltcG9ydCBEZXB0aFJlc291cmNlIGZyb20gJy4uL3RleHR1cmVzL3Jlc291cmNlcy9EZXB0aFJlc291cmNlJztcbmltcG9ydCB7IEZPUk1BVFMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyoqXG4gKiBGcmFtZSBidWZmZXIgdXNlZCBieSB0aGUgQmFzZVJlbmRlclRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyYW1lYnVmZmVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoIHx8IDEwMCk7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCB8fCAxMDApO1xuXG4gICAgICAgIHRoaXMuc3RlbmNpbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlcHRoID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCA9IDA7XG4gICAgICAgIHRoaXMuZGlydHlTaXplID0gMDtcblxuICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JUZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMuZ2xGcmFtZWJ1ZmZlcnMgPSB7fTtcblxuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlRnJhbWVidWZmZXInLCAyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvbG9yVGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVtdfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBjb2xvclRleHR1cmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlc1swXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgdGV4dHVyZSB0byB0aGUgY29sb3JUZXh0dXJlIGFycmF5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2luZGV4PTBdIC0gSW5kZXggb2YgdGhlIGFycmF5IHRvIGFkZCB0aGUgdGV4dHVyZSB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZV0gLSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgYXJyYXlcbiAgICAgKi9cbiAgICBhZGRDb2xvclRleHR1cmUoaW5kZXggPSAwLCB0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyBhZGQgc29tZSB2YWxpZGF0aW9uIHRvIHRoZSB0ZXh0dXJlIC0gc2FtZSB3aWR0aCAvIGhlaWdodCBldGM/XG4gICAgICAgIHRoaXMuY29sb3JUZXh0dXJlc1tpbmRleF0gPSB0ZXh0dXJlIHx8IG5ldyBUZXh0dXJlKG51bGwsIHsgc2NhbGVNb2RlOiAwLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIG1pcG1hcDogZmFsc2UsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQgfSk7Ly8gfHwgbmV3IFRleHR1cmUoKTtcblxuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGRlcHRoIHRleHR1cmUgdG8gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlXSAtIFRleHR1cmUgdG8gYWRkXG4gICAgICovXG4gICAgYWRkRGVwdGhUZXh0dXJlKHRleHR1cmUpXG4gICAge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gdGV4dHVyZSB8fCBuZXcgVGV4dHVyZShuZXcgRGVwdGhSZXNvdXJjZShudWxsLCB7IHdpZHRoOiB0aGlzLndpZHRoLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0IH0pLCB7IHNjYWxlTW9kZTogMCxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBtaXBtYXA6IGZhbHNlLFxuICAgICAgICAgICAgZm9ybWF0OiBGT1JNQVRTLkRFUFRIX0NPTVBPTkVOVCxcbiAgICAgICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX1NIT1JUIH0pOy8vIFVOU0lHTkVEX1NIT1JUO1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIGRlcHRoIG9uIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBlbmFibGVEZXB0aCgpXG4gICAge1xuICAgICAgICB0aGlzLmRlcHRoID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBzdGVuY2lsIG9uIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBlbmFibGVTdGVuY2lsKClcbiAgICB7XG4gICAgICAgIHRoaXMuc3RlbmNpbCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemUgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSBmcmFtZSBidWZmZXIgdG8gcmVzaXplIHRvXG4gICAgICovXG4gICAgcmVzaXplKHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgPT09IHRoaXMuaGVpZ2h0KSByZXR1cm47XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eVNpemUrKztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB0ZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIC8vIHRha2UgaW50byBhY291bnQgdGhlIGZhY3QgdGhlIHRleHR1cmUgbWF5IGhhdmUgYSBkaWZmZXJlbnQgcmVzb2x1dGlvbi4uXG4gICAgICAgICAgICB0ZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uLCBoZWlnaHQgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHRoaXMuZGVwdGhUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uLCBoZWlnaHQgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLnJ1bih0aGlzLCBmYWxzZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJhc2VUZXh0dXJlIGZyb20gJy4uL3RleHR1cmVzL0Jhc2VUZXh0dXJlJztcbmltcG9ydCBGcmFtZWJ1ZmZlciBmcm9tICcuLi9mcmFtZWJ1ZmZlci9GcmFtZWJ1ZmZlcic7XG5cbi8qKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBCYXNlUmVuZGVyVGV4dHVyZSBzaG91bGQgYmUgcHJlbG9hZGVkXG4gKiBvdGhlcndpc2UgYmxhY2sgcmVjdGFuZ2xlcyB3aWxsIGJlIGRyYXduIGluc3RlYWQuXG4gKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gVGhlIHBvc2l0aW9uXG4gKiBhbmQgcm90YXRpb24gb2YgdGhlIGdpdmVuIERpc3BsYXkgT2JqZWN0cyBpcyBpZ25vcmVkLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDgwMCwgaGVpZ2h0OiA2MDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBTcHJpdGUgaW4gdGhpcyBjYXNlIHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgaXRzIGxvY2FsIHRyYW5zZm9ybS4gVG8gcmVuZGVyIHRoaXMgc3ByaXRlIGF0IDAsMFxuICogeW91IGNhbiBjbGVhciB0aGUgdHJhbnNmb3JtXG4gKlxuICogYGBganNcbiAqXG4gKiBzcHJpdGUuc2V0VHJhbnNmb3JtKClcbiAqXG4gKiBsZXQgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5CYXNlUmVuZGVyVGV4dHVyZSh7IHdpZHRoOiAxMDAsIGhlaWdodDogMTAwIH0pO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlKTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTsgIC8vIFJlbmRlcnMgdG8gY2VudGVyIG9mIFJlbmRlclRleHR1cmVcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVJlbmRlclRleHR1cmUgZXh0ZW5kcyBCYXNlVGV4dHVyZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgICAgICAvLyBCYWNrd2FyZCBjb21wYXRpYmlsaXR5IG9mIHNpZ25hdHVyZVxuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICBjb25zdCBzY2FsZU1vZGUgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICBjb25zdCByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuXG4gICAgICAgICAgICBvcHRpb25zID0geyB3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24gfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihudWxsLCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzXG4gICAgICAgIHRoaXMubWlwbWFwID0gZmFsc2U7XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGgpIHx8IDEwMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KSB8fCAxMDA7XG4gICAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzIHJlbmRlciB0YXJnZXQgKHdlIG9ubHkgbmVlZCBvbmUgYXMgdGhpcyBjYW4gYmUgc2hhcmVkIGFjcm9zcyByZW5kZXJlcnMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FudmFzUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmNsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlciA9IG5ldyBGcmFtZWJ1ZmZlcih0aGlzLndpZHRoICogdGhpcy5yZXNvbHV0aW9uLCB0aGlzLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbilcbiAgICAgICAgICAgIC5hZGRDb2xvclRleHR1cmUoMCwgdGhpcylcbiAgICAgICAgICAgIC5lbmFibGVTdGVuY2lsKCk7XG5cbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIHRoaXMgYmUgYWRkZWQgdGhlIHN5c3RlbXM/XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHN0cnVjdHVyZSBmb3IgdGhlIHN0ZW5jaWwgbWFza3MuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgZm9yIHRoZSBmaWx0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrID0gW3t9XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBCYXNlUmVuZGVyVGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgICAqL1xuICAgIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5yZXNpemUod2lkdGggKiB0aGlzLnJlc29sdXRpb24sIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgYW5kIGZyYW1lYnVmZmVyIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5kaXNwb3NlKCk7XG5cbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSh0cnVlKTtcblxuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHcm91cEQ4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogU3RvcmVzIGEgdGV4dHVyZSdzIGZyYW1lIGluIFVWIGNvb3JkaW5hdGVzLCBpblxuICogd2hpY2ggZXZlcnl0aGluZyBsaWVzIGluIHRoZSByZWN0YW5nbGUgYFsoMCwwKSwgKDEsMCksXG4gKiAoMSwxKSwgKDAsMSldYC5cbiAqXG4gKiB8IENvcm5lciAgICAgICB8IENvb3JkaW5hdGVzIHxcbiAqIHwtLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tfFxuICogfCBUb3AtTGVmdCAgICAgfCBgKHgwLHkwKWAgICB8XG4gKiB8IFRvcC1SaWdodCAgICB8IGAoeDEseTEpYCAgIHxcbiAqIHwgQm90dG9tLVJpZ2h0IHwgYCh4Mix5MilgICAgfFxuICogfCBCb3R0b20tTGVmdCAgfCBgKHgzLHkzKWAgICB8XG4gKlxuICogQGNsYXNzXG4gKiBAcHJvdGVjdGVkXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0dXJlVXZzXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFgtY29tcG9uZW50IG9mIHRvcC1sZWZ0IGNvcm5lciBgKHgwLHkwKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDAgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiB0b3AtbGVmdCBjb3JuZXIgYCh4MCx5MClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkwID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgdG9wLXJpZ2h0IGNvcm5lciBgKHgxLHkxKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiB0b3AtcmlnaHQgY29ybmVyIGAoeDEseTEpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFgtY29tcG9uZW50IG9mIGJvdHRvbS1yaWdodCBjb3JuZXIgYCh4Mix5MilgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLngyID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTIgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiBib3R0b20tbGVmdCBjb3JuZXIgYCh4Myx5MylgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLngzID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgzLHkzKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTMgPSAxO1xuXG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGV4dHVyZSBVdnMgYmFzZWQgb24gdGhlIGdpdmVuIGZyYW1lIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGZyYW1lIC0gVGhlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYmFzZUZyYW1lIC0gVGhlIGJhc2UgZnJhbWUgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRlIC0gUm90YXRpb24gb2YgZnJhbWUsIHNlZSB7QGxpbmsgUElYSS5Hcm91cEQ4fVxuICAgICAqL1xuICAgIHNldChmcmFtZSwgYmFzZUZyYW1lLCByb3RhdGUpXG4gICAge1xuICAgICAgICBjb25zdCB0dyA9IGJhc2VGcmFtZS53aWR0aDtcbiAgICAgICAgY29uc3QgdGggPSBiYXNlRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChyb3RhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQgZGl2IDIgZGl2IGJhc2VGcmFtZSBzaXplXG4gICAgICAgICAgICBjb25zdCB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgICAgICAgY29uc3QgaDIgPSBmcmFtZS5oZWlnaHQgLyAyIC8gdGg7XG5cbiAgICAgICAgICAgIC8vIGNvb3JkaW5hdGVzIG9mIGNlbnRlclxuICAgICAgICAgICAgY29uc3QgY1ggPSAoZnJhbWUueCAvIHR3KSArIHcyO1xuICAgICAgICAgICAgY29uc3QgY1kgPSAoZnJhbWUueSAvIHRoKSArIGgyO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBHcm91cEQ4LmFkZChyb3RhdGUsIEdyb3VwRDguTlcpOyAvLyBOVyBpcyB0b3AtbGVmdCBjb3JuZXJcbiAgICAgICAgICAgIHRoaXMueDAgPSBjWCArICh3MiAqIEdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkwID0gY1kgKyAoaDIgKiBHcm91cEQ4LnVZKHJvdGF0ZSkpO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBHcm91cEQ4LmFkZChyb3RhdGUsIDIpOyAvLyByb3RhdGUgOTAgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgICAgIHRoaXMueDEgPSBjWCArICh3MiAqIEdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkxID0gY1kgKyAoaDIgKiBHcm91cEQ4LnVZKHJvdGF0ZSkpO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBHcm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICAgICAgdGhpcy54MiA9IGNYICsgKHcyICogR3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTIgPSBjWSArIChoMiAqIEdyb3VwRDgudVkocm90YXRlKSk7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IEdyb3VwRDguYWRkKHJvdGF0ZSwgMik7XG4gICAgICAgICAgICB0aGlzLngzID0gY1ggKyAodzIgKiBHcm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICAgICAgdGhpcy55MyA9IGNZICsgKGgyICogR3JvdXBEOC51WShyb3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMueDAgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkwID0gZnJhbWUueSAvIHRoO1xuXG4gICAgICAgICAgICB0aGlzLngxID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTEgPSBmcmFtZS55IC8gdGg7XG5cbiAgICAgICAgICAgIHRoaXMueDIgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MiA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuXG4gICAgICAgICAgICB0aGlzLngzID0gZnJhbWUueCAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MyA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzBdID0gdGhpcy54MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzFdID0gdGhpcy55MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzJdID0gdGhpcy54MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzNdID0gdGhpcy55MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzRdID0gdGhpcy54MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzVdID0gdGhpcy55MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzZdID0gdGhpcy54MztcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzddID0gdGhpcy55MztcbiAgICB9XG59XG4iLCJpbXBvcnQgQmFzZVRleHR1cmUgZnJvbSAnLi9CYXNlVGV4dHVyZSc7XG5pbXBvcnQgSW1hZ2VSZXNvdXJjZSBmcm9tICcuL3Jlc291cmNlcy9JbWFnZVJlc291cmNlJztcbmltcG9ydCBDYW52YXNSZXNvdXJjZSBmcm9tICcuL3Jlc291cmNlcy9DYW52YXNSZXNvdXJjZSc7XG5pbXBvcnQgVGV4dHVyZVV2cyBmcm9tICcuL1RleHR1cmVVdnMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUsIFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyB1aWQsIFRleHR1cmVDYWNoZSwgZ2V0UmVzb2x1dGlvbk9mVXJsLCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmNvbnN0IERFRkFVTFRfVVZTID0gbmV3IFRleHR1cmVVdnMoKTtcblxuLyoqXG4gKiBBIHRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2Ugb3IgcGFydCBvZiBhbiBpbWFnZS5cbiAqXG4gKiBJdCBjYW5ub3QgYmUgYWRkZWQgdG8gdGhlIGRpc3BsYXkgbGlzdCBkaXJlY3RseTsgaW5zdGVhZCB1c2UgaXQgYXMgdGhlIHRleHR1cmUgZm9yIGEgU3ByaXRlLlxuICogSWYgbm8gZnJhbWUgaXMgcHJvdmlkZWQgZm9yIGEgdGV4dHVyZSwgdGhlbiB0aGUgd2hvbGUgaW1hZ2UgaXMgdXNlZC5cbiAqXG4gKiBZb3UgY2FuIGRpcmVjdGx5IGNyZWF0ZSBhIHRleHR1cmUgZnJvbSBhbiBpbWFnZSBhbmQgdGhlbiByZXVzZSBpdCBtdWx0aXBsZSB0aW1lcyBsaWtlIHRoaXMgOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBsZXQgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGxldCBzcHJpdGUyID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogYGBgXG4gKlxuICogSWYgeW91IGRpZG50IHBhc3MgdGhlIHRleHR1cmUgZnJhbWUgdG8gY29uc3RydWN0b3IsIGl0IGVuYWJsZXMgYG5vRnJhbWVgIG1vZGU6XG4gKiBpdCBzdWJzY3JpYmVzIG9uIGJhc2VUZXh0dXJlIGV2ZW50cywgaXQgYXV0b21hdGljYWxseSByZXNpemVzIGF0IHRoZSBzYW1lIHRpbWUgYXMgYmFzZVRleHR1cmUuXG4gKlxuICogVGV4dHVyZXMgbWFkZSBmcm9tIFNWR3MsIGxvYWRlZCBvciBub3QsIGNhbm5vdCBiZSB1c2VkIGJlZm9yZSB0aGUgZmlsZSBmaW5pc2hlcyBwcm9jZXNzaW5nLlxuICogWW91IGNhbiBjaGVjayBmb3IgdGhpcyBieSBjaGVja2luZyB0aGUgc3ByaXRlJ3MgX3RleHR1cmVJRCBwcm9wZXJ0eS5cbiAqIGBgYGpzXG4gKiB2YXIgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKCdhc3NldHMvaW1hZ2Uuc3ZnJyk7XG4gKiB2YXIgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIC8vc3ByaXRlMS5fdGV4dHVyZUlEIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkIGlmIHRoZSB0ZXh0dXJlIGhhcyBmaW5pc2hlZCBwcm9jZXNzaW5nIHRoZSBTVkcgZmlsZVxuICogYGBgXG4gKiBZb3UgY2FuIHVzZSBhIHRpY2tlciBvciByQUYgdG8gZW5zdXJlIHlvdXIgc3ByaXRlcyBsb2FkIHRoZSBmaW5pc2hlZCB0ZXh0dXJlcyBhZnRlciBwcm9jZXNzaW5nLiBTZWUgaXNzdWUgIzMwNjguXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZSBleHRlbmRzIEV2ZW50RW1pdHRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlIHNvdXJjZSB0byBjcmVhdGUgdGhlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbb3JpZ10gLSBUaGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3RyaW1dIC0gVHJpbW1lZCByZWN0YW5nbGUgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRlXSAtIGluZGljYXRlcyBob3cgdGhlIHRleHR1cmUgd2FzIHJvdGF0ZWQgYnkgdGV4dHVyZSBwYWNrZXIuIFNlZSB7QGxpbmsgUElYSS5Hcm91cEQ4fVxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW2FuY2hvcl0gLSBEZWZhdWx0IGFuY2hvciBwb2ludCB1c2VkIGZvciBzcHJpdGUgcGxhY2VtZW50IC8gcm90YXRpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihiYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIHJvdGF0ZSwgYW5jaG9yKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGlzIFRleHR1cmUgaGF2ZSBhbnkgZnJhbWUgZGF0YSBhc3NpZ25lZCB0byBpdD9cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtb2RlIGlzIGVuYWJsZWQgYXV0b21hdGljYWxseSBpZiBubyBmcmFtZSB3YXMgcGFzc2VkIGluc2lkZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICpcbiAgICAgICAgICogSW4gdGhpcyBtb2RlIHRleHR1cmUgaXMgc3Vic2NyaWJlZCB0byBiYXNlVGV4dHVyZSBldmVudHMsIGFuZCBmaXJlcyBgdXBkYXRlYCBvbiBhbnkgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCZXdhcmUsIGFmdGVyIGxvYWRpbmcgb3IgcmVzaXplIG9mIGJhc2VUZXh0dXJlIGV2ZW50IGNhbiBmaXJlZCB0d28gdGltZXMhXG4gICAgICAgICAqIElmIHlvdSB3YW50IG1vcmUgY29udHJvbCwgc3Vic2NyaWJlIG9uIGJhc2VUZXh0dXJlIGl0c2VsZi5cbiAgICAgICAgICpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogdGV4dHVyZS5vbigndXBkYXRlJywgKCkgPT4ge30pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogQW55IGFzc2lnbm1lbnQgb2YgYGZyYW1lYCBzd2l0Y2hlcyBvZmYgYG5vRnJhbWVgIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5vRnJhbWUgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIWZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm5vRnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGFyZWEgb2YgdGhlIEJhc2VUZXh0dXJlIGltYWdlIHRvIGFjdHVhbGx5IGNvcHkgdG8gdGhlIENhbnZhcyAvIFdlYkdMIHdoZW4gcmVuZGVyaW5nLFxuICAgICAgICAgKiBpcnJlc3BlY3RpdmUgb2YgdGhlIGFjdHVhbCBmcmFtZSBzaXplIG9yIHBsYWNlbWVudCAod2hpY2ggY2FuIGJlIGluZmx1ZW5jZWQgYnkgdHJpbW1lZCB0ZXh0dXJlIGF0bGFzZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWUgPSBmcmFtZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgdHJpbW1lZCBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgdHJpbWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmltID0gdHJpbTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgYSByZW5kZXJlciBrbm93IHRoYXQgYSB0ZXh0dXJlIGhhcyBiZWVuIHVwZGF0ZWQgKHVzZWQgbWFpbmx5IGZvciBXZWJHTCB1diB1cGRhdGVzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXF1aXJlc1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgVVYgZGF0YSBjYWNoZS4gQ2FuIGJlIHVzZWQgYXMgcXVhZCBVVlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVVdnN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3V2cyA9IERFRkFVTFRfVVZTO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IFRleHR1cmVNYXRyaXggaW5zdGFuY2UgZm9yIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKiBCeSBkZWZhdWx0IHRoYXQgb2JqZWN0IGlzIG5vdCBjcmVhdGVkIGJlY2F1c2UgaXRzIGhlYXZ5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZNYXRyaXggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnID0gb3JpZyB8fCBmcmFtZTsvLyBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgICAgIHRoaXMuX3JvdGF0ZSA9IE51bWJlcihyb3RhdGUgfHwgMCk7XG5cbiAgICAgICAgaWYgKHJvdGF0ZSA9PT0gdHJ1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbGQgdGV4dHVyZXBhY2tlciBsZWdhY3ksIHNvbWUgZ2FtZXMvbGlicmFyaWVzIGFyZSBwYXNzaW5nIFwidHJ1ZVwiIGZvciByb3RhdGVkIHRleHR1cmVzXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGUgPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3JvdGF0ZSAlIDIgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYXR0ZW1wdCB0byB1c2UgZGlhbW9uZC1zaGFwZWQgVVZzLiBJZiB5b3UgYXJlIHN1cmUsIHNldCByb3RhdGlvbiBtYW51YWxseScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuY2hvciBwb2ludCB0aGF0IGlzIHVzZWQgYXMgZGVmYXVsdCBpZiBzcHJpdGUgaXMgY3JlYXRlZCB3aXRoIHRoaXMgdGV4dHVyZS5cbiAgICAgICAgICogQ2hhbmdpbmcgdGhlIGBkZWZhdWx0QW5jaG9yYCBhdCBhIGxhdGVyIHBvaW50IG9mIHRpbWUgd2lsbCBub3QgdXBkYXRlIFNwcml0ZSdzIGFuY2hvciBwb2ludC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICogQGRlZmF1bHQgezAsMH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdEFuY2hvciA9IGFuY2hvciA/IG5ldyBQb2ludChhbmNob3IueCwgYW5jaG9yLnkpIDogbmV3IFBvaW50KDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgSUQgaXMgb2JzZXJ2ZWQgYnkgc3ByaXRlcyBhbmQgVGV4dHVyZU1hdHJpeCBpbnN0YW5jZXMuXG4gICAgICAgICAqIENhbGwgdXBkYXRlVXZzKCkgdG8gaW5jcmVtZW50IGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaWRzIHVuZGVyIHdoaWNoIHRoaXMgVGV4dHVyZSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgdGV4dHVyZSBjYWNoZS4gVGhpcyBpc1xuICAgICAgICAgKiBhdXRvbWF0aWNhbGx5IHNldCBhcyBsb25nIGFzIFRleHR1cmUuYWRkVG9DYWNoZSBpcyB1c2VkLCBidXQgbWF5IG5vdCBiZSBzZXQgaWYgYVxuICAgICAgICAgKiBUZXh0dXJlIGlzIGFkZGVkIGRpcmVjdGx5IHRvIHRoZSBUZXh0dXJlQ2FjaGUgYXJyYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5vbmNlKCdsb2FkZWQnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm5vRnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGZyYW1lIHdlIHNob3VsZCBtb25pdG9yIGZvciBhbnkgYmFzZSB0ZXh0dXJlIGNoYW5nZXMuLlxuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQoYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IGZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubm9GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub24oJ3VwZGF0ZScsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGlzIHRleHR1cmUgb24gdGhlIGdwdS5cbiAgICAgKlxuICAgICAqIENhbGxzIHRoZSBUZXh0dXJlUmVzb3VyY2UgdXBkYXRlLlxuICAgICAqXG4gICAgICogSWYgeW91IGFkanVzdGVkIGBmcmFtZWAgbWFudWFsbHksIHBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqL1xuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBiYXNlIHRleHR1cmUgaXMgdXBkYXRlZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIG9uQmFzZVRleHR1cmVVcGRhdGVkKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMubm9GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBjb2RlIGxvb2tzIGNvbmZ1c2luZy4uIGJvbyB0byBhYnVzaW5nIGdldHRlcnMgYW5kIHNldHRlcnMhXG4gICAgICAgICAgICAvLyBpZiB1c2VyIGdhdmUgdXMgZnJhbWUgdGhhdCBoYXMgYmlnZ2VyIHNpemUgdGhhbiByZXNpemVkIHRleHR1cmUgaXQgY2FuIGJlIGEgcHJvYmxlbVxuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuX2ZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG4gICAgZGVzdHJveShkZXN0cm95QmFzZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZGVzdHJveUJhc2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyByZXNvdXJjZSB9ID0gdGhpcy5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSB0aGUgdGV4dHVyZSBpZiBpdCBleGlzdHMgaW4gdGhlIHRleHR1cmUgY2FjaGUuLlxuICAgICAgICAgICAgICAgIC8vIHRoaXMgb25seSBuZWVkcyB0byBiZSByZW1vdmVkIGlmIHRoZSBiYXNlIHRleHR1cmUgaXMgYWN0dWFsbHkgZGVzdHJveWVkIHRvby4uXG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlICYmIFRleHR1cmVDYWNoZVtyZXNvdXJjZS51cmxdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUocmVzb3VyY2UudXJsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZyYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmltID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnID0gbnVsbDtcblxuICAgICAgICB0aGlzLnZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRleHR1cmUgb2JqZWN0IHRoYXQgYWN0cyB0aGUgc2FtZSBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ldyB0ZXh0dXJlXG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIHRoaXMuZnJhbWUsIHRoaXMub3JpZywgdGhpcy50cmltLCB0aGlzLnJvdGF0ZSwgdGhpcy5kZWZhdWx0QW5jaG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBXZWJHTCBVViBjYWNoZS4gVXNlIGl0IGFmdGVyIHlvdSBjaGFuZ2UgYGZyYW1lYCBvciBgdHJpbWAgb2YgdGhlIHRleHR1cmUuXG4gICAgICogQ2FsbCBpdCBhZnRlciBjaGFuZ2luZyB0aGUgZnJhbWVcbiAgICAgKi9cbiAgICB1cGRhdGVVdnMoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3V2cyA9PT0gREVGQVVMVF9VVlMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3V2cyA9IG5ldyBUZXh0dXJlVXZzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91dnMuc2V0KHRoaXMuX2ZyYW1lLCB0aGlzLmJhc2VUZXh0dXJlLCB0aGlzLnJvdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8UElYSS5CYXNlVGV4dHVyZX0gc291cmNlXG4gICAgICogICAgICAgIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG4gICAgc3RhdGljIGZyb20oc291cmNlLCBvcHRpb25zID0ge30pXG4gICAge1xuICAgICAgICBsZXQgY2FjaGVJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IGBwaXhpaWRfJHt1aWQoKX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGV4dHVyZSA9IFRleHR1cmVDYWNoZVtjYWNoZUlkXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5yZXNvbHV0aW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucmVzb2x1dGlvbiA9IGdldFJlc29sdXRpb25PZlVybChzb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcblxuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYXNzdW1lIGl0cyBhIGJhc2UgdGV4dHVyZSFcbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IFRleHR1cmUgd2l0aCBhIEJ1ZmZlclJlc291cmNlIGZyb20gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogUkdCQSB2YWx1ZXMgYXJlIGZsb2F0cyBmcm9tIDAgdG8gMS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheX0gYnVmZmVyIFRoZSBvcHRpb25hbCBhcnJheSB0byB1c2UsIGlmIG5vIGRhdGFcbiAgICAgKiAgICAgICAgaXMgcHJvdmlkZWQsIGEgbmV3IEZsb2F0MzJBcnJheSBpcyBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgcmVzdWx0aW5nIG5ldyBCYXNlVGV4dHVyZVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tQnVmZmVyKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShCYXNlVGV4dHVyZS5mcm9tQnVmZmVyKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRleHR1cmUgZnJvbSBhIHNvdXJjZSBhbmQgYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIFRoZSBpbnB1dCBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGltYWdlVXJsIC0gRmlsZSBuYW1lIG9mIHRleHR1cmUsIGZvciBjYWNoZSBhbmQgcmVzb2x2aW5nIHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSAtIEh1bWFuIHJlYWRhYmxlIG5hbWUgZm9yIHRoZSB0ZXh0dXJlIGNhY2hlLiBJZiBubyBuYW1lIGlzXG4gICAgICogICAgICAgIHNwZWNpZmllZCwgb25seSBgaW1hZ2VVcmxgIHdpbGwgYmUgdXNlZCBhcyB0aGUgY2FjaGUgSUQuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBPdXRwdXQgdGV4dHVyZVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tTG9hZGVyKHNvdXJjZSwgaW1hZ2VVcmwsIG5hbWUpXG4gICAge1xuICAgICAgICBjb25zdCByZXNvdXJjZSA9IG5ldyBJbWFnZVJlc291cmNlKHNvdXJjZSk7XG5cbiAgICAgICAgcmVzb3VyY2UudXJsID0gaW1hZ2VVcmw7XG5cbiAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUocmVzb3VyY2UsIHtcbiAgICAgICAgICAgIHNjYWxlTW9kZTogc2V0dGluZ3MuU0NBTEVfTU9ERSxcbiAgICAgICAgICAgIHJlc29sdXRpb246IGdldFJlc29sdXRpb25PZlVybChpbWFnZVVybCksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gTm8gbmFtZSwgdXNlIGltYWdlVXJsIGluc3RlYWRcbiAgICAgICAgaWYgKCFuYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lID0gaW1hZ2VVcmw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFsc28gYWRkIHRoZSBmcmFtZSB0byBwaXhpJ3MgZ2xvYmFsIGNhY2hlIGZvciAnZnJvbUxvYWRlcicgZnVuY3Rpb25cbiAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBuYW1lKTtcbiAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIG5hbWUpO1xuXG4gICAgICAgIC8vIGFsc28gYWRkIHJlZmVyZW5jZXMgYnkgdXJsIGlmIHRoZXkgYXJlIGRpZmZlcmVudC5cbiAgICAgICAgaWYgKG5hbWUgIT09IGltYWdlVXJsKVxuICAgICAgICB7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgVGV4dHVyZSB0byB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIFRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYWRkVG9DYWNoZSh0ZXh0dXJlLCBpZClcbiAgICB7XG4gICAgICAgIGlmIChpZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVtpZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgWyR7aWR9XSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFRleHR1cmVDYWNoZVtpZF0gPSB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIGlkIG9mIGEgVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIFRleHR1cmUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfG51bGx9IFRoZSBUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVtb3ZlRnJvbUNhY2hlKHRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHRleHR1cmUgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlRnJvbUNhY2hlID0gVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZUZyb21DYWNoZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHR1cmUgJiYgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0ZXh0dXJlIG1hdGNoZXMgdGhlIG9uZSBiZWluZyBwYXNzZWQgaW4gYmVmb3JlIGRlbGV0aW5nIGl0IGZyb20gdGhlIGNhY2hlLlxuICAgICAgICAgICAgICAgIGlmIChUZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dID09PSB0ZXh0dXJlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgcmVzb2x1dGlvbiBvZiBiYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCByZXNvbHV0aW9uKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lIHNwZWNpZmllcyB0aGUgcmVnaW9uIG9mIHRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYGZyYW1lYCBtYW51YWxseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIGdldCBmcmFtZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgfVxuXG4gICAgc2V0IGZyYW1lKGZyYW1lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG5cbiAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSBmcmFtZTtcbiAgICAgICAgY29uc3QgeE5vdEZpdCA9IHggKyB3aWR0aCA+IHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgIGNvbnN0IHlOb3RGaXQgPSB5ICsgaGVpZ2h0ID4gdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHhOb3RGaXQgfHwgeU5vdEZpdClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwID0geE5vdEZpdCAmJiB5Tm90Rml0ID8gJ2FuZCcgOiAnb3InO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JYID0gYFg6ICR7eH0gKyAke3dpZHRofSA9ICR7eCArIHdpZHRofSA+ICR7dGhpcy5iYXNlVGV4dHVyZS53aWR0aH1gO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JZID0gYFk6ICR7eX0gKyAke2hlaWdodH0gPSAke3kgKyBoZWlnaHR9ID4gJHt0aGlzLmJhc2VUZXh0dXJlLmhlaWdodH1gO1xuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUgRXJyb3I6IGZyYW1lIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGJhc2UgVGV4dHVyZSBkaW1lbnNpb25zOiAnXG4gICAgICAgICAgICAgICAgKyBgJHtlcnJvclh9ICR7cmVsYXRpb25zaGlwfSAke2Vycm9yWX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCAmJiBoZWlnaHQgJiYgdGhpcy5iYXNlVGV4dHVyZS52YWxpZDtcblxuICAgICAgICBpZiAoIXRoaXMudHJpbSAmJiAhdGhpcy5yb3RhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMub3JpZyA9IGZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGV4dHVyZSBpcyByb3RhdGVkIGluc2lkZSB0aGUgYXRsYXNcbiAgICAgKiBzZXQgdG8gMiB0byBjb21wZW5zYXRlIGZvciB0ZXh0dXJlIHBhY2tlciByb3RhdGlvblxuICAgICAqIHNldCB0byA2IHRvIGNvbXBlbnNhdGUgZm9yIHNwaW5lIHBhY2tlciByb3RhdGlvblxuICAgICAqIGNhbiBiZSB1c2VkIHRvIHJvdGF0ZSBvciBtaXJyb3Igc3ByaXRlc1xuICAgICAqIFNlZSB7QGxpbmsgUElYSS5Hcm91cEQ4fSBmb3IgZXhwbGFuYXRpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcm90YXRlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGU7XG4gICAgfVxuXG4gICAgc2V0IHJvdGF0ZShyb3RhdGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fcm90YXRlID0gcm90YXRlO1xuICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWcud2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnLmhlaWdodDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVdoaXRlVGV4dHVyZSgpXG57XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSAxNjtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTY7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAxNiwgMTYpO1xuXG4gICAgcmV0dXJuIG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShuZXcgQ2FudmFzUmVzb3VyY2UoY2FudmFzKSkpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVBbGxIYW5kbGVycyh0ZXgpXG57XG4gICAgdGV4LmRlc3Ryb3kgPSBmdW5jdGlvbiBfZW1wdHlEZXN0cm95KCkgeyAvKiBlbXB0eSAqLyB9O1xuICAgIHRleC5vbiA9IGZ1bmN0aW9uIF9lbXB0eU9uKCkgeyAvKiBlbXB0eSAqLyB9O1xuICAgIHRleC5vbmNlID0gZnVuY3Rpb24gX2VtcHR5T25jZSgpIHsgLyogZW1wdHkgKi8gfTtcbiAgICB0ZXguZW1pdCA9IGZ1bmN0aW9uIF9lbXB0eUVtaXQoKSB7IC8qIGVtcHR5ICovIH07XG59XG5cbi8qKlxuICogQW4gZW1wdHkgdGV4dHVyZSwgdXNlZCBvZnRlbiB0byBub3QgaGF2ZSB0byBjcmVhdGUgbXVsdGlwbGUgZW1wdHkgdGV4dHVyZXMuXG4gKiBDYW4gbm90IGJlIGRlc3Ryb3llZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAqL1xuVGV4dHVyZS5FTVBUWSA9IG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZSgpKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuRU1QVFkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWS5iYXNlVGV4dHVyZSk7XG5cbi8qKlxuICogQSB3aGl0ZSB0ZXh0dXJlIG9mIDE2eDE2IHNpemUsIHVzZWQgZm9yIGdyYXBoaWNzIGFuZCBvdGhlciB0aGluZ3NcbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLldISVRFID0gY3JlYXRlV2hpdGVUZXh0dXJlKCk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUuYmFzZVRleHR1cmUpO1xuIiwiaW1wb3J0IEJhc2VSZW5kZXJUZXh0dXJlIGZyb20gJy4vQmFzZVJlbmRlclRleHR1cmUnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vdGV4dHVyZXMvVGV4dHVyZSc7XG5cbi8qKlxuICogQSBSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIFJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIF9fSGludC0yX186IFRoZSBhY3R1YWwgbWVtb3J5IGFsbG9jYXRpb24gd2lsbCBoYXBwZW4gb24gZmlyc3QgcmVuZGVyLlxuICogWW91IHNob3VsZG4ndCBjcmVhdGUgcmVuZGVyVGV4dHVyZXMgZWFjaCBmcmFtZSBqdXN0IHRvIGRlbGV0ZSB0aGVtIGFmdGVyLCB0cnkgdG8gcmV1c2UgdGhlbS5cbiAqXG4gKiBBIFJlbmRlclRleHR1cmUgdGFrZXMgYSBzbmFwc2hvdCBvZiBhbnkgRGlzcGxheSBPYmplY3QgZ2l2ZW4gdG8gaXRzIHJlbmRlciBtZXRob2QuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKDgwMCwgNjAwKTtcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSgxMDAsIDEwMCk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyVGV4dHVyZSBleHRlbmRzIFRleHR1cmVcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVJlbmRlclRleHR1cmV9IGJhc2VSZW5kZXJUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBvYmplY3QgdGhhdCB0aGlzIHRleHR1cmUgdXNlc1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpXG4gICAge1xuICAgICAgICAvLyBzdXBwb3J0IGZvciBsZWdhY3kuLlxuICAgICAgICBsZXQgX2xlZ2FjeVJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICBpZiAoIShiYXNlUmVuZGVyVGV4dHVyZSBpbnN0YW5jZW9mIEJhc2VSZW5kZXJUZXh0dXJlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlTW9kZSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBhcmd1bWVudHNbNF07XG5cbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYW4gb2xkIHJlbmRlciB0ZXh0dXJlLi5cbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgUGxlYXNlIHVzZSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSgke3dpZHRofSwgJHtoZWlnaHR9KSBpbnN0ZWFkIG9mIHRoZSBjdG9yIGRpcmVjdGx5LmApO1xuICAgICAgICAgICAgX2xlZ2FjeVJlbmRlcmVyID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMsIG5vLWNvbnNvbGUgKi9cblxuICAgICAgICAgICAgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgQmFzZVJlbmRlclRleHR1cmUoe1xuICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGUsXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgb2JqZWN0IHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHN1cGVyKGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSk7XG5cbiAgICAgICAgdGhpcy5sZWdhY3lSZW5kZXJlciA9IF9sZWdhY3lSZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RvcmVzIGBzb3VyY2VGcmFtZWAgd2hlbiB0aGlzIHRleHR1cmUgaXMgaW5zaWRlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAgICAgKiBZb3UgY2FuIHJlYWQgaXQgaW5zaWRlIGZpbHRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyRnJhbWUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUga2V5IGZvciBwb29sZWQgdGV4dHVyZSBvZiBGaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlclBvb2xLZXkgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgUmVuZGVyVGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jlc2l6ZUJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIHRoZSBiYXNlVGV4dHVyZS53aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBiZSByZXNpemVkIGFzIHdlbGw/XG4gICAgICovXG4gICAgcmVzaXplKHdpZHRoLCBoZWlnaHQsIHJlc2l6ZUJhc2VUZXh0dXJlID0gdHJ1ZSlcbiAgICB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSAod2lkdGggPiAwICYmIGhlaWdodCA+IDApO1xuXG4gICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gdGhpcy5vcmlnLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IHRoaXMub3JpZy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgaWYgKHJlc2l6ZUJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgcmVzb2x1dGlvbiBvZiBiYXNlVGV4dHVyZSwgYnV0IGRvZXMgbm90IGNoYW5nZSBmcmFtZWJ1ZmZlciBzaXplLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgbmV3IHJlc29sdXRpb24gdG8gYXBwbHkgdG8gUmVuZGVyVGV4dHVyZVxuICAgICAqL1xuICAgIHNldFJlc29sdXRpb24ocmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgYmFzZVRleHR1cmUgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPT09IHJlc29sdXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMucmVzaXplKGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGEgcmVuZGVyIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MTAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKG9wdGlvbnMpXG4gICAge1xuICAgICAgICAvLyBmYWxsYmFjaywgb2xkLXN0eWxlOiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUobmV3IEJhc2VSZW5kZXJUZXh0dXJlKG9wdGlvbnMpKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUmVuZGVyVGV4dHVyZSBmcm9tICcuL1JlbmRlclRleHR1cmUnO1xuaW1wb3J0IEJhc2VSZW5kZXJUZXh0dXJlIGZyb20gJy4vQmFzZVJlbmRlclRleHR1cmUnO1xuaW1wb3J0IHsgbmV4dFBvdzIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogRXhwZXJpbWVudGFsIVxuICpcbiAqIFRleHR1cmUgcG9vbCwgdXNlZCBieSBGaWx0ZXJTeXN0ZW0gYW5kIHBsdWdpbnNcbiAqIFN0b3JlcyBjb2xsZWN0aW9uIG9mIHRlbXBvcmFyeSBwb3cyIG9yIHNjcmVlbi1zaXplZCByZW5kZXJUZXh0dXJlc1xuICpcbiAqIElmIHlvdSB1c2UgY3VzdG9tIFJlbmRlclRleHR1cmVQb29sIGZvciB5b3VyIGZpbHRlcnMsIHlvdSBjYW4gdXNlIG1ldGhvZHNcbiAqIGBnZXRGaWx0ZXJUZXh0dXJlYCBhbmQgYHJldHVybkZpbHRlclRleHR1cmVgIHNhbWUgYXMgaW5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlclRleHR1cmVQb29sXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt0ZXh0dXJlT3B0aW9uc10gLSBvcHRpb25zIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gQmFzZVJlbmRlclRleHR1cmUgY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFt0ZXh0dXJlT3B0aW9ucy5zY2FsZU1vZGVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmVPcHRpb25zKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xuICAgICAgICB0aGlzLnRleHR1cmVPcHRpb25zID0gdGV4dHVyZU9wdGlvbnMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGxvdyByZW5kZXJUZXh0dXJlcyBvZiB0aGUgc2FtZSBzaXplIGFzIHNjcmVlbiwgbm90IGp1c3QgcG93MlxuICAgICAgICAgKlxuICAgICAgICAgKiBBdXRvbWF0aWNhbGx5IHNldHMgdG8gdHJ1ZSBhZnRlciBgc2V0U2NyZWVuU2l6ZWBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3BpeGVsc1dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGVzIG9mIHRleHR1cmUgd2l0aCBwYXJhbXMgdGhhdCB3ZXJlIHNwZWNpZmllZCBpbiBwb29sIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIHdpZHRoIG9mIHRleHR1cmUgaW4gcGl4ZWxzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxIZWlnaHQgaGVpZ2h0IG9mIHRleHR1cmUgaW4gcGl4ZWxzXG4gICAgICogQHJldHVybnMge1JlbmRlclRleHR1cmV9XG4gICAgICovXG4gICAgY3JlYXRlVGV4dHVyZShyZWFsV2lkdGgsIHJlYWxIZWlnaHQpXG4gICAge1xuICAgICAgICBjb25zdCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBCYXNlUmVuZGVyVGV4dHVyZShPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHdpZHRoOiByZWFsV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHJlYWxIZWlnaHQsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICB9LCB0aGlzLnRleHR1cmVPcHRpb25zKSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICAgICAqL1xuICAgIGdldE9wdGltYWxUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24gPSAxKVxuICAgIHtcbiAgICAgICAgbGV0IGtleSA9IFJlbmRlclRleHR1cmVQb29sLlNDUkVFTl9LRVk7XG5cbiAgICAgICAgbWluV2lkdGggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgbWluSGVpZ2h0ICo9IHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gfHwgbWluV2lkdGggIT09IHRoaXMuX3BpeGVsc1dpZHRoIHx8IG1pbkhlaWdodCAhPT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBtaW5XaWR0aCA9IG5leHRQb3cyKG1pbldpZHRoKTtcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IG5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgICAgICAgICBrZXkgPSAoKG1pbldpZHRoICYgMHhGRkZGKSA8PCAxNikgfCAobWluSGVpZ2h0ICYgMHhGRkZGKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlUG9vbFtrZXldKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVQb29sW2tleV0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZW5kZXJUZXh0dXJlID0gdGhpcy50ZXh0dXJlUG9vbFtrZXldLnBvcCgpO1xuXG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlclRleHR1cmUuZmlsdGVyUG9vbEtleSA9IGtleTtcbiAgICAgICAgcmVuZGVyVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgZXh0cmEgdGV4dHVyZSBvZiB0aGUgc2FtZSBzaXplIGFzIGlucHV0IHJlbmRlclRleHR1cmVcbiAgICAgKlxuICAgICAqIGBnZXRGaWx0ZXJUZXh0dXJlKGlucHV0LCAwLjUpYCBvciBgZ2V0RmlsdGVyVGV4dHVyZSgwLjUsIGlucHV0KWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCByZW5kZXJUZXh0dXJlIGZyb20gd2hpY2ggc2l6ZSBhbmQgcmVzb2x1dGlvbiB3aWxsIGJlIGNvcGllZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gb3ZlcnJpZGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqICBJdCBvdmVycmlkZXMsIGl0IGRvZXMgbm90IG11bHRpcGx5XG4gICAgICogQHJldHVybnMge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBnZXRGaWx0ZXJUZXh0dXJlKGlucHV0LCByZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgY29uc3QgZmlsdGVyVGV4dHVyZSA9IHRoaXMuZ2V0T3B0aW1hbFRleHR1cmUoaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCwgcmVzb2x1dGlvbiB8fCBpbnB1dC5yZXNvbHV0aW9uKTtcblxuICAgICAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gaW5wdXQuZmlsdGVyRnJhbWU7XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlclRleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGxhY2UgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGV4dHVyZSB0byBmcmVlXG4gICAgICovXG4gICAgcmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5O1xuXG4gICAgICAgIHJlbmRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sW2tleV0ucHVzaChyZW5kZXJUZXh0dXJlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgcmV0dXJuVGV4dHVyZSwgdG8gYmUgY29tcGxpYW50IHdpdGggRmlsdGVyU3lzdGVtIGludGVyZmFjZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRleHR1cmUgdG8gZnJlZVxuICAgICAqL1xuICAgIHJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHRoaXMucmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIHBvb2xcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lUZXh0dXJlcz10cnVlXSBkZXN0cm95IGFsbCBzdG9yZWQgdGV4dHVyZXNcbiAgICAgKi9cbiAgICBjbGVhcihkZXN0cm95VGV4dHVyZXMpXG4gICAge1xuICAgICAgICBkZXN0cm95VGV4dHVyZXMgPSBkZXN0cm95VGV4dHVyZXMgIT09IGZhbHNlO1xuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy50ZXh0dXJlUG9vbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IHRoaXMudGV4dHVyZVBvb2xbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZXMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIHNjcmVlbiBzaXplIHdhcyBjaGFuZ2VkLCBkcm9wcyBhbGwgc2NyZWVuLXNpemVkIHRleHR1cmVzLFxuICAgICAqIHNldHMgbmV3IHNjcmVlbiBzaXplLCBzZXRzIGBlbmFibGVGdWxsU2NyZWVuYCB0byB0cnVlXG4gICAgICpcbiAgICAgKiBTaXplIGlzIG1lYXN1cmVkIGluIHBpeGVscywgYHJlbmRlcmVyLnZpZXdgIGNhbiBiZSBwYXNzZWQgaGVyZSwgbm90IGByZW5kZXJlci5zY3JlZW5gXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVNpemV9IHNpemUgLSBJbml0aWFsIHNpemUgb2Ygc2NyZWVuXG4gICAgICovXG4gICAgc2V0U2NyZWVuU2l6ZShzaXplKVxuICAgIHtcbiAgICAgICAgaWYgKHNpemUud2lkdGggPT09IHRoaXMuX3BpeGVsc1dpZHRoXG4gICAgICAgICAgICAmJiBzaXplLmhlaWdodCA9PT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzY3JlZW5LZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IHRoaXMudGV4dHVyZVBvb2xbc2NyZWVuS2V5XTtcblxuICAgICAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBzaXplLndpZHRoID4gMCAmJiBzaXplLmhlaWdodCA+IDA7XG5cbiAgICAgICAgaWYgKHRleHR1cmVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtzY3JlZW5LZXldID0gW107XG5cbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICB9XG59XG5cbi8qKlxuICogS2V5IHRoYXQgaXMgdXNlZCB0byBzdG9yZSBmdWxsc2NyZWVuIHJlbmRlclRleHR1cmVzIGluIGEgcG9vbFxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5SZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZID0gJ3NjcmVlbic7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbi8qKlxuICogSG9sZHMgdGhlIGluZm9ybWF0aW9uIGZvciBhIHNpbmdsZSBhdHRyaWJ1dGUgc3RydWN0dXJlIHJlcXVpcmVkIHRvIHJlbmRlciBnZW9tZXRyeS5cbiAqXG4gKiBUaGlzIGRvZXMgbm90IGNvbnRhaW4gdGhlIGFjdHVhbCBkYXRhLCBidXQgaW5zdGVhZCBoYXMgYSBidWZmZXIgaWQgdGhhdCBtYXBzIHRvIGEge0BsaW5rIFBJWEkuQnVmZmVyfVxuICogVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXR0cmlidXRlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1ZmZlciAgdGhlIGlkIG9mIHRoZSBidWZmZXIgdGhhdCB0aGlzIGF0dHJpYnV0ZSB3aWxsIGxvb2sgZm9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplPTBdIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtub3JtYWxpemVkPWZhbHNlXSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3R5cGU9UElYSS5UWVBFUy5GTE9BVF0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7UElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0PTBdIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCA9IGZhbHNlLCB0eXBlID0gNTEyNiwgc3RyaWRlLCBzdGFydCwgaW5zdGFuY2UpXG4gICAge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVkID0gbm9ybWFsaXplZDtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBBdHRyaWJ1dGUuXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBBdHRyaWJ1dGUgYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1ZmZlciAgdGhlIGlkIG9mIHRoZSBidWZmZXIgdGhhdCB0aGlzIGF0dHJpYnV0ZSB3aWxsIGxvb2sgZm9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplPTJdIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0PTBdIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuQXR0cmlidXRlfSBBIG5ldyB7QGxpbmsgUElYSS5BdHRyaWJ1dGV9IGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGUoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5cbmxldCBVSUQgPSAwO1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4vKipcbiAqIEEgd3JhcHBlciBmb3IgZGF0YSBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGFuZCB1cGxvYWRlZCBieSBXZWJHTFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVmZmVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBkYXRhIHRoZSBkYXRhIHRvIHN0b3JlIGluIHRoZSBidWZmZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz10cnVlXSBgdHJ1ZWAgZm9yIHN0YXRpYyBidWZmZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbmRleD1mYWxzZV0gYHRydWVgIGZvciBpbmRleCBidWZmZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBfc3RhdGljID0gdHJ1ZSwgaW5kZXggPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBpbiB0aGUgYnVmZmVyLCBhcyBhIHR5cGVkIGFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IG5ldyBGbG9hdDMyQXJyYXkoMSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBidWZmZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgR0xCdWZmZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2xCdWZmZXJzID0ge307XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcblxuICAgICAgICB0aGlzLnN0YXRpYyA9IF9zdGF0aWM7XG5cbiAgICAgICAgdGhpcy5pZCA9IFVJRCsrO1xuXG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VCdWZmZXInLCAyKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIGNvdWxkIGV4cGxvcmUgZmxhZ2dpbmcgb25seSBhIHBhcnRpYWwgdXBsb2FkP1xuICAgIC8qKlxuICAgICAqIGZsYWdzIHRoaXMgYnVmZmVyIGFzIHJlcXVpcmluZyBhbiB1cGxvYWQgdG8gdGhlIEdQVVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8U2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBbZGF0YV0gdGhlIGRhdGEgdG8gdXBkYXRlIGluIHRoZSBidWZmZXIuXG4gICAgICovXG4gICAgdXBkYXRlKGRhdGEpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IHRoaXMuZGF0YTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5ydW4odGhpcywgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBidWZmZXJcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJ1ZmZlciBiYXNlZCBvbiBhbiBhcnJheSBvciBUeXBlZEFycmF5XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlclZpZXcgfCBudW1iZXJbXX0gZGF0YSB0aGUgVHlwZWRBcnJheSB0aGF0IHRoZSBidWZmZXIgd2lsbCBzdG9yZS4gSWYgdGhpcyBpcyBhIHJlZ3VsYXIgQXJyYXkgaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogQHJldHVybiB7UElYSS5CdWZmZXJ9IEEgbmV3IEJ1ZmZlciBiYXNlZCBvbiB0aGUgZGF0YSBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShkYXRhKVxuICAgIHtcbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcihkYXRhKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRCdWZmZXJUeXBlKGFycmF5KVxue1xuICAgIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNClcbiAgICB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdGbG9hdDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDMyQXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDMyQXJyYXknO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICdJbnQzMkFycmF5JztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDIpXG4gICAge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MTZBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MTZBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDEpXG4gICAge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQ4QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETyBtYXAgb3V0IHRoZSByZXN0IG9mIHRoZSBhcnJheSBlbGVtZW50cyFcbiAgICByZXR1cm4gbnVsbDtcbn1cbiIsImltcG9ydCBnZXRCdWZmZXJUeXBlIGZyb20gJy4vZ2V0QnVmZmVyVHlwZSc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbmNvbnN0IG1hcCA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpXG57XG4gICAgbGV0IG91dFNpemUgPSAwO1xuICAgIGxldCBzdHJpZGUgPSAwO1xuICAgIGNvbnN0IHZpZXdzID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHN0cmlkZSArPSBzaXplc1tpXTtcbiAgICAgICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihvdXRTaXplICogNCk7XG5cbiAgICBsZXQgb3V0ID0gbnVsbDtcbiAgICBsZXQgbGl0dGxlT2Zmc2V0ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHNpemVzW2ldO1xuICAgICAgICBjb25zdCBhcnJheSA9IGFycmF5c1tpXTtcblxuICAgICAgICBjb25zdCB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG5cbiAgICAgICAgaWYgKCF2aWV3c1t0eXBlXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmlld3NbdHlwZV0gPSBuZXcgbWFwW3R5cGVdKGJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBvdXQgPSB2aWV3c1t0eXBlXTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbmRleFN0YXJ0ID0gKChqIC8gc2l6ZSB8IDApICogc3RyaWRlKSArIGxpdHRsZU9mZnNldDtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaiAlIHNpemU7XG5cbiAgICAgICAgICAgIG91dFtpbmRleFN0YXJ0ICsgaW5kZXhdID0gYXJyYXlbal07XG4gICAgICAgIH1cblxuICAgICAgICBsaXR0bGVPZmZzZXQgKz0gc2l6ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xufVxuIiwiaW1wb3J0IEF0dHJpYnV0ZSBmcm9tICcuL0F0dHJpYnV0ZSc7XG5pbXBvcnQgQnVmZmVyIGZyb20gJy4vQnVmZmVyJztcbmltcG9ydCBpbnRlcmxlYXZlVHlwZWRBcnJheXMgZnJvbSAnLi91dGlscy9pbnRlcmxlYXZlVHlwZWRBcnJheXMnO1xuaW1wb3J0IGdldEJ1ZmZlclR5cGUgZnJvbSAnLi91dGlscy9nZXRCdWZmZXJUeXBlJztcbmltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5cbmNvbnN0IGJ5dGVTaXplTWFwID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG5sZXQgVUlEID0gMDtcblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xuY29uc3QgbWFwID0ge1xuICAgIEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LFxuICAgIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSxcbiAgICBJbnQzMkFycmF5OiBJbnQzMkFycmF5LFxuICAgIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXksXG4gICAgVWludDE2QXJyYXk6IFVpbnQxNkFycmF5LFxufTtcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4vKipcbiAqIFRoZSBHZW9tZXRyeSByZXByZXNlbnRzIGEgbW9kZWwuIEl0IGNvbnNpc3RzIG9mIHR3byBjb21wb25lbnRzOlxuICogLSBHZW9tZXRyeVN0eWxlIC0gVGhlIHN0cnVjdHVyZSBvZiB0aGUgbW9kZWwgc3VjaCBhcyB0aGUgYXR0cmlidXRlcyBsYXlvdXRcbiAqIC0gR2VvbWV0cnlEYXRhIC0gdGhlIGRhdGEgb2YgdGhlIG1vZGVsIC0gdGhpcyBjb25zaXN0cyBvZiBidWZmZXJzLlxuICogVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLlxuICpcbiAqIEdlb21ldHJ5IGNhbiBiZSBkZWZpbmVkIHdpdGhvdXQgcGFzc2luZyBpbiBhIHN0eWxlIG9yIGRhdGEgaWYgcmVxdWlyZWQgKHRoYXRzIGhvdyBJIHByZWZlciEpXG4gKlxuICogYGBganNcbiAqIGxldCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLDIpXG4gKiBnZW9tZXRyeS5hZGRJbmRleChbMCwxLDIsMSwzLDJdKVxuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW9tZXRyeVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJbXX0gW2J1ZmZlcnNdICBhbiBhcnJheSBvZiBidWZmZXJzLiBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2F0dHJpYnV0ZXNdIG9mIHRoZSBnZW9tZXRyeSwgb3B0aW9uYWwgc3RydWN0dXJlIG9mIHRoZSBhdHRyaWJ1dGVzIGxheW91dFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJ1ZmZlcnMgPSBbXSwgYXR0cmlidXRlcyA9IHt9KVxuICAgIHtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gYnVmZmVycztcblxuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgVkFPc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsVmVydGV4QXJyYXlPYmplY3RzID0ge307XG5cbiAgICAgICAgdGhpcy5pZCA9IFVJRCsrO1xuXG4gICAgICAgIHRoaXMuaW5zdGFuY2VkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBpbnN0YW5jZXMgaW4gdGhpcyBnZW9tZXRyeSwgcGFzcyBpdCB0byBgR2VvbWV0cnlTeXN0ZW0uZHJhdygpYFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5zdGFuY2VDb3VudCA9IDE7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUdlb21ldHJ5JywgMik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvdW50IG9mIGV4aXN0aW5nIChub3QgZGVzdHJveWVkKSBtZXNoZXMgdGhhdCByZWZlcmVuY2UgdGhpcyBnZW9tZXRyeVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBBZGRzIGFuIGF0dHJpYnV0ZSB0byB0aGUgZ2VvbWV0cnlcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIChtYXRjaGluZyB1cCB0byBhIHNoYWRlcilcbiAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ9IFtidWZmZXJdIHRoZSBidWZmZXIgdGhhdCBob2xkcyB0aGUgZGF0YSBvZiB0aGUgYXR0cmlidXRlIC4gWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gQXJyYXkgYW5kIGEgYnVmZmVyIHdpbGwgYmUgY3JlYXRlZCBmcm9tIGl0LlxuICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplPTBdIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMlxuICAgICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3R5cGU9UElYSS5UWVBFUy5GTE9BVF0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7UElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdHJpZGU9MF0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydD0wXSBIb3cgZmFyIGludG8gdGhlIGFycmF5IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAqXG4gICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgKi9cbiAgICBhZGRBdHRyaWJ1dGUoaWQsIGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCA9IGZhbHNlLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcGFzcyBhIGJ1ZmZlciB3aGVuIGNyZWF0aW5nIGFuIGF0dHJpYnV0ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIGJ1ZmZlciFcbiAgICAgICAgaWYgKCFidWZmZXIuZGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaXRzIGFuIGFycmF5IVxuICAgICAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaWRzID0gaWQuc3BsaXQoJ3wnKTtcblxuICAgICAgICBpZiAoaWRzLmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKGlkc1tpXSwgYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYnVmZmVySW5kZXggPSB0aGlzLmJ1ZmZlcnMuaW5kZXhPZihidWZmZXIpO1xuXG4gICAgICAgIGlmIChidWZmZXJJbmRleCA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgICAgICBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5sZW5ndGggLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW2lkXSA9IG5ldyBBdHRyaWJ1dGUoYnVmZmVySW5kZXgsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKTtcblxuICAgICAgICAvLyBhc3N1bWluZyB0aGF0IGlmIHRoZXJlIGlzIGluc3RhbmNlZCBkYXRhIHRoZW4gdGhpcyB3aWxsIGJlIGRyYXduIHdpdGggaW5zdGFuY2luZyFcbiAgICAgICAgdGhpcy5pbnN0YW5jZWQgPSB0aGlzLmluc3RhbmNlZCB8fCBpbnN0YW5jZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSByZXF1ZXN0ZWQgYXR0cmlidXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkF0dHJpYnV0ZX0gdGhlIGF0dHJpYnV0ZSByZXF1ZXN0ZWQuXG4gICAgICovXG4gICAgZ2V0QXR0cmlidXRlKGlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1tpZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkICB0aGUgbmFtZSBvZiB0aGUgYnVmZmVyIHJlcXVpcmVkXG4gICAgICogQHJldHVybiB7UElYSS5CdWZmZXJ9IHRoZSBidWZmZXIgcmVxdWVzdGVkLlxuICAgICAqL1xuICAgIGdldEJ1ZmZlcihpZClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnNbdGhpcy5nZXRBdHRyaWJ1dGUoaWQpLmJ1ZmZlcl07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKlxuICAgICogQWRkcyBhbiBpbmRleCBidWZmZXIgdG8gdGhlIGdlb21ldHJ5XG4gICAgKiBUaGUgaW5kZXggYnVmZmVyIGNvbnRhaW5zIGludGVnZXJzLCB0aHJlZSBmb3IgZWFjaCB0cmlhbmdsZSBpbiB0aGUgZ2VvbWV0cnksIHdoaWNoIHJlZmVyZW5jZSB0aGUgdmFyaW91cyBhdHRyaWJ1dGUgYnVmZmVycyAocG9zaXRpb24sIGNvbG91ciwgVVYgY29vcmRpbmF0ZXMsIG90aGVyIFVWIGNvb3JkaW5hdGVzLCBub3JtYWwsIOKApikuIFRoZXJlIGlzIG9ubHkgT05FIGluZGV4IGJ1ZmZlci5cbiAgICAqXG4gICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSBbYnVmZmVyXSB0aGUgYnVmZmVyIHRoYXQgaG9sZHMgdGhlIGRhdGEgb2YgdGhlIGluZGV4IGJ1ZmZlci4gWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gQXJyYXkgYW5kIGEgYnVmZmVyIHdpbGwgYmUgY3JlYXRlZCBmcm9tIGl0LlxuICAgICogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuICAgICovXG4gICAgYWRkSW5kZXgoYnVmZmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCFidWZmZXIuZGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaXRzIGFuIGFycmF5IVxuICAgICAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBidWZmZXIuaW5kZXggPSB0cnVlO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gYnVmZmVyO1xuXG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcnMuaW5kZXhPZihidWZmZXIpID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGluZGV4IGJ1ZmZlclxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5CdWZmZXJ9IHRoZSBpbmRleCBidWZmZXIuXG4gICAgICovXG4gICAgZ2V0SW5kZXgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhCdWZmZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGhpcyBmdW5jdGlvbiBtb2RpZmllcyB0aGUgc3RydWN0dXJlIHNvIHRoYXQgYWxsIGN1cnJlbnQgYXR0cmlidXRlcyBiZWNvbWUgaW50ZXJsZWF2ZWQgaW50byBhIHNpbmdsZSBidWZmZXJcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgaWYgeW91ciBtb2RlbCByZW1haW5zIHN0YXRpYyBhcyBpdCBvZmZlcnMgYSBsaXR0bGUgcGVyZm9ybWFuY2UgYm9vc3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBpbnRlcmxlYXZlKClcbiAgICB7XG4gICAgICAgIC8vIGEgc2ltcGxlIGNoZWNrIHRvIHNlZSBpZiBidWZmZXJzIGFyZSBhbHJlYWR5IGludGVybGVhdmVkLi5cbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDEgfHwgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDIgJiYgdGhpcy5pbmRleEJ1ZmZlcikpIHJldHVybiB0aGlzO1xuXG4gICAgICAgIC8vIGFzc3VtZSBhbHJlYWR5IHRoYXQgbm8gYnVmZmVycyBhcmUgaW50ZXJsZWF2ZWRcbiAgICAgICAgY29uc3QgYXJyYXlzID0gW107XG4gICAgICAgIGNvbnN0IHNpemVzID0gW107XG4gICAgICAgIGNvbnN0IGludGVybGVhdmVkQnVmZmVyID0gbmV3IEJ1ZmZlcigpO1xuICAgICAgICBsZXQgaTtcblxuICAgICAgICBmb3IgKGkgaW4gdGhpcy5hdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG5cbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcblxuICAgICAgICAgICAgYXJyYXlzLnB1c2goYnVmZmVyLmRhdGEpO1xuXG4gICAgICAgICAgICBzaXplcy5wdXNoKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkgLyA0KTtcblxuICAgICAgICAgICAgYXR0cmlidXRlLmJ1ZmZlciA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpbnRlcmxlYXZlZEJ1ZmZlci5kYXRhID0gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlcnNbaV0gIT09IHRoaXMuaW5kZXhCdWZmZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnVmZmVycyA9IFtpbnRlcmxlYXZlZEJ1ZmZlcl07XG5cbiAgICAgICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0U2l6ZSgpXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5hdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgICAgIHJldHVybiBidWZmZXIuZGF0YS5sZW5ndGggLyAoKGF0dHJpYnV0ZS5zdHJpZGUgLyA0KSB8fCBhdHRyaWJ1dGUuc2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5ydW4odGhpcywgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgICAgIHRoaXMuYnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyBhIGNsb25lIG9mIHRoZSBnZW9tZXRyeVxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuR2VvbWV0cnl9IGEgbmV3IGNsb25lIG9mIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBjbG9uZSgpXG4gICAge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBnZW9tZXRyeS5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcih0aGlzLmJ1ZmZlcnNbaV0uZGF0YS5zbGljZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYiA9IHRoaXMuYXR0cmlidXRlc1tpXTtcblxuICAgICAgICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlc1tpXSA9IG5ldyBBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgYXR0cmliLmJ1ZmZlcixcbiAgICAgICAgICAgICAgICBhdHRyaWIuc2l6ZSxcbiAgICAgICAgICAgICAgICBhdHRyaWIubm9ybWFsaXplZCxcbiAgICAgICAgICAgICAgICBhdHRyaWIudHlwZSxcbiAgICAgICAgICAgICAgICBhdHRyaWIuc3RyaWRlLFxuICAgICAgICAgICAgICAgIGF0dHJpYi5zdGFydCxcbiAgICAgICAgICAgICAgICBhdHRyaWIuaW5zdGFuY2VcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIgPSBnZW9tZXRyeS5idWZmZXJzW3RoaXMuYnVmZmVycy5pbmRleE9mKHRoaXMuaW5kZXhCdWZmZXIpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmluZGV4QnVmZmVyLmluZGV4ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBtZXJnZXMgYW4gYXJyYXkgb2YgZ2VvbWV0cmllcyBpbnRvIGEgbmV3IHNpbmdsZSBvbmVcbiAgICAgKiBnZW9tZXRyeSBhdHRyaWJ1dGUgc3R5bGVzIG11c3QgbWF0Y2ggZm9yIHRoaXMgb3BlcmF0aW9uIHRvIHdvcmtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeVtdfSBnZW9tZXRyaWVzIGFycmF5IG9mIGdlb21ldHJpZXMgdG8gbWVyZ2VcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gc2hpbnkgbmV3IGdlb21ldHJ5IVxuICAgICAqL1xuICAgIHN0YXRpYyBtZXJnZShnZW9tZXRyaWVzKVxuICAgIHtcbiAgICAgICAgLy8gdG9kbyBhZGQgYSBnZW9tZXRyeSBjaGVjayFcbiAgICAgICAgLy8gYWxzbyBhIHNpemUgY2hlY2suLiBjYW50IGJlIHRvbyBiaWchXVxuXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5T3V0ID0gbmV3IEdlb21ldHJ5KCk7XG5cbiAgICAgICAgY29uc3QgYXJyYXlzID0gW107XG4gICAgICAgIGNvbnN0IHNpemVzID0gW107XG4gICAgICAgIGNvbnN0IG9mZnNldHMgPSBbXTtcblxuICAgICAgICBsZXQgZ2VvbWV0cnk7XG5cbiAgICAgICAgLy8gcGFzcyBvbmUuLiBnZXQgc2l6ZXMuLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNpemVzW2pdID0gc2l6ZXNbal0gfHwgMDtcbiAgICAgICAgICAgICAgICBzaXplc1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIG9mZnNldHNbal0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYnVpbGQgdGhlIGNvcnJlY3Qgc2l6ZSBhcnJheXMuLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdHlwZXMhXG4gICAgICAgICAgICBhcnJheXNbaV0gPSBuZXcgbWFwW2dldEJ1ZmZlclR5cGUoZ2VvbWV0cnkuYnVmZmVyc1tpXS5kYXRhKV0oc2l6ZXNbaV0pO1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuYnVmZmVyc1tpXSA9IG5ldyBCdWZmZXIoYXJyYXlzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhc3MgdG8gc2V0IGRhdGEuLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFycmF5c1tqXS5zZXQoZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLCBvZmZzZXRzW2pdKTtcbiAgICAgICAgICAgICAgICBvZmZzZXRzW2pdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZW9tZXRyeU91dC5hdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcblxuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyID0gZ2VvbWV0cnlPdXQuYnVmZmVyc1tnZW9tZXRyeS5idWZmZXJzLmluZGV4T2YoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyLmluZGV4ID0gdHJ1ZTtcblxuICAgICAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgICAgICBsZXQgc3RyaWRlID0gMDtcbiAgICAgICAgICAgIGxldCBvZmZzZXQyID0gMDtcbiAgICAgICAgICAgIGxldCBidWZmZXJJbmRleFRvQ291bnQgPSAwO1xuXG4gICAgICAgICAgICAvLyBnZXQgYSBidWZmZXJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VvbWV0cnkuYnVmZmVyc1tpXSAhPT0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXJJbmRleFRvQ291bnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgdGhlIHN0cmlkZSBvZiBvbmUgYnVmZmVyLi5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoKGF0dHJpYnV0ZS5idWZmZXIgfCAwKSA9PT0gYnVmZmVySW5kZXhUb0NvdW50KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaWRlICs9ICgoYXR0cmlidXRlLnNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGUudHlwZV0pIC8gNCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aW1lIHRvIG9mZiBzZXQgYWxsIGluZGV4ZXMuLlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4QnVmZmVyRGF0YSA9IGdlb21ldHJpZXNbaV0uaW5kZXhCdWZmZXIuZGF0YTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5kZXhCdWZmZXJEYXRhLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuZGF0YVtqICsgb2Zmc2V0Ml0gKz0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBnZW9tZXRyeS5idWZmZXJzW2J1ZmZlckluZGV4VG9Db3VudF0uZGF0YS5sZW5ndGggLyAoc3RyaWRlKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQyICs9IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2VvbWV0cnlPdXQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IEdlb21ldHJ5IGZyb20gJy4uL2dlb21ldHJ5L0dlb21ldHJ5JztcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVhZCBleHRlbmRzIEdlb21ldHJ5XG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgW1xuICAgICAgICAgICAgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgMCwgMSxcbiAgICAgICAgXSlcbiAgICAgICAgICAgIC5hZGRJbmRleChbMCwgMSwgMywgMl0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBHZW9tZXRyeSBmcm9tICcuLi9nZW9tZXRyeS9HZW9tZXRyeSc7XG5pbXBvcnQgQnVmZmVyIGZyb20gJy4uL2dlb21ldHJ5L0J1ZmZlcic7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHF1YWQgd2l0aCB1dnMgbGlrZSBpbiB2NFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuR2VvbWV0cnlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVhZFV2IGV4dGVuZHMgR2VvbWV0cnlcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAtMSwgLTEsXG4gICAgICAgICAgICAxLCAtMSxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAtMSwgMSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBVdnMgb2YgdGhlIHF1YWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgICAxLCAwLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIDAsIDEsXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnZlcnRpY2VzKTtcbiAgICAgICAgdGhpcy51dkJ1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy51dnMpO1xuXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCB0aGlzLnZlcnRleEJ1ZmZlcilcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCB0aGlzLnV2QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAyLCAwLCAyLCAzXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFwcyB0d28gUmVjdGFuZ2xlIHRvIHRoZSBxdWFkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gdGFyZ2V0VGV4dHVyZUZyYW1lIC0gdGhlIGZpcnN0IHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSB0aGUgc2Vjb25kIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuUXVhZH0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgbWFwKHRhcmdldFRleHR1cmVGcmFtZSwgZGVzdGluYXRpb25GcmFtZSlcbiAgICB7XG4gICAgICAgIGxldCB4ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS54IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgICAgICBsZXQgeSA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueSAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy51dnNbMF0gPSB4O1xuICAgICAgICB0aGlzLnV2c1sxXSA9IHk7XG5cbiAgICAgICAgdGhpcy51dnNbMl0gPSB4ICsgKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGgpO1xuICAgICAgICB0aGlzLnV2c1szXSA9IHk7XG5cbiAgICAgICAgdGhpcy51dnNbNF0gPSB4ICsgKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGgpO1xuICAgICAgICB0aGlzLnV2c1s1XSA9IHkgKyAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnV2c1s2XSA9IHg7XG4gICAgICAgIHRoaXMudXZzWzddID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgIHggPSBkZXN0aW5hdGlvbkZyYW1lLng7XG4gICAgICAgIHkgPSBkZXN0aW5hdGlvbkZyYW1lLnk7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1swXSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbMV0gPSB5O1xuXG4gICAgICAgIHRoaXMudmVydGljZXNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1szXSA9IHk7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s0XSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudmVydGljZXNbNl0gPSB4O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzddID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxlZ2FjeSB1cGxvYWQgbWV0aG9kLCBqdXN0IG1hcmtzIGJ1ZmZlcnMgZGlydHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5RdWFkVXZ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIGludmFsaWRhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgICAgIHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEKys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwibGV0IFVJRCA9IDA7XG5cbi8qKlxuICogVW5pZm9ybSBncm91cCBob2xkcyB1bmlmb3JtIG1hcCBhbmQgc29tZSBJRCdzIGZvciB3b3JrXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5jbGFzcyBVbmlmb3JtR3JvdXBcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtfc3RhdGljXSAtIFVuaWZvcm1zIHdvbnQgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHVuaWZvcm1zLCBfc3RhdGljKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVuaWZvcm0gdmFsdWVzXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVuaWZvcm1zID0gdW5pZm9ybXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0cyBhIGdyb3VwIGFuZCBub3QgYSBzaW5nbGUgdW5pZm9ybXNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ3JvdXAgPSB0cnVlO1xuXG4gICAgICAgIC8vIGxldHMgZ2VuZXJhdGUgdGhpcyB3aGVuIHRoZSBzaGFkZXIgP1xuICAgICAgICB0aGlzLnN5bmNVbmlmb3JtcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkaXJ0eSB2ZXJzaW9uXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdW5pcXVlIGlkXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IFVJRCsrO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmlmb3JtcyB3b250IGJlIGNoYW5nZWQgYWZ0ZXIgY3JlYXRpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGljID0gISFfc3RhdGljO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB9XG5cbiAgICBhZGQobmFtZSwgdW5pZm9ybXMsIF9zdGF0aWMpXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zW25hbWVdID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb20odW5pZm9ybXMsIF9zdGF0aWMpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBVbmlmb3JtR3JvdXA7XG4iLCJpbXBvcnQgU3lzdGVtIGZyb20gJy4uL1N5c3RlbSc7XG5cbmltcG9ydCBSZW5kZXJUZXh0dXJlUG9vbCBmcm9tICcuLi9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmVQb29sJztcbmltcG9ydCBRdWFkIGZyb20gJy4uL3V0aWxzL1F1YWQnO1xuaW1wb3J0IFF1YWRVdiBmcm9tICcuLi91dGlscy9RdWFkVXYnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCBVbmlmb3JtR3JvdXAgZnJvbSAnLi4vc2hhZGVyL1VuaWZvcm1Hcm91cCc7XG5pbXBvcnQgeyBEUkFXX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZmlsdGVyIHN0YXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIEZpbHRlclN0YXRlXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGFyZ2V0IG9mIHRoZSBmaWx0ZXJzXG4gICAgICAgICAqIFdlIHN0b3JlIGZvciBjYXNlIHdoZW4gY3VzdG9tIGZpbHRlciB3YW50cyB0byBrbm93IHRoZSBlbGVtZW50IGl0IHdhcyBhcHBsaWVkIG9uXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcGF0aWJpbGl0eSB3aXRoIFBpeGlKUyB2NCBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxlZ2FjeSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNvbHV0aW9uIG9mIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuXG4gICAgICAgIC8vIG5leHQgdGhyZWUgZmllbGRzIGFyZSBjcmVhdGVkIG9ubHkgZm9yIHJvb3RcbiAgICAgICAgLy8gcmUtYXNzaWduZWQgZm9yIGV2ZXJ5dGhpbmcgZWxzZVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjbGVhcnMgdGhlIHN0YXRlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjbGVhcigpXG4gICAge1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZSA9IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgZmlsdGVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbHRlclN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIGZpbHRlcnMgZm9yIHRoZSBGaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2sgPSBbe31dO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdG9yZXMgYSBidW5jaCBvZiBQTzIgdGV4dHVyZXMgdXNlZCBmb3IgZmlsdGVyaW5nXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSBuZXcgUmVuZGVyVGV4dHVyZVBvb2woKTtcblxuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUocmVuZGVyZXIudmlldyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgcG9vbCBmb3Igc3RvcmluZyBmaWx0ZXIgc3RhdGVzLCBzYXZlIHVzIGNyZWF0aW5nIG5ldyBvbmVzIGVhY2ggdGlja1xuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGVQb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdmVyeSBzaW1wbGUgZ2VvbWV0cnkgdXNlZCB3aGVuIGRyYXdpbmcgYSBmaWx0ZXIgZWZmZWN0IHRvIHRoZSBzY3JlZW5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5RdWFkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWFkID0gbmV3IFF1YWQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUXVhZCBVVnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5RdWFkVXZ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnF1YWRVdiA9IG5ldyBRdWFkVXYoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGVtcG9yYXJ5IHJlY3QgZm9yIG1hdGhzXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZSBzdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgdW5pZm9ybSBncm91cCBpcyBhdHRhY2hlZCB0byBmaWx0ZXIgdW5pZm9ybXMgd2hlbiB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVW5pZm9ybUdyb3VwfVxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUmVjdGFuZ2xlfSBvdXRwdXRGcmFtZVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRTaXplXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dFBpeGVsXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dENsYW1wXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSByZXNvbHV0aW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBmaWx0ZXJBcmVhXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYWQzMkFycmF5fSBmaWx0ZXJDbGFtcFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgb3V0cHV0RnJhbWU6IHRoaXMudGVtcFJlY3QsXG4gICAgICAgICAgICBpbnB1dFNpemU6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBpbnB1dFBpeGVsOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgaW5wdXRDbGFtcDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG5cbiAgICAgICAgICAgIC8vIGxlZ2FjeSB2YXJpYWJsZXNcbiAgICAgICAgICAgIGZpbHRlckFyZWE6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBmaWx0ZXJDbGFtcDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSByZW5kZXJlci52aWV3LndpZHRoO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSByZW5kZXJlci52aWV3LmhlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGZpbHRlciB0byB0aGUgU3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIFRoZSB0YXJnZXQgb2YgdGhlIGZpbHRlciB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcltdfSBmaWx0ZXJzIC0gVGhlIGZpbHRlcnMgdG8gYXBwbHkuXG4gICAgICovXG4gICAgcHVzaCh0YXJnZXQsIGZpbHRlcnMpXG4gICAge1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIGNvbnN0IGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZVBvb2wucG9wKCkgfHwgbmV3IEZpbHRlclN0YXRlKCk7XG5cbiAgICAgICAgbGV0IHJlc29sdXRpb24gPSBmaWx0ZXJzWzBdLnJlc29sdXRpb247XG4gICAgICAgIGxldCBwYWRkaW5nID0gZmlsdGVyc1swXS5wYWRkaW5nO1xuICAgICAgICBsZXQgYXV0b0ZpdCA9IGZpbHRlcnNbMF0uYXV0b0ZpdDtcbiAgICAgICAgbGV0IGxlZ2FjeSA9IGZpbHRlcnNbMF0ubGVnYWN5O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyID0gIGZpbHRlcnNbaV07XG5cbiAgICAgICAgICAgIC8vIGxldHMgdXNlIHRoZSBsb3dlc3QgcmVzb2x1dGlvbi4uXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gTWF0aC5taW4ocmVzb2x1dGlvbiwgZmlsdGVyLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgLy8gYW5kIHRoZSBsYXJnZXN0IGFtb3VudCBvZiBwYWRkaW5nIVxuICAgICAgICAgICAgcGFkZGluZyA9IE1hdGgubWF4KHBhZGRpbmcsIGZpbHRlci5wYWRkaW5nKTtcbiAgICAgICAgICAgIC8vIG9ubHkgYXV0byBmaXQgaWYgYWxsIGZpbHRlcnMgYXJlIGF1dG9maXRcbiAgICAgICAgICAgIGF1dG9GaXQgPSBhdXRvRml0IHx8IGZpbHRlci5hdXRvRml0O1xuXG4gICAgICAgICAgICBsZWdhY3kgPSBsZWdhY3kgfHwgZmlsdGVyLmxlZ2FjeTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXJTdGFjay5sZW5ndGggPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrWzBdLnJlbmRlclRleHR1cmUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmN1cnJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBmaWx0ZXJTdGFjay5wdXNoKHN0YXRlKTtcblxuICAgICAgICBzdGF0ZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcblxuICAgICAgICBzdGF0ZS5sZWdhY3kgPSBsZWdhY3k7XG5cbiAgICAgICAgc3RhdGUudGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLmNvcHlGcm9tKHRhcmdldC5maWx0ZXJBcmVhIHx8IHRhcmdldC5nZXRCb3VuZHModHJ1ZSkpO1xuXG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLnBhZChwYWRkaW5nKTtcbiAgICAgICAgaWYgKGF1dG9GaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLmZpdCh0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuc291cmNlRnJhbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcm91bmQgdG8gd2hvbGUgbnVtYmVyIGJhc2VkIG9uIHJlc29sdXRpb25cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY2VpbChyZXNvbHV0aW9uKTtcblxuICAgICAgICBzdGF0ZS5yZW5kZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCwgc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICAgICAgc3RhdGUuZmlsdGVycyA9IGZpbHRlcnM7XG5cbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHN0YXRlLnJlbmRlclRleHR1cmUud2lkdGg7XG4gICAgICAgIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc3RhdGUucmVuZGVyVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChzdGF0ZS5yZW5kZXJUZXh0dXJlLCBzdGF0ZS5zb3VyY2VGcmFtZSk7Ly8gLywgc3RhdGUuZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQb3BzIG9mZiB0aGUgZmlsdGVyIGFuZCBhcHBsaWVzIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgcG9wKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gZmlsdGVyU3RhY2sucG9wKCk7XG4gICAgICAgIGNvbnN0IGZpbHRlcnMgPSBzdGF0ZS5maWx0ZXJzO1xuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSBzdGF0ZTtcblxuICAgICAgICBjb25zdCBnbG9iYWxVbmlmb3JtcyA9IHRoaXMuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXM7XG5cbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMub3V0cHV0RnJhbWUgPSBzdGF0ZS5zb3VyY2VGcmFtZTtcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMucmVzb2x1dGlvbiA9IHN0YXRlLnJlc29sdXRpb247XG5cbiAgICAgICAgY29uc3QgaW5wdXRTaXplID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRTaXplO1xuICAgICAgICBjb25zdCBpbnB1dFBpeGVsID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRQaXhlbDtcbiAgICAgICAgY29uc3QgaW5wdXRDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG5cbiAgICAgICAgaW5wdXRTaXplWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgaW5wdXRTaXplWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgIGlucHV0U2l6ZVsyXSA9IDEuMCAvIGlucHV0U2l6ZVswXTtcbiAgICAgICAgaW5wdXRTaXplWzNdID0gMS4wIC8gaW5wdXRTaXplWzFdO1xuXG4gICAgICAgIGlucHV0UGl4ZWxbMF0gPSBpbnB1dFNpemVbMF0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzFdID0gaW5wdXRTaXplWzFdICogc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgaW5wdXRQaXhlbFsyXSA9IDEuMCAvIGlucHV0UGl4ZWxbMF07XG4gICAgICAgIGlucHV0UGl4ZWxbM10gPSAxLjAgLyBpbnB1dFBpeGVsWzFdO1xuXG4gICAgICAgIGlucHV0Q2xhbXBbMF0gPSAwLjUgKiBpbnB1dFBpeGVsWzJdO1xuICAgICAgICBpbnB1dENsYW1wWzFdID0gMC41ICogaW5wdXRQaXhlbFszXTtcbiAgICAgICAgaW5wdXRDbGFtcFsyXSA9IChzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCAqIGlucHV0U2l6ZVsyXSkgLSAoMC41ICogaW5wdXRQaXhlbFsyXSk7XG4gICAgICAgIGlucHV0Q2xhbXBbM10gPSAoc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0ICogaW5wdXRTaXplWzNdKSAtICgwLjUgKiBpbnB1dFBpeGVsWzNdKTtcblxuICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0aGUgcmVjdCBpZiBpdHMgbGVnYWN5Li5cbiAgICAgICAgaWYgKHN0YXRlLmxlZ2FjeSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyQXJlYSA9IGdsb2JhbFVuaWZvcm1zLmZpbHRlckFyZWE7XG5cbiAgICAgICAgICAgIGZpbHRlckFyZWFbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsxXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsyXSA9IHN0YXRlLnNvdXJjZUZyYW1lLng7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzNdID0gc3RhdGUuc291cmNlRnJhbWUueTtcblxuICAgICAgICAgICAgZ2xvYmFsVW5pZm9ybXMuZmlsdGVyQ2xhbXAgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dENsYW1wO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcblxuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSBmaWx0ZXJTdGFja1tmaWx0ZXJTdGFjay5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZpbHRlcnNbMF0uYXBwbHkodGhpcywgc3RhdGUucmVuZGVyVGV4dHVyZSwgbGFzdFN0YXRlLnJlbmRlclRleHR1cmUsIGZhbHNlLCBzdGF0ZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShzdGF0ZS5yZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBmbGlwID0gc3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgICAgIGxldCBmbG9wID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShcbiAgICAgICAgICAgICAgICBmbGlwLndpZHRoLFxuICAgICAgICAgICAgICAgIGZsaXAuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHN0YXRlLnJlc29sdXRpb25cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGZsb3AuZmlsdGVyRnJhbWUgPSBmbGlwLmZpbHRlckZyYW1lO1xuXG4gICAgICAgICAgICBsZXQgaSA9IDA7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aCAtIDE7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGZsb3AsIHRydWUsIHN0YXRlKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBmbGlwO1xuXG4gICAgICAgICAgICAgICAgZmxpcCA9IGZsb3A7XG4gICAgICAgICAgICAgICAgZmxvcCA9IHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgbGFzdFN0YXRlLnJlbmRlclRleHR1cmUsIGZhbHNlLCBzdGF0ZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShmbGlwKTtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShmbG9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuc3RhdGVQb29sLnB1c2goc3RhdGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcn0gZmlsdGVyIC0gVGhlIGZpbHRlciB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAgICovXG4gICAgYXBwbHlGaWx0ZXIoZmlsdGVyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQob3V0cHV0LCBvdXRwdXQgPyBvdXRwdXQuZmlsdGVyRnJhbWUgOiBudWxsKTtcblxuICAgICAgICBpZiAoY2xlYXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgICAgIC8vIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHRoZSB1bmlmb3Jtcy4uXG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy51U2FtcGxlciA9IGlucHV0O1xuICAgICAgICBmaWx0ZXIudW5pZm9ybXMuZmlsdGVyR2xvYmFscyA9IHRoaXMuZ2xvYmFsVW5pZm9ybXM7XG5cbiAgICAgICAgLy8gVE9ETyBtYWtlIGl0IHNvIHRoYXQgdGhlIG9yZGVyIG9mIHRoaXMgZG9lcyBub3QgbWF0dGVyLi5cbiAgICAgICAgLy8gYmVjYXVzZSBpdCBkb2VzIGF0IHRoZSBtb21lbnQgY29zIG9mIGdsb2JhbCB1bmlmb3Jtcy5cbiAgICAgICAgLy8gdGhleSBuZWVkIHRvIGdldCByZXN5bmNlZFxuXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldChmaWx0ZXIuc3RhdGUpO1xuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChmaWx0ZXIpO1xuXG4gICAgICAgIGlmIChmaWx0ZXIubGVnYWN5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnF1YWRVdi5tYXAoaW5wdXQuX2ZyYW1lLCBpbnB1dC5maWx0ZXJGcmFtZSk7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5xdWFkVXYpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhEUkFXX01PREVTLlRSSUFOR0xFUyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMucXVhZCk7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVfU1RSSVApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgX2lucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfIHRvIHRoaXMgbWF0cml4IHRvIGdldCBfc3ByaXRlIHRleHR1cmUgbm9ybWFsaXplZCBjb29yZGluYXRlc18uXG4gICAgICpcbiAgICAgKiBVc2UgYG91dHB1dE1hdHJpeCAqIHZUZXh0dXJlQ29vcmRgIGluIHRoZSBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHRvIG1hcCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG4gICAgY2FsY3VsYXRlU3ByaXRlTWF0cml4KG91dHB1dE1hdHJpeCwgc3ByaXRlKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSB9ID0gdGhpcy5hY3RpdmVTdGF0ZTtcbiAgICAgICAgY29uc3QgeyBvcmlnIH0gPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgIGNvbnN0IG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQoZGVzdGluYXRpb25GcmFtZS53aWR0aCwgMCwgMCxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0LCBzb3VyY2VGcmFtZS54LCBzb3VyY2VGcmFtZS55KTtcbiAgICAgICAgY29uc3Qgd29ybGRUcmFuc2Zvcm0gPSBzcHJpdGUud29ybGRUcmFuc2Zvcm0uY29weVRvKE1hdHJpeC5URU1QX01BVFJJWCk7XG5cbiAgICAgICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC5wcmVwZW5kKHdvcmxkVHJhbnNmb3JtKTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKDEuMCAvIG9yaWcud2lkdGgsIDEuMCAvIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzcHJpdGUuYW5jaG9yLngsIHNwcml0ZS5hbmNob3IueSk7XG5cbiAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIEZpbHRlciBTeXN0ZW0uXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICAvLyBUaG9zZSB0ZXh0dXJlcyBoYXMgdG8gYmUgZGVzdHJveWVkIGJ5IFJlbmRlclRleHR1cmVTeXN0ZW0gb3IgRnJhbWVidWZmZXJTeXN0ZW1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5jbGVhcihmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIFBvd2VyLW9mLVR3byByZW5kZXIgdGV4dHVyZSBvciBmdWxsU2NyZWVuIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluV2lkdGggLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBnZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uID0gMSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgZXh0cmEgcmVuZGVyIHRleHR1cmUgdG8gdXNlIGluc2lkZSBjdXJyZW50IGZpbHRlclxuICAgICAqIFRvIGJlIGNvbXBsaWFudCB3aXRoIG9sZGVyIGZpbHRlcnMsIHlvdSBjYW4gdXNlIHBhcmFtcyBpbiBhbnkgb3JkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbaW5wdXRdIHJlbmRlclRleHR1cmUgZnJvbSB3aGljaCBzaXplIGFuZCByZXNvbHV0aW9uIHdpbGwgYmUgY29waWVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBvdmVycmlkZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBnZXRGaWx0ZXJUZXh0dXJlKGlucHV0LCByZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHN3YXAgPSBpbnB1dDtcblxuICAgICAgICAgICAgaW5wdXQgPSByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHN3YXA7XG4gICAgICAgIH1cblxuICAgICAgICBpbnB1dCA9IGlucHV0IHx8IHRoaXMuYWN0aXZlU3RhdGUucmVuZGVyVGV4dHVyZTtcblxuICAgICAgICBjb25zdCBmaWx0ZXJUZXh0dXJlID0gdGhpcy50ZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24pO1xuXG4gICAgICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBpbnB1dC5maWx0ZXJGcmFtZTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGcmVlcyBhIHJlbmRlciB0ZXh0dXJlIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRhcmdldCB0byBmcmVlXG4gICAgICovXG4gICAgcmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVtcHRpZXMgdGhlIHRleHR1cmUgcG9vbC5cbiAgICAgKi9cbiAgICBlbXB0eVBvb2woKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5jbGVhcih0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjYWxscyBgdGV4dHVyZVBvb2wucmVzaXplKClgLCBhZmZlY3RzIGZ1bGxTY3JlZW4gcmVuZGVyVGV4dHVyZXNcbiAgICAgKi9cbiAgICByZXNpemUoKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5zZXRTY3JlZW5TaXplKHRoaXMucmVuZGVyZXIudmlldyk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhXG4gKiBzeXN0ZW0gcmVuZGVyZXIgcGx1Z2luLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9iamVjdFJlbmRlcmVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0dWIgbWV0aG9kIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZW1wdHkgdGhlIGN1cnJlbnRcbiAgICAgKiBiYXRjaCBieSByZW5kZXJpbmcgb2JqZWN0cyBub3cuXG4gICAgICovXG4gICAgZmx1c2goKVxuICAgIHtcbiAgICAgICAgLy8gZmx1c2ghXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBkZXN0cnVjdGlvbiBtZXRob2QgdGhhdCBmcmVlcyBhbGwgcmVzb3VyY2VzLiBUaGlzXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBieSBzdWJjbGFzc2VzLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3R1YiBtZXRob2QgdGhhdCBpbml0aWFsaXplcyBhbnkgc3RhdGUgcmVxdWlyZWQgYmVmb3JlXG4gICAgICogcmVuZGVyaW5nIHN0YXJ0cy4gSXQgaXMgZGlmZmVyZW50IGZyb20gdGhlIGBwcmVyZW5kZXJgXG4gICAgICogc2lnbmFsLCB3aGljaCBvY2N1cnMgZXZlcnkgZnJhbWUsIGluIHRoYXQgaXQgaXMgY2FsbGVkXG4gICAgICogd2hlbmV2ZXIgYW4gb2JqZWN0IHJlcXVlc3RzIF90aGlzXyByZW5kZXJlciBzcGVjaWZpY2FsbHkuXG4gICAgICovXG4gICAgc3RhcnQoKVxuICAgIHtcbiAgICAgICAgLy8gc2V0IHRoZSBzaGFkZXIuLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSByZW5kZXJlci4gSXQgc2hvdWxkIGZyZWUgdXAgYW55IHN0YXRlIGFuZFxuICAgICAqIGJlY29tZSBkb3JtYW50LlxuICAgICAqL1xuICAgIHN0b3AoKVxuICAgIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEtlZXBzIHRoZSBvYmplY3QgdG8gcmVuZGVyLiBJdCBkb2Vzbid0IGhhdmUgdG8gYmVcbiAgICAgKiByZW5kZXJlZCBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIHJlbmRlci5cbiAgICAgKi9cbiAgICByZW5kZXIob2JqZWN0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxuICAgIH1cbn1cbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCBPYmplY3RSZW5kZXJlciBmcm9tICcuL09iamVjdFJlbmRlcmVyJztcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgYmF0Y2hpbmcuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXRjaFN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBlbXB0eSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1wdHlSZW5kZXJlciA9IG5ldyBPYmplY3RSZW5kZXJlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIE9iamVjdFJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9iamVjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIgPSB0aGlzLmVtcHR5UmVuZGVyZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCByZW5kZXJlciB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk9iamVjdFJlbmRlcmVyfSBvYmplY3RSZW5kZXJlciAtIFRoZSBvYmplY3QgcmVuZGVyZXIgdG8gdXNlLlxuICAgICAqL1xuICAgIHNldE9iamVjdFJlbmRlcmVyKG9iamVjdFJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG9iamVjdFJlbmRlcmVyO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBzaG91bGQgYmUgY2FsbGVkIGlmIHlvdSB3aXNoIHRvIGRvIHNvbWUgY3VzdG9tIHJlbmRlcmluZ1xuICAgICAqIEl0IHdpbGwgYmFzaWNhbGx5IHJlbmRlciBhbnl0aGluZyB0aGF0IG1heSBiZSBiYXRjaGVkIHVwIHN1Y2ggYXMgc3ByaXRlc1xuICAgICAqL1xuICAgIGZsdXNoKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc3lzdGVtIHRvIGFuIGVtcHR5IHJlbmRlcmVyXG4gICAgICovXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgRU5WIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHN1cHBvcnQgZm9yIHVzaW5nIFdlYkdMLiBJZiBhIGRldmljZSBkb2VzIG5vdFxuICogc3VwcG9ydCBXZWJHTCB2ZXJzaW9uLCBmb3IgaW5zdGFuY2UgV2ViR0wgMiwgaXQgd2lsbCBzdGlsbFxuICogYXR0ZW1wdCB0byBmYWxsYmFjayBzdXBwb3J0IHRvIFdlYkdMIDEuIElmIHlvdSB3YW50IHRvXG4gKiBleHBsaWNpdGx5IHJlbW92ZSBmZWF0dXJlIHN1cHBvcnQgdG8gdGFyZ2V0IGEgbW9yZSBzdGFibGVcbiAqIGJhc2VsaW5lLCBwcmVmZXIgYSBsb3dlciBlbnZpcm9ubWVudC5cbiAqXG4gKiBEdWUgdG8ge0BsaW5rIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkzNDgyM3xidWcgaW4gY2hyb21pdW19XG4gKiB3ZSBkaXNhYmxlIHdlYmdsMiBieSBkZWZhdWx0IGZvciBhbGwgbm9uLWFwcGxlIG1vYmlsZSBkZXZpY2VzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFBSRUZFUl9FTlZcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgUElYSS5FTlYuV0VCR0wyXG4gKi9cbnNldHRpbmdzLlBSRUZFUl9FTlYgPSBpc01vYmlsZS5hbnkgPyBFTlYuV0VCR0wgOiBFTlYuV0VCR0wyO1xuXG5leHBvcnQgeyBzZXR0aW5ncyB9O1xuIiwiaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5sZXQgQ09OVEVYVF9VSUQgPSAwO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgY29udGV4dC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRleHRTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWl0aGVyIDEgb3IgMiB0byByZWZsZWN0IHRoZSBXZWJHTCB2ZXJzaW9uIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0ZW5zaW9ucyBiZWluZyB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZHJhd19idWZmZXJzfSBkcmF3QnVmZmVycyAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2RlcHRoX3RleHR1cmV9IGRlcHRoVGV4dHVyZSAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge09FU190ZXh0dXJlX2Zsb2F0fSBmbG9hdFRleHR1cmUgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9sb3NlX2NvbnRleHR9IGxvc2VDb250ZXh0IC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T0VTX3ZlcnRleF9hcnJheV9vYmplY3R9IHZlcnRleEFycmF5T2JqZWN0IC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljfSBhbmlzb3Ryb3BpY0ZpbHRlcmluZyAtIFdlYkdMIHYxIGFuZCB2MiBleHRlbnNpb25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9ucyA9IHt9O1xuXG4gICAgICAgIC8vIEJpbmQgZnVuY3Rpb25zXG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGV4dExvc3QgPSB0aGlzLmhhbmRsZUNvbnRleHRMb3N0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQuYmluZCh0aGlzKTtcblxuICAgICAgICByZW5kZXJlci52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0LCBmYWxzZSk7XG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiB0aGUgY29udGV4dCBpcyBsb3N0XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgaXNMb3N0KClcbiAgICB7XG4gICAgICAgIHJldHVybiAoIXRoaXMuZ2wgfHwgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgY29udGV4dCBjaGFuZ2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgbmV3IHdlYmdsIGNvbnRleHRcbiAgICAgKi9cbiAgICBjb250ZXh0Q2hhbmdlKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRCsrO1xuXG4gICAgICAgIC8vIHJlc3RvcmUgYSBjb250ZXh0IGlmIGl0IHdhcyBwcmV2aW91c2x5IGxvc3RcbiAgICAgICAgaWYgKGdsLmlzQ29udGV4dExvc3QoKSAmJiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLnJlc3RvcmVDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dFxuICAgICAqL1xuICAgIGluaXRGcm9tQ29udGV4dChnbClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUNvbnRleHQoZ2wpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRCsrO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5ydW4oZ2wpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb250ZXh0IG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBjb250ZXh0IGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBpbml0RnJvbU9wdGlvbnMob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jcmVhdGVDb250ZXh0KHRoaXMucmVuZGVyZXIudmlldywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5pbml0RnJvbUNvbnRleHQoZ2wpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBDb250ZXh0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FudmFzIHtIVE1MQ2FudmFzRWxlbWVudH0gdGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgd2Ugd2lsbCBnZXQgdGhlIGNvbnRleHQgZnJvbVxuICAgICAqIEBwYXJhbSBvcHRpb25zIHtvYmplY3R9IEFuIG9wdGlvbnMgb2JqZWN0IHRoYXQgZ2V0cyBwYXNzZWQgaW4gdG8gdGhlIGNhbnZhcyBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgY3JlYXRlQ29udGV4dChjYW52YXMsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBsZXQgZ2w7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMilcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMTtcblxuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBvcHRpb25zKVxuICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBpZiAoIWdsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgICAgIHRoaXMuZ2V0RXh0ZW5zaW9ucygpO1xuXG4gICAgICAgIHJldHVybiBnbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdXRvLXBvcHVsYXRlIHRoZSBleHRlbnNpb25zXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZ2V0RXh0ZW5zaW9ucygpXG4gICAge1xuICAgICAgICAvLyB0aW1lIHRvIHNldCB1cCBkZWZhdWx0IGV4dGVuc2lvbnMgdGhhdCBQaXhpIHVzZXMuXG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywge1xuICAgICAgICAgICAgICAgIGRyYXdCdWZmZXJzOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpLFxuICAgICAgICAgICAgICAgIGRlcHRoVGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfV0VCR0xfZGVwdGhfdGV4dHVyZScpLFxuICAgICAgICAgICAgICAgIGxvc2VDb250ZXh0OiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLFxuICAgICAgICAgICAgICAgIHZlcnRleEFycmF5T2JqZWN0OiBnbC5nZXRFeHRlbnNpb24oJ09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JylcbiAgICAgICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpLFxuICAgICAgICAgICAgICAgIGFuaXNvdHJvcGljRmlsdGVyaW5nOiBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpLFxuICAgICAgICAgICAgICAgIHVpbnQzMkVsZW1lbnRJbmRleDogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfZWxlbWVudF9pbmRleF91aW50JyksXG4gICAgICAgICAgICAgICAgLy8gRmxvYXRzIGFuZCBoYWxmLWZsb2F0c1xuICAgICAgICAgICAgICAgIGZsb2F0VGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIGZsb2F0VGV4dHVyZUxpbmVhcjogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlSGFsZkZsb2F0OiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlSGFsZkZsb2F0TGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIHtcbiAgICAgICAgICAgICAgICBhbmlzb3Ryb3BpY0ZpbHRlcmluZzogZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKSxcbiAgICAgICAgICAgICAgICAvLyBGbG9hdHMgYW5kIGhhbGYtZmxvYXRzXG4gICAgICAgICAgICAgICAgY29sb3JCdWZmZXJGbG9hdDogZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfY29sb3JfYnVmZmVyX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgbG9zdCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTENvbnRleHRFdmVudH0gZXZlbnQgLSBUaGUgY29udGV4dCBsb3N0IGV2ZW50LlxuICAgICAqL1xuICAgIGhhbmRsZUNvbnRleHRMb3N0KGV2ZW50KVxuICAgIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgcmVzdG9yZWQgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGhhbmRsZUNvbnRleHRSZXN0b3JlZCgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5ydW4odGhpcy5nbCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5yZW5kZXJlci52aWV3O1xuXG4gICAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lcnNcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCk7XG4gICAgICAgIHZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCk7XG5cbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKG51bGwpO1xuXG4gICAgICAgIGlmICh0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZXh0ZW5zaW9ucy5sb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBwb3N0LXJlbmRlciBydW5uZXIgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwb3N0cmVuZGVyKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wuZmx1c2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gUmVuZGVyIGNvbnRleHRcbiAgICAgKi9cbiAgICB2YWxpZGF0ZUNvbnRleHQoZ2wpXG4gICAge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTtcblxuICAgICAgICAvLyB0aGlzIGlzIGdvaW5nIHRvIGJlIGZhaXJseSBzaW1wbGUgZm9yIG5vdy4uIGJ1dCBhdCBsZWFzdCB3ZSBoYXZlIHJvb20gdG8gZ3JvdyFcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzLnN0ZW5jaWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQcm92aWRlZCBXZWJHTCBjb250ZXh0IGRvZXMgbm90IGhhdmUgYSBzdGVuY2lsIGJ1ZmZlciwgbWFza3MgbWF5IG5vdCByZW5kZXIgY29ycmVjdGx5Jyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblxuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgU3lzdGVtIGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IEVOViB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJy4uL3NldHRpbmdzJztcbmltcG9ydCBGcmFtZWJ1ZmZlciBmcm9tICcuL0ZyYW1lYnVmZmVyJztcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZnJhbWVidWZmZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnJhbWVidWZmZXJTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIG1hbmFnZWQgZnJhbWVidWZmZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRnJhbWVidWZmZXJbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnJhbWVidWZmZXIgdmFsdWUgdGhhdCBzaG93cyB0aGF0IHdlIGRvbid0IGtub3cgd2hhdCBpcyBib3VuZFxuICAgICAgICAgKiBAbWVtYmVyIHtGcmFtZWJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVua25vd25GcmFtZWJ1ZmZlciA9IG5ldyBGcmFtZWJ1ZmZlcigxMCwgMTApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIGNvbnRleHRDaGFuZ2UoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy51bmtub3duRnJhbWVidWZmZXI7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRoaXMuaGFzTVJUID0gdHJ1ZTtcbiAgICAgICAgdGhpcy53cml0ZURlcHRoVGV4dHVyZSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuXG4gICAgICAgIC8vIHdlYmdsMlxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2ViZ2wgMSFcbiAgICAgICAgICAgIGxldCBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRyYXdCdWZmZXJzO1xuICAgICAgICAgICAgbGV0IG5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRlcHRoVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIG5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QnVmZmVycyA9IChhY3RpdmVUZXh0dXJlcykgPT5cbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24uZHJhd0J1ZmZlcnNXRUJHTChhY3RpdmVUZXh0dXJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNNUlQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QnVmZmVycyA9ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVEZXB0aFRleHR1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmQgYSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gZnJhbWUsIGRlZmF1bHQgaXMgZnJhbWVidWZmZXIgc2l6ZVxuICAgICAqL1xuICAgIGJpbmQoZnJhbWVidWZmZXIsIGZyYW1lKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcblxuICAgICAgICBpZiAoZnJhbWVidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gY2FjaGluZyBsYXllciFcblxuICAgICAgICAgICAgY29uc3QgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0RnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSBmcmFtZWJ1ZmZlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBmcmFtZWJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIHRleHR1cmVzIGFyZSB1bmJvdW5kLi5cblxuICAgICAgICAgICAgLy8gbm93IGNoZWNrIGZvciB1cGRhdGVzLi4uXG4gICAgICAgICAgICBpZiAoZmJvLmRpcnR5SWQgIT09IGZyYW1lYnVmZmVyLmRpcnR5SWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmJvLmRpcnR5SWQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUlkO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZiby5kaXJ0eUZvcm1hdCAhPT0gZnJhbWVidWZmZXIuZGlydHlGb3JtYXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmYm8uZGlydHlGb3JtYXQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZiby5kaXJ0eVNpemUgIT09IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZiby5kaXJ0eVNpemUgPSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldLnRleHR1cmVQYXJ0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZChmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KGZyYW1lLngsIGZyYW1lLnksIGZyYW1lLndpZHRoLCBmcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydCgwLCAwLCB0aGlzLnJlbmRlcmVyLndpZHRoLCB0aGlzLnJlbmRlcmVyLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dCdzIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggLSBYIHBvc2l0aW9uIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgLSBZIHBvc2l0aW9uIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIC0gV2lkdGggb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHZpZXdwb3J0XG4gICAgICovXG4gICAgc2V0Vmlld3BvcnQoeCwgeSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIGNvbnN0IHYgPSB0aGlzLnZpZXdwb3J0O1xuXG4gICAgICAgIGlmICh2LndpZHRoICE9PSB3aWR0aCB8fCB2LmhlaWdodCAhPT0gaGVpZ2h0IHx8IHYueCAhPT0geCB8fCB2LnkgIT09IHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHYueCA9IHg7XG4gICAgICAgICAgICB2LnkgPSB5O1xuICAgICAgICAgICAgdi53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdi5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgIHRoaXMuZ2wudmlld3BvcnQoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGN1cnJlbnQgd2lkdGggYW5kIGhlaWdodC4gUmV0dXJucyBvYmplY3Qgd2l0aCBgd2lkdGhgIGFuZCBgaGVpZ2h0YCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHNpemUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyBzdG9yZSB0ZW1wXG4gICAgICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5jdXJyZW50LndpZHRoLCBoZWlnaHQ6IHRoaXMuY3VycmVudC5oZWlnaHQgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLnJlbmRlcmVyLndpZHRoLCBoZWlnaHQ6IHRoaXMucmVuZGVyZXIuaGVpZ2h0IH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGNvbG9yIG9mIHRoZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gciAtIFJlZCB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBnIC0gR3JlZW4gdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYiAtIEJsdWUgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYSAtIEFscGhhIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICovXG4gICAgY2xlYXIociwgZywgYiwgYSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG5cbiAgICAgICAgLy8gVE9ETyBjbGVhciBjb2xvciBjYW4gYmUgc2V0IG9ubHkgb25lIHJpZ2h0P1xuICAgICAgICBnbC5jbGVhckNvbG9yKHIsIGcsIGIsIGEpO1xuICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICBpbml0RnJhbWVidWZmZXIoZnJhbWVidWZmZXIpXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIC8vIFRPRE8gLSBtYWtlIHRoaXMgYSBjbGFzcz9cbiAgICAgICAgY29uc3QgZmJvID0ge1xuICAgICAgICAgICAgZnJhbWVidWZmZXI6IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCksXG4gICAgICAgICAgICBzdGVuY2lsOiBudWxsLFxuICAgICAgICAgICAgZGlydHlJZDogMCxcbiAgICAgICAgICAgIGRpcnR5Rm9ybWF0OiAwLFxuICAgICAgICAgICAgZGlydHlTaXplOiAwLFxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdID0gZmJvO1xuXG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5wdXNoKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgZnJhbWVidWZmZXIuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGZibztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemUgdGhlIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIHJlc2l6ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcblxuICAgICAgICBjb25zdCBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoZmJvLnN0ZW5jaWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGNvbG9yVGV4dHVyZXNbaV0sIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgdXBkYXRlRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIGNvbG9yIHRleHR1cmVcbiAgICAgICAgY29uc3QgY29sb3JUZXh0dXJlcyA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXM7XG5cbiAgICAgICAgbGV0IGNvdW50ID0gY29sb3JUZXh0dXJlcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKCFnbC5kcmF3QnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgY291bnQgPSBNYXRoLm1pbihjb3VudCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhY3RpdmVUZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnRleHR1cmVQYXJ0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleHR1cmUudGV4dHVyZSwgMCk7XG5cbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixcbiAgICAgICAgICAgICAgICAgICAgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpLFxuICAgICAgICAgICAgICAgICAgICBnbC5URVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1ggKyB0ZXh0dXJlLnNpZGUsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZCh0ZXh0dXJlLCAwKTtcblxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLFxuICAgICAgICAgICAgICAgICAgICBnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGksXG4gICAgICAgICAgICAgICAgICAgIGdsLlRFWFRVUkVfMkQsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFjdGl2ZVRleHR1cmVzLnB1c2goZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhY3RpdmVUZXh0dXJlcy5sZW5ndGggPiAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5kcmF3QnVmZmVycyhhY3RpdmVUZXh0dXJlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB3cml0ZURlcHRoVGV4dHVyZSA9IHRoaXMud3JpdGVEZXB0aFRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmICh3cml0ZURlcHRoVGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXB0aFRleHR1cmUgPSBmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChkZXB0aFRleHR1cmUsIDApO1xuXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgICAgICAgICAgIGdsLkRFUFRIX0FUVEFDSE1FTlQsXG4gICAgICAgICAgICAgICAgICAgIGdsLlRFWFRVUkVfMkQsXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoVGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZmJvLnN0ZW5jaWwgJiYgKGZyYW1lYnVmZmVyLnN0ZW5jaWwgfHwgZnJhbWVidWZmZXIuZGVwdGgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBmYm8uc3RlbmNpbCA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuXG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuXG4gICAgICAgICAgICAvLyBUT0RPLi4gdGhpcyBpcyBkZXB0aCBBTkQgc3RlbmNpbD9cbiAgICAgICAgICAgIGlmICghZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKVxuICAgICAgICAgICAgeyAvLyB5b3UgY2FuJ3QgaGF2ZSBib3RoLCBzbyBvbmUgc2hvdWxkIHRha2UgcHJpb3JpdHkgaWYgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgLy8gZmJvLmVuYWJsZVN0ZW5jaWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGZyYW1lYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlciBmcmFtZWJ1ZmZlciB0aGF0IGhhcyB0byBiZSBkaXNwb3NlZCBvZlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgZGlzcG9zZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyLCBjb250ZXh0TG9zdClcbiAgICB7XG4gICAgICAgIGNvbnN0IGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgaWYgKCFmYm8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5pbmRleE9mKGZyYW1lYnVmZmVyKTtcblxuICAgICAgICBpZiAoaW5kZXggPj0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBmcmFtZWJ1ZmZlci5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcblxuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgaWYgKGZiby5zdGVuY2lsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcihmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBhbGwgZnJhbWVidWZmZXJzLCBidXQgbm90IHRleHR1cmVzIGJvdW5kIHRvIHRoZW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYWxsIGRlbGV0ZSBmdW5jdGlvbiBjYWxsc1xuICAgICAqL1xuICAgIGRpc3Bvc2VBbGwoY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzO1xuXG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlRnJhbWVidWZmZXIobGlzdFtpXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVzZXRzIGZyYW1lYnVmZmVyIHN0b3JlZCBzdGF0ZSwgYmluZHMgc2NyZWVuIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSByZW5kZXJUZXh0dXJlIHJlc2V0KClcbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHTEJ1ZmZlclxue1xuICAgIGNvbnN0cnVjdG9yKGJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLnVwZGF0ZUlEID0gLTE7XG4gICAgICAgIHRoaXMuYnl0ZUxlbmd0aCA9IC0xO1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG59XG4iLCJpbXBvcnQgU3lzdGVtIGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgR0xCdWZmZXIgZnJvbSAnLi9HTEJ1ZmZlcic7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuLi9zZXR0aW5ncyc7XG5cbmNvbnN0IGJ5dGVTaXplTWFwID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VvbWV0cnlTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB3ZSBoYXMgYCpfdmVydGV4X2FycmF5X29iamVjdGAgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYXNWYW8gPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgaGFzIGBBTkdMRV9pbnN0YW5jZWRfYXJyYXlzYCBleHRlbnNpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhc0luc3RhbmNlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHN1cHBvcnQgYGdsLlVOU0lHTkVEX0lOVGAgaW4gYGdsLmRyYXdFbGVtZW50c2Agb3IgYGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZGBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhY2hlIG9mIGN1cnJlbnRseSBib3VuZCBidWZmZXIsXG4gICAgICAgICAqIGNvbnRhaW5zIG9ubHkgdHdvIG1lbWJlcnMgd2l0aCBrZXlzIEFSUkFZX0JVRkZFUiBhbmQgRUxFTUVOVF9BUlJBWV9CVUZGRVJcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxudW1iZXIsIFBJWEkuQnVmZmVyPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJvdW5kQnVmZmVycyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBmb3IgYWxsIGdlb21ldHJpZXMgYnkgaWQsIHVzZWQgaW4gY2FzZSByZW5kZXJlciBnZXRzIGRlc3Ryb3llZCBvciBmb3IgcHJvZmlsaW5nXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hbmFnZWRHZW9tZXRyaWVzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIGZvciBhbGwgYnVmZmVycyBieSBpZCwgdXNlZCBpbiBjYXNlIHJlbmRlcmVyIGdldHMgZGVzdHJveWVkIG9yIGZvciBwcm9maWxpbmdcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFuYWdlZEJ1ZmZlcnMgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBjb250ZXh0Q2hhbmdlKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlzcG9zZUFsbCh0cnVlKTtcblxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0O1xuXG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuXG4gICAgICAgIC8vIHdlYmdsMlxuICAgICAgICBpZiAoIWdsLmNyZWF0ZVZlcnRleEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3ZWJnbCAxIVxuICAgICAgICAgICAgbGV0IG5hdGl2ZVZhb0V4dGVuc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLnZlcnRleEFycmF5T2JqZWN0O1xuXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVWYW9FeHRlbnNpb24gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmF0aXZlVmFvRXh0ZW5zaW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlVmFvRXh0ZW5zaW9uLmNyZWF0ZVZlcnRleEFycmF5T0VTKCk7XG5cbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkgPSAodmFvKSA9PlxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKHZhbyk7XG5cbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9ICh2YW8pID0+XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbi5kZWxldGVWZXJ0ZXhBcnJheU9FUyh2YW8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzVmFvID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZ2wuY3JlYXRlVmVydGV4QXJyYXkgPSAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZ2wudmVydGV4QXR0cmliRGl2aXNvcilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VFeHQgPSBnbC5nZXRFeHRlbnNpb24oJ0FOR0xFX2luc3RhbmNlZF9hcnJheXMnKTtcblxuICAgICAgICAgICAgaWYgKGluc3RhbmNlRXh0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IgPSAoYSwgYikgPT5cbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VFeHQudmVydGV4QXR0cmliRGl2aXNvckFOR0xFKGEsIGIpO1xuXG4gICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkID0gKGEsIGIsIGMsIGQsIGUpID0+XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlRXh0LmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFKGEsIGIsIGMsIGQsIGUpO1xuXG4gICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCA9IChhLCBiLCBjLCBkKSA9PlxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUV4dC5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNJbnN0YW5jZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBjb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMiB8fCAhIWNvbnRleHQuZXh0ZW5zaW9ucy51aW50MzJFbGVtZW50SW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmluZHMgZ2VvbWV0cnkgc28gdGhhdCBpcyBjYW4gYmUgZHJhd24uIENyZWF0aW5nIGEgVmFvIGlmIHJlcXVpcmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IGluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIGJpbmRcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBbc2hhZGVyXSBpbnN0YW5jZSBvZiBzaGFkZXIgdG8gdXNlIHZhbyBmb3JcbiAgICAgKi9cbiAgICBiaW5kKGdlb21ldHJ5LCBzaGFkZXIpXG4gICAge1xuICAgICAgICBzaGFkZXIgPSBzaGFkZXIgfHwgdGhpcy5yZW5kZXJlci5zaGFkZXIuc2hhZGVyO1xuXG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG5cbiAgICAgICAgLy8gbm90IHN1cmUgdGhlIGJlc3Qgd2F5IHRvIGFkZHJlc3MgdGhpcy4uXG4gICAgICAgIC8vIGN1cnJlbnRseSBkaWZmZXJlbnQgc2hhZGVycyByZXF1aXJlIGRpZmZlcmVudCBWQU9zIGZvciB0aGUgc2FtZSBnZW9tZXRyeVxuICAgICAgICAvLyBTdGlsbCBtdWxsaW5nIG92ZXIgdGhlIGJlc3Qgd2F5IHRvIHNvbHZlIHRoaXMgb25lLi5cbiAgICAgICAgLy8gd2lsbCBsaWtlbHkgbmVlZCB0byBtb2RpZnkgdGhlIHNoYWRlciBhdHRyaWJ1dGUgbG9jYXRpb25zIGF0IHJ1biB0aW1lIVxuICAgICAgICBsZXQgdmFvcyA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghdmFvcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF0gPSBnZW9tZXRyeTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgICAgICAgZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF0gPSB2YW9zID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YW8gPSB2YW9zW3NoYWRlci5wcm9ncmFtLmlkXSB8fCB0aGlzLmluaXRHZW9tZXRyeVZhbyhnZW9tZXRyeSwgc2hhZGVyLnByb2dyYW0pO1xuXG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gZ2VvbWV0cnk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyAhPT0gdmFvKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1ZhbylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBzaGFkZXIucHJvZ3JhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIC0gb3B0aW1pc2UgbGF0ZXIhXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gbG9vcCB0aHJvdWdoIGlmIG5vdGhpbmcgY2hhbmdlZCFcbiAgICAgICAgLy8gbWF5YmUgbG9vayB0byBhZGQgYW4gJ2F1dG91cGRhdGUnIHRvIGdlb21ldHJ5P1xuICAgICAgICB0aGlzLnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCBhbmQgdW5iaW5kIGFueSBhY3RpdmUgVkFPIGFuZCBnZW9tZXRyeVxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGJ1ZmZlcnNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdXBkYXRlQnVmZmVycygpXG4gICAge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1tpXTtcblxuICAgICAgICAgICAgY29uc3QgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAgICAgaWYgKGJ1ZmZlci5fdXBkYXRlSUQgIT09IGdsQnVmZmVyLnVwZGF0ZUlEKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsQnVmZmVyLnVwZGF0ZUlEID0gYnVmZmVyLl91cGRhdGVJRDtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gY2FuIGNhY2hlIHRoaXMgb24gYnVmZmVyISBtYXliZSBhZGRlZCBhIGdldHRlciAvIHNldHRlcj9cbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gYnVmZmVyLmluZGV4ID8gZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBnbC5BUlJBWV9CVUZGRVI7XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgY291bGQgY2hhbmdlIGlmIHRoZSBWQU8gY2hhbmdlcy4uLlxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gY29tZSB1cCB3aXRoIGEgYmV0dGVyIHdheSB0byBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuYm91bmRCdWZmZXJzW3R5cGVdICE9PSBnbEJ1ZmZlcilcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ib3VuZEJ1ZmZlcnNbdHlwZV0gPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKHR5cGUsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRCdWZmZXIgPSBnbEJ1ZmZlcjtcblxuICAgICAgICAgICAgICAgIGlmIChnbEJ1ZmZlci5ieXRlTGVuZ3RoID49IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQgaXMgYWx3YXlzIHplcm8gZm9yIG5vdyFcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YSh0eXBlLCAwLCBidWZmZXIuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRyYXdUeXBlID0gYnVmZmVyLnN0YXRpYyA/IGdsLlNUQVRJQ19EUkFXIDogZ2wuRFlOQU1JQ19EUkFXO1xuXG4gICAgICAgICAgICAgICAgICAgIGdsQnVmZmVyLmJ5dGVMZW5ndGggPSBidWZmZXIuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKHR5cGUsIGJ1ZmZlci5kYXRhLCBkcmF3VHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgY29tcGFiaWxpdHkgYmV0d2VlbiBhIGdlb21ldHJ5IGFuZCBhIHByb2dyYW1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBQcm9ncmFtIGluc3RhbmNlXG4gICAgICovXG4gICAgY2hlY2tDb21wYXRpYmlsaXR5KGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgLy8gZ2VvbWV0cnkgbXVzdCBoYXZlIGF0IGxlYXN0IGFsbCB0aGUgYXR0cmlidXRlcyB0aGF0IHRoZSBzaGFkZXIgcmVxdWlyZXMuXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5QXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIGNvbnN0IHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG5cbiAgICAgICAgZm9yIChjb25zdCBqIGluIHNoYWRlckF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghZ2VvbWV0cnlBdHRyaWJ1dGVzW2pdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc2hhZGVyIGFuZCBnZW9tZXRyeSBpbmNvbXBhdGlibGUsIGdlb21ldHJ5IG1pc3NpbmcgdGhlIFwiJHtqfVwiIGF0dHJpYnV0ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBnZW9tZXRyeSBhbmQgcHJvZ3JhbSBhbmQgZ2VuZXJhdGVzIGEgdW5pcXVlIHNpZ25hdHVyZSBmb3IgdGhlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgdG8gZ2V0IHNpZ25hdHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gdG8gdGVzdCBnZW9tZXRyeSBhZ2FpbnN0XG4gICAgICogQHJldHVybnMge1N0cmluZ30gVW5pcXVlIHNpZ25hdHVyZSBvZiB0aGUgZ2VvbWV0cnkgYW5kIHByb2dyYW1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZ2V0U2lnbmF0dXJlKGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXR0cmlicyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIGNvbnN0IHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG5cbiAgICAgICAgY29uc3Qgc3RyaW5ncyA9IFsnZycsIGdlb21ldHJ5LmlkXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gYXR0cmlicylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHNoYWRlckF0dHJpYnV0ZXNbaV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cmluZ3Muam9pbignLScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgZ2V0cyBWYW8gd2l0aCB0aGUgc2FtZSBzdHJ1Y3R1cmUgYXMgdGhlIGdlb21ldHJ5IGFuZCBzdG9yZXMgaXQgb24gdGhlIGdlb21ldHJ5LlxuICAgICAqIElmIHZhbyBpcyBjcmVhdGVkLCBpdCBpcyBib3VuZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBJbnN0YW5jZSBvZiBnZW9tZXRyeSB0byB0byBnZW5lcmF0ZSBWYW8gZm9yXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBJbnN0YW5jZSBvZiBwcm9ncmFtXG4gICAgICovXG4gICAgaW5pdEdlb21ldHJ5VmFvKGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgdGhpcy5jaGVja0NvbXBhdGliaWxpdHkoZ2VvbWV0cnksIHByb2dyYW0pO1xuXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgY29uc3QgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuXG4gICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IHRoaXMuZ2V0U2lnbmF0dXJlKGdlb21ldHJ5LCBwcm9ncmFtKTtcblxuICAgICAgICBjb25zdCB2YW9PYmplY3RIYXNoID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgbGV0IHZhbyA9IHZhb09iamVjdEhhc2hbc2lnbmF0dXJlXTtcblxuICAgICAgICBpZiAodmFvKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgZ2l2ZSB1cyBlYXN5IGFjY2VzcyB0byB0aGUgdmFvXG4gICAgICAgICAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFvO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICBjb25zdCB0ZW1wU3RyaWRlID0ge307XG4gICAgICAgIGNvbnN0IHRlbXBTdGFydCA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgaiBpbiBidWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2pdID0gMDtcbiAgICAgICAgICAgIHRlbXBTdGFydFtqXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzW2pdLnNpemUgJiYgcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbal0uc2l6ZSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXS5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWF0dHJpYnV0ZXNbal0uc2l6ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFBJWEkgR2VvbWV0cnkgYXR0cmlidXRlICcke2p9JyBzaXplIGNhbm5vdCBiZSBkZXRlcm1pbmVkIChsaWtlbHkgdGhlIGJvdW5kIHNoYWRlciBkb2VzIG5vdCBoYXZlIHRoZSBhdHRyaWJ1dGUpYCk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRlbXBTdHJpZGVbYXR0cmlidXRlc1tqXS5idWZmZXJdICs9IGF0dHJpYnV0ZXNbal0uc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZXNbal0udHlwZV07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYlNpemUgPSBhdHRyaWJ1dGUuc2l6ZTtcblxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5zdHJpZGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXSA9PT0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gdGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RhcnQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RhcnQgPSB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgICAgICAgICB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl0gKz0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhbyA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XG5cbiAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5KHZhbyk7XG5cbiAgICAgICAgLy8gZmlyc3QgdXBkYXRlIC0gYW5kIGNyZWF0ZSB0aGUgYnVmZmVycyFcbiAgICAgICAgLy8gb25seSBjcmVhdGUgYSBnbCBidWZmZXIgaWYgaXQgYWN0dWFsbHkgZ2V0c1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbaV07XG5cbiAgICAgICAgICAgIGlmICghYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSA9IG5ldyBHTEJ1ZmZlcihnbC5jcmVhdGVCdWZmZXIoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLnJlZkNvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIC0gbWF5YmUgbWFrZSB0aGlzIGEgZGF0YSBvYmplY3Q/XG4gICAgICAgIC8vIGxldHMgd2FpdCB0byBzZWUgaWYgd2UgbmVlZCB0byBmaXJzdCFcblxuICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBwcm9ncmFtKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG5cbiAgICAgICAgLy8gYWRkIGl0IHRvIHRoZSBjYWNoZSFcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtwcm9ncmFtLmlkXSA9IHZhbztcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdID0gdmFvO1xuXG4gICAgICAgIHJldHVybiB2YW87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gYnVmZmVyIGJ1ZmZlciB3aXRoIGRhdGFcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBkaXNwb3NlQnVmZmVyKGJ1ZmZlciwgY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXTtcblxuICAgICAgICBjb25zdCBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuXG4gICAgICAgIGlmICghZ2xCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29udGV4dExvc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGdlb21ldHJ5XG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSBHZW9tZXRyeSB3aXRoIGJ1ZmZlcnMuIE9ubHkgVkFPIHdpbGwgYmUgZGlzcG9zZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBkaXNwb3NlR2VvbWV0cnkoZ2VvbWV0cnksIGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdO1xuXG4gICAgICAgIGNvbnN0IHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBjb25zdCBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcblxuICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcblxuICAgICAgICBpZiAoIXZhb3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYnVmID0gYnVmZmVyc1tpXS5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBidWYucmVmQ291bnQtLTtcbiAgICAgICAgICAgIGlmIChidWYucmVmQ291bnQgPT09IDAgJiYgIWNvbnRleHRMb3N0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZUJ1ZmZlcihidWZmZXJzW2ldLCBjb250ZXh0TG9zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhb0lkIGluIHZhb3MpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIG9ubHkgc2lnbmF0dXJlcywgZXZlcnl0aGluZyBlbHNlIGFyZSBjb3BpZXNcbiAgICAgICAgICAgICAgICBpZiAodmFvSWRbMF0gPT09ICdnJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbyA9IHZhb3NbdmFvSWRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVWYW8gPT09IHZhbylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXNwb3NlIGFsbCBXZWJHTCByZXNvdXJjZXMgb2YgYWxsIG1hbmFnZWQgZ2VvbWV0cmllcyBhbmQgYnVmZmVyc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBgZ2wuZGVsZXRlYCBjYWxsc1xuICAgICAqL1xuICAgIGRpc3Bvc2VBbGwoY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICBsZXQgYWxsID0gT2JqZWN0LmtleXModGhpcy5tYW5hZ2VkR2VvbWV0cmllcyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGwubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUdlb21ldHJ5KHRoaXMubWFuYWdlZEdlb21ldHJpZXNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgICAgIGFsbCA9IE9iamVjdC5rZXlzKHRoaXMubWFuYWdlZEJ1ZmZlcnMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlQnVmZmVyKHRoaXMubWFuYWdlZEJ1ZmZlcnNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGUgdmVydGV4IGFycmF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBHZW9tZXRyeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gU2hhZGVyIHByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBhY3RpdmF0ZVZhbyhnZW9tZXRyeSwgcHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgY29uc3QgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuICAgICAgICBjb25zdCBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBmaXJzdCB1cGRhdGUgdGhlIGluZGV4IGJ1ZmZlciBpZiB3ZSBoYXZlIG9uZS4uXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5idWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxhc3RCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIC8vIGFkZCBhIG5ldyBvbmUhXG4gICAgICAgIGZvciAoY29uc3QgaiBpbiBhdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIGNvbnN0IGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAocHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0QnVmZmVyICE9PSBnbEJ1ZmZlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBnbEJ1ZmZlci5idWZmZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxhc3RCdWZmZXIgPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXS5sb2NhdGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gaW50cm9kdWNlIHN0YXRlIGFnYWluXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuIG9wdGltaXNlIHRoaXMgZm9yIG9sZGVyIGRldmljZXMgdGhhdCBoYXZlIG5vIFZBT3NcbiAgICAgICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2NhdGlvbik7XG5cbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnR5cGUgfHwgZ2wuRkxPQVQsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5ub3JtYWxpemVkLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RhcnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5pbnN0YW5jZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY2FsY3VsYXRlIGluc3RhbmNlIGNvdW50IGJhc2VkIG9mIHRoaXMuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzSW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IobG9jYXRpb24sIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdnZW9tZXRyeSBlcnJvciwgR1BVIEluc3RhbmNpbmcgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGRldmljZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhdyB0aGUgZ2VvbWV0cnlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIC0gdGhlIHR5cGUgcHJpbWl0aXZlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZV0gLSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydF0gLSBTdGFydGluZyBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbaW5zdGFuY2VDb3VudF0gLSB0aGUgbnVtYmVyIG9mIGluc3RhbmNlcyBvZiB0aGUgc2V0IG9mIGVsZW1lbnRzIHRvIGV4ZWN1dGVcbiAgICAgKi9cbiAgICBkcmF3KHR5cGUsIHNpemUsIHN0YXJ0LCBpbnN0YW5jZUNvdW50KVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLl9hY3RpdmVHZW9tZXRyeTtcblxuICAgICAgICAvLyBUT0RPLi4gdGhpcyBzaG91bGQgbm90IGNoYW5nZSBzbyBtYXliZSBjYWNoZSB0aGUgZnVuY3Rpb24/XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBieXRlU2l6ZSA9IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgICAgICBjb25zdCBnbFR5cGUgPSBieXRlU2l6ZSA9PT0gMiA/IGdsLlVOU0lHTkVEX1NIT1JUIDogZ2wuVU5TSUdORURfSU5UO1xuXG4gICAgICAgICAgICBpZiAoYnl0ZVNpemUgPT09IDIgfHwgKGJ5dGVTaXplID09PSA0ICYmIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQodHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUgfHwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsIGdsVHlwZSwgKHN0YXJ0IHx8IDApICogYnl0ZVNpemUpO1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd1bnN1cHBvcnRlZCBpbmRleCBidWZmZXIgdHlwZTogdWludDMyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGNhbGN1bGF0ZSBzaXplLi5cbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQodHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVW5iaW5kL3Jlc2V0IGV2ZXJ5dGhpbmdcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdW5iaW5kKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wuYmluZFZlcnRleEFycmF5KG51bGwpO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBAbWV0aG9kIGNvbXBpbGVQcm9ncmFtXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHQge1dlYkdMUHJvZ3JhbX1cbiAqIEBwYXJhbSB2ZXJ0ZXhTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gZnJhZ21lbnRTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIGZyYWdtZW50IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBhdHRyaWJ1dGVMb2NhdGlvbnMge09iamVjdH0gQW4gYXR0cmlidXRlIGxvY2F0aW9uIG1hcCB0aGF0IGxldHMgeW91IG1hbnVhbGx5IHNldCB0aGUgYXR0cmlidXRlIGxvY2F0aW9uc1xuICogQHJldHVybiB7V2ViR0xQcm9ncmFtfSB0aGUgc2hhZGVyIHByb2dyYW1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIGF0dHJpYnV0ZUxvY2F0aW9ucylcbntcbiAgICBjb25zdCBnbFZlcnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTcmMpO1xuICAgIGNvbnN0IGdsRnJhZ1NoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTcmMpO1xuXG4gICAgbGV0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xGcmFnU2hhZGVyKTtcblxuICAgIC8vIG9wdGlvbmFsbHksIHNldCB0aGUgYXR0cmlidXRlcyBtYW51YWxseSBmb3IgdGhlIHByb2dyYW0gcmF0aGVyIHRoYW4gbGV0dGluZyBXZWJHTCBkZWNpZGUuLlxuICAgIGlmIChhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gYXR0cmlidXRlTG9jYXRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgYXR0cmlidXRlTG9jYXRpb25zW2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuXG4gICAgLy8gaWYgbGlua2luZyBmYWlscywgdGhlbiBsb2cgYW5kIGNsZWFudXBcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGl4aS5qcyBFcnJvcjogQ291bGQgbm90IGluaXRpYWxpemUgc2hhZGVyLicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnbC5WQUxJREFURV9TVEFUVVMnLCBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLlZBTElEQVRFX1NUQVRVUykpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnbC5nZXRFcnJvcigpJywgZ2wuZ2V0RXJyb3IoKSk7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBwcm9ncmFtIGluZm8gbG9nLCBsb2cgaXRcbiAgICAgICAgaWYgKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pICE9PSAnJylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQaXhpLmpzIFdhcm5pbmc6IGdsLmdldFByb2dyYW1JbmZvTG9nKCknLCBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBwcm9ncmFtID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBjbGVhbiB1cCBzb21lIHNoYWRlcnNcbiAgICBnbC5kZWxldGVTaGFkZXIoZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5kZWxldGVTaGFkZXIoZ2xGcmFnU2hhZGVyKTtcblxuICAgIHJldHVybiBwcm9ncmFtO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHR5cGUge051bWJlcn0gdGhlIHR5cGUsIGNhbiBiZSBlaXRoZXIgVkVSVEVYX1NIQURFUiBvciBGUkFHTUVOVF9TSEFERVJcbiAqIEBwYXJhbSB2ZXJ0ZXhTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcmV0dXJuIHtXZWJHTFNoYWRlcn0gdGhlIHNoYWRlclxuICovXG5mdW5jdGlvbiBjb21waWxlU2hhZGVyKGdsLCB0eXBlLCBzcmMpXG57XG4gICAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuXG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3JjKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybihzcmMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cbiIsIi8qKlxuICogQG1ldGhvZCBkZWZhdWx0VmFsdWVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9IFR5cGUgb2YgdmFsdWVcbiAqIEBwYXJhbSBzaXplIHtOdW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWZhdWx0VmFsdWUodHlwZSwgc2l6ZSlcbntcbiAgICBzd2l0Y2ggKHR5cGUpXG4gICAge1xuICAgICAgICBjYXNlICdmbG9hdCc6XG4gICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICBjYXNlICd2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICd2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICd2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpbnQnOlxuICAgICAgICBjYXNlICdzYW1wbGVyMkQnOlxuICAgICAgICBjYXNlICdzYW1wbGVyMkRBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICBjYXNlICdpdmVjMic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaXZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdib29sJzpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjYXNlICdidmVjMic6XG5cbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ21hdDInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMV0pO1xuXG4gICAgICAgIGNhc2UgJ21hdDMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxXSk7XG5cbiAgICAgICAgY2FzZSAnbWF0NCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBib29sZWFuQXJyYXkoc2l6ZSlcbntcbiAgICBjb25zdCBhcnJheSA9IG5ldyBBcnJheShzaXplKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBhcnJheVtpXSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn1cbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnLi4vLi4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgRU5WIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuY29uc3QgdW5rbm93bkNvbnRleHQgPSB7fTtcbmxldCBjb250ZXh0ID0gdW5rbm93bkNvbnRleHQ7XG5cbi8qKlxuICogcmV0dXJucyBhIGxpdHRsZSBXZWJHTCBjb250ZXh0IHRvIHVzZSBmb3IgcHJvZ3JhbSBpbnNwZWN0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7d2ViR0wtY29udGV4dH0gYSBnbCBjb250ZXh0IHRvIHRlc3Qgd2l0aFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRUZXN0Q29udGV4dCgpXG57XG4gICAgaWYgKGNvbnRleHQgPT09IHVua25vd25Db250ZXh0KVxuICAgIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgbGV0IGdsO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID49IEVOVi5XRUJHTDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIHt9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZ2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywge30pXG4gICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywge30pO1xuXG4gICAgICAgICAgICBpZiAoIWdsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgICAgICAgICBnbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIHNoYWRlciB0ZXN0aW5nLi5cbiAgICAgICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dCA9IGdsO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZXh0O1xufVxuIiwiaW1wb3J0IGdldFRlc3RDb250ZXh0IGZyb20gJy4vZ2V0VGVzdENvbnRleHQnO1xuaW1wb3J0IHsgUFJFQ0lTSU9OIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxubGV0IG1heEZyYWdtZW50UHJlY2lzaW9uO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpXG57XG4gICAgaWYgKCFtYXhGcmFnbWVudFByZWNpc2lvbilcbiAgICB7XG4gICAgICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgY29uc3QgZ2wgPSBnZXRUZXN0Q29udGV4dCgpO1xuXG4gICAgICAgIGlmIChnbClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaGFkZXJGcmFnbWVudCA9IGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbC5GUkFHTUVOVF9TSEFERVIsIGdsLkhJR0hfRkxPQVQpO1xuXG4gICAgICAgICAgICAgICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBzaGFkZXJGcmFnbWVudC5wcmVjaXNpb24gPyBQUkVDSVNJT04uSElHSCA6IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF4RnJhZ21lbnRQcmVjaXNpb247XG59XG4iLCJpbXBvcnQgeyBQUkVDSVNJT04gfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIFNldHMgdGhlIGZsb2F0IHByZWNpc2lvbiBvbiB0aGUgc2hhZGVyLCBlbnN1cmluZyB0aGUgZGV2aWNlIHN1cHBvcnRzIHRoZSByZXF1ZXN0IHByZWNpc2lvbi5cbiAqIElmIHRoZSBwcmVjaXNpb24gaXMgYWxyZWFkeSBwcmVzZW50LCBpdCBqdXN0IGVuc3VyZXMgdGhhdCB0aGUgZGV2aWNlIGlzIGFibGUgdG8gaGFuZGxlIGl0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIC0gVGhlIHNoYWRlciBzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRQcmVjaXNpb24gLSBUaGUgcmVxdWVzdCBmbG9hdCBwcmVjaXNpb24gb2YgdGhlIHNoYWRlci4gT3B0aW9ucyBhcmUgJ2xvd3AnLCAnbWVkaXVtcCcgb3IgJ2hpZ2hwJy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXhTdXBwb3J0ZWRQcmVjaXNpb24gLSBUaGUgbWF4aW11bSBwcmVjaXNpb24gdGhlIHNoYWRlciBzdXBwb3J0cy5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IG1vZGlmaWVkIHNoYWRlciBzb3VyY2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJlY2lzaW9uKHNyYywgcmVxdWVzdGVkUHJlY2lzaW9uLCBtYXhTdXBwb3J0ZWRQcmVjaXNpb24pXG57XG4gICAgaWYgKHNyYy5zdWJzdHJpbmcoMCwgOSkgIT09ICdwcmVjaXNpb24nKVxuICAgIHtcbiAgICAgICAgLy8gbm8gcHJlY2lzaW9uIHN1cHBsaWVkLCBzbyBQaXhpSlMgd2lsbCBhZGQgdGhlIHJlcXVlc3RlZCBsZXZlbC5cbiAgICAgICAgbGV0IHByZWNpc2lvbiA9IHJlcXVlc3RlZFByZWNpc2lvbjtcblxuICAgICAgICAvLyBJZiBoaWdocCBpcyByZXF1ZXN0ZWQgYnV0IG5vdCBzdXBwb3J0ZWQsIGRvd25ncmFkZSBwcmVjaXNpb24gdG8gYSBsZXZlbCBhbGwgZGV2aWNlcyBzdXBwb3J0LlxuICAgICAgICBpZiAocmVxdWVzdGVkUHJlY2lzaW9uID09PSBQUkVDSVNJT04uSElHSCAmJiBtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIKVxuICAgICAgICB7XG4gICAgICAgICAgICBwcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGBwcmVjaXNpb24gJHtwcmVjaXNpb259IGZsb2F0O1xcbiR7c3JjfWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1heFN1cHBvcnRlZFByZWNpc2lvbiAhPT0gUFJFQ0lTSU9OLkhJR0ggJiYgc3JjLnN1YnN0cmluZygwLCAxNSkgPT09ICdwcmVjaXNpb24gaGlnaHAnKVxuICAgIHtcbiAgICAgICAgLy8gcHJlY2lzaW9uIHdhcyBzdXBwbGllZCwgYnV0IGF0IGEgbGV2ZWwgdGhpcyBkZXZpY2UgZG9lcyBub3Qgc3VwcG9ydCwgc28gZG93bmdyYWRpbmcgdG8gbWVkaXVtcC5cbiAgICAgICAgcmV0dXJuIHNyYy5yZXBsYWNlKCdwcmVjaXNpb24gaGlnaHAnLCAncHJlY2lzaW9uIG1lZGl1bXAnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufVxuIiwiY29uc3QgR0xTTF9UT19TSVpFID0ge1xuICAgIGZsb2F0OiAgICAxLFxuICAgIHZlYzI6ICAgICAyLFxuICAgIHZlYzM6ICAgICAzLFxuICAgIHZlYzQ6ICAgICA0LFxuXG4gICAgaW50OiAgICAgIDEsXG4gICAgaXZlYzI6ICAgIDIsXG4gICAgaXZlYzM6ICAgIDMsXG4gICAgaXZlYzQ6ICAgIDQsXG5cbiAgICBib29sOiAgICAgMSxcbiAgICBidmVjMjogICAgMixcbiAgICBidmVjMzogICAgMyxcbiAgICBidmVjNDogICAgNCxcblxuICAgIG1hdDI6ICAgICA0LFxuICAgIG1hdDM6ICAgICA5LFxuICAgIG1hdDQ6ICAgICAxNixcblxuICAgIHNhbXBsZXIyRDogIDEsXG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kIG1hcFNpemVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1hcFNpemUodHlwZSlcbntcbiAgICByZXR1cm4gR0xTTF9UT19TSVpFW3R5cGVdO1xufVxuIiwibGV0IEdMX1RBQkxFID0gbnVsbDtcblxuY29uc3QgR0xfVE9fR0xTTF9UWVBFUyA9IHtcbiAgICBGTE9BVDogICAgICAgJ2Zsb2F0JyxcbiAgICBGTE9BVF9WRUMyOiAgJ3ZlYzInLFxuICAgIEZMT0FUX1ZFQzM6ICAndmVjMycsXG4gICAgRkxPQVRfVkVDNDogICd2ZWM0JyxcblxuICAgIElOVDogICAgICAgICAnaW50JyxcbiAgICBJTlRfVkVDMjogICAgJ2l2ZWMyJyxcbiAgICBJTlRfVkVDMzogICAgJ2l2ZWMzJyxcbiAgICBJTlRfVkVDNDogICAgJ2l2ZWM0JyxcblxuICAgIEJPT0w6ICAgICAgICAnYm9vbCcsXG4gICAgQk9PTF9WRUMyOiAgICdidmVjMicsXG4gICAgQk9PTF9WRUMzOiAgICdidmVjMycsXG4gICAgQk9PTF9WRUM0OiAgICdidmVjNCcsXG5cbiAgICBGTE9BVF9NQVQyOiAgJ21hdDInLFxuICAgIEZMT0FUX01BVDM6ICAnbWF0MycsXG4gICAgRkxPQVRfTUFUNDogICdtYXQ0JyxcblxuICAgIFNBTVBMRVJfMkQ6ICAnc2FtcGxlcjJEJyxcbiAgICBTQU1QTEVSX0NVQkU6ICAnc2FtcGxlckN1YmUnLFxuICAgIFNBTVBMRVJfMkRfQVJSQVk6ICAnc2FtcGxlcjJEQXJyYXknLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFwVHlwZShnbCwgdHlwZSlcbntcbiAgICBpZiAoIUdMX1RBQkxFKVxuICAgIHtcbiAgICAgICAgY29uc3QgdHlwZU5hbWVzID0gT2JqZWN0LmtleXMoR0xfVE9fR0xTTF9UWVBFUyk7XG5cbiAgICAgICAgR0xfVEFCTEUgPSB7fTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVOYW1lcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdG4gPSB0eXBlTmFtZXNbaV07XG5cbiAgICAgICAgICAgIEdMX1RBQkxFW2dsW3RuXV0gPSBHTF9UT19HTFNMX1RZUEVTW3RuXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBHTF9UQUJMRVt0eXBlXTtcbn1cbiIsIi8vIGN2ID0gQ2FjaGVkVmFsdWVcbi8vIHYgPSB2YWx1ZVxuLy8gdWQgPSB1bmlmb3JtRGF0YVxuLy8gdXYgPSB1bmlmb3JtVmFsdWVcbi8vIGwgPSBsb2NhdGlvblxuY29uc3QgR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQgPSB7XG5cbiAgICBmbG9hdDogYFxuICAgIGlmKGN2ICE9PSB2KVxuICAgIHtcbiAgICAgICAgY3YudiA9IHY7XG4gICAgICAgIGdsLnVuaWZvcm0xZihsb2NhdGlvbiwgdilcbiAgICB9YCxcblxuICAgIHZlYzI6IGBcbiAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICBnbC51bmlmb3JtMmYobG9jYXRpb24sIHZbMF0sIHZbMV0pXG4gICAgfWAsXG5cbiAgICB2ZWMzOiBgXG4gICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0pXG4gICAge1xuICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgIGN2WzFdID0gdlsxXTtcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xuXG4gICAgICAgIGdsLnVuaWZvcm0zZihsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSlcbiAgICB9YCxcblxuICAgIHZlYzQ6ICAgICAnZ2wudW5pZm9ybTRmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG5cbiAgICBpbnQ6ICAgICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAgICAnZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2WzBdLCB2WzFdKScsXG4gICAgaXZlYzM6ICAgICdnbC51bmlmb3JtM2kobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pJyxcbiAgICBpdmVjNDogICAgJ2dsLnVuaWZvcm00aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuXG4gICAgYm9vbDogICAgICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogICAgJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGJ2ZWMzOiAgICAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgYnZlYzQ6ICAgICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcblxuICAgIG1hdDI6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAgICAgJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0NDogICAgICdnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuXG4gICAgc2FtcGxlcjJEOiAgICAgICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyQ3ViZTogICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG59O1xuXG5jb25zdCBHTFNMX1RPX0FSUkFZX1NFVFRFUlMgPSB7XG5cbiAgICBmbG9hdDogICAgYGdsLnVuaWZvcm0xZnYobG9jYXRpb24sIHYpYCxcblxuICAgIHZlYzI6ICAgICBgZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdilgLFxuICAgIHZlYzM6ICAgICBgZ2wudW5pZm9ybTNmdihsb2NhdGlvbiwgdilgLFxuICAgIHZlYzQ6ICAgICAnZ2wudW5pZm9ybTRmdihsb2NhdGlvbiwgdiknLFxuXG4gICAgbWF0NDogICAgICdnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDM6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQyOiAgICAgJ2dsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG5cbiAgICBpbnQ6ICAgICAgJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMjogICAgJ2dsLnVuaWZvcm0yaXYobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMzogICAgJ2dsLnVuaWZvcm0zaXYobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjNDogICAgJ2dsLnVuaWZvcm00aXYobG9jYXRpb24sIHYpJyxcblxuICAgIGJvb2w6ICAgICAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWMyOiAgICAnZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWMzOiAgICAnZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWM0OiAgICAnZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdiknLFxuXG4gICAgc2FtcGxlcjJEOiAgICAgICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlckN1YmU6ICAgICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEQXJyYXk6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdW5pZm9ybURhdGEpXG57XG4gICAgbGV0IHRleHR1cmVDb3VudCA9IDA7XG4gICAgbGV0IGZ1bmMgPSBgdmFyIHYgPSBudWxsO1xuICAgIHZhciBjdiA9IG51bGxcbiAgICB2YXIgZ2wgPSByZW5kZXJlci5nbGA7XG5cbiAgICBmb3IgKGNvbnN0IGkgaW4gZ3JvdXAudW5pZm9ybXMpXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gdW5pZm9ybURhdGFbaV07XG5cbiAgICAgICAgaWYgKCFkYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0uZ3JvdXApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBgXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5zeW5jVW5pZm9ybUdyb3VwKHV2LiR7aX0pO1xuICAgICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyAmJiB1bmlmb3JtRGF0YVtpXS52YWx1ZSAhPT0gMCA8LS0gZG8gd2Ugc3RpbGwgbmVlZCB0aGlzP1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnZmxvYXQnICYmIGRhdGEuc2l6ZSA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZnVuYyArPSBgXG4gICAgICAgICAgICBpZih1di4ke2l9ICE9PSB1ZC4ke2l9LnZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVkLiR7aX0udmFsdWUgPSB1di4ke2l9XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVkLiR7aX0ubG9jYXRpb24sIHV2LiR7aX0pXG4gICAgICAgICAgICB9XFxuYDtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgIGVsc2UgaWYgKChkYXRhLnR5cGUgPT09ICdzYW1wbGVyMkQnIHx8IGRhdGEudHlwZSA9PT0gJ3NhbXBsZXJDdWJlJyB8fCBkYXRhLnR5cGUgPT09ICdzYW1wbGVyMkRBcnJheScpICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5KVxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZ1bmMgKz0gYFxuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHV2LiR7aX0sICR7dGV4dHVyZUNvdW50fSk7XG5cbiAgICAgICAgICAgIGlmKHVkLiR7aX0udmFsdWUgIT09ICR7dGV4dHVyZUNvdW50fSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1ZC4ke2l9LnZhbHVlID0gJHt0ZXh0dXJlQ291bnR9O1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1ZC4ke2l9LmxvY2F0aW9uLCAke3RleHR1cmVDb3VudH0pO1xcbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG4gICAgICAgICAgICB9XFxuYDtcblxuICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAnbWF0MycgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0uYSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gYW5kIHNvbWUgc21hcnQgY2FjaGluZyBkaXJ0eSBpZHMgaGVyZSFcbiAgICAgICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVkLiR7aX0ubG9jYXRpb24sIGZhbHNlLCB1di4ke2l9LnRvQXJyYXkodHJ1ZSkpO1xuICAgICAgICAgICAgICAgIFxcbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBgXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdih1ZC4ke2l9LmxvY2F0aW9uLCBmYWxzZSwgdXYuJHtpfSk7XG4gICAgICAgICAgICAgICAgXFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICd2ZWMyJyAmJiBkYXRhLnNpemUgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBkbyB3ZSBuZWVkIGJvdGggaGVyZT9cbiAgICAgICAgICAgIC8vIG1heWJlIHdlIGNhbiBnZXQgYXdheSB3aXRoIG9ubHkgdXNpbmcgcG9pbnRzP1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLnggIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkLiR7aX0udmFsdWU7XG4gICAgICAgICAgICAgICAgdiA9IHV2LiR7aX07XG5cbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZC4ke2l9LmxvY2F0aW9uLCB2LngsIHYueSk7XG4gICAgICAgICAgICAgICAgfVxcbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBgXG4gICAgICAgICAgICAgICAgY3YgPSB1ZC4ke2l9LnZhbHVlO1xuICAgICAgICAgICAgICAgIHYgPSB1di4ke2l9O1xuXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkLiR7aX0ubG9jYXRpb24sIHZbMF0sIHZbMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcXG5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3ZlYzQnICYmIGRhdGEuc2l6ZSA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyAtIGRvIHdlIG5lZWQgYm90aCBoZXJlP1xuICAgICAgICAgICAgLy8gbWF5YmUgd2UgY2FuIGdldCBhd2F5IHdpdGggb25seSB1c2luZyBwb2ludHM/XG4gICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0ud2lkdGggIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkLiR7aX0udmFsdWU7XG4gICAgICAgICAgICAgICAgdiA9IHV2LiR7aX07XG5cbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkgfHwgY3ZbMl0gIT09IHYud2lkdGggfHwgY3ZbM10gIT09IHYuaGVpZ2h0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2Lng7XG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHYud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGN2WzNdID0gdi5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZC4ke2l9LmxvY2F0aW9uLCB2LngsIHYueSwgdi53aWR0aCwgdi5oZWlnaHQpXG4gICAgICAgICAgICAgICAgfVxcbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBgXG4gICAgICAgICAgICAgICAgY3YgPSB1ZC4ke2l9LnZhbHVlO1xuICAgICAgICAgICAgICAgIHYgPSB1di4ke2l9O1xuXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0gfHwgY3ZbM10gIT09IHZbM10pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMl0gPSB2WzJdO1xuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHZbM107XG5cbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkLiR7aX0ubG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxcbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZVR5cGUgPSAoZGF0YS5zaXplID09PSAxKSA/IEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIDogR0xTTF9UT19BUlJBWV9TRVRURVJTO1xuXG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9ICB0ZW1wbGF0ZVR5cGVbZGF0YS50eXBlXS5yZXBsYWNlKCdsb2NhdGlvbicsIGB1ZC4ke2l9LmxvY2F0aW9uYCk7XG5cbiAgICAgICAgICAgIGZ1bmMgKz0gYFxuICAgICAgICAgICAgY3YgPSB1ZC4ke2l9LnZhbHVlO1xuICAgICAgICAgICAgdiA9IHV2LiR7aX07XG4gICAgICAgICAgICAke3RlbXBsYXRlfTtcXG5gO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbigndWQnLCAndXYnLCAncmVuZGVyZXInLCBmdW5jKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctZnVuY1xufVxuIiwiY29uc3QgZnJhZ1RlbXBsYXRlID0gW1xuICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLFxuICAgICd2b2lkIG1haW4odm9pZCl7JyxcbiAgICAnZmxvYXQgdGVzdCA9IDAuMTsnLFxuICAgICclZm9ybG9vcCUnLFxuICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnfScsXG5dLmpvaW4oJ1xcbicpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKG1heElmcywgZ2wpXG57XG4gICAgaWYgKG1heElmcyA9PT0gMClcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBvZiBgMGAgcGFzc2VkIHRvIGBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyYCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuXG4gICAgd2hpbGUgKHRydWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAge1xuICAgICAgICBjb25zdCBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZS5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykpO1xuXG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKVxuICAgICAgICB7XG4gICAgICAgICAgICBtYXhJZnMgPSAobWF4SWZzIC8gMikgfCAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdmFsaWQhXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXhJZnM7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcylcbntcbiAgICBsZXQgc3JjID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heElmczsgKytpKVxuICAgIHtcbiAgICAgICAgaWYgKGkgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpIDwgbWF4SWZzIC0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3JjICs9IGBpZih0ZXN0ID09ICR7aX0uMCl7fWA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufVxuIiwiLy8gQ2FjaGUgdGhlIHJlc3VsdCB0byBwcmV2ZW50IHJ1bm5pbmcgdGhpcyBvdmVyIGFuZCBvdmVyXG5sZXQgdW5zYWZlRXZhbDtcblxuLyoqXG4gKiBOb3QgYWxsIHBsYXRmb3JtcyBhbGxvdyB0byBnZW5lcmF0ZSBmdW5jdGlvbiBjb2RlIChlLmcuLCBgbmV3IEZ1bmN0aW9uYCkuXG4gKiB0aGlzIHByb3ZpZGVzIHRoZSBwbGF0Zm9ybS1sZXZlbCBkZXRlY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1bnNhZmVFdmFsU3VwcG9ydGVkKClcbntcbiAgICBpZiAodHlwZW9mIHVuc2FmZUV2YWwgPT09ICdib29sZWFuJylcbiAgICB7XG4gICAgICAgIHJldHVybiB1bnNhZmVFdmFsO1xuICAgIH1cblxuICAgIHRyeVxuICAgIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tbmV3LWZ1bmMgKi9cbiAgICAgICAgY29uc3QgZnVuYyA9IG5ldyBGdW5jdGlvbigncGFyYW0xJywgJ3BhcmFtMicsICdwYXJhbTMnLCAncmV0dXJuIHBhcmFtMVtwYXJhbTJdID09PSBwYXJhbTM7Jyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tbmV3LWZ1bmMgKi9cblxuICAgICAgICB1bnNhZmVFdmFsID0gZnVuYyh7IGE6ICdiJyB9LCAnYScsICdiJykgPT09IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKVxuICAgIHtcbiAgICAgICAgdW5zYWZlRXZhbCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB1bnNhZmVFdmFsO1xufVxuIiwiLy8gaW1wb3J0ICogYXMgZnJvbSAnLi4vc3lzdGVtcy9zaGFkZXIvc2hhZGVyJztcbmltcG9ydCB7IHNldFByZWNpc2lvbixcbiAgICBkZWZhdWx0VmFsdWUsXG4gICAgY29tcGlsZVByb2dyYW0sXG4gICAgbWFwU2l6ZSxcbiAgICBtYXBUeXBlLFxuICAgIGdldFRlc3RDb250ZXh0LFxuICAgIGdldE1heEZyYWdtZW50UHJlY2lzaW9uIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBQcm9ncmFtQ2FjaGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgZGVmYXVsdEZyYWdtZW50IGZyb20gJy4vZGVmYXVsdFByb2dyYW0uZnJhZyc7XG5pbXBvcnQgZGVmYXVsdFZlcnRleCBmcm9tICcuL2RlZmF1bHRQcm9ncmFtLnZlcnQnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBQUkVDSVNJT04gfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5sZXQgVUlEID0gMDtcblxuY29uc3QgbmFtZUNhY2hlID0ge307XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHNoYWRlciBwcm9ncmFtLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZ3JhbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAtIE5hbWUgZm9yIHNoYWRlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUgPSAncGl4aS1zaGFkZXInKVxuICAgIHtcbiAgICAgICAgdGhpcy5pZCA9IFVJRCsrO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmVydGV4IHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmMgfHwgUHJvZ3JhbS5kZWZhdWx0VmVydGV4U3JjO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMgfHwgUHJvZ3JhbS5kZWZhdWx0RnJhZ21lbnRTcmM7XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSB0aGlzLnZlcnRleFNyYy50cmltKCk7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdtZW50U3JjLnRyaW0oKTtcblxuICAgICAgICBpZiAodGhpcy52ZXJ0ZXhTcmMuc3Vic3RyaW5nKDAsIDgpICE9PSAnI3ZlcnNpb24nKVxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9cXHMrL2csICctJyk7XG5cbiAgICAgICAgICAgIGlmIChuYW1lQ2FjaGVbbmFtZV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZUNhY2hlW25hbWVdKys7XG4gICAgICAgICAgICAgICAgbmFtZSArPSBgLSR7bmFtZUNhY2hlW25hbWVdfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZUNhY2hlW25hbWVdID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSBgI2RlZmluZSBTSEFERVJfTkFNRSAke25hbWV9XFxuJHt0aGlzLnZlcnRleFNyY31gO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IGAjZGVmaW5lIFNIQURFUl9OQU1FICR7bmFtZX1cXG4ke3RoaXMuZnJhZ21lbnRTcmN9YDtcblxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSBzZXRQcmVjaXNpb24odGhpcy52ZXJ0ZXhTcmMsIHNldHRpbmdzLlBSRUNJU0lPTl9WRVJURVgsIFBSRUNJU0lPTi5ISUdIKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBzZXRQcmVjaXNpb24odGhpcy5mcmFnbWVudFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5ULCBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGN1cnJlbnRseSB0aGlzIGRvZXMgbm90IGV4dHJhY3Qgc3RydWN0cyBvbmx5IGRlZmF1bHQgdHlwZXNcbiAgICAgICAgdGhpcy5leHRyYWN0RGF0YSh0aGlzLnZlcnRleFNyYywgdGhpcy5mcmFnbWVudFNyYyk7XG5cbiAgICAgICAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBzdG9yZSBzaGFkZXIgcmVmZXJlbmNlcy4uXG4gICAgICAgIHRoaXMuZ2xQcm9ncmFtcyA9IHt9O1xuXG4gICAgICAgIHRoaXMuc3luY1VuaWZvcm1zID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgZGF0YSBmb3IgYSBidXkgY3JlYXRpbmcgYSBzbWFsbCB0ZXN0IHByb2dyYW1cbiAgICAgKiBvciByZWFkaW5nIHRoZSBzcmMgZGlyZWN0bHkuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKi9cbiAgICBleHRyYWN0RGF0YSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSBnZXRUZXN0Q29udGV4dCgpO1xuXG4gICAgICAgIGlmIChnbClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcblxuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVEYXRhID0gdGhpcy5nZXRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIGdsKTtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB0aGlzLmdldFVuaWZvcm1EYXRhKHByb2dyYW0sIGdsKTtcblxuICAgICAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlRGF0YSA9IHt9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgYXR0cmlidXRlIGRhdGEgZnJvbSB0aGUgcHJvZ3JhbVxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUHJvZ3JhbX0gW3Byb2dyYW1dIC0gdGhlIFdlYkdMIHByb2dyYW1cbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gW2dsXSAtIHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSB0aGUgYXR0cmlidXRlIGRhdGEgZm9yIHRoaXMgcHJvZ3JhbVxuICAgICAqL1xuICAgIGdldEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgZ2wpXG4gICAge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0ge307XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXNBcnJheSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsQXR0cmlidXRlcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX0FUVFJJQlVURVMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxBdHRyaWJ1dGVzOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYkRhdGEgPSBnbC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaSk7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gbWFwVHlwZShnbCwgYXR0cmliRGF0YS50eXBlKTtcblxuICAgICAgICAgICAgLyplc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIG5hbWU6IGF0dHJpYkRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiBtYXBTaXplKHR5cGUpLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cblxuICAgICAgICAgICAgYXR0cmlidXRlc1thdHRyaWJEYXRhLm5hbWVdID0gZGF0YTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNBcnJheS5wdXNoKGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXR0cmlidXRlc0FycmF5LnNvcnQoKGEsIGIpID0+IChhLm5hbWUgPiBiLm5hbWUpID8gMSA6IC0xKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25mdXNpbmctYXJyb3dcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZXNBcnJheS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5W2ldLmxvY2F0aW9uID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHVuaWZvcm0gZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7d2ViR0wtcHJvZ3JhbX0gW3Byb2dyYW1dIC0gdGhlIHdlYmdsIHByb2dyYW1cbiAgICAgKiBAcGFyYW0ge2NvbnRleHR9IFtnbF0gLSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH0gdGhlIHVuaWZvcm0gZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybURhdGEocHJvZ3JhbSwgZ2wpXG4gICAge1xuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHRvdGFsVW5pZm9ybXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9VTklGT1JNUyk7XG5cbiAgICAgICAgLy8gVE9ETyBleHBvc2UgdGhpcyBhcyBhIHByb3A/XG4gICAgICAgIC8vIGNvbnN0IG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnx0cmFuc2xhdGlvbk1hdHJpeCkkJyk7XG4gICAgICAgIC8vIGNvbnN0IG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnx0cmFuc2xhdGlvbk1hdHJpeCkkJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbFVuaWZvcm1zOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHVuaWZvcm1EYXRhID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpKTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB1bmlmb3JtRGF0YS5uYW1lLnJlcGxhY2UoL1xcWy4qP1xcXS8sICcnKTtcblxuICAgICAgICAgICAgY29uc3QgaXNBcnJheSA9IHVuaWZvcm1EYXRhLm5hbWUubWF0Y2goL1xcWy4qP1xcXS8sICcnKTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBtYXBUeXBlKGdsLCB1bmlmb3JtRGF0YS50eXBlKTtcblxuICAgICAgICAgICAgLyplc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICAgICAgdW5pZm9ybXNbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBzaXplOiB1bmlmb3JtRGF0YS5zaXplLFxuICAgICAgICAgICAgICAgIGlzQXJyYXk6aXNBcnJheSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKHR5cGUsIHVuaWZvcm1EYXRhLnNpemUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmlmb3JtcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRWZXJ0ZXhTcmMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRGcmFnbWVudFNyYygpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBwcm9ncmFtIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJcbiAgICAgKiB0aGlzIG1ldGhvZCB3aWxsIGFsc28gY2hlY2sgdG8gc2VlIGlmIHRoZXJlIGlzIGEgY2FjaGVkIHByb2dyYW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuUHJvZ3JhbX0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpXG4gICAge1xuICAgICAgICBjb25zdCBrZXkgPSB2ZXJ0ZXhTcmMgKyBmcmFnbWVudFNyYztcblxuICAgICAgICBsZXQgcHJvZ3JhbSA9IFByb2dyYW1DYWNoZVtrZXldO1xuXG4gICAgICAgIGlmICghcHJvZ3JhbSlcbiAgICAgICAge1xuICAgICAgICAgICAgUHJvZ3JhbUNhY2hlW2tleV0gPSBwcm9ncmFtID0gbmV3IFByb2dyYW0odmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvZ3JhbTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUHJvZ3JhbSBmcm9tICcuL1Byb2dyYW0nO1xuaW1wb3J0IFVuaWZvcm1Hcm91cCBmcm9tICcuL1VuaWZvcm1Hcm91cCc7XG5cbi8qKlxuICogQSBoZWxwZXIgY2xhc3MgZm9yIHNoYWRlcnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmNsYXNzIFNoYWRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBbcHJvZ3JhbV0gLSBUaGUgcHJvZ3JhbSB0aGUgc2hhZGVyIHdpbGwgdXNlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb2dyYW0sIHVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2dyYW0gdGhhdCB0aGUgc2hhZGVyIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qcm9ncmFtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcblxuICAgICAgICAvLyBsZXRzIHNlZSB3aGF0cyBiZWVuIHBhc3NlZCBpblxuICAgICAgICAvLyB1bmlmb3JtcyBzaG91bGQgYmUgY29udmVydGVkIHRvIGEgdW5pZm9ybSBncm91cFxuICAgICAgICBpZiAodW5pZm9ybXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtcyBpbnN0YW5jZW9mIFVuaWZvcm1Hcm91cClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IHVuaWZvcm1zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3Jtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAoe30pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGltZSB0byBidWlsZCBzb21lIGdldHRlcnMgYW5kIHNldHRlcnMhXG4gICAgICAgIC8vIEkgZ3Vlc3MgZG93biB0aGUgbGluZSB0aGlzIGNvdWxkIHNvcnQgb2YgZ2VuZXJhdGUgYW4gaW5zdHJ1Y3Rpb24gbGlzdCByYXRoZXIgdGhhbiB1c2UgZGlydHkgaWRzP1xuICAgICAgICAvLyBkb2VzIHRoZSB0cmljayBmb3Igbm93IHRob3VnaCFcbiAgICAgICAgZm9yIChjb25zdCBpIGluIHByb2dyYW0udW5pZm9ybURhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPIG1vdmUgdG8gc2hhZGVyIHN5c3RlbS4uXG4gICAgY2hlY2tVbmlmb3JtRXhpc3RzKG5hbWUsIGdyb3VwKVxuICAgIHtcbiAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW25hbWVdKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBncm91cC51bmlmb3JtcylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW2ldO1xuXG4gICAgICAgICAgICBpZiAodW5pZm9ybS5ncm91cClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja1VuaWZvcm1FeGlzdHMobmFtZSwgdW5pZm9ybSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICAvLyB1c2FnZSBjb3VudCBvbiBwcm9ncmFtcz9cbiAgICAgICAgLy8gcmVtb3ZlIGlmIG5vdCB1c2VkIVxuICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hhZGVyIHVuaWZvcm0gdmFsdWVzLCBzaG9ydGN1dCBmb3IgYHVuaWZvcm1Hcm91cC51bmlmb3Jtc2BcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICovXG4gICAgZ2V0IHVuaWZvcm1zKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3JtcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgZnVuY3Rpb24gdG8gY3JlYXRlIGEgc2hhZGVyIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5TaGFkZXJ9IGFuIHNoaW55IG5ldyBQaXhpIHNoYWRlciFcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3JtcylcbiAgICB7XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2hhZGVyO1xuIiwiaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbmNvbnN0IEJMRU5EID0gMDtcbmNvbnN0IE9GRlNFVCA9IDE7XG5jb25zdCBDVUxMSU5HID0gMjtcbmNvbnN0IERFUFRIX1RFU1QgPSAzO1xuY29uc3QgV0lORElORyA9IDQ7XG5cbi8qKlxuICogVGhpcyBpcyBhIFdlYkdMIHN0YXRlLCBhbmQgaXMgaXMgcGFzc2VkIFRoZSBXZWJHTCBTdGF0ZU1hbmFnZXIuXG4gKlxuICogRWFjaCBtZXNoIHJlbmRlcmVkIG1heSByZXF1aXJlIFdlYkdMIHRvIGJlIGluIGEgZGlmZmVyZW50IHN0YXRlLlxuICogRm9yIGV4YW1wbGUgeW91IG1heSB3YW50IGRpZmZlcmVudCBibGVuZCBtb2RlIG9yIHRvIGVuYWJsZSBwb2x5Z29uIG9mZnNldHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXRlXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhID0gMDtcblxuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcblxuICAgICAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgLy8gIHRoaXMuZGVwdGhUZXN0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZXMgYmxlbmRpbmcgb2YgdGhlIGNvbXB1dGVkIGZyYWdtZW50IGNvbG9yIHZhbHVlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgYmxlbmQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IEJMRU5EKSk7XG4gICAgfVxuXG4gICAgc2V0IGJsZW5kKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBCTEVORCkpICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IEJMRU5EKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlcyBhZGRpbmcgYW4gb2Zmc2V0IHRvIGRlcHRoIHZhbHVlcyBvZiBwb2x5Z29uJ3MgZnJhZ21lbnRzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgZ2V0IG9mZnNldHMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCkpO1xuICAgIH1cblxuICAgIHNldCBvZmZzZXRzKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBPRkZTRVQpKSAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBPRkZTRVQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGVzIGN1bGxpbmcgb2YgcG9seWdvbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgZ2V0IGN1bGxpbmcoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IENVTExJTkcpKTtcbiAgICB9XG5cbiAgICBzZXQgY3VsbGluZyh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgQ1VMTElORykpICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IENVTExJTkcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGVzIGRlcHRoIGNvbXBhcmlzb25zIGFuZCB1cGRhdGVzIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgZ2V0IGRlcHRoVGVzdCgpXG4gICAge1xuICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgREVQVEhfVEVTVCkpO1xuICAgIH1cblxuICAgIHNldCBkZXB0aFRlc3QodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IERFUFRIX1RFU1QpKSAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBERVBUSF9URVNUKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCBmcm9udCBvciBiYWNrLWZhY2luZyBwb2x5Z29ucyBjYW4gYmUgY3VsbGVkLlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBnZXQgY2xvY2t3aXNlRnJvbnRGYWNlKClcbiAgICB7XG4gICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSk7XG4gICAgfVxuXG4gICAgc2V0IGNsb2Nrd2lzZUZyb250RmFjZSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgV0lORElORykpICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IFdJTkRJTkcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB3aGVuIHRoaXMgc3RhdGUgaXMgc2V0LiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICogU2V0dGluZyB0aGlzIG1vZGUgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiBOT19CTEVORCB3aWxsIGF1dG9tYXRpY2FsbHkgc3dpdGNoIGJsZW5kaW5nIG9uLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICovXG4gICAgZ2V0IGJsZW5kTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xuICAgIH1cblxuICAgIHNldCBibGVuZE1vZGUodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibGVuZCA9ICh2YWx1ZSAhPT0gQkxFTkRfTU9ERVMuTk9ORSk7XG4gICAgICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBwb2x5Z29uIG9mZnNldC4gU2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIGFueXRoaW5nIG90aGVyIHRoYW4gMCB3aWxsIGF1dG9tYXRpY2FsbHkgZW5hYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIGdldCBwb2x5Z29uT2Zmc2V0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xuICAgIH1cblxuICAgIHNldCBwb2x5Z29uT2Zmc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgICAgIHRoaXMuX3BvbHlnb25PZmZzZXQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZm9yMmQoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBuZXcgU3RhdGUoKTtcblxuICAgICAgICBzdGF0ZS5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuYmxlbmQgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5cbiIsImltcG9ydCBTaGFkZXIgZnJvbSAnLi4vc2hhZGVyL1NoYWRlcic7XG5pbXBvcnQgUHJvZ3JhbSBmcm9tICcuLi9zaGFkZXIvUHJvZ3JhbSc7XG5pbXBvcnQgU3RhdGUgZnJvbSAnLi4vc3RhdGUvU3RhdGUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgZGVmYXVsdFZlcnRleCBmcm9tICcuL2RlZmF1bHRGaWx0ZXIudmVydCc7XG5pbXBvcnQgZGVmYXVsdEZyYWdtZW50IGZyb20gJy4vZGVmYXVsdEZpbHRlci5mcmFnJztcblxuLyoqXG4gKiBGaWx0ZXIgaXMgYSBzcGVjaWFsIHR5cGUgb2YgV2ViR0wgc2hhZGVyIHRoYXQgaXMgYXBwbGllZCB0byB0aGUgc2NyZWVuLlxuICpcbiAqIHtAbGluayBodHRwOi8vcGl4aWpzLmlvL2V4YW1wbGVzLyMvZmlsdGVycy9ibHVyLWZpbHRlci5qcyBFeGFtcGxlfSBvZiB0aGVcbiAqIHtAbGluayBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlciBCbHVyRmlsdGVyfS5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqIEZpbHRlcnMgY2FuIGJlIGFwcGxpZWQgdG8gYW55IERpc3BsYXlPYmplY3Qgb3IgQ29udGFpbmVyLlxuICogUGl4aUpTJyBgRmlsdGVyU3lzdGVtYCByZW5kZXJzIHRoZSBjb250YWluZXIgaW50byB0ZW1wb3JhcnkgRnJhbWVidWZmZXIsXG4gKiB0aGVuIGZpbHRlciByZW5kZXJzIGl0IHRvIHRoZSBzY3JlZW4uXG4gKiBNdWx0aXBsZSBmaWx0ZXJzIGNhbiBiZSBhZGRlZCB0byB0aGUgYGZpbHRlcnNgIGFycmF5IHByb3BlcnR5IGFuZCBzdGFja2VkIG9uIGVhY2ggb3RoZXIuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobXlTaGFkZXJWZXJ0LCBteVNoYWRlckZyYWcsIHsgbXlVbmlmb3JtOiAwLjUgfSk7XG4gKiBjb25zdCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5maWx0ZXJzID0gW2ZpbHRlcl07XG4gKiBgYGBcbiAqXG4gKiAjIyMgUHJldmlvdXMgVmVyc2lvbiBEaWZmZXJlbmNlc1xuICpcbiAqIEluIFBpeGlKUyAqKnYzKiosIGEgZmlsdGVyIHdhcyBhbHdheXMgYXBwbGllZCB0byBfd2hvbGUgc2NyZWVuXy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NCoqLCBhIGZpbHRlciBjYW4gYmUgYXBwbGllZCBfb25seSBwYXJ0IG9mIHRoZSBzY3JlZW5fLlxuICogRGV2ZWxvcGVycyBoYWQgdG8gY3JlYXRlIGEgc2V0IG9mIHVuaWZvcm1zIHRvIGRlYWwgd2l0aCBjb29yZGluYXRlcy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NSoqIGNvbWJpbmVzIF9ib3RoIGFwcHJvYWNoZXNfLlxuICogRGV2ZWxvcGVycyBjYW4gdXNlIG5vcm1hbCBjb29yZGluYXRlcyBvZiB2MyBhbmQgdGhlbiBhbGxvdyBmaWx0ZXIgdG8gdXNlIHBhcnRpYWwgRnJhbWVidWZmZXJzLFxuICogYnJpbmdpbmcgdGhvc2UgZXh0cmEgdW5pZm9ybXMgaW50byBhY2NvdW50LlxuICpcbiAqIEFsc28gYmUgYXdhcmUgdGhhdCB3ZSBoYXZlIGNoYW5nZWQgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyLCBwbGVhc2UgY29uc3VsdFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogIyMjIEJ1aWx0LWluIFVuaWZvcm1zXG4gKlxuICogUGl4aUpTIHZpZXdwb3J0IHVzZXMgc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLCBgKDAsIDAsIHJlbmRlcmVyLnNjcmVlbi53aWR0aCwgcmVuZGVyZXIuc2NyZWVuLmhlaWdodClgLFxuICogYW5kIGBwcm9qZWN0aW9uTWF0cml4YCB1bmlmb3JtIG1hcHMgaXQgdG8gdGhlIGdsIHZpZXdwb3J0LlxuICpcbiAqICoqdVNhbXBsZXIqKlxuICpcbiAqIFRoZSBtb3N0IGltcG9ydGFudCB1bmlmb3JtIGlzIHRoZSBpbnB1dCB0ZXh0dXJlIHRoYXQgY29udGFpbmVyIHdhcyByZW5kZXJlZCBpbnRvLlxuICogX0ltcG9ydGFudCBub3RlOiBhcyB3aXRoIGFsbCBGcmFtZWJ1ZmZlcnMgaW4gUGl4aUpTLCBib3RoIGlucHV0IGFuZCBvdXRwdXQgYXJlXG4gKiBwcmVtdWx0aXBsaWVkIGJ5IGFscGhhLl9cbiAqXG4gKiBCeSBkZWZhdWx0LCBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWQgdG8gZnJhZ21lbnQgc2hhZGVyIHdpdGggYHZUZXh0dXJlQ29vcmRgLlxuICogVXNlIGl0IHRvIHNhbXBsZSB0aGUgaW5wdXQuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmcmFnbWVudCA9IGBcbiAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG4gKiB2b2lkIG1haW4odm9pZClcbiAqIHtcbiAqICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XG4gKiB9XG4gKiBgO1xuICpcbiAqIGNvbnN0IG15RmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG51bGwsIGZyYWdtZW50KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZmlsdGVyIGlzIGp1c3Qgb25lIHVuaWZvcm0gbGVzcyB0aGFuIHtAbGluayBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXIgQWxwaGFGaWx0ZXJ9LlxuICpcbiAqICoqb3V0cHV0RnJhbWUqKlxuICpcbiAqIFRoZSBgb3V0cHV0RnJhbWVgIGhvbGRzIHRoZSByZWN0YW5nbGUgd2hlcmUgZmlsdGVyIGlzIGFwcGxpZWQgaW4gc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLlxuICogSXQncyB0aGUgc2FtZSBhcyBgcmVuZGVyZXIuc2NyZWVuYCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqIE9ubHkgYSBwYXJ0IG9mICBgb3V0cHV0RnJhbWUuendgIHNpemUgb2YgdGVtcG9yYXJ5IEZyYW1lYnVmZmVyIGlzIHVzZWQsXG4gKiBgKDAsIDAsIG91dHB1dEZyYW1lLndpZHRoLCBvdXRwdXRGcmFtZS5oZWlnaHQpYCxcbiAqXG4gKiBGaWx0ZXJzIHVzZXMgdGhpcyBxdWFkIHRvIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2UsIGl0cyBwYXNzZWQgaW50byBgYVZlcnRleFBvc2l0aW9uYCBhdHRyaWJ1dGUuXG4gKiBUbyBjYWxjdWxhdGUgdmVydGV4IHBvc2l0aW9uIGluIHNjcmVlbiBzcGFjZSB1c2luZyBub3JtYWxpemVkICgwLTEpIHNwYWNlOlxuICpcbiAqIGBgYFxuICogdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gKiB7XG4gKiAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XG4gKiAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICogfVxuICogYGBgXG4gKlxuICogKippbnB1dFNpemUqKlxuICpcbiAqIFRlbXBvcmFyeSBmcmFtZWJ1ZmZlciBpcyBkaWZmZXJlbnQsIGl0IGNhbiBiZSBlaXRoZXIgdGhlIHNpemUgb2Ygc2NyZWVuLCBlaXRoZXIgcG93ZXItb2YtdHdvLlxuICogVGhlIGBpbnB1dFNpemUueHlgIGFyZSBzaXplIG9mIHRlbXBvcmFyeSBmcmFtZWJ1ZmZlciB0aGF0IGhvbGRzIGlucHV0LlxuICogVGhlIGBpbnB1dFNpemUuendgIGlzIGludmVydGVkLCBpdCdzIGEgc2hvcnRjdXQgdG8gZXZhZGUgZGl2aXNpb24gaW5zaWRlIHRoZSBzaGFkZXIuXG4gKlxuICogU2V0IGBpbnB1dFNpemUueHkgPSBvdXRwdXRGcmFtZS56d2AgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKlxuICogVG8gY2FsY3VsYXRlIGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZSwgeW91IGhhdmUgdG8gbWFwIGl0IHRvIGZpbHRlciBub3JtYWxpemVkIHNwYWNlLlxuICogTXVsdGlwbHkgYnkgYG91dHB1dEZyYW1lLnp3YCB0byBnZXQgaW5wdXQgY29vcmRpbmF0ZS5cbiAqIERpdmlkZSBieSBgaW5wdXRTaXplLnh5YCB0byBnZXQgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlLlxuICpcbiAqIGBgYFxuICogdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICoge1xuICogICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpOyAvLyBzYW1lIGFzIC9pbnB1dFNpemUueHlcbiAqIH1cbiAqIGBgYFxuICogKipyZXNvbHV0aW9uKipcbiAqXG4gKiBUaGUgYHJlc29sdXRpb25gIGlzIHRoZSByYXRpbyBvZiBzY3JlZW4gKENTUykgcGl4ZWxzIHRvIHJlYWwgcGl4ZWxzLlxuICpcbiAqICoqaW5wdXRQaXhlbCoqXG4gKlxuICogYGlucHV0UGl4ZWwueHlgIGlzIHRoZSBzaXplIG9mIGZyYW1lYnVmZmVyIGluIHJlYWwgcGl4ZWxzLCBzYW1lIGFzIGBpbnB1dFNpemUueHkgKiByZXNvbHV0aW9uYFxuICogYGlucHV0UGl4ZWwuendgIGlzIGludmVydGVkIGBpbnB1dFBpeGVsLnh5YC5cbiAqXG4gKiBJdCdzIGhhbmR5IGZvciBmaWx0ZXJzIHRoYXQgdXNlIG5laWdoYm91ciBwaXhlbHMsIGxpa2Uge0BsaW5rIFBJWEkuZmlsdGVycy5GWEFBRmlsdGVyIEZYQUFGaWx0ZXJ9LlxuICpcbiAqICoqaW5wdXRDbGFtcCoqXG4gKlxuICogSWYgeW91IHRyeSB0byBnZXQgaW5mbyBmcm9tIG91dHNpZGUgb2YgdXNlZCBwYXJ0IG9mIEZyYW1lYnVmZmVyIC0geW91J2xsIGdldCB1bmRlZmluZWQgYmVoYXZpb3VyLlxuICogRm9yIGRpc3BsYWNlbWVudHMsIGNvb3JkaW5hdGVzIGhhcyB0byBiZSBjbGFtcGVkLlxuICpcbiAqIFRoZSBgaW5wdXRDbGFtcC54eWAgaXMgbGVmdC10b3AgcGl4ZWwgY2VudGVyLCB5b3UgbWF5IGlnbm9yZSBpdCwgYmVjYXVzZSB3ZSB1c2UgbGVmdC10b3AgcGFydCBvZiBGcmFtZWJ1ZmZlclxuICogYGlucHV0Q2xhbXAuendgIGlzIGJvdHRvbS1yaWdodCBwaXhlbCBjZW50ZXIuXG4gKlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcChtb2RpZmlnZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKiBPUlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBtaW4obW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICpcbiAqICMjIyBBZGRpdGlvbmFsIEluZm9ybWF0aW9uXG4gKlxuICogQ29tcGxldGUgZG9jdW1lbnRhdGlvbiBvbiBGaWx0ZXIgdXNhZ2UgaXMgbG9jYXRlZCBpbiB0aGVcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzIGNhbiBiZSBkb3dubG9hZGVkXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGUgUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaWx0ZXIgZXh0ZW5kcyBTaGFkZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMgfHwgRmlsdGVyLmRlZmF1bHRWZXJ0ZXhTcmMsXG4gICAgICAgICAgICBmcmFnbWVudFNyYyB8fCBGaWx0ZXIuZGVmYXVsdEZyYWdtZW50U3JjKTtcblxuICAgICAgICBzdXBlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwYWRkaW5nIG9mIHRoZSBmaWx0ZXIuIFNvbWUgZmlsdGVycyByZXF1aXJlIGV4dHJhIHNwYWNlIHRvIGJyZWF0aCBzdWNoIGFzIGEgYmx1ci5cbiAgICAgICAgICogSW5jcmVhc2luZyB0aGlzIHdpbGwgYWRkIGV4dHJhIHdpZHRoIGFuZCBoZWlnaHQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlXG4gICAgICAgICAqIGZpbHRlciBpcyBhcHBsaWVkIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZGRpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgZmlsdGVyLiBTZXR0aW5nIHRoaXMgdG8gYmUgbG93ZXIgd2lsbCBsb3dlciB0aGUgcXVhbGl0eSBidXRcbiAgICAgICAgICogaW5jcmVhc2UgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBmaWx0ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkIGlzIHRydWUgdGhlIGZpbHRlciBpcyBhcHBsaWVkLCBpZiBmYWxzZSBpdCB3aWxsIG5vdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQsIFBpeGlKUyB3aWxsIGZpdCB0aGUgZmlsdGVyIGFyZWEgaW50byBib3VuZGFyaWVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqIFN3aXRjaCBpdCBvZmYgaWYgaXQgZG9lcyBub3Qgd29yayBmb3Igc3BlY2lmaWMgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvRml0ID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGVnYWN5IGZpbHRlcnMgdXNlIHBvc2l0aW9uIGFuZCB1dnMgZnJvbSBhdHRyaWJ1dGVzXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sZWdhY3kgPSAhIXRoaXMucHJvZ3JhbS5hdHRyaWJ1dGVEYXRhLmFUZXh0dXJlQ29vcmQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSB0aGUgZmlsdGVyIHJlcXVpcmVzIHRvIHJlbmRlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtjdXJyZW50U3RhdGVdIC0gSXQncyBjdXJyZW50IHN0YXRlIG9mIGZpbHRlci5cbiAgICAgKiAgICAgICAgVGhlcmUgYXJlIHNvbWUgdXNlZnVsIHByb3BlcnRpZXMgaW4gdGhlIGN1cnJlbnRTdGF0ZSA6XG4gICAgICogICAgICAgIHRhcmdldCwgZmlsdGVycywgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUsIHJlbmRlclRhcmdldCwgcmVzb2x1dGlvblxuICAgICAqL1xuICAgIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyLCBjdXJyZW50U3RhdGUpXG4gICAge1xuICAgICAgICAvLyBkbyBhcyB5b3UgcGxlYXNlIVxuXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIsIGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgLy8gb3IganVzdCBkbyBhIHJlZ3VsYXIgcmVuZGVyLi5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICovXG4gICAgZ2V0IGJsZW5kTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgfVxuXG4gICAgc2V0IGJsZW5kTW9kZSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRWZXJ0ZXhTcmMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgc3RhdGljIGdldCBkZWZhdWx0RnJhZ21lbnRTcmMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudDtcbiAgICB9XG59XG5cbi8qKlxuICogVXNlZCBmb3IgY2FjaGluZyBzaGFkZXIgSURzXG4gKlxuICogQHN0YXRpY1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm90ZWN0ZWRcbiAqL1xuRmlsdGVyLlNPVVJDRV9LRVlfTUFQID0ge307XG5cbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG5jb25zdCB0ZW1wTWF0ID0gbmV3IE1hdHJpeCgpO1xuXG4vKipcbiAqIENsYXNzIGNvbnRyb2xzIHV2IG1hcHBpbmcgZnJvbSBUZXh0dXJlIG5vcm1hbCBzcGFjZSB0byBCYXNlVGV4dHVyZSBub3JtYWwgc3BhY2UuXG4gKlxuICogVGFrZXMgYHRyaW1gIGFuZCBgcm90YXRlYCBpbnRvIGFjY291bnQuIE1heSBjb250YWluIGNsYW1wIHNldHRpbmdzIGZvciBNZXNoZXMgYW5kIFRpbGluZ1Nwcml0ZS5cbiAqXG4gKiBDYW4gYmUgdXNlZCBpbiBUZXh0dXJlIGB1dk1hdHJpeGAgZmllbGQsIG9yIHNlcGFyYXRlbHksIHlvdSBjYW4gdXNlIGRpZmZlcmVudCBjbGFtcCBzZXR0aW5ncyBvbiB0aGUgc2FtZSB0ZXh0dXJlLlxuICogSWYgeW91IHdhbnQgdG8gYWRkIHN1cHBvcnQgZm9yIHRleHR1cmUgcmVnaW9uIG9mIGNlcnRhaW4gZmVhdHVyZSBvciBmaWx0ZXIsIHRoYXQncyB3aGF0IHlvdSdyZSBsb29raW5nIGZvci5cbiAqXG4gKiBUYWtlcyB0cmFjayBvZiBUZXh0dXJlIGNoYW5nZXMgdGhyb3VnaCBgX2xhc3RUZXh0dXJlSURgIHByaXZhdGUgZmllbGQuXG4gKiBVc2UgYHVwZGF0ZSgpYCBtZXRob2QgY2FsbCB0byB0cmFjayBpdCBmcm9tIG91dHNpZGUuXG4gKlxuICogQHNlZSBQSVhJLlRleHR1cmVcbiAqIEBzZWUgUElYSS5NZXNoXG4gKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmVNYXRyaXhcbntcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIG9ic2VydmVkIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsYW1wTWFyZ2luXSBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nLCAwLjUgYnkgZGVmYXVsdC4gVXNlIC0wLjUgZm9yIGV4dHJhIGJvcmRlci5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlLCBjbGFtcE1hcmdpbilcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXRyaXggb3BlcmF0aW9uIHRoYXQgY29udmVydHMgdGV4dHVyZSByZWdpb24gY29vcmRzIHRvIHRleHR1cmUgY29vcmRzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFwQ29vcmQgPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsYW1wIHJlZ2lvbiBmb3Igbm9ybWFsaXplZCBjb29yZHMsIGxlZnQtdG9wIHBpeGVsIGNlbnRlciBpbiB4eSAsIGJvdHRvbS1yaWdodCBpbiB6dy5cbiAgICAgICAgICogQ2FsY3VsYXRlZCBiYXNlZCBvbiBjbGFtcE9mZnNldC5cbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudUNsYW1wRnJhbWUgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3JtYWxpemVkIGNsYW1wIG9mZnNldC5cbiAgICAgICAgICogQ2FsY3VsYXRlZCBiYXNlZCBvbiBjbGFtcE9mZnNldC5cbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0ID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tzIFRleHR1cmUgZnJhbWUgY2hhbmdlc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmdcbiAgICAgICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgICAgICogQ2hhbmdlIHRvIDEuNSBpZiB5b3UgdGV4dHVyZSBoYXMgcmVwZWF0ZWQgcmlnaHQgYW5kIGJvdHRvbSBsaW5lcywgdGhhdCBsZWFkcyB0byBzbW9vdGhlciBib3JkZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE9mZnNldCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmdcbiAgICAgICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsYW1wTWFyZ2luID0gKHR5cGVvZiBjbGFtcE1hcmdpbiA9PT0gJ3VuZGVmaW5lZCcpID8gMC41IDogY2xhbXBNYXJnaW47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRleHR1cmUgc2l6ZSBpcyB0aGUgc2FtZSBhcyBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTaW1wbGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0ZXh0dXJlIHByb3BlcnR5XG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIGdldCB0ZXh0dXJlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgIH1cblxuICAgIHNldCB0ZXh0dXJlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHV2cyBhcnJheSB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdXZzIG1lc2ggdXZzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9dXZzXSBvdXRwdXRcbiAgICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAgICAgKi9cbiAgICBtdWx0aXBseVV2cyh1dnMsIG91dClcbiAgICB7XG4gICAgICAgIGlmIChvdXQgPT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgb3V0ID0gdXZzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWF0ID0gdGhpcy5tYXBDb29yZDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHV2cy5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeCA9IHV2c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB1dnNbaSArIDFdO1xuXG4gICAgICAgICAgICBvdXRbaV0gPSAoeCAqIG1hdC5hKSArICh5ICogbWF0LmMpICsgbWF0LnR4O1xuICAgICAgICAgICAgb3V0W2kgKyAxXSA9ICh4ICogbWF0LmIpICsgKHkgKiBtYXQuZCkgKyBtYXQudHk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHVwZGF0ZXMgbWF0cmljZXMgaWYgdGV4dHVyZSB3YXMgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlVXBkYXRlPWZhbHNlXSBpZiB0cnVlLCBtYXRyaWNlcyB3aWxsIGJlIHVwZGF0ZWQgYW55IGNhc2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgaXQgd2FzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICB1cGRhdGUoZm9yY2VVcGRhdGUpXG4gICAge1xuICAgICAgICBjb25zdCB0ZXggPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4IHx8ICF0ZXgudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZm9yY2VVcGRhdGVcbiAgICAgICAgICAgICYmIHRoaXMuX3VwZGF0ZUlEID09PSB0ZXguX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IHRleC5fdXBkYXRlSUQ7XG5cbiAgICAgICAgY29uc3QgdXZzID0gdGV4Ll91dnM7XG5cbiAgICAgICAgdGhpcy5tYXBDb29yZC5zZXQodXZzLngxIC0gdXZzLngwLCB1dnMueTEgLSB1dnMueTAsIHV2cy54MyAtIHV2cy54MCwgdXZzLnkzIC0gdXZzLnkwLCB1dnMueDAsIHV2cy55MCk7XG5cbiAgICAgICAgY29uc3Qgb3JpZyA9IHRleC5vcmlnO1xuICAgICAgICBjb25zdCB0cmltID0gdGV4LnRyaW07XG5cbiAgICAgICAgaWYgKHRyaW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LFxuICAgICAgICAgICAgICAgIC10cmltLnggLyB0cmltLndpZHRoLCAtdHJpbS55IC8gdHJpbS5oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5tYXBDb29yZC5hcHBlbmQodGVtcE1hdCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXhCYXNlID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMudUNsYW1wRnJhbWU7XG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMuY2xhbXBNYXJnaW4gLyB0ZXhCYXNlLnJlc29sdXRpb247XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuY2xhbXBPZmZzZXQ7XG5cbiAgICAgICAgZnJhbWVbMF0gPSAodGV4Ll9mcmFtZS54ICsgbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgICAgIGZyYW1lWzFdID0gKHRleC5fZnJhbWUueSArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgZnJhbWVbMl0gPSAodGV4Ll9mcmFtZS54ICsgdGV4Ll9mcmFtZS53aWR0aCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVszXSA9ICh0ZXguX2ZyYW1lLnkgKyB0ZXguX2ZyYW1lLmhlaWdodCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMF0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxXaWR0aDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMV0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5pc1NpbXBsZSA9IHRleC5fZnJhbWUud2lkdGggPT09IHRleEJhc2Uud2lkdGhcbiAgICAgICAgICAgICYmIHRleC5fZnJhbWUuaGVpZ2h0ID09PSB0ZXhCYXNlLmhlaWdodFxuICAgICAgICAgICAgJiYgdGV4LnJvdGF0ZSA9PT0gMDtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgRmlsdGVyIGZyb20gJy4uL0ZpbHRlcic7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9zcHJpdGVNYXNrRmlsdGVyLnZlcnQnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vc3ByaXRlTWFza0ZpbHRlci5mcmFnJztcbmltcG9ydCB7IGRlZmF1bHQgYXMgVGV4dHVyZU1hdHJpeCB9IGZyb20gJy4uLy4uL3RleHR1cmVzL1RleHR1cmVNYXRyaXgnO1xuXG4vKipcbiAqIFRoaXMgaGFuZGxlcyBhIFNwcml0ZSBhY3RpbmcgYXMgYSBtYXNrLCBhcyBvcHBvc2VkIHRvIGEgR3JhcGhpYy5cbiAqXG4gKiBXZWJHTCBvbmx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwcml0ZU1hc2tGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgdGFyZ2V0IHNwcml0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNwcml0ZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgc3VwZXIodmVydGV4LCBmcmFnbWVudCk7XG5cbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3ByaXRlIG1hc2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdC5cbiAgICAgKi9cbiAgICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcilcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hc2tTcHJpdGUgPSB0aGlzLm1hc2tTcHJpdGU7XG4gICAgICAgIGNvbnN0IHRleCA9IHRoaXMubWFza1Nwcml0ZS50ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4LnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0ZXgudHJhbnNmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBtYXJnaW4gPSAwLjAsIGxldCBpdCBibGVlZCBhIGJpdCwgc2hhZGVyIGNvZGUgYmVjb21lcyBlYXNpZXJcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgYXRsYXMgdGV4dHVyZXMgd2VyZSBtYWRlIHdpdGggMS1waXhlbCBwYWRkaW5nXG4gICAgICAgICAgICB0ZXgudHJhbnNmb3JtID0gbmV3IFRleHR1cmVNYXRyaXgodGV4LCAwLjApO1xuICAgICAgICB9XG4gICAgICAgIHRleC50cmFuc2Zvcm0udXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5ucG1BbHBoYSA9IHRleC5iYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhID8gMC4wIDogMS4wO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2sgPSB0ZXg7XG4gICAgICAgIC8vIGdldCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfIGFuZCBjb252ZXJ0IHRoZW0gdG8gX25vcm1hbGl6ZWQgYXRsYXMgdGV4dHVyZSBjb29yZHNfIHdpdGggYHByZXBlbmRgXG4gICAgICAgIHRoaXMudW5pZm9ybXMub3RoZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIG1hc2tTcHJpdGUpXG4gICAgICAgICAgICAucHJlcGVuZCh0ZXgudHJhbnNmb3JtLm1hcENvb3JkKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5hbHBoYSA9IG1hc2tTcHJpdGUud29ybGRBbHBoYTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrQ2xhbXAgPSB0ZXgudHJhbnNmb3JtLnVDbGFtcEZyYW1lO1xuXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgIH1cbn1cbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCBTcHJpdGVNYXNrRmlsdGVyIGZyb20gJy4uL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyJztcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgbWFza3MuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXNrU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLy8gVE9ETyAtIHdlIGRvbid0IG5lZWQgYm90aCFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBjdXJyZW50IHB1c2hlZCBtYXNrZWQgaXMgc2Npc3NvclxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Npc3NvciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIGRhdGFcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjaXNzb3JEYXRhID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGFyZ2V0IHRvIG1hc2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuYWJsZSBzY2lzc29yXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbmFibGVTY2lzc29yID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdXNlZCBzcHJpdGUgbWFzayBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlTWFza0ZpbHRlcltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrUG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGluZGV4IG9mIGFscGhhIG1hc2sgcG9vbFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4ID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgcHVzaCh0YXJnZXQsIG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyB0aGUgcm9vdCBjaGVjayBtZWFucyBzY2lzc29yIHJlY3Qgd2lsbCBub3RcbiAgICAgICAgLy8gYmUgdXNlZCBvbiByZW5kZXIgdGV4dHVyZXMgbW9yZSBpbmZvIGhlcmU6XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9wdWxsLzM1NDVcblxuICAgICAgICBpZiAobWFza0RhdGEuaXNTcHJpdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHVzaFNwcml0ZU1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmFibGVTY2lzc29yXG4gICAgICAgICAgICAmJiAhdGhpcy5zY2lzc29yXG4gICAgICAgICAgICAmJiB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQucm9vdFxuICAgICAgICAgICAgJiYgIXRoaXMucmVuZGVyZXIuc3RlbmNpbC5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aFxuICAgICAgICAgICAgJiYgbWFza0RhdGEuaXNGYXN0UmVjdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBtYXRyaXggPSBtYXNrRGF0YS53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgbGV0IHJvdCA9IE1hdGguYXRhbjIobWF0cml4LmIsIG1hdHJpeC5hKTtcblxuICAgICAgICAgICAgLy8gdXNlIHRoZSBuZWFyZXN0IGRlZ3JlZSFcbiAgICAgICAgICAgIHJvdCA9IE1hdGgucm91bmQocm90ICogKDE4MCAvIE1hdGguUEkpKTtcblxuICAgICAgICAgICAgaWYgKHJvdCAlIDkwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFN0ZW5jaWxNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hTY2lzc29yTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHVzaFN0ZW5jaWxNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBtYXNrIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwb3AgdGhlIG1hc2sgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuICAgIHBvcCh0YXJnZXQsIG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgaWYgKG1hc2tEYXRhLmlzU3ByaXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBvcFNwcml0ZU1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmFibGVTY2lzc29yICYmICF0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucG9wU2Npc3Nvck1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBvcFN0ZW5jaWxNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgc3ByaXRlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBtYXNrRGF0YSAtIFNwcml0ZSB0byBiZSB1c2VkIGFzIHRoZSBtYXNrXG4gICAgICovXG4gICAgcHVzaFNwcml0ZU1hc2sodGFyZ2V0LCBtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIGxldCBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF07XG5cbiAgICAgICAgaWYgKCFhbHBoYU1hc2tGaWx0ZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XSA9IFtuZXcgU3ByaXRlTWFza0ZpbHRlcihtYXNrRGF0YSldO1xuICAgICAgICB9XG5cbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLnJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5tYXNrU3ByaXRlID0gbWFza0RhdGE7XG5cbiAgICAgICAgY29uc3Qgc3Rhc2hGaWx0ZXJBcmVhID0gdGFyZ2V0LmZpbHRlckFyZWE7XG5cbiAgICAgICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBtYXNrRGF0YS5nZXRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyLnB1c2godGFyZ2V0LCBhbHBoYU1hc2tGaWx0ZXIpO1xuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IHN0YXNoRmlsdGVyQXJlYTtcblxuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4Kys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBmaWx0ZXIgZnJvbSB0aGUgZmlsdGVyIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqL1xuICAgIHBvcFNwcml0ZU1hc2soKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgtLTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuICAgIHB1c2hTdGVuY2lsTWFzayhtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnB1c2hTdGVuY2lsKG1hc2tEYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgcG9wU3RlbmNpbE1hc2soKVxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5yZW5kZXJlci5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucG9wU3RlbmNpbCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBwdXNoU2Npc3Nvck1hc2sodGFyZ2V0LCBtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIG1hc2tEYXRhLnJlbmRlcmFibGUgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldDtcblxuICAgICAgICBjb25zdCBib3VuZHMgPSBtYXNrRGF0YS5nZXRCb3VuZHMoKTtcblxuICAgICAgICBib3VuZHMuZml0KHJlbmRlclRhcmdldC5zaXplKTtcbiAgICAgICAgbWFza0RhdGEucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuZW5hYmxlKHRoaXMucmVuZGVyZXIuZ2wuU0NJU1NPUl9URVNUKTtcblxuICAgICAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuc2Npc3NvcihcbiAgICAgICAgICAgIGJvdW5kcy54ICogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIChyZW5kZXJUYXJnZXQucm9vdCA/IHJlbmRlclRhcmdldC5zaXplLmhlaWdodCAtIGJvdW5kcy55IC0gYm91bmRzLmhlaWdodCA6IGJvdW5kcy55KSAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICBib3VuZHMud2lkdGggKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgYm91bmRzLmhlaWdodCAqIHJlc29sdXRpb25cbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnNjaXNzb3JSZW5kZXJUYXJnZXQgPSByZW5kZXJUYXJnZXQ7XG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBtYXNrRGF0YTtcbiAgICAgICAgdGhpcy5zY2lzc29yID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQb3Agc2Npc3NvciBtYXNrXG4gICAgICpcbiAgICAgKi9cbiAgICBwb3BTY2lzc29yTWFzaygpXG4gICAge1xuICAgICAgICB0aGlzLnNjaXNzb3JSZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnNjaXNzb3JEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY2lzc29yID0gZmFsc2U7XG5cbiAgICAgICAgLy8gbXVzdCBiZSBzY2lzc29yIVxuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgU3lzdGVtIGZyb20gJy4uL1N5c3RlbSc7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHN0ZW5jaWxzICh1c2VkIGZvciBtYXNrcykuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGVuY2lsU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXNrIHN0YWNrXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIG1hc2sgc3RhY2sgdGhhdCBpcyB1c2VkIGJ5IHRoaXMgU3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzW119IHN0ZW5jaWxNYXNrU3RhY2sgLSBUaGUgbWFzayBzdGFja1xuICAgICAqL1xuICAgIHNldE1hc2tTdGFjayhzdGVuY2lsTWFza1N0YWNrKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBjb25zdCBjdXJTdGFja0xlbiA9IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGg7XG5cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gc3RlbmNpbE1hc2tTdGFjaztcbiAgICAgICAgaWYgKHN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoICE9PSBjdXJTdGFja0xlbilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoID09PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IHN0ZW5jaWwgc3RhY2suIEBhbHZpblxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBtYXNrXG4gICAgICovXG4gICAgcHVzaFN0ZW5jaWwoZ3JhcGhpY3MpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGNvbnN0IHByZXZNYXNrQ291bnQgPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoO1xuXG4gICAgICAgIGlmIChwcmV2TWFza0NvdW50ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjay5wdXNoKGdyYXBoaWNzKTtcblxuICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBuZXcgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvbGQgb25lcy5cbiAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHByZXZNYXNrQ291bnQsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuSU5DUik7XG5cbiAgICAgICAgZ3JhcGhpY3MucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgIGdyYXBoaWNzLnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBncmFwaGljcy5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBzdGVuY2lsIHN0YWNrLiBAYWx2aW5cbiAgICAgKi9cbiAgICBwb3BTdGVuY2lsKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgY29uc3QgZ3JhcGhpY3MgPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoZSBzdGFjayBpcyBlbXB0eSFcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7XG4gICAgICAgICAgICBnbC5jbGVhclN0ZW5jaWwoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBEZWNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBwb3BwZWQgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvdGhlciBvbmVzXG4gICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLkRFQ1IpO1xuXG4gICAgICAgICAgICBncmFwaGljcy5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGdyYXBoaWNzLnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgICAgIGdyYXBoaWNzLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHN0ZW5jaWwgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91c2VDdXJyZW50KClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5jb2xvck1hc2sodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoLCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLktFRVApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGwgMXMgZXF1YWwgdG8gdGhlIG51bWJlciBvZiBhY2l0dmUgc3RlbmNpbCBtYXNrcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJpdHdpc2UgbWFzay5cbiAgICAgKi9cbiAgICBfZ2V0Qml0d2lzZU1hc2soKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgxIDw8IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgpIC0gMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgbWFzayBzdGFjay5cbiAgICAgKlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSh0aGlzKTtcblxuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3Rpb25TeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVzdGluYXRpb24gZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IGRlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdEZyYW1lID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvamVjdCBtYXRyaXhcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRyYW5zZm9ybSB0aGF0IHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICAgICAqIGlmIG51bGwsIG5vdGhpbmcgd2lsbCBiZSBhcHBsaWVkXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHByb2plY3Rpb24gbWF0cml4IGJhc2VkIG9uIGEgcHJvamVjdGlvbiBmcmFtZSAod2hpY2ggaXMgYSByZWN0YW5nbGUpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzb2x1dGlvbiAtIFJlc29sdXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvb3QgLSBJZiBpcyByb290XG4gICAgICovXG4gICAgdXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KVxuICAgIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZWZhdWx0RnJhbWU7XG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBzb3VyY2VGcmFtZSB8fCB0aGlzLnNvdXJjZUZyYW1lIHx8IGRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVQcm9qZWN0aW9uKHRoaXMuZGVzdGluYXRpb25GcmFtZSwgdGhpcy5zb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgcm9vdCk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXguYXBwZW5kKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gIHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgICAgICAvLyBidXQgd291bGQgYmUgc3dlZXQgdG8gc3RpY2sgYW5kIGV2ZW4gb24gdGhlIGdsb2JhbCB1bmlmb3Jtcy4uXG4gICAgICAgIGlmIChyZW5kZXJlci5zaGFkZXIuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cChyZW5kZXJlci5zaGFkZXIuc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbiBtYXRyaXggYmFzZWQgb24gYSBwcm9qZWN0aW9uIGZyYW1lICh3aGljaCBpcyBhIHJlY3RhbmdsZSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgZGVzdGluYXRpb24gZnJhbWUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXNvbHV0aW9uIC0gUmVzb2x1dGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm9vdCAtIElmIGlzIHJvb3RcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVQcm9qZWN0aW9uKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KVxuICAgIHtcbiAgICAgICAgY29uc3QgcG0gPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG5cbiAgICAgICAgLy8gSSBkb24ndCB0aGluayB3ZSB3aWxsIG5lZWQgdGhpcyBsaW5lLi5cbiAgICAgICAgLy8gcG0uaWRlbnRpdHkoKTtcblxuICAgICAgICBpZiAoIXJvb3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBtLmEgPSAoMSAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiAyKSAqIHJlc29sdXRpb247XG4gICAgICAgICAgICBwbS5kID0gKDEgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIDIpICogcmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgcG0udHggPSAtMSAtIChzb3VyY2VGcmFtZS54ICogcG0uYSk7XG4gICAgICAgICAgICBwbS50eSA9IC0xIC0gKHNvdXJjZUZyYW1lLnkgKiBwbS5kKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBtLmEgPSAoMSAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiAyKSAqIHJlc29sdXRpb247XG4gICAgICAgICAgICBwbS5kID0gKC0xIC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiAyKSAqIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgIHBtLnR4ID0gLTEgLSAoc291cmNlRnJhbWUueCAqIHBtLmEpO1xuICAgICAgICAgICAgcG0udHkgPSAxIC0gKHNvdXJjZUZyYW1lLnkgKiBwbS5kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zZm9ybSBvZiB0aGUgYWN0aXZlIHJlbmRlciB0YXJnZXQgdG8gdGhlIGdpdmVuIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqL1xuICAgIHNldFRyYW5zZm9ybSgpLy8gbWF0cml4KVxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgICB9XG59XG4iLCJpbXBvcnQgU3lzdGVtIGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuY29uc3QgdGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHJlbmRlciB0ZXh0dXJlcy5cbiAqXG4gKiBTaG91bGQgYmUgYWRkZWQgYWZ0ZXIgRnJhbWVidWZmZXJTeXN0ZW1cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyVGV4dHVyZVN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xlYXIgYmFja2dyb3VuZCBjb2xvciBhcyByZ2JhXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhckNvbG9yID0gcmVuZGVyZXIuX2JhY2tncm91bmRDb2xvclJnYmE7XG5cbiAgICAgICAgLy8gVE9ETyBtb3ZlIHRoaXMgcHJvcGVydHkgc29tZXdoZXJlIGVsc2UhXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIG1hc2tzIGZvciB0aGUgU3RlbmNpbFN5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0TWFza1N0YWNrID0gW107XG5cbiAgICAgICAgLy8gZW1wdHkgcmVuZGVyIHRleHR1cmU/XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoZSBjdXJyZW50IHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIFJlbmRlclRleHR1cmUgdG8gYmluZCwgYnkgZGVmYXVsdCBpdHMgYG51bGxgLCB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3NvdXJjZUZyYW1lXSAtIHBhcnQgb2Ygc2NyZWVuIHRoYXQgaXMgbWFwcGVkIHRvIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2Rlc3RpbmF0aW9uRnJhbWVdIC0gcGFydCBvZiByZW5kZXJUZXh0dXJlLCBieSBkZWZhdWx0IGl0IGhhcyB0aGUgc2FtZSBzaXplIGFzIHNvdXJjZUZyYW1lXG4gICAgICovXG4gICAgYmluZChyZW5kZXJUZXh0dXJlID0gbnVsbCwgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSByZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICBsZXQgcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbkZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LndpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghc291cmNlRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQoYmFzZVRleHR1cmUuZnJhbWVidWZmZXIsIGRlc3RpbmF0aW9uRnJhbWUpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc2V0TWFza1N0YWNrKGJhc2VUZXh0dXJlLnN0ZW5jaWxNYXNrU3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgLy8gVE9ETyB0aGVzZSB2YWxpZGF0aW9uIGNoZWNrcyBoYXBwZW4gZGVlcGVyIGRvd24uLlxuICAgICAgICAgICAgLy8gdGhpbmcgdGhleSBjYW4gYmUgYXZvaWRlZC4uXG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSByZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghc291cmNlRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZW5kZXJlci5mcmFtZWJ1ZmZlci5iaW5kKG51bGwsIGRlc3RpbmF0aW9uRnJhbWUpO1xuXG4gICAgICAgICAgICAvLyBUT0RPIHN0b3JlIHRoaXMuLlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnVwZGF0ZShkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc2V0TWFza1N0YWNrKHRoaXMuZGVmYXVsdE1hc2tTdGFjayk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lLmNvcHlGcm9tKHNvdXJjZUZyYW1lKTtcblxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUueCA9IGRlc3RpbmF0aW9uRnJhbWUueCAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS55ID0gZGVzdGluYXRpb25GcmFtZS55IC8gcmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAoc291cmNlRnJhbWUgPT09IGRlc3RpbmF0aW9uRnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlRnJhbWUuY29weUZyb20odGhpcy5kZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVyYXNlcyB0aGUgcmVuZGVyIHRleHR1cmUgYW5kIGZpbGxzIHRoZSBkcmF3aW5nIGFyZWEgd2l0aCBhIGNvbG91clxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG9yIGFzIHJnYmEsIGRlZmF1bHQgdG8gdXNlIHRoZSByZW5kZXJlciBiYWNrZ3JvdW5kQ29sb3JcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBjbGVhcihjbGVhckNvbG9yKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgY2xlYXJDb2xvciA9IGNsZWFyQ29sb3IgfHwgdGhpcy5jdXJyZW50LmJhc2VUZXh0dXJlLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmNsZWFyKGNsZWFyQ29sb3JbMF0sIGNsZWFyQ29sb3JbMV0sIGNsZWFyQ29sb3JbMl0sIGNsZWFyQ29sb3JbM10pO1xuICAgIH1cblxuICAgIHJlc2l6ZSgpLy8gc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodClcbiAgICB7XG4gICAgICAgIC8vIHJlc2l6ZSB0aGUgcm9vdCBvbmx5IVxuICAgICAgICB0aGlzLmJpbmQobnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHJlbmRlclRleHR1cmUgc3RhdGVcbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICB0aGlzLmJpbmQobnVsbCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgUHJvZ3JhbVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR0xQcm9ncmFtXG57XG4gICAgLyoqXG4gICAgICogTWFrZXMgYSBuZXcgUGl4aSBwcm9ncmFtXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJvZ3JhbSB7V2ViR0xQcm9ncmFtfSB3ZWJnbCBwcm9ncmFtXG4gICAgICogQHBhcmFtIHVuaWZvcm1EYXRhIHtPYmplY3R9IHVuaWZvcm1zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvZ3JhbSwgdW5pZm9ybURhdGEpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYWRlciBwcm9ncmFtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUHJvZ3JhbX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGhvbGRzIHRoZSB1bmlmb3JtIGRhdGEgd2hpY2ggY29udGFpbnMgdW5pZm9ybSBsb2NhdGlvbnNcbiAgICAgICAgICogYW5kIGN1cnJlbnQgdW5pZm9ybSB2YWx1ZXMgdXNlZCBmb3IgY2FjaGluZyBhbmQgcHJldmVudGluZyB1bm5lZWRlZCBHUFUgY29tbWFuZHNcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHVuaWZvcm1EYXRhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlmb3JtR3JvdXBzIGhvbGRzIHRoZSB2YXJpb3VzIHVwbG9hZCBmdW5jdGlvbnMgZm9yIHRoZSBzaGFkZXIuIEVhY2ggdW5pZm9ybSBncm91cFxuICAgICAgICAgKiBhbmQgcHJvZ3JhbSBoYXZlIGEgdW5pcXVlIHVwbG9hZCBmdW5jdGlvbiBnZW5lcmF0ZWQuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgcHJvZ3JhbVxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IEdMUHJvZ3JhbSBmcm9tICcuL0dMUHJvZ3JhbSc7XG5pbXBvcnQgeyBnZW5lcmF0ZVVuaWZvcm1zU3luYyxcbiAgICB1bnNhZmVFdmFsU3VwcG9ydGVkLFxuICAgIGRlZmF1bHRWYWx1ZSxcbiAgICBjb21waWxlUHJvZ3JhbSB9IGZyb20gJy4vdXRpbHMnO1xuXG5sZXQgVUlEID0gMDtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc2hhZGVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYWRlclN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIFZhbGlkYXRpb24gY2hlY2sgdGhhdCB0aGlzIGVudmlyb25tZW50IHN1cHBvcnQgYG5ldyBGdW5jdGlvbmBcbiAgICAgICAgdGhpcy5zeXN0ZW1DaGVjaygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIHRvIGhvbGRzIHRoZSBnZW5lcmF0ZWQgZnVuY3Rpb25zLiBTdG9yZWQgYWdhaW5zdCBVbmlmb3JtT2JqZWN0cyB1bmlxdWUgc2lnbmF0dXJlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlID0ge307XG5cbiAgICAgICAgdGhpcy5pZCA9IFVJRCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlYWJsZSBmdW5jdGlvbiBieSBgQHBpeGkvdW5zYWZlLWV2YWxgIHRvIHNpbGVuY2VcbiAgICAgKiB0aHJvd2luZyBhbiBlcnJvciBpZiBwbGF0Zm9ybSBkb2Vzbid0IHN1cHBvcnQgdW5zYWZlLWV2YWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzeXN0ZW1DaGVjaygpXG4gICAge1xuICAgICAgICBpZiAoIXVuc2FmZUV2YWxTdXBwb3J0ZWQoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IGFsbG93IHVuc2FmZS1ldmFsLCAnXG4gICAgICAgICAgICAgICAgKyAncGxlYXNlIHVzZSBAcGl4aS91bnNhZmUtZXZhbCBtb2R1bGUgdG8gZW5hYmxlIHN1cHBvcnQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb250ZXh0Q2hhbmdlKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCBzaGFkZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIHRoZSBuZXcgc2hhZGVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkb250U3luYyAtIGZhbHNlIGlmIHRoZSBzaGFkZXIgc2hvdWxkIGF1dG9tYXRpY2FsbHkgc3luYyBpdHMgdW5pZm9ybXMuXG4gICAgICogQHJldHVybnMge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIHRoYXQgYmVsb25ncyB0byB0aGUgc2hhZGVyLlxuICAgICAqL1xuICAgIGJpbmQoc2hhZGVyLCBkb250U3luYylcbiAgICB7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy5nbG9iYWxzID0gdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcztcblxuICAgICAgICBjb25zdCBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIGNvbnN0IGdsUHJvZ3JhbSA9IHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmdlbmVyYXRlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG5cbiAgICAgICAgLy8gVE9ETyAtIHNvbWUgY3VycmVudCBQaXhpIHBsdWdpbnMgYnlwYXNzIHRoaXMuLiBzbyBpdCBub3Qgc2FmZSB0byB1c2UgeWV0Li5cbiAgICAgICAgaWYgKHRoaXMucHJvZ3JhbSAhPT0gcHJvZ3JhbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShnbFByb2dyYW0ucHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRvbnRTeW5jKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN5bmNVbmlmb3JtR3JvdXAoc2hhZGVyLnVuaWZvcm1Hcm91cCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHVuaWZvcm1zIHZhbHVlcyB0byB0aGUgY3VycmVudGx5IGJvdW5kIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB1bmlmb3JtcyAtIHRoZSB1bmlmb3JtcyB2YWx1ZXMgdGhhdCBiZSBhcHBsaWVkIHRvIHRoZSBjdXJyZW50IHNoYWRlclxuICAgICAqL1xuICAgIHNldFVuaWZvcm1zKHVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc2hhZGVyID0gdGhpcy5zaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgY29uc3QgZ2xQcm9ncmFtID0gc2hhZGVyLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgc2hhZGVyLnN5bmNVbmlmb3JtcyhnbFByb2dyYW0udW5pZm9ybURhdGEsIHVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyKTtcbiAgICB9XG5cbiAgICBzeW5jVW5pZm9ybUdyb3VwKGdyb3VwKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2xQcm9ncmFtID0gdGhpcy5nZXRnbFByb2dyYW0oKTtcblxuICAgICAgICBpZiAoIWdyb3VwLnN0YXRpYyB8fCBncm91cC5kaXJ0eUlkICE9PSBnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSA9IGdyb3VwLmRpcnR5SWQ7XG5cbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1zKGdyb3VwLCBnbFByb2dyYW0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGJ5IHRoZSBAcGl4aS91bnNhZmUtZXZhbCBwYWNrYWdlIHRvIHVzZSBzdGF0aWNcbiAgICAgKiBzeW5jVW5mb3JtcyBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzeW5jVW5pZm9ybXMoZ3JvdXAsIGdsUHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHN5bmNGdW5jID0gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuY3JlYXRlU3luY0dyb3Vwcyhncm91cCk7XG5cbiAgICAgICAgc3luY0Z1bmMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCBncm91cC51bmlmb3JtcywgdGhpcy5yZW5kZXJlcik7XG4gICAgfVxuXG4gICAgY3JlYXRlU3luY0dyb3Vwcyhncm91cClcbiAgICB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRTaWduYXR1cmUoZ3JvdXAsIHRoaXMuc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEpO1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZVtpZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVbaWRdID0gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXAsIHRoaXMuc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdID0gdGhpcy5jYWNoZVtpZF07XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIHVuaWZvcm0gZ3JvdXAgYW5kIGRhdGEgYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVW5pZm9ybUdyb3VwfSBncm91cCB0aGUgdW5pZm9ybSBncm91cCB0byBnZXQgc2lnbmF0dXJlIG9mXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1EYXRhIHVuaWZvcm0gaW5mb3JtYXRpb24gZ2VuZXJhdGVkIGJ5IHRoZSBzaGFkZXJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSB1bmlmb3JtIGdyb3VwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXRTaWduYXR1cmUoZ3JvdXAsIHVuaWZvcm1EYXRhKVxuICAgIHtcbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSBncm91cC51bmlmb3JtcztcblxuICAgICAgICBjb25zdCBzdHJpbmdzID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHVuaWZvcm1zKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG5cbiAgICAgICAgICAgIGlmICh1bmlmb3JtRGF0YVtpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2godW5pZm9ybURhdGFbaV0udHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyBHTFNoYWRlIHJvZiB0aGUgY3VycmVudGx5IGJvdW5kIHNoYWRlci5cbiAgICAgKiBUaGlzIGNhbiBiZSBoYW5keSBmb3Igd2hlbiB5b3UgdG8gaGF2ZSBhIGxpdHRsZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgc2V0dGluZyBvZiB5b3VyIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HTFByb2dyYW19IHRoZSBnbFByb2dyYW0gZm9yIHRoZSBjdXJyZW50bHkgYm91bmQgU2hhZGVyIGZvciB0aGlzIGNvbnRleHRcbiAgICAgKi9cbiAgICBnZXRnbFByb2dyYW0oKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIucHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZ2xQcm9ncmFtIHZlcnNpb24gb2YgdGhlIFNoYWRlciBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIHRoZSBzaGFkZXIgdGhhdCB0aGUgZ2xQcm9ncmFtIHdpbGwgYmUgYmFzZWQgb24uXG4gICAgICogQHJldHVybiB7UElYSS5HTFByb2dyYW19IEEgc2hpbnkgbmV3IGdsUHJvZ3JhbSFcbiAgICAgKi9cbiAgICBnZW5lcmF0ZVNoYWRlcihzaGFkZXIpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHNoYWRlci5wcm9ncmFtO1xuXG4gICAgICAgIGNvbnN0IGF0dHJpYk1hcCA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBwcm9ncmFtLmF0dHJpYnV0ZURhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYk1hcFtpXSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtpXS5sb2NhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNoYWRlclByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgcHJvZ3JhbS52ZXJ0ZXhTcmMsIHByb2dyYW0uZnJhZ21lbnRTcmMsIGF0dHJpYk1hcCk7XG4gICAgICAgIGNvbnN0IHVuaWZvcm1EYXRhID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHByb2dyYW0udW5pZm9ybURhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBwcm9ncmFtLnVuaWZvcm1EYXRhW2ldO1xuXG4gICAgICAgICAgICB1bmlmb3JtRGF0YVtpXSA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIGkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUoZGF0YS50eXBlLCBkYXRhLnNpemUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdsUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oc2hhZGVyUHJvZ3JhbSwgdW5pZm9ybURhdGEpO1xuXG4gICAgICAgIHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IGdsUHJvZ3JhbTtcblxuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBTaGFkZXJTeXN0ZW0gc3RhdGUsIGRvZXMgbm90IGFmZmVjdCBXZWJHTCBzdGF0ZVxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIFN5c3RlbSBhbmQgcmVtb3ZlcyBhbGwgaXRzIHRleHR1cmVzXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICAvLyBUT0RPIGltcGxlbWVudCBkZXN0cm95IG1ldGhvZCBmb3IgU2hhZGVyU3lzdGVtXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIGZyb20gJy4vdXRpbHMvbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpJztcbmltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCBTdGF0ZSBmcm9tICcuL1N0YXRlJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuY29uc3QgQkxFTkQgPSAwO1xuY29uc3QgT0ZGU0VUID0gMTtcbmNvbnN0IENVTExJTkcgPSAyO1xuY29uc3QgREVQVEhfVEVTVCA9IDM7XG5jb25zdCBXSU5ESU5HID0gNDtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgV2ViR0wgc3RhdGUgbWFjaGluZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0ZVN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHTCBjb250ZXh0XG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RhdGUgSURcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGVJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvbHlnb24gb2Zmc2V0XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCbGVuZCBtb2RlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT05FXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT05FO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGN1cnJlbnQgYmxlbmQgZXF1YXRpb24gaXMgZGlmZmVyZW50XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JsZW5kRXEgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFwID0gW107XG5cbiAgICAgICAgLy8gbWFwIGZ1bmN0aW9ucyBmb3Igd2hlbiB3ZSBzZXQgc3RhdGUuLlxuICAgICAgICB0aGlzLm1hcFtCTEVORF0gPSB0aGlzLnNldEJsZW5kO1xuICAgICAgICB0aGlzLm1hcFtPRkZTRVRdID0gdGhpcy5zZXRPZmZzZXQ7XG4gICAgICAgIHRoaXMubWFwW0NVTExJTkddID0gdGhpcy5zZXRDdWxsRmFjZTtcbiAgICAgICAgdGhpcy5tYXBbREVQVEhfVEVTVF0gPSB0aGlzLnNldERlcHRoVGVzdDtcbiAgICAgICAgdGhpcy5tYXBbV0lORElOR10gPSB0aGlzLnNldEZyb250RmFjZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjaGVjayBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hlY2tzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgV2ViR0wgU3RhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRTdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICB0aGlzLmRlZmF1bHRTdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVmYXVsdFN0YXRlLmRlcHRoID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb250ZXh0Q2hhbmdlKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlcyA9IG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aShnbCk7XG5cbiAgICAgICAgdGhpcy5zZXQodGhpcy5kZWZhdWx0U3RhdGUpO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldC5cbiAgICAgKi9cbiAgICBzZXQoc3RhdGUpXG4gICAge1xuICAgICAgICBzdGF0ZSA9IHN0YXRlIHx8IHRoaXMuZGVmYXVsdFN0YXRlO1xuXG4gICAgICAgIC8vIFRPRE8gbWF5YmUgdG8gYW4gb2JqZWN0IGNoZWNrPyAoIHRoaXMuc3RhdGUgPT09IHN0YXRlICk/XG4gICAgICAgIGlmICh0aGlzLnN0YXRlSWQgIT09IHN0YXRlLmRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBkaWZmID0gdGhpcy5zdGF0ZUlkIF4gc3RhdGUuZGF0YTtcbiAgICAgICAgICAgIGxldCBpID0gMDtcblxuICAgICAgICAgICAgLy8gb3JkZXIgZnJvbSBsZWFzdCB0byBtb3N0IGNvbW1vblxuICAgICAgICAgICAgd2hpbGUgKGRpZmYpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGRpZmYgJiAxKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhdGUgY2hhbmdlIVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRpZmYgPSBkaWZmID4+IDE7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmFzZWQgb24gdGhlIGFib3ZlIHNldHRpbmdzIHdlIGNoZWNrIGZvciBzcGVjaWZpYyBtb2Rlcy4uXG4gICAgICAgIC8vIGZvciBleGFtcGxlIGlmIGJsZW5kIGlzIGFjdGl2ZSB3ZSBjaGVjayBhbmQgc2V0IHRoZSBibGVuZCBtb2Rlc1xuICAgICAgICAvLyBvciBvZiBwb2x5Z29uIG9mZnNldCBpcyBhY3RpdmUgd2UgY2hlY2sgdGhlIHBvbHkgZGVwdGguXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YXRlLCB3aGVuIHByZXZpb3VzIHN0YXRlIGlzIHVua25vd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0XG4gICAgICovXG4gICAgZm9yY2VTdGF0ZShzdGF0ZSlcbiAgICB7XG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwgdGhpcy5kZWZhdWx0U3RhdGU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tYXAubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWFwW2ldLmNhbGwodGhpcywgISEoc3RhdGUuZGF0YSAmICgxIDw8IGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoZWNrcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja3NbaV0odGhpcywgc3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0ZUlkID0gc3RhdGUuZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIG9yIGRpc2FibGVkIGJsZW5kaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGJsZW5kaW5nLlxuICAgICAqL1xuICAgIHNldEJsZW5kKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSwgdmFsdWUpO1xuXG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5CTEVORCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBwb2x5Z29uIG9mZnNldCB0ZXN0aW5nLlxuICAgICAqL1xuICAgIHNldE9mZnNldCh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hlY2soU3RhdGVTeXN0ZW0uY2hlY2tQb2x5Z29uT2Zmc2V0LCB2YWx1ZSk7XG5cbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLlBPTFlHT05fT0ZGU0VUX0ZJTEwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBkZXB0aCB0ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGRlcHRoIHRlc3RpbmcuXG4gICAgICovXG4gICAgc2V0RGVwdGhUZXN0KHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkRFUFRIX1RFU1QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBjdWxsIGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgY3VsbCBmYWNlLlxuICAgICAqL1xuICAgIHNldEN1bGxGYWNlKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkNVTExfRkFDRSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2wgZnJvbnQgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSB0cnVlIGlzIGNsb2Nrd2lzZSBhbmQgZmFsc2UgaXMgY291bnRlci1jbG9ja3dpc2VcbiAgICAgKi9cbiAgICBzZXRGcm9udEZhY2UodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdsLmZyb250RmFjZSh0aGlzLmdsW3ZhbHVlID8gJ0NXJyA6ICdDQ1cnXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSBibGVuZCBtb2RlIHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBzZXRCbGVuZE1vZGUodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuYmxlbmRNb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IHZhbHVlO1xuXG4gICAgICAgIGNvbnN0IG1vZGUgPSB0aGlzLmJsZW5kTW9kZXNbdmFsdWVdO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMobW9kZVswXSwgbW9kZVsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmNTZXBhcmF0ZShtb2RlWzBdLCBtb2RlWzFdLCBtb2RlWzJdLCBtb2RlWzNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZS5sZW5ndGggPT09IDYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKG1vZGVbNF0sIG1vZGVbNV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2JsZW5kRXEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kRXEgPSBmYWxzZTtcbiAgICAgICAgICAgIGdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShnbC5GVU5DX0FERCwgZ2wuRlVOQ19BREQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9seWdvbiBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSB0aGUgcG9seWdvbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB0aGUgcG9seWdvbiBvZmZzZXQgc2NhbGVcbiAgICAgKi9cbiAgICBzZXRQb2x5Z29uT2Zmc2V0KHZhbHVlLCBzY2FsZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wucG9seWdvbk9mZnNldCh2YWx1ZSwgc2NhbGUpO1xuICAgIH1cblxuICAgIC8vIHVzZWRcbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHRoZSBsb2dpYyBhbmQgZGlzYWJsZXMgdGhlIHZhb3NcbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICB0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZm9yY2VTdGF0ZSgwKTtcblxuICAgICAgICB0aGlzLl9ibGVuZEVxID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSAtMTtcbiAgICAgICAgdGhpcy5zZXRCbGVuZE1vZGUoMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2hlY2tzIHRvIHNlZSB3aGljaCB1cGRhdGVzIHNob3VsZCBiZSBjaGVja2VkIGJhc2VkIG9uIHdoaWNoIHNldHRpbmdzIGhhdmUgYmVlbiBhY3RpdmF0ZWQuXG4gICAgICogRm9yIGV4YW1wbGUsIGlmIGJsZW5kIGlzIGVuYWJsZWQgdGhlbiB3ZSBzaG91bGQgY2hlY2sgdGhlIGJsZW5kIG1vZGVzIGVhY2ggdGltZSB0aGUgc3RhdGUgaXMgY2hhbmdlZFxuICAgICAqIG9yIGlmIHBvbHlnb24gZmlsbCBpcyBhY3RpdmF0ZWQgdGhlbiB3ZSBuZWVkIHRvIGNoZWNrIGlmIHRoZSBwb2x5Z29uIG9mZnNldCBjaGFuZ2VzLlxuICAgICAqIFRoZSBpZGVhIGlzIHRoYXQgd2Ugb25seSBjaGVjayB3aGF0IHdlIGhhdmUgdG9vLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAgdGhlIGNoZWNraW5nIGZ1bmN0aW9uIHRvIGFkZCBvciByZW1vdmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlICBzaG91bGQgdGhlIGNoZWNrIGZ1bmN0aW9uIGJlIGFkZGVkIG9yIHJlbW92ZWQuXG4gICAgICovXG4gICAgdXBkYXRlQ2hlY2soZnVuYywgdmFsdWUpXG4gICAge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY2hlY2tzLmluZGV4T2YoZnVuYyk7XG5cbiAgICAgICAgaWYgKHZhbHVlICYmIGluZGV4ID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja3MucHVzaChmdW5jKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdmFsdWUgJiYgaW5kZXggIT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcml2YXRlIGxpdHRsZSB3cmFwcGVyIGZ1bmN0aW9uIHRoYXQgd2UgY2FsbCB0byBjaGVjayB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZVN5c3RlbX0gU3lzdGVtICB0aGUgU3lzdGVtIHRvIHBlcmZvcm0gdGhlIHN0YXRlIGNoZWNrIG9uXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlfSBzdGF0ZSAgdGhlIHN0YXRlIHRoYXQgdGhlIGJsZW5kTW9kZSB3aWxsIHB1bGxlZCBmcm9tXG4gICAgICovXG4gICAgc3RhdGljIGNoZWNrQmxlbmRNb2RlKHN5c3RlbSwgc3RhdGUpXG4gICAge1xuICAgICAgICBzeXN0ZW0uc2V0QmxlbmRNb2RlKHN0YXRlLmJsZW5kTW9kZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcml2YXRlIGxpdHRsZSB3cmFwcGVyIGZ1bmN0aW9uIHRoYXQgd2UgY2FsbCB0byBjaGVjayB0aGUgcG9seWdvbiBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGVTeXN0ZW19IFN5c3RlbSAgdGhlIFN5c3RlbSB0byBwZXJmb3JtIHRoZSBzdGF0ZSBjaGVjayBvblxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gc3RhdGUgIHRoZSBzdGF0ZSB0aGF0IHRoZSBibGVuZE1vZGUgd2lsbCBwdWxsZWQgZnJvbVxuICAgICAqL1xuICAgIHN0YXRpYyBjaGVja1BvbHlnb25PZmZzZXQoc3lzdGVtLCBzdGF0ZSlcbiAgICB7XG4gICAgICAgIHN5c3RlbS5zZXRQb2x5Z29uT2Zmc2V0KHN0YXRlLnBvbHlnb25PZmZzZXQsIDApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyoqXG4gKiBNYXBzIGdsIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBXZWJHTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyW11bXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge251bWJlcltdW119IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsLCBhcnJheSA9IFtdKVxue1xuICAgIC8vIFRPRE8gLSBwcmVtdWx0aXBseSBhbHBoYSB3b3VsZCBiZSBkaWZmZXJlbnQuXG4gICAgLy8gYWRkIGEgYm9vbGVhbiBmb3IgdGhhdCFcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREXSA9IFtnbC5PTkUsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTVVMVElQTFldID0gW2dsLkRTVF9DT0xPUiwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5PVkVSTEFZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRBUktFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5MSUdIVEVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0RPREdFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TT0ZUX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkhVRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkxVTUlOT1NJVFldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9ORV0gPSBbMCwgMF07XG5cbiAgICAvLyBub3QtcHJlbXVsdGlwbGllZCBibGVuZCBtb2Rlc1xuICAgIGFycmF5W0JMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5BRERfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FLCBnbC5PTkVdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcblxuICAgIC8vIGNvbXBvc2l0ZSBvcGVyYXRpb25zXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0lOXSA9IFtnbC5EU1RfQUxQSEEsIGdsLlpFUk9dO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNSQ19PVVRdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLlpFUk9dO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNSQ19BVE9QXSA9IFtnbC5EU1RfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVkVSXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5PTkVdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9JTl0gPSBbZ2wuWkVSTywgZ2wuU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EU1RfT1VUXSA9IFtnbC5aRVJPLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EU1RfQVRPUF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuU1JDX0FMUEhBXTtcblxuICAgIC8vIFNVQlRSQUNUIGZyb20gZmxhc2hcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TVUJUUkFDVF0gPSBbZ2wuT05FLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5GVU5DX1JFVkVSU0VfU1VCVFJBQ1QsIGdsLkZVTkNfQUREXTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCB7IEdDX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0ZXh0dXJlIGdhcmJhZ2UgY29sbGVjdGlvbiBvbiB0aGUgR1BVLFxuICogZW5zdXJpbmcgdGhhdCBpdCBkb2VzIG5vdCBnZXQgY2xvZ2dlZCB1cCB3aXRoIHRleHR1cmVzIHRoYXQgYXJlIG5vIGxvbmdlciBiZWluZyB1c2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZUdDU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvdW50XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgY291bnRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hlY2tDb3VudCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gaWRsZSB0aW1lLCBpbiBzZWNvbmRzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01BWF9JRExFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heElkbGUgPSBzZXR0aW5ncy5HQ19NQVhfSURMRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBudW1iZXIgb2YgaXRlbSB0byBjaGVja1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NQVhfQ0hFQ0tfQ09VTlRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hlY2tDb3VudE1heCA9IHNldHRpbmdzLkdDX01BWF9DSEVDS19DT1VOVDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBnYXJhYmFnZSBjb2xsZWN0aW9uIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HQ19NT0RFU31cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01PREVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubW9kZSA9IHNldHRpbmdzLkdDX01PREU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkXG4gICAgICogaWYgdGhlIHRleHR1cmUgaGFzIG5vdCBiZWVuIHVzZWQgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFVcbiAgICAgKi9cbiAgICBwb3N0cmVuZGVyKClcbiAgICB7XG4gICAgICAgIHRoaXMuY291bnQrKztcblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSBHQ19NT0RFUy5NQU5VQUwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2hlY2tDb3VudCsrO1xuXG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ291bnQgPiB0aGlzLmNoZWNrQ291bnRNYXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tDb3VudCA9IDA7XG5cbiAgICAgICAgICAgIHRoaXMucnVuKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuICAgIHJ1bigpXG4gICAge1xuICAgICAgICBjb25zdCB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgY29uc3QgbWFuYWdlZFRleHR1cmVzID0gIHRtLm1hbmFnZWRUZXh0dXJlcztcbiAgICAgICAgbGV0IHdhc1JlbW92ZWQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgLy8gb25seSBzdXBwb3J0cyBub24gZ2VuZXJhdGVkIHRleHR1cmVzIGF0IHRoZSBtb21lbnQhXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUuZnJhbWVidWZmZXIgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUudG91Y2hlZCA+IHRoaXMubWF4SWRsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0bS5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHdhc1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdhc1JlbW92ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBqID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKG1hbmFnZWRUZXh0dXJlc1tpXSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tqKytdID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzLmxlbmd0aCA9IGo7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgdGV4dHVyZXMgd2l0aGluIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBhbmQgaXRzIGNoaWxkcmVuIGZyb20gdGhlIEdQVVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdCB0byByZW1vdmUgdGhlIHRleHR1cmVzIGZyb20uXG4gICAgICovXG4gICAgdW5sb2FkKGRpc3BsYXlPYmplY3QpXG4gICAge1xuICAgICAgICBjb25zdCB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZVN5c3RlbTtcblxuICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlc1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5fdGV4dHVyZSAmJiBkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlLl9nbFJlbmRlclRhcmdldHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKGRpc3BsYXlPYmplY3QuX3RleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBJbnRlcm5hbCB0ZXh0dXJlIGZvciBXZWJHTCBjb250ZXh0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdMVGV4dHVyZVxue1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2lkdGggb2YgdGV4dHVyZSB0aGF0IHdhcyB1c2VkIGluIHRleEltYWdlMkRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWlnaHQgb2YgdGV4dHVyZSB0aGF0IHdhcyB1c2VkIGluIHRleEltYWdlMkRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZSBjb250ZW50cyBkaXJ0eSBmbGFnXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0dXJlIHN0eWxlIGRpcnR5IGZsYWdcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBtaXAgbGV2ZWxzIGhhcyB0byBiZSBnZW5lcmF0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWlwbWFwID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyYXBNb2RlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud3JhcE1vZGUgPSAzMzA3MTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHlwZSBjb3BpZWQgZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSA2NDA4O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJuYWxGb3JtYXQgPSA1MTIxO1xuICAgIH1cbn1cbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCBCYXNlVGV4dHVyZSBmcm9tICcuL0Jhc2VUZXh0dXJlJztcbmltcG9ydCBHTFRleHR1cmUgZnJvbSAnLi9HTFRleHR1cmUnO1xuaW1wb3J0IHsgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBNSVBNQVBfTU9ERVMsIFdSQVBfTU9ERVMsIFNDQUxFX01PREVTLCBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRleHR1cmVzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZVN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIFRPRE8gc2V0IHRvIG1heCB0ZXh0dXJlcy4uLlxuICAgICAgICAvKipcbiAgICAgICAgICogQm91bmQgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBsb2NhdGlvblxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBtYW5hZ2VkIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hbmFnZWRUZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgc29tZW9uZSB0ZW1wZXIgd2l0aCB0ZXh0dXJlcyBzdGF0ZT8gV2UnbGwgb3ZlcndyaXRlIHRoZW0gd2hlbiB3ZSBuZWVkIHRvIHVuYmluZCBzb21ldGhpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXNlVGV4dHVyZSB2YWx1ZSB0aGF0IHNob3dzIHRoYXQgd2UgZG9uJ3Qga25vdyB3aGF0IGlzIGJvdW5kXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmtub3duVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIGNvbnRleHRDaGFuZ2UoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcblxuICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb247XG5cbiAgICAgICAgY29uc3QgbWF4VGV4dHVyZXMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO1xuXG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGggPSBtYXhUZXh0dXJlcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcy4uIHRvIGEgbmljZSBtYWtlIGVtcHR5IHRleHR1cmVzIGNsYXNzLi5cbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzID0ge307XG5cbiAgICAgICAgY29uc3QgZW1wdHlUZXh0dXJlMkQgPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZW1wdHlUZXh0dXJlMkQudGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbmV3IFVpbnQ4QXJyYXkoNCkpO1xuXG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFXzJEXSA9IGVtcHR5VGV4dHVyZTJEO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0gPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdLnRleHR1cmUpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGksIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIGEgdGV4dHVyZSB0byBhIHNwZWNpZmljIGxvY2F0aW9uXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2FudCB0byB1bmJpbmQgc29tZXRoaW5nLCBwbGVhc2UgdXNlIGB1bmJpbmQodGV4dHVyZSlgIGluc3RlYWQgb2YgYGJpbmQobnVsbCwgdGV4dHVyZUxvY2F0aW9uKWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfFBJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGJpbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvY2F0aW9uPTBdIC0gTG9jYXRpb24gdG8gYmluZCBhdFxuICAgICAqL1xuICAgIGJpbmQodGV4dHVyZSwgbG9jYXRpb24gPSAwKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcblxuICAgICAgICBpZiAodGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50b3VjaGVkID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdIHx8IHRoaXMuaW5pdFRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSAhPT0gdGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkICE9PSB0ZXh0dXJlLmRpcnR5SWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUodGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IHRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdLnRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGV4dHVyZSBsb2NhdGlvbiBhbmQgYm91bmQgdGV4dHVyZXNcbiAgICAgKlxuICAgICAqIEFjdHVhbCBgYmluZChudWxsLCBpKWAgY2FsbHMgd2lsbCBiZSBwZXJmb3JtZWQgYXQgbmV4dCBgdW5iaW5kKClgIGNhbGxcbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMudW5rbm93blRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmQgYSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV8UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqL1xuICAgIHVuYmluZCh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCwgYm91bmRUZXh0dXJlcyB9ID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBzb21lb25lIGNoYW5nZWQgd2ViR0wgc3RhdGUsXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIHRvIGJlIHN1cmUgdGhhdCBvdXIgdGV4dHVyZSBkb2VzIG5vdCBhcHBlYXIgaW4gbXVsdGktdGV4dHVyZSByZW5kZXJlciBzYW1wbGVyc1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChib3VuZFRleHR1cmVzW2ldID09PSB0aGlzLnVua25vd25UZXh0dXJlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kKG51bGwsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5lbXB0eVRleHR1cmVzW3RleHR1cmUudGFyZ2V0XS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gaW5pdGlhbGl6ZVxuICAgICAqL1xuICAgIGluaXRUZXh0dXJlKHRleHR1cmUpXG4gICAge1xuICAgICAgICBjb25zdCBnbFRleHR1cmUgPSBuZXcgR0xUZXh0dXJlKHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpKTtcblxuICAgICAgICAvLyBndWFyYW50ZWUgYW4gdXBkYXRlLi5cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5SWQgPSAtMTtcblxuICAgICAgICB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdID0gZ2xUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMubWFuYWdlZFRleHR1cmVzLnB1c2godGV4dHVyZSk7XG4gICAgICAgIHRleHR1cmUub24oJ2Rpc3Bvc2UnLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcblxuICAgICAgICByZXR1cm4gZ2xUZXh0dXJlO1xuICAgIH1cblxuICAgIGluaXRUZXh0dXJlVHlwZSh0ZXh0dXJlLCBnbFRleHR1cmUpXG4gICAge1xuICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSB0ZXh0dXJlLmZvcm1hdDtcbiAgICAgICAgZ2xUZXh0dXJlLnR5cGUgPSB0ZXh0dXJlLnR5cGU7XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiAhPT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAodGV4dHVyZS50eXBlID09PSBnbC5GTE9BVFxuICAgICAgICAgICAgJiYgdGV4dHVyZS5mb3JtYXQgPT09IGdsLlJHQkEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkEzMkY7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhhdCdzIFdlYkdMMSBIQUxGX0ZMT0FUX09FU1xuICAgICAgICAvLyB3ZSBoYXZlIHRvIGNvbnZlcnQgaXQgdG8gV2ViR0wgSEFMRl9GTE9BVFxuICAgICAgICBpZiAodGV4dHVyZS50eXBlID09PSBUWVBFUy5IQUxGX0ZMT0FUKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUudHlwZSA9IGdsLkhBTEZfRkxPQVQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsVGV4dHVyZS50eXBlID09PSBnbC5IQUxGX0ZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTE2RjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBpbml0aWFsaXplXG4gICAgICovXG4gICAgdXBkYXRlVGV4dHVyZSh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHRoaXMuaW5pdFRleHR1cmVUeXBlKHRleHR1cmUsIGdsVGV4dHVyZSk7XG5cbiAgICAgICAgaWYgKHRleHR1cmUucmVzb3VyY2UgJiYgdGV4dHVyZS5yZXNvdXJjZS51cGxvYWQocmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRleHR1cmUgaXMgdXBsb2FkZWQsIGRvbnQgZG8gYW55dGhpbmchXG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0LCByZW5kZXJUZXh0dXJlLWxpa2UgbG9naWNcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0ZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoICE9PSB3aWR0aFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5oZWlnaHQgIT09IGhlaWdodFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5kaXJ0eUlkIDwgMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRCh0ZXh0dXJlLnRhcmdldCwgMCxcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBvbmx5IHVwZGF0ZSB3aGF0IGNoYW5nZXMuLlxuICAgICAgICBpZiAodGV4dHVyZS5kaXJ0eVN0eWxlSWQgIT09IGdsVGV4dHVyZS5kaXJ0eVN0eWxlSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZVN0eWxlKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGdsVGV4dHVyZS5kaXJ0eUlkID0gdGV4dHVyZS5kaXJ0eUlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gZGVzdHJveVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBSZW1vdmU9ZmFsc2VdIC0gV2hldGhlciB0byBza2lwIHJlbW92aW5nIHRoZSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVNYW5hZ2VyLlxuICAgICAqL1xuICAgIGRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHNraXBSZW1vdmUpXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlIHx8IHRleHR1cmU7XG5cbiAgICAgICAgaWYgKHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5iaW5kKHRleHR1cmUpO1xuXG4gICAgICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuXG4gICAgICAgICAgICBkZWxldGUgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAgICAgaWYgKCFza2lwUmVtb3ZlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLm1hbmFnZWRUZXh0dXJlcy5pbmRleE9mKHRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0ZXh0dXJlIHN0eWxlIHN1Y2ggYXMgbWlwbWFwIGZsYWdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVUZXh0dXJlU3R5bGUodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFnbFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgodGV4dHVyZS5taXBtYXAgPT09IE1JUE1BUF9NT0RFUy5QT1cyIHx8IHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKSAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSAwO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSB0ZXh0dXJlLm1pcG1hcCA+PSAxO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gdGV4dHVyZS53cmFwTW9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2Uuc3R5bGUodGhpcy5yZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gc3R5bGUgaXMgc2V0LCBkb250IGRvIGFueXRoaW5nIVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zZXRTdHlsZSh0ZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZCA9IHRleHR1cmUuZGlydHlTdHlsZUlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBzdHlsZSBmb3IgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqL1xuICAgIHNldFN0eWxlKHRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLm1pcG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZ2VuZXJhdGVNaXBtYXAodGV4dHVyZS50YXJnZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsVGV4dHVyZS53cmFwTW9kZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbFRleHR1cmUud3JhcE1vZGUpO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID8gZ2wuTElORUFSX01JUE1BUF9MSU5FQVIgOiBnbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgY29uc3QgYW5pc290cm9waWNFeHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5hbmlzb3Ryb3BpY0ZpbHRlcmluZztcblxuICAgICAgICAgICAgaWYgKGFuaXNvdHJvcGljRXh0ICYmIHRleHR1cmUuYW5pc290cm9waWNMZXZlbCA+IDAgJiYgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZXZlbCA9IE1hdGgubWluKHRleHR1cmUuYW5pc290cm9waWNMZXZlbCwgZ2wuZ2V0UGFyYW1ldGVyKGFuaXNvdHJvcGljRXh0Lk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCkpO1xuXG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyZih0ZXh0dXJlLnRhcmdldCwgYW5pc290cm9waWNFeHQuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsIGxldmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBoZXgyc3RyaW5nLCBoZXgycmdiLCBkZXByZWNhdGlvbiwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgTWF0cml4LCBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFJFTkRFUkVSX1RZUEUgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCBSZW5kZXJUZXh0dXJlIGZyb20gJy4vcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlJztcblxuY29uc3QgdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuLyoqXG4gKiBUaGUgQWJzdHJhY3RSZW5kZXJlciBpcyB0aGUgYmFzZSBmb3IgYSBQaXhpSlMgUmVuZGVyZXIuIEl0IGlzIGV4dGVuZGVkIGJ5IHRoZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn1cbiAqIGFuZCB7QGxpbmsgUElYSS5SZW5kZXJlcn0gd2hpY2ggY2FuIGJlIHVzZWQgZm9yIHJlbmRlcmluZyBhIFBpeGlKUyBzY2VuZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFic3RyYWN0UmVuZGVyZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3lzdGVtIC0gVGhlIG5hbWUgb2YgdGhlIHN5c3RlbSB0aGlzIHJlbmRlcmVyIGlzIGZvci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSBUaGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gICAgICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDEuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gU2V0cyBhbnRpYWxpYXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci4gVGhlXG4gICAgICogIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlcmVyIHJldGluYSB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICAgKiAgICAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHN5c3RlbSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBzZXR0aW5ncy5SRU5ERVJfT1BUSU9OUywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gRGVwcmVjYXRpb24gbm90aWNlIGZvciByZW5kZXJlciByb3VuZFBpeGVscyBvcHRpb25cbiAgICAgICAgaWYgKG9wdGlvbnMucm91bmRQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNldHRpbmdzLlJPVU5EX1BJWEVMUyA9IG9wdGlvbnMucm91bmRQaXhlbHM7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4wLjAnLCAnUmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFMnLCAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3VwcGxpZWQgY29uc3RydWN0b3Igb3B0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlJFTkRFUkVSX1RZUEUuVU5LTk9XTlxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNZWFzdXJlbWVudHMgb2YgdGhlIHNjcmVlbi4gKDAsIDAsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdHMgc2FmZSB0byB1c2UgYXMgZmlsdGVyQXJlYSBvciBoaXRBcmVhIGZvciB0aGUgd2hvbGUgc3RhZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY3JlZW4gPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpZXcgPSBvcHRpb25zLnZpZXcgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyYW5zcGFyZW50ID0gb3B0aW9ucy50cmFuc3BhcmVudDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBDU1MgZGltZW5zaW9ucyBvZiBjYW52YXMgdmlldyBzaG91bGQgYmUgcmVzaXplZCB0byBzY3JlZW4gZGltZW5zaW9ucyBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvRGVuc2l0eSA9IG9wdGlvbnMuYXV0b0RlbnNpdHkgfHwgb3B0aW9ucy5hdXRvUmVzaXplIHx8IGZhbHNlO1xuICAgICAgICAvLyBhdXRvUmVzaXplIGlzIGRlcHJlY2F0ZWQsIHByb3ZpZGVzIGZhbGxiYWNrIHN1cHBvcnRcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoZSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgZmxhZyBhZmZlY3RzIHdoZXRoZXIgb3Igbm90IHRoZSBjb250ZW50cyBvZlxuICAgICAgICAgKiB0aGUgc3RlbmNpbCBidWZmZXIgaXMgcmV0YWluZWQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzZXRzIGlmIHRoZSBDYW52YXNSZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAgICAgKiBJZiB0aGUgc2NlbmUgaXMgTk9UIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBhIGNhbnZhcyBzaXplZCBmaWxsUmVjdCBvcGVyYXRpb24gZXZlcnlcbiAgICAgICAgICogZnJhbWUgdG8gc2V0IHRoZSBjYW52YXMgYmFja2dyb3VuZCBjb2xvci4gSWYgdGhlIHNjZW5lIGlzIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBjbGVhclJlY3RcbiAgICAgICAgICogdG8gY2xlYXIgdGhlIGNhbnZhcyBldmVyeSBmcmFtZS4gRGlzYWJsZSB0aGlzIGJ5IHNldHRpbmcgdGhpcyB0byBmYWxzZS4gRm9yIGV4YW1wbGUsIGlmXG4gICAgICAgICAqIHlvdXIgZ2FtZSBoYXMgYSBjYW52YXMgZmlsbGluZyBiYWNrZ3JvdW5kIGltYWdlIHlvdSBvZnRlbiBkb24ndCBuZWVkIHRoaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IG9wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgbnVtYmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IDB4MDAwMDAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIHN0cmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSAnIzAwMDAwMCc7XG5cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7IC8vIHJ1biBiZyBjb2xvciBzZXR0ZXJcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB0ZW1wb3JhcnkgZGlzcGxheSBvYmplY3QgdXNlZCBhcyB0aGUgcGFyZW50IG9mIHRoZSBjdXJyZW50bHkgYmVpbmcgcmVuZGVyZWQgaXRlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBDb250YWluZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3Qgcm9vdCBvYmplY3QgdGhhdCB0aGUgcmVuZGVyZXIgdHJpZWQgdG8gcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHBsdWdpbnMuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsdWdpbnMgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0aWNNYXAgLSBUaGUgZGljdGlvbmFyeSBvZiBzdGF0aWNhbGx5IHNhdmVkIHBsdWdpbnMuXG4gICAgICovXG4gICAgaW5pdFBsdWdpbnMoc3RhdGljTWFwKVxuICAgIHtcbiAgICAgICAgZm9yIChjb25zdCBvIGluIHN0YXRpY01hcClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbmV3IChzdGF0aWNNYXBbb10pKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB2aWV3LndpZHRoLCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IGhvcml6b250YWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgODAwXG4gICAgICovXG4gICAgZ2V0IHdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcud2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB2aWV3LmhlaWdodCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSB2ZXJ0aWNhbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIHNjcmVlbiBhbmQgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKiBDYW52YXMgZGltZW5zaW9ucyBhcmUgbXVsdGlwbGllZCBieSByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqL1xuICAgIHJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5zY3JlZW4ud2lkdGggPSBzY3JlZW5XaWR0aDtcbiAgICAgICAgdGhpcy5zY3JlZW4uaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudmlldy53aWR0aCA9IHNjcmVlbldpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnZpZXcuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmICh0aGlzLmF1dG9EZW5zaXR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUud2lkdGggPSBgJHtzY3JlZW5XaWR0aH1weGA7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0ID0gYCR7c2NyZWVuSGVpZ2h0fXB4YDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWZ1bCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0ZXh0dXJlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGNhbiB0aGVuIGJlIHVzZWQgdG8gY3JlYXRlIHNwcml0ZXNcbiAgICAgKiBUaGlzIGNhbiBiZSBxdWl0ZSB1c2VmdWwgaWYgeW91ciBkaXNwbGF5T2JqZWN0IGlzIGNvbXBsaWNhdGVkIGFuZCBuZWVkcyB0byBiZSByZXVzZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5T2JqZWN0IHRoZSBvYmplY3Qgd2lsbCBiZSBnZW5lcmF0ZWQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gU2hvdWxkIGJlIG9uZSBvZiB0aGUgc2NhbGVNb2RlIGNvbnN0cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVnaW9uXSAtIFRoZSByZWdpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QsIHRoYXQgc2hhbGwgYmUgcmVuZGVyZWQsXG4gICAgICogICAgICAgIGlmIG5vIHJlZ2lvbiBpcyBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBBIHRleHR1cmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZW5lcmF0ZVRleHR1cmUoZGlzcGxheU9iamVjdCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uLCByZWdpb24pXG4gICAge1xuICAgICAgICByZWdpb24gPSByZWdpb24gfHwgZGlzcGxheU9iamVjdC5nZXRMb2NhbEJvdW5kcygpO1xuXG4gICAgICAgIC8vIG1pbmltdW0gdGV4dHVyZSBzaXplIGlzIDF4MSwgMHgwIHdpbGwgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgaWYgKHJlZ2lvbi53aWR0aCA9PT0gMCkgcmVnaW9uLndpZHRoID0gMTtcbiAgICAgICAgaWYgKHJlZ2lvbi5oZWlnaHQgPT09IDApIHJlZ2lvbi5oZWlnaHQgPSAxO1xuXG4gICAgICAgIGNvbnN0IHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZShyZWdpb24ud2lkdGggfCAwLCByZWdpb24uaGVpZ2h0IHwgMCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcblxuICAgICAgICB0ZW1wTWF0cml4LnR4ID0gLXJlZ2lvbi54O1xuICAgICAgICB0ZW1wTWF0cml4LnR5ID0gLXJlZ2lvbi55O1xuXG4gICAgICAgIHRoaXMucmVuZGVyKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUsIGZhbHNlLCB0ZW1wTWF0cml4LCAhIWRpc3BsYXlPYmplY3QucGFyZW50KTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyVGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgZGVzdHJveShyZW1vdmVWaWV3KVxuICAgIHtcbiAgICAgICAgZm9yIChjb25zdCBvIGluIHRoaXMucGx1Z2lucylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLnZpZXcucGFyZW50Tm9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy50eXBlID0gUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuXG4gICAgICAgIHRoaXMudmlldyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zY3JlZW4gPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDA7XG5cbiAgICAgICAgdGhpcy50cmFuc3BhcmVudCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IDA7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBiYWNrZ3JvdW5kQ29sb3IoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvcjtcbiAgICB9XG5cbiAgICBzZXQgYmFja2dyb3VuZENvbG9yKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBoZXgyc3RyaW5nKHZhbHVlKTtcbiAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IEFic3RyYWN0UmVuZGVyZXIgZnJvbSAnLi9BYnN0cmFjdFJlbmRlcmVyJztcbmltcG9ydCB7IHNheUhlbGxvLCBpc1dlYkdMU3VwcG9ydGVkIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IE1hc2tTeXN0ZW0gZnJvbSAnLi9tYXNrL01hc2tTeXN0ZW0nO1xuaW1wb3J0IFN0ZW5jaWxTeXN0ZW0gZnJvbSAnLi9tYXNrL1N0ZW5jaWxTeXN0ZW0nO1xuaW1wb3J0IEZpbHRlclN5c3RlbSBmcm9tICcuL2ZpbHRlcnMvRmlsdGVyU3lzdGVtJztcbmltcG9ydCBGcmFtZWJ1ZmZlclN5c3RlbSBmcm9tICcuL2ZyYW1lYnVmZmVyL0ZyYW1lYnVmZmVyU3lzdGVtJztcbmltcG9ydCBSZW5kZXJUZXh0dXJlU3lzdGVtIGZyb20gJy4vcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlU3lzdGVtJztcbmltcG9ydCBUZXh0dXJlU3lzdGVtIGZyb20gJy4vdGV4dHVyZXMvVGV4dHVyZVN5c3RlbSc7XG5pbXBvcnQgUHJvamVjdGlvblN5c3RlbSBmcm9tICcuL3Byb2plY3Rpb24vUHJvamVjdGlvblN5c3RlbSc7XG5pbXBvcnQgU3RhdGVTeXN0ZW0gZnJvbSAnLi9zdGF0ZS9TdGF0ZVN5c3RlbSc7XG5pbXBvcnQgR2VvbWV0cnlTeXN0ZW0gZnJvbSAnLi9nZW9tZXRyeS9HZW9tZXRyeVN5c3RlbSc7XG5pbXBvcnQgU2hhZGVyU3lzdGVtIGZyb20gJy4vc2hhZGVyL1NoYWRlclN5c3RlbSc7XG5pbXBvcnQgQ29udGV4dFN5c3RlbSBmcm9tICcuL2NvbnRleHQvQ29udGV4dFN5c3RlbSc7XG5pbXBvcnQgQmF0Y2hTeXN0ZW0gZnJvbSAnLi9iYXRjaC9CYXRjaFN5c3RlbSc7XG5pbXBvcnQgVGV4dHVyZUdDU3lzdGVtIGZyb20gJy4vdGV4dHVyZXMvVGV4dHVyZUdDU3lzdGVtJztcbmltcG9ydCB7IFJFTkRFUkVSX1RZUEUgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IFVuaWZvcm1Hcm91cCBmcm9tICcuL3NoYWRlci9Vbmlmb3JtR3JvdXAnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuXG4vKipcbiAqIFRoZSBSZW5kZXJlciBkcmF3cyB0aGUgc2NlbmUgYW5kIGFsbCBpdHMgY29udGVudCBvbnRvIGEgV2ViR0wgZW5hYmxlZCBjYW52YXMuXG4gKlxuICogVGhpcyByZW5kZXJlciBzaG91bGQgYmUgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IFdlYkdMLlxuICpcbiAqIFRoaXMgcmVuZGVyZXIgd29ya3MgYnkgYXV0b21hdGljYWxseSBtYW5hZ2luZyBXZWJHTEJhdGNoZXNtLCBzbyBubyBuZWVkIGZvciBTcHJpdGUgQmF0Y2hlcyBvciBTcHJpdGUgQ2xvdWRzLlxuICogRG9uJ3QgZm9yZ2V0IHRvIGFkZCB0aGUgdmlldyB0byB5b3VyIERPTSBvciB5b3Ugd2lsbCBub3Qgc2VlIGFueXRoaW5nIVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuQWJzdHJhY3RSZW5kZXJlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciBleHRlbmRzIEFic3RyYWN0UmVuZGVyZXJcbntcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcmVuZGVyZXIgaWYgV2ViR0wgaXMgYXZhaWxhYmxlLiBPdmVycmlkZWFibGVcbiAgICAgKiBieSB0aGUgKipAcGl4aS9jYW52YXMtcmVuZGVyZXIqKiBwYWNrYWdlIHRvIGFsbG93IGZhbGxiYWNrLlxuICAgICAqIHRocm93cyBlcnJvciBpZiBXZWJHTCBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmIChpc1dlYkdMU3VwcG9ydGVkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYkdMIHVuc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciwgdXNlIFwicGl4aS5qcy1sZWdhY3lcIiBmb3IgZmFsbGJhY2sgY2FudmFzMmQgc3VwcG9ydC4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSBUaGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gICAgICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDEuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gU2V0cyBhbnRpYWxpYXMuIElmIG5vdCBhdmFpbGFibGUgbmF0aXZlbHkgdGhlbiBGWEFBXG4gICAgICogIGFudGlhbGlhc2luZyBpcyB1c2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VGWEFBPWZhbHNlXSAtIEZvcmNlcyBGWEFBIGFudGlhbGlhc2luZyB0byBiZSB1c2VkIG92ZXIgbmF0aXZlLlxuICAgICAqICBGWEFBIGlzIGZhc3RlciwgYnV0IG1heSBub3QgYWx3YXlzIGxvb2sgYXMgZ3JlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICogIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyXG4gICAgICogIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLiBJZiB5b3Ugd2lzaCB0byBzZXQgdGhpcyB0byBmYWxzZSwgeW91ICptdXN0KiBzZXRcbiAgICAgKiAgcHJlc2VydmVEcmF3aW5nQnVmZmVyIHRvIGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBFbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIFdlYkdMIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gV2ViR0wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gICAgICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5jb250ZXh0XSBJZiBXZWJHTCBjb250ZXh0IGFscmVhZHkgZXhpc3RzLCBhbGwgcGFyYW1ldGVycyBtdXN0IGJlIHRha2VuIGZyb20gaXQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KVxuICAgIHtcbiAgICAgICAgc3VwZXIoJ1dlYkdMJywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gdGhlIG9wdGlvbnMgd2lsbCBoYXZlIGJlZW4gbW9kaWZpZWQgaGVyZSBpbiB0aGUgc3VwZXIgY29uc3RydWN0b3Igd2l0aCBwaXhpJ3MgZGVmYXVsdCBzZXR0aW5ncy4uXG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoaXMgcmVuZGVyZXIgYXMgYSBzdGFuZGFyZGl6ZWQgY29uc3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gUkVOREVSRVJfVFlQRS5XRUJHTDtcblxuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgc2V0IGJ5IHRoZSBjb250ZXh0U3lzdGVtICh0aGlzLmNvbnRleHQpXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gMDtcblxuICAgICAgICAvLyBUT0RPIGxlZ2FjeSFcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgc2lnbmFsIGluc3RhbmNlcyBvZiAqKnJ1bm5lcioqLCB0aGVzZVxuICAgICAgICAgKiBhcmUgYXNzaWduZWQgdG8gZWFjaCBzeXN0ZW0gY3JlYXRlZC5cbiAgICAgICAgICogQHNlZSBQSVhJLlJ1bm5lclxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlcmVyI3J1bm5lcnNcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IGRlc3Ryb3kgLSBEZXN0cm95IHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBjb250ZXh0Q2hhbmdlIC0gQ29udGV4dCBjaGFuZ2UgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHJlc2V0IC0gUmVzZXQgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHVwZGF0ZSAtIFVwZGF0ZSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcG9zdHJlbmRlciAtIFBvc3QtcmVuZGVyIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBwcmVyZW5kZXIgLSBQcmUtcmVuZGVyIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSByZXNpemUgLSBSZXNpemUgcnVubmVyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJ1bm5lcnMgPSB7XG4gICAgICAgICAgICBkZXN0cm95OiBuZXcgUnVubmVyKCdkZXN0cm95JyksXG4gICAgICAgICAgICBjb250ZXh0Q2hhbmdlOiBuZXcgUnVubmVyKCdjb250ZXh0Q2hhbmdlJywgMSksXG4gICAgICAgICAgICByZXNldDogbmV3IFJ1bm5lcigncmVzZXQnKSxcbiAgICAgICAgICAgIHVwZGF0ZTogbmV3IFJ1bm5lcigndXBkYXRlJyksXG4gICAgICAgICAgICBwb3N0cmVuZGVyOiBuZXcgUnVubmVyKCdwb3N0cmVuZGVyJyksXG4gICAgICAgICAgICBwcmVyZW5kZXI6IG5ldyBSdW5uZXIoJ3ByZXJlbmRlcicpLFxuICAgICAgICAgICAgcmVzaXplOiBuZXcgUnVubmVyKCdyZXNpemUnLCAyKSxcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2xvYmFsIHVuaWZvcm1zXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVW5pZm9ybUdyb3VwfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLk1hc2tTeXN0ZW19IG1hc2tcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hZGRTeXN0ZW0oTWFza1N5c3RlbSwgJ21hc2snKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb250ZXh0IHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkNvbnRleHRTeXN0ZW19IGNvbnRleHRcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oQ29udGV4dFN5c3RlbSwgJ2NvbnRleHQnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGF0ZSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbX0gc3RhdGVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU3RhdGVTeXN0ZW0sICdzdGF0ZScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNoYWRlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5TaGFkZXJTeXN0ZW19IHNoYWRlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTaGFkZXJTeXN0ZW0sICdzaGFkZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0dXJlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVTeXN0ZW19IHRleHR1cmVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oVGV4dHVyZVN5c3RlbSwgJ3RleHR1cmUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHZW9tZXRyeSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5HZW9tZXRyeVN5c3RlbX0gZ2VvbWV0cnlcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oR2VvbWV0cnlTeXN0ZW0sICdnZW9tZXRyeScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZyYW1lYnVmZmVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkZyYW1lYnVmZmVyU3lzdGVtfSBmcmFtZWJ1ZmZlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShGcmFtZWJ1ZmZlclN5c3RlbSwgJ2ZyYW1lYnVmZmVyJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RlbmNpbCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5TdGVuY2lsU3lzdGVtfSBzdGVuY2lsXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFN0ZW5jaWxTeXN0ZW0sICdzdGVuY2lsJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUHJvamVjdGlvbiBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5Qcm9qZWN0aW9uU3lzdGVtfSBwcm9qZWN0aW9uXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFByb2plY3Rpb25TeXN0ZW0sICdwcm9qZWN0aW9uJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGV4dHVyZSBnYXJiYWdlIGNvbGxlY3RvciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5UZXh0dXJlR0NTeXN0ZW19IHRleHR1cmVHQ1xuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShUZXh0dXJlR0NTeXN0ZW0sICd0ZXh0dXJlR0MnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGaWx0ZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oRmlsdGVyU3lzdGVtLCAnZmlsdGVyJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVuZGVyVGV4dHVyZSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5SZW5kZXJUZXh0dXJlU3lzdGVtfSByZW5kZXJUZXh0dXJlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFJlbmRlclRleHR1cmVTeXN0ZW0sICdyZW5kZXJUZXh0dXJlJylcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCYXRjaCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5CYXRjaFN5c3RlbX0gYmF0Y2hcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oQmF0Y2hTeXN0ZW0sICdiYXRjaCcpO1xuXG4gICAgICAgIHRoaXMuaW5pdFBsdWdpbnMoUmVuZGVyZXIuX19wbHVnaW5zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wdGlvbnMgcGFzc2VkIGluIHRvIGNyZWF0ZSBhIG5ldyBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG9wdGlvbnMuY29udGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmluaXRGcm9tQ29udGV4dChvcHRpb25zLmNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmluaXRGcm9tT3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgYWxwaGE6IHRoaXMudHJhbnNwYXJlbnQsXG4gICAgICAgICAgICAgICAgYW50aWFsaWFzOiBvcHRpb25zLmFudGlhbGlhcyxcbiAgICAgICAgICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IHRoaXMudHJhbnNwYXJlbnQgJiYgdGhpcy50cmFuc3BhcmVudCAhPT0gJ25vdE11bHRpcGxpZWQnLFxuICAgICAgICAgICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgICAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcixcbiAgICAgICAgICAgICAgICBwb3dlclByZWZlcmVuY2U6IHRoaXMub3B0aW9ucy5wb3dlclByZWZlcmVuY2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIGlmIHdlIGFyZSByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiB2cyByZW5kZXJUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gdHJ1ZTtcblxuICAgICAgICBzYXlIZWxsbyh0aGlzLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyID8gJ1dlYkdMIDInIDogJ1dlYkdMIDEnKTtcblxuICAgICAgICB0aGlzLnJlc2l6ZSh0aGlzLm9wdGlvbnMud2lkdGgsIHRoaXMub3B0aW9ucy5oZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIG5ldyBzeXN0ZW0gdG8gdGhlIHJlbmRlcmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IENsYXNzUmVmIC0gQ2xhc3MgcmVmZXJlbmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAtIFByb3BlcnR5IG5hbWUgZm9yIHN5c3RlbSwgaWYgbm90IHNwZWNpZmllZFxuICAgICAqICAgICAgICB3aWxsIHVzZSBhIHN0YXRpYyBgbmFtZWAgcHJvcGVydHkgb24gdGhlIGNsYXNzIGl0c2VsZi4gVGhpc1xuICAgICAqICAgICAgICBuYW1lIHdpbGwgYmUgYXNzaWduZWQgYXMgcyBwcm9wZXJ0eSBvbiB0aGUgUmVuZGVyZXIgc28gbWFrZVxuICAgICAqICAgICAgICBzdXJlIGl0IGRvZXNuJ3QgY29sbGlkZSB3aXRoIHByb3BlcnRpZXMgb24gUmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJuIGluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgYWRkU3lzdGVtKENsYXNzUmVmLCBuYW1lKVxuICAgIHtcbiAgICAgICAgaWYgKCFuYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lID0gQ2xhc3NSZWYubmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN5c3RlbSA9IG5ldyBDbGFzc1JlZih0aGlzKTtcblxuICAgICAgICBpZiAodGhpc1tuYW1lXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBXaG9vcHMhIFRoZSBuYW1lIFwiJHtuYW1lfVwiIGlzIGFscmVhZHkgaW4gdXNlYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzW25hbWVdID0gc3lzdGVtO1xuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnJ1bm5lcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucnVubmVyc1tpXS5hZGQoc3lzdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciByZW5kZXJpbmcgZmluaXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3Bvc3RyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcgc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNjb250ZXh0XG4gICAgICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFdlYkdMIGNvbnRleHQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB0byBpdHMgV2ViR0wgdmlld1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgb2JqZWN0IHRvIGJlIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbcmVuZGVyVGV4dHVyZV0gLSBUaGUgcmVuZGVyIHRleHR1cmUgdG8gcmVuZGVyIHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NsZWFyPXRydWVdIC0gU2hvdWxkIHRoZSBjYW52YXMgYmUgY2xlYXJlZCBiZWZvcmUgdGhlIG5ldyByZW5kZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW3RyYW5zZm9ybV0gLSBBIHRyYW5zZm9ybSB0byBhcHBseSB0byB0aGUgcmVuZGVyIHRleHR1cmUgYmVmb3JlIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlVHJhbnNmb3JtPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtIHBhc3M/XG4gICAgICovXG4gICAgcmVuZGVyKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUsIGNsZWFyLCB0cmFuc2Zvcm0sIHNraXBVcGRhdGVUcmFuc2Zvcm0pXG4gICAge1xuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMucnVubmVycy5wcmVyZW5kZXIucnVuKCk7XG4gICAgICAgIHRoaXMuZW1pdCgncHJlcmVuZGVyJyk7XG5cbiAgICAgICAgLy8gYXBwbHkgYSB0cmFuc2Zvcm0gYXQgYSBHUFUgbGV2ZWxcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcblxuICAgICAgICAvLyBubyBwb2ludCByZW5kZXJpbmcgaWYgb3VyIGNvbnRleHQgaGFzIGJlZW4gYmxvd24gdXAhXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuaXNMb3N0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBVcGRhdGVUcmFuc2Zvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgc2NlbmUgZ3JhcGhcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlUGFyZW50ID0gZGlzcGxheU9iamVjdC5wYXJlbnQ7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSBjYWNoZVBhcmVudDtcbiAgICAgICAgICAgIC8vIGRpc3BsYXlPYmplY3QuaGl0QXJlYSA9IC8vVE9ETyBhZGQgYSB0ZW1wIGhpdCBhcmVhXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5iYXRjaC5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcblxuICAgICAgICBpZiAoY2xlYXIgIT09IHVuZGVmaW5lZCA/IGNsZWFyIDogdGhpcy5jbGVhckJlZm9yZVJlbmRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcih0aGlzKTtcblxuICAgICAgICAvLyBhcHBseSB0cmFuc2Zvcm0uLlxuICAgICAgICB0aGlzLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ydW5uZXJzLnBvc3RyZW5kZXIucnVuKCk7XG5cbiAgICAgICAgLy8gcmVzZXQgdHJhbnNmb3JtIGFmdGVyIHJlbmRlclxuICAgICAgICB0aGlzLnByb2plY3Rpb24udHJhbnNmb3JtID0gbnVsbDtcblxuICAgICAgICB0aGlzLmVtaXQoJ3Bvc3RyZW5kZXInKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBXZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICByZXNpemUoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodClcbiAgICB7XG4gICAgICAgIHN1cGVyLnJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzaXplLnJ1bihzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIFdlYkdMIHN0YXRlIHNvIHlvdSBjYW4gcmVuZGVyIHRoaW5ncyBob3dldmVyIHlvdSBmYW5jeSFcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMucnVubmVycy5yZXNldC5ydW4oKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgY2xlYXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5iaW5kKCk7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgKGV2ZW50IGxpc3RlbmVycywgc3ByaXRlYmF0Y2gsIGV0Yy4uLilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqICBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvMjIzM1xuICAgICAqL1xuICAgIGRlc3Ryb3kocmVtb3ZlVmlldylcbiAgICB7XG4gICAgICAgIHRoaXMucnVubmVycy5kZXN0cm95LnJ1bigpO1xuXG4gICAgICAgIGZvciAoY29uc3QgciBpbiB0aGlzLnJ1bm5lcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucnVubmVyc1tyXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYWxsIGJhc2UgZGVzdHJveVxuICAgICAgICBzdXBlci5kZXN0cm95KHJlbW92ZVZpZXcpO1xuXG4gICAgICAgIC8vIFRPRE8gbnVsbGlmeSBhbGwgdGhlIG1hbmFnZXJzLi5cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcGx1Z2lucy4gVGhlc2UgYXJlIGluY2x1ZGVkIGJ5IGRlZmF1bHQgaW4gUElYSSwgYnV0IGNhbiBiZSBleGNsdWRlZFxuICAgICAqIGJ5IGNyZWF0aW5nIGEgY3VzdG9tIGJ1aWxkLiBDb25zdWx0IHRoZSBSRUFETUUgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgY3JlYXRpbmcgY3VzdG9tXG4gICAgICogYnVpbGRzIGFuZCBleGNsdWRpbmcgcGx1Z2lucy5cbiAgICAgKiBAbmFtZSBQSVhJLlJlbmRlcmVyI3BsdWdpbnNcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBwcm9wZXJ0eSB7UElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfSBhY2Nlc3NpYmlsaXR5IFN1cHBvcnQgdGFiYmluZyBpbnRlcmFjdGl2ZSBlbGVtZW50cy5cbiAgICAgKiBAcHJvcGVydHkge1BJWEkuZXh0cmFjdC5FeHRyYWN0fSBleHRyYWN0IEV4dHJhY3QgaW1hZ2UgZGF0YSBmcm9tIHJlbmRlcmVyLlxuICAgICAqIEBwcm9wZXJ0eSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IGludGVyYWN0aW9uIEhhbmRsZXMgbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAgICAgKiBAcHJvcGVydHkge1BJWEkucHJlcGFyZS5QcmVwYXJlfSBwcmVwYXJlIFByZS1yZW5kZXIgZGlzcGxheSBvYmplY3RzLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN0b3IgLSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gb3IgY2xhc3MgZm9yIHRoZSBwbHVnaW4uXG4gICAgICovXG4gICAgc3RhdGljIHJlZ2lzdGVyUGx1Z2luKHBsdWdpbk5hbWUsIGN0b3IpXG4gICAge1xuICAgICAgICBSZW5kZXJlci5fX3BsdWdpbnMgPSBSZW5kZXJlci5fX3BsdWdpbnMgfHwge307XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2luc1twbHVnaW5OYW1lXSA9IGN0b3I7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZGVmYXVsdCBhcyBSZW5kZXJlciB9IGZyb20gJy4vUmVuZGVyZXInO1xuXG4vKipcbiAqIFRoaXMgaGVscGVyIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3Qgd2hpY2ggcmVuZGVyZXIgeW91IHNob3VsZCBiZSB1c2luZy5cbiAqIFdlYkdMIGlzIHRoZSBwcmVmZXJyZWQgcmVuZGVyZXIgYXMgaXQgaXMgYSBsb3QgZmFzdGVyLiBJZiBXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5XG4gKiB0aGUgYnJvd3NlciB0aGVuIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBjYW52YXMgcmVuZGVyZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICogICBpdCBpcyBpZ25vcmVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0ICoqd2ViZ2wgb25seSoqXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQgKip3ZWJnbCBvbmx5KipcbiAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn0gUmV0dXJucyBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMpXG57XG4gICAgcmV0dXJuIFJlbmRlcmVyLmNyZWF0ZShvcHRpb25zKTtcbn1cbiIsImltcG9ydCBCYXNlVGV4dHVyZSBmcm9tICcuL0Jhc2VUZXh0dXJlJztcbmltcG9ydCBDdWJlUmVzb3VyY2UgZnJvbSAnLi9yZXNvdXJjZXMvQ3ViZVJlc291cmNlJztcblxuLyoqXG4gKiBBIFRleHR1cmUgdGhhdCBkZXBlbmRzIG9uIHNpeCBvdGhlciByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdWJlVGV4dHVyZSBleHRlbmRzIEJhc2VUZXh0dXJlXG57XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSBuZXcgQ3ViZVRleHR1cmUuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW118UElYSS5yZXNvdXJjZXMuUmVzb3VyY2VbXX0gcmVzb3VyY2VzIC0gQ29sbGVjdGlvbiBvZiA2IFVSTHMgb3IgcmVzb3VyY2VzXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbmFsIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSByZXNvdXJjZXMgYmVpbmcgbG9hZGVkLlxuICAgICAqICAgICAgICBTZWUge0BQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2UgYXV0b0RldGVjdFJlc291cmNlfSBmb3IgbW9yZSBpbmZvXG4gICAgICogICAgICAgIG9uIHRoZSBvcHRpb25zIGF2YWlsYWJsZSB0byBlYWNoIHJlc291cmNlLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkN1YmVUZXh0dXJlfSBuZXcgY3ViZSB0ZXh0dXJlXG4gICAgICovXG4gICAgc3RhdGljIGZyb20ocmVzb3VyY2VzLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDdWJlVGV4dHVyZShuZXcgQ3ViZVJlc291cmNlKHJlc291cmNlcywgb3B0aW9ucykpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBkcmF3IGJhdGNoZXMuXG4gKiBFYWNoIG9uZSBvZiB0aGVzZSBjb250YWlucyBhbGwgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gZHJhdyBhIGJvdW5kIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmF0Y2hEcmF3Q2FsbFxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSBbXTtcbiAgICAgICAgdGhpcy5pZHMgPSBbXTtcbiAgICAgICAgdGhpcy5ibGVuZCA9IDA7XG4gICAgICAgIHRoaXMudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMudHlwZSA9IDQ7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBGbGV4aWJsZSB3cmFwcGVyIGFyb3VuZCBgQXJyYXlCdWZmZXJgIHRoYXQgYWxzbyBwcm92aWRlc1xuICogdHlwZWQgYXJyYXkgdmlld3Mgb24gZGVtYW5kLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlld2FibGVCdWZmZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBidWZmZXIgaW4gYnl0ZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2l6ZSlcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmRlcmx5aW5nIGBBcnJheUJ1ZmZlcmAgdGhhdCBob2xkcyBhbGwgdGhlIGRhdGFcbiAgICAgICAgICogYW5kIGlzIG9mIGNhcGFjaXR5IGBzaXplYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBuZXcgQXJyYXlCdWZmZXIoc2l6ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50MzJBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51aW50MzJWaWV3ID0gbmV3IFVpbnQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBGbG9hdDMyQXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQ4QXJyYXlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7SW50OEFycmF5fVxuICAgICAqL1xuICAgIGdldCBpbnQ4VmlldygpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2ludDhWaWV3KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pbnQ4VmlldyA9IG5ldyBJbnQ4QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnQ4VmlldztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDhBcnJheWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtVaW50OEFycmF5fVxuICAgICAqL1xuICAgIGdldCB1aW50OFZpZXcoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl91aW50OFZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG5ldyBVaW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fdWludDhWaWV3O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQxNkFycmF5YC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0ludDE2QXJyYXl9XG4gICAgICovXG4gICAgZ2V0IGludDE2VmlldygpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2ludDE2VmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faW50MTZWaWV3ID0gbmV3IEludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnQxNlZpZXc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQxNkFycmF5YC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAqL1xuICAgIGdldCB1aW50MTZWaWV3KClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fdWludDE2VmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdWludDE2VmlldyA9IG5ldyBVaW50MTZBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3VpbnQxNlZpZXc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDMyQXJyYXlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7SW50MzJBcnJheX1cbiAgICAgKi9cbiAgICBnZXQgaW50MzJWaWV3KClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faW50MzJWaWV3KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludDMyVmlldztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2aWV3IG9mIHRoZSBnaXZlbiB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBPbmUgb2YgYGludDhgLCBgdWludDhgLCBgaW50MTZgLFxuICAgICAqICAgIGB1aW50MTZgLCBgaW50MzJgLCBgdWludDMyYCwgYW5kIGBmbG9hdDMyYC5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IHR5cGVkIGFycmF5IG9mIGdpdmVuIHR5cGVcbiAgICAgKi9cbiAgICB2aWV3KHR5cGUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpc1tgJHt0eXBlfVZpZXdgXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyBhbGwgYnVmZmVyIHJlZmVyZW5jZXMuIERvIG5vdCB1c2UgYWZ0ZXIgY2FsbGluZ1xuICAgICAqIHRoaXMuXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQ4VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ludDE2VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLnVpbnQzMlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbnVsbDtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2l6ZU9mKHR5cGUpXG4gICAge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgJ2ludDgnOlxuICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgY2FzZSAnaW50MTYnOlxuICAgICAgICAgICAgY2FzZSAndWludDE2JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgIGNhc2UgJ2ludDMyJzpcbiAgICAgICAgICAgIGNhc2UgJ3VpbnQzMic6XG4gICAgICAgICAgICBjYXNlICdmbG9hdDMyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3R5cGV9IGlzbid0IGEgdmFsaWQgdmlldyB0eXBlYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgQmF0Y2hEcmF3Q2FsbCBmcm9tICcuL0JhdGNoRHJhd0NhbGwnO1xuaW1wb3J0IEJhc2VUZXh0dXJlIGZyb20gJy4uL3RleHR1cmVzL0Jhc2VUZXh0dXJlJztcbmltcG9ydCBPYmplY3RSZW5kZXJlciBmcm9tICcuL09iamVjdFJlbmRlcmVyJztcbmltcG9ydCBTdGF0ZSBmcm9tICcuLi9zdGF0ZS9TdGF0ZSc7XG5pbXBvcnQgVmlld2FibGVCdWZmZXIgZnJvbSAnLi4vZ2VvbWV0cnkvVmlld2FibGVCdWZmZXInO1xuXG5pbXBvcnQgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciBmcm9tICcuLi9zaGFkZXIvdXRpbHMvY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcic7XG5cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIHByZW11bHRpcGx5VGludCwgbmV4dFBvdzIsIGxvZzIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgYmF0Y2ggcmVuZGVyZXIuIEl0IGJ1ZmZlcnMgb2JqZWN0c1xuICogd2l0aCB0ZXh0dXJlLWJhc2VkIGdlb21ldHJpZXMgYW5kIHJlbmRlcnMgdGhlbSBpblxuICogYmF0Y2hlcy4gSXQgdXBsb2FkcyBtdWx0aXBsZSB0ZXh0dXJlcyB0byB0aGUgR1BVIHRvXG4gKiByZWR1Y2UgdG8gdGhlIG51bWJlciBvZiBkcmF3IGNhbGxzLlxuICpcbiAqIEBjbGFzc1xuICogQHByb3RlY3RlZFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWJzdHJhY3RCYXRjaFJlbmRlcmVyIGV4dGVuZHMgT2JqZWN0UmVuZGVyZXJcbntcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgaG9vayBvbnRvIHRoZSByZW5kZXJlcidzIGBjb250ZXh0Q2hhbmdlYFxuICAgICAqIGFuZCBgcHJlcmVuZGVyYCBzaWduYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGdlbmVyYXRlIGEgc2hhZGVyIHRoYXQgY2FuXG4gICAgICAgICAqIGNvbG9yIGVhY2ggdmVydGV4IGJhc2VkIG9uIGEgYGFUZXh0dXJlSWRgXG4gICAgICAgICAqIGF0dHJpYnV0ZSB0aGF0IHBvaW50cyB0byBhbiB0ZXh0dXJlIGluIGB1U2FtcGxlcmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgZW5hYmxlcyB0aGUgb2JqZWN0cyB3aXRoIGRpZmZlcmVudCB0ZXh0dXJlc1xuICAgICAgICAgKiB0byBiZSBkcmF3biBpbiB0aGUgc2FtZSBkcmF3IGNhbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIFlvdSBjYW4gY3VzdG9taXplIHlvdXIgc2hhZGVyIGJ5IGNyZWF0aW5nIHlvdXJcbiAgICAgICAgICogY3VzdG9tIHNoYWRlciBnZW5lcmF0b3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmF0Y2hTaGFkZXJHZW5lcmF0b3J9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyR2VuZXJhdG9yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNsYXNzIHRoYXQgcmVwcmVzZW50cyB0aGUgZ2VvbWV0cnkgb2Ygb2JqZWN0c1xuICAgICAgICAgKiB0aGF0IGFyZSBnb2luZyB0byBiZSBiYXRjaGVkIHdpdGggdGhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJhdGNoR2VvbWV0cnlcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZW9tZXRyeUNsYXNzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiBkYXRhIGJlaW5nIGJ1ZmZlcmVkIHBlciB2ZXJ0ZXggaW4gdGhlXG4gICAgICAgICAqIGF0dHJpYnV0ZSBidWZmZXJzIChpbiBmbG9hdHMpLiBCeSBkZWZhdWx0LCB0aGVcbiAgICAgICAgICogYmF0Y2gtcmVuZGVyZXIgcGx1Z2luIHVzZXMgNjpcbiAgICAgICAgICpcbiAgICAgICAgICogfCBhVmVydGV4UG9zaXRpb24gfCAyIHxcbiAgICAgICAgICogfC0tLS0tLS0tLS0tLS0tLS0tfC0tLXxcbiAgICAgICAgICogfCBhVGV4dHVyZUNvb3JkcyAgfCAyIHxcbiAgICAgICAgICogfCBhQ29sb3IgICAgICAgICAgfCAxIHxcbiAgICAgICAgICogfCBhVGV4dHVyZUlkICAgICAgfCAxIHxcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4U2l6ZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSBpbiB3aGljaCB0aGlzIHJlbmRlcmVyIHdpbGwgd29yay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBidWZmZXJhYmxlIG9iamVjdHMgYmVmb3JlIGEgZmx1c2hcbiAgICAgICAgICogb2NjdXJzIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gMjAwMCAqIDQ7Ly8gc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUsIDIwMDAgaXMgYSBuaWNlIGJhbGFuY2UgYmV0d2VlbiBtb2JpbGUvZGVza3RvcFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb3RhbCBjb3VudCBvZiBhbGwgdmVydGljZXMgdXNlZCBieSB0aGUgY3VycmVudGx5XG4gICAgICAgICAqIGJ1ZmZlcmVkIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3ZlcnRleENvdW50ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVG90YWwgY291bnQgb2YgYWxsIGluZGljZXMgdXNlZCBieSB0aGUgY3VycmVudGx5XG4gICAgICAgICAqIGJ1ZmZlcmVkIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgb2Ygb2JqZWN0cyB0aGF0IGFyZSB5ZXQgdG8gYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVyZWRFbGVtZW50cyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgZWxlbWVudHMgdGhhdCBhcmUgYnVmZmVyZWQgYW5kIGFyZVxuICAgICAgICAgKiB3YWl0aW5nIHRvIGJlIGZsdXNoZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlclNpemUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHNoYWRlciBpcyBnZW5lcmF0ZWQgYnkgYHRoaXMuc2hhZGVyR2VuZXJhdG9yYC5cbiAgICAgICAgICpcbiAgICAgICAgICogSXQgaXMgZ2VuZXJhdGVkIHNwZWNpZmljYWxseSB0byBoYW5kbGUgdGhlIHJlcXVpcmVkXG4gICAgICAgICAqIG51bWJlciBvZiB0ZXh0dXJlcyBiZWluZyBiYXRjaGVkIHRvZ2V0aGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2hhZGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgdGhpcy5nZW9tZXRyeUNsYXNzYCBnZW9tZXRyeSBvYmplY3RzXG4gICAgICAgICAqIHRoYXQgc3RvcmUgYnVmZmVycy4gVGhleSBhcmUgdXNlZCB0byBwYXNzIGRhdGFcbiAgICAgICAgICogdG8gdGhlIHNoYWRlciBvbiBlYWNoIGRyYXcgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlc2UgYXJlIG5ldmVyIHJlLWFsbG9jYXRlZCBhZ2FpbiwgdW5sZXNzIGFcbiAgICAgICAgICogY29udGV4dCBjaGFuZ2Ugb2NjdXJzOyBob3dldmVyLCB0aGUgcG9vbCBtYXlcbiAgICAgICAgICogYmUgZXhwYW5kZWQgaWYgcmVxdWlyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR2VvbWV0cnlbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlci5jb250ZXh0Q2hhbmdlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpemUgb2YgYHRoaXMuX3BhY2tlZEdlb21ldHJpZXNgLiBJdCBjYW4gYmUgZXhwYW5kZWRcbiAgICAgICAgICogaWYgbW9yZSB0aGFuIGB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplYCBmbHVzaGVzXG4gICAgICAgICAqIG9jY3VyIGluIGEgc2luZ2xlIGZyYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplID0gMjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbHVzaCBtYXkgb2NjdXIgbXVsdGlwbGUgdGltZXMgaW4gYSBzaW5nbGVcbiAgICAgICAgICogZnJhbWUuIE9uIGlPUyBkZXZpY2VzIG9yIHdoZW5cbiAgICAgICAgICogYHNldHRpbmdzLkNBTl9VUExPQURfU0FNRV9CVUZGRVJgIGlzIGZhbHNlLCB0aGVcbiAgICAgICAgICogYmF0Y2ggcmVuZGVyZXIgZG9lcyBub3QgdXBsb2FkIGRhdGEgdG8gdGhlIHNhbWVcbiAgICAgICAgICogYFdlYkdMQnVmZmVyYCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyB0aGUgaW5kZXggaW50byBgcGFja2VkR2VvbWV0cmllc2AgdGhhdCBwb2ludHMgdG9cbiAgICAgICAgICogZ2VvbWV0cnkgaG9sZGluZyB0aGUgbW9zdCByZWNlbnQgYnVmZmVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZmx1c2hJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAgICAgICAgICogdG8gY3JlYXRlIFwiYmF0Y2hlc1wiIG9mIHRoZSBvYmplY3RzIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIEJhdGNoRHJhd0NhbGxbXVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZHJhd0NhbGxzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLnNpemUgLyA0OyBrKyspXG4gICAgICAgIHsgLy8gaW5pdGlhbGl6ZSB0aGUgZHJhdy1jYWxscyBwb29sIHRvIG1heCBzaXplLlxuICAgICAgICAgICAgdGhpcy5fZHJhd0NhbGxzW2tdID0gbmV3IEJhdGNoRHJhd0NhbGwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGBWaWV3YWJsZUJ1ZmZlcmAgb2JqZWN0cyB0aGF0IGFyZSBzb3J0ZWQgaW5cbiAgICAgICAgICogb3JkZXIgb2YgaW5jcmVhc2luZyBzaXplLiBUaGUgZmx1c2ggbWV0aG9kIHVzZXNcbiAgICAgICAgICogdGhlIGJ1ZmZlciB3aXRoIHRoZSBsZWFzdCBzaXplIGFib3ZlIHRoZSBhbW91bnRcbiAgICAgICAgICogaXQgcmVxdWlyZXMuIFRoZXNlIGFyZSB1c2VkIGZvciBwYXNzaW5nIGF0dHJpYnV0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBmaXJzdCBidWZmZXIgaGFzIGEgc2l6ZSBvZiA4OyBlYWNoIHN1YnNlcXVlbnRcbiAgICAgICAgICogYnVmZmVyIGhhcyBkb3VibGUgY2FwYWNpdHkgb2YgaXRzIHByZXZpb3VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlZpZXdhYmxlQnVmZmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2dldEF0dHJpYnV0ZUJ1ZmZlclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYUJ1ZmZlcnMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVWludDE2QXJyYXlgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBpbmRpY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgMTI7IGVhY2ggc3Vic2VxdWVudFxuICAgICAgICAgKiBidWZmZXIgaGFzIGRvdWJsZSBjYXBhY2l0eSBvZiBpdHMgcHJldmlvdXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjZ2V0SW5kZXhCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2lCdWZmZXJzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gbnVtYmVyIG9mIHRleHR1cmVzIHRoYXQgY2FuIGJlIHVwbG9hZGVkIHRvXG4gICAgICAgICAqIHRoZSBHUFUgdW5kZXIgdGhlIGN1cnJlbnQgY29udGV4dC4gSXQgaXMgaW5pdGlhbGl6ZWRcbiAgICAgICAgICogcHJvcGVybHkgaW4gYHRoaXMuY29udGV4dENoYW5nZWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNjb250ZXh0Q2hhbmdlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIub24oJ3ByZXJlbmRlcicsIHRoaXMub25QcmVyZW5kZXIsIHRoaXMpO1xuICAgICAgICByZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuYWRkKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGBjb250ZXh0Q2hhbmdlYCBzaWduYWwuXG4gICAgICpcbiAgICAgKiBJdCBjYWxjdWxhdGVzIGB0aGlzLk1BWF9URVhUVVJFU2AgYW5kIGFsbG9jYXRpbmcgdGhlXG4gICAgICogcGFja2VkLWdlb21ldHJ5IG9iamVjdCBwb29sLlxuICAgICAqL1xuICAgIGNvbnRleHRDaGFuZ2UoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBzdGVwIDE6IGZpcnN0IGNoZWNrIG1heCB0ZXh0dXJlcyB0aGUgR1BVIGNhbiBoYW5kbGUuXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksXG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgICAgIC8vIHN0ZXAgMjogY2hlY2sgdGhlIG1heGltdW0gbnVtYmVyIG9mIGlmIHN0YXRlbWVudHMgdGhlIHNoYWRlciBjYW4gaGF2ZSB0b28uLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKFxuICAgICAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTLCBnbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zaGFkZXIgPSB0aGlzLnNoYWRlckdlbmVyYXRvci5nZW5lcmF0ZVNoYWRlcih0aGlzLk1BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgLy8gd2UgdXNlIHRoZSBzZWNvbmQgc2hhZGVyIGFzIHRoZSBmaXJzdCBvbmUgZGVwZW5kaW5nIG9uIHlvdXIgYnJvd3NlclxuICAgICAgICAvLyBtYXkgb21pdCBhVGV4dHVyZUlkIGFzIGl0IGlzIG5vdCB1c2VkIGJ5IHRoZSBzaGFkZXIgc28gaXMgb3B0aW1pemVkIG91dC5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0gPSBuZXcgKHRoaXMuZ2VvbWV0cnlDbGFzcykoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGBwcmVyZW5kZXJgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGVuc3VyZXMgdGhhdCBmbHVzaGVzIHN0YXJ0IGZyb20gdGhlIGZpcnN0IGdlb21ldHJ5XG4gICAgICogb2JqZWN0IGFnYWluLlxuICAgICAqL1xuICAgIG9uUHJlcmVuZGVyKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1ZmZlcnMgdGhlIFwiYmF0Y2hhYmxlXCIgb2JqZWN0LiBJdCBuZWVkIG5vdCBiZSByZW5kZXJlZFxuICAgICAqIGltbWVkaWF0ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gdGhlIHNwcml0ZSB0byByZW5kZXIgd2hlblxuICAgICAqICAgIHVzaW5nIHRoaXMgc3ByaXRlYmF0Y2hcbiAgICAgKi9cbiAgICByZW5kZXIoZWxlbWVudClcbiAgICB7XG4gICAgICAgIGlmICghZWxlbWVudC5fdGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRleENvdW50ICsgKGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyKSA+IHRoaXMuc2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgKz0gZWxlbWVudC52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7XG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgKz0gZWxlbWVudC5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5fYnVmZmVyZWRFbGVtZW50c1t0aGlzLl9idWZmZXJTaXplKytdID0gZWxlbWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250ZW50IF9ub3dfIGFuZCBlbXB0aWVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIGZsdXNoKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl92ZXJ0ZXhDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXR0cmlidXRlQnVmZmVyID0gdGhpcy5nZXRBdHRyaWJ1dGVCdWZmZXIodGhpcy5fdmVydGV4Q291bnQpO1xuICAgICAgICBjb25zdCBpbmRleEJ1ZmZlciA9IHRoaXMuZ2V0SW5kZXhCdWZmZXIodGhpcy5faW5kZXhDb3VudCk7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBfYnVmZmVyZWRFbGVtZW50czogZWxlbWVudHMsXG4gICAgICAgICAgICBfZHJhd0NhbGxzOiBkcmF3Q2FsbHMsXG4gICAgICAgICAgICBNQVhfVEVYVFVSRVMsXG4gICAgICAgICAgICBfcGFja2VkR2VvbWV0cmllczogcGFja2VkR2VvbWV0cmllcyxcbiAgICAgICAgICAgIHZlcnRleFNpemUsXG4gICAgICAgIH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IHRvdWNoID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IF9pbmRleENvdW50ID0gMDtcblxuICAgICAgICBsZXQgbmV4dFRleHR1cmU7XG4gICAgICAgIGxldCBjdXJyZW50VGV4dHVyZTtcbiAgICAgICAgbGV0IHRleHR1cmVDb3VudCA9IDA7XG5cbiAgICAgICAgbGV0IGN1cnJlbnRHcm91cCA9IGRyYXdDYWxsc1swXTtcbiAgICAgICAgbGV0IGdyb3VwQ291bnQgPSAwO1xuXG4gICAgICAgIGxldCBibGVuZE1vZGUgPSAtMTsvLyBibGVuZC1tb2RlIG9mIHByZXZpb3VzIGVsZW1lbnQvc3ByaXRlL29iamVjdCFcblxuICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLmJsZW5kID0gYmxlbmRNb2RlO1xuXG4gICAgICAgIGxldCBUSUNLID0gKytCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2g7XG4gICAgICAgIGxldCBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJTaXplOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGVsZW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBlbGVtZW50c1tpXSA9IG51bGw7XG4gICAgICAgICAgICBuZXh0VGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgY29uc3Qgc3ByaXRlQmxlbmRNb2RlID0gcHJlbXVsdGlwbHlCbGVuZE1vZGVbXG4gICAgICAgICAgICAgICAgbmV4dFRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA/IDEgOiAwXVtzcHJpdGUuYmxlbmRNb2RlXTtcblxuICAgICAgICAgICAgaWYgKGJsZW5kTW9kZSAhPT0gc3ByaXRlQmxlbmRNb2RlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJsZW5kTW9kZSA9IHNwcml0ZUJsZW5kTW9kZTtcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgIT09IFRJQ0spXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZUNvdW50ID09PSBNQVhfVEVYVFVSRVMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRJQ0srKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSBfaW5kZXhDb3VudCAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gZHJhd0NhbGxzW2dyb3VwQ291bnQrK107XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5ibGVuZCA9IGJsZW5kTW9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IF9pbmRleENvdW50O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUudG91Y2hlZCA9IHRvdWNoO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2lkID0gdGV4dHVyZUNvdW50O1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlc1tjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50KytdID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeShzcHJpdGUsIGF0dHJpYnV0ZUJ1ZmZlcixcbiAgICAgICAgICAgICAgICBpbmRleEJ1ZmZlciwgaW5kZXgsIF9pbmRleENvdW50KTtcblxuICAgICAgICAgICAgLy8gcHVzaCBhIGdyYXBoaWNzLi5cbiAgICAgICAgICAgIGluZGV4ICs9IChzcHJpdGUudmVydGV4RGF0YS5sZW5ndGggLyAyKSAqIHZlcnRleFNpemU7XG4gICAgICAgICAgICBfaW5kZXhDb3VudCArPSBzcHJpdGUuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IF9pbmRleENvdW50IC0gY3VycmVudEdyb3VwLnN0YXJ0O1xuXG4gICAgICAgIGlmICghc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUilcbiAgICAgICAgeyAvKiBVc3VhbGx5IG9uIGlPUyBkZXZpY2VzLCB3aGVyZSB0aGUgYnJvd3NlciBkb2Vzbid0XG4gICAgICAgICAgICBsaWtlIHVwbG9hZHMgdG8gdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lLiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPD0gdGhpcy5fZmx1c2hJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplKys7XG4gICAgICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSA9IG5ldyAodGhpcy5nZW9tZXRyeUNsYXNzKSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhLCAwKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlciwgMCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkuYmluZChwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkudXBkYXRlQnVmZmVycygpO1xuICAgICAgICAgICAgdGhpcy5fZmx1c2hJZCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGZhc3RlciBvcHRpb24sIGFsd2F5cyB1c2UgYnVmZmVyIG51bWJlciAwXG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhLCAwKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlciwgMCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkudXBkYXRlQnVmZmVycygpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgY29uc3Qgc3RhdGVTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLnN0YXRlO1xuXG4gICAgICAgIC8vIFVwbG9hZCB0ZXh0dXJlcyBhbmQgZG8gdGhlIGRyYXcgY2FsbHNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGdyb3VwQ291bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBkcmF3Q2FsbHNbaV07XG4gICAgICAgICAgICBjb25zdCBncm91cFRleHR1cmVDb3VudCA9IGdyb3VwLnRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBncm91cFRleHR1cmVDb3VudDsgaisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHR1cmVTeXN0ZW0uYmluZChncm91cC50ZXh0dXJlc1tqXSwgaik7XG4gICAgICAgICAgICAgICAgZ3JvdXAudGV4dHVyZXNbal0gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdGF0ZVN5c3RlbS5zZXRCbGVuZE1vZGUoZ3JvdXAuYmxlbmQpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdyb3VwLnR5cGUsIGdyb3VwLnNpemUsIGdsLlVOU0lHTkVEX1NIT1JULCBncm91cC5zdGFydCAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgZWxlbWVudHMgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgICAgICB0aGlzLl92ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIG5ldyBzcHJpdGUgYmF0Y2guXG4gICAgICovXG4gICAgc3RhcnQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLl9zaGFkZXIpO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBiaW5kIGJ1ZmZlciAjMCwgd2UgZG9uJ3QgbmVlZCBvdGhlcnNcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuZCBmbHVzaGVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIHN0b3AoKVxuICAgIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYEFic3RyYWN0QmF0Y2hSZW5kZXJlcmAuIEl0IGNhbm5vdCBiZSB1c2VkIGFnYWluLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3ByZXJlbmRlcicsIHRoaXMub25QcmVyZW5kZXIsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2FCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5faUJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZHJhd0NhbGxzID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5fc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fc2hhZGVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIGFuIGF0dHJpYnV0ZSBidWZmZXIgZnJvbSBgdGhpcy5fYUJ1ZmZlcnNgIHRoYXRcbiAgICAgKiBjYW4gaG9sZCBhdGxlYXN0IGBzaXplYCBmbG9hdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIG1pbmltdW0gY2FwYWNpdHkgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtWaWV3YWJsZUJ1ZmZlcn0gLSBidWZmZXIgdGhhbiBjYW4gaG9sZCBhdGxlYXN0IGBzaXplYCBmbG9hdHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldEF0dHJpYnV0ZUJ1ZmZlcihzaXplKVxuICAgIHtcbiAgICAgICAgLy8gOCB2ZXJ0aWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgY29uc3Qgcm91bmRlZFAyID0gbmV4dFBvdzIoTWF0aC5jZWlsKHNpemUgLyA4KSk7XG4gICAgICAgIGNvbnN0IHJvdW5kZWRTaXplSW5kZXggPSBsb2cyKHJvdW5kZWRQMik7XG4gICAgICAgIGNvbnN0IHJvdW5kZWRTaXplID0gcm91bmRlZFAyICogODtcblxuICAgICAgICBpZiAodGhpcy5fYUJ1ZmZlcnMubGVuZ3RoIDw9IHJvdW5kZWRTaXplSW5kZXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA9IHJvdW5kZWRTaXplSW5kZXggKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJ1ZmZlciA9IHRoaXMuX2FCdWZmZXJzW3JvdW5kZWRTaXplXTtcblxuICAgICAgICBpZiAoIWJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdID0gYnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHJvdW5kZWRTaXplICogdGhpcy52ZXJ0ZXhTaXplICogNCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gaW5kZXggYnVmZmVyIGZyb20gYHRoaXMuX2lCdWZmZXJzYCB0aGF0IGNhblxuICAgICAqIGhhcyBhdGxlYXN0IGBzaXplYCBjYXBhY2l0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gbWluaW11bSByZXF1aXJlZCBjYXBhY2l0eVxuICAgICAqIEByZXR1cm4ge1VpbnQxNkFycmF5fSAtIGJ1ZmZlciB0aGF0IGNhbiBmaXQgYHNpemVgXG4gICAgICogICAgaW5kaWNlcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldEluZGV4QnVmZmVyKHNpemUpXG4gICAge1xuICAgICAgICAvLyAxMiBpbmRpY2VzIGlzIGVub3VnaCBmb3IgMiBxdWFkc1xuICAgICAgICBjb25zdCByb3VuZGVkUDIgPSBuZXh0UG93MihNYXRoLmNlaWwoc2l6ZSAvIDEyKSk7XG4gICAgICAgIGNvbnN0IHJvdW5kZWRTaXplSW5kZXggPSBsb2cyKHJvdW5kZWRQMik7XG4gICAgICAgIGNvbnN0IHJvdW5kZWRTaXplID0gcm91bmRlZFAyICogMTI7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBidWZmZXIgPSB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XTtcblxuICAgICAgICBpZiAoIWJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faUJ1ZmZlcnNbcm91bmRlZFNpemVJbmRleF0gPSBidWZmZXIgPSBuZXcgVWludDE2QXJyYXkocm91bmRlZFNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyB0aGUgZm91ciBiYXRjaGluZyBwYXJhbWV0ZXJzIG9mIGBlbGVtZW50YCwgaW50ZXJsZWF2ZXNcbiAgICAgKiBhbmQgcHVzaGVzIHRoZW0gaW50byB0aGUgYmF0Y2hpbmcgYXR0cmlidXRlL2luZGV4IGJ1ZmZlcnMgZ2l2ZW4uXG4gICAgICpcbiAgICAgKiBJdCB1c2VzIHRoZXNlIHByb3BlcnRpZXM6IGB2ZXJ0ZXhEYXRhYCBgdXZzYCwgYHRleHR1cmVJZGAgYW5kXG4gICAgICogYGluZGljaWVzYC4gSXQgYWxzbyB1c2VzIHRoZSBcInRpbnRcIiBvZiB0aGUgYmFzZS10ZXh0dXJlLCBpZlxuICAgICAqIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBlbGVtZW50IC0gZWxlbWVudCBiZWluZyByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5WaWV3YWJsZUJ1ZmZlcn0gYXR0cmlidXRlQnVmZmVyIC0gYXR0cmlidXRlIGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge1VpbnQxNkFycmF5fSBpbmRleEJ1ZmZlciAtIGluZGV4IGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhSW5kZXggLSBudW1iZXIgb2YgZmxvYXRzIGFscmVhZHkgaW4gdGhlIGF0dHJpYnV0ZSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaUluZGV4IC0gbnVtYmVyIG9mIGluZGljZXMgYWxyZWFkeSBpbiBgaW5kZXhCdWZmZXJgXG4gICAgICovXG4gICAgcGFja0ludGVybGVhdmVkR2VvbWV0cnkoZWxlbWVudCwgYXR0cmlidXRlQnVmZmVyLCBpbmRleEJ1ZmZlciwgYUluZGV4LCBpSW5kZXgpXG4gICAge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB1aW50MzJWaWV3LFxuICAgICAgICAgICAgZmxvYXQzMlZpZXcsXG4gICAgICAgIH0gPSBhdHRyaWJ1dGVCdWZmZXI7XG5cbiAgICAgICAgY29uc3QgcGFja2VkVmVydGljZXMgPSBhSW5kZXggLyB0aGlzLnZlcnRleFNpemU7XG4gICAgICAgIGNvbnN0IHV2cyA9IGVsZW1lbnQudXZzO1xuICAgICAgICBjb25zdCBpbmRpY2llcyA9IGVsZW1lbnQuaW5kaWNlcztcbiAgICAgICAgY29uc3QgdmVydGV4RGF0YSA9IGVsZW1lbnQudmVydGV4RGF0YTtcbiAgICAgICAgY29uc3QgdGV4dHVyZUlkID0gZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5faWQ7XG5cbiAgICAgICAgY29uc3QgYWxwaGEgPSBNYXRoLm1pbihlbGVtZW50LndvcmxkQWxwaGEsIDEuMCk7XG4gICAgICAgIGNvbnN0IGFyZ2IgPSAoYWxwaGEgPCAxLjBcbiAgICAgICAgICAmJiBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpXG4gICAgICAgICAgICA/IHByZW11bHRpcGx5VGludChlbGVtZW50Ll90aW50UkdCLCBhbHBoYSlcbiAgICAgICAgICAgIDogZWxlbWVudC5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG5cbiAgICAgICAgLy8gbGV0cyBub3Qgd29ycnkgYWJvdXQgdGludCEgZm9yIG5vdy4uXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpXTtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHZlcnRleERhdGFbaSArIDFdO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdXZzW2ldO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdXZzW2kgKyAxXTtcbiAgICAgICAgICAgIHVpbnQzMlZpZXdbYUluZGV4KytdID0gYXJnYjtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHRleHR1cmVJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kaWNpZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyW2lJbmRleCsrXSA9IHBhY2tlZFZlcnRpY2VzICsgaW5kaWNpZXNbaV07XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgU2hhZGVyIGZyb20gJy4uL3NoYWRlci9TaGFkZXInO1xuaW1wb3J0IFByb2dyYW0gZnJvbSAnLi4vc2hhZGVyL1Byb2dyYW0nO1xuaW1wb3J0IFVuaWZvcm1Hcm91cCBmcm9tICcuLi9zaGFkZXIvVW5pZm9ybUdyb3VwJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIEhlbHBlciB0aGF0IGdlbmVyYXRlcyBiYXRjaGluZyBtdWx0aS10ZXh0dXJlIHNoYWRlci4gVXNlIGl0IHdpdGggeW91ciBuZXcgQmF0Y2hSZW5kZXJlclxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmF0Y2hTaGFkZXJHZW5lcmF0b3JcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVydGV4U3JjIC0gVmVydGV4IHNoYWRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFnVGVtcGxhdGUgLSBGcmFnbWVudCBzaGFkZXIgdGVtcGxhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2ZXJ0ZXhTcmMsIGZyYWdUZW1wbGF0ZSlcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHZlcnRleCBzaGFkZXIgc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBmcmFnZW1lbnQgc2hhZGVyIHRlbXBsYXRlLiBNdXN0IGNvbnRhaW4gXCIlY291bnQlXCIgYW5kIFwiJWZvcmxvb3AlXCIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZnJhZ1RlbXBsYXRlID0gZnJhZ1RlbXBsYXRlO1xuXG4gICAgICAgIHRoaXMucHJvZ3JhbUNhY2hlID0ge307XG4gICAgICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGUgPSB7fTtcblxuICAgICAgICBpZiAoZnJhZ1RlbXBsYXRlLmluZGV4T2YoJyVjb3VudCUnKSA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRnJhZ21lbnQgdGVtcGxhdGUgbXVzdCBjb250YWluIFwiJWNvdW50JVwiLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZyYWdUZW1wbGF0ZS5pbmRleE9mKCclZm9ybG9vcCUnKSA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRnJhZ21lbnQgdGVtcGxhdGUgbXVzdCBjb250YWluIFwiJWZvcmxvb3AlXCIuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZW5lcmF0ZVNoYWRlcihtYXhUZXh0dXJlcylcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzYW1wbGVWYWx1ZXMgPSBuZXcgSW50MzJBcnJheShtYXhUZXh0dXJlcyk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSA9IFVuaWZvcm1Hcm91cC5mcm9tKHsgdVNhbXBsZXJzOiBzYW1wbGVWYWx1ZXMgfSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGxldCBmcmFnbWVudFNyYyA9IHRoaXMuZnJhZ1RlbXBsYXRlO1xuXG4gICAgICAgICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVjb3VudCUvZ2ksIGAke21heFRleHR1cmVzfWApO1xuICAgICAgICAgICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIHRoaXMuZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpKTtcblxuICAgICAgICAgICAgdGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdID0gbmV3IFByb2dyYW0odGhpcy52ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgdGludDogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICAgICAgdHJhbnNsYXRpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGVbbWF4VGV4dHVyZXNdLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXcgU2hhZGVyKHRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSwgdW5pZm9ybXMpO1xuICAgIH1cblxuICAgIGdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKVxuICAgIHtcbiAgICAgICAgbGV0IHNyYyA9ICcnO1xuXG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgc3JjICs9ICdcXG4nO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGkgPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaSA8IG1heFRleHR1cmVzIC0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzcmMgKz0gYGlmKHZUZXh0dXJlSWQgPCAke2l9LjUpYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3JjICs9ICdcXG57JztcbiAgICAgICAgICAgIHNyYyArPSBgXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzWyR7aX1dLCB2VGV4dHVyZUNvb3JkKTtgO1xuICAgICAgICAgICAgc3JjICs9ICdcXG59JztcbiAgICAgICAgfVxuXG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgc3JjICs9ICdcXG4nO1xuXG4gICAgICAgIHJldHVybiBzcmM7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IEdlb21ldHJ5IGZyb20gJy4uL2dlb21ldHJ5L0dlb21ldHJ5JztcbmltcG9ydCBCdWZmZXIgZnJvbSAnLi4vZ2VvbWV0cnkvQnVmZmVyJztcblxuLyoqXG4gKiBHZW9tZXRyeSB1c2VkIHRvIGJhdGNoIHN0YW5kYXJkIFBJWEkgY29udGVudCAoZS5nLiBNZXNoLCBTcHJpdGUsIEdyYXBoaWNzIG9iamVjdHMpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmF0Y2hHZW9tZXRyeSBleHRlbmRzIEdlb21ldHJ5XG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz1mYWxzZV0gT3B0aW1pemF0aW9uIGZsYWcsIHdoZXJlIGBmYWxzZWBcbiAgICAgKiAgICAgICAgaXMgdXBkYXRlZCBldmVyeSBmcmFtZSwgYHRydWVgIGRvZXNuJ3QgY2hhbmdlIGZyYW1lLXRvLWZyYW1lLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9zdGF0aWMgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciB1c2VkIGZvciBwb3NpdGlvbiwgY29sb3IsIHRleHR1cmUgSURzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBuZXcgQnVmZmVyKG51bGwsIF9zdGF0aWMsIGZhbHNlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggYnVmZmVyIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihudWxsLCBfc3RhdGljLCB0cnVlKTtcblxuICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgdGhpcy5fYnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgdGhpcy5fYnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhQ29sb3InLCB0aGlzLl9idWZmZXIsIDQsIHRydWUsIFRZUEVTLlVOU0lHTkVEX0JZVEUpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUlkJywgdGhpcy5fYnVmZmVyLCAxLCB0cnVlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRJbmRleCh0aGlzLl9pbmRleEJ1ZmZlcik7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJhdGNoU2hhZGVyR2VuZXJhdG9yIGZyb20gJy4vQmF0Y2hTaGFkZXJHZW5lcmF0b3InO1xuaW1wb3J0IEJhdGNoR2VvbWV0cnkgZnJvbSAnLi9CYXRjaEdlb21ldHJ5JztcbmltcG9ydCBBYnN0cmFjdEJhdGNoUmVuZGVyZXIgZnJvbSAnLi9BYnN0cmFjdEJhdGNoUmVuZGVyZXInO1xuXG5pbXBvcnQgZGVmYXVsdFZlcnRleCBmcm9tICcuL3RleHR1cmUudmVydCc7XG5pbXBvcnQgZGVmYXVsdEZyYWdtZW50IGZyb20gJy4vdGV4dHVyZS5mcmFnJztcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaGlkZWNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhdGNoUGx1Z2luRmFjdG9yeVxue1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBCYXRjaFJlbmRlcmVyIHBsdWdpbiBmb3IgUmVuZGVyZXIuIHRoaXMgY29udmVuaWVuY2UgY2FuIHByb3ZpZGUgYW4gZWFzeSB3YXlcbiAgICAgKiB0byBleHRlbmQgQmF0Y2hSZW5kZXJlciB3aXRoIGFsbCB0aGUgbmVjZXNzYXJ5IHBpZWNlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGZyYWdtZW50ID0gYFxuICAgICAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICAgICAqIHZhcnlpbmcgdmVjNCB2Q29sb3I7XG4gICAgICogdmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xuICAgICAqIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTtcbiAgICAgKlxuICAgICAqIHZvaWQgbWFpbih2b2lkKXtcbiAgICAgKiAgICAgdmVjNCBjb2xvcjtcbiAgICAgKiAgICAgJWZvcmxvb3AlXG4gICAgICogICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvciAqIHZlYzQoY29sb3IuYSAtIGNvbG9yLnJnYiwgY29sb3IuYSk7XG4gICAgICogfVxuICAgICAqIGA7XG4gICAgICogY29uc3QgSW52ZXJ0QmF0Y2hSZW5kZXJlciA9IFBJWEkuQmF0Y2hQbHVnaW5GYWN0b3J5LmNyZWF0ZSh7IGZyYWdtZW50IH0pO1xuICAgICAqIFBJWEkuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2ludmVydCcsIEludmVydEJhdGNoUmVuZGVyZXIpO1xuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSgpO1xuICAgICAqIHNwcml0ZS5wbHVnaW5OYW1lID0gJ2ludmVydCc7XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52ZXJ0ZXg9UElYSS5CYXRjaFBsdWdpbkZhY3RvcnkuZGVmYXVsdFZlcnRleFNyY10gLSBWZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5mcmFnbWVudD1QSVhJLkJhdGNoUGx1Z2luRmFjdG9yeS5kZWZhdWx0RnJhZ21lbnRUZW1wbGF0ZV0gLSBGcmFnbWVudCBzaGFkZXIgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudmVydGV4U2l6ZT02XSAtIFZlcnRleCBzaXplXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmdlb21ldHJ5Q2xhc3M9UElYSS5CYXRjaEdlb21ldHJ5XVxuICAgICAqIEByZXR1cm4geyp9IE5ldyBiYXRjaCByZW5kZXJlciBwbHVnaW5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCB7IHZlcnRleCwgZnJhZ21lbnQsIHZlcnRleFNpemUsIGdlb21ldHJ5Q2xhc3MgfSA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdmVydGV4OiBkZWZhdWx0VmVydGV4LFxuICAgICAgICAgICAgZnJhZ21lbnQ6IGRlZmF1bHRGcmFnbWVudCxcbiAgICAgICAgICAgIGdlb21ldHJ5Q2xhc3M6IEJhdGNoR2VvbWV0cnksXG4gICAgICAgICAgICB2ZXJ0ZXhTaXplOiA2LFxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gY2xhc3MgQmF0Y2hQbHVnaW4gZXh0ZW5kcyBBYnN0cmFjdEJhdGNoUmVuZGVyZXJcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkZXJHZW5lcmF0b3IgPSBuZXcgQmF0Y2hTaGFkZXJHZW5lcmF0b3IodmVydGV4LCBmcmFnbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUNsYXNzID0gZ2VvbWV0cnlDbGFzcztcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFNpemUgPSB2ZXJ0ZXhTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRWZXJ0ZXhTcmMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgc3RhdGljIGdldCBkZWZhdWx0RnJhZ21lbnRUZW1wbGF0ZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50O1xuICAgIH1cbn1cblxuLy8gU2V0dXAgdGhlIGRlZmF1bHQgQmF0Y2hSZW5kZXJlciBwbHVnaW4sIHRoaXMgaXMgd2hhdFxuLy8gd2UnbGwgYWN0dWFsbHkgZXhwb3J0IGF0IHRoZSByb290IGxldmVsXG5leHBvcnQgY29uc3QgQmF0Y2hSZW5kZXJlciA9IEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUoKTtcbiIsImltcG9ydCB7IFJlbmRlclRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENhbnZhc1JlbmRlclRhcmdldCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG5jb25zdCBURU1QX1JFQ1QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5jb25zdCBCWVRFU19QRVJfUElYRUwgPSA0O1xuXG4vKipcbiAqIFRoZSBleHRyYWN0IG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBleHBvcnQgY29udGVudCBmcm9tIHRoZSByZW5kZXJlcnMuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5leHRyYWN0YFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFjdFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeHRyYWN0XG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIGV4dHJhY3RpbmcgZGF0YSAoaW1hZ2UsIHBpeGVscywgZXRjLikgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IG9yIHJlbmRlciB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuZXh0cmFjdC5FeHRyYWN0fSBleHRyYWN0XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFjdC5FeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXJlci5leHRyYWN0ID0gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdIC0gSW1hZ2UgZm9ybWF0LCBlLmcuIFwiaW1hZ2UvanBlZ1wiIG9yIFwiaW1hZ2Uvd2VicFwiLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eV0gLSBKUEVHIG9yIFdlYnAgY29tcHJlc3Npb24gZnJvbSAwIHRvIDEuIERlZmF1bHQgaXMgMC45Mi5cbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKi9cbiAgICBpbWFnZSh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gdGhpcy5iYXNlNjQodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpO1xuXG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoaXMgdGFyZ2V0LiBJdCB3b3JrcyBieSBjYWxsaW5nXG4gICAgICogIGBFeHRyYWN0LmdldENhbnZhc2AgYW5kIHRoZW4gcnVubmluZyB0b0RhdGFVUkwgb24gdGhhdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAtIEltYWdlIGZvcm1hdCwgZS5nLiBcImltYWdlL2pwZWdcIiBvciBcImltYWdlL3dlYnBcIi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHldIC0gSlBFRyBvciBXZWJwIGNvbXByZXNzaW9uIGZyb20gMCB0byAxLiBEZWZhdWx0IGlzIDAuOTIuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBBIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBiYXNlNjQodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXModGFyZ2V0KS50b0RhdGFVUkwoZm9ybWF0LCBxdWFsaXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQsIHJlbmRlcnMgdGhpcyB0YXJnZXQgdG8gaXQgYW5kIHRoZW4gcmV0dXJucyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBBIENhbnZhcyBlbGVtZW50IHdpdGggdGhlIHRleHR1cmUgcmVuZGVyZWQgb24uXG4gICAgICovXG4gICAgY2FudmFzKHRhcmdldClcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgbGV0IHJlc29sdXRpb247XG4gICAgICAgIGxldCBmcmFtZTtcbiAgICAgICAgbGV0IGZsaXBZID0gZmFsc2U7XG4gICAgICAgIGxldCByZW5kZXJUZXh0dXJlO1xuICAgICAgICBsZXQgZ2VuZXJhdGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRhcmdldClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICBmbGlwWSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgZmxpcFkgPSB0cnVlO1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0O1xuXG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGguZmxvb3IoZnJhbWUud2lkdGggKiByZXNvbHV0aW9uKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5mbG9vcihmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uKTtcblxuICAgICAgICBjb25zdCBjYW52YXNCdWZmZXIgPSBuZXcgQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIDEpO1xuXG4gICAgICAgIGNvbnN0IHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgICAgIC8vIHJlYWQgcGl4ZWxzIHRvIHRoZSBhcnJheVxuICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLnJlYWRQaXhlbHMoXG4gICAgICAgICAgICBmcmFtZS54ICogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIGZyYW1lLnkgKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICBnbC5SR0JBLFxuICAgICAgICAgICAgZ2wuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgIHdlYmdsUGl4ZWxzXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gYWRkIHRoZSBwaXhlbHMgdG8gdGhlIGNhbnZhc1xuICAgICAgICBjb25zdCBjYW52YXNEYXRhID0gY2FudmFzQnVmZmVyLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIEV4dHJhY3QuYXJyYXlQb3N0RGl2aWRlKHdlYmdsUGl4ZWxzLCBjYW52YXNEYXRhLmRhdGEpO1xuXG4gICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnB1dEltYWdlRGF0YShjYW52YXNEYXRhLCAwLCAwKTtcblxuICAgICAgICAvLyBwdWxsaW5nIHBpeGVsc1xuICAgICAgICBpZiAoZmxpcFkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnNjYWxlKDEsIC0xKTtcbiAgICAgICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LmRyYXdJbWFnZShjYW52YXNCdWZmZXIuY2FudmFzLCAwLCAtaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZW5lcmF0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICAgICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICAgICAqIG9yZGVyLCB3aXRoIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1IChpbmNsdWRlZCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtVaW50OEFycmF5fSBPbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmVcbiAgICAgKi9cbiAgICBwaXhlbHModGFyZ2V0KVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICBsZXQgcmVzb2x1dGlvbjtcbiAgICAgICAgbGV0IGZyYW1lO1xuICAgICAgICBsZXQgcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgbGV0IGdlbmVyYXRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0YXJnZXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuXG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgIGNvbnN0IHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgICAgIC8vIHJlYWQgcGl4ZWxzIHRvIHRoZSBhcnJheVxuICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLnJlYWRQaXhlbHMoXG4gICAgICAgICAgICBmcmFtZS54ICogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIGZyYW1lLnkgKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICBnbC5SR0JBLFxuICAgICAgICAgICAgZ2wuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgIHdlYmdsUGl4ZWxzXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGdlbmVyYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUod2ViZ2xQaXhlbHMsIHdlYmdsUGl4ZWxzKTtcblxuICAgICAgICByZXR1cm4gd2ViZ2xQaXhlbHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGV4dHJhY3RcbiAgICAgKlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5leHRyYWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGFrZXMgcHJlbXVsdGlwbGllZCBwaXhlbCBkYXRhIGFuZCBwcm9kdWNlcyByZWd1bGFyIHBpeGVsIGRhdGFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHBpeGVscyB7bnVtYmVyW10gfCBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXl9IGFycmF5IG9mIHBpeGVsIGRhdGFcbiAgICAgKiBAcGFyYW0gb3V0IHtudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gb3V0cHV0IGFycmF5XG4gICAgICovXG4gICAgc3RhdGljIGFycmF5UG9zdERpdmlkZShwaXhlbHMsIG91dClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGl4ZWxzLmxlbmd0aDsgaSArPSA0KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhbHBoYSA9IG91dFtpICsgM10gPSBwaXhlbHNbaSArIDNdO1xuXG4gICAgICAgICAgICBpZiAoYWxwaGEgIT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb3V0W2ldID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMV0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpICsgMV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMl0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpICsgMl0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG91dFtpXSA9IHBpeGVsc1tpXTtcbiAgICAgICAgICAgICAgICBvdXRbaSArIDFdID0gcGl4ZWxzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBvdXRbaSArIDJdID0gcGl4ZWxzW2kgKyAyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogSG9sZHMgYWxsIGluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYW4gSW50ZXJhY3Rpb24gZXZlbnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyYWN0aW9uRGF0YVxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHBvaW50IHN0b3JlcyB0aGUgZ2xvYmFsIGNvb3JkcyBvZiB3aGVyZSB0aGUgdG91Y2gvbW91c2UgZXZlbnQgaGFwcGVuZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsID0gbmV3IFBvaW50KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0YXJnZXQgU3ByaXRlIHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBwYXNzZWQgdG8gYW4gZXZlbnQgaGFuZGxlciwgdGhpcyB3aWxsIGJlIHRoZSBvcmlnaW5hbCBET00gRXZlbnQgdGhhdCB3YXMgY2FwdHVyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR8UG9pbnRlckV2ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJhY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSBwb2ludGVyIGRldmljZSB0aGF0IGNyZWF0ZWQgdGhlIGV2ZW50IGlzIHRoZSBwcmltYXJ5IHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9pc1ByaW1hcnlcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9uIHdhcyBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB0byB0cmlnZ2VyIHRoZSBldmVudC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnV0dG9uID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbnMgYXJlIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHdoZW4gdGhlIGV2ZW50IGlzIHRyaWdnZXJlZC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB4LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvd2lkdGhcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeS1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAgICAgKiByYWRpdXNZIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2hlaWdodFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFhcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsdFggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFlcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsdFkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiBwb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJUeXBlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50ZXJUeXBlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJlc3N1cmUgYXBwbGllZCBieSB0aGUgcG9pbnRpbmcgZGV2aWNlIGR1cmluZyB0aGUgZXZlbnQuIEEgVG91Y2gncyBmb3JjZSBwcm9wZXJ0eVxuICAgICAgICAgKiB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wcmVzc3VyZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyb20gVG91Y2hFdmVudHMgKG5vdCBQb2ludGVyRXZlbnRzIHRyaWdnZXJlZCBieSB0b3VjaGVzKSwgdGhlIHJvdGF0aW9uQW5nbGUgb2YgdGhlIFRvdWNoLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaC9yb3RhdGlvbkFuZ2xlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUd2lzdCBvZiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR3aXN0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmFycmVsIHByZXNzdXJlIG9uIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHBvaW50ZXIuIEl0IHdpbGwgYmUgdGhlIHNhbWUgYXMgYGlkZW50aWZpZXJgLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlcklkXG4gICAgICovXG4gICAgZ2V0IHBvaW50ZXJJZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBmb3IgdGhpcyBJbnRlcmFjdGlvbkRhdGFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgbG9jYWxcbiAgICAgKiAgY29vcmRzIG9mZlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWwgKG90aGVyd2lzZVxuICAgICAqICB3aWxsIGNyZWF0ZSBhIG5ldyBwb2ludClcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtnbG9iYWxQb3NdIC0gQSBQb2ludCBvYmplY3QgY29udGFpbmluZyB5b3VyIGN1c3RvbSBnbG9iYWwgY29vcmRzLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgdXNlIHRoZSBjdXJyZW50IGdsb2JhbCBjb29yZHMpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBjb250YWluaW5nIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgSW50ZXJhY3Rpb25EYXRhIHBvc2l0aW9uIHJlbGF0aXZlXG4gICAgICogIHRvIHRoZSBEaXNwbGF5T2JqZWN0XG4gICAgICovXG4gICAgZ2V0TG9jYWxQb3NpdGlvbihkaXNwbGF5T2JqZWN0LCBwb2ludCwgZ2xvYmFsUG9zKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKGdsb2JhbFBvcyB8fCB0aGlzLmdsb2JhbCwgcG9pbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIGZyb20gbm9ybWFsaXplZCBldmVudCBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtUb3VjaHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgVGhlIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YVxuICAgICAqL1xuICAgIGNvcHlFdmVudChldmVudClcbiAgICB7XG4gICAgICAgIC8vIGlzUHJpbWFyeSBzaG91bGQgb25seSBjaGFuZ2Ugb24gdG91Y2hzdGFydC9wb2ludGVyZG93biwgc28gd2UgZG9uJ3Qgd2FudCB0byBvdmVyd3JpdGVcbiAgICAgICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAgICAgLy8gYWNjdXJhdGVcbiAgICAgICAgaWYgKGV2ZW50LmlzUHJpbWFyeSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICAgICAgICAvLyBldmVudC5idXR0b25zIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzIChpZS4gU2FmYXJpKSwgYnV0IGl0IGRvZXMgaGF2ZSBhIG5vbi1zdGFuZGFyZFxuICAgICAgICAvLyBldmVudC53aGljaCBwcm9wZXJ0eSBpbnN0ZWFkLCB3aGljaCBjb252ZXlzIHRoZSBzYW1lIGluZm9ybWF0aW9uLlxuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBOdW1iZXIuaXNJbnRlZ2VyKGV2ZW50LmJ1dHRvbnMpID8gZXZlbnQuYnV0dG9ucyA6IGV2ZW50LndoaWNoO1xuICAgICAgICB0aGlzLndpZHRoID0gZXZlbnQud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gZXZlbnQuaGVpZ2h0O1xuICAgICAgICB0aGlzLnRpbHRYID0gZXZlbnQudGlsdFg7XG4gICAgICAgIHRoaXMudGlsdFkgPSBldmVudC50aWx0WTtcbiAgICAgICAgdGhpcy5wb2ludGVyVHlwZSA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gZXZlbnQucHJlc3N1cmU7XG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9IGV2ZW50LnJvdGF0aW9uQW5nbGU7XG4gICAgICAgIHRoaXMudHdpc3QgPSBldmVudC50d2lzdCB8fCAwO1xuICAgICAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9IGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSB8fCAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZGF0YSBmb3IgcG9vbGluZy5cbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICAvLyBpc1ByaW1hcnkgaXMgdGhlIG9ubHkgcHJvcGVydHkgdGhhdCB3ZSByZWFsbHkgbmVlZCB0byByZXNldCAtIGV2ZXJ5dGhpbmcgZWxzZSBpc1xuICAgICAgICAvLyBndWFyYW50ZWVkIHRvIGJlIG92ZXJ3cml0dGVuXG4gICAgICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBFdmVudCBjbGFzcyB0aGF0IG1pbWljcyBuYXRpdmUgRE9NIGV2ZW50cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyYWN0aW9uRXZlbnRcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIGV2ZW50IHdpbGwgY29udGludWUgcHJvcGFnYXRpbmcgaW4gdGhlIHRyZWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2JqZWN0IHdoaWNoIGNhdXNlZCB0aGlzIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gICAgICAgICAqIEZvciBsaXN0ZW5lciBjYWxsYmFjayBzZWUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudC5jdXJyZW50VGFyZ2V0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2JqZWN0IHdob3NlIGV2ZW50IGxpc3RlbmVy4oCZcyBjYWxsYmFjayBpcyBjdXJyZW50bHkgYmVpbmcgaW52b2tlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHlwZSBvZiB0aGUgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJhY3Rpb25EYXRhIHJlbGF0ZWQgdG8gdGhpcyBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJldmVudHMgZXZlbnQgZnJvbSByZWFjaGluZyBhbnkgb2JqZWN0cyBvdGhlciB0aGFuIHRoZSBjdXJyZW50IG9iamVjdC5cbiAgICAgKlxuICAgICAqL1xuICAgIHN0b3BQcm9wYWdhdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICB9XG59XG4iLCIvKipcbiAqIERpc3BsYXlPYmplY3RzIHdpdGggdGhlIHtAbGluayBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0fSBtaXhpbiB1c2UgdGhpcyBjbGFzcyB0byB0cmFjayBpbnRlcmFjdGlvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVySWQgLSBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBvaW50ZXJJZClcbiAgICB7XG4gICAgICAgIHRoaXMuX3BvaW50ZXJJZCA9IHBvaW50ZXJJZDtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBpbnRlcmFjdGlvbiBmbGFnIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBTaG91bGQgdGhlIGZsYWcgYmUgc2V0IG9yIHVuc2V0XG4gICAgICovXG4gICAgX2RvU2V0KGZsYWcsIHluKVxuICAgIHtcbiAgICAgICAgaWYgKHluKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzIHwgZmxhZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgJiAofmZsYWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcG9pbnRlcklkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb2ludGVySWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGEsIGV4cHJlc3NlZCBhcyBiaXQgZmxhZ3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBmbGFncygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmxhZ3M7XG4gICAgfVxuXG4gICAgc2V0IGZsYWdzKGZsYWdzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gZmxhZ3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgaW5hY3RpdmUgKG5vdCBvdmVyIG9yIGRvd24pP1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IG5vbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzID09PSB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk5PTkU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgb3ZlciB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgb3ZlcigpXG4gICAge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5PVkVSKSAhPT0gMDtcbiAgICB9XG5cbiAgICBzZXQgb3Zlcih5bikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIsIHluKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaWQgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHJpZ2h0RG93bigpXG4gICAge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5SSUdIVF9ET1dOKSAhPT0gMDtcbiAgICB9XG5cbiAgICBzZXQgcmlnaHREb3duKHluKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuUklHSFRfRE9XTiwgeW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpZCB0aGUgbGVmdCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBsZWZ0RG93bigpXG4gICAge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04pICE9PSAwO1xuICAgIH1cblxuICAgIHNldCBsZWZ0RG93bih5bikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLkxFRlRfRE9XTiwgeW4pO1xuICAgIH1cbn1cblxuSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MgPSBPYmplY3QuZnJlZXplKHtcbiAgICBOT05FOiAwLFxuICAgIE9WRVI6IDEgPDwgMCxcbiAgICBMRUZUX0RPV046IDEgPDwgMSxcbiAgICBSSUdIVF9ET1dOOiAxIDw8IDIsXG59KTtcbiIsIi8qKlxuICogSW50ZXJmYWNlIGZvciBjbGFzc2VzIHRoYXQgcmVwcmVzZW50IGEgaGl0IGFyZWEuXG4gKlxuICogSXQgaXMgaW1wbGVtZW50ZWQgYnkgdGhlIGZvbGxvd2luZyBjbGFzc2VzOlxuICogLSB7QGxpbmsgUElYSS5DaXJjbGV9XG4gKiAtIHtAbGluayBQSVhJLkVsbGlwc2V9XG4gKiAtIHtAbGluayBQSVhJLlBvbHlnb259XG4gKiAtIHtAbGluayBQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gKlxuICogQGludGVyZmFjZSBJSGl0QXJlYVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgYXJlYVxuICpcbiAqIEBtZXRob2RcbiAqIEBuYW1lIGNvbnRhaW5zXG4gKiBAbWVtYmVyb2YgUElYSS5JSGl0QXJlYSNcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIGFyZWFcbiAqL1xuXG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGludGVyYWN0aXZlIG9iamVjdHNcbiAqIFVzZWQgYnkge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSB0byBhdXRvbWF0aWNhbGx5IGdpdmUgYWxsIERpc3BsYXlPYmplY3RzIHRoZXNlIHByb3BlcnRpZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaW50ZXJhY3RpdmVUYXJnZXRcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldFxuICogICAgICApO1xuICovXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgaW50ZXJhY3Rpb24gZXZlbnRzIGZvciB0aGUgRGlzcGxheU9iamVjdC4gVG91Y2gsIHBvaW50ZXIgYW5kIG1vdXNlXG4gICAgICogZXZlbnRzIHdpbGwgbm90IGJlIGVtaXR0ZWQgdW5sZXNzIGBpbnRlcmFjdGl2ZWAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLm9uKCd0YXAnLCAoZXZlbnQpID0+IHtcbiAgICAgKiAgICAvL2hhbmRsZSBldmVudFxuICAgICAqIH0pO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjaGlsZHJlbiB0byB0aGUgZGlzcGxheU9iamVjdCBjYW4gYmUgY2xpY2tlZC90b3VjaGVkXG4gICAgICogU2V0dGluZyB0aGlzIHRvIGZhbHNlIGFsbG93cyBQaXhpSlMgdG8gYnlwYXNzIGEgcmVjdXJzaXZlIGBoaXRUZXN0YCBmdW5jdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gICAgICovXG4gICAgaW50ZXJhY3RpdmVDaGlsZHJlbjogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aW9uIHNoYXBlLiBDaGlsZHJlbiB3aWxsIGJlIGhpdCBmaXJzdCwgdGhlbiB0aGlzIHNoYXBlIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBTZXR0aW5nIHRoaXMgd2lsbCBjYXVzZSB0aGlzIHNoYXBlIHRvIGJlIGNoZWNrZWQgaW4gaGl0IHRlc3RzIHJhdGhlciB0aGFuIHRoZSBkaXNwbGF5T2JqZWN0J3MgYm91bmRzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuaGl0QXJlYSA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCk7XG4gICAgICogQG1lbWJlciB7UElYSS5JSGl0QXJlYX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGhpdEFyZWE6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJZiBlbmFibGVkLCB0aGUgbW91c2UgY3Vyc29yIHVzZSB0aGUgcG9pbnRlciBiZWhhdmlvciB3aGVuIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdCBpZiBpdCBpcyBpbnRlcmFjdGl2ZVxuICAgICAqIFNldHRpbmcgdGhpcyBjaGFuZ2VzIHRoZSAnY3Vyc29yJyBwcm9wZXJ0eSB0byBgJ3BvaW50ZXInYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmJ1dHRvbk1vZGUgPSB0cnVlO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBnZXQgYnV0dG9uTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJztcbiAgICB9LFxuICAgIHNldCBidXR0b25Nb2RlKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBkZWZpbmVzIHdoYXQgY3Vyc29yIG1vZGUgaXMgdXNlZCB3aGVuIHRoZSBtb3VzZSBjdXJzb3JcbiAgICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5jdXJzb3IgPSAnd2FpdCc7XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjdXJzb3I6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBzZXQgb2YgYWxsIGFjdGl2ZSBwb2ludGVycywgYnkgaWRlbnRpZmllclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQgdHJhY2tlZFBvaW50ZXJzKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90cmFja2VkUG9pbnRlcnMgPT09IHVuZGVmaW5lZCkgdGhpcy5fdHJhY2tlZFBvaW50ZXJzID0ge307XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYWNrZWRQb2ludGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFwIG9mIGFsbCB0cmFja2VkIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyLiBVc2UgdHJhY2tlZFBvaW50ZXJzIHRvIGFjY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICAgKi9cbiAgICBfdHJhY2tlZFBvaW50ZXJzOiB1bmRlZmluZWQsXG59O1xuIiwiaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCBJbnRlcmFjdGlvbkRhdGEgZnJvbSAnLi9JbnRlcmFjdGlvbkRhdGEnO1xuaW1wb3J0IEludGVyYWN0aW9uRXZlbnQgZnJvbSAnLi9JbnRlcmFjdGlvbkV2ZW50JztcbmltcG9ydCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSBmcm9tICcuL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCBpbnRlcmFjdGl2ZVRhcmdldCBmcm9tICcuL2ludGVyYWN0aXZlVGFyZ2V0JztcblxuLy8gTWl4IGludGVyYWN0aXZlVGFyZ2V0IGludG8gRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4vLyBhZnRlciBkZXByZWNhdGlvbiBoYXMgYmVlbiBoYW5kbGVkXG5EaXNwbGF5T2JqZWN0Lm1peGluKGludGVyYWN0aXZlVGFyZ2V0KTtcblxuY29uc3QgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG5cbi8vIGhlbHBlcnMgZm9yIGhpdFRlc3QoKSAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG5jb25zdCBoaXRUZXN0RXZlbnQgPSB7XG4gICAgdGFyZ2V0OiBudWxsLFxuICAgIGRhdGE6IHtcbiAgICAgICAgZ2xvYmFsOiBudWxsLFxuICAgIH0sXG59O1xuXG4vKipcbiAqIFRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyIGRlYWxzIHdpdGggbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqXG4gKiBBbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgaW50ZXJhY3RpdmUgaWYgaXRzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUuXG4gKlxuICogVGhpcyBtYW5hZ2VyIGFsc28gc3VwcG9ydHMgbXVsdGl0b3VjaC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyYWN0aW9uTWFuYWdlciBleHRlbmRzIEV2ZW50RW1pdHRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdD10cnVlXSAtIFNob3VsZCB0aGUgbWFuYWdlciBhdXRvbWF0aWNhbGx5IHByZXZlbnQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5PTEwXSAtIEZyZXF1ZW5jeSBpbmNyZWFzZXMgdGhlIGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBpbnRlcmFjdGlvbiBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMgYXV0b21hdGljYWxseSBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqIERvZXMgbm90IGFwcGx5IHRvIHBvaW50ZXIgZXZlbnRzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgKiBwcmV2ZW50RGVmYXVsdCBvbiBwb2ludGVyIGV2ZW50cyBzdG9wcyBtb3VzZSBldmVudHMgZnJvbSBmaXJpbmdcbiAgICAgICAgICogVGh1cywgZm9yIGV2ZXJ5IHBvaW50ZXIgZXZlbnQsIHRoZXJlIHdpbGwgYWx3YXlzIGJlIGVpdGhlciBhIG1vdXNlIG9mIHRvdWNoIGV2ZW50IGFsb25nc2lkZSBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvUHJldmVudERlZmF1bHQgPSBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgOiB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGcmVxdWVuY3kgaW4gbWlsbGlzZWNvbmRzIHRoYXQgdGhlIG1vdXNlbW92ZSwgbW91c2VvdmVyICYgbW91c2VvdXQgaW50ZXJhY3Rpb24gZXZlbnRzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSA9IG9wdGlvbnMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgfHwgMTA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3VzZSBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBJbnRlcmFjdGlvbkRhdGEoKTtcbiAgICAgICAgdGhpcy5tb3VzZS5pZGVudGlmaWVyID0gTU9VU0VfUE9JTlRFUl9JRDtcblxuICAgICAgICAvLyBzZXR0aW5nIHRoZSBtb3VzZSB0byBzdGFydCBvZmYgZmFyIG9mZiBzY3JlZW4gd2lsbCBtZWFuIHRoYXQgbW91c2Ugb3ZlciBkb2VzXG4gICAgICAgIC8vICBub3QgZ2V0IGNhbGxlZCBiZWZvcmUgd2UgZXZlbiBtb3ZlIHRoZSBtb3VzZS5cbiAgICAgICAgdGhpcy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmVseSB0cmFja2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlcixQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YT59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtNT1VTRV9QT0lOVEVSX0lEXSA9IHRoaXMubW91c2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdW51c2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGV2ZW50IGRhdGEgb2JqZWN0IHRvIGhhbmRsZSBhbGwgdGhlIGV2ZW50IHRyYWNraW5nL2Rpc3BhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnREYXRhID0gbmV3IEludGVyYWN0aW9uRXZlbnQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIERPTSBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJzaW9uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb3ZlV2hlbkluc2lkZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXZlIGV2ZW50cyBiZWVuIGF0dGFjaGVkIHRvIHRoZSBkb20gZWxlbWVudD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgbW91c2UgaG92ZXJpbmcgb3ZlciB0aGUgcmVuZGVyZXI/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGUgZGV2aWNlIHN1cHBvcnQgdG91Y2ggZXZlbnRzXG4gICAgICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi90b3VjaC1ldmVudHMvXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCBwb2ludGVyIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvU3VibWlzc2lvbi9wb2ludGVyLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyA9ICEhd2luZG93LlBvaW50ZXJFdmVudDtcblxuICAgICAgICAvLyB0aGlzIHdpbGwgbWFrZSBpdCBzbyB0aGF0IHlvdSBkb24ndCBoYXZlIHRvIGNhbGwgYmluZCBhbGwgdGhlIHRpbWVcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gdGhpcy5vblBvaW50ZXJVcC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyVXAgPSB0aGlzLnByb2Nlc3NQb2ludGVyVXAuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IHRoaXMub25Qb2ludGVyQ2FuY2VsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gdGhpcy5vblBvaW50ZXJEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gdGhpcy5wcm9jZXNzUG9pbnRlckRvd24uYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSB0aGlzLm9uUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3V0ID0gdGhpcy5vblBvaW50ZXJPdXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3ZlciA9IHRoaXMub25Qb2ludGVyT3Zlci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWN0aW9uYXJ5IG9mIGhvdyBkaWZmZXJlbnQgY3Vyc29yIG1vZGVzIGFyZSBoYW5kbGVkLiBTdHJpbmdzIGFyZSBoYW5kbGVkIGFzIENTUyBjdXJzb3JcbiAgICAgICAgICogdmFsdWVzLCBvYmplY3RzIGFyZSBoYW5kbGVkIGFzIGRpY3Rpb25hcmllcyBvZiBDU1MgdmFsdWVzIGZvciBpbnRlcmFjdGlvbkRPTUVsZW1lbnQsXG4gICAgICAgICAqIGFuZCBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbnN0ZWFkIG9mIGNoYW5naW5nIHRoZSBDU1MuXG4gICAgICAgICAqIERlZmF1bHQgQ1NTIGN1cnNvciB2YWx1ZXMgYXJlIHByb3ZpZGVkIGZvciAnZGVmYXVsdCcgYW5kICdwb2ludGVyJyBtb2Rlcy5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIE9iamVjdD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnNvclN0eWxlcyA9IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbmhlcml0JyxcbiAgICAgICAgICAgIHBvaW50ZXI6ICdwb2ludGVyJyxcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vZGUgb2YgdGhlIGN1cnNvciB0aGF0IGlzIGJlaW5nIHVzZWQuXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIGlzIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY2FjaGVkIGxldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBjYWNoZWQgbGV0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVsYXllZCBwb2ludGVyIGV2ZW50cy4gVXNlZCB0byBndWFyYW50ZWUgY29ycmVjdCBvcmRlcmluZyBvZiBvdmVyL291dCBldmVudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBOb3QgYWx3YXlzIGZpcmVkIHdoZW4gc29tZSBidXR0b25zIGFyZSBoZWxkIGRvd24gd2hpbGUgb3RoZXJzIGFyZSByZWxlYXNlZC4gSW4gdGhvc2UgY2FzZXMsXG4gICAgICAgICAqIHVzZSBbbW91c2Vkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259IGFuZFxuICAgICAgICAgKiBbbW91c2V1cF17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2V1cH0gaW5zdGVhZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5LlxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoLlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgdGhpcy5zZXRUYXJnZXRFbGVtZW50KHRoaXMucmVuZGVyZXIudmlldywgdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaXQgdGVzdHMgYSBwb2ludCBhZ2FpbnN0IHRoZSBkaXNwbGF5IHRyZWUsIHJldHVybmluZyB0aGUgZmlyc3QgaW50ZXJhY3RpdmUgb2JqZWN0IHRoYXQgaXMgaGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBnbG9iYWxQb2ludCAtIEEgcG9pbnQgdG8gaGl0IHRlc3Qgd2l0aCwgaW4gZ2xvYmFsIHNwYWNlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IFtyb290XSAtIFRoZSByb290IGRpc3BsYXkgb2JqZWN0IHRvIHN0YXJ0IGZyb20uIElmIG9taXR0ZWQsIGRlZmF1bHRzXG4gICAgICogdG8gdGhlIGxhc3QgcmVuZGVyZWQgcm9vdCBvZiB0aGUgYXNzb2NpYXRlZCByZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBoaXQgZGlzcGxheSBvYmplY3QsIGlmIGFueS5cbiAgICAgKi9cbiAgICBoaXRUZXN0KGdsb2JhbFBvaW50LCByb290KVxuICAgIHtcbiAgICAgICAgLy8gY2xlYXIgdGhlIHRhcmdldCBmb3Igb3VyIGhpdCB0ZXN0XG4gICAgICAgIGhpdFRlc3RFdmVudC50YXJnZXQgPSBudWxsO1xuICAgICAgICAvLyBhc3NpZ24gdGhlIGdsb2JhbCBwb2ludFxuICAgICAgICBoaXRUZXN0RXZlbnQuZGF0YS5nbG9iYWwgPSBnbG9iYWxQb2ludDtcbiAgICAgICAgLy8gZW5zdXJlIHNhZmV0eSBvZiB0aGUgcm9vdFxuICAgICAgICBpZiAoIXJvb3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJvb3QgPSB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcnVuIHRoZSBoaXQgdGVzdFxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShoaXRUZXN0RXZlbnQsIHJvb3QsIG51bGwsIHRydWUpO1xuICAgICAgICAvLyByZXR1cm4gb3VyIGZvdW5kIG9iamVjdCAtIGl0J2xsIGJlIG51bGwgaWYgd2UgZGlkbid0IGhpdCBhbnl0aGluZ1xuXG4gICAgICAgIHJldHVybiBoaXRUZXN0RXZlbnQudGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZS90b3VjaCBldmVudHMuIFRoaXMgaXMgdXNlZnVsIGZvciB3aGVuIHlvdSBoYXZlXG4gICAgICogb3RoZXIgRE9NIGVsZW1lbnRzIG9uIHRvcCBvZiB0aGUgcmVuZGVyZXJzIENhbnZhcyBlbGVtZW50LiBXaXRoIHRoaXMgeW91J2xsIGJlIGJhbGUgdG8gZGVsZWdhdGVcbiAgICAgKiBhbm90aGVyIERPTSBlbGVtZW50IHRvIHJlY2VpdmUgdGhvc2UgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UgYW5kIHRvdWNoIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgbmV3IGVsZW1lbnQgKHJlbGF0aXZlIHRvIHRoZSBjYW52YXMpLlxuICAgICAqL1xuICAgIHNldFRhcmdldEVsZW1lbnQoZWxlbWVudCwgcmVzb2x1dGlvbiA9IDEpXG4gICAge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFsbCB0aGUgRE9NIGV2ZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhZGRFdmVudHMoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgVGlja2VyLnN5c3RlbS5hZGQodGhpcy51cGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy1jb250ZW50LXpvb21pbmcnXSA9ICdub25lJztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtdG91Y2gtYWN0aW9uJ10gPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyd0b3VjaC1hY3Rpb24nXSA9ICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGVzZSBldmVudHMgYXJlIGFkZGVkIGZpcnN0LCBzbyB0aGF0IGlmIHBvaW50ZXIgZXZlbnRzIGFyZSBub3JtYWxpemVkLCB0aGV5IGFyZSBmaXJlZFxuICAgICAgICAgKiBpbiB0aGUgc2FtZSBvcmRlciBhcyBub24tbm9ybWFsaXplZCBldmVudHMuIGllLiBwb2ludGVyIGV2ZW50IDFzdCwgbW91c2UgLyB0b3VjaCAybmRcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIHBvaW50ZXJvdXQgaXMgZmlyZWQgaW4gYWRkaXRpb24gdG8gcG9pbnRlcnVwIChmb3IgdG91Y2ggZXZlbnRzKSBhbmQgcG9pbnRlcmNhbmNlbFxuICAgICAgICAgICAgLy8gd2UgYWxyZWFkeSBoYW5kbGUgdGhvc2UsIHNvIGZvciB0aGUgcHVycG9zZXMgb2Ygd2hhdCB3ZSBkbyBpbiBvblBvaW50ZXJPdXQsIHdlIG9ubHlcbiAgICAgICAgICAgIC8vIGNhcmUgYWJvdXQgdGhlIHBvaW50ZXJsZWF2ZSBldmVudFxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWx3YXlzIGxvb2sgZGlyZWN0bHkgZm9yIHRvdWNoIGV2ZW50cyBzbyB0aGF0IHdlIGNhbiBwcm92aWRlIG9yaWdpbmFsIGRhdGFcbiAgICAgICAgLy8gSW4gYSBmdXR1cmUgdmVyc2lvbiB3ZSBzaG91bGQgY2hhbmdlIHRoaXMgdG8gYmVpbmcganVzdCBhIGZhbGxiYWNrIGFuZCByZWx5IHNvbGVseSBvblxuICAgICAgICAvLyBQb2ludGVyRXZlbnRzIHdoZW5ldmVyIGF2YWlsYWJsZVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgRE9NIGV2ZW50cyB0aGF0IHdlcmUgcHJldmlvdXNseSByZWdpc3RlcmVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlbW92ZUV2ZW50cygpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy1jb250ZW50LXpvb21pbmcnXSA9ICcnO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy10b3VjaC1hY3Rpb24nXSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsndG91Y2gtYWN0aW9uJ10gPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cy5cbiAgICAgKiBJbnZva2VkIGJ5IGEgdGhyb3R0bGVkIHRpY2tlciB1cGRhdGUgZnJvbSB7QGxpbmsgUElYSS5UaWNrZXIuc3lzdGVtfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIGRlbHRhIHNpbmNlIGxhc3QgdGlja1xuICAgICAqL1xuICAgIHVwZGF0ZShkZWx0YVRpbWUpXG4gICAge1xuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgKz0gZGVsdGFUaW1lO1xuXG4gICAgICAgIGlmICh0aGlzLl9kZWx0YVRpbWUgPCB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuXG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIG1vdmUgdGhlIG1vdXNlIHRoaXMgY2hlY2sgaGFzIGFscmVhZHkgYmVlbiBkb25lIHVzaW5nIHRoZSBtb3VzZSBtb3ZlIVxuICAgICAgICBpZiAodGhpcy5kaWRNb3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpZE1vdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIC8vIFJlc2V0cyB0aGUgZmxhZyBhcyBzZXQgYnkgYSBzdG9wUHJvcGFnYXRpb24gY2FsbC4gVGhpcyBmbGFnIGlzIHVzdWFsbHkgcmVzZXQgYnkgYSB1c2VyIGludGVyYWN0aW9uIG9mIGFueSBraW5kLFxuICAgICAgICAvLyBidXQgdGhlcmUgd2FzIGEgc2NlbmFyaW8gb2YgYSBkaXNwbGF5IG9iamVjdCBtb3ZpbmcgdW5kZXIgYSBzdGF0aWMgbW91c2UgY3Vyc29yLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIG1vdXNlb3ZlciBhbmQgbW91c2VldmVudHMgd291bGQgbm90IHBhc3MgdGhlIGZsYWcgdGVzdCBpbiBkaXNwYXRjaEV2ZW50IGZ1bmN0aW9uXG4gICAgICAgIGZvciAoY29uc3QgayBpbiB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhLmhhc093blByb3BlcnR5KGspKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2tdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ICYmIGludGVyYWN0aW9uRGF0YS5wb2ludGVyVHlwZSAhPT0gJ3RvdWNoJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgY3Vyc29yIG1vZGUsIGhhbmRsaW5nIGFueSBjYWxsYmFja3Mgb3IgQ1NTIHN0eWxlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIGN1cnNvciBtb2RlLCBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeVxuICAgICAqL1xuICAgIHNldEN1cnNvck1vZGUobW9kZSlcbiAgICB7XG4gICAgICAgIG1vZGUgPSBtb2RlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgLy8gaWYgdGhlIG1vZGUgZGlkbid0IGFjdHVhbGx5IGNoYW5nZSwgYmFpbCBlYXJseVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9PT0gbW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBtb2RlO1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuY3Vyc29yU3R5bGVzW21vZGVdO1xuXG4gICAgICAgIC8vIG9ubHkgZG8gdGhpbmdzIGlmIHRoZXJlIGlzIGEgY3Vyc29yIHN0eWxlIGZvciBpdFxuICAgICAgICBpZiAoc3R5bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHN0eWxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmluZyBzdHlsZXMgYXJlIGhhbmRsZWQgYXMgY3Vyc29yIENTU1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICAvLyBmdW5jdGlvbnMgYXJlIGp1c3QgY2FsbGVkLCBhbmQgcGFzc2VkIHRoZSBjdXJzb3IgbW9kZVxuICAgICAgICAgICAgICAgICAgICBzdHlsZShtb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgYW4gb2JqZWN0LCBhc3N1bWUgdGhhdCBpdCBpcyBhIGRpY3Rpb25hcnkgb2YgQ1NTIHN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgaXQgdG8gdGhlIGludGVyYWN0aW9uRE9NRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY3Vyc29yU3R5bGVzLCBtb2RlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgaXQgbW9kZSBpcyBhIHN0cmluZyAobm90IGEgU3ltYm9sKSBhbmQgY3Vyc29yU3R5bGVzIGRvZXNuJ3QgaGF2ZSBhbnkgZW50cnlcbiAgICAgICAgICAgIC8vIGZvciB0aGUgbW9kZSwgdGhlbiBhc3N1bWUgdGhhdCB0aGUgZGV2IHdhbnRzIGl0IHRvIGJlIENTUyBmb3IgdGhlIGN1cnNvci5cbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IG1vZGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IG9uIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSlcbiAgICB7XG4gICAgICAgIGlmICghZXZlbnREYXRhLnN0b3BwZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlID0gZXZlbnRTdHJpbmc7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZW1pdChldmVudFN0cmluZywgZXZlbnREYXRhKTtcblxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdXRzIGEgZXZlbnQgb24gYSBxdWV1ZSB0byBiZSBkaXNwYXRjaGVkIGxhdGVyLiBUaGlzIGlzIHVzZWQgdG8gZ3VhcmFudGVlIGNvcnJlY3RcbiAgICAgKiBvcmRlcmluZyBvZiBvdmVyL291dCBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkZWxheURpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGVsYXllZEV2ZW50cy5wdXNoKHsgZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHggYW5kIHkgY29vcmRzIGZyb20gYSBET00gb2JqZWN0IGFuZCBtYXBzIHRoZW0gY29ycmVjdGx5IHRvIHRoZSBQaXhpSlMgdmlldy4gVGhlXG4gICAgICogcmVzdWx0aW5nIHZhbHVlIGlzIHN0b3JlZCBpbiB0aGUgcG9pbnQuIFRoaXMgdGFrZXMgaW50byBhY2NvdW50IHRoZSBmYWN0IHRoYXQgdGhlIERPTVxuICAgICAqIGVsZW1lbnQgY291bGQgYmUgc2NhbGVkIGFuZCBwb3NpdGlvbmVkIGFueXdoZXJlIG9uIHRoZSBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0aGF0IHRoZSByZXN1bHQgd2lsbCBiZSBzdG9yZWQgaW5cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggLSB0aGUgeCBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5IC0gdGhlIHkgY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqL1xuICAgIG1hcFBvc2l0aW9uVG9Qb2ludChwb2ludCwgeCwgeSlcbiAgICB7XG4gICAgICAgIGxldCByZWN0O1xuXG4gICAgICAgIC8vIElFIDExIGZpeFxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnBhcmVudEVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlY3QgPSB7IHg6IDAsIHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc29sdXRpb25NdWx0aXBsaWVyID0gMS4wIC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHBvaW50LnggPSAoKHggLSByZWN0LmxlZnQpICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LndpZHRoIC8gcmVjdC53aWR0aCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgICAgIHBvaW50LnkgPSAoKHkgLSByZWN0LnRvcCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgcHJvdmlkZXMgYSBuZWF0IHdheSBvZiBjcmF3bGluZyB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgcnVubmluZyBhXG4gICAgICogc3BlY2lmaWVkIGZ1bmN0aW9uIG9uIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzIGl0IGZpbmRzLiBJdCB3aWxsIGFsc28gdGFrZSBjYXJlIG9mIGhpdFxuICAgICAqIHRlc3RpbmcgdGhlIGludGVyYWN0aXZlIG9iamVjdHMgYW5kIHBhc3NlcyB0aGUgaGl0IGFjcm9zcyBpbiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBldmVudCBjb250YWluaW5nIHRoZSBwb2ludCB0aGF0XG4gICAgICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICogIHRoYXQgd2lsbCBiZSBoaXQgdGVzdCAocmVjdXJzaXZlbHkgY3Jhd2xzIGl0cyBjaGlsZHJlbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gICAgICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaXRUZXN0XSAtIHRoaXMgaW5kaWNhdGVzIGlmIHRoZSBvYmplY3RzIGluc2lkZSBzaG91bGQgYmUgaGl0IHRlc3QgYWdhaW5zdCB0aGUgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnRlcmFjdGl2ZV0gLSBXaGV0aGVyIHRoZSBkaXNwbGF5T2JqZWN0IGlzIGludGVyYWN0aXZlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcERlbGF5ZWRdIC0gV2hldGhlciB0byBwcm9jZXNzIGRlbGF5ZWQgZXZlbnRzIGJlZm9yZSByZXR1cm5pbmcuIFRoaXMgaXNcbiAgICAgKiAgdXNlZCB0byBhdm9pZCBwcm9jZXNzaW5nIHRoZW0gdG9vIGVhcmx5IGR1cmluZyByZWN1cnNpdmUgY2FsbHMuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmV0dXJucyB0cnVlIGlmIHRoZSBkaXNwbGF5T2JqZWN0IGhpdCB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBwcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmUsIHNraXBEZWxheWVkKVxuICAgIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0IHx8ICFkaXNwbGF5T2JqZWN0LnZpc2libGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmdsb2JhbDtcblxuICAgICAgICAvLyBUb29rIGEgbGl0dGxlIHdoaWxlIHRvIHJld29yayB0aGlzIGZ1bmN0aW9uIGNvcnJlY3RseSEgQnV0IG5vdyBpdCBpcyBkb25lIGFuZCBuaWNlIGFuZCBvcHRpbWl6ZWQhIF5fXlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbm93IGxvb3AgdGhyb3VnaCBhbGwgb2JqZWN0cyBhbmQgdGhlbiBvbmx5IGhpdCB0ZXN0IHRoZSBvYmplY3RzIGl0IEhBU1xuICAgICAgICAvLyB0bywgbm90IGFsbCBvZiB0aGVtLiBNVUNIIGZhc3Rlci4uXG4gICAgICAgIC8vIEFuIG9iamVjdCB3aWxsIGJlIGhpdCB0ZXN0IGlmIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMTogSXQgaXMgaW50ZXJhY3RpdmUuXG4gICAgICAgIC8vIDI6IEl0IGJlbG9uZ3MgdG8gYSBwYXJlbnQgdGhhdCBpcyBpbnRlcmFjdGl2ZSBBTkQgb25lIG9mIHRoZSBwYXJlbnRzIGNoaWxkcmVuIGhhdmUgbm90IGFscmVhZHkgYmVlbiBoaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFzIGFub3RoZXIgbGl0dGxlIG9wdGltaXphdGlvbiBvbmNlIGFuIGludGVyYWN0aXZlIG9iamVjdCBoYXMgYmVlbiBoaXQgd2UgY2FuIGNhcnJ5IG9uXG4gICAgICAgIC8vIHRocm91Z2ggdGhlIHNjZW5lZ3JhcGgsIGJ1dCB3ZSBrbm93IHRoYXQgdGhlcmUgd2lsbCBiZSBubyBtb3JlIGhpdHMhIFNvIHdlIGNhbiBhdm9pZCBleHRyYSBoaXQgdGVzdHNcbiAgICAgICAgLy8gQSBmaW5hbCBvcHRpbWl6YXRpb24gaXMgdGhhdCBhbiBvYmplY3QgaXMgbm90IGhpdCB0ZXN0IGRpcmVjdGx5IGlmIGEgY2hpbGQgaGFzIGFscmVhZHkgYmVlbiBoaXQuXG5cbiAgICAgICAgaW50ZXJhY3RpdmUgPSBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlIHx8IGludGVyYWN0aXZlO1xuXG4gICAgICAgIGxldCBoaXQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGludGVyYWN0aXZlUGFyZW50ID0gaW50ZXJhY3RpdmU7XG5cbiAgICAgICAgLy8gRmxhZyBoZXJlIGNhbiBzZXQgdG8gZmFsc2UgaWYgdGhlIGV2ZW50IGlzIG91dHNpZGUgdGhlIHBhcmVudHMgaGl0QXJlYSBvciBtYXNrXG4gICAgICAgIGxldCBoaXRUZXN0Q2hpbGRyZW4gPSB0cnVlO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgaGl0QXJlYSwgbm8gbmVlZCB0byB0ZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBoaXRBcmVhXG4gICAgICAgIC8vIFRoZXJlIGlzIGFsc28gbm8gbG9uZ2VyIGEgbmVlZCB0byBoaXRUZXN0IGNoaWxkcmVuLlxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5oaXRBcmVhKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGhpcy5fdGVtcFBvaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYS5jb250YWlucyh0aGlzLl90ZW1wUG9pbnQueCwgdGhpcy5fdGVtcFBvaW50LnkpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgbWFzaywgbm8gbmVlZCB0byBoaXRUZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBtYXNrLlxuICAgICAgICAvLyBXZSBzdGlsbCB3YW50IHRvIGhpdFRlc3RDaGlsZHJlbiwgaG93ZXZlciwgdG8gZW5zdXJlIGEgbW91c2VvdXQgY2FuIHN0aWxsIGJlIGdlbmVyYXRlZC5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81MTM1XG4gICAgICAgIGVsc2UgaWYgKGRpc3BsYXlPYmplY3QuX21hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghKGRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludCAmJiBkaXNwbGF5T2JqZWN0Ll9tYXNrLmNvbnRhaW5zUG9pbnQocG9pbnQpKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAqKiBGUkVFIFRJUCAqKiEgSWYgYW4gb2JqZWN0IGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBoYXMgbm8gYnV0dG9ucyBpbiBpdFxuICAgICAgICAvLyAoc3VjaCBhcyBhIGdhbWUgc2NlbmUhKSBzZXQgaW50ZXJhY3RpdmVDaGlsZHJlbiB0byBmYWxzZSBmb3IgdGhhdCBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgUGl4aUpTIHRvIGNvbXBsZXRlbHkgaWdub3JlIGFuZCBieXBhc3MgY2hlY2tpbmcgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuLlxuICAgICAgICBpZiAoaGl0VGVzdENoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmVDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gdGltZSB0byBnZXQgcmVjdXJzaXZlLi4gaWYgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBpZiBzb21ldGhpbmcgaXMgaGl0Li5cbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEhpdCA9IHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIGNoaWxkLCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZVBhcmVudCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBpdHMgYSBnb29kIGlkZWEgdG8gY2hlY2sgaWYgYSBjaGlsZCBoYXMgbG9zdCBpdHMgcGFyZW50LlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1lYW5zIGl0IGhhcyBiZWVuIHJlbW92ZWQgd2hpbHN0IGxvb3Bpbmcgc28gaXRzIGJlc3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZC5wYXJlbnQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55IG1vcmUgb2JqZWN0cyBpbiB0aGlzIGNvbnRhaW5lciBhcyB3ZSB3ZVxuICAgICAgICAgICAgICAgICAgICAvLyBub3cga25vdyB0aGUgcGFyZW50IGhhcyBiZWVuIGhpdFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjaGlsZCBpcyBpbnRlcmFjdGl2ZSAsIHRoYXQgbWVhbnMgdGhhdCB0aGUgb2JqZWN0IGhpdCB3YXMgYWN0dWFsbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJhY3RpdmUgYW5kIG5vdCBqdXN0IHRoZSBjaGlsZCBvZiBhbiBpbnRlcmFjdGl2ZSBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55dGhpbmcgZWxzZS4gV2Ugc3RpbGwgbmVlZCB0byBydW5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3VnaCBhbGwgb2JqZWN0cywgYnV0IHdlIGRvbid0IG5lZWQgdG8gcGVyZm9ybSBhbnkgaGl0IHRlc3RzLlxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRXZlbnQudGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBwb2ludCBydW5uaW5nIHRoaXMgaWYgdGhlIGl0ZW0gaXMgbm90IGludGVyYWN0aXZlIG9yIGRvZXMgbm90IGhhdmUgYW4gaW50ZXJhY3RpdmUgcGFyZW50LlxuICAgICAgICBpZiAoaW50ZXJhY3RpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBoaXQgdGVzdGluZyAoYXMgaW4gd2UgaGF2ZSBubyBoaXQgYW55IG9iamVjdHMgeWV0KVxuICAgICAgICAgICAgLy8gV2UgYWxzbyBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGhpdCB0ZXN0aW5nIGlmIG9uY2Ugb2YgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyBoYXMgYWxyZWFkeSBiZWVuIGhpdCAtIGJ1dCBvbmx5IGlmIGl0IHdhcyBpbnRlcmFjdGl2ZSwgb3RoZXJ3aXNlIHdlIG5lZWQgdG8ga2VlcFxuICAgICAgICAgICAgLy8gbG9va2luZyBmb3IgYW4gaW50ZXJhY3RpdmUgY2hpbGQsIGp1c3QgaW4gY2FzZSB3ZSBoaXQgb25lXG4gICAgICAgICAgICBpZiAoaGl0VGVzdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSB0ZXN0ZWQgYWdhaW5zdCBoaXRBcmVhIGlmIGl0IGlzIGRlZmluZWRcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYSAmJiBkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KHBvaW50KSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGhpdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZ1bmMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmdW5jKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsICEhaGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWxheWVkRXZlbnRzID0gdGhpcy5kZWxheWVkRXZlbnRzO1xuXG4gICAgICAgIGlmIChkZWxheWVkRXZlbnRzLmxlbmd0aCAmJiAhc2tpcERlbGF5ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ZWRMZW4gPSBkZWxheWVkRXZlbnRzLmxlbmd0aDtcblxuICAgICAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsYXllZExlbjsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGF5ZWQgPSBkZWxheWVkRXZlbnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRlbGF5ZWQuZGlzcGxheU9iamVjdCwgZGVsYXllZC5ldmVudFN0cmluZywgZGVsYXllZC5ldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcHJlc3NlZCBkb3duIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHByZXNzZWQgZG93blxuICAgICAqL1xuICAgIG9uUG9pbnRlckRvd24ob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vIG5lZWQgdG8gcHJldmVudCBkZWZhdWx0IG9uIG5hdHVyYWwgcG9pbnRlciBldmVudHMsIGFzIHRoZXJlIGFyZSBubyBzaWRlIGVmZmVjdHNcbiAgICAgICAgICogTm9ybWFsaXplZCBldmVudHMsIGhvd2V2ZXIsIG1heSBoYXZlIHRoZSBkb3VibGUgbW91c2Vkb3duL3RvdWNoc3RhcnQgaXNzdWUgb24gdGhlIG5hdGl2ZSBhbmRyb2lkIGJyb3dzZXIsXG4gICAgICAgICAqIHNvIHN0aWxsIG5lZWQgdG8gYmUgcHJldmVudGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvLyBHdWFyYW50ZWVkIHRoYXQgdGhlcmUgd2lsbCBiZSBhdCBsZWFzdCBvbmUgZXZlbnQgaW4gZXZlbnRzLCBhbmQgYWxsIGV2ZW50cyBtdXN0IGhhdmUgdGhlIHNhbWUgcG9pbnRlciB0eXBlXG5cbiAgICAgICAgaWYgKHRoaXMuYXV0b1ByZXZlbnREZWZhdWx0ICYmIGV2ZW50c1swXS5pc05vcm1hbGl6ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbGFibGUgPSBvcmlnaW5hbEV2ZW50LmNhbmNlbGFibGUgfHwgISgnY2FuY2VsYWJsZScgaW4gb3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChjYW5jZWxhYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyRG93biwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVtaXQgYSBtb3VzZSBldmVudCBmb3IgXCJwZW5cIiBwb2ludGVycywgdGhlIHdheSBhIGJyb3dzZXIgd291bGQgZW1pdCBhIGZhbGxiYWNrIGV2ZW50XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgZG93biBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIHByb2Nlc3NQb2ludGVyRG93bihpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICBjb25zdCBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmIChoaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5yaWdodERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ubGVmdERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhbmNlbGxlZCAtIHRydWUgaWYgdGhlIHBvaW50ZXIgaXMgY2FuY2VsbGVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHBhc3NlZCB0byB7QGxpbmsgcHJvY2Vzc0ludGVyYWN0aXZlfVxuICAgICAqL1xuICAgIG9uUG9pbnRlckNvbXBsZXRlKG9yaWdpbmFsRXZlbnQsIGNhbmNlbGxlZCwgZnVuYylcbiAgICB7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBjb25zdCBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlIGV2ZW50IHdhc24ndCB0YXJnZXRpbmcgb3VyIGNhbnZhcywgdGhlbiBjb25zaWRlciBpdCB0byBiZSBwb2ludGVydXBvdXRzaWRlXG4gICAgICAgIC8vIGluIGFsbCBjYXNlcyAodW5sZXNzIGl0IHdhcyBhIHBvaW50ZXJjYW5jZWwpXG4gICAgICAgIGNvbnN0IGV2ZW50QXBwZW5kID0gb3JpZ2luYWxFdmVudC50YXJnZXQgIT09IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID8gJ291dHNpZGUnIDogJyc7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIC8vIHBlcmZvcm0gaGl0IHRlc3RpbmcgZm9yIGV2ZW50cyB0YXJnZXRpbmcgb3VyIGNhbnZhcyBvciBjYW5jZWwgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIGZ1bmMsIGNhbmNlbGxlZCB8fCAhZXZlbnRBcHBlbmQpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3BvaW50ZXJjYW5jZWwnIDogYHBvaW50ZXJ1cCR7ZXZlbnRBcHBlbmR9YCwgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChpc1JpZ2h0QnV0dG9uID8gYHJpZ2h0dXAke2V2ZW50QXBwZW5kfWAgOiBgbW91c2V1cCR7ZXZlbnRBcHBlbmR9YCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3RvdWNoY2FuY2VsJyA6IGB0b3VjaGVuZCR7ZXZlbnRBcHBlbmR9YCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50LnBvaW50ZXJJZCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBjYW5jZWxsZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgb25Qb2ludGVyQ2FuY2VsKGV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCB0cnVlLCB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBjYW5jZWwgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICovXG4gICAgcHJvY2Vzc1BvaW50ZXJDYW5jZWwoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgY29uc3QgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuICAgIG9uUG9pbnRlclVwKGV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCBmYWxzZSwgdGhpcy5wcm9jZXNzUG9pbnRlclVwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciB1cCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIHByb2Nlc3NQb2ludGVyVXAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KVxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICBjb25zdCBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGNvbnN0IHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcblxuICAgICAgICBjb25zdCBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcblxuICAgICAgICBjb25zdCBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuICAgICAgICAvLyBuZWVkIHRvIHRyYWNrIG1vdXNlIGRvd24gc3RhdHVzIGluIHRoZSBtb3VzZSBibG9jayBzbyB0aGF0IHdlIGNhbiBlbWl0XG4gICAgICAgIC8vIGV2ZW50IGluIGEgbGF0ZXIgYmxvY2tcbiAgICAgICAgbGV0IGlzTW91c2VUYXAgPSBmYWxzZTtcblxuICAgICAgICAvLyBNb3VzZSBvbmx5XG4gICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgIGNvbnN0IGZsYWdzID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1M7XG5cbiAgICAgICAgICAgIGNvbnN0IHRlc3QgPSBpc1JpZ2h0QnV0dG9uID8gZmxhZ3MuUklHSFRfRE9XTiA6IGZsYWdzLkxFRlRfRE9XTjtcblxuICAgICAgICAgICAgY29uc3QgaXNEb3duID0gdHJhY2tpbmdEYXRhICE9PSB1bmRlZmluZWQgJiYgKHRyYWNraW5nRGF0YS5mbGFncyAmIHRlc3QpO1xuXG4gICAgICAgICAgICBpZiAoaGl0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXAnIDogJ21vdXNldXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0Rvd24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGNsaWNrJyA6ICdjbGljaycsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHdlIGNhbiBjb25maXJtIHRoYXQgdGhlIG1vdXNlZG93biBoYXBwZW5lZCBvbiB0aGlzIG9iamVjdCwgZmxhZyBmb3IgbGF0ZXIgZW1pdCBvZiBwb2ludGVydGFwXG4gICAgICAgICAgICAgICAgICAgIGlzTW91c2VUYXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRG93bilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwb3V0c2lkZScgOiAnbW91c2V1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgZG93biBzdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5yaWdodERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLmxlZnREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUG9pbnRlcnMgYW5kIFRvdWNoZXMsIGFuZCBNb3VzZVxuICAgICAgICBpZiAoaGl0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBlbWl0IHBvaW50ZXJ0YXAgaWYgbm90IGEgbW91c2UsIG9yIGlmIHRoZSBtb3VzZSBibG9jayBkZWNpZGVkIGl0IHdhcyBhIHRhcFxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VzZSB8fCBpc01vdXNlVGFwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydGFwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1RvdWNoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG91Y2hlcyBhcmUgbm8gbG9uZ2VyIG92ZXIgKGlmIHRoZXkgZXZlciB3ZXJlKSB3aGVuIHdlIGdldCB0aGUgdG91Y2hlbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGVuc3VyZSB0aGF0IHdlIGRvbid0IGtlZXAgcHJldGVuZGluZyB0aGF0IHRoZXkgYXJlXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYWNraW5nRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgdHJhY2tpbmcgZGF0YSBpZiB0aGVyZSBpcyBubyBvdmVyL2Rvd24gc3RhdGUgc3RpbGwgYXNzb2NpYXRlZCB3aXRoIGl0XG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgJiYgdHJhY2tpbmdEYXRhLm5vbmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBtb3ZpbmdcbiAgICAgKi9cbiAgICBvblBvaW50ZXJNb3ZlKG9yaWdpbmFsRXZlbnQpXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaWRNb3ZlID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLCB0cnVlKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB0aGlzLmVtaXQoJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykgdGhpcy5lbWl0KCdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gQlVHIGZvciBwYXJlbnRzIGludGVyYWN0aXZlIG9iamVjdCAoYm9yZGVyIG9yZGVyIGlzc3VlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgbW92ZSBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIHByb2Nlc3NQb2ludGVyTW92ZShpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIGNvbnN0IGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIGNvbnN0IGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG5cbiAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubW92ZVdoZW5JbnNpZGUgfHwgaGl0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc01vdXNlKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgb3V0IG9mIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYmVpbmcgbW92ZWQgb3V0XG4gICAgICovXG4gICAgb25Qb2ludGVyT3V0KG9yaWdpbmFsRXZlbnQpXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3V0LCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgY29uc3QgZXZlbnQgPSBldmVudHNbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2UgY2FuIGdldCB0b3VjaGxlYXZlIGV2ZW50cyBhZnRlciB0b3VjaGVuZCwgc28gd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIGludHJvZHVjZSBtZW1vcnkgbGVha3NcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBvdmVyL291dCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIHByb2Nlc3NQb2ludGVyT3Zlck91dChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIGNvbnN0IGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgY29uc3QgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcblxuICAgICAgICBsZXQgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuXG4gICAgICAgIC8vIGlmIHdlIGp1c3QgbW91c2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LCB0aGVuIHdlIG5lZWQgdG8gdHJhY2sgdGhhdCBzdGF0ZVxuICAgICAgICBpZiAoaGl0ICYmICF0cmFja2luZ0RhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBpZiAoaGl0ICYmIHRoaXMubW91c2VPdmVyUmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdHJhY2tpbmdEYXRhLm92ZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlEaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxheURpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSBjaGFuZ2UgdGhlIGN1cnNvciBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBjaGFuZ2VkIChieSBzb21ldGhpbmcgZGVlcGVyIGluIHRoZVxuICAgICAgICAgICAgLy8gZGlzcGxheSB0cmVlKVxuICAgICAgICAgICAgaWYgKGlzTW91c2UgJiYgdGhpcy5jdXJzb3IgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBkaXNwbGF5T2JqZWN0LmN1cnNvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFja2luZ0RhdGEub3ZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm91dCcsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIG1vdXNlIGRvd24gaW5mb3JtYXRpb24gZm9yIHRoZSBwb2ludGVyLCB0aGVuIGl0IGlzIHNhZmUgdG8gZGVsZXRlXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhLm5vbmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgdmlld1xuICAgICAqL1xuICAgIG9uUG9pbnRlck92ZXIob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck92ZXIsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICBjb25zdCBldmVudCA9IGV2ZW50c1swXTtcblxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgSW50ZXJhY3Rpb25EYXRhIGZvciBhIGdpdmVuIHBvaW50ZXJJZC4gU3RvcmUgdGhhdCBkYXRhIGFzIHdlbGxcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gTm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBvdXRwdXQgZnJvbSBub3JtYWxpemVUb1BvaW50ZXJEYXRhXG4gICAgICogQHJldHVybiB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9IC0gSW50ZXJhY3Rpb24gZGF0YSBmb3IgdGhlIGdpdmVuIHBvaW50ZXIgaWRlbnRpZmllclxuICAgICAqL1xuICAgIGdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudClcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJJZCA9IGV2ZW50LnBvaW50ZXJJZDtcblxuICAgICAgICBsZXQgaW50ZXJhY3Rpb25EYXRhO1xuXG4gICAgICAgIGlmIChwb2ludGVySWQgPT09IE1PVVNFX1BPSU5URVJfSUQgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMubW91c2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wb3AoKSB8fCBuZXcgSW50ZXJhY3Rpb25EYXRhKCk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllciA9IHBvaW50ZXJJZDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0gPSBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weSBwcm9wZXJ0aWVzIGZyb20gdGhlIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBtYWtlIHN1cmUgdGhhdCB0b3VjaC9wb2ludGVyIHNwZWNpZmljXG4gICAgICAgIC8vIGRhdGEgaXMgYXZhaWxhYmxlXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5jb3B5RXZlbnQoZXZlbnQpO1xuXG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHVudXNlZCBJbnRlcmFjdGlvbkRhdGEgdG8gdGhlIHBvb2wsIGZvciBhIGdpdmVuIHBvaW50ZXJJZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gSWRlbnRpZmllciBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgICAqL1xuICAgIHJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQocG9pbnRlcklkKVxuICAgIHtcbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcblxuICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnB1c2goaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZSBhbiBJbnRlcmFjdGlvbkV2ZW50IHRvIHdyYXAgYSBET00gUG9pbnRlckV2ZW50IGFuZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgZXZlbnQgdG8gYmUgY29uZmlndXJlZFxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgLSBUaGUgRE9NIGV2ZW50IHRoYXQgd2lsbCBiZSBwYWlyZWQgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9IGludGVyYWN0aW9uRGF0YSAtIFRoZSBJbnRlcmFjdGlvbkRhdGEgdGhhdCB3aWxsIGJlIHBhaXJlZFxuICAgICAqICAgICAgICB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHJldHVybiB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSB0aGUgaW50ZXJhY3Rpb24gZXZlbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICovXG4gICAgY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KGludGVyYWN0aW9uRXZlbnQsIHBvaW50ZXJFdmVudCwgaW50ZXJhY3Rpb25EYXRhKVxuICAgIHtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhID0gaW50ZXJhY3Rpb25EYXRhO1xuXG4gICAgICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KGludGVyYWN0aW9uRGF0YS5nbG9iYWwsIHBvaW50ZXJFdmVudC5jbGllbnRYLCBwb2ludGVyRXZlbnQuY2xpZW50WSk7XG5cbiAgICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoeSB0aGlzIGlzIGhhcHBlbmluZywgYnV0IGl0J3MgaG93IGEgcHJldmlvdXMgdmVyc2lvbiBoYW5kbGVkIHRoaW5nc1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueDtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxZID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55O1xuICAgICAgICB9XG5cbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgPSBwb2ludGVyRXZlbnQ7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25FdmVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdCBjb250YWlucyBhbGwgZGF0YSB0aGF0IGEgcmVndWxhciBwb2ludGVyIGV2ZW50IHdvdWxkIGhhdmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUb3VjaEV2ZW50fE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBvcmlnaW5hbCBldmVudCBkYXRhIGZyb20gYSB0b3VjaCBvciBtb3VzZSBldmVudFxuICAgICAqIEByZXR1cm4ge1BvaW50ZXJFdmVudFtdfSBBbiBhcnJheSBjb250YWluaW5nIGEgc2luZ2xlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgaW4gdGhlIGNhc2Ugb2YgYSBwb2ludGVyXG4gICAgICogIG9yIG1vdXNlIGV2ZW50LCBvciBhIG11bHRpcGxlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudHMgaWYgdGhlcmUgYXJlIG11bHRpcGxlIGNoYW5nZWQgdG91Y2hlc1xuICAgICAqL1xuICAgIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGEoZXZlbnQpXG4gICAge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkRXZlbnRzID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9uID09PSAndW5kZWZpbmVkJykgdG91Y2guYnV0dG9uID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5idXR0b25zID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaC5pc1ByaW1hcnkgPSBldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSAmJiBldmVudC50eXBlID09PSAndG91Y2hzdGFydCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gud2lkdGggPT09ICd1bmRlZmluZWQnKSB0b3VjaC53aWR0aCA9IHRvdWNoLnJhZGl1c1ggfHwgMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmhlaWdodCA9IHRvdWNoLnJhZGl1c1kgfHwgMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRYID09PSAndW5kZWZpbmVkJykgdG91Y2gudGlsdFggPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFkgPT09ICd1bmRlZmluZWQnKSB0b3VjaC50aWx0WSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnBvaW50ZXJUeXBlID0gJ3RvdWNoJztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnBvaW50ZXJJZCA9IHRvdWNoLmlkZW50aWZpZXIgfHwgMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnByZXNzdXJlID09PSAndW5kZWZpbmVkJykgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50d2lzdCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnR3aXN0ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoZXNlLCBhcyBsYXllclgvWSBpcyBub3QgYSBzdGFuZGFyZCwgaXMgZGVwcmVjYXRlZCwgaGFzIHVuZXZlblxuICAgICAgICAgICAgICAgIC8vIHN1cHBvcnQsIGFuZCB0aGUgZmlsbCBpbnMgYXJlIG5vdCBxdWl0ZSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIC8vIG9mZnNldFgvWSBtaWdodCBiZSBva2F5LCBidXQgaXMgbm90IHRoZSBzYW1lIGFzIGNsaWVudFgvWSB3aGVuIHRoZSBjYW52YXMncyB0b3BcbiAgICAgICAgICAgICAgICAvLyBsZWZ0IGlzIG5vdCAwLDAgb24gdGhlIHBhZ2VcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJZID09PSAndW5kZWZpbmVkJykgdG91Y2gubGF5ZXJZID0gdG91Y2gub2Zmc2V0WSA9IHRvdWNoLmNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICAvLyBtYXJrIHRoZSB0b3VjaCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgICAgICB0b3VjaC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBhcmVudGx5IFBvaW50ZXJFdmVudCBzdWJjbGFzc2VzIE1vdXNlRXZlbnQsIHNvIHlheVxuICAgICAgICBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2Ygd2luZG93LlBvaW50ZXJFdmVudCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LndpZHRoID09PSAndW5kZWZpbmVkJykgZXZlbnQud2lkdGggPSAxO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKSBldmVudC5oZWlnaHQgPSAxO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnRpbHRYID0gMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudGlsdFkgPT09ICd1bmRlZmluZWQnKSBldmVudC50aWx0WSA9IDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJykgZXZlbnQucG9pbnRlclR5cGUgPSAnbW91c2UnO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKSBldmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnByZXNzdXJlID0gMC41O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50d2lzdCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnR3aXN0ID0gMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID09PSAndW5kZWZpbmVkJykgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcblxuICAgICAgICAgICAgLy8gbWFyayB0aGUgbW91c2UgZXZlbnQgYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICBldmVudC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLm1vdXNlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RlbXBQb2ludCA9IG51bGw7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBHcmFwaGljcyBjdXJ2ZXMgcmVzb2x1dGlvbiBzZXR0aW5ncy4gSWYgYGFkYXB0aXZlYCBmbGFnIGlzIHNldCB0byBgdHJ1ZWAsXG4gKiB0aGUgcmVzb2x1dGlvbiBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBjdXJ2ZSdzIGxlbmd0aCB0byBlbnN1cmUgYmV0dGVyIHZpc3VhbCBxdWFsaXR5LlxuICogQWRhcHRpdmUgZHJhdyB3b3JrcyB3aXRoIGBiZXppZXJDdXJ2ZVRvYCBhbmQgYHF1YWRyYXRpY0N1cnZlVG9gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEdSQVBISUNTX0NVUlZFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYWRhcHRpdmU9ZmFsc2UgLSBmbGFnIGluZGljYXRpbmcgaWYgdGhlIHJlc29sdXRpb24gc2hvdWxkIGJlIGFkYXB0aXZlXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4TGVuZ3RoPTEwIC0gbWF4aW1hbCBsZW5ndGggb2YgYSBzaW5nbGUgc2VnbWVudCBvZiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluU2VnbWVudHM9OCAtIG1pbmltYWwgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhTZWdtZW50cz0yMDQ4IC0gbWF4aW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICovXG5leHBvcnQgY29uc3QgR1JBUEhJQ1NfQ1VSVkVTID0ge1xuICAgIGFkYXB0aXZlOiB0cnVlLFxuICAgIG1heExlbmd0aDogMTAsXG4gICAgbWluU2VnbWVudHM6IDgsXG4gICAgbWF4U2VnbWVudHM6IDIwNDgsXG4gICAgX3NlZ21lbnRzQ291bnQobGVuZ3RoLCBkZWZhdWx0U2VnbWVudHMgPSAyMClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5hZGFwdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTZWdtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSBNYXRoLmNlaWwobGVuZ3RoIC8gdGhpcy5tYXhMZW5ndGgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQgPCB0aGlzLm1pblNlZ21lbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1pblNlZ21lbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdCA+IHRoaXMubWF4U2VnbWVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWF4U2VnbWVudHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG59O1xuIiwiaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIEZpbGwgc3R5bGUgb2JqZWN0IGZvciBHcmFwaGljcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbGxTdHlsZVxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5GaWxsU3R5bGV9XG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgb2JqID0gbmV3IEZpbGxTdHlsZSgpO1xuXG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRcbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhleCBjb2xvciB2YWx1ZSB1c2VkIHdoZW4gY29sb3JpbmcgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbG9yID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbHBoYSB2YWx1ZSB1c2VkIHdoZW4gZmlsbGluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0byBiZSB1c2VkIGZvciB0aGUgZmlsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBUZXh0dXJlLldISVRFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIGFwbHBpZWQgdG8gdGhlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgY3VycmVudCBmaWxsIGlzIHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQSBjbGFzcyB0byBjb250YWluIGRhdGEgdXNlZnVsIGZvciBHcmFwaGljcyBvYmplY3RzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmFwaGljc0RhdGFcbntcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5SZWN0YW5nbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbn0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZX0gW2ZpbGxTdHlsZV0gLSB0aGUgd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7UElYSS5MaW5lU3R5bGV9IFtsaW5lU3R5bGVdIC0gdGhlIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzaGFwZSwgZmlsbFN0eWxlID0gbnVsbCwgbGluZVN0eWxlID0gbnVsbCwgbWF0cml4ID0gbnVsbClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3R5bGUgb2YgdGhlIGxpbmUuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lU3R5bGUgPSBsaW5lU3R5bGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgZmlsbC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRyYW5zZm9ybSBtYXRyaXguXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBzaGFwZSwgc2VlIHRoZSBDb25zdC5TaGFwZXMgZmlsZSBmb3IgYWxsIHRoZSBleGlzdGluZyB0eXBlcyxcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gc2hhcGUudHlwZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgcG9pbnRzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGhvbGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ob2xlcyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3NEYXRhIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NEYXRhfSBDbG9uZWQgR3JhcGhpY3NEYXRhIG9iamVjdFxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhpY3NEYXRhKFxuICAgICAgICAgICAgdGhpcy5zaGFwZSxcbiAgICAgICAgICAgIHRoaXMuZmlsbFN0eWxlLFxuICAgICAgICAgICAgdGhpcy5saW5lU3R5bGUsXG4gICAgICAgICAgICB0aGlzLm1hdHJpeFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBkYXRhLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaG9sZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW5lU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU0hBUEVTIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogQnVpbGRzIGEgY2lyY2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIGRyYXdcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICBidWlsZChncmFwaGljc0RhdGEpXG4gICAge1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAgICAgY29uc3QgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgY29uc3QgeCA9IGNpcmNsZURhdGEueDtcbiAgICAgICAgY29uc3QgeSA9IGNpcmNsZURhdGEueTtcbiAgICAgICAgbGV0IHdpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0O1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuXG4gICAgICAgIC8vIFRPRE8gLSBiaXQgaGFja3k/P1xuICAgICAgICBpZiAoZ3JhcGhpY3NEYXRhLnR5cGUgPT09IFNIQVBFUy5DSVJDKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgICAgICAgICAgaGVpZ2h0ID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0b3RhbFNlZ3MgPSBNYXRoLmZsb29yKDMwICogTWF0aC5zcXJ0KGNpcmNsZURhdGEucmFkaXVzKSlcbiAgICAgICAgICAgIHx8IE1hdGguZmxvb3IoMTUgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS53aWR0aCArIGNpcmNsZURhdGEuaGVpZ2h0KSk7XG5cbiAgICAgICAgdG90YWxTZWdzIC89IDIuMztcblxuICAgICAgICBjb25zdCBzZWcgPSAoTWF0aC5QSSAqIDIpIC8gdG90YWxTZWdzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxTZWdzOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgIHggKyAoTWF0aC5zaW4oLXNlZyAqIGkpICogd2lkdGgpLFxuICAgICAgICAgICAgICAgIHkgKyAoTWF0aC5jb3MoLXNlZyAqIGkpICogaGVpZ2h0KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgcG9pbnRzWzBdLFxuICAgICAgICAgICAgcG9pbnRzWzFdXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIHRyaWFuZ3VsYXRlKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAgICAgbGV0IHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB2ZXJ0UG9zO1xuXG4gICAgICAgIHZlcnRzLnB1c2goZ3JhcGhpY3NEYXRhLnNoYXBlLngsIGdyYXBoaWNzRGF0YS5zaGFwZS55KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydHMucHVzaChwb2ludHNbaV0sIHBvaW50c1tpICsgMV0pO1xuXG4gICAgICAgICAgICAvLyBhZGQgc29tZSB1dnNcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2ZXJ0UG9zKyssIGNlbnRlciwgdmVydFBvcyk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbiIsImltcG9ydCB7IFBvaW50LCBTSEFQRVMgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxue1xuICAgIGlmIChncmFwaGljc0RhdGEubGluZVN0eWxlLm5hdGl2ZSlcbiAgICB7XG4gICAgICAgIGJ1aWxkTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgICB9XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBwb2x5Z29uIG1ldGhvZC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxue1xuICAgIGNvbnN0IHNoYXBlID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIGxldCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzIHx8IHNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIGNvbnN0IGVwcyA9IGdyYXBoaWNzR2VvbWV0cnkuY2xvc2VQb2ludEVwcztcblxuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgbGluZSB3aWR0aCBpcyBhbiBvZGQgbnVtYmVyIGFkZCAwLjUgdG8gYWxpZ24gdG8gYSB3aG9sZSBwaXhlbFxuICAgIC8vIGNvbW1lbnRpbmcgdGhpcyBvdXQgZml4ZXMgIzcxMSBhbmQgIzE2MjBcbiAgICAvLyBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCUyKVxuICAgIC8vIHtcbiAgICAvLyAgICAgZm9yIChpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKylcbiAgICAvLyAgICAge1xuICAgIC8vICAgICAgICAgcG9pbnRzW2ldICs9IDAuNTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIGNvbnN0IHN0eWxlID0gZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZTtcblxuICAgIC8vIGdldCBmaXJzdCBhbmQgbGFzdCBwb2ludC4uIGZpZ3VyZSBvdXQgdGhlIG1pZGRsZSFcbiAgICBjb25zdCBmaXJzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICBjb25zdCBsYXN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgY29uc3QgY2xvc2VkU2hhcGUgPSBzaGFwZS50eXBlICE9PSBTSEFQRVMuUE9MWSB8fCBzaGFwZS5jbG9zZVN0cm9rZTtcbiAgICBjb25zdCBjbG9zZWRQYXRoID0gTWF0aC5hYnMoZmlyc3RQb2ludC54IC0gbGFzdFBvaW50LngpIDwgZXBzXG4gICAgICAgICYmIE1hdGguYWJzKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSA8IGVwcztcblxuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGNsb3NlZFNoYXBlKVxuICAgIHtcbiAgICAgICAgLy8gbmVlZCB0byBjbG9uZSBhcyB3ZSBhcmUgZ29pbmcgdG8gc2xpZ2h0bHkgbW9kaWZ5IHRoZSBzaGFwZS4uXG4gICAgICAgIHBvaW50cyA9IHBvaW50cy5zbGljZSgpO1xuXG4gICAgICAgIGlmIChjbG9zZWRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBsYXN0UG9pbnQuc2V0KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWlkUG9pbnRYID0gbGFzdFBvaW50LnggKyAoKGZpcnN0UG9pbnQueCAtIGxhc3RQb2ludC54KSAqIDAuNSk7XG4gICAgICAgIGNvbnN0IG1pZFBvaW50WSA9IGxhc3RQb2ludC55ICsgKChmaXJzdFBvaW50LnkgLSBsYXN0UG9pbnQueSkgKiAwLjUpO1xuXG4gICAgICAgIHBvaW50cy51bnNoaWZ0KG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICAgICAgcG9pbnRzLnB1c2gobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICAgIH1cblxuICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgY29uc3QgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgbGV0IGluZGV4Q291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgIGxldCBpbmRleFN0YXJ0ID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgIC8vIERSQVcgdGhlIExpbmVcbiAgICBjb25zdCB3aWR0aCA9IHN0eWxlLndpZHRoIC8gMjtcblxuICAgIC8vIHNvcnQgY29sb3JcbiAgICBsZXQgcDF4ID0gcG9pbnRzWzBdO1xuICAgIGxldCBwMXkgPSBwb2ludHNbMV07XG4gICAgbGV0IHAyeCA9IHBvaW50c1syXTtcbiAgICBsZXQgcDJ5ID0gcG9pbnRzWzNdO1xuICAgIGxldCBwM3ggPSAwO1xuICAgIGxldCBwM3kgPSAwO1xuXG4gICAgbGV0IHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgIGxldCBwZXJweSA9IHAxeCAtIHAyeDtcbiAgICBsZXQgcGVycDJ4ID0gMDtcbiAgICBsZXQgcGVycDJ5ID0gMDtcbiAgICBsZXQgcGVycDN4ID0gMDtcbiAgICBsZXQgcGVycDN5ID0gMDtcblxuICAgIGxldCBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG5cbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICBjb25zdCByYXRpbyA9IHN0eWxlLmFsaWdubWVudDsvLyAwLjU7XG4gICAgY29uc3QgcjEgPSAoMSAtIHJhdGlvKSAqIDI7XG4gICAgY29uc3QgcjIgPSByYXRpbyAqIDI7XG5cbiAgICAvLyBzdGFydFxuICAgIHZlcnRzLnB1c2goXG4gICAgICAgIHAxeCAtIChwZXJweCAqIHIxKSxcbiAgICAgICAgcDF5IC0gKHBlcnB5ICogcjEpKTtcblxuICAgIHZlcnRzLnB1c2goXG4gICAgICAgIHAxeCArIChwZXJweCAqIHIyKSxcbiAgICAgICAgcDF5ICsgKHBlcnB5ICogcjIpKTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoIC0gMTsgKytpKVxuICAgIHtcbiAgICAgICAgcDF4ID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICAgICAgcDF5ID0gcG9pbnRzWygoaSAtIDEpICogMikgKyAxXTtcblxuICAgICAgICBwMnggPSBwb2ludHNbaSAqIDJdO1xuICAgICAgICBwMnkgPSBwb2ludHNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgIHAzeCA9IHBvaW50c1soaSArIDEpICogMl07XG4gICAgICAgIHAzeSA9IHBvaW50c1soKGkgKyAxKSAqIDIpICsgMV07XG5cbiAgICAgICAgcGVycHggPSAtKHAxeSAtIHAyeSk7XG4gICAgICAgIHBlcnB5ID0gcDF4IC0gcDJ4O1xuXG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcbiAgICAgICAgcGVycHggLz0gZGlzdDtcbiAgICAgICAgcGVycHkgLz0gZGlzdDtcbiAgICAgICAgcGVycHggKj0gd2lkdGg7XG4gICAgICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgICAgIHBlcnAyeCA9IC0ocDJ5IC0gcDN5KTtcbiAgICAgICAgcGVycDJ5ID0gcDJ4IC0gcDN4O1xuXG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnAyeCAqIHBlcnAyeCkgKyAocGVycDJ5ICogcGVycDJ5KSk7XG4gICAgICAgIHBlcnAyeCAvPSBkaXN0O1xuICAgICAgICBwZXJwMnkgLz0gZGlzdDtcbiAgICAgICAgcGVycDJ4ICo9IHdpZHRoO1xuICAgICAgICBwZXJwMnkgKj0gd2lkdGg7XG5cbiAgICAgICAgY29uc3QgYTEgPSAoLXBlcnB5ICsgcDF5KSAtICgtcGVycHkgKyBwMnkpO1xuICAgICAgICBjb25zdCBiMSA9ICgtcGVycHggKyBwMngpIC0gKC1wZXJweCArIHAxeCk7XG4gICAgICAgIGNvbnN0IGMxID0gKCgtcGVycHggKyBwMXgpICogKC1wZXJweSArIHAyeSkpIC0gKCgtcGVycHggKyBwMngpICogKC1wZXJweSArIHAxeSkpO1xuICAgICAgICBjb25zdCBhMiA9ICgtcGVycDJ5ICsgcDN5KSAtICgtcGVycDJ5ICsgcDJ5KTtcbiAgICAgICAgY29uc3QgYjIgPSAoLXBlcnAyeCArIHAyeCkgLSAoLXBlcnAyeCArIHAzeCk7XG4gICAgICAgIGNvbnN0IGMyID0gKCgtcGVycDJ4ICsgcDN4KSAqICgtcGVycDJ5ICsgcDJ5KSkgLSAoKC1wZXJwMnggKyBwMngpICogKC1wZXJwMnkgKyBwM3kpKTtcblxuICAgICAgICBsZXQgZGVub20gPSAoYTEgKiBiMikgLSAoYTIgKiBiMSk7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGRlbm9tKSA8IDAuMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVub20gKz0gMTAuMTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goXG4gICAgICAgICAgICAgICAgcDJ4IC0gKHBlcnB4ICogcjEpLFxuICAgICAgICAgICAgICAgIHAyeSAtIChwZXJweSAqIHIxKSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2goXG4gICAgICAgICAgICAgICAgcDJ4ICsgKHBlcnB4ICogcjIpLFxuICAgICAgICAgICAgICAgIHAyeSArIChwZXJweSAqIHIyKSk7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHggPSAoKGIxICogYzIpIC0gKGIyICogYzEpKSAvIGRlbm9tO1xuICAgICAgICBjb25zdCBweSA9ICgoYTIgKiBjMSkgLSAoYTEgKiBjMikpIC8gZGVub207XG4gICAgICAgIGNvbnN0IHBkaXN0ID0gKChweCAtIHAyeCkgKiAocHggLSBwMngpKSArICgocHkgLSBwMnkpICogKHB5IC0gcDJ5KSk7XG5cbiAgICAgICAgaWYgKHBkaXN0ID4gKDE5NiAqIHdpZHRoICogd2lkdGgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBwZXJwM3ggPSBwZXJweCAtIHBlcnAyeDtcbiAgICAgICAgICAgIHBlcnAzeSA9IHBlcnB5IC0gcGVycDJ5O1xuXG4gICAgICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJwM3ggKiBwZXJwM3gpICsgKHBlcnAzeSAqIHBlcnAzeSkpO1xuICAgICAgICAgICAgcGVycDN4IC89IGRpc3Q7XG4gICAgICAgICAgICBwZXJwM3kgLz0gZGlzdDtcbiAgICAgICAgICAgIHBlcnAzeCAqPSB3aWR0aDtcbiAgICAgICAgICAgIHBlcnAzeSAqPSB3aWR0aDtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSAocGVycDN4ICogcjEpLCBwMnkgLSAocGVycDN5ICogcjEpKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyAocGVycDN4ICogcjIpLCBwMnkgKyAocGVycDN5ICogcjIpKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSAocGVycDN4ICogcjIgKiByMSksIHAyeSAtIChwZXJwM3kgKiByMSkpO1xuXG4gICAgICAgICAgICBpbmRleENvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCArICgocHggLSBwMngpICogcjEpLCBwMnkgKyAoKHB5IC0gcDJ5KSAqIHIxKSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKChweCAtIHAyeCkgKiByMiksIHAyeSAtICgocHkgLSBwMnkpICogcjIpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHAxeCA9IHBvaW50c1sobGVuZ3RoIC0gMikgKiAyXTtcbiAgICBwMXkgPSBwb2ludHNbKChsZW5ndGggLSAyKSAqIDIpICsgMV07XG5cbiAgICBwMnggPSBwb2ludHNbKGxlbmd0aCAtIDEpICogMl07XG4gICAgcDJ5ID0gcG9pbnRzWygobGVuZ3RoIC0gMSkgKiAyKSArIDFdO1xuXG4gICAgcGVycHggPSAtKHAxeSAtIHAyeSk7XG4gICAgcGVycHkgPSBwMXggLSBwMng7XG5cbiAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgdmVydHMucHVzaChwMnggLSAocGVycHggKiByMSksIHAyeSAtIChwZXJweSAqIHIxKSk7XG5cbiAgICB2ZXJ0cy5wdXNoKHAyeCArIChwZXJweCAqIHIyKSwgcDJ5ICsgKHBlcnB5ICogcjIpKTtcblxuICAgIGNvbnN0IGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAvLyBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4Q291bnQgLSAyOyArK2kpXG4gICAge1xuICAgICAgICBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCwgaW5kZXhTdGFydCArIDEsIGluZGV4U3RhcnQgKyAyKTtcblxuICAgICAgICBpbmRleFN0YXJ0Kys7XG4gICAgfVxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUykgbWV0aG9kXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbntcbiAgICBsZXQgaSA9IDA7XG5cbiAgICBjb25zdCBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICBjb25zdCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzIHx8IHNoYXBlLnBvaW50cztcbiAgICBjb25zdCBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgY29uc3QgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICBjb25zdCBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcblxuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgIGxldCBjdXJyZW50SW5kZXggPSBzdGFydEluZGV4O1xuXG4gICAgdmVydHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG5cbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpICogMl0sIHBvaW50c1soaSAqIDIpICsgMV0pO1xuICAgICAgICBpbmRpY2VzLnB1c2goY3VycmVudEluZGV4LCBjdXJyZW50SW5kZXggKyAxKTtcblxuICAgICAgICBjdXJyZW50SW5kZXgrKztcbiAgICB9XG5cbiAgICBpZiAoY2xvc2VkU2hhcGUpXG4gICAge1xuICAgICAgICBpbmRpY2VzLnB1c2goY3VycmVudEluZGV4LCBzdGFydEluZGV4KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBlYXJjdXQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogQnVpbGRzIGEgcG9seWdvbiB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICBidWlsZChncmFwaGljc0RhdGEpXG4gICAge1xuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gZ3JhcGhpY3NEYXRhLnNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIH0sXG5cbiAgICB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG4gICAge1xuICAgICAgICBsZXQgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgY29uc3QgaG9sZXMgPSBncmFwaGljc0RhdGEuaG9sZXM7XG4gICAgICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPj0gNilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaG9sZUFycmF5ID0gW107XG4gICAgICAgICAgICAvLyBQcm9jZXNzIGhvbGVzLi5cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBob2xlID0gaG9sZXNbaV07XG5cbiAgICAgICAgICAgICAgICBob2xlQXJyYXkucHVzaChwb2ludHMubGVuZ3RoIC8gMik7XG4gICAgICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzLmNvbmNhdChob2xlLnBvaW50cyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNvcnQgY29sb3JcbiAgICAgICAgICAgIGNvbnN0IHRyaWFuZ2xlcyA9IGVhcmN1dChwb2ludHMsIGhvbGVBcnJheSwgMik7XG5cbiAgICAgICAgICAgIGlmICghdHJpYW5nbGVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuIiwiaW1wb3J0IHsgZWFyY3V0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIEJ1aWxkcyBhIHJvdW5kZWQgcmVjdGFuZ2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHJyZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgY29uc3QgeCA9IHJyZWN0RGF0YS54O1xuICAgICAgICBjb25zdCB5ID0gcnJlY3REYXRhLnk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gcnJlY3REYXRhLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBycmVjdERhdGEuaGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHJyZWN0RGF0YS5yYWRpdXM7XG5cbiAgICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCwgeSArIHJhZGl1cyxcbiAgICAgICAgICAgIHgsIHksXG4gICAgICAgICAgICB4ICsgcmFkaXVzLCB5LFxuICAgICAgICAgICAgcG9pbnRzKTtcbiAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoIC0gcmFkaXVzLFxuICAgICAgICAgICAgeSwgeCArIHdpZHRoLCB5LFxuICAgICAgICAgICAgeCArIHdpZHRoLCB5ICsgcmFkaXVzLFxuICAgICAgICAgICAgcG9pbnRzKTtcbiAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzLFxuICAgICAgICAgICAgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgeCArIHdpZHRoIC0gcmFkaXVzLCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgcG9pbnRzKTtcbiAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHJhZGl1cywgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHgsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICB4LCB5ICsgaGVpZ2h0IC0gcmFkaXVzLFxuICAgICAgICAgICAgcG9pbnRzKTtcblxuICAgICAgICAvLyB0aGlzIHRpbnkgbnVtYmVyIGRlYWxzIHdpdGggdGhlIGlzc3VlIHRoYXQgb2NjdXJzIHdoZW4gcG9pbnRzIG92ZXJsYXAgYW5kIGVhcmN1dCBmYWlscyB0byB0cmlhbmd1bGF0ZSB0aGUgaXRlbS5cbiAgICAgICAgLy8gVE9ETyAtIGZpeCB0aGlzIHByb3Blcmx5LCB0aGlzIGlzIG5vdCB2ZXJ5IGVsZWdhbnQuLiBidXQgaXQgd29ya3MgZm9yIG5vdy5cbiAgICB9LFxuXG4gICAgdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICBjb25zdCB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICBjb25zdCBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuXG4gICAgICAgIGNvbnN0IHZlY1BvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgY29uc3QgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgbnVsbCwgMik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSB0cmlhbmdsZXMubGVuZ3RoOyBpIDwgajsgaSArPSAzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIC8vICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDFdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIC8vICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZWNQb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBwb2ludHMubGVuZ3RoOyBpIDwgajsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzWysraV0pO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgc2luZ2xlIHBvaW50IGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHVzZWQgYnkgcXVhZHJhdGljQmV6aWVyQ3VydmUuXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHJlc3VsdFxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKVxue1xuICAgIGNvbnN0IGRpZmYgPSBuMiAtIG4xO1xuXG4gICAgcmV0dXJuIG4xICsgKGRpZmYgKiBwZXJjKTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLiAoaGVscGVyIGZ1bmN0aW9uLi4pXG4gKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcltdfSBbb3V0PVtdXSAtIFRoZSBvdXRwdXQgYXJyYXkgdG8gYWRkIHBvaW50cyBpbnRvLiBJZiBub3QgcGFzc2VkLCBhIG5ldyBhcnJheSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bnVtYmVyW119IGFuIGFycmF5IG9mIHBvaW50c1xuICovXG5mdW5jdGlvbiBxdWFkcmF0aWNCZXppZXJDdXJ2ZShmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSwgb3V0ID0gW10pXG57XG4gICAgY29uc3QgbiA9IDIwO1xuICAgIGNvbnN0IHBvaW50cyA9IG91dDtcblxuICAgIGxldCB4YSA9IDA7XG4gICAgbGV0IHlhID0gMDtcbiAgICBsZXQgeGIgPSAwO1xuICAgIGxldCB5YiA9IDA7XG4gICAgbGV0IHggPSAwO1xuICAgIGxldCB5ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8PSBuOyArK2kpXG4gICAge1xuICAgICAgICBqID0gaSAvIG47XG5cbiAgICAgICAgLy8gVGhlIEdyZWVuIExpbmVcbiAgICAgICAgeGEgPSBnZXRQdChmcm9tWCwgY3BYLCBqKTtcbiAgICAgICAgeWEgPSBnZXRQdChmcm9tWSwgY3BZLCBqKTtcbiAgICAgICAgeGIgPSBnZXRQdChjcFgsIHRvWCwgaik7XG4gICAgICAgIHliID0gZ2V0UHQoY3BZLCB0b1ksIGopO1xuXG4gICAgICAgIC8vIFRoZSBCbGFjayBEb3RcbiAgICAgICAgeCA9IGdldFB0KHhhLCB4Yiwgaik7XG4gICAgICAgIHkgPSBnZXRQdCh5YSwgeWIsIGopO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKHgsIHkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludHM7XG59XG4iLCJpbXBvcnQgeyBTSEFQRVMsIFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBCb3VuZHMgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IEJhdGNoR2VvbWV0cnksIEJhdGNoRHJhd0NhbGwsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBEUkFXX01PREVTLCBXUkFQX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuaW1wb3J0IEdyYXBoaWNzRGF0YSBmcm9tICcuL0dyYXBoaWNzRGF0YSc7XG5pbXBvcnQgYnVpbGRDaXJjbGUgZnJvbSAnLi91dGlscy9idWlsZENpcmNsZSc7XG5pbXBvcnQgYnVpbGRMaW5lIGZyb20gJy4vdXRpbHMvYnVpbGRMaW5lJztcbmltcG9ydCBidWlsZFBvbHkgZnJvbSAnLi91dGlscy9idWlsZFBvbHknO1xuaW1wb3J0IGJ1aWxkUmVjdGFuZ2xlIGZyb20gJy4vdXRpbHMvYnVpbGRSZWN0YW5nbGUnO1xuaW1wb3J0IGJ1aWxkUm91bmRlZFJlY3RhbmdsZSBmcm9tICcuL3V0aWxzL2J1aWxkUm91bmRlZFJlY3RhbmdsZSc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmNvbnN0IEJBVENIX1BPT0wgPSBbXTtcbmNvbnN0IERSQVdfQ0FMTF9QT09MID0gW107XG5jb25zdCB0bXBQb2ludCA9IG5ldyBQb2ludCgpO1xuXG4vKipcbiAqIE1hcCBvZiBmaWxsIGNvbW1hbmRzIGZvciBlYWNoIHNoYXBlIHR5cGUuXG4gKlxuICogQG1lbWJlciB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgZmlsbENvbW1hbmRzID0ge307XG5cbmZpbGxDb21tYW5kc1tTSEFQRVMuUE9MWV0gPSBidWlsZFBvbHk7XG5maWxsQ29tbWFuZHNbU0hBUEVTLkNJUkNdID0gYnVpbGRDaXJjbGU7XG5maWxsQ29tbWFuZHNbU0hBUEVTLkVMSVBdID0gYnVpbGRDaXJjbGU7XG5maWxsQ29tbWFuZHNbU0hBUEVTLlJFQ1RdID0gYnVpbGRSZWN0YW5nbGU7XG5maWxsQ29tbWFuZHNbU0hBUEVTLlJSRUNdID0gYnVpbGRSb3VuZGVkUmVjdGFuZ2xlO1xuXG4vKipcbiAqIEEgbGl0dGxlIGludGVybmFsIHN0cnVjdHVyZSB0byBob2xkIGludGVyaW0gYmF0Y2ggb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBCYXRjaFBhcnRcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLnN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG4gICAgICAgIHRoaXMuYXR0cmliU3RhcnQgPSAwO1xuICAgICAgICB0aGlzLmF0dHJpYlNpemUgPSAwO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogR3JhcGhpY3NHZW9tZXRyeSBpcyBkZXNpZ25lZCB0byBub3QgYmUgY29udGludWFsbHkgdXBkYXRpbmcgdGhlIGdlb21ldHJ5IHNpbmNlIGl0J3MgZXhwZW5zaXZlXG4gKiB0byByZS10ZXNzZWxhdGUgdXNpbmcgKiplYXJjdXQqKi4gQ29uc2lkZXIgdXNpbmcge0BsaW5rIFBJWEkuTWVzaH0gZm9yIHRoaXMgdXNlLWNhc2UsIGl0J3MgbXVjaCBmYXN0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhdGNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyYXBoaWNzR2VvbWV0cnkgZXh0ZW5kcyBCYXRjaEdlb21ldHJ5XG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRvIGRyYXcsIDIgbnVtYmVycyBwZXIgcG9pbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGNvbG9yc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvcnMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFVWcyBjb2xsZWN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW5kaWNlcyBvZiB0aGUgdmVydGljZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHRleHR1cmUgSURzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlSWRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGRyYXduIHNoYXBlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGFbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgdGhlIGdyYXBoaWNzIG9iamVjdCBoYXMgY2hhbmdlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2hlcyBuZWVkIHRvIHJlZ2VuZXJhdGVkIGlmIHRoZSBnZW9tZXRyeSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIHRoZSBjYWNoZSBpcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlRGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgd2UgY2xlYXJlZCB0aGUgZ3JhcGhpY3NEYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhckRpcnR5ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBjdXJyZW50IGRyYXcgY2FsbHMgZHJpdmVkIGZyb20gdGhlIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRyYXdDYWxscyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm1lZGlhdGUgYWJzdHJhY3QgZm9ybWF0IHNlbnQgdG8gYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKiBDYW4gYmUgY29udmVydGVkIHRvIGRyYXdDYWxscyBvciB0byBiYXRjaGFibGUgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRleCBvZiB0aGUgbGFzdCBiYXRjaGVkIHNoYXBlIGluIHRoZSBzdGFjayBvZiBjYWxscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYXBlSW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZWQgYm91bmRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIGRpcnR5IGZsYWcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYWRkaW5nIHRvIGFkZCB0byB0aGUgYm91bmRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm91bmRzUGFkZGluZyA9IDA7XG5cbiAgICAgICAgdGhpcy5iYXRjaGFibGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmluZGljZXNVaW50MTYgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmltYWwgZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgdGhhdCBhcmUgY29uc2lkZXJlZCBkaWZmZXJlbnQuXG4gICAgICAgICAqIEFmZmVjdHMgbGluZSB0ZXNzZWxhdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbG9zZVBvaW50RXBzID0gMWUtNDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgYm91bmRzIG9mIHRoZSBncmFwaGljIGdlb21ldHJ5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGJvdW5kcygpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ib3VuZHNEaXJ0eSAhPT0gdGhpcy5kaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsIGlmIHlvdSBjaGFuZ2VkIGdyYXBoaWNzRGF0YSBtYW51YWxseS5cbiAgICAgKiBFbXB0aWVzIGFsbCBiYXRjaCBidWZmZXJzLlxuICAgICAqL1xuICAgIGludmFsaWRhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSsrO1xuICAgICAgICB0aGlzLnNoYXBlSW5kZXggPSAwO1xuXG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnRleHR1cmVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHJhd0NhbGxzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRyYXdDYWxsc1tpXS50ZXh0dXJlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgRFJBV19DQUxMX1BPT0wucHVzaCh0aGlzLmRyYXdDYWxsc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBiYXRjaCA9ICB0aGlzLmJhdGNoZXNbaV07XG5cbiAgICAgICAgICAgIGJhdGNoLnN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGJhdGNoLmF0dHJpYlN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGJhdGNoLnN0eWxlID0gbnVsbDtcbiAgICAgICAgICAgIEJBVENIX1BPT0wucHVzaChiYXRjaCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBUaGlzIEdyYXBoaWNzR2VvbWV0cnkgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBjbGVhcigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGV9IGZpbGxTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGZpbGwuXG4gICAgICogQHBhcmFtIHtQSVhJLkxpbmVTdHlsZX0gbGluZVN0eWxlIC0gRGVmaW5lcyBzdHlsZSBvZiB0aGUgbGluZXMuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBkcmF3U2hhcGUoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gbmV3IEdyYXBoaWNzRGF0YShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEucHVzaChkYXRhKTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBkcmF3SG9sZShzaGFwZSwgbWF0cml4KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIG51bGwsIG51bGwsIG1hdHJpeCk7XG5cbiAgICAgICAgY29uc3QgbGFzdFNoYXBlID0gdGhpcy5ncmFwaGljc0RhdGFbdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgZGF0YS5saW5lU3R5bGUgPSBsYXN0U2hhcGUubGluZVN0eWxlO1xuXG4gICAgICAgIGxhc3RTaGFwZS5ob2xlcy5wdXNoKGRhdGEpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KG9wdGlvbnMpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIGRlc3Ryb3kgZWFjaCBvZiB0aGUgR3JhcGhpY3NEYXRhIG9iamVjdHNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5wb2ludHMgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbG9ycy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmNvbG9ycyA9IG51bGw7XG4gICAgICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmRyYXdDYWxscyA9IG51bGw7XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIHNlZSBpZiBhIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBnZW9tZXRyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSBQb2ludCB0byBjaGVjayBpZiBpdCdzIGNvbnRhaW5lZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gZ2VvbWV0cnkuXG4gICAgICovXG4gICAgY29udGFpbnNQb2ludChwb2ludClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWRhdGEuZmlsbFN0eWxlLnZpc2libGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgZGVhbCB3aXRoIGZpbGxzLi5cbiAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEubWF0cml4LmFwcGx5SW52ZXJzZShwb2ludCwgdG1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0bXBQb2ludC5jb3B5RnJvbShwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUuY29udGFpbnModG1wUG9pbnQueCwgdG1wUG9pbnQueSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob2xlcylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvbGUgPSBkYXRhLmhvbGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGUuc2hhcGUuY29udGFpbnModG1wUG9pbnQueCwgdG1wUG9pbnQueSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBpbnRlcm1lZGlhdGUgYmF0Y2ggZGF0YS4gRWl0aGVyIGdldHMgY29udmVydGVkIHRvIGRyYXdDYWxsc1xuICAgICAqIG9yIHVzZWQgdG8gY29udmVydCB0byBiYXRjaCBvYmplY3RzIGRpcmVjdGx5IGJ5IHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICovXG4gICAgdXBkYXRlQmF0Y2hlcygpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSA9PT0gdGhpcy5jYWNoZURpcnR5KSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGlydHkgIT09IHRoaXMuY2FjaGVEaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5ncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsU3R5bGUgJiYgIWRhdGEuZmlsbFN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lU3R5bGUgJiYgIWRhdGEubGluZVN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FjaGVEaXJ0eSA9IHRoaXMuZGlydHk7XG5cbiAgICAgICAgY29uc3QgdXZzID0gdGhpcy51dnM7XG5cbiAgICAgICAgbGV0IGJhdGNoUGFydCA9IG51bGw7XG4gICAgICAgIGxldCBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIGxldCBjdXJyZW50Q29sb3IgPSAwO1xuICAgICAgICBsZXQgY3VycmVudE5hdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW3RoaXMuYmF0Y2hlcy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBiYXRjaFBhcnQuc3R5bGU7XG5cbiAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gc3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIGN1cnJlbnRDb2xvciA9IHN0eWxlLmNvbG9yICsgc3R5bGUuYWxwaGE7XG4gICAgICAgICAgICBjdXJyZW50TmF0aXZlID0gISFzdHlsZS5uYXRpdmU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zaGFwZUluZGV4OyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2hhcGVJbmRleCsrO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICBjb25zdCBjb21tYW5kID0gZmlsbENvbW1hbmRzW2RhdGEudHlwZV07XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbGxTdHlsZSA9IGRhdGEuZmlsbFN0eWxlO1xuICAgICAgICAgICAgY29uc3QgbGluZVN0eWxlID0gZGF0YS5saW5lU3R5bGU7XG5cbiAgICAgICAgICAgIC8vIGJ1aWxkIG91dCB0aGUgc2hhcGVzIHBvaW50cy4uXG4gICAgICAgICAgICBjb21tYW5kLmJ1aWxkKGRhdGEpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5tYXRyaXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1Qb2ludHMoZGF0YS5wb2ludHMsIGRhdGEubWF0cml4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAyOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSAoaiA9PT0gMCkgPyBmaWxsU3R5bGUgOiBsaW5lU3R5bGU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXN0eWxlLnZpc2libGUpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRleHR1cmUgPSBzdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYkluZGV4ID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICAgICAgICAgIC8vIGNsb3NlIGJhdGNoIGlmIHN0eWxlIGlzIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgIGlmIChiYXRjaFBhcnRcbiAgICAgICAgICAgICAgICAgICAgJiYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q29sb3IgIT09IChzdHlsZS5jb2xvciArIHN0eWxlLmFscGhhKVxuICAgICAgICAgICAgICAgICAgICB8fCBjdXJyZW50TmF0aXZlICE9PSAhIXN0eWxlLm5hdGl2ZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQuc2l6ZSA9IGluZGV4IC0gYmF0Y2hQYXJ0LnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQuYXR0cmliU2l6ZSA9IGF0dHJpYkluZGV4IC0gYmF0Y2hQYXJ0LmF0dHJpYlN0YXJ0O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChiYXRjaFBhcnQuc2l6ZSA+IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc3Bhd24gbmV3IGJhdGNoIGlmIGl0cyBmaXJzdCBiYXRjaCBvciBwcmV2aW91cyB3YXMgY2xvc2VkXG4gICAgICAgICAgICAgICAgaWYgKCFiYXRjaFBhcnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQgPSBCQVRDSF9QT09MLnBvcCgpIHx8IG5ldyBCYXRjaFBhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXRjaGVzLnB1c2goYmF0Y2hQYXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbG9yID0gc3R5bGUuY29sb3IgKyBzdHlsZS5hbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE5hdGl2ZSA9IHN0eWxlLm5hdGl2ZTtcblxuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LnN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5hdHRyaWJTdGFydCA9IGF0dHJpYkluZGV4O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICAgICAgICAgIGlmIChqID09PSAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaG9sZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NIb2xlcyhkYXRhLmhvbGVzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRQb2x5LnRyaWFuZ3VsYXRlKGRhdGEsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZC50cmlhbmd1bGF0ZShkYXRhLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBidWlsZExpbmUoZGF0YSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZExpbmUoZGF0YS5ob2xlc1tpXSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzaXplID0gKHRoaXMucG9pbnRzLmxlbmd0aCAvIDIpIC0gc3RhcnQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFkZFV2cyh0aGlzLnBvaW50cywgdXZzLCBzdHlsZS50ZXh0dXJlLCBzdGFydCwgc2l6ZSwgc3R5bGUubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgYXR0cmliID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICBpZiAoIWJhdGNoUGFydClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhlcmUgYXJlIG5vIHZpc2libGUgc3R5bGVzIGluIEdyYXBoaWNzRGF0YVxuICAgICAgICAgICAgLy8gaXRzIHBvc3NpYmxlIHRoYXQgc29tZW9uZSB3YW50cyBHcmFwaGljcyBqdXN0IGZvciB0aGUgYm91bmRzXG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJhdGNoUGFydC5zaXplID0gaW5kZXggLSBiYXRjaFBhcnQuc3RhcnQ7XG4gICAgICAgIGJhdGNoUGFydC5hdHRyaWJTaXplID0gYXR0cmliIC0gYmF0Y2hQYXJ0LmF0dHJpYlN0YXJ0O1xuICAgICAgICB0aGlzLmluZGljZXNVaW50MTYgPSBuZXcgVWludDE2QXJyYXkodGhpcy5pbmRpY2VzKTtcblxuICAgICAgICAvLyBUT0RPIG1ha2UgdGhpcyBhIGNvbnN0Li5cbiAgICAgICAgdGhpcy5iYXRjaGFibGUgPSB0aGlzLmlzQmF0Y2hhYmxlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoRGlydHkrKztcblxuICAgICAgICAgICAgdGhpcy51dnNGbG9hdDMyID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnV2cyk7XG5cbiAgICAgICAgICAgIC8vIG9mZnNldCB0aGUgaW5kaWNlcyBzbyB0aGF0IGl0IHdvcmtzIHdpdGggdGhlIGJhdGNoZXIuLi5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy5iYXRjaGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBiYXRjaC5zaXplOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGJhdGNoLnN0YXJ0ICsgajtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljZXNVaW50MTZbaW5kZXhdID0gdGhpcy5pbmRpY2VzVWludDE2W2luZGV4XSAtIGJhdGNoLmF0dHJpYlN0YXJ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgdGhpcyBncmFwaGljcyBnZW9tZXRyeSBjYW4gYmUgYmF0Y2hlZC5cbiAgICAgKiBDdXJyZW50bHkgaXQgbmVlZHMgdG8gYmUgc21hbGwgZW5vdWdoIGFuZCBub3QgY29udGFpbiBhbnkgbmF0aXZlIGxpbmVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBpc0JhdGNoYWJsZSgpXG4gICAge1xuICAgICAgICBjb25zdCBiYXRjaGVzID0gdGhpcy5iYXRjaGVzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmF0Y2hlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGJhdGNoZXNbaV0uc3R5bGUubmF0aXZlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAodGhpcy5wb2ludHMubGVuZ3RoIDwgR3JhcGhpY3NHZW9tZXRyeS5CQVRDSEFCTEVfU0laRSAqIDIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGludGVybWVkaWF0ZSBiYXRjaGVzIGRhdGEgdG8gZHJhd0NhbGxzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBidWlsZERyYXdDYWxscygpXG4gICAge1xuICAgICAgICBsZXQgVElDSyA9ICsrQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzW2ldLnRleHR1cmVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBEUkFXX0NBTExfUE9PTC5wdXNoKHRoaXMuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgY29uc3QgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICBjb25zdCB0ZXh0dXJlSWRzID0gdGhpcy50ZXh0dXJlSWRzO1xuXG4gICAgICAgIGxldCBjdXJyZW50R3JvdXAgPSAgRFJBV19DQUxMX1BPT0wucG9wKCkgfHwgbmV3IEJhdGNoRHJhd0NhbGwoKTtcblxuICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAudHlwZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuXG4gICAgICAgIGxldCB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICBsZXQgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgICAgICBsZXQgdGV4dHVyZUlkID0gMDtcbiAgICAgICAgbGV0IG5hdGl2ZSA9IGZhbHNlO1xuICAgICAgICBsZXQgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcblxuICAgICAgICBsZXQgaW5kZXggPSAwO1xuXG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLnB1c2goY3VycmVudEdyb3VwKTtcblxuICAgICAgICAvLyBUT0RPIC0gdGhpcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuYmF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgLy8gVE9ETyBhZGQgc29tZSBmdWxsIG9uIE1BWF9URVhUVVJFIENPREUuLlxuICAgICAgICAgICAgY29uc3QgTUFYX1RFWFRVUkVTID0gODtcblxuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBkYXRhLnN0eWxlO1xuXG4gICAgICAgICAgICBjb25zdCBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmIChuYXRpdmUgIT09ICEhc3R5bGUubmF0aXZlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hdGl2ZSA9IHN0eWxlLm5hdGl2ZTtcbiAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IG5hdGl2ZSA/IERSQVdfTU9ERVMuTElORVMgOiBEUkFXX01PREVTLlRSSUFOR0xFUztcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgIT09IFRJQ0spXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZUNvdW50ID09PSBNQVhfVEVYVFVSRVMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRJQ0srKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRHcm91cC5zaXplID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKSB8fCBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzLnB1c2goY3VycmVudEdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gZHJhd01vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGFkZCB0aGlzIHRvIHRoZSByZW5kZXIgcGFydC4uXG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLnRvdWNoZWQgPSAxOy8vIHRvdWNoO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2lkID0gdGV4dHVyZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IDEwNDk3O1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlc1tjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50KytdID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgKz0gZGF0YS5zaXplO1xuICAgICAgICAgICAgaW5kZXggKz0gZGF0YS5zaXplO1xuXG4gICAgICAgICAgICB0ZXh0dXJlSWQgPSBuZXh0VGV4dHVyZS5faWQ7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ29sb3JzKGNvbG9ycywgc3R5bGUuY29sb3IsIHN0eWxlLmFscGhhLCBkYXRhLmF0dHJpYlNpemUpO1xuICAgICAgICAgICAgdGhpcy5hZGRUZXh0dXJlSWRzKHRleHR1cmVJZHMsIHRleHR1cmVJZCwgZGF0YS5hdHRyaWJTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IFRJQ0s7XG5cbiAgICAgICAgLy8gdXBsb2FkLi5cbiAgICAgICAgLy8gbWVyZ2UgZm9yIG5vdyFcbiAgICAgICAgY29uc3QgdmVydHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICAvLyB2ZXJ0cyBhcmUgMiBwb3NpdGlvbnMuLiBzbyB3ZSAqIGJ5IDMgYXMgdGhlcmUgYXJlIDYgcHJvcGVydGllcy4uIHRoZW4gNCBjb3MgaXRzIGJ5dGVzXG4gICAgICAgIGNvbnN0IGdsUG9pbnRzID0gbmV3IEFycmF5QnVmZmVyKHZlcnRzLmxlbmd0aCAqIDMgKiA0KTtcbiAgICAgICAgY29uc3QgZjMyID0gbmV3IEZsb2F0MzJBcnJheShnbFBvaW50cyk7XG4gICAgICAgIGNvbnN0IHUzMiA9IG5ldyBVaW50MzJBcnJheShnbFBvaW50cyk7XG5cbiAgICAgICAgbGV0IHAgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoIC8gMjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzW2kgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdmVydHNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICBmMzJbcCsrXSA9IHV2c1tpICogMl07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHV2c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIHUzMltwKytdID0gY29sb3JzW2ldO1xuXG4gICAgICAgICAgICBmMzJbcCsrXSA9IHRleHR1cmVJZHNbaV07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9idWZmZXIudXBkYXRlKGdsUG9pbnRzKTtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIudXBkYXRlKHRoaXMuaW5kaWNlc1VpbnQxNik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaG9sZXMgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGFbXX0gaG9sZXMgLSBIb2xlcyB0byByZW5kZXJcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvY2Vzc0hvbGVzKGhvbGVzKVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaG9sZSA9IGhvbGVzW2ldO1xuXG4gICAgICAgICAgICBjb25zdCBjb21tYW5kID0gZmlsbENvbW1hbmRzW2hvbGUudHlwZV07XG5cbiAgICAgICAgICAgIGNvbW1hbmQuYnVpbGQoaG9sZSk7XG5cbiAgICAgICAgICAgIGlmIChob2xlLm1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybVBvaW50cyhob2xlLnBvaW50cywgaG9sZS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIG9iamVjdC4gRXhwZW5zaXZlIHRvIHVzZSBwZXJmb3JtYW5jZS13aXNlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgbGV0IG1pblggPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IG1heFggPSAtSW5maW5pdHk7XG5cbiAgICAgICAgbGV0IG1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IG1heFkgPSAtSW5maW5pdHk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHNoYXBlID0gbnVsbDtcbiAgICAgICAgICAgIGxldCB4ID0gMDtcbiAgICAgICAgICAgIGxldCB5ID0gMDtcbiAgICAgICAgICAgIGxldCB3ID0gMDtcbiAgICAgICAgICAgIGxldCBoID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5ncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gZGF0YS50eXBlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVXaWR0aCA9IGRhdGEubGluZVN0eWxlID8gZGF0YS5saW5lU3R5bGUud2lkdGggOiAwO1xuXG4gICAgICAgICAgICAgICAgc2hhcGUgPSBkYXRhLnNoYXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFNIQVBFUy5SRUNUIHx8IHR5cGUgPT09IFNIQVBFUy5SUkVDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLnggLSAobGluZVdpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55IC0gKGxpbmVXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUud2lkdGggKyBsaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5oZWlnaHQgKyBsaW5lV2lkdGg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFNIQVBFUy5DSVJDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55O1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUucmFkaXVzICsgKGxpbmVXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBoID0gc2hhcGUucmFkaXVzICsgKGxpbmVXaWR0aCAvIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSB4IC0gdyA8IG1pblggPyB4IC0gdyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgLSBoIDwgbWluWSA/IHkgLSBoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkVMSVApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgICAgIHcgPSBzaGFwZS53aWR0aCArIChsaW5lV2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLmhlaWdodCArIChsaW5lV2lkdGggLyAyKTtcblxuICAgICAgICAgICAgICAgICAgICBtaW5YID0geCAtIHcgPCBtaW5YID8geCAtIHcgOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHcgPiBtYXhYID8geCArIHcgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblkgPSB5IC0gaCA8IG1pblkgPyB5IC0gaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBPTFlcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gc2hhcGUucG9pbnRzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgeDIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgeTIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZHggPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcncgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmggPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3ggPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3kgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqICsgMiA8IHBvaW50cy5sZW5ndGg7IGogKz0gMilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHBvaW50c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBwb2ludHNbaiArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBwb2ludHNbaiArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeTIgPSBwb2ludHNbaiArIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHggPSBNYXRoLmFicyh4MiAtIHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHkgPSBNYXRoLmFicyh5MiAtIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBNYXRoLnNxcnQoKGR4ICogZHgpICsgKGR5ICogZHkpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcgPCAxZS05KVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBydyA9ICgoaCAvIHcgKiBkeSkgKyBkeCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmggPSAoKGggLyB3ICogZHgpICsgZHkpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN4ID0gKHgyICsgeCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3kgPSAoeTIgKyB5KSAvIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblggPSBjeCAtIHJ3IDwgbWluWCA/IGN4IC0gcncgOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4WCA9IGN4ICsgcncgPiBtYXhYID8gY3ggKyBydyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblkgPSBjeSAtIHJoIDwgbWluWSA/IGN5IC0gcmggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4WSA9IGN5ICsgcmggPiBtYXhZID8gY3kgKyByaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBtaW5YID0gMDtcbiAgICAgICAgICAgIG1heFggPSAwO1xuICAgICAgICAgICAgbWluWSA9IDA7XG4gICAgICAgICAgICBtYXhZID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLmJvdW5kc1BhZGRpbmc7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSBtaW5YIC0gcGFkZGluZztcbiAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSBtYXhYICsgcGFkZGluZztcblxuICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IG1pblkgLSBwYWRkaW5nO1xuICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IG1heFkgKyBwYWRkaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBwb2ludHMgdXNpbmcgbWF0cml4LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgdHJhbnNmb3JtUG9pbnRzKHBvaW50cywgbWF0cml4KVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC8gMjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4ID0gcG9pbnRzWyhpICogMildO1xuICAgICAgICAgICAgY29uc3QgeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIHBvaW50c1soaSAqIDIpXSA9IChtYXRyaXguYSAqIHgpICsgKG1hdHJpeC5jICogeSkgKyBtYXRyaXgudHg7XG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKSArIDFdID0gKG1hdHJpeC5iICogeCkgKyAobWF0cml4LmQgKiB5KSArIG1hdHJpeC50eTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBjb2xvcnMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3JzIC0gTGlzdCBvZiBjb2xvcnMgdG8gYWRkIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gQ29sb3IgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gQWxwaGEgdG8gdXNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgY29sb3JzIHRvIGFkZFxuICAgICAqL1xuICAgIGFkZENvbG9ycyhjb2xvcnMsIGNvbG9yLCBhbHBoYSwgc2l6ZSlcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gdXNlIHRoZSBwcmVtdWx0aXBseSBiaXRzIEl2YW4gYWRkZWRcbiAgICAgICAgY29uc3QgcmdiID0gKGNvbG9yID4+IDE2KSArIChjb2xvciAmIDB4ZmYwMCkgKyAoKGNvbG9yICYgMHhmZikgPDwgMTYpO1xuXG4gICAgICAgIGNvbnN0IHJnYmEgPSAgcHJlbXVsdGlwbHlUaW50KHJnYiwgYWxwaGEpO1xuXG4gICAgICAgIHdoaWxlIChzaXplLS0gPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb2xvcnMucHVzaChyZ2JhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIGlkIHRoYXQgdGhlIHNoYWRlci9mcmFnbWVudCB3YW50cyB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdGV4dHVyZUlkc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICovXG4gICAgYWRkVGV4dHVyZUlkcyh0ZXh0dXJlSWRzLCBpZCwgc2l6ZSlcbiAgICB7XG4gICAgICAgIHdoaWxlIChzaXplLS0gPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlSWRzLnB1c2goaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBVVnMgZm9yIGEgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdmVydHMgLSBWZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIFVWc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBJbmRleCBidWZmZXIgc3RhcnQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZS9sZW5ndGggZm9yIGluZGV4IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIE9wdGlvbmFsIHRyYW5zZm9ybSBmb3IgYWxsIHBvaW50cy5cbiAgICAgKi9cbiAgICBhZGRVdnModmVydHMsIHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUsIG1hdHJpeClcbiAgICB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IHV2c1N0YXJ0ID0gdXZzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuXG4gICAgICAgIHdoaWxlIChpbmRleCA8IHNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB4ID0gdmVydHNbKHN0YXJ0ICsgaW5kZXgpICogMl07XG4gICAgICAgICAgICBsZXQgeSA9IHZlcnRzWygoc3RhcnQgKyBpbmRleCkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICBpZiAobWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG54ID0gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eDtcblxuICAgICAgICAgICAgICAgIHkgPSAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5O1xuICAgICAgICAgICAgICAgIHggPSBueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5kZXgrKztcblxuICAgICAgICAgICAgdXZzLnB1c2goeCAvIGZyYW1lLndpZHRoLCB5IC8gZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBpZiAoZnJhbWUud2lkdGggPCBiYXNlVGV4dHVyZS53aWR0aFxuICAgICAgICAgICAgfHwgZnJhbWUuaGVpZ2h0IDwgYmFzZVRleHR1cmUuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFkanVzdFV2cyh1dnMsIHRleHR1cmUsIHV2c1N0YXJ0LCBzaXplKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vZGlmeSB1dnMgYXJyYXkgYWNjb3JkaW5nIHRvIHBvc2l0aW9uIG9mIHRleHR1cmUgcmVnaW9uXG4gICAgICogRG9lcyBub3Qgd29yayB3aXRoIHJvdGF0ZWQgb3IgdHJpbW1lZCB0ZXh0dXJlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyBhcnJheVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIHJlZ2lvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBzdGFydGluZyBpbmRleCBmb3IgdXZzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgaG93IG1hbnkgcG9pbnRzIHRvIGFkanVzdFxuICAgICAqL1xuICAgIGFkanVzdFV2cyh1dnMsIHRleHR1cmUsIHN0YXJ0LCBzaXplKVxuICAgIHtcbiAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICBjb25zdCBlcHMgPSAxZS02O1xuICAgICAgICBjb25zdCBmaW5pc2ggPSBzdGFydCArIChzaXplICogMik7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGV4dHVyZS5mcmFtZTtcbiAgICAgICAgY29uc3Qgc2NhbGVYID0gZnJhbWUud2lkdGggLyBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgY29uc3Qgc2NhbGVZID0gZnJhbWUuaGVpZ2h0IC8gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICBsZXQgb2Zmc2V0WCA9IGZyYW1lLnggLyBmcmFtZS53aWR0aDtcbiAgICAgICAgbGV0IG9mZnNldFkgPSBmcmFtZS55IC8gZnJhbWUuaGVpZ2h0O1xuICAgICAgICBsZXQgbWluWCA9IE1hdGguZmxvb3IodXZzW3N0YXJ0XSArIGVwcyk7XG4gICAgICAgIGxldCBtaW5ZID0gTWF0aC5mbG9vcih1dnNbc3RhcnQgKyAxXSArIGVwcyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0ICsgMjsgaSA8IGZpbmlzaDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgTWF0aC5mbG9vcih1dnNbaV0gKyBlcHMpKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBNYXRoLmZsb29yKHV2c1tpICsgMV0gKyBlcHMpKTtcbiAgICAgICAgfVxuICAgICAgICBvZmZzZXRYIC09IG1pblg7XG4gICAgICAgIG9mZnNldFkgLT0gbWluWTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZmluaXNoOyBpICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHV2c1tpXSA9ICh1dnNbaV0gKyBvZmZzZXRYKSAqIHNjYWxlWDtcbiAgICAgICAgICAgIHV2c1tpICsgMV0gPSAodXZzW2kgKyAxXSArIG9mZnNldFkpICogc2NhbGVZO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwb2ludHMgdG8gY29uc2lkZXIgYW4gb2JqZWN0IFwiYmF0Y2hhYmxlXCIsXG4gKiBhYmxlIHRvIGJlIGJhdGNoZWQgYnkgdGhlIHJlbmRlcmVyJ3MgYmF0Y2ggc3lzdGVtLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzR2VvbWV0cnlcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge251bWJlcn0gQkFUQ0hBQkxFX1NJWkVcbiAqIEBkZWZhdWx0IDEwMFxuICovXG5HcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFID0gMTAwO1xuIiwiLyoqXG4gKiBCdWlsZHMgYSByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuXG4gICAgYnVpbGQoZ3JhcGhpY3NEYXRhKVxuICAgIHtcbiAgICAgICAgLy8gLS0tIC8vXG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICAvL1xuICAgICAgICBjb25zdCByZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgY29uc3QgeCA9IHJlY3REYXRhLng7XG4gICAgICAgIGNvbnN0IHkgPSByZWN0RGF0YS55O1xuICAgICAgICBjb25zdCB3aWR0aCA9IHJlY3REYXRhLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSByZWN0RGF0YS5oZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcblxuICAgICAgICBwb2ludHMucHVzaCh4LCB5LFxuICAgICAgICAgICAgeCArIHdpZHRoLCB5LFxuICAgICAgICAgICAgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgeCwgeSArIGhlaWdodCk7XG4gICAgfSxcblxuICAgIHRyaWFuZ3VsYXRlKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG5cbiAgICAgICAgY29uc3QgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSxcbiAgICAgICAgICAgIHBvaW50c1syXSwgcG9pbnRzWzNdLFxuICAgICAgICAgICAgcG9pbnRzWzZdLCBwb2ludHNbN10sXG4gICAgICAgICAgICBwb2ludHNbNF0sIHBvaW50c1s1XSk7XG5cbiAgICAgICAgZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzLnB1c2godmVydFBvcywgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLFxuICAgICAgICAgICAgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMyk7XG4gICAgfSxcbn07XG4iLCJpbXBvcnQgRmlsbFN0eWxlIGZyb20gJy4vRmlsbFN0eWxlJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBsaW5lIHN0eWxlIGZvciBHcmFwaGljcy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsbFN0eWxlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmVTdHlsZSBleHRlbmRzIEZpbGxTdHlsZVxue1xuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgKi9cbiAgICBjbG9uZSgpXG4gICAge1xuICAgICAgICBjb25zdCBvYmogPSBuZXcgTGluZVN0eWxlKCk7XG5cbiAgICAgICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgb2JqLmFscGhhID0gdGhpcy5hbHBoYTtcbiAgICAgICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICAgICAgb2JqLnZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIG9iai53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIG9iai5hbGlnbm1lbnQgPSB0aGlzLmFsaWdubWVudDtcbiAgICAgICAgb2JqLm5hdGl2ZSA9IHRoaXMubmF0aXZlO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBsaW5lIHN0eWxlIHRvIGRlZmF1bHQuXG4gICAgICovXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgc3VwZXIucmVzZXQoKTtcblxuICAgICAgICAvLyBPdmVycmlkZSBkZWZhdWx0IGxpbmUgc3R5bGUgY29sb3JcbiAgICAgICAgdGhpcy5jb2xvciA9IDB4MDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoICh0aGlja25lc3MpIG9mIGFueSBsaW5lcyBkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFsaWdubWVudCBvZiBhbnkgbGluZXMgZHJhd24gKDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlciwgMCA9IGlubmVyKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFsaWdubWVudCA9IDAuNTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmF0aXZlID0gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgR1JBUEhJQ1NfQ1VSVkVTIH0gZnJvbSAnLi4vY29uc3QnO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgYmV6aWVyIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCZXppZXJVdGlsc1xue1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgYmV6aWVyIGN1cnZlLlxuICAgICAqIEFuYWx5dGljYWwgc29sdXRpb24gaXMgaW1wb3NzaWJsZSwgc2luY2UgaXQgaW52b2x2ZXMgYW4gaW50ZWdyYWwgdGhhdCBkb2VzIG5vdCBpbnRlZ3JhdGUgaW4gZ2VuZXJhbC5cbiAgICAgKiBUaGVyZWZvcmUgbnVtZXJpY2FsIHNvbHV0aW9uIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIFN0YXJ0aW5nIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBTdGFydGluZyBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBMZW5ndGggb2YgYmV6aWVyIGN1cnZlXG4gICAgICovXG4gICAgc3RhdGljIGN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKVxuICAgIHtcbiAgICAgICAgY29uc3QgbiA9IDEwO1xuICAgICAgICBsZXQgcmVzdWx0ID0gMC4wO1xuICAgICAgICBsZXQgdCA9IDAuMDtcbiAgICAgICAgbGV0IHQyID0gMC4wO1xuICAgICAgICBsZXQgdDMgPSAwLjA7XG4gICAgICAgIGxldCBudCA9IDAuMDtcbiAgICAgICAgbGV0IG50MiA9IDAuMDtcbiAgICAgICAgbGV0IG50MyA9IDAuMDtcbiAgICAgICAgbGV0IHggPSAwLjA7XG4gICAgICAgIGxldCB5ID0gMC4wO1xuICAgICAgICBsZXQgZHggPSAwLjA7XG4gICAgICAgIGxldCBkeSA9IDAuMDtcbiAgICAgICAgbGV0IHByZXZYID0gZnJvbVg7XG4gICAgICAgIGxldCBwcmV2WSA9IGZyb21ZO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG47ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdCA9IGkgLyBuO1xuICAgICAgICAgICAgdDIgPSB0ICogdDtcbiAgICAgICAgICAgIHQzID0gdDIgKiB0O1xuICAgICAgICAgICAgbnQgPSAoMS4wIC0gdCk7XG4gICAgICAgICAgICBudDIgPSBudCAqIG50O1xuICAgICAgICAgICAgbnQzID0gbnQyICogbnQ7XG5cbiAgICAgICAgICAgIHggPSAobnQzICogZnJvbVgpICsgKDMuMCAqIG50MiAqIHQgKiBjcFgpICsgKDMuMCAqIG50ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCk7XG4gICAgICAgICAgICB5ID0gKG50MyAqIGZyb21ZKSArICgzLjAgKiBudDIgKiB0ICogY3BZKSArICgzICogbnQgKiB0MiAqIGNwWTIpICsgKHQzICogdG9ZKTtcbiAgICAgICAgICAgIGR4ID0gcHJldlggLSB4O1xuICAgICAgICAgICAgZHkgPSBwcmV2WSAtIHk7XG4gICAgICAgICAgICBwcmV2WCA9IHg7XG4gICAgICAgICAgICBwcmV2WSA9IHk7XG5cbiAgICAgICAgICAgIHJlc3VsdCArPSBNYXRoLnNxcnQoKGR4ICogZHgpICsgKGR5ICogZHkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqXG4gICAgICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gICAgICpcbiAgICAgKiBAaWdub3JlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gUGF0aCBhcnJheSB0byBwdXNoIHBvaW50cyBpbnRvXG4gICAgICovXG4gICAgc3RhdGljIGN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCBwb2ludHMpXG4gICAge1xuICAgICAgICBjb25zdCBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIGNvbnN0IGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBwb2ludHMubGVuZ3RoIC09IDI7XG5cbiAgICAgICAgY29uc3QgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChcbiAgICAgICAgICAgIEJlemllclV0aWxzLmN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKVxuICAgICAgICApO1xuXG4gICAgICAgIGxldCBkdCA9IDA7XG4gICAgICAgIGxldCBkdDIgPSAwO1xuICAgICAgICBsZXQgZHQzID0gMDtcbiAgICAgICAgbGV0IHQyID0gMDtcbiAgICAgICAgbGV0IHQzID0gMDtcblxuICAgICAgICBwb2ludHMucHVzaChmcm9tWCwgZnJvbVkpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxLCBqID0gMDsgaSA8PSBuOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGogPSBpIC8gbjtcblxuICAgICAgICAgICAgZHQgPSAoMSAtIGopO1xuICAgICAgICAgICAgZHQyID0gZHQgKiBkdDtcbiAgICAgICAgICAgIGR0MyA9IGR0MiAqIGR0O1xuXG4gICAgICAgICAgICB0MiA9IGogKiBqO1xuICAgICAgICAgICAgdDMgPSB0MiAqIGo7XG5cbiAgICAgICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgIChkdDMgKiBmcm9tWCkgKyAoMyAqIGR0MiAqIGogKiBjcFgpICsgKDMgKiBkdCAqIHQyICogY3BYMikgKyAodDMgKiB0b1gpLFxuICAgICAgICAgICAgICAgIChkdDMgKiBmcm9tWSkgKyAoMyAqIGR0MiAqIGogKiBjcFkpICsgKDMgKiBkdCAqIHQyICogY3BZMikgKyAodDMgKiB0b1kpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgR1JBUEhJQ1NfQ1VSVkVTIH0gZnJvbSAnLi4vY29uc3QnO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgcXVhZHJhdGljIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWFkcmF0aWNVdGlsc1xue1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgcXVhZHJhdGljIGN1cnZlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy5tYWxjemFrLmxpbnV4cGwuY29tL2Jsb2cvcXVhZHJhdGljLWJlemllci1jdXJ2ZS1sZW5ndGgvfVxuICAgICAqIGZvciB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb2YgbWF0aCBiZWhpbmQgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBlbmQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIGVuZCBwb2ludFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIHF1YWRyYXRpYyBjdXJ2ZVxuICAgICAqL1xuICAgIHN0YXRpYyBjdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGF4ID0gZnJvbVggLSAoMi4wICogY3BYKSArIHRvWDtcbiAgICAgICAgY29uc3QgYXkgPSBmcm9tWSAtICgyLjAgKiBjcFkpICsgdG9ZO1xuICAgICAgICBjb25zdCBieCA9ICgyLjAgKiBjcFgpIC0gKDIuMCAqIGZyb21YKTtcbiAgICAgICAgY29uc3QgYnkgPSAoMi4wICogY3BZKSAtICgyLjAgKiBmcm9tWSk7XG4gICAgICAgIGNvbnN0IGEgPSA0LjAgKiAoKGF4ICogYXgpICsgKGF5ICogYXkpKTtcbiAgICAgICAgY29uc3QgYiA9IDQuMCAqICgoYXggKiBieCkgKyAoYXkgKiBieSkpO1xuICAgICAgICBjb25zdCBjID0gKGJ4ICogYngpICsgKGJ5ICogYnkpO1xuXG4gICAgICAgIGNvbnN0IHMgPSAyLjAgKiBNYXRoLnNxcnQoYSArIGIgKyBjKTtcbiAgICAgICAgY29uc3QgYTIgPSBNYXRoLnNxcnQoYSk7XG4gICAgICAgIGNvbnN0IGEzMiA9IDIuMCAqIGEgKiBhMjtcbiAgICAgICAgY29uc3QgYzIgPSAyLjAgKiBNYXRoLnNxcnQoYyk7XG4gICAgICAgIGNvbnN0IGJhID0gYiAvIGEyO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoYTMyICogcylcbiAgICAgICAgICAgICAgICArIChhMiAqIGIgKiAocyAtIGMyKSlcbiAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgKCg0LjAgKiBjICogYSkgLSAoYiAqIGIpKVxuICAgICAgICAgICAgICAgICAgICogTWF0aC5sb2coKCgyLjAgKiBhMikgKyBiYSArIHMpIC8gKGJhICsgYzIpKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgKSAvICg0LjAgKiBhMzIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQb2ludHMgdG8gYWRkIHNlZ21lbnRzIHRvLlxuICAgICAqL1xuICAgIHN0YXRpYyBjdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKVxuICAgIHtcbiAgICAgICAgY29uc3QgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICBjb25zdCBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgY29uc3QgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChcbiAgICAgICAgICAgIFF1YWRyYXRpY1V0aWxzLmN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKVxuICAgICAgICApO1xuXG4gICAgICAgIGxldCB4YSA9IDA7XG4gICAgICAgIGxldCB5YSA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gbjsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBqID0gaSAvIG47XG5cbiAgICAgICAgICAgIHhhID0gZnJvbVggKyAoKGNwWCAtIGZyb21YKSAqIGopO1xuICAgICAgICAgICAgeWEgPSBmcm9tWSArICgoY3BZIC0gZnJvbVkpICogaik7XG5cbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHhhICsgKCgoY3BYICsgKCh0b1ggLSBjcFgpICogaikpIC0geGEpICogaiksXG4gICAgICAgICAgICAgICAgeWEgKyAoKChjcFkgKyAoKHRvWSAtIGNwWSkgKiBqKSkgLSB5YSkgKiBqKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHUkFQSElDU19DVVJWRVMgfSBmcm9tICcuLi9jb25zdCc7XG5pbXBvcnQgeyBQSV8yIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBhcmMgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFyY1V0aWxzXG57XG4gICAgLyoqXG4gICAgICogVGhlIGFyY1RvKCkgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlIGJldHdlZW4gdHdvIHRhbmdlbnRzIG9uIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBcImJvcnJvd2VkXCIgZnJvbSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Z4Y2FudmFzLyAtIHRoYW5rcyBnb29nbGUhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGFyY1xuICAgICAqIEByZXR1cm4ge29iamVjdH0gSWYgdGhlIGFyYyBsZW5ndGggaXMgdmFsaWQsIHJldHVybiBjZW50ZXIgb2YgY2lyY2xlLCByYWRpdXMgYW5kIG90aGVyIGluZm8gb3RoZXJ3aXNlIGBudWxsYC5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3VydmVUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpXG4gICAge1xuICAgICAgICBjb25zdCBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIGNvbnN0IGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBjb25zdCBhMSA9IGZyb21ZIC0geTE7XG4gICAgICAgIGNvbnN0IGIxID0gZnJvbVggLSB4MTtcbiAgICAgICAgY29uc3QgYTIgPSB5MiAtIHkxO1xuICAgICAgICBjb25zdCBiMiA9IHgyIC0geDE7XG4gICAgICAgIGNvbnN0IG1tID0gTWF0aC5hYnMoKGExICogYjIpIC0gKGIxICogYTIpKTtcblxuICAgICAgICBpZiAobW0gPCAxLjBlLTggfHwgcmFkaXVzID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAhPT0geDEgfHwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSAhPT0geTEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goeDEsIHkxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZCA9IChhMSAqIGExKSArIChiMSAqIGIxKTtcbiAgICAgICAgY29uc3QgY2MgPSAoYTIgKiBhMikgKyAoYjIgKiBiMik7XG4gICAgICAgIGNvbnN0IHR0ID0gKGExICogYTIpICsgKGIxICogYjIpO1xuICAgICAgICBjb25zdCBrMSA9IHJhZGl1cyAqIE1hdGguc3FydChkZCkgLyBtbTtcbiAgICAgICAgY29uc3QgazIgPSByYWRpdXMgKiBNYXRoLnNxcnQoY2MpIC8gbW07XG4gICAgICAgIGNvbnN0IGoxID0gazEgKiB0dCAvIGRkO1xuICAgICAgICBjb25zdCBqMiA9IGsyICogdHQgLyBjYztcbiAgICAgICAgY29uc3QgY3ggPSAoazEgKiBiMikgKyAoazIgKiBiMSk7XG4gICAgICAgIGNvbnN0IGN5ID0gKGsxICogYTIpICsgKGsyICogYTEpO1xuICAgICAgICBjb25zdCBweCA9IGIxICogKGsyICsgajEpO1xuICAgICAgICBjb25zdCBweSA9IGExICogKGsyICsgajEpO1xuICAgICAgICBjb25zdCBxeCA9IGIyICogKGsxICsgajIpO1xuICAgICAgICBjb25zdCBxeSA9IGEyICogKGsxICsgajIpO1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihweSAtIGN5LCBweCAtIGN4KTtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSBNYXRoLmF0YW4yKHF5IC0gY3ksIHF4IC0gY3gpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjeDogKGN4ICsgeDEpLFxuICAgICAgICAgICAgY3k6IChjeSArIHkxKSxcbiAgICAgICAgICAgIHJhZGl1cyxcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZSxcbiAgICAgICAgICAgIGFudGljbG9ja3dpc2U6IChiMSAqIGEyID4gYjIgKiBhMSksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRYIC0gU3RhcnQgeCBsb2NhdGlvbiBvZiBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIC0gU3RhcnQgeSBsb2NhdGlvbiBvZiBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhbnRpY2xvY2t3aXNlIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gICAgICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAgICAgKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIC0gTnVtYmVyIG9mIHNlZ21lbnRzXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gQ29sbGVjdGlvbiBvZiBwb2ludHMgdG8gYWRkIHRvXG4gICAgICovXG4gICAgc3RhdGljIGFyYyhzdGFydFgsIHN0YXJ0WSwgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlLCBwb2ludHMpXG4gICAge1xuICAgICAgICBjb25zdCBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcbiAgICAgICAgY29uc3QgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChcbiAgICAgICAgICAgIE1hdGguYWJzKHN3ZWVwKSAqIHJhZGl1cyxcbiAgICAgICAgICAgIE1hdGguY2VpbChNYXRoLmFicyhzd2VlcCkgLyBQSV8yKSAqIDQwXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgdGhldGEgPSAoc3dlZXApIC8gKG4gKiAyKTtcbiAgICAgICAgY29uc3QgdGhldGEyID0gdGhldGEgKiAyO1xuICAgICAgICBjb25zdCBjVGhldGEgPSBNYXRoLmNvcyh0aGV0YSk7XG4gICAgICAgIGNvbnN0IHNUaGV0YSA9IE1hdGguc2luKHRoZXRhKTtcbiAgICAgICAgY29uc3Qgc2VnTWludXMgPSBuIC0gMTtcbiAgICAgICAgY29uc3QgcmVtYWluZGVyID0gKHNlZ01pbnVzICUgMSkgLyBzZWdNaW51cztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBzZWdNaW51czsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByZWFsID0gaSArIChyZW1haW5kZXIgKiBpKTtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gKCh0aGV0YSkgKyBzdGFydEFuZ2xlICsgKHRoZXRhMiAqIHJlYWwpKTtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgICAgICBjb25zdCBzID0gLU1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgKCgoY1RoZXRhICogYykgKyAoc1RoZXRhICogcykpICogcmFkaXVzKSArIGN4LFxuICAgICAgICAgICAgICAgICgoKGNUaGV0YSAqIC1zKSArIChzVGhldGEgKiBjKSkgKiByYWRpdXMpICsgY3lcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQb2x5Z29uLCBQSV8yIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogRHJhdyBhIHN0YXIgc2hhcGUgd2l0aCBhbiBhcmJpdHJhcnkgbnVtYmVyIG9mIHBvaW50cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuUG9seWdvblxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludHMgLSBUaGUgbnVtYmVyIG9mIHBvaW50cyBvZiB0aGUgc3RhciwgbXVzdCBiZSA+IDFcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc3RhciBpbiByYWRpYW5zLCB3aGVyZSAwIGlzIHZlcnRpY2FsXG4gKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXIgZXh0ZW5kcyBQb2x5Z29uXG57XG4gICAgY29uc3RydWN0b3IoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbilcbiAgICB7XG4gICAgICAgIGlubmVyUmFkaXVzID0gaW5uZXJSYWRpdXMgfHwgcmFkaXVzIC8gMjtcblxuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gKC0xICogTWF0aC5QSSAvIDIpICsgcm90YXRpb247XG4gICAgICAgIGNvbnN0IGxlbiA9IHBvaW50cyAqIDI7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gUElfMiAvIGxlbjtcbiAgICAgICAgY29uc3QgcG9seWdvbiA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBpICUgMiA/IGlubmVyUmFkaXVzIDogcmFkaXVzO1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSAoaSAqIGRlbHRhKSArIHN0YXJ0QW5nbGU7XG5cbiAgICAgICAgICAgIHBvbHlnb24ucHVzaChcbiAgICAgICAgICAgICAgICB4ICsgKHIgKiBNYXRoLmNvcyhhbmdsZSkpLFxuICAgICAgICAgICAgICAgIHkgKyAociAqIE1hdGguc2luKGFuZ2xlKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihwb2x5Z29uKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIENpcmNsZSxcbiAgICBFbGxpcHNlLFxuICAgIFBJXzIsXG4gICAgUG9pbnQsXG4gICAgUG9seWdvbixcbiAgICBSZWN0YW5nbGUsXG4gICAgUm91bmRlZFJlY3RhbmdsZSxcbiAgICBNYXRyaXgsXG59IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgaGV4MnJnYiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7XG4gICAgVGV4dHVyZSxcbiAgICBTaGFkZXIsXG4gICAgVW5pZm9ybUdyb3VwLCBTdGF0ZSxcbn0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgRmlsbFN0eWxlIGZyb20gJy4vc3R5bGVzL0ZpbGxTdHlsZSc7XG5pbXBvcnQgR3JhcGhpY3NHZW9tZXRyeSBmcm9tICcuL0dyYXBoaWNzR2VvbWV0cnknO1xuaW1wb3J0IExpbmVTdHlsZSBmcm9tICcuL3N0eWxlcy9MaW5lU3R5bGUnO1xuaW1wb3J0IEJlemllclV0aWxzIGZyb20gJy4vdXRpbHMvQmV6aWVyVXRpbHMnO1xuaW1wb3J0IFF1YWRyYXRpY1V0aWxzIGZyb20gJy4vdXRpbHMvUXVhZHJhdGljVXRpbHMnO1xuaW1wb3J0IEFyY1V0aWxzIGZyb20gJy4vdXRpbHMvQXJjVXRpbHMnO1xuaW1wb3J0IFN0YXIgZnJvbSAnLi91dGlscy9TdGFyJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG5jb25zdCB0ZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcblxuLy8gYSBkZWZhdWx0IHNoYWRlciB1c2VkIGJ5IGdyYXBoaWNzLi5cbmxldCBkZWZhdWx0U2hhZGVyID0gbnVsbDtcblxuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogTm90ZSB0aGF0IGJlY2F1c2UgR3JhcGhpY3MgY2FuIHNoYXJlIGEgR3JhcGhpY3NHZW9tZXRyeSB3aXRoIG90aGVyIGluc3RhbmNlcyxcbiAqIGl0IGlzIG5lY2Vzc2FyeSB0byBjYWxsIGBkZXN0cm95KClgIHRvIHByb3Blcmx5IGRlcmVmZXJlbmNlIHRoZSB1bmRlcmx5aW5nXG4gKiBHcmFwaGljc0dlb21ldHJ5IGFuZCBhdm9pZCBhIG1lbW9yeSBsZWFrLiBBbHRlcm5hdGl2ZWx5LCBrZWVwIHVzaW5nIHRoZSBzYW1lXG4gKiBHcmFwaGljcyBpbnN0YW5jZSBhbmQgY2FsbCBgY2xlYXIoKWAgYmV0d2VlbiByZWRyYXdzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyYXBoaWNzIGV4dGVuZHMgQ29udGFpbmVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFtnZW9tZXRyeT1udWxsXSAtIEdlb21ldHJ5IHRvIHVzZSwgaWYgb21pdHRlZFxuICAgICAqICAgICAgICB3aWxsIGNyZWF0ZSBhIG5ldyBHcmFwaGljc0dlb21ldHJ5IGluc3RhbmNlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdlb21ldHJ5ID0gbnVsbClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmNsdWRlcyB2ZXJ0ZXggcG9zaXRpb25zLCBmYWNlIGluZGljZXMsIG5vcm1hbHMsIGNvbG9ycywgVVZzLCBhbmRcbiAgICAgICAgICogY3VzdG9tIGF0dHJpYnV0ZXMgd2l0aGluIGJ1ZmZlcnMsIHJlZHVjaW5nIHRoZSBjb3N0IG9mIHBhc3NpbmcgYWxsXG4gICAgICAgICAqIHRoaXMgZGF0YSB0byB0aGUgR1BVLiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvciBHcmFwaGljcyBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5IHx8IG5ldyBHcmFwaGljc0dlb21ldHJ5KCk7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS5yZWZDb3VudCsrO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMgdGhhdCBwcm9jZXNzZXMgdGhlIGdlb21ldHJ5IGFuZCBydW5zIG9uIHRoZSBHUFUuXG4gICAgICAgICAqIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBHcmFwaGljcyBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgV2ViR0wgc3RhdGUgdGhlIEdyYXBoaWNzIHJlcXVpcmVkIHRvIHJlbmRlciwgZXhjbHVkZXMgc2hhZGVyIGFuZCBnZW9tZXRyeS4gRS5nLixcbiAgICAgICAgICogYmxlbmQgbW9kZSwgY3VsbGluZywgZGVwdGggdGVzdGluZywgZGlyZWN0aW9uIG9mIHJlbmRlcmluZyB0cmlhbmdsZXMsIGJhY2tmYWNlLCBldGMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBmaWxsIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsbFN0eWxlfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUgPSBuZXcgRmlsbFN0eWxlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgbGluZSBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGluZVN0eWxlID0gbmV3IExpbmVTdHlsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHNoYXBlIHRyYW5zZm9ybSBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGhvbGUgbW9kZSBpcyBlbmFibGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHBhdGhcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2x5Z29ufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBjYWNoZUFzQml0bWFwIGlzIHNldCB0byB0cnVlIHRoZSBncmFwaGljcyBvYmplY3Qgd2lsbCBiZSByZW5kZXJlZCBhcyBpZiBpdCB3YXMgYSBzcHJpdGUuXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdXIgZ3JhcGhpY3MgZWxlbWVudCBkb2VzIG5vdCBjaGFuZ2Ugb2Z0ZW4sIGFzIGl0IHdpbGwgc3BlZWQgdXAgdGhlIHJlbmRlcmluZ1xuICAgICAgICAgKiBvZiB0aGUgb2JqZWN0IGluIGV4Y2hhbmdlIGZvciB0YWtpbmcgdXAgdGV4dHVyZSBtZW1vcnkuIEl0IGlzIGFsc28gdXNlZnVsIGlmIHlvdSBuZWVkIHRoZSBncmFwaGljc1xuICAgICAgICAgKiBvYmplY3QgdG8gYmUgYW50aS1hbGlhc2VkLCBiZWNhdXNlIGl0IHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgY2FudmFzLiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCBpZlxuICAgICAgICAgKiB5b3UgYXJlIGNvbnN0YW50bHkgcmVkcmF3aW5nIHRoZSBncmFwaGljcyBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBjYWNoZUFzQml0bWFwXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzI1xuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb2xsZWN0aW9ucyBvZiBiYXRjaGVzISBUaGVzZSBjYW4gYmUgZHJhd24gYnkgdGhlIHJlbmRlcmVyIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgZGlydHkgZm9yIGxpbWl0aW5nIGNhbGN1bGF0aW5nIHRpbnRzIGZvciBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvcHkgb2YgdGhlIG9iamVjdCB2ZXJ0ZXggZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gJ2JhdGNoJztcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdFxuICAgICAgICB0aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljcyBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZCwgbm90IGl0cyB0cmFuc2Zvcm0gKHBvc2l0aW9uLHNjYWxlLGV0YylcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IEEgY2xvbmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdFxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuXG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhpY3ModGhpcy5nZW9tZXRyeSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICovXG4gICAgc2V0IGJsZW5kTW9kZSh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGJsZW5kTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZlxuICAgICAqIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIGdldCB0aW50KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH1cbiAgICBzZXQgdGludCh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBmaWxsIHN0eWxlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGZpbGwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxTdHlsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBsaW5lIHN0eWxlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGxpbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVTdHlsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGxpbmUgc3R5bGUgdXNlZCBmb3Igc3Vic2VxdWVudCBjYWxscyB0byBHcmFwaGljcyBtZXRob2RzIHN1Y2ggYXMgdGhlIGxpbmVUbygpXG4gICAgICogbWV0aG9kIG9yIHRoZSBkcmF3Q2lyY2xlKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGxpbmVTdHlsZSh3aWR0aCA9IDAsIGNvbG9yID0gMCwgYWxwaGEgPSAxLCBhbGlnbm1lbnQgPSAwLjUsIG5hdGl2ZSA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5saW5lVGV4dHVyZVN0eWxlKHdpZHRoLCBUZXh0dXJlLldISVRFLCBjb2xvciwgYWxwaGEsIG51bGwsIGFsaWdubWVudCwgbmF0aXZlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWtlIGxpbmUgc3R5bGUgYnV0IHN1cHBvcnQgdGV4dHVyZSBmb3IgbGluZSBmaWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZT1QSVhJLlRleHR1cmUuV0hJVEVdIC0gVGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXg9bnVsbF0gVGV4dHVyZSBtYXRyaXggdG8gdHJhbnNmb3JtIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FsaWdubWVudD0wLjVdIC0gYWxpZ25tZW50IG9mIHRoZSBsaW5lIHRvIGRyYXcsICgwID0gaW5uZXIsIDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlcilcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgbGluZVRleHR1cmVTdHlsZSh3aWR0aCA9IDAsIHRleHR1cmUgPSBUZXh0dXJlLldISVRFLCBjb2xvciA9IDB4RkZGRkZGLCBhbHBoYSA9IDEsXG4gICAgICAgIG1hdHJpeCA9IG51bGwsIGFsaWdubWVudCA9IDAuNSwgbmF0aXZlID0gZmFsc2UpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZpc2libGUgPSB3aWR0aCA+IDAgJiYgYWxwaGEgPiAwO1xuXG4gICAgICAgIGlmICghdmlzaWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGluZVN0eWxlLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1hdHJpeCA9IG1hdHJpeC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIG1hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9saW5lU3R5bGUsIHtcbiAgICAgICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICBhbHBoYSxcbiAgICAgICAgICAgICAgICBtYXRyaXgsXG4gICAgICAgICAgICAgICAgdGV4dHVyZSxcbiAgICAgICAgICAgICAgICBhbGlnbm1lbnQsXG4gICAgICAgICAgICAgICAgbmF0aXZlLFxuICAgICAgICAgICAgICAgIHZpc2libGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0IGEgcG9seWdvbiBvYmplY3QgaW50ZXJuYWxseVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBzdGFydFBvbHkoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICAgICAgY29uc3QgbGVuID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAobGVuID4gMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMucHVzaChwb2ludHNbbGVuIC0gMl0sIHBvaW50c1tsZW4gLSAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmlzaCB0aGUgcG9seWdvbiBvYmplY3QuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGZpbmlzaFBvbHkoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPiAyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvIHgsIHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIG1vdmVUbyh4LCB5KVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMF0gPSB4O1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50c1sxXSA9IHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBsaW5lIHVzaW5nIHRoZSBjdXJyZW50IGxpbmUgc3R5bGUgZnJvbSB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvICh4LCB5KTtcbiAgICAgKiBUaGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIGlzIHRoZW4gc2V0IHRvICh4LCB5KS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgbGluZVRvKHgsIHkpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGR1cGxpY2F0ZXMuLlxuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgY29uc3QgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICBjb25zdCBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKGZyb21YICE9PSB4IHx8IGZyb21ZICE9PSB5KVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGN1cnZlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdXG4gICAgICovXG4gICAgX2luaXRDdXJ2ZSh4ID0gMCwgeSA9IDApXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyA9IFt4LCB5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKHgsIHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgcXVhZHJhdGljQ3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1kpXG4gICAge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoKTtcblxuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgYmV6aWVyQ3VydmVUbyhjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpXG4gICAge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoKTtcblxuICAgICAgICBCZXppZXJVdGlscy5jdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgYXJjVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cylcbiAgICB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSh4MSwgeTEpO1xuXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IEFyY1V0aWxzLmN1cnZlVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cywgcG9pbnRzKTtcblxuICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB7IGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSB9ID0gcmVzdWx0O1xuXG4gICAgICAgICAgICB0aGlzLmFyYyhjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3kgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRBbmdsZSAtIFRoZSBzdGFydGluZyBhbmdsZSwgaW4gcmFkaWFucyAoMCBpcyBhdCB0aGUgMyBvJ2Nsb2NrIHBvc2l0aW9uXG4gICAgICogIG9mIHRoZSBhcmMncyBjaXJjbGUpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEFuZ2xlIC0gVGhlIGVuZGluZyBhbmdsZSwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FudGljbG9ja3dpc2U9ZmFsc2VdIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gICAgICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAgICAgKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBhcmMoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlID0gZmFsc2UpXG4gICAge1xuICAgICAgICBpZiAoc3RhcnRBbmdsZSA9PT0gZW5kQW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhbnRpY2xvY2t3aXNlICYmIGVuZEFuZ2xlIDw9IHN0YXJ0QW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVuZEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYW50aWNsb2Nrd2lzZSAmJiBzdGFydEFuZ2xlIDw9IGVuZEFuZ2xlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcblxuICAgICAgICBpZiAoc3dlZXAgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhcnRYID0gY3ggKyAoTWF0aC5jb3Moc3RhcnRBbmdsZSkgKiByYWRpdXMpO1xuICAgICAgICBjb25zdCBzdGFydFkgPSBjeSArIChNYXRoLnNpbihzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIGNvbnN0IGVwcyA9IHRoaXMuZ2VvbWV0cnkuY2xvc2VQb2ludEVwcztcblxuICAgICAgICAvLyBJZiB0aGUgY3VycmVudFBhdGggZXhpc3RzLCB0YWtlIGl0cyBwb2ludHMuIE90aGVyd2lzZSBjYWxsIGBtb3ZlVG9gIHRvIHN0YXJ0IGEgcGF0aC5cbiAgICAgICAgbGV0IHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyA6IG51bGw7XG5cbiAgICAgICAgaWYgKHBvaW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETzogbWFrZSBhIGJldHRlciBmaXguXG5cbiAgICAgICAgICAgIC8vIFdlIGNoZWNrIGhvdyBmYXIgb3VyIHN0YXJ0IGlzIGZyb20gdGhlIGxhc3QgZXhpc3RpbmcgcG9pbnRcbiAgICAgICAgICAgIGNvbnN0IHhEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAtIHN0YXJ0WCk7XG4gICAgICAgICAgICBjb25zdCB5RGlmZiA9IE1hdGguYWJzKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gLSBzdGFydFkpO1xuXG4gICAgICAgICAgICBpZiAoeERpZmYgPCBlcHMgJiYgeURpZmYgPCBlcHMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBvaW50IGlzIHZlcnkgY2xvc2UsIHdlIGRvbid0IGFkZCBpdCwgc2luY2UgdGhpcyB3b3VsZCBsZWFkIHRvIGFydGlmYWN0c1xuICAgICAgICAgICAgICAgIC8vIGR1cmluZyB0ZXNzZWxsYXRpb24gZHVlIHRvIGZsb2F0aW5nIHBvaW50IGltcHJlY2lzaW9uLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgQXJjVXRpbHMuYXJjKHN0YXJ0WCwgc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UsIHBvaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIGEgc2ltcGxlIG9uZS1jb2xvciBmaWxsIHRoYXQgc3Vic2VxdWVudCBjYWxscyB0byBvdGhlciBHcmFwaGljcyBtZXRob2RzXG4gICAgICogKHN1Y2ggYXMgbGluZVRvKCkgb3IgZHJhd0NpcmNsZSgpKSB1c2Ugd2hlbiBkcmF3aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgYmVnaW5GaWxsKGNvbG9yID0gMCwgYWxwaGEgPSAxKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmVnaW5UZXh0dXJlRmlsbChUZXh0dXJlLldISVRFLCBjb2xvciwgYWxwaGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJlZ2luIHRoZSB0ZXh0dXJlIGZpbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZT1QSVhJLlRleHR1cmUuV0hJVEVdIC0gVGV4dHVyZSB0byBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0weGZmZmZmZl0gLSBCYWNrZ3JvdW5kIHRvIGZpbGwgYmVoaW5kIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gQWxwaGEgb2YgZmlsbFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXg9bnVsbF0gLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGJlZ2luVGV4dHVyZUZpbGwodGV4dHVyZSA9IFRleHR1cmUuV0hJVEUsIGNvbG9yID0gMHhGRkZGRkYsIGFscGhhID0gMSwgbWF0cml4ID0gbnVsbClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmlzaWJsZSA9IGFscGhhID4gMDtcblxuICAgICAgICBpZiAoIXZpc2libGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtYXRyaXggPSBtYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBtYXRyaXguaW52ZXJ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fZmlsbFN0eWxlLCB7XG4gICAgICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICAgICAgYWxwaGEsXG4gICAgICAgICAgICAgICAgdGV4dHVyZSxcbiAgICAgICAgICAgICAgICBtYXRyaXgsXG4gICAgICAgICAgICAgICAgdmlzaWJsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIGZpbGwgdG8gdGhlIGxpbmVzIGFuZCBzaGFwZXMgdGhhdCB3ZXJlIGFkZGVkIHNpbmNlIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGJlZ2luRmlsbCgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBlbmRGaWxsKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuXG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcmVjdGFuZ2xlIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgZHJhd1JlY3QoeCwgeSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3IGEgcmVjdGFuZ2xlIHNoYXBlIHdpdGggcm91bmRlZC9iZXZlbGVkIGNvcm5lcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBSYWRpdXMgb2YgdGhlIHJlY3RhbmdsZSBjb3JuZXJzXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGRyYXdSb3VuZGVkUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IFJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBjaXJjbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgZHJhd0NpcmNsZSh4LCB5LCByYWRpdXMpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IENpcmNsZSh4LCB5LCByYWRpdXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhbiBlbGxpcHNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBkcmF3RWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBFbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHBvbHlnb24gdXNpbmcgdGhlIGdpdmVuIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfFBJWEkuUG9pbnRbXXxQSVhJLlBvbHlnb259IHBhdGggLSBUaGUgcGF0aCBkYXRhIHVzZWQgdG8gY29uc3RydWN0IHRoZSBwb2x5Z29uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBkcmF3UG9seWdvbihwYXRoKVxuICAgIHtcbiAgICAgICAgLy8gcHJldmVudHMgYW4gYXJndW1lbnQgYXNzaWdubWVudCBkZW9wdFxuICAgICAgICAvLyBzZWUgc2VjdGlvbiAzLjE6IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICBsZXQgcG9pbnRzID0gcGF0aDtcblxuICAgICAgICBsZXQgY2xvc2VTdHJva2UgPSB0cnVlOy8vICEhdGhpcy5fZmlsbFN0eWxlO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIGRhdGEgaGFzIHBvaW50cy4uXG4gICAgICAgIGlmIChwb2ludHMucG9pbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjbG9zZVN0cm9rZSA9IHBvaW50cy5jbG9zZVN0cm9rZTtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5wb2ludHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gcHJldmVudHMgYW4gYXJndW1lbnQgbGVhayBkZW9wdFxuICAgICAgICAgICAgLy8gc2VlIHNlY3Rpb24gMy4yOiBodHRwczovL2dpdGh1Yi5jb20vcGV0a2FhbnRvbm92L2JsdWViaXJkL3dpa2kvT3B0aW1pemF0aW9uLWtpbGxlcnMjMy1tYW5hZ2luZy1hcmd1bWVudHNcbiAgICAgICAgICAgIHBvaW50cyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9pbnRzW2ldID0gYXJndW1lbnRzW2ldOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgUG9seWdvbihwb2ludHMpO1xuXG4gICAgICAgIHNoYXBlLmNsb3NlU3Ryb2tlID0gY2xvc2VTdHJva2U7XG5cbiAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXcgYW55IHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBTaGFwZSB0byBkcmF3XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGRyYXdTaGFwZShzaGFwZSlcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faG9sZU1vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZHJhd1NoYXBlKFxuICAgICAgICAgICAgICAgIHNoYXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5jbG9uZSgpLFxuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVTdHlsZS5jbG9uZSgpLFxuICAgICAgICAgICAgICAgIHRoaXMuX21hdHJpeFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZHJhd0hvbGUoc2hhcGUsIHRoaXMuX21hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3IGEgc3RhciBzaGFwZSB3aXRoIGFuIGFyYml0cmFyeSBudW1iZXIgb2YgcG9pbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBDZW50ZXIgWCBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBkcmF3U3Rhcih4LCB5LCBwb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMsIHJvdGF0aW9uID0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdQb2x5Z29uKG5ldyBTdGFyKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cywgcm90YXRpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGNsZWFyKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuXG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgZ3JhcGhpY3MgY29uc2lzdHMgb2Ygb25lIHJlY3RhbmdsZSwgYW5kIHRodXMsIGNhbiBiZSBkcmF3biBsaWtlIGEgU3ByaXRlIGFuZFxuICAgICAqIG1hc2tlZCB3aXRoIGdsLnNjaXNzb3IuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IDEgcmVjdC5cbiAgICAgKi9cbiAgICBpc0Zhc3RSZWN0KClcbiAgICB7XG4gICAgICAgIC8vIHdpbGwgZml4IHRoaXMhXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID09PSAxXG4gICAgICAgIC8vICAmJiB0aGlzLmdyYXBoaWNzRGF0YVswXS5zaGFwZS50eXBlID09PSBTSEFQRVMuUkVDVFxuICAgICAgICAvLyAmJiAhdGhpcy5ncmFwaGljc0RhdGFbMF0ubGluZVdpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgX3JlbmRlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcblxuICAgICAgICAvLyBiYXRjaCBwYXJ0Li5cbiAgICAgICAgLy8gYmF0Y2ggaXQhXG4gICAgICAgIGdlb21ldHJ5LnVwZGF0ZUJhdGNoZXMoKTtcblxuICAgICAgICBpZiAoZ2VvbWV0cnkuYmF0Y2hhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5iYXRjaERpcnR5ICE9PSBnZW9tZXRyeS5iYXRjaERpcnR5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gLTE7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoRGlydHkgPSBnZW9tZXRyeS5iYXRjaERpcnR5O1xuXG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS5wb2ludHMpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJ5LmJhdGNoZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnSSA9IGdlb21ldHJ5LmJhdGNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBnSS5zdHlsZS5jb2xvcjtcblxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudmVydGV4RGF0YS5idWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkudXZzRmxvYXQzMi5idWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoZ2VvbWV0cnkuaW5kaWNlc1VpbnQxNi5idWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnSS5zdGFydCAqIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnSS5zaXplKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXRjaCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRleERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBibGVuZE1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXZzLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2JhdGNoUkdCOiBoZXgycmdiKGNvbG9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aW50UkdCOiBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIF90ZXh0dXJlOiBnSS5zdHlsZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGE6IGdJLnN0eWxlLmFscGhhLFxuICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRBbHBoYTogMSB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hlc1tpXSA9IGJhdGNoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuYmF0Y2hlcy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRpbnRzKCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy5iYXRjaGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGEgKiBiYXRjaC5hbHBoYTtcblxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKGJhdGNoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBubyBiYXRjaGluZy4uLlxuICAgICAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnNoYWRlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBzaGFkZXIgaGVyZSwgd2UgY2FuIHVzZSB0aGUgZGVmYXVsdCBzaGFkZXIuXG4gICAgICAgICAgICAgICAgLy8gYW5kIHRoYXQgb25seSBnZXRzIGNyZWF0ZWQgaWYgd2UgYWN0dWFsbHkgbmVlZCBpdC4uXG4gICAgICAgICAgICAgICAgaWYgKCFkZWZhdWx0U2hhZGVyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FtcGxlVmFsdWVzID0gbmV3IEludDMyQXJyYXkoMTYpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGludDogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFVuaWZvcm1Hcm91cC5mcm9tKHsgdVNhbXBsZXJzOiBzYW1wbGVWYWx1ZXMgfSwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2FuIGJiYXNlIGRlZmF1bHQgc2hhZGVyIG9mIHRoZSBiYXRjaCByZW5kZXJlcnMgcHJvZ3JhbVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmFtID0gIHJlbmRlcmVyLnBsdWdpbnMuYmF0Y2guX3NoYWRlci5wcm9ncmFtO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFkZXIgPSBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRlciA9IGRlZmF1bHRTaGFkZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHVuaWZvcm1zID0gdGhpcy5zaGFkZXIudW5pZm9ybXM7XG5cbiAgICAgICAgICAgIC8vIGxldHMgc2V0IHRoZSB0cmFuc2ZvbXJcbiAgICAgICAgICAgIHVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgICAgICBjb25zdCB3YSA9IHRoaXMud29ybGRBbHBoYTtcblxuICAgICAgICAgICAgLy8gYW5kIHRoZW4gbGV0cyBzZXQgdGhlIHRpbnQuLlxuICAgICAgICAgICAgdW5pZm9ybXMudGludFswXSA9ICgoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUpICogd2E7XG4gICAgICAgICAgICB1bmlmb3Jtcy50aW50WzFdID0gKCgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1KSAqIHdhO1xuICAgICAgICAgICAgdW5pZm9ybXMudGludFsyXSA9ICgodGludCAmIDB4RkYpIC8gMjU1KSAqIHdhO1xuICAgICAgICAgICAgdW5pZm9ybXMudGludFszXSA9IHdhO1xuXG4gICAgICAgICAgICAvLyB0aGUgZmlyc3QgZHJhdyBjYWxsLCB3ZSBjYW4gc2V0IHRoZSB1bmlmb3JtcyBvZiB0aGUgc2hhZGVyIGRpcmVjdGx5IGhlcmUuXG5cbiAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB3ZSBjYW4gdGFjayBhZHZhbnRhZ2Ugb2YgdGhlIHN5bmMgZnVuY3Rpb24gb2YgcGl4aSFcbiAgICAgICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICAgICAgLy8gdGhlcmUgaXMgYSB3YXkgdG8gb3B0aW1pc2UgdGhpcy4uXG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgICAgIC8vIHRoZW4gcmVuZGVyIGl0XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCB0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG5cbiAgICAgICAgICAgIC8vIHRoZW4gcmVuZGVyIHRoZSByZXN0IG9mIHRoZW0uLi5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cnkuZHJhd0NhbGxzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRyYXdDYWxsID0gZ2VvbWV0cnkuZHJhd0NhbGxzW2ldO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBUZXh0dXJlQ291bnQgPSBkcmF3Q2FsbC50ZXh0dXJlQ291bnQ7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdyb3VwVGV4dHVyZUNvdW50OyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQoZHJhd0NhbGwudGV4dHVyZXNbal0sIGopO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGJpbmQgdGhlIGdlb21ldHJ5Li4uXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhkcmF3Q2FsbC50eXBlLCBkcmF3Q2FsbC5zaXplLCBkcmF3Q2FsbC5zdGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBzaGFwZSBhcyBhIHJlY3RhbmdsZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY2FsY3VsYXRlQm91bmRzKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICBjb25zdCBsYiA9IHRoaXMuZ2VvbWV0cnkuYm91bmRzO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbGIubWluWCwgbGIubWluWSwgbGIubWF4WCwgbGIubWF4WSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBjb250YWluc1BvaW50KHBvaW50KVxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIEdyYXBoaWNzLl9URU1QX1BPSU5UKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5jb250YWluc1BvaW50KEdyYXBoaWNzLl9URU1QX1BPSU5UKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1YXRlIHRoZSB0aW50IGJ5IGFwcGx5aW5nIHRpbiB0byBiYXRjaGVzIHVzaW5nIEdyYXBoaWNzIHRpbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNhbGN1bGF0ZVRpbnRzKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoVGludCAhPT0gdGhpcy50aW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoVGludCA9IHRoaXMudGludDtcblxuICAgICAgICAgICAgY29uc3QgdGludFJHQiA9IGhleDJyZ2IodGhpcy50aW50LCB0ZW1wKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBiYXRjaFRpbnQgPSBiYXRjaC5fYmF0Y2hSR0I7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByID0gKHRpbnRSR0JbMF0gKiBiYXRjaFRpbnRbMF0pICogMjU1O1xuICAgICAgICAgICAgICAgIGNvbnN0IGcgPSAodGludFJHQlsxXSAqIGJhdGNoVGludFsxXSkgKiAyNTU7XG4gICAgICAgICAgICAgICAgY29uc3QgYiA9ICh0aW50UkdCWzJdICogYmF0Y2hUaW50WzJdKSAqIDI1NTtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gSXZhbiwgY2FuIHRoaXMgYmUgZG9uZSBpbiBvbmUgZ28/XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSAociA8PCAxNikgKyAoZyA8PCA4KSArIChiIHwgMCk7XG5cbiAgICAgICAgICAgICAgICBiYXRjaC5fdGludFJHQiA9IChjb2xvciA+PiAxNilcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGNvbG9yICYgMHhmZjAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoKGNvbG9yICYgMHhmZikgPDwgMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgdGhlcmUncyBhIHRyYW5zZm9ybSB1cGRhdGUgb3IgYSBjaGFuZ2UgdG8gdGhlIHNoYXBlIG9mIHRoZVxuICAgICAqIGdlb21ldHJ5LCByZWNhY3VsYXRlIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY2FsY3VsYXRlVmVydGljZXMoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcblxuICAgICAgICBjb25zdCB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICBjb25zdCBhID0gd3QuYTtcbiAgICAgICAgY29uc3QgYiA9IHd0LmI7XG4gICAgICAgIGNvbnN0IGMgPSB3dC5jO1xuICAgICAgICBjb25zdCBkID0gd3QuZDtcbiAgICAgICAgY29uc3QgdHggPSB3dC50eDtcbiAgICAgICAgY29uc3QgdHkgPSB3dC50eTtcblxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5nZW9tZXRyeS5wb2ludHM7Ly8gYmF0Y2gudmVydGV4RGF0YU9yaWdpbmFsO1xuICAgICAgICBjb25zdCB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuXG4gICAgICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBkYXRhW2kgKyAxXTtcblxuICAgICAgICAgICAgdmVydGV4RGF0YVtjb3VudCsrXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGQgKiB5KSArIChiICogeCkgKyB0eTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY3VycmVudCBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgY2xvc2VQYXRoKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gdGhpcy5jdXJyZW50UGF0aDtcblxuICAgICAgICBpZiAoY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gYWRkIGV4dHJhIHBvaW50IGluIHRoZSBlbmQgYmVjYXVzZSBidWlsZExpbmUgd2lsbCB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICAgICAgY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgYSBtYXRyaXggdG8gdGhlIHBvc2l0aW9uYWwgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIE1hdHJpeCB0byB1c2UgZm9yIHRyYW5zZm9ybSBjdXJyZW50IHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIHNldE1hdHJpeChtYXRyaXgpXG4gICAge1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmVnaW4gYWRkaW5nIGhvbGVzIHRvIHRoZSBsYXN0IGRyYXcgc2hhcGVcbiAgICAgKiBJTVBPUlRBTlQ6IGhvbGVzIG11c3QgYmUgZnVsbHkgaW5zaWRlIGEgc2hhcGUgdG8gd29ya1xuICAgICAqIEFsc28gd2VpcmRuZXNzIGVuc3VlcyBpZiBob2xlcyBvdmVybGFwIVxuICAgICAqIEVsbGlwc2VzLCBDaXJjbGVzLCBSZWN0YW5nbGVzIGFuZCBSb3VuZGVkIFJlY3RhbmdsZXMgY2Fubm90IGJlIGhvbGVzIG9yIGhvc3QgZm9yIGhvbGVzIGluIENhbnZhc1JlbmRlcmVyLFxuICAgICAqIHBsZWFzZSB1c2UgYG1vdmVUb2AgYGxpbmVUb2AsIGBxdWFkcmF0aWNDdXJ2ZVRvYCBpZiB5b3UgcmVseSBvbiBwaXhpLWxlZ2FjeSBidW5kbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgYmVnaW5Ib2xlKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5kIGFkZGluZyBob2xlcyB0byB0aGUgbGFzdCBkcmF3IHNoYXBlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgZW5kSG9sZSgpXG4gICAge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KG9wdGlvbnMpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMuZ2VvbWV0cnkucmVmQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBudWxsO1xuXG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRlbXBvcmFyeSBwb2ludCB0byB1c2UgZm9yIGNvbnRhaW5zUG9pbnRcbiAqXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAqL1xuR3JhcGhpY3MuX1RFTVBfUE9JTlQgPSBuZXcgUG9pbnQoKTtcbiIsImltcG9ydCB7IFBvaW50LCBPYnNlcnZhYmxlUG9pbnQsIFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2lnbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmNvbnN0IHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuY29uc3QgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShbMCwgMSwgMiwgMCwgMiwgM10pO1xuXG4vKipcbiAqIFRoZSBTcHJpdGUgb2JqZWN0IGlzIHRoZSBiYXNlIGZvciBhbGwgdGV4dHVyZWQgb2JqZWN0cyB0aGF0IGFyZSByZW5kZXJlZCB0byB0aGUgc2NyZWVuXG4qXG4gKiBBIHNwcml0ZSBjYW4gYmUgY3JlYXRlZCBkaXJlY3RseSBmcm9tIGFuIGltYWdlIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oJ2Fzc2V0cy9pbWFnZS5wbmcnKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBtb3JlIGVmZmljaWVudCB3YXkgdG8gY3JlYXRlIHNwcml0ZXMgaXMgdXNpbmcgYSB7QGxpbmsgUElYSS5TcHJpdGVzaGVldH0sXG4gKiBhcyBzd2FwcGluZyBiYXNlIHRleHR1cmVzIHdoZW4gcmVuZGVyaW5nIHRvIHRoZSBzY3JlZW4gaXMgaW5lZmZpY2llbnQuXG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHNoZWV0LnRleHR1cmVzW1wiaW1hZ2UucG5nXCJdKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpdGUgZXh0ZW5kcyBDb250YWluZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmVdIC0gVGhlIHRleHR1cmUgZm9yIHRoaXMgc3ByaXRlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHBvaW50IGRlZmluZXMgdGhlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNcbiAgICAgICAgICogaW4gdGhlIHRleHR1cmUgdGhhdCBtYXAgdG8gdGhlIHBvc2l0aW9uIG9mIHRoaXNcbiAgICAgICAgICogc3ByaXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCeSBkZWZhdWx0LCB0aGlzIGlzIGAoMCwwKWAgKG9yIGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgXG4gICAgICAgICAqIGlmIHlvdSBoYXZlIG1vZGlmaWVkIHRoYXQpLCB3aGljaCBtZWFucyB0aGUgcG9zaXRpb25cbiAgICAgICAgICogYCh4LHkpYCBvZiB0aGlzIGBTcHJpdGVgIHdpbGwgYmUgdGhlIHRvcC1sZWZ0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZTogVXBkYXRpbmcgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmAgYWZ0ZXJcbiAgICAgICAgICogY29uc3RydWN0aW5nIGEgYFNwcml0ZWAgZG9lcyBfbm90XyB1cGRhdGUgaXRzIGFuY2hvci5cbiAgICAgICAgICpcbiAgICAgICAgICoge0BsaW5rIGh0dHBzOi8vZG9jcy5jb2NvczJkLXgub3JnL2NvY29zMmQteC9lbi9zcHJpdGVzL21hbmlwdWxhdGlvbi5odG1sfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG5ldyBPYnNlcnZhYmxlUG9pbnQoXG4gICAgICAgICAgICB0aGlzLl9vbkFuY2hvclVwZGF0ZSxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAodGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci54IDogMCksXG4gICAgICAgICAgICAodGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci55IDogMClcbiAgICAgICAgKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9IG51bGw7XG4gICAgICAgIHRoaXMudGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhZGVyIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciB0aGUgc3ByaXRlLiBTZXQgdG8gbnVsbCB0byByZW1vdmUgYSBjdXJyZW50IHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJ8UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCB0aW50IHZhbHVlIHNvIHdlIGNhbiB0ZWxsIHdoZW4gdGhlIHRpbnQgaXMgY2hhbmdlZC5cbiAgICAgICAgICogVmFsdWUgaXMgdXNlZCBmb3IgMmQgQ2FudmFzUmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcblxuICAgICAgICAvLyBjYWxsIHRleHR1cmUgc2V0dGVyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmUgfHwgVGV4dHVyZS5FTVBUWTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSB2ZXJ0ZXggZGF0YSBvZiB0aGUgc3ByaXRlIChiYXNpY2FsbHkgYSBxdWFkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCBJRiBpdCBpcyBhIHRyaW1tZWQgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4VHJpbW1lZERhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG5cbiAgICAgICAgLy8gQmF0Y2hhYmxlIHN0dWZmLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCBtYWtlIHRoaXMgYSBtaXhpbj9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gaW5kaWNlcztcbiAgICAgICAgdGhpcy5zaXplID0gNDtcbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInICYgJ19yZW5kZXJDYW52YXMnIG1ldGhvZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gJ2JhdGNoJztcblxuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU3ByaXRlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcm91bmRQaXhlbHMgZmllbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZCwgdGhpcyBldmVudCB3aWxsIGZpcmUgdG8gdXBkYXRlIHRoZSBzY2FsZSBhbmQgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uVGV4dHVyZVVwZGF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgdGhpcy51dnMgPSB0aGlzLl90ZXh0dXJlLl91dnMudXZzRmxvYXQzMjtcbiAgICAgICAgLy8gc28gaWYgX3dpZHRoIGlzIDAgdGhlbiB3aWR0aCB3YXMgbm90IHNldC4uXG4gICAgICAgIGlmICh0aGlzLl93aWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gc2lnbih0aGlzLnNjYWxlLngpICogdGhpcy5fd2lkdGggLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzaWduKHRoaXMuc2NhbGUueSkgKiB0aGlzLl9oZWlnaHQgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGFuY2hvciBwb3NpdGlvbiB1cGRhdGVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25BbmNob3JVcGRhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzLCBzdG9yZSBpdCBpbiB2ZXJ0ZXhEYXRhXG4gICAgICovXG4gICAgY2FsY3VsYXRlVmVydGljZXMoKVxuICAgIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRleHR1cmUuX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICAvLyBzZXQgdGhlIHZlcnRleCBkYXRhXG5cbiAgICAgICAgY29uc3Qgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgYSA9IHd0LmE7XG4gICAgICAgIGNvbnN0IGIgPSB3dC5iO1xuICAgICAgICBjb25zdCBjID0gd3QuYztcbiAgICAgICAgY29uc3QgZCA9IHd0LmQ7XG4gICAgICAgIGNvbnN0IHR4ID0gd3QudHg7XG4gICAgICAgIGNvbnN0IHR5ID0gd3QudHk7XG4gICAgICAgIGNvbnN0IHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG4gICAgICAgIGNvbnN0IHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgIGNvbnN0IG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcblxuICAgICAgICBsZXQgdzAgPSAwO1xuICAgICAgICBsZXQgdzEgPSAwO1xuICAgICAgICBsZXQgaDAgPSAwO1xuICAgICAgICBsZXQgaDEgPSAwO1xuXG4gICAgICAgIGlmICh0cmltKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZSBleHRyYVxuICAgICAgICAgICAgLy8gc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy5cbiAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKGFuY2hvci5feCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG5cbiAgICAgICAgICAgIGgxID0gdHJpbS55IC0gKGFuY2hvci5feSAqIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgb3JpZy53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gKGEgKiB3MSkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gKGQgKiBoMSkgKyAoYiAqIHcxKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSAoYSAqIHcwKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSAoZCAqIGgxKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gKGEgKiB3MSkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gKGQgKiBoMCkgKyAoYiAqIHcxKSArIHR5O1xuXG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpXSA9IE1hdGgucm91bmQodmVydGV4RGF0YVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMgZm9yIGEgbm9uIHRleHR1cmUgd2l0aCBhIHRyaW0uIHN0b3JlIGl0IGluIHZlcnRleFRyaW1tZWREYXRhXG4gICAgICogVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IHRoZSB0cnVlIHdpZHRoIGFuZCBoZWlnaHQgb2YgYSB0cmltbWVkIHRleHR1cmUgaXMgcmVzcGVjdGVkXG4gICAgICovXG4gICAgY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID09PSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICAvLyBsZXRzIGRvIHNvbWUgc3BlY2lhbCB0cmltIGNvZGUhXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICBjb25zdCB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YTtcbiAgICAgICAgY29uc3Qgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuXG4gICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIHRoZSBuZXcgdW50cmltbWVkIGJvdW5kcy4uXG4gICAgICAgIGNvbnN0IHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgICAgICBjb25zdCBiID0gd3QuYjtcbiAgICAgICAgY29uc3QgYyA9IHd0LmM7XG4gICAgICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgICAgICBjb25zdCB0eCA9IHd0LnR4O1xuICAgICAgICBjb25zdCB0eSA9IHd0LnR5O1xuXG4gICAgICAgIGNvbnN0IHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgIGNvbnN0IHcwID0gdzEgKyBvcmlnLndpZHRoO1xuXG4gICAgICAgIGNvbnN0IGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICBjb25zdCBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gKGEgKiB3MCkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gKGQgKiBoMSkgKyAoYiAqIHcwKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSAoYSAqIHcwKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSAoZCAqIGgwKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgKlxuICAgICogQHByb3RlY3RlZFxuICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlciB0byB1c2UuXG4gICAgKi9cbiAgICBfcmVuZGVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NhbGN1bGF0ZUJvdW5kcygpXG4gICAge1xuICAgICAgICBjb25zdCB0cmltID0gdGhpcy5fdGV4dHVyZS50cmltO1xuICAgICAgICBjb25zdCBvcmlnID0gdGhpcy5fdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgIC8vIEZpcnN0IGxldHMgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHRleHR1cmUgaGFzIGEgdHJpbS4uXG4gICAgICAgIGlmICghdHJpbSB8fCAodHJpbS53aWR0aCA9PT0gb3JpZy53aWR0aCAmJiB0cmltLmhlaWdodCA9PT0gb3JpZy5oZWlnaHQpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBubyB0cmltISBsZXRzIHVzZSB0aGUgdXN1YWwgY2FsY3VsYXRpb25zLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSBhIHNwZWNpYWwgdHJpbW1lZCBib3VuZHMuLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleFRyaW1tZWREYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIGdldExvY2FsQm91bmRzKHJlY3QpXG4gICAge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgc3ByaXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgY29udGFpbnNQb2ludChwb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICBjb25zdCB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgIGxldCB5MSA9IDA7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IueTtcblxuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBkZXN0cm95KG9wdGlvbnMpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX3RleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG51bGw7XG5cbiAgICAgICAgY29uc3QgZGVzdHJveVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlO1xuXG4gICAgICAgIGlmIChkZXN0cm95VGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGVzdHJveUJhc2VUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuZGVzdHJveSghIWRlc3Ryb3lCYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIHNvbWUgaGVscGVyIGZ1bmN0aW9ucy4uXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX0gVGhlIG5ld2x5IGNyZWF0ZWQgc3ByaXRlXG4gICAgICovXG4gICAgc3RhdGljIGZyb20oc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IChzb3VyY2UgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICAgICAgPyBzb3VyY2VcbiAgICAgICAgICAgIDogVGV4dHVyZS5mcm9tKHNvdXJjZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHNldCByb3VuZFBpeGVscyh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgcm91bmRQaXhlbHMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICB9XG5cbiAgICBzZXQgd2lkdGgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgY29uc3QgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS55KSAqIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IGhlaWdodCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBjb25zdCBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRha2VuIGZyb20gdGhlIHtAbGluayBQSVhJLlRleHR1cmV8VGV4dHVyZX1cbiAgICAgKiBhbmQgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMC41LDAuNSlgIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIGNlbnRlcmVkLlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAqXG4gICAgICogSWYgeW91IHBhc3Mgb25seSBzaW5nbGUgcGFyYW1ldGVyLCBpdCB3aWxsIHNldCBib3RoIHggYW5kIHkgdG8gdGhlIHNhbWUgdmFsdWUgYXMgc2hvd24gaW4gdGhlIGV4YW1wbGUgYmVsb3cuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuYW5jaG9yLnNldCgwLjUpOyAvLyBUaGlzIHdpbGwgc2V0IHRoZSBvcmlnaW4gdG8gY2VudGVyLiAoMC41KSBpcyBzYW1lIGFzICgwLjUsIDAuNSkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBnZXQgYW5jaG9yKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgfVxuXG4gICAgc2V0IGFuY2hvcih2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIGdldCB0aW50KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH1cblxuICAgIHNldCB0aW50KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBnZXQgdGV4dHVyZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICB9XG5cbiAgICBzZXQgdGV4dHVyZSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZSA9PT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZSB8fCBUZXh0dXJlLkVNUFRZO1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcblxuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSB0ZXh0dXJlIHRvIGxvYWRcbiAgICAgICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDb25zdGFudHMgdGhhdCBkZWZpbmUgdGhlIHR5cGUgb2YgZ3JhZGllbnQgb24gdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFRFWFRfR1JBRElFTlRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9WRVJUSUNBTCBWZXJ0aWNhbCBncmFkaWVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9IT1JJWk9OVEFMIExpbmVhciBncmFkaWVudFxuICovXG5leHBvcnQgY29uc3QgVEVYVF9HUkFESUVOVCA9IHtcbiAgICBMSU5FQVJfVkVSVElDQUw6IDAsXG4gICAgTElORUFSX0hPUklaT05UQUw6IDEsXG59O1xuIiwiLy8gZGlzYWJsaW5nIGVzbGludCBmb3Igbm93LCBnb2luZyB0byByZXdyaXRlIHRoaXMgaW4gdjVcbi8qIGVzbGludC1kaXNhYmxlICovXG5cbmltcG9ydCB7IFRFWFRfR1JBRElFTlQgfSBmcm9tICcuL2NvbnN0JztcbmltcG9ydCB7IGhleDJzdHJpbmcgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmNvbnN0IGRlZmF1bHRTdHlsZSA9IHtcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGJyZWFrV29yZHM6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3c6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICAgIGRyb3BTaGFkb3dCbHVyOiAwLFxuICAgIGRyb3BTaGFkb3dDb2xvcjogJ2JsYWNrJyxcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gICAgZmlsbDogJ2JsYWNrJyxcbiAgICBmaWxsR3JhZGllbnRUeXBlOiBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCxcbiAgICBmaWxsR3JhZGllbnRTdG9wczogW10sXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICBmb250U2l6ZTogMjYsXG4gICAgZm9udFN0eWxlOiAnbm9ybWFsJyxcbiAgICBmb250VmFyaWFudDogJ25vcm1hbCcsXG4gICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICBsaW5lSGVpZ2h0OiAwLFxuICAgIGxpbmVKb2luOiAnbWl0ZXInLFxuICAgIG1pdGVyTGltaXQ6IDEwLFxuICAgIHBhZGRpbmc6IDAsXG4gICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgIHN0cm9rZVRoaWNrbmVzczogMCxcbiAgICB0ZXh0QmFzZWxpbmU6ICdhbHBoYWJldGljJyxcbiAgICB0cmltOiBmYWxzZSxcbiAgICB3aGl0ZVNwYWNlOiAncHJlJyxcbiAgICB3b3JkV3JhcDogZmFsc2UsXG4gICAgd29yZFdyYXBXaWR0aDogMTAwLFxuICAgIGxlYWRpbmc6IDAsXG59O1xuXG5jb25zdCBnZW5lcmljRm9udEZhbWlsaWVzID0gW1xuICAgICdzZXJpZicsXG4gICAgJ3NhbnMtc2VyaWYnLFxuICAgICdtb25vc3BhY2UnLFxuICAgICdjdXJzaXZlJyxcbiAgICAnZmFudGFzeScsXG4gICAgJ3N5c3RlbS11aScsXG5dXG5cbi8qKlxuICogQSBUZXh0U3R5bGUgT2JqZWN0IGNvbnRhaW5zIGluZm9ybWF0aW9uIHRvIGRlY29yYXRlIGEgVGV4dCBvYmplY3RzLlxuICpcbiAqIEFuIGluc3RhbmNlIGNhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBUZXh0IG9iamVjdHM7IHRoZW4gY2hhbmdpbmcgdGhlIHN0eWxlIHdpbGwgdXBkYXRlIGFsbCB0ZXh0IG9iamVjdHMgdXNpbmcgaXQuXG4gKlxuICogQSB0b29sIGNhbiBiZSB1c2VkIHRvIGdlbmVyYXRlIGEgdGV4dCBzdHlsZSBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRTdHlsZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmJyZWFrV29yZHM9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXRcbiAgICAgKiAgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5kcm9wU2hhZG93PWZhbHNlXSAtIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FscGhhPTFdIC0gU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbmdsZT1NYXRoLlBJLzZdIC0gU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Qmx1cj0wXSAtIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dDb2xvcj0nYmxhY2snXSAtIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U9NV0gLSBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn0gW3N0eWxlLmZpbGw9J2JsYWNrJ10gLSBBIGNhbnZhc1xuICAgICAqICBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudFxuICAgICAqICBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZmlsbEdyYWRpZW50VHlwZT1QSVhJLlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3Vyc1xuICAgICAqICB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtzdHlsZS5maWxsR3JhZGllbnRTdG9wc10gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldFxuICAgICAqIHRoZSBzdG9wIHBvaW50cyAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtzdHlsZS5mb250RmFtaWx5PSdBcmlhbCddIC0gVGhlIGZvbnQgZmFtaWx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbc3R5bGUuZm9udFNpemU9MjZdIC0gVGhlIGZvbnQgc2l6ZSAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZyxcbiAgICAgKiAgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250U3R5bGU9J25vcm1hbCddIC0gVGhlIGZvbnQgc3R5bGUgKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250VmFyaWFudD0nbm9ybWFsJ10gLSBUaGUgZm9udCB2YXJpYW50ICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250V2VpZ2h0PSdub3JtYWwnXSAtIFRoZSBmb250IHdlaWdodCAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsXG4gICAgICogICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZWFkaW5nPTBdIC0gVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxldHRlclNwYWNpbmc9MF0gLSBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxpbmVIZWlnaHRdIC0gVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUubGluZUpvaW49J21pdGVyJ10gLSBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmVcbiAgICAgKiAgICAgIHNwaWtlZCB0ZXh0IGlzc3Vlcy4gUG9zc2libGUgdmFsdWVzIFwibWl0ZXJcIiAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lciksIFwicm91bmRcIiAoY3JlYXRlcyBhIHJvdW5kIGNvcm5lcikgb3IgXCJiZXZlbFwiXG4gICAgICogICAgICAoY3JlYXRlcyBhIHNxdWFyZWQgY29ybmVyKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1pdGVyTGltaXQ9MTBdIC0gVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGUuIFRoaXMgY2FuIHJlZHVjZVxuICAgICAqICAgICAgb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUucGFkZGluZz0wXSAtIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb21cbiAgICAgKiAgICAgaGFwcGVuaW5nIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5zdHJva2U9J2JsYWNrJ10gLSBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICogIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuc3Ryb2tlVGhpY2tuZXNzPTBdIC0gQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgKiAgRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUudHJpbT1mYWxzZV0gLSBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLnRleHRCYXNlbGluZT0nYWxwaGFiZXRpYyddIC0gVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS53aGl0ZVNwYWNlPSdwcmUnXSAtIERldGVybWluZXMgd2hldGhlciBuZXdsaW5lcyAmIHNwYWNlcyBhcmUgY29sbGFwc2VkIG9yIHByZXNlcnZlZCBcIm5vcm1hbFwiXG4gICAgICogICAgICAoY29sbGFwc2UsIGNvbGxhcHNlKSwgXCJwcmVcIiAocHJlc2VydmUsIHByZXNlcnZlKSB8IFwicHJlLWxpbmVcIiAocHJlc2VydmUsIGNvbGxhcHNlKS4gSXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS53b3JkV3JhcD1mYWxzZV0gLSBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS53b3JkV3JhcFdpZHRoPTEwMF0gLSBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3R5bGUpXG4gICAge1xuICAgICAgICB0aGlzLnN0eWxlSUQgPSAwO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXModGhpcywgc3R5bGUsIHN0eWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dFN0eWxlfSBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAgICAgKi9cbiAgICBjbG9uZSgpXG4gICAge1xuICAgICAgICBjb25zdCBjbG9uZWRQcm9wZXJ0aWVzID0ge307XG5cbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKGNsb25lZFByb3BlcnRpZXMsIHRoaXMsIGRlZmF1bHRTdHlsZSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0U3R5bGUoY2xvbmVkUHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCBwcm9wZXJ0aWVzIHRvIHRoZSBkZWZhdWx0cyBzcGVjaWZpZWQgaW4gVGV4dFN0eWxlLnByb3RvdHlwZS5fZGVmYXVsdFxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBkZWZhdWx0U3R5bGUsIGRlZmF1bHRTdHlsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgYWxpZ24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgIH1cbiAgICBzZXQgYWxpZ24oYWxpZ24pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGJyZWFrV29yZHMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JyZWFrV29yZHM7XG4gICAgfVxuICAgIHNldCBicmVha1dvcmRzKGJyZWFrV29yZHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2JyZWFrV29yZHMgIT09IGJyZWFrV29yZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JyZWFrV29yZHMgPSBicmVha1dvcmRzO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGRyb3BTaGFkb3coKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3c7XG4gICAgfVxuICAgIHNldCBkcm9wU2hhZG93KGRyb3BTaGFkb3cpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3cgIT09IGRyb3BTaGFkb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3cgPSBkcm9wU2hhZG93O1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBkcm9wU2hhZG93QWxwaGEoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYTtcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3dBbHBoYShkcm9wU2hhZG93QWxwaGEpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSAhPT0gZHJvcFNoYWRvd0FscGhhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93QWxwaGEgPSBkcm9wU2hhZG93QWxwaGE7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBkcm9wU2hhZG93QW5nbGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZTtcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3dBbmdsZShkcm9wU2hhZG93QW5nbGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSAhPT0gZHJvcFNoYWRvd0FuZ2xlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93QW5nbGUgPSBkcm9wU2hhZG93QW5nbGU7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBkcm9wU2hhZG93Qmx1cigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0JsdXI7XG4gICAgfVxuICAgIHNldCBkcm9wU2hhZG93Qmx1cihkcm9wU2hhZG93Qmx1cikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0JsdXIgIT09IGRyb3BTaGFkb3dCbHVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgZHJvcFNoYWRvd0NvbG9yKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Q29sb3I7XG4gICAgfVxuICAgIHNldCBkcm9wU2hhZG93Q29sb3IoZHJvcFNoYWRvd0NvbG9yKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGNvbnN0IG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dDb2xvciAhPT0gb3V0cHV0Q29sb3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dDb2xvciA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgZHJvcFNoYWRvd0Rpc3RhbmNlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfVxuICAgIHNldCBkcm9wU2hhZG93RGlzdGFuY2UoZHJvcFNoYWRvd0Rpc3RhbmNlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgIT09IGRyb3BTaGFkb3dEaXN0YW5jZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlID0gZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuXG4gICAgICogQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxTdHlsZXxNRE59XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59XG4gICAgICovXG4gICAgZ2V0IGZpbGwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGw7XG4gICAgfVxuICAgIHNldCBmaWxsKGZpbGwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihmaWxsKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZpbGwgIT09IG91dHB1dENvbG9yKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9maWxsID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICogU2VlIHtAbGluayBQSVhJLlRFWFRfR1JBRElFTlR9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGZpbGxHcmFkaWVudFR5cGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGU7XG4gICAgfVxuICAgIHNldCBmaWxsR3JhZGllbnRUeXBlKGZpbGxHcmFkaWVudFR5cGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgIT09IGZpbGxHcmFkaWVudFR5cGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgPSBmaWxsR3JhZGllbnRUeXBlO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldCB0aGUgc3RvcCBwb2ludHNcbiAgICAgKiAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICBnZXQgZmlsbEdyYWRpZW50U3RvcHMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzO1xuICAgIH1cbiAgICBzZXQgZmlsbEdyYWRpZW50U3RvcHMoZmlsbEdyYWRpZW50U3RvcHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKCFhcmVBcnJheXNFcXVhbCh0aGlzLl9maWxsR3JhZGllbnRTdG9wcyxmaWxsR3JhZGllbnRTdG9wcykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzID0gZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IGZhbWlseVxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfHN0cmluZ1tdfVxuICAgICAqL1xuICAgIGdldCBmb250RmFtaWx5KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250RmFtaWx5O1xuICAgIH1cbiAgICBzZXQgZm9udEZhbWlseShmb250RmFtaWx5KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmZvbnRGYW1pbHkgIT09IGZvbnRGYW1pbHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZm9udCBzaXplXG4gICAgICogKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfHN0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgZm9udFNpemUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTaXplO1xuICAgIH1cbiAgICBzZXQgZm9udFNpemUoZm9udFNpemUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZvbnRTaXplICE9PSBmb250U2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGZvbnQgc3R5bGVcbiAgICAgKiAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgZm9udFN0eWxlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250U3R5bGU7XG4gICAgfVxuICAgIHNldCBmb250U3R5bGUoZm9udFN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9mb250U3R5bGUgIT09IGZvbnRTdHlsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZm9udCB2YXJpYW50XG4gICAgICogKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgZm9udFZhcmlhbnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50O1xuICAgIH1cbiAgICBzZXQgZm9udFZhcmlhbnQoZm9udFZhcmlhbnQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZvbnRWYXJpYW50ICE9PSBmb250VmFyaWFudClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSBmb250VmFyaWFudDtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGZvbnQgd2VpZ2h0XG4gICAgICogKCdub3JtYWwnLCAnYm9sZCcsICdib2xkZXInLCAnbGlnaHRlcicgYW5kICcxMDAnLCAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnLCA4MDAnIG9yICc5MDAnKVxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBmb250V2VpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250V2VpZ2h0O1xuICAgIH1cbiAgICBzZXQgZm9udFdlaWdodChmb250V2VpZ2h0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9mb250V2VpZ2h0ICE9PSBmb250V2VpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250V2VpZ2h0ID0gZm9udFdlaWdodDtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGxldHRlclNwYWNpbmcoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgfVxuICAgIHNldCBsZXR0ZXJTcGFjaW5nKGxldHRlclNwYWNpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IGxldHRlclNwYWNpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGxpbmVIZWlnaHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gICAgfVxuICAgIHNldCBsaW5lSGVpZ2h0KGxpbmVIZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2xpbmVIZWlnaHQgIT09IGxpbmVIZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3BhY2UgYmV0d2VlbiBsaW5lc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBsZWFkaW5nKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZWFkaW5nO1xuICAgIH1cbiAgICBzZXQgbGVhZGluZyhsZWFkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9sZWFkaW5nICE9PSBsZWFkaW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sZWFkaW5nID0gbGVhZGluZztcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlIHNwaWtlZCB0ZXh0IGlzc3Vlcy5cbiAgICAgKiBEZWZhdWx0IGlzICdtaXRlcicgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBsaW5lSm9pbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZUpvaW47XG4gICAgfVxuICAgIHNldCBsaW5lSm9pbihsaW5lSm9pbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbGluZUpvaW4gIT09IGxpbmVKb2luKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9saW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWl0ZXIgbGltaXQgdG8gdXNlIHdoZW4gdXNpbmcgdGhlICdtaXRlcicgbGluZUpvaW4gbW9kZVxuICAgICAqIFRoaXMgY2FuIHJlZHVjZSBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IG1pdGVyTGltaXQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21pdGVyTGltaXQ7XG4gICAgfVxuICAgIHNldCBtaXRlckxpbWl0KG1pdGVyTGltaXQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX21pdGVyTGltaXQgIT09IG1pdGVyTGltaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX21pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tIGhhcHBlbmluZ1xuICAgICAqIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcGFkZGluZygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFkZGluZztcbiAgICB9XG4gICAgc2V0IHBhZGRpbmcocGFkZGluZykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcGFkZGluZyAhPT0gcGFkZGluZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBzdHJva2VcbiAgICAgKiBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHN0cm9rZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xuICAgIH1cbiAgICBzZXQgc3Ryb2tlKHN0cm9rZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBjb25zdCBvdXRwdXRDb2xvciA9IGdldENvbG9yKHN0cm9rZSk7XG4gICAgICAgIGlmICh0aGlzLl9zdHJva2UgIT09IG91dHB1dENvbG9yKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zdHJva2UgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgKiBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgc3Ryb2tlVGhpY2tuZXNzKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJva2VUaGlja25lc3M7XG4gICAgfVxuICAgIHNldCBzdHJva2VUaGlja25lc3Moc3Ryb2tlVGhpY2tuZXNzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9zdHJva2VUaGlja25lc3MgIT09IHN0cm9rZVRoaWNrbmVzcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fc3Ryb2tlVGhpY2tuZXNzID0gc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZWxpbmUgb2YgdGhlIHRleHQgdGhhdCBpcyByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgdGV4dEJhc2VsaW5lKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG4gICAgfVxuICAgIHNldCB0ZXh0QmFzZWxpbmUodGV4dEJhc2VsaW5lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0QmFzZWxpbmUgIT09IHRleHRCYXNlbGluZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGV4dEJhc2VsaW5lID0gdGV4dEJhc2VsaW5lO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHRyaW0oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyaW07XG4gICAgfVxuICAgIHNldCB0cmltKHRyaW0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyaW0gIT09IHRyaW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RyaW0gPSB0cmltO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIb3cgbmV3bGluZXMgYW5kIHNwYWNlcyBzaG91bGQgYmUgaGFuZGxlZC5cbiAgICAgKiBEZWZhdWx0IGlzICdwcmUnIChwcmVzZXJ2ZSwgcHJlc2VydmUpLlxuICAgICAqXG4gICAgICogIHZhbHVlICAgICAgIHwgTmV3IGxpbmVzICAgICB8ICAgU3BhY2VzXG4gICAgICogIC0tLSAgICAgICAgIHwgLS0tICAgICAgICAgICB8ICAgLS0tXG4gICAgICogJ25vcm1hbCcgICAgIHwgQ29sbGFwc2UgICAgICB8ICAgQ29sbGFwc2VcbiAgICAgKiAncHJlJyAgICAgICAgfCBQcmVzZXJ2ZSAgICAgIHwgICBQcmVzZXJ2ZVxuICAgICAqICdwcmUtbGluZScgICB8IFByZXNlcnZlICAgICAgfCAgIENvbGxhcHNlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IHdoaXRlU3BhY2UoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3doaXRlU3BhY2U7XG4gICAgfVxuICAgIHNldCB3aGl0ZVNwYWNlKHdoaXRlU3BhY2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3doaXRlU3BhY2UgIT09IHdoaXRlU3BhY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3doaXRlU3BhY2UgPSB3aGl0ZVNwYWNlO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCB3b3JkV3JhcCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXA7XG4gICAgfVxuICAgIHNldCB3b3JkV3JhcCh3b3JkV3JhcCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fd29yZFdyYXAgIT09IHdvcmRXcmFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl93b3JkV3JhcCA9IHdvcmRXcmFwO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHdvcmRXcmFwV2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwV2lkdGg7XG4gICAgfVxuICAgIHNldCB3b3JkV3JhcFdpZHRoKHdvcmRXcmFwV2lkdGgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmRXcmFwV2lkdGggIT09IHdvcmRXcmFwV2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwV2lkdGggPSB3b3JkV3JhcFdpZHRoO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBmb250IHN0eWxlIHN0cmluZyB0byB1c2UgZm9yIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gRm9udCBzdHlsZSBzdHJpbmcsIGZvciBwYXNzaW5nIHRvIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYFxuICAgICAqL1xuICAgIHRvRm9udFN0cmluZygpXG4gICAge1xuICAgICAgICAvLyBidWlsZCBjYW52YXMgYXBpIGZvbnQgc2V0dGluZyBmcm9tIGluZGl2aWR1YWwgY29tcG9uZW50cy4gQ29udmVydCBhIG51bWVyaWMgdGhpcy5mb250U2l6ZSB0byBweFxuICAgICAgICBjb25zdCBmb250U2l6ZVN0cmluZyA9ICh0eXBlb2YgdGhpcy5mb250U2l6ZSA9PT0gJ251bWJlcicpID8gYCR7dGhpcy5mb250U2l6ZX1weGAgOiB0aGlzLmZvbnRTaXplO1xuXG4gICAgICAgIC8vIENsZWFuLXVwIGZvbnRGYW1pbHkgcHJvcGVydHkgYnkgcXVvdGluZyBlYWNoIGZvbnQgbmFtZVxuICAgICAgICAvLyB0aGlzIHdpbGwgc3VwcG9ydCBmb250IG5hbWVzIHdpdGggc3BhY2VzXG4gICAgICAgIGxldCBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHk7XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm9udEZhbWlseSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseS5zcGxpdCgnLCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVHJpbSBhbnkgZXh0cmEgd2hpdGUtc3BhY2VcbiAgICAgICAgICAgIGxldCBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9udCBhbHJlYWR5IGNvbnRhaW5zIHN0cmluZ3NcbiAgICAgICAgICAgIGlmICghKC8oW1xcXCJcXCddKVteXFwnXFxcIl0rXFwxLykudGVzdChmb250RmFtaWx5KSAmJiBnZW5lcmljRm9udEZhbWlsaWVzLmluZGV4T2YoZm9udEZhbWlseSkgPCAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBgXCIke2ZvbnRGYW1pbHl9XCJgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9udEZhbWlsaWVzW2ldID0gZm9udEZhbWlseTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBgJHt0aGlzLmZvbnRTdHlsZX0gJHt0aGlzLmZvbnRWYXJpYW50fSAke3RoaXMuZm9udFdlaWdodH0gJHtmb250U2l6ZVN0cmluZ30gJHtmb250RmFtaWxpZXMuam9pbignLCcpfWA7XG4gICAgfVxufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IGNvbG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb2xvciBhcyBhIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZ2V0U2luZ2xlQ29sb3IoY29sb3IpXG57XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpXG4gICAge1xuICAgICAgICByZXR1cm4gaGV4MnN0cmluZyhjb2xvcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKCB0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnIClcbiAgICB7XG4gICAgICAgIGlmICggY29sb3IuaW5kZXhPZignMHgnKSA9PT0gMCApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbG9yID0gY29sb3IucmVwbGFjZSgnMHgnLCAnIycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbG9yO1xufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBUaGlzIHZlcnNpb24gY2FuIGFsc28gY29udmVydCBhcnJheSBvZiBjb2xvcnNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcnxudW1iZXJbXX0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvcilcbntcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sb3IpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGdldFNpbmdsZUNvbG9yKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xvci5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29sb3JbaV0gPSBnZXRTaW5nbGVDb2xvcihjb2xvcltpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBUaGlzIHZlcnNpb24gY2FuIGFsc28gY29udmVydCBhcnJheSBvZiBjb2xvcnNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTEgRmlyc3QgYXJyYXkgdG8gY29tcGFyZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkyIFNlY29uZCBhcnJheSB0byBjb21wYXJlXG4gKiBAcmV0dXJuIHtib29sZWFufSBEbyB0aGUgYXJyYXlzIGNvbnRhaW4gdGhlIHNhbWUgdmFsdWVzIGluIHRoZSBzYW1lIG9yZGVyXG4gKi9cbmZ1bmN0aW9uIGFyZUFycmF5c0VxdWFsKGFycmF5MSwgYXJyYXkyKVxue1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheTEpIHx8ICFBcnJheS5pc0FycmF5KGFycmF5MikpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGFycmF5MS5sZW5ndGggIT09IGFycmF5Mi5sZW5ndGgpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheTEubGVuZ3RoOyArK2kpXG4gICAge1xuICAgICAgICBpZiAoYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZW5zdXJlIHRoYXQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIGNvcGllZCBieSB2YWx1ZSwgYW5kIG5vdCBieSByZWZlcmVuY2VcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgU291cmNlIG9iamVjdCBmb3IgdGhlIHByb3BlcnRpZXMgdG8gY29weVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5T2JqIE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgbmFtZXMgd2Ugd2FudCB0byBsb29wIG92ZXJcbiAqL1xuZnVuY3Rpb24gZGVlcENvcHlQcm9wZXJ0aWVzKHRhcmdldCwgc291cmNlLCBwcm9wZXJ0eU9iaikge1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBwcm9wZXJ0eU9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2VbcHJvcF0pKSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF0uc2xpY2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogVGhlIFRleHRNZXRyaWNzIG9iamVjdCByZXByZXNlbnRzIHRoZSBtZWFzdXJlbWVudCBvZiBhIGJsb2NrIG9mIHRleHQgd2l0aCBhIHNwZWNpZmllZCBzdHlsZS5cbiAqXG4gKiBgYGBqc1xuICogbGV0IHN0eWxlID0gbmV3IFBJWEkuVGV4dFN0eWxlKHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KVxuICogbGV0IHRleHRNZXRyaWNzID0gUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlVGV4dCgnWW91ciB0ZXh0Jywgc3R5bGUpXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRNZXRyaWNzXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lcyBvZiB0ZXh0IGJyb2tlbiBieSBuZXcgbGluZXMgYW5kIHdyYXBwaW5nIGlmIHNwZWNpZmllZCBpbiBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGxpbmVXaWR0aHMgLSBhbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUhlaWdodCAtIHRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhMaW5lV2lkdGggLSB0aGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZm9udFByb3BlcnRpZXMgLSB0aGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0IHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHRTdHlsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1lYXN1cmVkIGhlaWdodCBvZiB0aGUgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgbGluZXMgb2YgdGhlIHRleHQgYnJva2VuIGJ5IG5ldyBsaW5lcyBhbmQgd3JhcHBpbmcgaXMgc3BlY2lmaWVkIGluIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lcyA9IGxpbmVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVXaWR0aHMgPSBsaW5lV2lkdGhzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgbGluZSBoZWlnaHQgZm9yIHRoaXMgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gbGluZSB3aWR0aCBmb3IgYWxsIG1lYXN1cmVkIGxpbmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4TGluZVdpZHRoID0gbWF4TGluZVdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUZvbnRNZXRyaWNzfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb250UHJvcGVydGllcyA9IGZvbnRQcm9wZXJ0aWVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmVzIHRoZSBzdXBwbGllZCBzdHJpbmcgb2YgdGV4dCBhbmQgcmV0dXJucyBhIFJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdG8gbWVhc3VyZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSB0ZXh0IHN0eWxlIHRvIHVzZSBmb3IgbWVhc3VyaW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbd29yZFdyYXBdIC0gb3B0aW9uYWwgb3ZlcnJpZGUgZm9yIGlmIHdvcmQtd3JhcCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfSBtZWFzdXJlZCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB0ZXh0LlxuICAgICAqL1xuICAgIHN0YXRpYyBtZWFzdXJlVGV4dCh0ZXh0LCBzdHlsZSwgd29yZFdyYXAsIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXMpXG4gICAge1xuICAgICAgICB3b3JkV3JhcCA9ICh3b3JkV3JhcCA9PT0gdW5kZWZpbmVkIHx8IHdvcmRXcmFwID09PSBudWxsKSA/IHN0eWxlLndvcmRXcmFwIDogd29yZFdyYXA7XG4gICAgICAgIGNvbnN0IGZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcblxuICAgICAgICAvLyBmYWxsYmFjayBpbiBjYXNlIFVBIGRpc2FsbG93IGNhbnZhcyBkYXRhIGV4dHJhY3Rpb25cbiAgICAgICAgLy8gKHRvRGF0YVVSSSwgZ2V0SW1hZ2VEYXRhIGZ1bmN0aW9ucylcbiAgICAgICAgaWYgKGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb250UHJvcGVydGllcy5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgICAgICAgZm9udFByb3BlcnRpZXMuYXNjZW50ID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICBjb25zdCBvdXRwdXRUZXh0ID0gd29yZFdyYXAgPyBUZXh0TWV0cmljcy53b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzKSA6IHRleHQ7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgICAgIGNvbnN0IGxpbmVXaWR0aHMgPSBuZXcgQXJyYXkobGluZXMubGVuZ3RoKTtcbiAgICAgICAgbGV0IG1heExpbmVXaWR0aCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbGluZVdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChsaW5lc1tpXSkud2lkdGggKyAoKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZyk7XG5cbiAgICAgICAgICAgIGxpbmVXaWR0aHNbaV0gPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHdpZHRoID0gbWF4TGluZVdpZHRoICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gc3R5bGUubGluZUhlaWdodCB8fCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgbGV0IGhlaWdodCA9IE1hdGgubWF4KGxpbmVIZWlnaHQsIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICAgICAgKyAoKGxpbmVzLmxlbmd0aCAtIDEpICogKGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nKSk7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhlaWdodCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRleHRNZXRyaWNzKFxuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICBsaW5lcyxcbiAgICAgICAgICAgIGxpbmVXaWR0aHMsXG4gICAgICAgICAgICBsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZyxcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCxcbiAgICAgICAgICAgIGZvbnRQcm9wZXJ0aWVzXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBuZXdsaW5lcyB0byBhIHN0cmluZyB0byBoYXZlIGl0IG9wdGltYWxseSBmaXQgaW50byB0aGUgaG9yaXpvbnRhbFxuICAgICAqIGJvdW5kcyBzZXQgYnkgdGhlIFRleHQgb2JqZWN0J3Mgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRvIHVzZSB3aGVuIHdyYXBwaW5nXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBOZXcgc3RyaW5nIHdpdGggbmV3IGxpbmVzIGFwcGxpZWQgd2hlcmUgcmVxdWlyZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgd29yZFdyYXAodGV4dCwgc3R5bGUsIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXMpXG4gICAge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgbGV0IGxpbmUgPSAnJztcbiAgICAgICAgbGV0IGxpbmVzID0gJyc7XG5cbiAgICAgICAgY29uc3QgY2FjaGUgPSB7fTtcbiAgICAgICAgY29uc3QgeyBsZXR0ZXJTcGFjaW5nLCB3aGl0ZVNwYWNlIH0gPSBzdHlsZTtcblxuICAgICAgICAvLyBIb3cgdG8gaGFuZGxlIHdoaXRlc3BhY2VzXG4gICAgICAgIGNvbnN0IGNvbGxhcHNlU3BhY2VzID0gVGV4dE1ldHJpY3MuY29sbGFwc2VTcGFjZXMod2hpdGVTcGFjZSk7XG4gICAgICAgIGNvbnN0IGNvbGxhcHNlTmV3bGluZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzKHdoaXRlU3BhY2UpO1xuXG4gICAgICAgIC8vIHdoZXRoZXIgb3Igbm90IHNwYWNlcyBtYXkgYmUgYWRkZWQgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICBsZXQgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcblxuICAgICAgICAvLyBUaGVyZSBpcyBsZXR0ZXJTcGFjaW5nIGFmdGVyIGV2ZXJ5IGNoYXIgZXhjZXB0IHRoZSBsYXN0IG9uZVxuICAgICAgICAvLyB0X2hfaV9zXycgJ19pX3NfJyAnX2Ffbl8nICdfZV94X2FfbV9wX2xfZV8nICdfIVxuICAgICAgICAvLyBzbyBmb3IgY29udmVuaWVuY2UgdGhlIGFib3ZlIG5lZWRzIHRvIGJlIGNvbXBhcmVkIHRvIHdpZHRoICsgMSBleHRyYSBsZXR0ZXJTcGFjZVxuICAgICAgICAvLyB0X2hfaV9zXycgJ19pX3NfJyAnX2Ffbl8nICdfZV94X2FfbV9wX2xfZV8nICdfIV9cbiAgICAgICAgLy8gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4gICAgICAgIC8vIEFuZCB0aGVuIHRoZSBmaW5hbCBzcGFjZSBpcyBzaW1wbHkgbm8gYXBwZW5kZWQgdG8gZWFjaCBsaW5lXG4gICAgICAgIGNvbnN0IHdvcmRXcmFwV2lkdGggPSBzdHlsZS53b3JkV3JhcFdpZHRoICsgbGV0dGVyU3BhY2luZztcblxuICAgICAgICAvLyBicmVhayB0ZXh0IGludG8gd29yZHMsIHNwYWNlcyBhbmQgbmV3bGluZSBjaGFyc1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBUZXh0TWV0cmljcy50b2tlbml6ZSh0ZXh0KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSB3b3JkLCBzcGFjZSBvciBuZXdsaW5lQ2hhclxuICAgICAgICAgICAgbGV0IHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgICAgICAgICAvLyBpZiB3b3JkIGlzIGEgbmV3IGxpbmVcbiAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5pc05ld2xpbmUodG9rZW4pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGtlZXAgdGhlIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKCFjb2xsYXBzZU5ld2xpbmVzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIHNob3VsZCBjb2xsYXBzZSBuZXcgbGluZXNcbiAgICAgICAgICAgICAgICAvLyB3ZSBzaW1wbHkgY29udmVydCBpdCBpbnRvIGEgc3BhY2VcbiAgICAgICAgICAgICAgICB0b2tlbiA9ICcgJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIGNvbGxhcHNlIHJlcGVhdGVkIHdoaXRlc3BhY2VzXG4gICAgICAgICAgICBpZiAoY29sbGFwc2VTcGFjZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgYm90aCB0aGlzIGFuZCB0aGUgbGFzdCB0b2tlbnMgZm9yIHNwYWNlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UobGluZVtsaW5lLmxlbmd0aCAtIDFdKTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJySXNCcmVha2luZ1NwYWNlICYmIGxhc3RJc0JyZWFraW5nU3BhY2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGdldCB3b3JkIHdpZHRoIGZyb20gY2FjaGUgaWYgcG9zc2libGVcbiAgICAgICAgICAgIGNvbnN0IHRva2VuV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUodG9rZW4sIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgLy8gd29yZCBpcyBsb25nZXIgdGhhbiBkZXNpcmVkIGJvdW5kc1xuICAgICAgICAgICAgaWYgKHRva2VuV2lkdGggPiB3b3JkV3JhcFdpZHRoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgYWxyZWFkeSBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgbGluZVxuICAgICAgICAgICAgICAgIGlmIChsaW5lICE9PSAnJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IG5ld2xpbmVzIGZvciBvdmVyZmxvdyB3b3Jkc1xuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBicmVhayBsYXJnZSB3b3JkIG92ZXIgbXVsdGlwbGUgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3Jkcyh0b2tlbiwgc3R5bGUuYnJlYWtXb3JkcykpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBicmVhayB3b3JkIGludG8gY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gdG9rZW4uc3BsaXQoJycpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvb3AgdGhlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hhciA9IGNoYXJhY3RlcnNbal07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBrID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBub3QgYXQgdGhlIGVuZCBvZiB0aGUgdG9rZW5cblxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNoYXJhY3RlcnNbaiArIGtdKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGFyID0gY2hhcmFjdGVyc1tqICsga107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdENoYXIgPSBjaGFyW2NoYXIubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgbm90IHNwbGl0IGNoYXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzKGxhc3RDaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGosIHN0eWxlLmJyZWFrV29yZHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tYmluZSBjaGFycyAmIG1vdmUgZm9yd2FyZCBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhciArPSBuZXh0Q2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBqICs9IGNoYXIubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUoY2hhciwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSArPSBjaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBydW4gd29yZCBvdXQgb2YgdGhlIGJvdW5kc1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSB3b3JkcyBpbiB0aGlzIGxpbmUgYWxyZWFkeVxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhhdCBsaW5lIGFuZCBzdGFydCBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTGFzdFRva2VuID0gaSA9PT0gdG9rZW5zLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZ2l2ZSBpdCBpdHMgb3duIGxpbmUgaWYgaXQncyBub3QgdGhlIGVuZFxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKHRva2VuLCAhaXNMYXN0VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gd29yZCBjb3VsZCBmaXRcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyB3b3JkIHdvbid0IGZpdCBiZWNhdXNlIG9mIGV4aXN0aW5nIHdvcmRzXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGlmICh0b2tlbldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXRzIGEgc3BhY2Ugd2UgZG9uJ3Qgd2FudCBpdFxuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGRvbid0IGFkZCBzcGFjZXMgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDAgfHwgIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbikgfHwgY2FuUHJlcGVuZFNwYWNlcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgd29yZCB0byB0aGUgY3VycmVudCBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gdG9rZW47XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHdpZHRoIGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gdG9rZW5XaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUsIGZhbHNlKTtcblxuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmllbmllbmNlIGZ1bmN0aW9uIGZvciBsb2dnaW5nIGVhY2ggbGluZSBhZGRlZCBkdXJpbmcgdGhlIHdvcmRXcmFwXG4gICAgICogbWV0aG9kXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICBsaW5lICAgICAgICAtIFRoZSBsaW5lIG9mIHRleHQgdG8gYWRkXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gIG5ld0xpbmUgICAgIC0gQWRkIG5ldyBsaW5lIGNoYXJhY3RlciB0byBlbmRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgQSBmb3JtYXR0ZWQgbGluZVxuICAgICAqL1xuICAgIHN0YXRpYyBhZGRMaW5lKGxpbmUsIG5ld0xpbmUgPSB0cnVlKVxuICAgIHtcbiAgICAgICAgbGluZSA9IFRleHRNZXRyaWNzLnRyaW1SaWdodChsaW5lKTtcblxuICAgICAgICBsaW5lID0gKG5ld0xpbmUpID8gYCR7bGluZX1cXG5gIDogbGluZTtcblxuICAgICAgICByZXR1cm4gbGluZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzICYgc2V0cyB0aGUgd2lkdGhzIG9mIGNhbGN1bGF0ZWQgY2hhcmFjdGVycyBpbiBhIGNhY2hlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgICBrZXkgICAgICAgICAgICBUaGUga2V5XG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgbGV0dGVyU3BhY2luZyAgVGhlIGxldHRlciBzcGFjaW5nXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSAgICAgICAgICAgICAgICAgICAgY2FjaGUgICAgICAgICAgVGhlIGNhY2hlXG4gICAgICogQHBhcmFtICB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAgY29udGV4dCAgICAgICAgVGhlIGNhbnZhcyBjb250ZXh0XG4gICAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgVGhlIGZyb20gY2FjaGUuXG4gICAgICovXG4gICAgc3RhdGljIGdldEZyb21DYWNoZShrZXksIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KVxuICAgIHtcbiAgICAgICAgbGV0IHdpZHRoID0gY2FjaGVba2V5XTtcblxuICAgICAgICBpZiAod2lkdGggPT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3BhY2luZyA9ICgoa2V5Lmxlbmd0aCkgKiBsZXR0ZXJTcGFjaW5nKTtcblxuICAgICAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgYnJlYWtpbmcgc3BhY2VzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlICBUaGUgVGV4dFN0eWxlIHByb3BlcnR5IHdoaXRlU3BhY2VcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgc2hvdWxkIGNvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpXG4gICAge1xuICAgICAgICByZXR1cm4gKHdoaXRlU3BhY2UgPT09ICdub3JtYWwnIHx8IHdoaXRlU3BhY2UgPT09ICdwcmUtbGluZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgbmV3TGluZSBjaGFyc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAgVGhlIHdoaXRlIHNwYWNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjb2xsYXBzZU5ld2xpbmVzKHdoaXRlU3BhY2UpXG4gICAge1xuICAgICAgICByZXR1cm4gKHdoaXRlU3BhY2UgPT09ICdub3JtYWwnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0cmltcyBicmVha2luZyB3aGl0ZXNwYWNlcyBmcm9tIHN0cmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0ZXh0ICBUaGUgdGV4dFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gIHRyaW1tZWQgc3RyaW5nXG4gICAgICovXG4gICAgc3RhdGljIHRyaW1SaWdodCh0ZXh0KVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHRleHQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSB0ZXh0W2ldO1xuXG4gICAgICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMCwgLTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgbmV3bGluZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgVGhlIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIG5ld2xpbmUsIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNOZXdsaW5lKGNoYXIpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGNoYXIgIT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9uZXdsaW5lcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgYnJlYWtpbmcgd2hpdGVzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgVGhlIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIHdoaXRlc3BhY2UsIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNCcmVha2luZ1NwYWNlKGNoYXIpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGNoYXIgIT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGEgc3RyaW5nIGludG8gd29yZHMsIGJyZWFraW5nLXNwYWNlcyBhbmQgbmV3TGluZSBjaGFyYWN0ZXJzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgICAgICAgVGhlIHRleHRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gIEEgdG9rZW5pemVkIGFycmF5XG4gICAgICovXG4gICAgc3RhdGljIHRva2VuaXplKHRleHQpXG4gICAge1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBbXTtcbiAgICAgICAgbGV0IHRva2VuID0gJyc7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hhciA9IHRleHRbaV07XG5cbiAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikgfHwgVGV4dE1ldHJpY3MuaXNOZXdsaW5lKGNoYXIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbiAhPT0gJycpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goY2hhcik7XG5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdG9rZW4gKz0gY2hhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b2tlbiAhPT0gJycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgZXhpc3RzIHRvIGJlIGVhc2lseSBvdmVycmlkZGVuXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBjdXN0b21pc2Ugd2hpY2ggd29yZHMgc2hvdWxkIGJyZWFrXG4gICAgICogRXhhbXBsZXMgYXJlIGlmIHRoZSB0b2tlbiBpcyBDSksgb3IgbnVtYmVycy5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuICAgICAgIFRoZSB0b2tlblxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzICBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAgICAgKi9cbiAgICBzdGF0aWMgY2FuQnJlYWtXb3Jkcyh0b2tlbiwgYnJlYWtXb3JkcylcbiAgICB7XG4gICAgICAgIHJldHVybiBicmVha1dvcmRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGV4aXN0cyB0byBiZSBlYXNpbHkgb3ZlcnJpZGRlblxuICAgICAqIEl0IGFsbG93cyBvbmUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWlyIG9mIGNoYXJhY3RlcnNcbiAgICAgKiBzaG91bGQgYmUgYnJva2VuIGJ5IG5ld2xpbmVzXG4gICAgICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgICAgIFRoZSBjaGFyYWN0ZXJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBuZXh0Q2hhciAgVGhlIG5leHQgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICAgIFRoZSB0b2tlbi93b3JkIHRoZSBjaGFyYWN0ZXJzIGFyZSBmcm9tXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgaW5kZXggICAgIFRoZSBpbmRleCBpbiB0aGUgdG9rZW4gb2YgdGhlIGNoYXJcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgYnJlYWtXb3JkcyAgVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgc3RhdGljIGNhbkJyZWFrQ2hhcnMoY2hhciwgbmV4dENoYXIsIHRva2VuLCBpbmRleCwgYnJlYWtXb3JkcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnQtc3R5bGVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udCAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0eWxlIG9mIHRoZSBmb250XG4gICAgICogQHJldHVybiB7UElYSS5JRm9udE1ldHJpY3N9IEZvbnQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKi9cbiAgICBzdGF0aWMgbWVhc3VyZUZvbnQoZm9udClcbiAgICB7XG4gICAgICAgIC8vIGFzIHRoaXMgbWV0aG9kIGlzIHVzZWQgZm9yIHByZXBhcmluZyBhc3NldHMsIGRvbid0IHJlY2FsY3VsYXRlIHRoaW5ncyBpZiB3ZSBkb24ndCBuZWVkIHRvXG4gICAgICAgIGlmIChUZXh0TWV0cmljcy5fZm9udHNbZm9udF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG5cbiAgICAgICAgY29uc3QgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcbiAgICAgICAgY29uc3QgY29udGV4dCA9IFRleHRNZXRyaWNzLl9jb250ZXh0O1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cbiAgICAgICAgY29uc3QgbWV0cmljc1N0cmluZyA9IFRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HICsgVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MO1xuICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KG1ldHJpY3NTdHJpbmcpLndpZHRoKTtcbiAgICAgICAgbGV0IGJhc2VsaW5lID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQoVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MKS53aWR0aCk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDIgKiBiYXNlbGluZTtcblxuICAgICAgICBiYXNlbGluZSA9IGJhc2VsaW5lICogVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiB8IDA7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2YwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdhbHBoYWJldGljJztcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQobWV0cmljc1N0cmluZywgMCwgYmFzZWxpbmUpO1xuXG4gICAgICAgIGNvbnN0IGltYWdlZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gICAgICAgIGNvbnN0IHBpeGVscyA9IGltYWdlZGF0YS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGxpbmUgPSB3aWR0aCAqIDQ7XG5cbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgaWR4ID0gMDtcbiAgICAgICAgbGV0IHN0b3AgPSBmYWxzZTtcblxuICAgICAgICAvLyBhc2NlbnQuIHNjYW4gZnJvbSB0b3AgdG8gYm90dG9tIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBiYXNlbGluZTsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmU7IGogKz0gNClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdG9wKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkeCArPSBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5hc2NlbnQgPSBiYXNlbGluZSAtIGk7XG5cbiAgICAgICAgaWR4ID0gcGl4ZWxzIC0gbGluZTtcbiAgICAgICAgc3RvcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGRlc2NlbnQuIHNjYW4gZnJvbSBib3R0b20gdG8gdG9wIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IGhlaWdodDsgaSA+IGJhc2VsaW5lOyAtLWkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZTsgaiArPSA0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghc3RvcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZHggLT0gbGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnRpZXMuZGVzY2VudCA9IGkgLSBiYXNlbGluZTtcbiAgICAgICAgcHJvcGVydGllcy5mb250U2l6ZSA9IHByb3BlcnRpZXMuYXNjZW50ICsgcHJvcGVydGllcy5kZXNjZW50O1xuXG4gICAgICAgIFRleHRNZXRyaWNzLl9mb250c1tmb250XSA9IHByb3BlcnRpZXM7XG5cbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgZm9udCBtZXRyaWNzIGluIG1ldHJpY3MgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmb250XSAtIGZvbnQgbmFtZS4gSWYgZm9udCBuYW1lIG5vdCBzZXQgdGhlbiBjbGVhciBjYWNoZSBmb3IgYWxsIGZvbnRzLlxuICAgICAqL1xuICAgIHN0YXRpYyBjbGVhck1ldHJpY3MoZm9udCA9ICcnKVxuICAgIHtcbiAgICAgICAgaWYgKGZvbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBUZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCByZXR1cm4gb2JqZWN0IGZvciB7QGxpbmsgUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udCBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRgfS5cbiAqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGb250TWV0cmljc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIFRoZSBhc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gVGhlIGRlc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZSBmcm9tIGFzY2VudCB0byBkZXNjZW50XG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHByaXZhdGVcbiAqL1xuXG5jb25zdCBjYW52YXMgPSAoKCkgPT5cbntcbiAgICB0cnlcbiAgICB7XG4gICAgICAgIC8vIE9mZnNjcmVlbkNhbnZhczJEIG1lYXN1cmVUZXh0IGNhbiBiZSB1cCB0byA0MCUgZmFzdGVyLlxuICAgICAgICBjb25zdCBjID0gbmV3IE9mZnNjcmVlbkNhbnZhcygwLCAwKTtcblxuICAgICAgICByZXR1cm4gYy5nZXRDb250ZXh0KCcyZCcpID8gYyA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbiAgICBjYXRjaCAoZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgfVxufSkoKTtcblxuY2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDEwO1xuXG4vKipcbiAqIENhY2hlZCBjYW52YXMgZWxlbWVudCBmb3IgbWVhc3VyaW5nIHRleHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NhbnZhcyA9IGNhbnZhcztcblxuLyoqXG4gKiBDYWNoZSBmb3IgY29udGV4dCB0byB1c2UuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4vKipcbiAqIENhY2hlIG9mIHtAc2VlIFBJWEkuVGV4dE1ldHJpY3MuRm9udE1ldHJpY3N9IG9iamVjdHMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcblxuLyoqXG4gKiBTdHJpbmcgdXNlZCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIFRoZXNlIGNoYXJhY3RlcnMgYXJlIGFsbCB0YWxsIHRvIGhlbHAgY2FsY3VsYXRlIHRoZSBoZWlnaHQgcmVxdWlyZWQgZm9yIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIE1FVFJJQ1NfU1RSSU5HXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgfMOJccOFXG4gKi9cblRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HID0gJ3zDiXHDhSc7XG5cbi8qKlxuICogQmFzZWxpbmUgc3ltYm9sIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9TWU1CT0xcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCBNXG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCA9ICdNJztcblxuLyoqXG4gKiBCYXNlbGluZSBtdWx0aXBsaWVyIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9NVUxUSVBMSUVSXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMS40XG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgPSAxLjQ7XG5cbi8qKlxuICogQ2FjaGUgb2YgbmV3IGxpbmUgY2hhcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9uZXdsaW5lcyA9IFtcbiAgICAweDAwMEEsIC8vIGxpbmUgZmVlZFxuICAgIDB4MDAwRCwgLy8gY2FycmlhZ2UgcmV0dXJuXG5dO1xuXG4vKipcbiAqIENhY2hlIG9mIGJyZWFraW5nIHNwYWNlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzID0gW1xuICAgIDB4MDAwOSwgLy8gY2hhcmFjdGVyIHRhYnVsYXRpb25cbiAgICAweDAwMjAsIC8vIHNwYWNlXG4gICAgMHgyMDAwLCAvLyBlbiBxdWFkXG4gICAgMHgyMDAxLCAvLyBlbSBxdWFkXG4gICAgMHgyMDAyLCAvLyBlbiBzcGFjZVxuICAgIDB4MjAwMywgLy8gZW0gc3BhY2VcbiAgICAweDIwMDQsIC8vIHRocmVlLXBlci1lbSBzcGFjZVxuICAgIDB4MjAwNSwgLy8gZm91ci1wZXItZW0gc3BhY2VcbiAgICAweDIwMDYsIC8vIHNpeC1wZXItZW0gc3BhY2VcbiAgICAweDIwMDgsIC8vIHB1bmN0dWF0aW9uIHNwYWNlXG4gICAgMHgyMDA5LCAvLyB0aGluIHNwYWNlXG4gICAgMHgyMDBBLCAvLyBoYWlyIHNwYWNlXG4gICAgMHgyMDVGLCAvLyBtZWRpdW0gbWF0aGVtYXRpY2FsIHNwYWNlXG4gICAgMHgzMDAwLCAvLyBpZGVvZ3JhcGhpYyBzcGFjZVxuXTtcblxuLyoqXG4gKiBBIG51bWJlciwgb3IgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlci5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYgSUZvbnRNZXRyaWNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gRm9udCBhc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gRm9udCBkZXNjZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gZm9udFNpemUgLSBGb250IHNpemVcbiAqL1xuXG4iLCIvKiBlc2xpbnQgbWF4LWRlcHRoOiBbMiwgOF0gKi9cbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2lnbiwgdHJpbUNhbnZhcywgaGV4MnJnYiwgc3RyaW5nMmhleCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFRFWFRfR1JBRElFTlQgfSBmcm9tICcuL2NvbnN0JztcbmltcG9ydCBUZXh0U3R5bGUgZnJvbSAnLi9UZXh0U3R5bGUnO1xuaW1wb3J0IFRleHRNZXRyaWNzIGZyb20gJy4vVGV4dE1ldHJpY3MnO1xuXG5jb25zdCBkZWZhdWx0RGVzdHJveU9wdGlvbnMgPSB7XG4gICAgdGV4dHVyZTogdHJ1ZSxcbiAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgYmFzZVRleHR1cmU6IHRydWUsXG59O1xuXG4vKipcbiAqIEEgVGV4dCBPYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQuXG4gKlxuICogVGhlIHRleHQgaXMgY3JlYXRlZCB1c2luZyB0aGUgW0NhbnZhcyBBUEldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJKS5cbiAqXG4gKiBUaGUgcHJpbWFyeSBhZHZhbnRhZ2Ugb2YgdGhpcyBjbGFzcyBvdmVyIEJpdG1hcFRleHQgaXMgdGhhdCB5b3UgaGF2ZSBncmVhdCBjb250cm9sIG92ZXIgdGhlIHN0eWxlIG9mIHRoZSBuZXh0LFxuICogd2hpY2ggeW91IGNhbiBjaGFuZ2UgYXQgcnVudGltZS5cbiAqXG4gKiBUaGUgcHJpbWFyeSBkaXNhZHZhbnRhZ2VzIGlzIHRoYXQgZWFjaCBwaWVjZSBvZiB0ZXh0IGhhcyBpdCdzIG93biB0ZXh0dXJlLCB3aGljaCBjYW4gdXNlIG1vcmUgbWVtb3J5LlxuICogV2hlbiB0ZXh0IGNoYW5nZXMsIHRoaXMgdGV4dHVyZSBoYXMgdG8gYmUgcmUtZ2VuZXJhdGVkIGFuZCByZS11cGxvYWRlZCB0byB0aGUgR1BVLCB0YWtpbmcgdXAgdGltZS5cbiAqXG4gKiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicgaW4geW91ciB0ZXh0IHN0cmluZywgb3IsIG9uIHRoZSBgc3R5bGVgIG9iamVjdCxcbiAqIGNoYW5nZSBpdHMgYHdvcmRXcmFwYCBwcm9wZXJ0eSB0byB0cnVlIGFuZCBhbmQgZ2l2ZSB0aGUgYHdvcmRXcmFwV2lkdGhgIHByb3BlcnR5IGEgdmFsdWUuXG4gKlxuICogQSBUZXh0IGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYSBzdHJpbmcgYW5kIGEgc3R5bGUgb2JqZWN0LFxuICogd2hpY2ggY2FuIGJlIGdlbmVyYXRlZCBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHQgPSBuZXcgUElYSS5UZXh0KCdUaGlzIGlzIGEgUGl4aUpTIHRleHQnLHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHQgZXh0ZW5kcyBTcHJpdGVcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSBzdHJpbmcgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5XG4gICAgICogQHBhcmFtIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9IFtzdHlsZV0gLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gVGhlIGNhbnZhcyBlbGVtZW50IGZvciBkcmF3aW5nIHRleHRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBzdHlsZSwgY2FudmFzKVxuICAgIHtcbiAgICAgICAgY2FudmFzID0gY2FudmFzIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDM7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAzO1xuXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBUZXh0dXJlLmZyb20oY2FudmFzKTtcblxuICAgICAgICB0ZXh0dXJlLm9yaWcgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRleHR1cmUudHJpbSA9IG5ldyBSZWN0YW5nbGUoKTtcblxuICAgICAgICBzdXBlcih0ZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0b1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIDJkIGNvbnRleHQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHdpdGhcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgICAgICogVGhpcyBpcyBzZXQgdG8gYXV0b21hdGljYWxseSBtYXRjaCB0aGUgcmVuZGVyZXIgcmVzb2x1dGlvbiBieSBkZWZhdWx0LCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBtYW51YWxseS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIGxpc3RlbmVyIHRvIHRyYWNrIHN0eWxlIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3R5bGVMaXN0ZW5lciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZm9udCA9ICcnO1xuXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcblxuICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZXNwZWN0RGlydHkgLSBXaGV0aGVyIHRvIGFib3J0IHVwZGF0aW5nIHRoZSB0ZXh0IGlmIHRoZSBUZXh0IGlzbid0IGRpcnR5IGFuZCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIHVwZGF0ZVRleHQocmVzcGVjdERpcnR5KVxuICAgIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBjaGVjayBpZiBzdHlsZSBoYXMgY2hhbmdlZC4uXG4gICAgICAgIGlmICh0aGlzLmxvY2FsU3R5bGVJRCAhPT0gc3R5bGUuc3R5bGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IHN0eWxlLnN0eWxlSUQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZGlydHkgJiYgcmVzcGVjdERpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mb250ID0gdGhpcy5fc3R5bGUudG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY29uc3QgbWVhc3VyZWQgPSBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCh0aGlzLl90ZXh0IHx8ICcgJywgdGhpcy5fc3R5bGUsIHRoaXMuX3N0eWxlLndvcmRXcmFwLCB0aGlzLmNhbnZhcyk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gbWVhc3VyZWQud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodDtcbiAgICAgICAgY29uc3QgbGluZXMgPSBtZWFzdXJlZC5saW5lcztcbiAgICAgICAgY29uc3QgbGluZUhlaWdodCA9IG1lYXN1cmVkLmxpbmVIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGxpbmVXaWR0aHMgPSBtZWFzdXJlZC5saW5lV2lkdGhzO1xuICAgICAgICBjb25zdCBtYXhMaW5lV2lkdGggPSBtZWFzdXJlZC5tYXhMaW5lV2lkdGg7XG4gICAgICAgIGNvbnN0IGZvbnRQcm9wZXJ0aWVzID0gbWVhc3VyZWQuZm9udFByb3BlcnRpZXM7XG5cbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIHdpZHRoKSArIChzdHlsZS5wYWRkaW5nICogMikpICogdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgaGVpZ2h0KSArIChzdHlsZS5wYWRkaW5nICogMikpICogdGhpcy5fcmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLl9yZXNvbHV0aW9uLCB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLl9mb250O1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcblxuICAgICAgICBsZXQgbGluZVBvc2l0aW9uWDtcbiAgICAgICAgbGV0IGxpbmVQb3NpdGlvblk7XG5cbiAgICAgICAgLy8gcmVxdWlyZSAyIHBhc3NlcyBpZiBhIHNoYWRvdzsgdGhlIGZpcnN0IHRvIGRyYXcgdGhlIGRyb3Agc2hhZG93LCB0aGUgc2Vjb25kIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgICAgY29uc3QgcGFzc2VzQ291bnQgPSBzdHlsZS5kcm9wU2hhZG93ID8gMiA6IDE7XG5cbiAgICAgICAgLy8gRm9yIHY0LCB3ZSBkcmV3IHRleHQgYXQgdGhlIGNvbG91cnMgb2YgdGhlIGRyb3Agc2hhZG93IHVuZGVybmVhdGggdGhlIG5vcm1hbCB0ZXh0LiBUaGlzIGdhdmUgdGhlIGNvcnJlY3QgekluZGV4LFxuICAgICAgICAvLyBidXQgZmVhdHVyZXMgc3VjaCBhcyBhbHBoYSBhbmQgc2hhZG93Ymx1ciBkaWQgbm90IGxvb2sgcmlnaHQgYXQgYWxsLCBzaW5jZSB3ZSB3ZXJlIHVzaW5nIGFjdHVhbCB0ZXh0IGFzIGEgc2hhZG93LlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgdjUuMC4wLCB3ZSBtb3ZlZCBvdmVyIHRvIGp1c3QgdXNlIHRoZSBjYW52YXMgQVBJIGZvciBkcm9wIHNoYWRvd3MsIHdoaWNoIG1hZGUgdGhlbSBsb29rIG11Y2ggbmljZXIgYW5kIG1vcmVcbiAgICAgICAgLy8gdmlzdWFsbHkgcGxlYXNlLCBidXQgbm93IGJlY2F1c2UgdGhlIHN0cm9rZSBpcyBkcmF3biBhbmQgdGhlbiB0aGUgZmlsbCwgZHJvcCBzaGFkb3dzIHdvdWxkIGFwcGVhciBvbiBib3RoIHRoZSBmaWxsXG4gICAgICAgIC8vIGFuZCB0aGUgc3Ryb2tlOyBhbmQgZmlsbCBkcm9wIHNoYWRvd3Mgd291bGQgYXBwZWFyIG92ZXIgdGhlIHRvcCBvZiB0aGUgc3Ryb2tlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgdjUuMS4xLCB0aGUgbmV3IHJvdXRlIGlzIHRvIHJldmVydCB0byB2NCBzdHlsZSBvZiBkcmF3aW5nIHRleHQgZmlyc3QgdG8gZ2V0IHRoZSBkcm9wIHNoYWRvd3MgdW5kZXJuZWF0aCBub3JtYWxcbiAgICAgICAgLy8gdGV4dCwgYnV0IGluc3RlYWQgZHJhd2luZyB0ZXh0IGluIHRoZSBjb3JyZWN0IGxvY2F0aW9uLCB3ZSdsbCBkcmF3IGl0IG9mZiBzY3JlZW4gKC1wYWRkaW5nWSksIGFuZCB0aGVuIGFkanVzdCB0aGVcbiAgICAgICAgLy8gZHJvcCBzaGFkb3cgc28gb25seSB0aGF0IGFwcGVhcnMgb24gc2NyZWVuICgrcGFkZGluZ1kpLiBOb3cgd2UnbGwgaGF2ZSB0aGUgY29ycmVjdCBkcmF3IG9yZGVyIG9mIHRoZSBzaGFkb3dcbiAgICAgICAgLy8gYmVuZWF0aCB0aGUgdGV4dCwgd2hpbHN0IGFsc28gaGF2aW5nIHRoZSBwcm9wZXIgdGV4dCBzaGFkb3cgc3R5bGluZy5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXNzZXNDb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpc1NoYWRvd1Bhc3MgPSBzdHlsZS5kcm9wU2hhZG93ICYmIGkgPT09IDA7XG4gICAgICAgICAgICBjb25zdCBkc09mZnNldFRleHQgPSBpc1NoYWRvd1Bhc3MgPyBoZWlnaHQgKiAyIDogMDsgLy8gd2Ugb25seSB3YW50IHRoZSBkcm9wIHNoYWRvdywgc28gcHV0IHRleHQgd2F5IG9mZi1zY3JlZW5cbiAgICAgICAgICAgIGNvbnN0IGRzT2Zmc2V0U2hhZG93ID0gZHNPZmZzZXRUZXh0ICogdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBpZiAoaXNTaGFkb3dQYXNzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIE9uIFNhZmFyaSwgdGV4dCB3aXRoIGdyYWRpZW50IGFuZCBkcm9wIHNoYWRvd3MgdG9nZXRoZXIgZG8gbm90IHBvc2l0aW9uIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzY2FsZSBvZiB0aGUgY2FudmFzIGlzIG5vdCAxOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTk3Njg5XG4gICAgICAgICAgICAgICAgLy8gVGhlcmVmb3JlIHdlJ2xsIHNldCB0aGUgc3R5bGVzIHRvIGJlIGEgcGxhaW4gYmxhY2sgd2hpbHN0IGdlbmVyYXRpbmcgdGhpcyBkcm9wIHNoYWRvd1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRyb3BTaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgICAgICBjb25zdCByZ2IgPSBoZXgycmdiKHR5cGVvZiBkcm9wU2hhZG93Q29sb3IgPT09ICdudW1iZXInID8gZHJvcFNoYWRvd0NvbG9yIDogc3RyaW5nMmhleChkcm9wU2hhZG93Q29sb3IpKTtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBgcmdiYSgke3JnYlswXSAqIDI1NX0sJHtyZ2JbMV0gKiAyNTV9LCR7cmdiWzJdICogMjU1fSwke3N0eWxlLmRyb3BTaGFkb3dBbHBoYX0pYDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSBNYXRoLmNvcyhzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IChNYXRoLnNpbihzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlKSArIGRzT2Zmc2V0U2hhZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkcmF3IGxpbmVzIGxpbmUgYnkgbGluZVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25ZID0gKChzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyKSArIChpICogbGluZUhlaWdodCkpICsgZm9udFByb3BlcnRpZXMuYXNjZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmFsaWduID09PSAncmlnaHQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gJ2NlbnRlcicpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldKSAvIDI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArIHN0eWxlLnBhZGRpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgdGV4dCB3aXRoIGxldHRlci1zcGFjaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG9yaXpvbnRhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBWZXJ0aWNhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJva2U9ZmFsc2VdIC0gSXMgdGhpcyBkcmF3aW5nIGZvciB0aGUgb3V0c2lkZSBzdHJva2Ugb2YgdGhlXG4gICAgICogIHRleHQ/IElmIG5vdCwgaXQncyBmb3IgdGhlIGluc2lkZSBmaWxsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkcmF3TGV0dGVyU3BhY2luZyh0ZXh0LCB4LCB5LCBpc1N0cm9rZSA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBsZXR0ZXJTcGFjaW5nIG9mIDAgbWVhbnMgbm9ybWFsXG4gICAgICAgIGNvbnN0IGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuXG4gICAgICAgIGlmIChsZXR0ZXJTcGFjaW5nID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudFBvc2l0aW9uID0geDtcblxuICAgICAgICAvLyBVc2luZyBBcnJheS5mcm9tIGNvcnJlY3RseSBzcGxpdHMgY2hhcmFjdGVycyB3aGlsc3Qga2VlcGluZyBlbW9qaSB0b2dldGhlci5cbiAgICAgICAgLy8gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIGFzIGl0IHJlcXVpcmVzIEVTNiwgc28gcmVndWxhciB0ZXh0IHNwbGl0dGluZyBvY2N1cnMuXG4gICAgICAgIC8vIFRoaXMgYWxzbyBkb2Vzbid0IGFjY291bnQgZm9yIGVtb2ppIHRoYXQgYXJlIG11bHRpcGxlIGVtb2ppIHB1dCB0b2dldGhlciB0byBtYWtlIHNvbWV0aGluZyBlbHNlLlxuICAgICAgICAvLyBIYW5kbGluZyBhbGwgb2YgdGhpcyB3b3VsZCByZXF1aXJlIGEgYmlnIGxpYnJhcnkgaXRzZWxmLlxuICAgICAgICAvLyBodHRwczovL21lZGl1bS5jb20vQGdpbHRheWFyL2l0ZXJhdGluZy1vdmVyLWVtb2ppLWNoYXJhY3RlcnMtdGhlLWVzNi13YXktZjA2ZTQ1ODk1MTZcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL29ybGluZy9ncmFwaGVtZS1zcGxpdHRlclxuICAgICAgICBjb25zdCBzdHJpbmdBcnJheSA9IEFycmF5LmZyb20gPyBBcnJheS5mcm9tKHRleHQpIDogdGV4dC5zcGxpdCgnJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmdBcnJheS5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENoYXIgPSBzdHJpbmdBcnJheVtpXTtcblxuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQoY3VycmVudENoYXIpLndpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dHVyZSBzaXplIGJhc2VkIG9uIGNhbnZhcyBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZVRleHR1cmUoKVxuICAgIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlLnRyaW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRyaW1tZWQgPSB0cmltQ2FudmFzKGNhbnZhcyk7XG5cbiAgICAgICAgICAgIGlmICh0cmltbWVkLmRhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdHJpbW1lZC53aWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdHJpbW1lZC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0cmltbWVkLmRhdGEsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSBzdHlsZS50cmltID8gMCA6IHN0eWxlLnBhZGRpbmc7XG4gICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICB0ZXh0dXJlLnRyaW0ud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCA9IE1hdGguY2VpbChjYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCA9IE1hdGguY2VpbChjYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRleHR1cmUudHJpbS54ID0gLXBhZGRpbmc7XG4gICAgICAgIHRleHR1cmUudHJpbS55ID0gLXBhZGRpbmc7XG5cbiAgICAgICAgdGV4dHVyZS5vcmlnLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggLSAocGFkZGluZyAqIDIpO1xuICAgICAgICB0ZXh0dXJlLm9yaWcuaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0IC0gKHBhZGRpbmcgKiAyKTtcblxuICAgICAgICAvLyBjYWxsIHNwcml0ZSBvblRleHR1cmVVcGRhdGUgdG8gdXBkYXRlIHNjYWxlIGlmIF93aWR0aCBvciBfaGVpZ2h0IHdlcmUgc2V0XG4gICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLnNldFJlYWxTaXplKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgdGhpcy5fcmVzb2x1dGlvbik7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIF9yZW5kZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBzdXBlci5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIGdldExvY2FsQm91bmRzKHJlY3QpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBUZXh0IGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSBkb25lIHRoaXMgb24gVEhJUyBmcmFtZS5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gYmUgY2FsbGVkIHVwb24gYSBUZXh0U3R5bGUgY2hhbmdlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uU3R5bGVDaGFuZ2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBmaWxsIHN0eWxlLiBDYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIGdyYWRpZW50IGJhc2VkIG9uIHRoZSBmaWxsIHN0eWxlIGJlaW5nIGFuIGFycmF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIFRoZSBsaW5lcyBvZiB0ZXh0LlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xudW1iZXJ8Q2FudmFzR3JhZGllbnR9IFRoZSBmaWxsIHN0eWxlXG4gICAgICovXG4gICAgX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcylcbiAgICB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsZS5maWxsKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmZpbGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3R5bGUuZmlsbC5sZW5ndGggPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZS5maWxsWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlIGdyYWRpZW50IHdpbGwgYmUgZXZlbmx5IHNwYWNlZCBvdXQgYWNjb3JkaW5nIHRvIGhvdyBsYXJnZSB0aGUgYXJyYXkgaXMuXG4gICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSB3b3VsZCBjcmVhdGVkIHN0b3BzIGF0IDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICBsZXQgZ3JhZGllbnQ7XG4gICAgICAgIGxldCB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgIGxldCBjdXJyZW50SXRlcmF0aW9uO1xuICAgICAgICBsZXQgc3RvcDtcblxuICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbik7XG5cbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgICAgIGNvbnN0IGZpbGwgPSBzdHlsZS5maWxsLnNsaWNlKCk7XG4gICAgICAgIGNvbnN0IGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcblxuICAgICAgICAvLyB3YW50aW5nIHRvIGV2ZW5seSBkaXN0cmlidXRlIHRoZSBmaWxscy4gU28gYW4gYXJyYXkgb2YgNCBjb2xvdXJzIHNob3VsZCBnaXZlIGZpbGxzIG9mIDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICBpZiAoIWZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9wIHRoZSBibGVlZGluZyBvZiB0aGUgbGFzdCBncmFkaWVudCBvbiB0aGUgbGluZSBhYm92ZSB0byB0aGUgdG9wIGdyYWRpZW50IG9mIHRoZSB0aGlzIGxpbmVcbiAgICAgICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgICAgIGZpbGwudW5zaGlmdChzdHlsZS5maWxsWzBdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcblxuICAgICAgICBmaWxsLnB1c2goc3R5bGUuZmlsbFtzdHlsZS5maWxsLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcblxuICAgICAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgMCwgd2lkdGggLyAyLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSAoZmlsbC5sZW5ndGggKyAxKSAqIGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uICs9IDE7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tqXSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSAoZmlsbEdyYWRpZW50U3RvcHNbal0gLyBsaW5lcy5sZW5ndGgpICsgKGkgLyBsaW5lcy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbal0pO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSBjZW50ZXIgbGVmdCBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBjZW50ZXIgcmlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgICAgZ3JhZGllbnQgPSB0aGlzLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCAvIDIpO1xuXG4gICAgICAgICAgICAvLyBjYW4ganVzdCBldmVubHkgc3BhY2Ugb3V0IHRoZSBncmFkaWVudHMgaW4gdGhpcyBjYXNlLCBhcyBtdWx0aXBsZSBsaW5lcyBtYWtlcyBubyBkaWZmZXJlbmNlXG4gICAgICAgICAgICAvLyB0byBhbiBldmVuIGxlZnQgdG8gcmlnaHQgZ3JhZGllbnRcbiAgICAgICAgICAgIHRvdGFsSXRlcmF0aW9ucyA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gPSAxO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGwubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tpXSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtpXSk7XG4gICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyYWRpZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dCBvYmplY3QuXG4gICAgICogTm90ZSogVW5saWtlIGEgU3ByaXRlLCBhIFRleHQgb2JqZWN0IHdpbGwgYXV0b21hdGljYWxseSBkZXN0cm95IGl0cyBiYXNlVGV4dHVyZSBhbmQgdGV4dHVyZSBhc1xuICAgICAqIHRoZSBtYWpvcml0eSBvZiB0aGUgdGltZSB0aGUgdGV4dHVyZSB3aWxsIG5vdCBiZSBzaGFyZWQgd2l0aCBhbnkgb3RoZXIgU3ByaXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIGRlc3Ryb3kob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nKVxuICAgICAgICB7XG4gICAgICAgICAgICBvcHRpb25zID0geyBjaGlsZHJlbjogb3B0aW9ucyB9O1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHREZXN0cm95T3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIHRoZSBjb250ZXh0IGFuZCBjYW52YXMuLiBkb250IHdhbnQgdGhpcyBoYW5naW5nIGFyb3VuZCBpbiBtZW1vcnkhXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgfVxuXG4gICAgc2V0IHdpZHRoKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBjb25zdCBzID0gc2lnbih0aGlzLnNjYWxlLngpIHx8IDE7XG5cbiAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgIH1cblxuICAgIHNldCBoZWlnaHQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIGNvbnN0IHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHN0eWxlIG9mIHRoZSB0ZXh0LiBTZXQgdXAgYW4gZXZlbnQgbGlzdGVuZXIgdG8gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoZSBzdHlsZVxuICAgICAqIG9iamVjdCBhbmQgbWFyayB0aGUgdGV4dCBhcyBkaXJ0eS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdHxQSVhJLlRleHRTdHlsZX1cbiAgICAgKi9cbiAgICBnZXQgc3R5bGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICAgIH1cblxuICAgIHNldCBzdHlsZShzdHlsZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuXG4gICAgICAgIGlmIChzdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gbmV3IFRleHRTdHlsZShzdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvcHkgZm9yIHRoZSB0ZXh0IG9iamVjdC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCB0ZXh0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgIH1cblxuICAgIHNldCB0ZXh0KHRleHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGV4dCA9IFN0cmluZyh0ZXh0ID09PSBudWxsIHx8IHRleHQgPT09IHVuZGVmaW5lZCA/ICcnIDogdGV4dCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgZ2V0IHJlc29sdXRpb24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc29sdXRpb247XG4gICAgfVxuXG4gICAgc2V0IHJlc29sdXRpb24odmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5fcmVzb2x1dGlvbiA9PT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2YgdXBsb2FkcyBwZXIgZnJhbWUgdXNpbmcgcHJlcGFyZSBwbHVnaW4uXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEBuYW1lIFVQTE9BRFNfUEVSX0ZSQU1FXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgNFxuICovXG5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSA9IDQ7XG5cbmV4cG9ydCB7IHNldHRpbmdzIH07XG4iLCIvKipcbiAqIENvdW50TGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBpdGVtcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvdW50TGltaXRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhJdGVtc1BlckZyYW1lIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWF4SXRlbXNQZXJGcmFtZSlcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4SXRlbXNQZXJGcmFtZSA9IG1heEl0ZW1zUGVyRnJhbWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGluIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pdGVtc0xlZnQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAgICAgKi9cbiAgICBiZWdpbkZyYW1lKClcbiAgICB7XG4gICAgICAgIHRoaXMuaXRlbXNMZWZ0ID0gdGhpcy5tYXhJdGVtc1BlckZyYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgICAqL1xuICAgIGFsbG93ZWRUb1VwbG9hZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtc0xlZnQtLSA+IDA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBUZXh0LCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5pbXBvcnQgQ291bnRMaW1pdGVyIGZyb20gJy4vQ291bnRMaW1pdGVyJztcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS5cbiAqXG4gKiBCYXNlUHJlcGFyZSBoYW5kbGVzIGJhc2ljIHF1ZXVpbmcgZnVuY3Rpb25hbGl0eSBhbmQgaXMgZXh0ZW5kZWQgYnlcbiAqIHtAbGluayBQSVhJLnByZXBhcmUuUHJlcGFyZX0gYW5kIHtAbGluayBQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZX1cbiAqIHRvIHByb3ZpZGUgcHJlcGFyYXRpb24gY2FwYWJpbGl0aWVzIHNwZWNpZmljIHRvIHRoZWlyIHJlc3BlY3RpdmUgcmVuZGVyZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBzcHJpdGVcbiAqIGNvbnN0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oJ3NvbWV0aGluZy5wbmcnKTtcbiAqXG4gKiAvLyBMb2FkIG9iamVjdCBpbnRvIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoc3ByaXRlLCAoKSA9PiB7XG4gKlxuICogICAgIC8vVGV4dHVyZShzKSBoYXMgYmVlbiB1cGxvYWRlZCB0byBHUFVcbiAqICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiB9KVxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VQcmVwYXJlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGltaXRlciB0byBiZSB1c2VkIHRvIGNvbnRyb2wgaG93IHF1aWNrbHkgaXRlbXMgYXJlIHByZXBhcmVkLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5wcmVwYXJlLkNvdW50TGltaXRlcnxQSVhJLnByZXBhcmUuVGltZUxpbWl0ZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBuZXcgQ291bnRMaW1pdGVyKHNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlci5cbiAgICAgICAgICogQHR5cGUge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb25seSByZWFsIGRpZmZlcmVuY2UgYmV0d2VlbiBDYW52YXNQcmVwYXJlIGFuZCBQcmVwYXJlIGlzIHdoYXQgdGhleSBwYXNzXG4gICAgICAgICAqIHRvIHVwbG9hZCBob29rcy4gVGhhdCBkaWZmZXJlbnQgcGFyYW1ldGVyIGlzIHN0b3JlZCBoZXJlLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmV8UElYSS5SZW5kZXJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRzIGF0IG9uY2UuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBwcm9jZXNzaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgdG8gY2FsbCBhZnRlciBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBwcmVwYXJlIGlzIHRpY2tpbmcgKHJ1bm5pbmcpLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAnYm91bmQnIGNhbGwgZm9yIHByZXBhcmVJdGVtcygpLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbGF5ZWRUaWNrID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdW5saWtlbHksIGJ1dCBpbiBjYXNlIHdlIHdlcmUgZGVzdHJveWVkIGJldHdlZW4gdGljaygpIGFuZCBkZWxheWVkVGljaygpXG4gICAgICAgICAgICBpZiAoIXRoaXMucXVldWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wcmVwYXJlSXRlbXMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBob29rcyB0byBmaW5kIHRoZSBjb3JyZWN0IHRleHR1cmVcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0U3R5bGUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRCYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gdXBsb2FkIGhvb2tzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGRyYXdUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soY2FsY3VsYXRlVGV4dFN0eWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgYWxsIHRoZSB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fSBpdGVtIC1cbiAgICAgKiAgICAgICAgRWl0aGVyIHRoZSBjb250YWluZXIgb3IgZGlzcGxheSBvYmplY3QgdG8gc2VhcmNoIGZvciBpdGVtcyB0byB1cGxvYWQsIHRoZSBpdGVtcyB0byB1cGxvYWQgdGhlbXNlbHZlcyxcbiAgICAgKiAgICAgICAgb3IgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLCBpZiBpdGVtcyBoYXZlIGJlZW4gYWRkZWQgdXNpbmcgYHByZXBhcmUuYWRkYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZG9uZV0gLSBPcHRpb25hbCBjYWxsYmFjayB3aGVuIGFsbCBxdWV1ZWQgdXBsb2FkcyBoYXZlIGNvbXBsZXRlZFxuICAgICAqL1xuICAgIHVwbG9hZChpdGVtLCBkb25lKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnZnVuY3Rpb24nKVxuICAgICAgICB7XG4gICAgICAgICAgICBkb25lID0gaXRlbTtcbiAgICAgICAgICAgIGl0ZW0gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYSBkaXNwbGF5IG9iamVjdCwgc2VhcmNoIGZvciBpdGVtc1xuICAgICAgICAvLyB0aGF0IHdlIGNvdWxkIHVwbG9hZFxuICAgICAgICBpZiAoaXRlbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hZGQoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdGhlIGl0ZW1zIGZvciB1cGxvYWQgZnJvbSB0aGUgZGlzcGxheVxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLnB1c2goZG9uZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy50aWNraW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgVGlja2VyLnN5c3RlbS5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRvbmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aWNrIHVwZGF0ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aWNrKClcbiAgICB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0dWFsbHkgcHJlcGFyZSBpdGVtcy4gVGhpcyBpcyBoYW5kbGVkIG91dHNpZGUgb2YgdGhlIHRpY2sgYmVjYXVzZSBpdCB3aWxsIHRha2UgYSB3aGlsZVxuICAgICAqIGFuZCB3ZSBkbyBOT1Qgd2FudCB0byBibG9jayB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUgZnJvbSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByZXBhcmVJdGVtcygpXG4gICAge1xuICAgICAgICB0aGlzLmxpbWl0ZXIuYmVnaW5GcmFtZSgpO1xuICAgICAgICAvLyBVcGxvYWQgdGhlIGdyYXBoaWNzXG4gICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCAmJiB0aGlzLmxpbWl0ZXIuYWxsb3dlZFRvVXBsb2FkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnF1ZXVlWzBdO1xuICAgICAgICAgICAgbGV0IHVwbG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChpdGVtICYmICFpdGVtLl9kZXN0cm95ZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51cGxvYWRIb29rc1tpXSh0aGlzLnVwbG9hZEhvb2tIZWxwZXIsIGl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF1cGxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSdyZSBmaW5pc2hlZFxuICAgICAgICBpZiAoIXRoaXMucXVldWUubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3QgY29tcGxldGVzID0gdGhpcy5jb21wbGV0ZXMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjb21wbGV0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVzW2ldKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGZpbmlzaGVkLCBvbiB0aGUgbmV4dCByQUYgZG8gdGhpcyBhZ2FpblxuICAgICAgICAgICAgVGlja2VyLnN5c3RlbS5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBob29rcyBmb3IgZmluZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFkZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBpdGVtOiosIHF1ZXVlOkFycmF5YFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBhZGQgaXRlbSB0byB0aGUgcXVldWUuXG4gICAgICogQHJldHVybiB7UElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyRmluZEhvb2soYWRkSG9vaylcbiAgICB7XG4gICAgICAgIGlmIChhZGRIb29rKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFkZEhvb2tzLnB1c2goYWRkSG9vayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciB1cGxvYWRpbmcgaXRlbXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGxvYWRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBoYW5kbGUgdXBsb2FkIG9mIGl0ZW0uXG4gICAgICogQHJldHVybiB7UElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRIb29rKVxuICAgIHtcbiAgICAgICAgaWYgKHVwbG9hZEhvb2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hbnVhbGx5IGFkZCBhbiBpdGVtIHRvIHRoZSB1cGxvYWRpbmcgcXVldWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dHwqfSBpdGVtIC0gT2JqZWN0IHRvXG4gICAgICogICAgICAgIGFkZCB0byB0aGUgcXVldWVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgYWRkKGl0ZW0pXG4gICAge1xuICAgICAgICAvLyBBZGQgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBlbGVtZW50cyBvbiBzcGVjaWFsXG4gICAgICAgIC8vIHR5cGVzIG9mIG9iamVjdHMgdGhhdFxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5hZGRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWRkSG9va3NbaV0oaXRlbSwgdGhpcy5xdWV1ZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgY2hpbGRyZW4gcmVjdXJzaXZlbHlcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBDb250YWluZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0uY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbiwgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRpY2tpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudGljaywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGltaXRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBtdWx0aXBsZSB0ZXh0dXJlcyBmcm9tIG9iamVjdHMgbGlrZSBBbmltYXRlZFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyhpdGVtLCBxdWV1ZSlcbntcbiAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAvLyBPYmplY3RzIHdpdGggbXVsdGlwbGUgdGV4dHVyZXNcbiAgICBpZiAoaXRlbSAmJiBpdGVtLl90ZXh0dXJlcyAmJiBpdGVtLl90ZXh0dXJlcy5sZW5ndGgpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW0uX3RleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaXRlbS5fdGV4dHVyZXNbaV0gaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gaXRlbS5fdGV4dHVyZXNbaV0uYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAocXVldWUuaW5kZXhPZihiYXNlVGV4dHVyZSkgPT09IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgQmFzZVRleHR1cmVzIGZyb20gU3ByaXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEJhc2VUZXh0dXJlKGl0ZW0sIHF1ZXVlKVxue1xuICAgIC8vIE9iamVjdHMgd2l0aCB0ZXh0dXJlcywgbGlrZSBTcHJpdGVzL1RleHRcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCB0ZXh0dXJlcyBmcm9tIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0dXJlKGl0ZW0sIHF1ZXVlKVxue1xuICAgIGlmIChpdGVtLl90ZXh0dXJlICYmIGl0ZW0uX3RleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZHJhdyBQSVhJLlRleHQgdG8gaXRzIHRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1ByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXh0KGhlbHBlciwgaXRlbSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpXG4gICAge1xuICAgICAgICAvLyB1cGRhdGluZyB0ZXh0IHdpbGwgcmV0dXJuIGVhcmx5IGlmIGl0IGlzIG5vdCBkaXJ0eVxuICAgICAgICBpdGVtLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gY2FsY3VsYXRlIGEgdGV4dCBzdHlsZSBmb3IgYSBQSVhJLlRleHQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUZXh0U3R5bGUoaGVscGVyLCBpdGVtKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKVxuICAgIHtcbiAgICAgICAgY29uc3QgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0IG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0IG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0KGl0ZW0sIHF1ZXVlKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dClcbiAgICB7XG4gICAgICAgIC8vIHB1c2ggdGhlIHRleHQgc3R5bGUgdG8gcHJlcGFyZSBpdCAtIHRoaXMgY2FuIGJlIHJlYWxseSBleHBlbnNpdmVcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbS5zdHlsZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0uc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgdGV4dCBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gcmVuZGVyIGl0ICh0byBjYW52YXMvdGV4dHVyZSkgaWYgbmVlZGVkXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIFRleHQncyB0ZXh0dXJlIGZvciB1cGxvYWQgdG8gR1BVXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dFN0eWxlIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHRTdHlsZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dFN0eWxlKGl0ZW0sIHF1ZXVlKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKVxuICAgIHtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuIiwiaW1wb3J0IHsgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuaW1wb3J0IEJhc2VQcmVwYXJlIGZyb20gJy4vQmFzZVByZXBhcmUnO1xuXG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZWBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZVxuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVwYXJlIGV4dGVuZHMgQmFzZVByZXBhcmVcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIC8vIEFkZCB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdXBsb2FkXG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kR3JhcGhpY3MpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRCYXNlVGV4dHVyZXMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRHcmFwaGljcyk7XG4gICAgfVxufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLlRleHR1cmUgb2JqZWN0cyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRCYXNlVGV4dHVyZXMocmVuZGVyZXIsIGl0ZW0pXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIC8vIGlmIHRoZSB0ZXh0dXJlIGFscmVhZHkgaGFzIGEgR0wgdGV4dHVyZSwgdGhlbiB0aGUgdGV4dHVyZSBoYXMgYmVlbiBwcmVwYXJlZCBvciByZW5kZXJlZFxuICAgICAgICAvLyBiZWZvcmUgbm93LiBJZiB0aGUgdGV4dHVyZSBjaGFuZ2VkLCB0aGVuIHRoZSBjaGFuZ2VyIHNob3VsZCBiZSBjYWxsaW5nIHRleHR1cmUudXBkYXRlKCkgd2hpY2hcbiAgICAgICAgLy8gcmV1cGxvYWRzIHRoZSB0ZXh0dXJlIHdpdGhvdXQgbmVlZCBmb3IgcHJlcGFyaW5nIGl0IGFnYWluXG4gICAgICAgIGlmICghaXRlbS5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLkdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEdyYXBoaWNzKHJlbmRlcmVyLCBpdGVtKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgR3JhcGhpY3MpXG4gICAge1xuICAgICAgICAvLyBpZiB0aGUgaXRlbSBpcyBub3QgZGlydHkgYW5kIGFscmVhZHkgaGFzIHdlYmdsIGRhdGEsIHRoZW4gaXQgZ290IHByZXBhcmVkIG9yIHJlbmRlcmVkXG4gICAgICAgIC8vIGJlZm9yZSBub3cgYW5kIHdlIHNob3VsZG4ndCB3YXN0ZSB0aW1lIHVwZGF0aW5nIGl0IGFnYWluXG4gICAgICAgIGlmIChpdGVtLmRpcnR5IHx8IGl0ZW0uY2xlYXJEaXJ0eSB8fCAhaXRlbS5fd2ViR0xbcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5DT05URVhUX1VJRF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MudXBkYXRlR3JhcGhpY3MoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIGdyYXBoaWNzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuR3JhcGhpY3Mgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEdyYXBoaWNzKGl0ZW0sIHF1ZXVlKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgR3JhcGhpY3MpXG4gICAge1xuICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsIi8qKlxuICogVGltZUxpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbWVMaW1pdGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heE1pbGxpc2Vjb25kcyAtIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXhNaWxsaXNlY29uZHMpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhNaWxsaXNlY29uZHMgPSBtYXhNaWxsaXNlY29uZHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhcnQgdGltZSBvZiB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZnJhbWVTdGFydCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICAgICAqL1xuICAgIGJlZ2luRnJhbWUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGl0ZW0gaXMgYWxsb3dlZCB0byBiZSB1cGxvYWRlZC5cbiAgICAgKi9cbiAgICBhbGxvd2VkVG9VcGxvYWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLmZyYW1lU3RhcnQgPCB0aGlzLm1heE1pbGxpc2Vjb25kcztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIENvbnZlbmllbmNlIGNsYXNzIHRvIGNyZWF0ZSBhIG5ldyBQSVhJIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoaXMgY2xhc3MgYXV0b21hdGljYWxseSBjcmVhdGVzIHRoZSByZW5kZXJlciwgdGlja2VyIGFuZCByb290IGNvbnRhaW5lci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBBZGQgdGhlIHZpZXcgdG8gdGhlIERPTVxuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKlxuICogLy8gZXgsIGFkZCBkaXNwbGF5IG9iamVjdHNcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJykpO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwbGljYXRpb25cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvU3RhcnQ9dHJ1ZV0gLSBBdXRvbWF0aWNhbGx5IHN0YXJ0cyB0aGUgcmVuZGVyaW5nIGFmdGVyIHRoZSBjb25zdHJ1Y3Rpb24uXG4gICAgICogICAgICoqTm90ZSoqOiBTZXR0aW5nIHRoaXMgcGFyYW1ldGVyIHRvIGZhbHNlIGRvZXMgTk9UIHN0b3AgdGhlIHNoYXJlZCB0aWNrZXIgZXZlbiBpZiB5b3Ugc2V0XG4gICAgICogICAgIG9wdGlvbnMuc2hhcmVkVGlja2VyIHRvIHRydWUgaW4gY2FzZSB0aGF0IGl0IGlzIGFscmVhZHkgc3RhcnRlZC4gU3RvcCBpdCBieSB5b3VyIG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXcuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSBUaGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gICAgICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDEuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gU2V0cyBhbnRpYWxpYXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBFbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gICAgICogIG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIFdlYkdMIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VDYW52YXM9ZmFsc2VdIC0gcHJldmVudHMgc2VsZWN0aW9uIG9mIFdlYkdMIHJlbmRlcmVyLCBldmVuIGlmIHN1Y2ggaXMgcHJlc2VudCwgdGhpc1xuICAgICAqICAgb3B0aW9uIG9ubHkgaXMgYXZhaWxhYmxlIHdoZW4gdXNpbmcgKipwaXhpLmpzLWxlZ2FjeSoqIG9yICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogbW9kdWxlcywgb3RoZXJ3aXNlXG4gICAgICogICBpdCBpcyBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gRm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gICAgICogIEZYQUEgaXMgZmFzdGVyLCBidXQgbWF5IG5vdCBhbHdheXMgbG9vayBhcyBncmVhdC4gKiooV2ViR0wgb25seSkqKi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gICAgICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkLiAqKihXZWJHTCBvbmx5KSoqLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkVGlja2VyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgdGlja2VyLlxuICAgICAqICBJZiBzZXQgdG8gZmFsc2UsIHlvdSBjYW5ub3QgcmVnaXN0ZXIgYSBoYW5kbGVyIHRvIG9jY3VyIGJlZm9yZSBhbnl0aGluZyB0aGF0IHJ1bnMgb24gdGhlIHNoYXJlZCB0aWNrZXIuXG4gICAgICogIFRoZSBzeXN0ZW0gdGlja2VyIHdpbGwgYWx3YXlzIHJ1biBiZWZvcmUgYm90aCB0aGUgc2hhcmVkIHRpY2tlciBhbmQgdGhlIGFwcCB0aWNrZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaGFyZWRMb2FkZXI9ZmFsc2VdIC0gYHRydWVgIHRvIHVzZSBQSVhJLkxvYWRlci5zaGFyZWQsIGBmYWxzZWAgdG8gY3JlYXRlIG5ldyBMb2FkZXIuXG4gICAgICogQHBhcmFtIHtXaW5kb3d8SFRNTEVsZW1lbnR9IFtvcHRpb25zLnJlc2l6ZVRvXSAtIEVsZW1lbnQgdG8gYXV0b21hdGljYWxseSByZXNpemUgc3RhZ2UgdG8uXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8vIFRoZSBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgZm9yY2VDYW52YXM6IGZhbHNlLFxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXIuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGRpc3BsYXkgY29udGFpbmVyIHRoYXQncyByZW5kZXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IENvbnRhaW5lcigpO1xuXG4gICAgICAgIC8vIGluc3RhbGwgcGx1Z2lucyBoZXJlXG4gICAgICAgIEFwcGxpY2F0aW9uLl9wbHVnaW5zLmZvckVhY2goKHBsdWdpbikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcGx1Z2luLmluaXQuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBtaWRkbGV3YXJlIHBsdWdpbiBmb3IgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5BcHBsaWNhdGlvbi5QbHVnaW59IHBsdWdpbiAtIFBsdWdpbiBiZWluZyBpbnN0YWxsZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVnaXN0ZXJQbHVnaW4ocGx1Z2luKVxuICAgIHtcbiAgICAgICAgQXBwbGljYXRpb24uX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgY3VycmVudCBzdGFnZS5cbiAgICAgKi9cbiAgICByZW5kZXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIGNhbnZhcyBlbGVtZW50LlxuICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCB2aWV3KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnZpZXc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIHNjcmVlbiByZWN0YW5nbGUuIEl0cyBzYWZlIHRvIHVzZSBhcyBgZmlsdGVyQXJlYWAgb3IgYGhpdEFyZWFgIGZvciB0aGUgd2hvbGUgc2NyZWVuLlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBzY3JlZW4oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuc2NyZWVuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIEF1dG9tYXRpY2FsbHkgcmVtb3ZlIGNhbnZhcyBmcm9tIERPTS5cbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbc3RhZ2VPcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ3N0YWdlT3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIHN0YWdlT3B0aW9ucy5jaGlsZHJlbiBpcyBzZXRcbiAgICAgKiAgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICAgICAqICB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KHJlbW92ZVZpZXcsIHN0YWdlT3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8vIERlc3Ryb3kgcGx1Z2lucyBpbiB0aGUgb3Bwb3NpdGUgb3JkZXJcbiAgICAgICAgLy8gd2hpY2ggdGhleSB3ZXJlIGNvbnN0cnVjdGVkXG4gICAgICAgIGNvbnN0IHBsdWdpbnMgPSBBcHBsaWNhdGlvbi5fcGx1Z2lucy5zbGljZSgwKTtcblxuICAgICAgICBwbHVnaW5zLnJldmVyc2UoKTtcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKChwbHVnaW4pID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHBsdWdpbi5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RhZ2UuZGVzdHJveShzdGFnZU9wdGlvbnMpO1xuICAgICAgICB0aGlzLnN0YWdlID0gbnVsbDtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvblxuICogQHR5cGVkZWYge29iamVjdH0gUGx1Z2luXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBpbml0IC0gQ2FsbGVkIHdoZW4gQXBwbGljYXRpb24gaXMgY29uc3RydWN0ZWQsIHNjb3BlZCB0byBBcHBsaWNhdGlvbiBpbnN0YW5jZS5cbiAqICBQYXNzZXMgaW4gYG9wdGlvbnNgIGFzIHRoZSBvbmx5IGFyZ3VtZW50LCB3aGljaCBhcmUgQXBwbGljYXRpb24gY29uc3RydWN0b3Igb3B0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGRlc3Ryb3kgLSBDYWxsZWQgd2hlbiBkZXN0cm95aW5nIEFwcGxpY2F0aW9uLCBzY29wZWQgdG8gQXBwbGljYXRpb24gaW5zdGFuY2VcbiAqL1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUge1BJWEkuQXBwbGljYXRpb24uUGx1Z2luW119XG4gKi9cbkFwcGxpY2F0aW9uLl9wbHVnaW5zID0gW107XG4iLCIvKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbidzIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc2l6ZVBsdWdpblxue1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbiB3aXRoIHNjb3BlIG9mIGFwcGxpY2F0aW9uIGluc3RhbmNlXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSBhcHBsaWNhdGlvbiBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGluaXQob3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZWxlbWVudCBvciB3aW5kb3cgdG8gcmVzaXplIHRoZSBhcHBsaWNhdGlvbiB0by5cbiAgICAgICAgICogQHR5cGUge1dpbmRvd3xIVE1MRWxlbWVudH1cbiAgICAgICAgICogQG5hbWUgcmVzaXplVG9cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc2l6ZVRvJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXQoZG9tKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBkb207XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb20pXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc2l6ZVRvO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYHJlc2l6ZVRvYCBpcyBzZXQsIGNhbGxpbmcgdGhpcyBmdW5jdGlvblxuICAgICAgICAgKiB3aWxsIHJlc2l6ZSB0byB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGF0IGVsZW1lbnQuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNyZXNpemVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzaXplID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc2l6ZVRvKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFJlc2l6ZSB0byB0aGUgd2luZG93XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc2l6ZVRvID09PSB3aW5kb3cpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlc2l6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJlc2l6ZSB0byBvdGhlciBIVE1MIGVudGl0aWVzXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZXNpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNpemVUby5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvLmNsaWVudEhlaWdodFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBPbiByZXNpemVcbiAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZVRvID0gb3B0aW9ucy5yZXNpemVUbyB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvblxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMucmVzaXplVG8gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZSA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IEFwcGxpY2F0aW9uIGZyb20gJy4vQXBwbGljYXRpb24nO1xuaW1wb3J0IFJlc2l6ZVBsdWdpbiBmcm9tICcuL1Jlc2l6ZVBsdWdpbic7XG5cbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFJlc2l6ZVBsdWdpbik7XG5cbmV4cG9ydCB7IEFwcGxpY2F0aW9uIH07XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZVVSSSAoc3RyLCBvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9XG5cbiAgdmFyIG8gPSB7XG4gICAga2V5OiBbJ3NvdXJjZScsICdwcm90b2NvbCcsICdhdXRob3JpdHknLCAndXNlckluZm8nLCAndXNlcicsICdwYXNzd29yZCcsICdob3N0JywgJ3BvcnQnLCAncmVsYXRpdmUnLCAncGF0aCcsICdkaXJlY3RvcnknLCAnZmlsZScsICdxdWVyeScsICdhbmNob3InXSxcbiAgICBxOiB7XG4gICAgICBuYW1lOiAncXVlcnlLZXknLFxuICAgICAgcGFyc2VyOiAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2dcbiAgICB9LFxuICAgIHBhcnNlcjoge1xuICAgICAgc3RyaWN0OiAvXig/OihbXjpcXC8/I10rKTopPyg/OlxcL1xcLygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSk/KCgoKD86W14/I1xcL10qXFwvKSopKFtePyNdKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvLFxuICAgICAgbG9vc2U6IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pL1xuICAgIH1cbiAgfVxuXG4gIHZhciBtID0gby5wYXJzZXJbb3B0cy5zdHJpY3RNb2RlID8gJ3N0cmljdCcgOiAnbG9vc2UnXS5leGVjKHN0cilcbiAgdmFyIHVyaSA9IHt9XG4gIHZhciBpID0gMTRcblxuICB3aGlsZSAoaS0tKSB1cmlbby5rZXlbaV1dID0gbVtpXSB8fCAnJ1xuXG4gIHVyaVtvLnEubmFtZV0gPSB7fVxuICB1cmlbby5rZXlbMTJdXS5yZXBsYWNlKG8ucS5wYXJzZXIsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgaWYgKCQxKSB1cmlbby5xLm5hbWVdWyQxXSA9ICQyXG4gIH0pXG5cbiAgcmV0dXJuIHVyaVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBNaW5pU2lnbmFsQmluZGluZyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWxCaW5kaW5nKGZuLCBvbmNlLCB0aGlzQXJnKSB7XG4gICAgaWYgKG9uY2UgPT09IHVuZGVmaW5lZCkgb25jZSA9IGZhbHNlO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWxCaW5kaW5nKTtcblxuICAgIHRoaXMuX2ZuID0gZm47XG4gICAgdGhpcy5fb25jZSA9IG9uY2U7XG4gICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgdGhpcy5fbmV4dCA9IHRoaXMuX3ByZXYgPSB0aGlzLl9vd25lciA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbEJpbmRpbmcsIFt7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgaWYgKHRoaXMuX293bmVyID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICB0aGlzLl9vd25lci5kZXRhY2godGhpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbEJpbmRpbmc7XG59KSgpO1xuXG5mdW5jdGlvbiBfYWRkTWluaVNpZ25hbEJpbmRpbmcoc2VsZiwgbm9kZSkge1xuICBpZiAoIXNlbGYuX2hlYWQpIHtcbiAgICBzZWxmLl9oZWFkID0gbm9kZTtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLl90YWlsLl9uZXh0ID0gbm9kZTtcbiAgICBub2RlLl9wcmV2ID0gc2VsZi5fdGFpbDtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfVxuXG4gIG5vZGUuX293bmVyID0gc2VsZjtcblxuICByZXR1cm4gbm9kZTtcbn1cblxudmFyIE1pbmlTaWduYWwgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsKTtcblxuICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWwsIFt7XG4gICAga2V5OiAnaGFuZGxlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVycygpIHtcbiAgICAgIHZhciBleGlzdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoZXhpc3RzKSByZXR1cm4gISFub2RlO1xuXG4gICAgICB2YXIgZWUgPSBbXTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgZWUucHVzaChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjaGFzKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZS5fb3duZXIgPT09IHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzcGF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLl9vbmNlKSB0aGlzLmRldGFjaChub2RlKTtcbiAgICAgICAgbm9kZS5fZm4uYXBwbHkobm9kZS5fdGhpc0FyZywgYXJndW1lbnRzKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCBmYWxzZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI29uY2UoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcykgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChub2RlLl9wcmV2KSBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDtcbiAgICAgIGlmIChub2RlLl9uZXh0KSBub2RlLl9uZXh0Ll9wcmV2ID0gbm9kZS5fcHJldjtcblxuICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgIGlmIChub2RlLl9uZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgdGhpcy5fdGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaEFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEFsbCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gbnVsbDtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsO1xufSkoKTtcblxuTWluaVNpZ25hbC5NaW5pU2lnbmFsQmluZGluZyA9IE1pbmlTaWduYWxCaW5kaW5nO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBNaW5pU2lnbmFsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4iLCIvKipcbiAqIFNtYWxsZXIgdmVyc2lvbiBvZiB0aGUgYXN5bmMgbGlicmFyeSBjb25zdHJ1Y3RzLlxuICpcbiAqIEBuYW1lc3BhY2UgYXN5bmNcbiAqL1xuXG4vKipcbiAqIE5vb3AgZnVuY3Rpb25cbiAqXG4gKiBAaWdub3JlXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBhc3luY1xuICovXG5mdW5jdGlvbiBfbm9vcCgpIHsgLyogZW1wdHkgKi8gfVxuXG4vKipcbiAqIEl0ZXJhdGVzIGFuIGFycmF5IGluIHNlcmllcy5cbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBlYWNoU2VyaWVzXG4gKiBAcGFyYW0ge0FycmF5LjwqPn0gYXJyYXkgLSBBcnJheSB0byBpdGVyYXRlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0b3IgLSBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBkb25lLCBvciBvbiBlcnJvci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZmVyTmV4dD1mYWxzZV0gLSBCcmVhayBzeW5jaHJvbm91cyBlYWNoIGxvb3AgYnkgY2FsbGluZyBuZXh0IHdpdGggYSBzZXRUaW1lb3V0IG9mIDEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYWNoU2VyaWVzKGFycmF5LCBpdGVyYXRvciwgY2FsbGJhY2ssIGRlZmVyTmV4dCkge1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgICAoZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICAgICAgaWYgKGVyciB8fCBpID09PSBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWZlck5leHQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICAgICAgfVxuICAgIH0pKCk7XG59XG5cbi8qKlxuICogRW5zdXJlcyBhIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogQGlnbm9yZVxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSB3cmFwcGluZyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb25seU9uY2UoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gICAgICAgIGlmIChmbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxsYmFjayB3YXMgYWxyZWFkeSBjYWxsZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYWxsRm4gPSBmbjtcblxuICAgICAgICBmbiA9IG51bGw7XG4gICAgICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogQXN5bmMgcXVldWUgaW1wbGVtZW50YXRpb24sXG4gKlxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAZnVuY3Rpb24gcXVldWVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHdvcmtlciAtIFRoZSB3b3JrZXIgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB0YXNrLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvbmN1cnJlbmN5IC0gSG93IG1hbnkgd29ya2VycyB0byBydW4gaW4gcGFycmFsbGVsLlxuICogQHJldHVybiB7Kn0gVGhlIGFzeW5jIHF1ZXVlIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXVlKHdvcmtlciwgY29uY3VycmVuY3kpIHtcbiAgICBpZiAoY29uY3VycmVuY3kgPT0gbnVsbCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgIGNvbmN1cnJlbmN5ID0gMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29uY3VycmVuY3kgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25jdXJyZW5jeSBtdXN0IG5vdCBiZSB6ZXJvJyk7XG4gICAgfVxuXG4gICAgbGV0IHdvcmtlcnMgPSAwO1xuICAgIGNvbnN0IHEgPSB7XG4gICAgICAgIF90YXNrczogW10sXG4gICAgICAgIGNvbmN1cnJlbmN5LFxuICAgICAgICBzYXR1cmF0ZWQ6IF9ub29wLFxuICAgICAgICB1bnNhdHVyYXRlZDogX25vb3AsXG4gICAgICAgIGJ1ZmZlcjogY29uY3VycmVuY3kgLyA0LFxuICAgICAgICBlbXB0eTogX25vb3AsXG4gICAgICAgIGRyYWluOiBfbm9vcCxcbiAgICAgICAgZXJyb3I6IF9ub29wLFxuICAgICAgICBzdGFydGVkOiBmYWxzZSxcbiAgICAgICAgcGF1c2VkOiBmYWxzZSxcbiAgICAgICAgcHVzaChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgX2luc2VydChkYXRhLCBmYWxzZSwgY2FsbGJhY2spO1xuICAgICAgICB9LFxuICAgICAgICBraWxsKCkge1xuICAgICAgICAgICAgd29ya2VycyA9IDA7XG4gICAgICAgICAgICBxLmRyYWluID0gX25vb3A7XG4gICAgICAgICAgICBxLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHEuX3Rhc2tzID0gW107XG4gICAgICAgIH0sXG4gICAgICAgIHVuc2hpZnQoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIF9pbnNlcnQoZGF0YSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgICAgICB9LFxuICAgICAgICBwcm9jZXNzKCkge1xuICAgICAgICAgICAgd2hpbGUgKCFxLnBhdXNlZCAmJiB3b3JrZXJzIDwgcS5jb25jdXJyZW5jeSAmJiBxLl90YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gcS5fdGFza3Muc2hpZnQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChxLl90YXNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcS5lbXB0eSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdvcmtlcnMgKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmICh3b3JrZXJzID09PSBxLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd29ya2VyKHRhc2suZGF0YSwgb25seU9uY2UoX25leHQodGFzaykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGVuZ3RoKCkge1xuICAgICAgICAgICAgcmV0dXJuIHEuX3Rhc2tzLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgcnVubmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZXJzO1xuICAgICAgICB9LFxuICAgICAgICBpZGxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHEuX3Rhc2tzLmxlbmd0aCArIHdvcmtlcnMgPT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHBhdXNlKCkge1xuICAgICAgICAgICAgaWYgKHEucGF1c2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VtZSgpIHtcbiAgICAgICAgICAgIGlmIChxLnBhdXNlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucGF1c2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIE5lZWQgdG8gY2FsbCBxLnByb2Nlc3Mgb25jZSBwZXIgY29uY3VycmVudFxuICAgICAgICAgICAgLy8gd29ya2VyIHRvIHByZXNlcnZlIGZ1bGwgY29uY3VycmVuY3kgYWZ0ZXIgcGF1c2VcbiAgICAgICAgICAgIGZvciAobGV0IHcgPSAxOyB3IDw9IHEuY29uY3VycmVuY3k7IHcrKykge1xuICAgICAgICAgICAgICAgIHEucHJvY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfaW5zZXJ0KGRhdGEsIGluc2VydEF0RnJvbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Rhc2sgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cblxuICAgICAgICBxLnN0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChkYXRhID09IG51bGwgJiYgcS5pZGxlKCkpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICAgICAgLy8gY2FsbCBkcmFpbiBpbW1lZGlhdGVseSBpZiB0aGVyZSBhcmUgbm8gdGFza3NcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcS5kcmFpbigpLCAxKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXRlbSA9IHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBfbm9vcCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaW5zZXJ0QXRGcm9udCkge1xuICAgICAgICAgICAgcS5fdGFza3MudW5zaGlmdChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHEuX3Rhc2tzLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHEucHJvY2VzcygpLCAxKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfbmV4dCh0YXNrKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgd29ya2VycyAtPSAxO1xuXG4gICAgICAgICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIGlmIChhcmd1bWVudHNbMF0gIT0gbnVsbCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICAgICAgcS5lcnJvcihhcmd1bWVudHNbMF0sIHRhc2suZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3b3JrZXJzIDw9IChxLmNvbmN1cnJlbmN5IC0gcS5idWZmZXIpKSB7XG4gICAgICAgICAgICAgICAgcS51bnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocS5pZGxlKCkpIHtcbiAgICAgICAgICAgICAgICBxLmRyYWluKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucHJvY2VzcygpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBxO1xufVxuIiwiLy8gYSBzaW1wbGUgaW4tbWVtb3J5IGNhY2hlIGZvciByZXNvdXJjZXNcbmNvbnN0IGNhY2hlID0ge307XG5cbi8qKlxuICogQSBzaW1wbGUgaW4tbWVtb3J5IGNhY2hlIGZvciByZXNvdXJjZS5cbiAqXG4gKiBAbWVtYmVyb2YgbWlkZGxld2FyZVxuICogQGZ1bmN0aW9uIGNhY2hpbmdcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBMb2FkZXIsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICogbG9hZGVyLnVzZShtaWRkbGV3YXJlLmNhY2hpbmcpO1xuICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBDdXJyZW50IFJlc291cmNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0IC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FjaGluZyhyZXNvdXJjZSwgbmV4dCkge1xuICAgIC8vIGlmIGNhY2hlZCwgdGhlbiBzZXQgZGF0YSBhbmQgY29tcGxldGUgdGhlIHJlc291cmNlXG4gICAgaWYgKGNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICAgICAgcmVzb3VyY2UuZGF0YSA9IGNhY2hlW3Jlc291cmNlLnVybF07XG4gICAgICAgIHJlc291cmNlLmNvbXBsZXRlKCk7IC8vIG1hcmtzIHJlc291cmNlIGxvYWQgY29tcGxldGUgYW5kIHN0b3BzIHByb2Nlc3NpbmcgYmVmb3JlIG1pZGRsZXdhcmVzXG4gICAgfVxuICAgIC8vIGlmIG5vdCBjYWNoZWQsIHdhaXQgZm9yIGNvbXBsZXRlIGFuZCBzdG9yZSBpdCBpbiB0aGUgY2FjaGUuXG4gICAgZWxzZSB7XG4gICAgICAgIHJlc291cmNlLm9uQ29tcGxldGUub25jZSgoKSA9PiAoY2FjaGVbdGhpcy51cmxdID0gdGhpcy5kYXRhKSk7XG4gICAgfVxuXG4gICAgbmV4dCgpO1xufVxuIiwiaW1wb3J0IHBhcnNlVXJpIGZyb20gJ3BhcnNlLXVyaSc7XG5pbXBvcnQgU2lnbmFsIGZyb20gJ21pbmktc2lnbmFscyc7XG5cbi8vIHRlc3RzIGlmIENPUlMgaXMgc3VwcG9ydGVkIGluIFhIUiwgaWYgbm90IHdlIG5lZWQgdG8gdXNlIFhEUlxuY29uc3QgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gKG5ldyBYTUxIdHRwUmVxdWVzdCgpKSkpO1xubGV0IHRlbXBBbmNob3IgPSBudWxsO1xuXG4vLyBzb21lIHN0YXR1cyBjb25zdGFudHNcbmNvbnN0IFNUQVRVU19OT05FID0gMDtcbmNvbnN0IFNUQVRVU19PSyA9IDIwMDtcbmNvbnN0IFNUQVRVU19FTVBUWSA9IDIwNDtcbmNvbnN0IFNUQVRVU19JRV9CVUdfRU1QVFkgPSAxMjIzO1xuY29uc3QgU1RBVFVTX1RZUEVfT0sgPSAyO1xuXG4vLyBub29wXG5mdW5jdGlvbiBfbm9vcCgpIHsgLyogZW1wdHkgKi8gfVxuXG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIGEgcmVzb3VyY2UgYW5kIGFsbCBjaGlsZCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKi9cbmNsYXNzIFJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IGxvYWRUeXBlIC0gVGhlIGxvYWQgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAgICovXG4gICAgc3RhdGljIHNldEV4dGVuc2lvbkxvYWRUeXBlKGV4dG5hbWUsIGxvYWRUeXBlKSB7XG4gICAgICAgIHNldEV4dE1hcChSZXNvdXJjZS5fbG9hZFR5cGVNYXAsIGV4dG5hbWUsIGxvYWRUeXBlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAgICovXG4gICAgc3RhdGljIHNldEV4dGVuc2lvblhoclR5cGUoZXh0bmFtZSwgeGhyVHlwZSkge1xuICAgICAgICBzZXRFeHRNYXAoUmVzb3VyY2UuX3hoclR5cGVNYXAsIGV4dG5hbWUsIHhoclR5cGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIGZvciBhdWRpby92aWRlbyBsb2FkcyB5b3UgY2FuIHBhc3NcbiAgICAgKiAgICAgIGFuIGFycmF5IG9mIHNvdXJjZXMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSBbb3B0aW9ucy5jcm9zc09yaWdpbl0gLSBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBEZWZhdWx0IGlzIHRvXG4gICAgICogICAgICBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGltZW91dD0wXSAtIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSBsb2FkLiBJZiB0aGUgbG9hZCB0YWtlc1xuICAgICAqICAgICAgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXNcbiAgICAgKiAgICAgIHNldCB0byBgMGAgdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgICAqICAgICAgYmUgbG9hZGVkP1xuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5JTWV0YWRhdGF9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQm90aCBuYW1lIGFuZCB1cmwgYXJlIHJlcXVpcmVkIGZvciBjb25zdHJ1Y3RpbmcgYSByZXNvdXJjZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhdGUgZmxhZ3Mgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZmxhZ3MgPSAwO1xuXG4gICAgICAgIC8vIHNldCBkYXRhIHVybCBmbGFnLCBuZWVkcyB0byBiZSBzZXQgZWFybHkgZm9yIHNvbWUgX2RldGVybWluZVggY2hlY2tzIHRvIHdvcmsuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkRBVEFfVVJMLCB1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdXJsIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBleHRlbnNpb24gdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IHRoaXMuX2dldEV4dGVuc2lvbigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSB0aGF0IHdhcyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHthbnl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNyb3NzT3JpZ2luID0gb3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gdHJ1ZSA/ICdhbm9ueW1vdXMnIDogb3B0aW9ucy5jcm9zc09yaWdpbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzIGxvbmdlciB0aGFuIHRoaXMgdGltZVxuICAgICAgICAgKiBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzIHNldCB0byBgMGBcbiAgICAgICAgICogdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgfHwgMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1ldGhvZCBvZiBsb2FkaW5nIHRvIHVzZSBmb3IgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2UuTE9BRF9UWVBFfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2FkVHlwZSA9IG9wdGlvbnMubG9hZFR5cGUgfHwgdGhpcy5fZGV0ZXJtaW5lTG9hZFR5cGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgdXNlZCB0byBsb2FkIHRoZSByZXNvdXJjZSB2aWEgWEhSLiBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnhoclR5cGUgPSBvcHRpb25zLnhoclR5cGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4dHJhIGluZm8gZm9yIG1pZGRsZXdhcmUsIGFuZCBjb250cm9sbGluZyBzcGVjaWZpY3MgYWJvdXQgaG93IHRoZSByZXNvdXJjZSBsb2Fkcy5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZSB0aGF0IGlmIHlvdSBwYXNzIGluIGEgYGxvYWRFbGVtZW50YCwgdGhlIFJlc291cmNlIGNsYXNzIHRha2VzIG93bmVyc2hpcCBvZiBpdC5cbiAgICAgICAgICogTWVhbmluZyBpdCB3aWxsIG1vZGlmeSBpdCBhcyBpdCBzZWVzIGZpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2UuSU1ldGFkYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG9wdGlvbnMubWV0YWRhdGEgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBlcnJvciB0aGF0IG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgKGlmIGFueSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWEhSIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS4gVGhpcyBpcyBvbmx5IHNldFxuICAgICAgICAgKiB3aGVuIGBsb2FkVHlwZWAgaXMgYFJlc291cmNlLkxPQURfVFlQRS5YSFJgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7WE1MSHR0cFJlcXVlc3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnhociA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjaGlsZCByZXNvdXJjZXMgdGhpcyByZXNvdXJjZSBvd25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5UWVBFfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5VTktOT1dOO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJvZ3Jlc3MgY2h1bmsgb3duZWQgYnkgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NDaHVuayA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgZGVxdWV1ZWAgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIGFzeW5jIHF1ZXVlIGRlcXVldWUgbWV0aG9kXG4gICAgICAgICAqIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVxdWV1ZSA9IF9ub29wO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIG9uIGxvYWQgYmluZGluZyB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGltZXIgZm9yIGVsZW1lbnQgbG9hZHMgdG8gY2hlY2sgaWYgdGhleSB0aW1lb3V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYGNvbXBsZXRlYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZENvbXBsZXRlID0gdGhpcy5jb21wbGV0ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vbkVycm9yYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZE9uRXJyb3IgPSB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX29uUHJvZ3Jlc3NgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25Qcm9ncmVzcyA9IHRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25UaW1lb3V0YCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZE9uVGltZW91dCA9IHRoaXMuX29uVGltZW91dC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8vIHhociBjYWxsYmFja3NcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkVycm9yID0gdGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uVGltZW91dCA9IHRoaXMuX3hock9uVGltZW91dC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uQWJvcnQgPSB0aGlzLl94aHJPbkFib3J0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25Mb2FkID0gdGhpcy5feGhyT25Mb2FkLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcmVzb3VyY2UgYmVpbmdzIHRvIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblN0YXJ0U2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uU3RhcnRTaWduYWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblN0YXJ0ID0gbmV3IFNpZ25hbCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIGVhY2ggdGltZSBwcm9ncmVzcyBvZiB0aGlzIHJlc291cmNlIGxvYWQgdXBkYXRlcy5cbiAgICAgICAgICogTm90IGFsbCByZXNvdXJjZXMgdHlwZXMgYW5kIGxvYWRlciBzeXN0ZW1zIGNhbiBzdXBwb3J0IHRoaXMgZXZlbnRcbiAgICAgICAgICogc28gc29tZXRpbWVzIGl0IG1heSBub3QgYmUgYXZhaWxhYmxlLiBJZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgICogaXMgYmVpbmcgbG9hZGVkIG9uIGEgbW9kZXJuIGJyb3dzZXIsIHVzaW5nIFhIUiwgYW5kIHRoZSByZW1vdGUgc2VydmVyXG4gICAgICAgICAqIHByb3Blcmx5IHNldHMgQ29udGVudC1MZW5ndGggaGVhZGVycywgdGhlbiB0aGlzIHdpbGwgYmUgYXZhaWxhYmxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PblByb2dyZXNzU2lnbmFsPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qcm9ncmVzcyA9IG5ldyBTaWduYWwoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHRoaXMgcmVzb3VyY2UgaGFzIGxvYWRlZCwgaWYgdGhlcmUgd2FzIGFuIGVycm9yIGl0IHdpbGxcbiAgICAgICAgICogYmUgaW4gdGhlIGBlcnJvcmAgcHJvcGVydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IFNpZ25hbCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIGFmdGVyIHRoaXMgcmVzb3VyY2UgaGFzIGhhZCBhbGwgdGhlICphZnRlciogbWlkZGxld2FyZSBydW4gb24gaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkFmdGVyTWlkZGxld2FyZSA9IG5ldyBTaWduYWwoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSByZXBvcnRzIGxvYWRpbmcgcHJvZ3Jlc3MuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgICAqIEB0eXBlZGVmIHtvYmplY3R9IElNZXRhZGF0YVxuICAgICAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtsb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgICAqICAgICAgZWxlbWVudCB0byB1c2UgZm9yIGxvYWRpbmcsIGluc3RlYWQgb2YgY3JlYXRpbmcgb25lLlxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd8c3RyaW5nW119IFttaW1lVHlwZV0gLSBUaGUgbWltZSB0eXBlIHRvIHVzZSBmb3IgdGhlIHNvdXJjZSBlbGVtZW50XG4gICAgICogICAgICBvZiBhIHZpZGVvL2F1ZGlvIGVsbWVudC4gSWYgdGhlIHVybHMgYXJlIGFuIGFycmF5LCB5b3UgY2FuIHBhc3MgdGhpcyBhcyBhbiBhcnJheSBhcyB3ZWxsXG4gICAgICogICAgICB3aGVyZSBlYWNoIGluZGV4IGlzIHRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgY29ycmVzcG9uZGluZyB1cmwgaW5kZXguXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBTdG9yZXMgd2hldGhlciBvciBub3QgdGhpcyB1cmwgaXMgYSBkYXRhIHVybC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGlzRGF0YVVybCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkRBVEFfVVJMKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBoYXMgZmluaXNoZWQgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBoYXMgY29tcGxldGVseVxuICAgICAqIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGlzQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIGlmIHRoaXMgcmVzb3VyY2UgaXMgY3VycmVudGx5IGxvYWRpbmcuIElzIHRydWUgd2hlbiB0aGUgcmVzb3VyY2Ugc3RhcnRzIGxvYWRpbmcsXG4gICAgICogYW5kIGlzIGZhbHNlIGFnYWluIHdoZW4gY29tcGxldGUuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBpc0xvYWRpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXJrcyB0aGUgcmVzb3VyY2UgYXMgY29tcGxldGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBjb21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5fY2xlYXJFdmVudHMoKTtcbiAgICAgICAgdGhpcy5fZmluaXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gdXNlIGZvciB0aGUgZXJyb3JcbiAgICAgKi9cbiAgICBhYm9ydChtZXNzYWdlKSB7XG4gICAgICAgIC8vIGFib3J0IGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIGlnbm9yZSBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RvcmUgZXJyb3JcbiAgICAgICAgdGhpcy5lcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcblxuICAgICAgICAvLyBjbGVhciBldmVudHMgYmVmb3JlIGNhbGxpbmcgYWJvcnRzXG4gICAgICAgIHRoaXMuX2NsZWFyRXZlbnRzKCk7XG5cbiAgICAgICAgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG4gICAgICAgIGlmICh0aGlzLnhocikge1xuICAgICAgICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnhkcikge1xuICAgICAgICAgICAgdGhpcy54ZHIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IFJlc291cmNlLkVNUFRZX0dJRjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG11bHRpLXNvdXJjZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuZGF0YS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVDaGlsZCh0aGlzLmRhdGEuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG9uZSBub3cuXG4gICAgICAgIHRoaXMuX2ZpbmlzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEtpY2tzIG9mZiBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UuIFRoaXMgbWV0aG9kIGlzIGFzeW5jaHJvbm91cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NiXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHRvIGNhbGwgb25jZSB0aGUgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqL1xuICAgIGxvYWQoY2IpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGNiKHRoaXMpLCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNiKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HLCB0cnVlKTtcblxuICAgICAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG5cbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4gPT09IGZhbHNlIHx8IHR5cGVvZiB0aGlzLmNyb3NzT3JpZ2luICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHRoaXMuX2RldGVybWluZUNyb3NzT3JpZ2luKHRoaXMudXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGhpcy5sb2FkVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0U6XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkRWxlbWVudCgnaW1hZ2UnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU86XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5BVURJTztcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU86XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5WSURFTztcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSOlxuICAgICAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHVzZVhkciAmJiB0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRYZHIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRYaHIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBmbGFnIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgICAqL1xuICAgIF9oYXNGbGFnKGZsYWcpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIGZsYWcpICE9PSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIChVbilTZXRzIHRoZSBmbGFnLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBmbGFnIHRvICh1bilzZXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFdoZXRoZXIgdG8gc2V0IG9yICh1bilzZXQgdGhlIGZsYWcuXG4gICAgICovXG4gICAgX3NldEZsYWcoZmxhZywgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSB2YWx1ZSA/ICh0aGlzLl9mbGFncyB8IGZsYWcpIDogKHRoaXMuX2ZsYWdzICYgfmZsYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgdGhlIGV2ZW50cyBmcm9tIHRoZSB1bmRlcmx5aW5nIGxvYWRpbmcgc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2xlYXJFdmVudHMoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9lbGVtZW50VGltZXIpO1xuXG4gICAgICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnhocikge1xuICAgICAgICAgICAgaWYgKHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmFsaXplcyB0aGUgbG9hZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpbmlzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wbGV0ZSBjYWxsZWQgYWdhaW4gZm9yIGFuIGFscmVhZHkgY29tcGxldGVkIHJlc291cmNlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUsIHRydWUpO1xuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgYSBzaW5nbGUgc291cmNlLFxuICAgICAqIGxpa2UgYW4gSFRNTEltYWdlRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cbiAgICBfbG9hZEVsZW1lbnQodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnaW1hZ2UnICYmIHR5cGVvZiB3aW5kb3cuSW1hZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpbikge1xuICAgICAgICAgICAgdGhpcy5kYXRhLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gdGhpcy51cmw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuXG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fYm91bmRPblRpbWVvdXQsIHRoaXMudGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIG11bHRpcGxlIHNvdXJjZXMsXG4gICAgICogbGlrZSBhbiBIVE1MQXVkaW9FbGVtZW50IG9yIEhUTUxWaWRlb0VsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudCB0byB1c2UuXG4gICAgICovXG4gICAgX2xvYWRTb3VyY2VFbGVtZW50KHR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ2F1ZGlvJyAmJiB0eXBlb2Ygd2luZG93LkF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IEF1ZGlvKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydChgVW5zdXBwb3J0ZWQgZWxlbWVudDogJHt0eXBlfWApO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpbikge1xuICAgICAgICAgICAgdGhpcy5kYXRhLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAgICAgICAvLyBzdXBwb3J0IGZvciBDb2Nvb25KUyBDYW52YXMrIHJ1bnRpbWUsIGxhY2tzIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gQXJyYXkuaXNBcnJheSh0aGlzLnVybCkgPyB0aGlzLnVybFswXSA6IHRoaXMudXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnVybCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtaW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnVybC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmxbaV0sIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1tpXSA6IG1pbWVUeXBlcylcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtaW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmwsIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1swXSA6IG1pbWVUeXBlcylcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZGF0YS5sb2FkKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhNTEh0dHBSZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbG9hZFhocigpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB4aHIgPSB0aGlzLnhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIC8vIHNldCB0aGUgcmVxdWVzdCB0eXBlIGFuZCB1cmxcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTtcblxuICAgICAgICB4aHIudGltZW91dCA9IHRoaXMudGltZW91dDtcblxuICAgICAgICAvLyBsb2FkIGpzb24gYXMgdGV4dCBhbmQgcGFyc2UgaXQgb3Vyc2VsdmVzLiBXZSBkbyB0aGlzIGJlY2F1c2Ugc29tZSBicm93c2Vyc1xuICAgICAgICAvLyAqY291Z2gqIHNhZmFyaSAqY291Z2gqIGNhbid0IGRlYWwgd2l0aCBpdC5cbiAgICAgICAgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTiB8fCB0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLnhoclR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcblxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhEb21haW5SZXF1ZXN0LiBUaGlzIGlzIGhlcmUgYmVjYXVzZSB3ZSBuZWVkIHRvIHN1cHBvcnQgSUU5IChncm9zcykuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9sb2FkWGRyKCkge1xuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHhkciA9IHRoaXMueGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuICAgICAgICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmZXcgcXVpcmtzLiBPY2Nhc2lvbmFsbHkgaXQgd2lsbCBhYm9ydCByZXF1ZXN0c1xuICAgICAgICAvLyBBIHdheSB0byBhdm9pZCB0aGlzIGlzIHRvIG1ha2Ugc3VyZSBBTEwgY2FsbGJhY2tzIGFyZSBzZXQgZXZlbiBpZiBub3QgdXNlZFxuICAgICAgICAvLyBNb3JlIGluZm8gaGVyZTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNTc4Njk2Ni94ZG9tYWlucmVxdWVzdC1hYm9ydHMtcG9zdC1vbi1pZS05XG4gICAgICAgIHhkci50aW1lb3V0ID0gdGhpcy50aW1lb3V0IHx8IDUwMDA7IC8vIFhEUiBuZWVkcyBhIHRpbWVvdXQgdmFsdWUgb3IgaXQgYnJlYWtzIGluIElFOVxuXG4gICAgICAgIHhkci5vbmVycm9yID0gdGhpcy5fYm91bmRYaHJPbkVycm9yO1xuICAgICAgICB4ZHIub250aW1lb3V0ID0gdGhpcy5fYm91bmRYaHJPblRpbWVvdXQ7XG4gICAgICAgIHhkci5vbnByb2dyZXNzID0gdGhpcy5fYm91bmRPblByb2dyZXNzO1xuICAgICAgICB4ZHIub25sb2FkID0gdGhpcy5fYm91bmRYaHJPbkxvYWQ7XG5cbiAgICAgICAgeGRyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTtcblxuICAgICAgICAvLyBOb3RlOiBUaGUgeGRyLnNlbmQoKSBjYWxsIGlzIHdyYXBwZWQgaW4gYSB0aW1lb3V0IHRvIHByZXZlbnQgYW5cbiAgICAgICAgLy8gaXNzdWUgd2l0aCB0aGUgaW50ZXJmYWNlIHdoZXJlIHNvbWUgcmVxdWVzdHMgYXJlIGxvc3QgaWYgbXVsdGlwbGVcbiAgICAgICAgLy8gWERvbWFpblJlcXVlc3RzIGFyZSBiZWluZyBzZW50IGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgICAgIC8vIFNvbWUgaW5mbyBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vcGhvdG9uc3Rvcm0vcGhhc2VyL2lzc3Vlcy8xMjQ4XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geGRyLnNlbmQoKSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNvdXJjZSB1c2VkIGluIGxvYWRpbmcgdmlhIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGVsZW1lbnQgdHlwZSAodmlkZW8gb3IgYXVkaW8pLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgc291cmNlIFVSTCB0byBsb2FkIGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFttaW1lXSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHZpZGVvXG4gICAgICogQHJldHVybiB7SFRNTFNvdXJjZUVsZW1lbnR9IFRoZSBzb3VyY2UgZWxlbWVudC5cbiAgICAgKi9cbiAgICBfY3JlYXRlU291cmNlKHR5cGUsIHVybCwgbWltZSkge1xuICAgICAgICBpZiAoIW1pbWUpIHtcbiAgICAgICAgICAgIG1pbWUgPSBgJHt0eXBlfS8ke3RoaXMuX2dldEV4dGVuc2lvbih1cmwpfWA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcblxuICAgICAgICBzb3VyY2Uuc3JjID0gdXJsO1xuICAgICAgICBzb3VyY2UudHlwZSA9IG1pbWU7XG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSBsb2FkIGVycm9ycyBvdXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBlcnJvciBldmVudCBmcm9tIHRoZSBlbGVtZW50IHRoYXQgZW1pdHMgaXQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25FcnJvcihldmVudCkge1xuICAgICAgICB0aGlzLmFib3J0KGBGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiAke2V2ZW50LnRhcmdldC5ub2RlTmFtZX1gKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSBsb2FkIHByb2dyZXNzIGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50IG9yIHhoci94ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RQcm9ncmVzc0V2ZW50fEV2ZW50fSBldmVudCAtIFByb2dyZXNzIGV2ZW50LlxuICAgICAqL1xuICAgIF9vblByb2dyZXNzKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MuZGlzcGF0Y2godGhpcywgZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgdGltZW91dCBldmVudCBmaXJlcyBmb3IgYW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uVGltZW91dCgpIHtcbiAgICAgICAgdGhpcy5hYm9ydChgTG9hZCB0aW1lZCBvdXQuYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGVycm9yIGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfeGhyT25FcnJvcigpIHtcbiAgICAgICAgY29uc3QgeGhyID0gdGhpcy54aHI7XG5cbiAgICAgICAgdGhpcy5hYm9ydChgJHtyZXFUeXBlKHhocil9IFJlcXVlc3QgZmFpbGVkLiBTdGF0dXM6ICR7eGhyLnN0YXR1c30sIHRleHQ6IFwiJHt4aHIuc3RhdHVzVGV4dH1cImApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3hock9uVGltZW91dCgpIHtcbiAgICAgICAgY29uc3QgeGhyID0gdGhpcy54aHI7XG5cbiAgICAgICAgdGhpcy5hYm9ydChgJHtyZXFUeXBlKHhocil9IFJlcXVlc3QgdGltZWQgb3V0LmApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhbiBhYm9ydCBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3hock9uQWJvcnQoKSB7XG4gICAgICAgIGNvbnN0IHhociA9IHRoaXMueGhyO1xuXG4gICAgICAgIHRoaXMuYWJvcnQoYCR7cmVxVHlwZSh4aHIpfSBSZXF1ZXN0IHdhcyBhYm9ydGVkIGJ5IHRoZSB1c2VyLmApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGRhdGEgc3VjY2Vzc2Z1bGx5IGxvYWRzIGZyb20gYW4geGhyL3hkciByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0TG9hZEV2ZW50fEV2ZW50fSBldmVudCAtIExvYWQgZXZlbnRcbiAgICAgKi9cbiAgICBfeGhyT25Mb2FkKCkge1xuICAgICAgICBjb25zdCB4aHIgPSB0aGlzLnhocjtcbiAgICAgICAgbGV0IHRleHQgPSAnJztcbiAgICAgICAgbGV0IHN0YXR1cyA9IHR5cGVvZiB4aHIuc3RhdHVzID09PSAndW5kZWZpbmVkJyA/IFNUQVRVU19PSyA6IHhoci5zdGF0dXM7IC8vIFhEUiBoYXMgbm8gYC5zdGF0dXNgLCBhc3N1bWUgMjAwLlxuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaWYgKHhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHhoci5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCB0eXBlb2YgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RhdHVzIGNhbiBiZSAwIHdoZW4gdXNpbmcgdGhlIGBmaWxlOi8vYCBwcm90b2NvbCBzbyB3ZSBhbHNvIGNoZWNrIGlmIGEgcmVzcG9uc2UgaXMgc2V0LlxuICAgICAgICAvLyBJZiBpdCBoYXMgYSByZXNwb25zZSwgd2UgYXNzdW1lIDIwMDsgb3RoZXJ3aXNlIGEgMCBzdGF0dXMgY29kZSB3aXRoIG5vIGNvbnRlbnRzIGlzIGFuIGFib3J0ZWQgcmVxdWVzdC5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX05PTkUgJiYgKHRleHQubGVuZ3RoID4gMCB8fCB4aHIucmVzcG9uc2VUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfT0s7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICAgICAgICBlbHNlIGlmIChzdGF0dXMgPT09IFNUQVRVU19JRV9CVUdfRU1QVFkpIHtcbiAgICAgICAgICAgIHN0YXR1cyA9IFNUQVRVU19FTVBUWTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXR1c1R5cGUgPSAoc3RhdHVzIC8gMTAwKSB8IDA7XG5cbiAgICAgICAgaWYgKHN0YXR1c1R5cGUgPT09IFNUQVRVU19UWVBFX09LKSB7XG4gICAgICAgICAgICAvLyBpZiB0ZXh0LCBqdXN0IHJldHVybiBpdFxuICAgICAgICAgICAgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5URVhUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYganNvbiwgcGFyc2UgaW50byBqc29uIG9iamVjdFxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5KU09OO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFib3J0KGBFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIGpzb246ICR7ZX1gKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgeG1sLCBwYXJzZSBpbnRvIGFuIHhtbCBkb2N1bWVudCBvciBkaXYgZWxlbWVudFxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuRE9NUGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb21wYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvbXBhcnNlci5wYXJzZUZyb21TdHJpbmcodGV4dCwgJ3RleHQveG1sJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IHRleHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRpdjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuWE1MO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFib3J0KGBFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIHhtbDogJHtlfWApO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvdGhlciB0eXBlcyBqdXN0IHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZSB8fCB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hYm9ydChgWyR7eGhyLnN0YXR1c31dICR7eGhyLnN0YXR1c1RleHR9OiAke3hoci5yZXNwb25zZVVSTH1gKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICAgICAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICAgICAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICAgICAqL1xuICAgIF9kZXRlcm1pbmVDcm9zc09yaWdpbih1cmwsIGxvYykge1xuICAgICAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgICAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEEgc2FuZGJveGVkIGlmcmFtZSB3aXRob3V0IHRoZSAnYWxsb3ctc2FtZS1vcmlnaW4nIGF0dHJpYnV0ZSB3aWxsIGhhdmUgYSBzcGVjaWFsXG4gICAgICAgIC8vIG9yaWdpbiBkZXNpZ25lZCBub3QgdG8gbWF0Y2ggd2luZG93LmxvY2F0aW9uLm9yaWdpbiwgYW5kIHdpbGwgYWx3YXlzIHJlcXVpcmVcbiAgICAgICAgLy8gY3Jvc3NPcmlnaW4gcmVxdWVzdHMgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBsb2NhdGlvbiBtYXRjaGVzLlxuICAgICAgICBpZiAod2luZG93Lm9yaWdpbiAhPT0gd2luZG93LmxvY2F0aW9uLm9yaWdpbikge1xuICAgICAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICAgICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgICAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgICAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgICAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAgICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICAgICAgdXJsID0gcGFyc2VVcmkodGVtcEFuY2hvci5ocmVmLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG5cbiAgICAgICAgY29uc3Qgc2FtZVBvcnQgPSAoIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJykgfHwgKHVybC5wb3J0ID09PSBsb2MucG9ydCk7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gdXJsLnByb3RvY29sID8gYCR7dXJsLnByb3RvY29sfTpgIDogJyc7XG5cbiAgICAgICAgLy8gaWYgY3Jvc3Mgb3JpZ2luXG4gICAgICAgIGlmICh1cmwuaG9zdCAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgcmVzcG9uc2VUeXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gVGhlIHJlc3BvbnNlVHlwZSB0byB1c2UuXG4gICAgICovXG4gICAgX2RldGVybWluZVhoclR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSZXNvdXJjZS5feGhyVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBsb2FkVHlwZSBvZiBhIHJlc291cmNlIGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFRoZSBsb2FkVHlwZSB0byB1c2UuXG4gICAgICovXG4gICAgX2RldGVybWluZUxvYWRUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmVzb3VyY2UuX2xvYWRUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSBleHRlbnNpb24gKHNhbnMgJy4nKSBvZiB0aGUgZmlsZSBiZWluZyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBleHRlbnNpb24uXG4gICAgICovXG4gICAgX2dldEV4dGVuc2lvbigpIHtcbiAgICAgICAgbGV0IHVybCA9IHRoaXMudXJsO1xuICAgICAgICBsZXQgZXh0ID0gJyc7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNEYXRhVXJsKSB7XG4gICAgICAgICAgICBjb25zdCBzbGFzaEluZGV4ID0gdXJsLmluZGV4T2YoJy8nKTtcblxuICAgICAgICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyhzbGFzaEluZGV4ICsgMSwgdXJsLmluZGV4T2YoJzsnLCBzbGFzaEluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc2hTdGFydCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIHF1ZXJ5U3RhcnQgPiAtMSA/IHF1ZXJ5U3RhcnQgOiB1cmwubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGhhc2hTdGFydCA+IC0xID8gaGFzaFN0YXJ0IDogdXJsLmxlbmd0aFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdXJsID0gdXJsLnN1YnN0cmluZygwLCBpbmRleCk7XG4gICAgICAgICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgbWltZSB0eXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSByZXNwb25zZVR5cGUgb2ZcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHR5cGUgLSBUaGUgdHlwZSB0byBnZXQgYSBtaW1lIHR5cGUgZm9yLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG1pbWUgdHlwZSB0byB1c2UuXG4gICAgICovXG4gICAgX2dldE1pbWVGcm9tWGhyVHlwZSh0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnknO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0I6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9ibG9iJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL3htbCc7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFQ6XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ6XG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RleHQvcGxhaW4nO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5SZXNvdXJjZS5TVEFUVVNfRkxBR1MgPSB7XG4gICAgTk9ORTogICAgICAgMCxcbiAgICBEQVRBX1VSTDogICAoMSA8PCAwKSxcbiAgICBDT01QTEVURTogICAoMSA8PCAxKSxcbiAgICBMT0FESU5HOiAgICAoMSA8PCAyKSxcbn07XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblJlc291cmNlLlRZUEUgPSB7XG4gICAgVU5LTk9XTjogICAgMCxcbiAgICBKU09OOiAgICAgICAxLFxuICAgIFhNTDogICAgICAgIDIsXG4gICAgSU1BR0U6ICAgICAgMyxcbiAgICBBVURJTzogICAgICA0LFxuICAgIFZJREVPOiAgICAgIDUsXG4gICAgVEVYVDogICAgICAgNixcbn07XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIGxvYWRpbmcgYSByZXNvdXJjZSBjYW4gdXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuTE9BRF9UWVBFID0ge1xuICAgIC8qKiBVc2VzIFhNTEh0dHBSZXF1ZXN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIFhIUjogICAgMSxcbiAgICAvKiogVXNlcyBhbiBgSW1hZ2VgIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBJTUFHRTogIDIsXG4gICAgLyoqIFVzZXMgYW4gYEF1ZGlvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgQVVESU86ICAzLFxuICAgIC8qKiBVc2VzIGEgYFZpZGVvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgVklERU86ICA0LFxufTtcblxuLyoqXG4gKiBUaGUgWEhSIHJlYWR5IHN0YXRlcywgdXNlZCBpbnRlcm5hbGx5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUgPSB7XG4gICAgLyoqIHN0cmluZyAqL1xuICAgIERFRkFVTFQ6ICAgICd0ZXh0JyxcbiAgICAvKiogQXJyYXlCdWZmZXIgKi9cbiAgICBCVUZGRVI6ICAgICAnYXJyYXlidWZmZXInLFxuICAgIC8qKiBCbG9iICovXG4gICAgQkxPQjogICAgICAgJ2Jsb2InLFxuICAgIC8qKiBEb2N1bWVudCAqL1xuICAgIERPQ1VNRU5UOiAgICdkb2N1bWVudCcsXG4gICAgLyoqIE9iamVjdCAqL1xuICAgIEpTT046ICAgICAgICdqc29uJyxcbiAgICAvKiogU3RyaW5nICovXG4gICAgVEVYVDogICAgICAgJ3RleHQnLFxufTtcblxuUmVzb3VyY2UuX2xvYWRUeXBlTWFwID0ge1xuICAgIC8vIGltYWdlc1xuICAgIGdpZjogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBwbmc6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgYm1wOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIGpwZzogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBqcGVnOiAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHRpZmY6ICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB3ZWJwOiAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGdhOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHN2ZzogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAnc3ZnK3htbCc6ICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsIC8vIGZvciBTVkcgZGF0YSB1cmxzXG5cbiAgICAvLyBhdWRpb1xuICAgIG1wMzogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgICBvZ2c6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgd2F2OiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuXG4gICAgLy8gdmlkZW9zXG4gICAgbXA0OiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPLFxuICAgIHdlYm06ICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5WSURFTyxcbn07XG5cblJlc291cmNlLl94aHJUeXBlTWFwID0ge1xuICAgIC8vIHhtbFxuICAgIHhodG1sOiAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIGh0bWw6ICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIGh0bTogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIHhtbDogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIHRteDogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIHN2ZzogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gVGhpcyB3YXMgYWRkZWQgdG8gaGFuZGxlIFRpbGVkIFRpbGVzZXQgWE1MLCBidXQgLnRzeCBpcyBhbHNvIGEgVHlwZVNjcmlwdCBSZWFjdCBDb21wb25lbnQuXG4gICAgLy8gU2luY2UgaXQgaXMgd2F5IGxlc3MgbGlrZWx5IGZvciBwZW9wbGUgdG8gYmUgbG9hZGluZyBUeXBlU2NyaXB0IGZpbGVzIGluc3RlYWQgb2YgVGlsZWQgZmlsZXMsXG4gICAgLy8gdGhpcyBzaG91bGQgcHJvYmFibHkgYmUgZmluZS5cbiAgICB0c3g6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcblxuICAgIC8vIGltYWdlc1xuICAgIGdpZjogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgcG5nOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBibXA6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGpwZzogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAganBlZzogICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB0aWY6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRpZmY6ICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgd2VicDogICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB0Z2E6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuXG4gICAgLy8ganNvblxuICAgIGpzb246ICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04sXG5cbiAgICAvLyB0ZXh0XG4gICAgdGV4dDogICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcbiAgICB0eHQ6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuXG4gICAgLy8gZm9udHNcbiAgICB0dGY6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG4gICAgb3RmOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSLFxufTtcblxuLy8gV2UgY2FuJ3Qgc2V0IHRoZSBgc3JjYCBhdHRyaWJ1dGUgdG8gZW1wdHkgc3RyaW5nLCBzbyBvbiBhYm9ydCB3ZSBzZXQgaXQgdG8gdGhpcyAxcHggdHJhbnNwYXJlbnQgZ2lmXG5SZXNvdXJjZS5FTVBUWV9HSUYgPSAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBUC8vL3dBQUFDSDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3c9PSc7XG5cbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIHNldCBhIHZhbHVlIG9uIG9uZSBvZiB0aGUgZXh0ZW5zaW9uIG1hcHMuIEVuc3VyZXMgdGhlcmUgaXMgbm9cbiAqIGRvdCBhdCB0aGUgc3RhcnQgb2YgdGhlIGV4dGVuc2lvbi5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge29iamVjdH0gbWFwIC0gVGhlIG1hcCB0byBzZXQgb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gKG9yIGtleSkgdG8gc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCAtIFRoZSB2YWx1ZSB0byBzZXQuXG4gKi9cbmZ1bmN0aW9uIHNldEV4dE1hcChtYXAsIGV4dG5hbWUsIHZhbCkge1xuICAgIGlmIChleHRuYW1lICYmIGV4dG5hbWUuaW5kZXhPZignLicpID09PSAwKSB7XG4gICAgICAgIGV4dG5hbWUgPSBleHRuYW1lLnN1YnN0cmluZygxKTtcbiAgICB9XG5cbiAgICBpZiAoIWV4dG5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1hcFtleHRuYW1lXSA9IHZhbDtcbn1cblxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gZ2V0IHN0cmluZyB4aHIgdHlwZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fFhEb21haW5SZXF1ZXN0fSB4aHIgLSBUaGUgcmVxdWVzdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIHJlcVR5cGUoeGhyKSB7XG4gICAgcmV0dXJuIHhoci50b1N0cmluZygpLnJlcGxhY2UoJ29iamVjdCAnLCAnJyk7XG59XG5cbmV4cG9ydCB7IFJlc291cmNlIH07XG4iLCJjb25zdCBfa2V5U3RyID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcblxuLyoqXG4gKiBFbmNvZGVzIGJpbmFyeSBpbnRvIGJhc2U2NC5cbiAqXG4gKiBAZnVuY3Rpb24gZW5jb2RlQmluYXJ5XG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgVGhlIGlucHV0IGRhdGEgdG8gZW5jb2RlLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgYmFzZTY0IHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlQmluYXJ5KGlucHV0KSB7XG4gICAgbGV0IG91dHB1dCA9ICcnO1xuICAgIGxldCBpbnggPSAwO1xuXG4gICAgd2hpbGUgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAvLyBGaWxsIGJ5dGUgYnVmZmVyIGFycmF5XG4gICAgICAgIGNvbnN0IGJ5dGVidWZmZXIgPSBbMCwgMCwgMF07XG4gICAgICAgIGNvbnN0IGVuY29kZWRDaGFySW5kZXhlcyA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICBmb3IgKGxldCBqbnggPSAwOyBqbnggPCBieXRlYnVmZmVyLmxlbmd0aDsgKytqbngpIHtcbiAgICAgICAgICAgIGlmIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IGlucHV0LmNoYXJDb2RlQXQoaW54KyspICYgMHhmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgZWFjaCBlbmNvZGVkIGNoYXJhY3RlciwgNiBiaXRzIGF0IGEgdGltZVxuICAgICAgICAvLyBpbmRleCAxOiBmaXJzdCA2IGJpdHNcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzBdID0gYnl0ZWJ1ZmZlclswXSA+PiAyO1xuXG4gICAgICAgIC8vIGluZGV4IDI6IHNlY29uZCA2IGJpdHMgKDIgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMSArIDQgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAyKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMV0gPSAoKGJ5dGVidWZmZXJbMF0gJiAweDMpIDw8IDQpIHwgKGJ5dGVidWZmZXJbMV0gPj4gNCk7XG5cbiAgICAgICAgLy8gaW5kZXggMzogdGhpcmQgNiBiaXRzICg0IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDIgKyAyIG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMylcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gKChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMikgfCAoYnl0ZWJ1ZmZlclsyXSA+PiA2KTtcblxuICAgICAgICAvLyBpbmRleCAzOiBmb3J0aCA2IGJpdHMgKDYgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMylcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gYnl0ZWJ1ZmZlclsyXSAmIDB4M2Y7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgcGFkZGluZyBoYXBwZW5lZCwgYW5kIGFkanVzdCBhY2NvcmRpbmdseVxuICAgICAgICBjb25zdCBwYWRkaW5nQnl0ZXMgPSBpbnggLSAoaW5wdXQubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgc3dpdGNoIChwYWRkaW5nQnl0ZXMpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAvLyBTZXQgbGFzdCAyIGNoYXJhY3RlcnMgdG8gcGFkZGluZyBjaGFyXG4gICAgICAgICAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgICAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gNjQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAvLyBTZXQgbGFzdCBjaGFyYWN0ZXIgdG8gcGFkZGluZyBjaGFyXG4gICAgICAgICAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIE5vIHBhZGRpbmcgLSBwcm9jZWVkXG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3cgd2Ugd2lsbCBncmFiIGVhY2ggYXBwcm9wcmlhdGUgY2hhcmFjdGVyIG91dCBvZiBvdXIga2V5c3RyaW5nXG4gICAgICAgIC8vIGJhc2VkIG9uIG91ciBpbmRleCBhcnJheSBhbmQgYXBwZW5kIGl0IHRvIHRoZSBvdXRwdXQgc3RyaW5nXG4gICAgICAgIGZvciAobGV0IGpueCA9IDA7IGpueCA8IGVuY29kZWRDaGFySW5kZXhlcy5sZW5ndGg7ICsram54KSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gX2tleVN0ci5jaGFyQXQoZW5jb2RlZENoYXJJbmRleGVzW2pueF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbiIsImltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAnLi4vUmVzb3VyY2UnO1xuaW1wb3J0IHsgZW5jb2RlQmluYXJ5IH0gZnJvbSAnLi4vZW5jb2RlQmluYXJ5JztcblxuY29uc3QgVXJsID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuXG4vKipcbiAqIEEgbWlkZGxld2FyZSBmb3IgdHJhbnNmb3JtaW5nIFhIUiBsb2FkZWQgQmxvYnMgaW50byBtb3JlIHVzZWZ1bCBvYmplY3RzXG4gKlxuICogQG1lbWJlcm9mIG1pZGRsZXdhcmVcbiAqIEBmdW5jdGlvbiBwYXJzaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5wYXJzaW5nKTtcbiAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gQ3VycmVudCBSZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dCAtIENhbGxiYWNrIHdoZW4gY29tcGxldGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNpbmcocmVzb3VyY2UsIG5leHQpIHtcbiAgICBpZiAoIXJlc291cmNlLmRhdGEpIHtcbiAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGlzIHdhcyBhbiBYSFIgbG9hZCBvZiBhIGJsb2JcbiAgICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IpIHtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gYmxvYiBzdXBwb3J0IHdlIHByb2JhYmx5IGdvdCBhIGJpbmFyeSBzdHJpbmcgYmFja1xuICAgICAgICBpZiAoIXdpbmRvdy5CbG9iIHx8IHR5cGVvZiByZXNvdXJjZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHJlc291cmNlLnhoci5nZXRSZXNwb25zZUhlYWRlcignY29udGVudC10eXBlJyk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gaW1hZ2UsIGNvbnZlcnQgdGhlIGJpbmFyeSBzdHJpbmcgaW50byBhIGRhdGEgdXJsXG4gICAgICAgICAgICBpZiAodHlwZSAmJiB0eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBgZGF0YToke3R5cGV9O2Jhc2U2NCwke2VuY29kZUJpbmFyeShyZXNvdXJjZS54aHIucmVzcG9uc2VUZXh0KX1gO1xuXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7XG5cbiAgICAgICAgICAgICAgICAvLyB3YWl0IHVudGlsIHRoZSBpbWFnZSBsb2FkcyBhbmQgdGhlbiBjYWxsYmFja1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgY29udGVudCB0eXBlIHNheXMgdGhpcyBpcyBhbiBpbWFnZSwgdGhlbiB3ZSBzaG91bGQgdHJhbnNmb3JtIHRoZSBibG9iIGludG8gYW4gSW1hZ2Ugb2JqZWN0XG4gICAgICAgIGVsc2UgaWYgKHJlc291cmNlLmRhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBzcmMgPSBVcmwuY3JlYXRlT2JqZWN0VVJMKHJlc291cmNlLmRhdGEpO1xuXG4gICAgICAgICAgICByZXNvdXJjZS5ibG9iID0gcmVzb3VyY2UuZGF0YTtcbiAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gc3JjO1xuXG4gICAgICAgICAgICByZXNvdXJjZS50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTtcblxuICAgICAgICAgICAgLy8gY2xlYW51cCB0aGUgbm8gbG9uZ2VyIHVzZWQgYmxvYiBhZnRlciB0aGUgaW1hZ2UgbG9hZHNcbiAgICAgICAgICAgIC8vIFRPRE86IElzIHRoaXMgY29ycmVjdD8gV2lsbCB0aGUgaW1hZ2UgYmUgaW52YWxpZCBhZnRlciByZXZva2luZz9cbiAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIFVybC5yZXZva2VPYmplY3RVUkwoc3JjKTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWQuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0KCk7XG59XG4iLCJpbXBvcnQgU2lnbmFsIGZyb20gJ21pbmktc2lnbmFscyc7XG5pbXBvcnQgcGFyc2VVcmkgZnJvbSAncGFyc2UtdXJpJztcbmltcG9ydCAqIGFzIGFzeW5jIGZyb20gJy4vYXN5bmMnO1xuaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tICcuL1Jlc291cmNlJztcblxuLy8gc29tZSBjb25zdGFudHNcbmNvbnN0IE1BWF9QUk9HUkVTUyA9IDEwMDtcbmNvbnN0IHJneEV4dHJhY3RVcmxIYXNoID0gLygjW1xcdy1dKyk/JC87XG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgbXVsdGlwbGUgcmVzb3VyY2VzIHRvIGxvYWQuXG4gKlxuICogQGNsYXNzXG4gKi9cbmNsYXNzIExvYWRlciB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiYXNlVXJsPScnXSAtIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihiYXNlVXJsID0gJycsIGNvbmN1cnJlbmN5ID0gMTApIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm9ncmVzcyBwZXJjZW50IG9mIHRoZSBsb2FkZXIgZ29pbmcgdGhyb3VnaCB0aGUgcXVldWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvYWRpbmcgc3RhdGUgb2YgdGhlIGxvYWRlciwgdHJ1ZSBpZiBpdCBpcyBjdXJyZW50bHkgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBxdWVyeXN0cmluZyB0byBhcHBlbmQgdG8gZXZlcnkgVVJMIGFkZGVkIHRvIHRoZSBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgc2hvdWxkIGJlIGEgdmFsaWQgcXVlcnkgc3RyaW5nICp3aXRob3V0KiB0aGUgcXVlc3Rpb24tbWFyayAoYD9gKS4gVGhlIGxvYWRlciB3aWxsXG4gICAgICAgICAqIGFsc28gKm5vdCogZXNjYXBlIHZhbHVlcyBmb3IgeW91LiBNYWtlIHN1cmUgdG8gZXNjYXBlIHlvdXIgcGFyYW1ldGVycyB3aXRoXG4gICAgICAgICAqIFtgZW5jb2RlVVJJQ29tcG9uZW50YF0oaHR0cHM6Ly9tZG4uaW8vZW5jb2RlVVJJQ29tcG9uZW50KSBiZWZvcmUgYXNzaWduaW5nIHRoaXMgcHJvcGVydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogbG9hZGVyLmRlZmF1bHRRdWVyeVN0cmluZyA9ICd1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCc7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIFRoaXMgd2lsbCByZXF1ZXN0ICdpbWFnZS5wbmc/dXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICAgICAqIGxvYWRlci5hZGQoJ2ltYWdlLnBuZycpLmxvYWQoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogbG9hZGVyLnJlc2V0KCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIFRoaXMgd2lsbCByZXF1ZXN0ICdpbWFnZS5wbmc/dj0xJnVzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAgICAgKiBsb2FkZXIuYWRkKCdpYW1nZS5wbmc/dj0xJykubG9hZCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICcnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZyA9ICcnO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhY2tzIHRoZSByZXNvdXJjZXMgd2UgYXJlIGN1cnJlbnRseSBjb21wbGV0aW5nIHBhcnNpbmcgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9sb2FkUmVzb3VyY2VgIGZ1bmN0aW9uIGJvdW5kIHdpdGggdGhpcyBvYmplY3QgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHIgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZFxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkIC0gVGhlIGRlcXVldWUgZnVuY3Rpb25cbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRMb2FkUmVzb3VyY2UgPSAociwgZCkgPT4gdGhpcy5fbG9hZFJlc291cmNlKHIsIGQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2VzIHdhaXRpbmcgdG8gYmUgbG9hZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcXVldWUgPSBhc3luYy5xdWV1ZSh0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSwgY29uY3VycmVuY3kpO1xuXG4gICAgICAgIHRoaXMuX3F1ZXVlLnBhdXNlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCB0aGUgcmVzb3VyY2VzIGZvciB0aGlzIGxvYWRlciBrZXllZCBieSBuYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8c3RyaW5nLCBSZXNvdXJjZT59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCBvciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uUHJvZ3Jlc3NTaWduYWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25FcnJvclNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25FcnJvclNpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uTG9hZFNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Mb2FkU2lnbmFsPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Mb2FkID0gbmV3IFNpZ25hbCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIGxvYWRlciBiZWdpbnMgdG8gcHJvY2VzcyB0aGUgcXVldWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25TdGFydFNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25TdGFydFNpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTtcblxuICAgICAgICAvLyBBZGQgZGVmYXVsdCBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IExvYWRlci5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMucHJlKExvYWRlci5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmVbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGRlZmF1bHQgYWZ0ZXIgbWlkZGxld2FyZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy51c2UoTG9hZGVyLl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHByb2dyZXNzIGNoYW5nZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgcHJvZ3Jlc3MgaXMgYWR2YW5jaW5nIG9uLlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgaGFzIGNvbXBsZXRlZCBvciBmYWlsZWQgdG8gY2F1c2UgdGhlIHByb2dyZXNzIHRvIGFkdmFuY2UuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGFuIGVycm9yIG9jY3VycnMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICogQGNhbGxiYWNrIE9uRXJyb3JTaWduYWxcbiAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgZXJyb3IgaGFwcGVuZWQgaW4uXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogV2hlbiBhIGxvYWQgY29tcGxldGVzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAqIEBjYWxsYmFjayBPbkxvYWRTaWduYWxcbiAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGxhb2RlZCB0aGUgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIGxvYWRpbmcuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBsb2FkZXIgc3RhcnRzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIHN0YXJ0ZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBsb2FkZXIgY29tcGxldGVzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIGZpbmlzaGVkIGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9ucyBmb3IgYSBjYWxsIHRvIGAuYWRkKClgLlxuICAgICAqXG4gICAgICogQHNlZSBMb2FkZXIjYWRkXG4gICAgICpcbiAgICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBJQWRkT3B0aW9uc1xuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZCwgaWYgbm90IHBhc3NlZCB0aGUgdXJsIGlzIHVzZWQuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIC0gQWxpYXMgZm9yIGBuYW1lYC5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xib29sZWFufSBbY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgICAqICAgICAgZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtsb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgICAqICAgICAgYmUgbG9hZGVkP1xuICAgICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFt4aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93XG4gICAgICogICAgICBzaG91bGQgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW29uQ29tcGxldGVdIC0gQ2FsbGJhY2sgdG8gYWRkIGFuIGFuIG9uQ29tcGxldGUgc2lnbmFsIGlzdGVuZXIuXG4gICAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gQWxpYXMgZm9yIGBvbkNvbXBsZXRlYC5cbiAgICAgKiBAcHJvcGVydHkge1Jlc291cmNlLklNZXRhZGF0YX0gW21ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICovXG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSByZXF1aXJlLWpzZG9jLHZhbGlkLWpzZG9jICovXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHJlc291cmNlIChvciBtdWx0aXBsZSByZXNvdXJjZXMpIHRvIHRoZSBsb2FkZXIgcXVldWUuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiB0YWtlIGEgd2lkZSB2YXJpZXR5IG9mIGRpZmZlcmVudCBwYXJhbWV0ZXJzLiBUaGUgb25seSB0aGluZyB0aGF0IGlzIGFsd2F5c1xuICAgICAqIHJlcXVpcmVkIHRoZSB1cmwgdG8gbG9hZC4gQWxsIHRoZSBmb2xsb3dpbmcgd2lsbCB3b3JrOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBsb2FkZXJcbiAgICAgKiAgICAgLy8gbm9ybWFsIHBhcmFtIHN5bnRheFxuICAgICAqICAgICAuYWRkKCdrZXknLCAnaHR0cDovLy4uLicsIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nKVxuICAgICAqXG4gICAgICogICAgIC8vIG9iamVjdCBzeW50YXhcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICBuYW1lOiAna2V5MicsXG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICBuYW1lOiAna2V5MycsXG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge31cbiAgICAgKiAgICAgfSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICB1cmw6ICdodHRwczovLy4uLicsXG4gICAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgKiAgICAgICAgIGNyb3NzT3JpZ2luOiB0cnVlXG4gICAgICogICAgIH0pXG4gICAgICpcbiAgICAgKiAgICAgLy8geW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzIG9yIGJvdGhcbiAgICAgKiAgICAgLmFkZChbXG4gICAgICogICAgICAgICB7IG5hbWU6ICdrZXk0JywgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAgICogICAgICAgICB7IHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgICAqICAgICAgICAgJ2h0dHA6Ly8uLi4nXG4gICAgICogICAgIF0pXG4gICAgICpcbiAgICAgKiAgICAgLy8gYW5kIHlvdSBjYW4gdXNlIGJvdGggcGFyYW1zIGFuZCBvcHRpb25zXG4gICAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHZhcmlhdGlvbiAxXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHZhcmlhdGlvbiAyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqLy8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEB2YXJpYXRpb24gM1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi8vKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAdmFyaWF0aW9uIDRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqLy8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEB2YXJpYXRpb24gNVxuICAgICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuIFRoaXMgb2JqZWN0IG11c3QgY29udGFpbiBhIGB1cmxgIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqLy8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEB2YXJpYXRpb24gNlxuICAgICAqIEBwYXJhbSB7QXJyYXk8SUFkZE9wdGlvbnN8c3RyaW5nPn0gcmVzb3VyY2VzIC0gQW4gYXJyYXkgb2YgcmVzb3VyY2VzIHRvIGxvYWQsIHdoZXJlIGVhY2ggaXNcbiAgICAgKiAgICAgIGVpdGhlciBhbiBvYmplY3Qgd2l0aCB0aGUgb3B0aW9ucyBvciBhIHN0cmluZyB1cmwuIElmIHlvdSBwYXNzIGFuIG9iamVjdCwgaXQgbXVzdCBjb250YWluIGEgYHVybGAgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgYWRkKG5hbWUsIHVybCwgb3B0aW9ucywgY2IpIHtcbiAgICAgICAgLy8gc3BlY2lhbCBjYXNlIG9mIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJsc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQobmFtZVtpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCBpbnN0ZWFkIG9mIHBhcmFtc1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjYiA9IHVybCB8fCBuYW1lLmNhbGxiYWNrIHx8IG5hbWUub25Db21wbGV0ZTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBuYW1lO1xuICAgICAgICAgICAgdXJsID0gbmFtZS51cmw7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5uYW1lIHx8IG5hbWUua2V5IHx8IG5hbWUudXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FzZSB3aGVyZSBubyBuYW1lIGlzIHBhc3NlZCBzaGlmdCBhbGwgYXJncyBvdmVyIGJ5IG9uZS5cbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zID0gdXJsO1xuICAgICAgICAgICAgdXJsID0gbmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vdyB0aGF0IHdlIHNoaWZ0ZWQgbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgdXJsLlxuICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXJsIHBhc3NlZCB0byBhZGQgcmVzb3VyY2UgdG8gbG9hZGVyLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3B0aW9ucyBhcmUgb3B0aW9uYWwgc28gcGVvcGxlIG1pZ2h0IHBhc3MgYSBmdW5jdGlvbiBhbmQgbm8gb3B0aW9uc1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgbG9hZGluZyBhbHJlYWR5IHlvdSBjYW4gb25seSBhZGQgcmVzb3VyY2VzIHRoYXQgaGF2ZSBhIHBhcmVudC5cbiAgICAgICAgaWYgKHRoaXMubG9hZGluZyAmJiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucGFyZW50UmVzb3VyY2UpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgcmVzb3VyY2VzIHdoaWxlIHRoZSBsb2FkZXIgaXMgcnVubmluZy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIHJlc291cmNlIGFscmVhZHkgZXhpc3RzLlxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVzb3VyY2UgbmFtZWQgXCIke25hbWV9XCIgYWxyZWFkeSBleGlzdHMuYCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgYmFzZSB1cmwgaWYgdGhpcyBpc24ndCBhbiBhYnNvbHV0ZSB1cmxcbiAgICAgICAgdXJsID0gdGhpcy5fcHJlcGFyZVVybCh1cmwpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgc3RvcmUgdGhlIHJlc291cmNlXG4gICAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdID0gbmV3IFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ub25BZnRlck1pZGRsZXdhcmUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBhY3RpdmVseSBsb2FkaW5nLCBtYWtlIHN1cmUgdG8gYWRqdXN0IHByb2dyZXNzIGNodW5rcyBmb3IgdGhhdCBwYXJlbnQgYW5kIGl0cyBjaGlsZHJlblxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBvcHRpb25zLnBhcmVudFJlc291cmNlO1xuICAgICAgICAgICAgY29uc3QgaW5jb21wbGV0ZUNoaWxkcmVuID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnQuY2hpbGRyZW5baV0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZnVsbENodW5rID0gcGFyZW50LnByb2dyZXNzQ2h1bmsgKiAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDEpOyAvLyArMSBmb3IgcGFyZW50XG4gICAgICAgICAgICBjb25zdCBlYWNoQ2h1bmsgPSBmdWxsQ2h1bmsgLyAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDIpOyAvLyArMiBmb3IgcGFyZW50ICYgbmV3IGNoaWxkXG5cbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcbiAgICAgICAgICAgIHBhcmVudC5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbltpXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoZSByZXNvdXJjZSB0byB0aGUgcXVldWVcbiAgICAgICAgdGhpcy5fcXVldWUucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgcmVxdWlyZS1qc2RvYyx2YWxpZC1qc2RvYyAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYmVmb3JlKiB0aGVcbiAgICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICAgICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIHByZShmbikge1xuICAgICAgICB0aGlzLl9iZWZvcmVNaWRkbGV3YXJlLnB1c2goZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmFmdGVyKiB0aGVcbiAgICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICAgICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIHVzZShmbikge1xuICAgICAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBxdWV1ZSBvZiB0aGUgbG9hZGVyIHRvIHByZXBhcmUgZm9yIGEgbmV3IGxvYWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3F1ZXVlLmtpbGwoKTtcbiAgICAgICAgdGhpcy5fcXVldWUucGF1c2UoKTtcblxuICAgICAgICAvLyBhYm9ydCBhbGwgcmVzb3VyY2UgbG9hZHNcbiAgICAgICAgZm9yIChjb25zdCBrIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSB0aGlzLnJlc291cmNlc1trXTtcblxuICAgICAgICAgICAgaWYgKHJlcy5fb25Mb2FkQmluZGluZykge1xuICAgICAgICAgICAgICAgIHJlcy5fb25Mb2FkQmluZGluZy5kZXRhY2goKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXMuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0ge307XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGxvYWRpbmcgdGhlIHF1ZXVlZCByZXNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGJvdW5kIHRvIHRoZSBgY29tcGxldGVgIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIGxvYWQoY2IpIHtcbiAgICAgICAgLy8gcmVnaXN0ZXIgY29tcGxldGUgY2FsbGJhY2sgaWYgdGhleSBwYXNzIG9uZVxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgcXVldWUgaGFzIGFscmVhZHkgc3RhcnRlZCB3ZSBhcmUgZG9uZSBoZXJlXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3F1ZXVlLmlkbGUoKSkge1xuICAgICAgICAgICAgdGhpcy5fb25TdGFydCgpO1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZGlzdHJpYnV0ZSBwcm9ncmVzcyBjaHVua3NcbiAgICAgICAgICAgIGNvbnN0IG51bVRhc2tzID0gdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rID0gTUFYX1BST0dSRVNTIC8gbnVtVGFza3M7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcXVldWUuX3Rhc2tzW2ldLmRhdGEucHJvZ3Jlc3NDaHVuayA9IGNodW5rO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBub3RpZnkgd2UgYXJlIHN0YXJ0aW5nXG4gICAgICAgICAgICB0aGlzLl9vblN0YXJ0KCk7XG5cbiAgICAgICAgICAgIC8vIHN0YXJ0IGxvYWRpbmdcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnJlc3VtZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTBcbiAgICAgKi9cbiAgICBnZXQgY29uY3VycmVuY3koKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlcXVpcmUtanNkb2NcbiAgICBzZXQgY29uY3VycmVuY3koY29uY3VycmVuY3kpIHtcbiAgICAgICAgdGhpcy5fcXVldWUuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlcyBhIHVybCBmb3IgdXNhZ2UgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gcHJlcGFyZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBwcmVwYXJlZCB1cmwuXG4gICAgICovXG4gICAgX3ByZXBhcmVVcmwodXJsKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFVybCA9IHBhcnNlVXJpKHVybCwgeyBzdHJpY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICAgIC8vIGFic29sdXRlIHVybCwganVzdCB1c2UgaXQgYXMgaXMuXG4gICAgICAgIGlmIChwYXJzZWRVcmwucHJvdG9jb2wgfHwgIXBhcnNlZFVybC5wYXRoIHx8IHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYmFzZVVybCBkb2Vzbid0IGVuZCBpbiBzbGFzaCBhbmQgdXJsIGRvZXNuJ3Qgc3RhcnQgd2l0aCBzbGFzaCwgdGhlbiBhZGQgYSBzbGFzaCBpbmJldHdlZW5cbiAgICAgICAgZWxzZSBpZiAodGhpcy5iYXNlVXJsLmxlbmd0aFxuICAgICAgICAgICAgJiYgdGhpcy5iYXNlVXJsLmxhc3RJbmRleE9mKCcvJykgIT09IHRoaXMuYmFzZVVybC5sZW5ndGggLSAxXG4gICAgICAgICAgICAmJiB1cmwuY2hhckF0KDApICE9PSAnLydcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBgJHt0aGlzLmJhc2VVcmx9LyR7dXJsfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyB1cmw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSBuZWVkIHRvIGFkZCBhIGRlZmF1bHQgcXVlcnlzdHJpbmcsIHRoZXJlIGlzIGEgYml0IG1vcmUgd29ya1xuICAgICAgICBpZiAodGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhc2ggPSByZ3hFeHRyYWN0VXJsSGFzaC5leGVjKHJlc3VsdClbMF07XG5cbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zdWJzdHIoMCwgcmVzdWx0Lmxlbmd0aCAtIGhhc2gubGVuZ3RoKTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdC5pbmRleE9mKCc/JykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGAmJHt0aGlzLmRlZmF1bHRRdWVyeVN0cmluZ31gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGA/JHt0aGlzLmRlZmF1bHRRdWVyeVN0cmluZ31gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQgKz0gaGFzaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgYSBzaW5nbGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZGVxdWV1ZSAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gd2UgbmVlZCB0byBkZXF1ZXVlIHRoaXMgaXRlbS5cbiAgICAgKi9cbiAgICBfbG9hZFJlc291cmNlKHJlc291cmNlLCBkZXF1ZXVlKSB7XG4gICAgICAgIHJlc291cmNlLl9kZXF1ZXVlID0gZGVxdWV1ZTtcblxuICAgICAgICAvLyBydW4gYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgYXN5bmMuZWFjaFNlcmllcyhcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUsXG4gICAgICAgICAgICAoZm4sIG5leHQpID0+IHtcbiAgICAgICAgICAgICAgICBmbi5jYWxsKHRoaXMsIHJlc291cmNlLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBiZWZvcmUgbWlkZGxld2FyZSBtYXJrcyB0aGUgcmVzb3VyY2UgYXMgY29tcGxldGUsXG4gICAgICAgICAgICAgICAgICAgIC8vIGJyZWFrIGFuZCBkb24ndCBwcm9jZXNzIGFueSBtb3JlIGJlZm9yZSBtaWRkbGV3YXJlXG4gICAgICAgICAgICAgICAgICAgIG5leHQocmVzb3VyY2UuaXNDb21wbGV0ZSA/IHt9IDogbnVsbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZS5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uTG9hZChyZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IHJlc291cmNlLm9uQ29tcGxldGUub25jZSh0aGlzLl9vbkxvYWQsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5sb2FkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb25jZSBsb2FkaW5nIGhhcyBzdGFydGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25TdGFydCgpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb25jZSBlYWNoIHJlc291cmNlIGhhcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkNvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gTUFYX1BST0dSRVNTO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMsIHRoaXMucmVzb3VyY2VzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgZWFjaCB0aW1lIGEgcmVzb3VyY2VzIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB3YXMgbG9hZGVkXG4gICAgICovXG4gICAgX29uTG9hZChyZXNvdXJjZSkge1xuICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IG51bGw7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHRoaXMgcmVzb3VyY2UgZnJvbSB0aGUgYXN5bmMgcXVldWUsIGFuZCBhZGQgaXQgdG8gb3VyIGxpc3Qgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGJlaW5nIHBhcnNlZFxuICAgICAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nLnB1c2gocmVzb3VyY2UpO1xuICAgICAgICByZXNvdXJjZS5fZGVxdWV1ZSgpO1xuXG4gICAgICAgIC8vIHJ1biBhbGwgdGhlIGFmdGVyIG1pZGRsZXdhcmUgZm9yIHRoaXMgcmVzb3VyY2VcbiAgICAgICAgYXN5bmMuZWFjaFNlcmllcyhcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZSxcbiAgICAgICAgICAgIChmbiwgbmV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIGZuLmNhbGwodGhpcywgcmVzb3VyY2UsIG5leHQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5kaXNwYXRjaChyZXNvdXJjZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gTWF0aC5taW4oTUFYX1BST0dSRVNTLCB0aGlzLnByb2dyZXNzICsgcmVzb3VyY2UucHJvZ3Jlc3NDaHVuayk7XG4gICAgICAgICAgICAgICAgdGhpcy5vblByb2dyZXNzLmRpc3BhdGNoKHRoaXMsIHJlc291cmNlKTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IuZGlzcGF0Y2gocmVzb3VyY2UuZXJyb3IsIHRoaXMsIHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb2FkLmRpc3BhdGNoKHRoaXMsIHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nLnNwbGljZSh0aGlzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTtcblxuICAgICAgICAgICAgICAgIC8vIGRvIGNvbXBsZXRpb24gY2hlY2tcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpICYmIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGRlZmF1bHQgYXJyYXkgb2YgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAqIEVhY2ggb2YgdGhlc2UgbWlkZGxld2FyZXMgYXJlIGFkZGVkIHRvIGFueSBuZXcgTG9hZGVyIGluc3RhbmNlcyB3aGVuIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gKi9cbkxvYWRlci5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUgPSBbXTtcblxuLyoqXG4gKiBBIGRlZmF1bHQgYXJyYXkgb2YgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICogRWFjaCBvZiB0aGVzZSBtaWRkbGV3YXJlcyBhcmUgYWRkZWQgdG8gYW55IG5ldyBMb2FkZXIgaW5zdGFuY2VzIHdoZW4gdGhleSBhcmUgY3JlYXRlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAqL1xuTG9hZGVyLl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlID0gW107XG5cbi8qKlxuICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYmVmb3JlKiB0aGVcbiAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuTG9hZGVyLnByZSA9IGZ1bmN0aW9uIExvYWRlclByZVN0YXRpYyhmbikge1xuICAgIExvYWRlci5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICByZXR1cm4gTG9hZGVyO1xufTtcblxuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICphZnRlciogdGhlXG4gKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gKi9cbkxvYWRlci51c2UgPSBmdW5jdGlvbiBMb2FkZXJVc2VTdGF0aWMoZm4pIHtcbiAgICBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICByZXR1cm4gTG9hZGVyO1xufTtcblxuZXhwb3J0IHsgTG9hZGVyIH07XG5cbiIsImltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyoqXG4gKiBMb2FkZXIgcGx1Z2luIGZvciBoYW5kbGluZyBUZXh0dXJlIHJlc291cmNlcy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0dXJlTG9hZGVyXG57XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGEgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0XG4gICAgICovXG4gICAgc3RhdGljIHVzZShyZXNvdXJjZSwgbmV4dClcbiAgICB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIG5ldyB0ZXh0dXJlIGlmIHRoZSBkYXRhIGlzIGFuIEltYWdlIG9iamVjdFxuICAgICAgICBpZiAocmVzb3VyY2UuZGF0YSAmJiByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLklNQUdFKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlID0gVGV4dHVyZS5mcm9tTG9hZGVyKFxuICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudXJsLFxuICAgICAgICAgICAgICAgIHJlc291cmNlLm5hbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IExvYWRlciBhcyBSZXNvdXJjZUxvYWRlciwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgVGV4dHVyZUxvYWRlciBmcm9tICcuL1RleHR1cmVMb2FkZXInO1xuXG4vKipcbiAqIFRoZSBuZXcgbG9hZGVyLCBleHRlbmRzIFJlc291cmNlIExvYWRlciBieSBDaGFkIEVuZ2xlcjogaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBsb2FkZXIgPSBQSVhJLkxvYWRlci5zaGFyZWQ7IC8vIFBpeGlKUyBleHBvc2VzIGEgcHJlbWFkZSBpbnN0YW5jZSBmb3IgeW91IHRvIHVzZS5cbiAqIC8vb3JcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBQSVhJLkxvYWRlcigpOyAvLyB5b3UgY2FuIGFsc28gY3JlYXRlIHlvdXIgb3duIGlmIHlvdSB3YW50XG4gKlxuICogY29uc3Qgc3ByaXRlcyA9IHt9O1xuICpcbiAqIC8vIENoYWluYWJsZSBgYWRkYCB0byBlbnF1ZXVlIGEgcmVzb3VyY2VcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmFkZCgnc2NvcmVGb250JywgJ2Fzc2V0cy9zY29yZS5mbnQnKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHByZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICpiZWZvcmUqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gY2FjaGluZyBtb2R1bGVzICh1c2luZyBmaWxlc3lzdGVtLCBpbmRleGVkZGIsIG1lbW9yeSwgZXRjKS5cbiAqIGxvYWRlci5wcmUoY2FjaGluZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgdXNlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmFmdGVyKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIHBhcnNpbmcgbW9kdWxlcyAobGlrZSBzcHJpdGVzaGVldCBwYXJzZXJzLCBzcGluZSBwYXJzZXIsIGV0YykuXG4gKiBsb2FkZXIudXNlKHBhcnNpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBUaGUgYGxvYWRgIG1ldGhvZCBsb2FkcyB0aGUgcXVldWUgb2YgcmVzb3VyY2VzLCBhbmQgY2FsbHMgdGhlIHBhc3NlZCBpbiBjYWxsYmFjayBjYWxsZWQgb25jZSBhbGxcbiAqIC8vIHJlc291cmNlcyBoYXZlIGxvYWRlZC5cbiAqIGxvYWRlci5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICogICAgIC8vIHJlc291cmNlcyBpcyBhbiBvYmplY3Qgd2hlcmUgdGhlIGtleSBpcyB0aGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgbG9hZGVkIGFuZCB0aGUgdmFsdWUgaXMgdGhlIHJlc291cmNlIG9iamVjdC5cbiAqICAgICAvLyBUaGV5IGhhdmUgYSBjb3VwbGUgZGVmYXVsdCBwcm9wZXJ0aWVzOlxuICogICAgIC8vIC0gYHVybGA6IFRoZSBVUkwgdGhhdCB0aGUgcmVzb3VyY2Ugd2FzIGxvYWRlZCBmcm9tXG4gKiAgICAgLy8gLSBgZXJyb3JgOiBUaGUgZXJyb3IgdGhhdCBoYXBwZW5lZCB3aGVuIHRyeWluZyB0byBsb2FkIChpZiBhbnkpXG4gKiAgICAgLy8gLSBgZGF0YWA6IFRoZSByYXcgZGF0YSB0aGF0IHdhcyBsb2FkZWRcbiAqICAgICAvLyBhbHNvIG1heSBjb250YWluIG90aGVyIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIG1pZGRsZXdhcmUgdGhhdCBydW5zLlxuICogICAgIHNwcml0ZXMuYnVubnkgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLmJ1bm55LnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc3BhY2VzaGlwID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zcGFjZXNoaXAudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zY29yZUZvbnQgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNjb3JlRm9udC50ZXh0dXJlKTtcbiAqIH0pO1xuICpcbiAqIC8vIHRocm91Z2hvdXQgdGhlIHByb2Nlc3MgbXVsdGlwbGUgc2lnbmFscyBjYW4gYmUgZGlzcGF0Y2hlZC5cbiAqIGxvYWRlci5vblByb2dyZXNzLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQvZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25FcnJvci5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25Mb2FkLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQgZmlsZVxuICogbG9hZGVyLm9uQ29tcGxldGUuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2Ugd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAqIGBgYFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIEBjbGFzcyBMb2FkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uY3VycmVuY3k9MTBdIC0gVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRlciBleHRlbmRzIFJlc291cmNlTG9hZGVyXG57XG4gICAgY29uc3RydWN0b3IoYmFzZVVybCwgY29uY3VycmVuY3kpXG4gICAge1xuICAgICAgICBzdXBlcihiYXNlVXJsLCBjb25jdXJyZW5jeSk7XG4gICAgICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTG9hZGVyLl9wbHVnaW5zLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwbHVnaW4gPSBMb2FkZXIuX3BsdWdpbnNbaV07XG4gICAgICAgICAgICBjb25zdCB7IHByZSwgdXNlIH0gPSBwbHVnaW47XG5cbiAgICAgICAgICAgIGlmIChwcmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmUocHJlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHVzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZSh1c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29tcGF0IGxheWVyLCB0cmFuc2xhdGUgdGhlIG5ldyB2MiBzaWduYWxzIGludG8gb2xkIHYxIGV2ZW50cy5cbiAgICAgICAgdGhpcy5vblN0YXJ0LmFkZCgobCkgPT4gdGhpcy5lbWl0KCdzdGFydCcsIGwpKTtcbiAgICAgICAgdGhpcy5vblByb2dyZXNzLmFkZCgobCwgcikgPT4gdGhpcy5lbWl0KCdwcm9ncmVzcycsIGwsIHIpKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLmFkZCgoZSwgbCwgcikgPT4gdGhpcy5lbWl0KCdlcnJvcicsIGUsIGwsIHIpKTtcbiAgICAgICAgdGhpcy5vbkxvYWQuYWRkKChsLCByKSA9PiB0aGlzLmVtaXQoJ2xvYWQnLCBsLCByKSk7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5hZGQoKGwsIHIpID0+IHRoaXMuZW1pdCgnY29tcGxldGUnLCBsLCByKSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgbG9hZGVyIGNhbm5vdCBiZSBkZXN0cm95ZWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBsb2FkZXIsIHJlbW92ZXMgcmVmZXJlbmNlcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm90ZWN0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByZW1hZGUgaW5zdGFuY2Ugb2YgdGhlIGxvYWRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGxvYWQgcmVzb3VyY2VzLlxuICAgICAqIEBuYW1lIHNoYXJlZFxuICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gICAgICovXG4gICAgc3RhdGljIGdldCBzaGFyZWQoKVxuICAgIHtcbiAgICAgICAgbGV0IHNoYXJlZCA9IExvYWRlci5fc2hhcmVkO1xuXG4gICAgICAgIGlmICghc2hhcmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFyZWQgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICBMb2FkZXIuX3NoYXJlZCA9IHNoYXJlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaGFyZWQ7XG4gICAgfVxufVxuXG4vLyBDb3B5IEVFMyBwcm90b3R5cGUgKG1peGluKVxuT2JqZWN0LmFzc2lnbihMb2FkZXIucHJvdG90eXBlLCBFdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGFsbCBpbnN0YWxsZWQgYHVzZWAgbWlkZGxld2FyZSBmb3IgTG9hZGVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge0FycmF5PFBJWEkuSUxvYWRlclBsdWdpbj59IF9wbHVnaW5zXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEBwcml2YXRlXG4gKi9cbkxvYWRlci5fcGx1Z2lucyA9IFtdO1xuXG4vKipcbiAqIEFkZHMgYSBMb2FkZXIgcGx1Z2luIGZvciB0aGUgZ2xvYmFsIHNoYXJlZCBsb2FkZXIgYW5kIGFsbFxuICogbmV3IExvYWRlciBpbnN0YW5jZXMgY3JlYXRlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIHJlZ2lzdGVyUGx1Z2luXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEBwYXJhbSB7UElYSS5JTG9hZGVyUGx1Z2lufSBwbHVnaW4gLSBUaGUgcGx1Z2luIHRvIGFkZFxuICogQHJldHVybiB7UElYSS5Mb2FkZXJ9IFJlZmVyZW5jZSB0byBQSVhJLkxvYWRlciBmb3IgY2hhaW5pbmdcbiAqL1xuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4ocGx1Z2luKVxue1xuICAgIExvYWRlci5fcGx1Z2lucy5wdXNoKHBsdWdpbik7XG5cbiAgICBpZiAocGx1Z2luLmFkZClcbiAgICB7XG4gICAgICAgIHBsdWdpbi5hZGQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9hZGVyO1xufTtcblxuLy8gcGFyc2UgYW55IGJsb2IgaW50byBtb3JlIHVzYWJsZSBvYmplY3RzIChlLmcuIEltYWdlKVxuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKHsgdXNlOiBtaWRkbGV3YXJlLnBhcnNpbmcgfSk7XG5cbi8vIHBhcnNlIGFueSBJbWFnZSBvYmplY3RzIGludG8gdGV4dHVyZXNcbkxvYWRlci5yZWdpc3RlclBsdWdpbihUZXh0dXJlTG9hZGVyKTtcblxuLyoqXG4gKiBQbHVnaW4gdG8gYmUgaW5zdGFsbGVkIGZvciBoYW5kbGluZyBzcGVjaWZpYyBMb2FkZXIgcmVzb3VyY2VzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiBJTG9hZGVyUGx1Z2luXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbYWRkXSAtIEZ1bmN0aW9uIHRvIGNhbGwgaW1tZWRpYXRlIGFmdGVyIHJlZ2lzdGVyaW5nIHBsdWdpbi5cbiAqIEBwcm9wZXJ0eSB7UElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZX0gW3ByZV0gLSBNaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJ1biBiZWZvcmUgbG9hZCwgdGhlXG4gKiAgICAgICAgICAgYXJndW1lbnRzIGZvciB0aGlzIGFyZSBgKHJlc291cmNlLCBuZXh0KWBcbiAqIEBwcm9wZXJ0eSB7UElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZX0gW3VzZV0gLSBNaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJ1biBhZnRlciBsb2FkLCB0aGVcbiAqICAgICAgICAgICBhcmd1bWVudHMgZm9yIHRoaXMgYXJlIGAocmVzb3VyY2UsIG5leHQpYFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAY2FsbGJhY2sgbG9hZGVyTWlkZGxld2FyZVxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7b2JqZWN0fSBvblN0YXJ0XG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtvYmplY3R9IG9uUHJvZ3Jlc3NcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge29iamVjdH0gb25FcnJvclxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7b2JqZWN0fSBvbkxvYWRcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge29iamVjdH0gb25Db21wbGV0ZVxuICovXG4iLCJpbXBvcnQgTG9hZGVyIGZyb20gJy4vTG9hZGVyJztcblxuLyoqXG4gKiBBcHBsaWNhdGlvbiBwbHVnaW4gZm9yIHN1cHBvcnRpbmcgbG9hZGVyIG9wdGlvbi4gSW5zdGFsbGluZyB0aGUgTG9hZGVyUGx1Z2luXG4gKiBpcyBub3QgbmVjZXNzYXJ5IGlmIHVzaW5nICoqcGl4aS5qcyoqIG9yICoqcGl4aS5qcy1sZWdhY3kqKi5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge0FwcExvYWRlclBsdWdpbn0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG4gKiBpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICdAcGl4aS9hcHAnO1xuICogQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oQXBwTG9hZGVyUGx1Z2luKTtcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwTG9hZGVyUGx1Z2luXG57XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uIGFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBpbml0KG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBzaGFyZWRMb2FkZXI6IGZhbHNlLFxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZGVyIGluc3RhbmNlIHRvIGhlbHAgd2l0aCBhc3NldCBsb2FkaW5nLlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkFwcGxpY2F0aW9uI2xvYWRlclxuICAgICAgICAgKiBAdHlwZSB7UElYSS5Mb2FkZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2FkZXIgPSBvcHRpb25zLnNoYXJlZExvYWRlciA/IExvYWRlci5zaGFyZWQgOiBuZXcgTG9hZGVyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYXBwbGljYXRpb24gZGVzdHJveWVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzdGF0aWMgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5sb2FkZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbi8qKlxuICogUmVmZXJlbmNlIHRvICoqe0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqIHJlc291cmNlLWxvYWRlcn0qKidzIFJlc291cmNlIGNsYXNzLlxuICogQHNlZSBodHRwOi8vZW5nbGVyY2ouZ2l0aHViLmlvL3Jlc291cmNlLWxvYWRlci9SZXNvdXJjZS5odG1sXG4gKiBAY2xhc3MgTG9hZGVyUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjb25zdCBMb2FkZXJSZXNvdXJjZSA9IFJlc291cmNlO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMb2FkZXIgfSBmcm9tICcuL0xvYWRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFRleHR1cmVMb2FkZXIgfSBmcm9tICcuL1RleHR1cmVMb2FkZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcHBMb2FkZXJQbHVnaW4gfSBmcm9tICcuL0FwcExvYWRlclBsdWdpbic7XG4iLCJpbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBoZXgycmdiIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8qKlxuICogVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGlzIGEgcmVhbGx5IGZhc3QgdmVyc2lvbiBvZiB0aGUgQ29udGFpbmVyIGJ1aWx0IHNvbGVseSBmb3Igc3BlZWQsXG4gKiBzbyB1c2Ugd2hlbiB5b3UgbmVlZCBhIGxvdCBvZiBzcHJpdGVzIG9yIHBhcnRpY2xlcy5cbiAqXG4gKiBUaGUgdHJhZGVvZmYgb2YgdGhlIFBhcnRpY2xlQ29udGFpbmVyIGlzIHRoYXQgbW9zdCBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IHdpbGwgbm90IHdvcmsuXG4gKiBQYXJ0aWNsZUNvbnRhaW5lciBpbXBsZW1lbnRzIHRoZSBiYXNpYyBvYmplY3QgdHJhbnNmb3JtIChwb3NpdGlvbiwgc2NhbGUsIHJvdGF0aW9uKVxuICogYW5kIHNvbWUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIHRpbnQgKGFzIG9mIHY0LjUuNikuXG4gKlxuICogT3RoZXIgbW9yZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgbWFza2luZywgY2hpbGRyZW4sIGZpbHRlcnMsIGV0YyB3aWxsIG5vdCB3b3JrIG9uIHNwcml0ZXMgaW4gdGhpcyBiYXRjaC5cbiAqXG4gKiBJdCdzIGV4dHJlbWVseSBlYXN5IHRvIHVzZTpcbiAqIGBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBhcnRpY2xlQ29udGFpbmVyKCk7XG4gKlxuICogZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSlcbiAqIHtcbiAqICAgICBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcIm15SW1hZ2UucG5nXCIpO1xuICogICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogfVxuICogYGBgXG4gKlxuICogQW5kIGhlcmUgeW91IGhhdmUgYSBodW5kcmVkIHNwcml0ZXMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IHRoZSBzcGVlZCBvZiBsaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZUNvbnRhaW5lciBleHRlbmRzIENvbnRhaW5lclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4U2l6ZT0xNTAwXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhhdCBjYW4gYmUgcmVuZGVyZWQgYnkgdGhlIGNvbnRhaW5lci5cbiAgICAgKiAgQWZmZWN0cyBzaXplIG9mIGFsbG9jYXRlZCBidWZmZXJzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcGVydGllc10gLSBUaGUgcHJvcGVydGllcyBvZiBjaGlsZHJlbiB0aGF0IHNob3VsZCBiZSB1cGxvYWRlZCB0byB0aGUgZ3B1IGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudmVydGljZXM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB2ZXJ0aWNlcyBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgIGlmIHNwcml0ZSdzIGAgc2NhbGUvYW5jaG9yL3RyaW0vZnJhbWUvb3JpZ2AgaXMgZHluYW1pYywgcGxlYXNlIHNldCBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5wb3NpdGlvbj10cnVlXSAtIFdoZW4gdHJ1ZSwgcG9zaXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5yb3RhdGlvbj1mYWxzZV0gLSBXaGVuIHRydWUsIHJvdGF0aW9uIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudXZzPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgdXZzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudGludD1mYWxzZV0gLSBXaGVuIHRydWUsIGFscGhhIGFuZCB0aW50IGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmF0Y2hTaXplPTE2Mzg0XSAtIE51bWJlciBvZiBwYXJ0aWNsZXMgcGVyIGJhdGNoLiBJZiBsZXNzIHRoYW4gbWF4U2l6ZSwgaXQgdXNlcyBtYXhTaXplIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1Jlc2l6ZT1mYWxzZV0gSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZVxuICAgICAqICB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWF4U2l6ZSA9IDE1MDAsIHByb3BlcnRpZXMsIGJhdGNoU2l6ZSA9IDE2Mzg0LCBhdXRvUmVzaXplID0gZmFsc2UpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8vIE1ha2luZyBzdXJlIHRoZSBiYXRjaCBzaXplIGlzIHZhbGlkXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIGNvbnN0IG1heEJhdGNoU2l6ZSA9IDE2Mzg0O1xuXG4gICAgICAgIGlmIChiYXRjaFNpemUgPiBtYXhCYXRjaFNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heEJhdGNoU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcHJvcGVydGllcyB0byBiZSBkeW5hbWljICh0cnVlKSAvIHN0YXRpYyAoZmFsc2UpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW5bXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBbZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2VdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhTaXplID0gbWF4U2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmF0Y2hTaXplID0gYmF0Y2hTaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxQSVhJLkJ1ZmZlcj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogZm9yIGV2ZXJ5IGJhdGNoIHN0b3JlcyBfdXBkYXRlSUQgY29ycmVzcG9uZGluZyB0byB0aGUgbGFzdCBjaGFuZ2UgaW4gdGhhdCBiYXRjaFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB3aGVuIGNoaWxkIGluc2VydGVkLCByZW1vdmVkIG9yIGNoYW5nZXMgcG9zaXRpb24gdGhpcyBudW1iZXIgZ29lcyB1cFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYFxuICAgICAgICAgKiB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1Jlc2l6ZSA9IGF1dG9SZXNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgICAgICogRGVmYXVsdCB0byB0cnVlIGhlcmUgYXMgcGVyZm9ybWFuY2UgaXMgdXN1YWxseSB0aGUgcHJpb3JpdHkgZm9yIHBhcnRpY2xlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yb3VuZFBpeGVscyA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgdG8gcmVuZGVyIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgICAgICogVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpbnQgPSAwO1xuICAgICAgICB0aGlzLnRpbnRSZ2IgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICB0aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwcml2YXRlIHByb3BlcnRpZXMgYXJyYXkgdG8gZHluYW1pYyAvIHN0YXRpYyBiYXNlZCBvbiB0aGUgcGFzc2VkIHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIHRvIGJlIHVwbG9hZGVkXG4gICAgICovXG4gICAgc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKVxuICAgIHtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMF0gPSAndmVydGljZXMnIGluIHByb3BlcnRpZXMgfHwgJ3NjYWxlJyBpbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgPyAhIXByb3BlcnRpZXMudmVydGljZXMgfHwgISFwcm9wZXJ0aWVzLnNjYWxlIDogdGhpcy5fcHJvcGVydGllc1swXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMV0gPSAncG9zaXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucG9zaXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzFdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1syXSA9ICdyb3RhdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5yb3RhdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMl07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzNdID0gJ3V2cycgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy51dnMgOiB0aGlzLl9wcm9wZXJ0aWVzWzNdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1s0XSA9ICd0aW50JyBpbiBwcm9wZXJ0aWVzIHx8ICdhbHBoYScgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgID8gISFwcm9wZXJ0aWVzLnRpbnQgfHwgISFwcm9wZXJ0aWVzLmFscGhhIDogdGhpcy5fcHJvcGVydGllc1s0XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVUcmFuc2Zvcm0oKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyBkb24ndCBuZWVkIHRvIVxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLy8gIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCggdGhpcyApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKiogSU1QT1JUQU5UOiBUaGlzIGlzIGEgV2ViR0wgb25seSBmZWF0dXJlIGFuZCB3aWxsIGJlIGlnbm9yZWQgYnkgdGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBnZXQgdGludCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICB9XG5cbiAgICBzZXQgdGludCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgIGhleDJyZ2IodmFsdWUsIHRoaXMudGludFJnYik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGFpbmVyIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyXG4gICAgICovXG4gICAgcmVuZGVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLnJlbmRlcmFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IHRoaXMuY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vbmNlKCd1cGRhdGUnLCAoKSA9PiB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUucmVuZGVyKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmxhZyB0aGF0IHN0YXRpYyBkYXRhIHNob3VsZCBiZSB1cGRhdGVkIHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNtYWxsZXN0Q2hpbGRJbmRleCAtIFRoZSBzbWFsbGVzdCBjaGlsZCBpbmRleFxuICAgICAqL1xuICAgIG9uQ2hpbGRyZW5DaGFuZ2Uoc21hbGxlc3RDaGlsZEluZGV4KVxuICAgIHtcbiAgICAgICAgY29uc3QgYnVmZmVySW5kZXggPSBNYXRoLmZsb29yKHNtYWxsZXN0Q2hpbGRJbmRleCAvIHRoaXMuX2JhdGNoU2l6ZSk7XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5sZW5ndGggPCBidWZmZXJJbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzW2J1ZmZlckluZGV4XSA9ICsrdGhpcy5fdXBkYXRlSUQ7XG4gICAgfVxuXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgZGVzdHJveShvcHRpb25zKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlSW5kaWNlc0ZvclF1YWRzIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgR2VvbWV0cnksIEJ1ZmZlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXRcbiAqIHRoZXkgbm93IHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlQnVmZmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZUJ1ZmZlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBUaGUgcGFydGljbGUgYnVmZmVyIG1hbmFnZXMgdGhlIHN0YXRpYyBhbmQgZHluYW1pYyBidWZmZXJzIGZvciBhIHBhcnRpY2xlIGNvbnRhaW5lci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZUJ1ZmZlclxue1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFuW119IGR5bmFtaWNQcm9wZXJ0eUZsYWdzIC0gRmxhZ3MgZm9yIHdoaWNoIHByb3BlcnRpZXMgYXJlIGR5bmFtaWMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYmF0Y2guXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIHNpemUpXG4gICAge1xuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KCk7XG5cbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgcGFydGljbGVzIHRoZSBidWZmZXIgY2FuIGhvbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIHRoZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIGR5bmFtaWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgc3RhdGljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgLy8gTWFrZSBjb3B5IG9mIHByb3BlcnRpZXMgb2JqZWN0IHNvIHRoYXQgd2hlbiB3ZSBlZGl0IHRoZSBvZmZzZXQgaXQgZG9lc24ndFxuICAgICAgICAgICAgLy8gY2hhbmdlIGFsbCBvdGhlciBpbnN0YW5jZXMgb2YgdGhlIG9iamVjdCBsaXRlcmFsXG4gICAgICAgICAgICBwcm9wZXJ0eSA9IHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiBwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgICAgIHNpemU6IHByb3BlcnR5LnNpemUsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHR5cGU6IHByb3BlcnR5LnR5cGUgfHwgVFlQRVMuRkxPQVQsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBwcm9wZXJ0eS5vZmZzZXQsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoZHluYW1pY1Byb3BlcnR5RmxhZ3NbaV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIHRoaXMuaW5pdEJ1ZmZlcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdEJ1ZmZlcnMoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXG4gICAgICAgIGxldCBkeW5hbWljT2Zmc2V0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGluZGljZXMgb2YgdGhlIGdlb21ldHJ5IChxdWFkcykgdG8gZHJhd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKGNyZWF0ZUluZGljZXNGb3JRdWFkcyh0aGlzLnNpemUpLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZ2VvbWV0cnkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcik7XG5cbiAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ID0gZHluYW1pY09mZnNldDtcbiAgICAgICAgICAgIGR5bmFtaWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHluQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQgKiA0KTtcblxuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShkeW5CdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5keW5hbWljRGF0YSwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAvLyBzdGF0aWMgLy9cbiAgICAgICAgbGV0IHN0YXRpY09mZnNldCA9IDA7XG5cbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ID0gc3RhdGljT2Zmc2V0O1xuICAgICAgICAgICAgc3RhdGljT2Zmc2V0ICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLnN0YXRpY1N0cmlkZSAqIDQgKiA0KTtcblxuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnN0YXRpY0RhdGEsIHRydWUsIGZhbHNlKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS50eXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQsXG4gICAgICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ICogNFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgKiA0LFxuICAgICAgICAgICAgICAgIHByb3BlcnR5Lm9mZnNldCAqIDRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBkeW5hbWljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gICAgICovXG4gICAgdXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsXG4gICAgICAgICAgICAgICAgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSA/IHRoaXMuZHluYW1pY0RhdGFVaW50MzIgOiB0aGlzLmR5bmFtaWNEYXRhLFxuICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlci5fdXBkYXRlSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBzdGF0aWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cbiAgICB1cGxvYWRTdGF0aWMoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcy5zdGF0aWNEYXRhVWludDMyIDogdGhpcy5zdGF0aWNEYXRhLFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlQnVmZmVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICAvLyB0aGlzLmR5bmFtaWNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgLy8gdGhpcy5zdGF0aWNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIC8vIGFsbCBidWZmZXJzIGFyZSBkZXN0cm95ZWQgaW5zaWRlIGdlb21ldHJ5XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IE9iamVjdFJlbmRlcmVyLCBTaGFkZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGNvcnJlY3RCbGVuZE1vZGUsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgUGFydGljbGVCdWZmZXIgZnJvbSAnLi9QYXJ0aWNsZUJ1ZmZlcic7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vcGFydGljbGVzLnZlcnQnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vcGFydGljbGVzLmZyYWcnO1xuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXQgdGhleSBub3dcbiAqIHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlUmVuZGVyZXIuamF2YVxuICovXG5cbi8qKlxuICogUmVuZGVyZXIgZm9yIFBhcnRpY2xlcyB0aGF0IGlzIGRlc2lnbmVyIGZvciBzcGVlZCBvdmVyIGZlYXR1cmUgc2V0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFydGljbGVSZW5kZXJlciBleHRlbmRzIE9iamVjdFJlbmRlcmVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHNwcml0ZSBiYXRjaCB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgLy8gYW5kIG1heCBudW1iZXIgb2YgZWxlbWVudCBpbiB0aGUgaW5kZXggYnVmZmVyIGlzIDE2Mzg0ICogNiA9IDk4MzA0XG4gICAgICAgIC8vIENyZWF0aW5nIGEgZnVsbCBpbmRleCBidWZmZXIsIG92ZXJoZWFkIGlzIDk4MzA0ICogMiA9IDE5NktvXG4gICAgICAgIC8vIGxldCBudW1JbmRpY2VzID0gOTgzMDQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgIC8vIHZlcnRpY2VzRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhVmVydGV4UG9zaXRpb24nLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVmVydGljZXMsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhUG9zaXRpb25Db29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcm90YXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FSb3RhdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRSb3RhdGlvbixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdXZzRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhVGV4dHVyZUNvb3JkJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFV2cyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdGludERhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYUNvbG9yJyxcbiAgICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVGludCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudCwge30pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHBhcnRpY2xlIGNvbnRhaW5lciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqL1xuICAgIHJlbmRlcihjb250YWluZXIpXG4gICAge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgbWF4U2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgY29uc3QgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgbGV0IHRvdGFsQ2hpbGRyZW4gPSBjaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHRvdGFsQ2hpbGRyZW4gPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b3RhbENoaWxkcmVuID4gbWF4U2l6ZSAmJiAhY29udGFpbmVyLmF1dG9SZXNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvdGFsQ2hpbGRyZW4gPSBtYXhTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnM7XG5cbiAgICAgICAgaWYgKCFidWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBidWZmZXJzID0gY29udGFpbmVyLl9idWZmZXJzID0gdGhpcy5nZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgLy8gaWYgdGhlIHV2cyBoYXZlIG5vdCB1cGRhdGVkIHRoZW4gbm8gcG9pbnQgcmVuZGVyaW5nIGp1c3QgeWV0IVxuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShjb3JyZWN0QmxlbmRNb2RlKGNvbnRhaW5lci5ibGVuZE1vZGUsIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpKTtcblxuICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGNvbnN0IG0gPSBjb250YWluZXIud29ybGRUcmFuc2Zvcm0uY29weVRvKHRoaXMudGVtcE1hdHJpeCk7XG5cbiAgICAgICAgbS5wcmVwZW5kKHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXgpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gbS50b0FycmF5KHRydWUpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IHByZW11bHRpcGx5UmdiYShjb250YWluZXIudGludFJnYixcbiAgICAgICAgICAgIGNvbnRhaW5lci53b3JsZEFscGhhLCB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gYmFzZVRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgbGV0IHVwZGF0ZVN0YXRpYyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIG5vdyBsZXRzIHVwbG9hZCBhbmQgcmVuZGVyIHRoZSBidWZmZXJzLi5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxDaGlsZHJlbjsgaSArPSBiYXRjaFNpemUsIGogKz0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGFtb3VudCA9ICh0b3RhbENoaWxkcmVuIC0gaSk7XG5cbiAgICAgICAgICAgIGlmIChhbW91bnQgPiBiYXRjaFNpemUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYW1vdW50ID0gYmF0Y2hTaXplO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaiA+PSBidWZmZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2godGhpcy5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBidWZmZXJzW2pdO1xuXG4gICAgICAgICAgICAvLyB3ZSBhbHdheXMgdXBsb2FkIHRoZSBkeW5hbWljXG4gICAgICAgICAgICBidWZmZXIudXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcblxuICAgICAgICAgICAgY29uc3QgYmlkID0gY29udGFpbmVyLl9idWZmZXJVcGRhdGVJRHNbal0gfHwgMDtcblxuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IChidWZmZXIuX3VwZGF0ZUlEIDwgYmlkKTtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fdXBkYXRlSUQgPSBjb250YWluZXIuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgYW1vdW50ICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgcGFydGljbGUgYnVmZmVyIGZvciBlYWNoIGNoaWxkIGluIHRoZSBjb250YWluZXIgd2Ugd2FudCB0byByZW5kZXIgYW5kIHVwZGF0ZXMgaW50ZXJuYWwgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyW119IFRoZSBidWZmZXJzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IFtdO1xuICAgICAgICBjb25zdCBzaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICBjb25zdCBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgY29uc3QgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpICs9IGJhdGNoU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYnVmZmVycy5wdXNoKG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIG1vcmUgcGFydGljbGUgYnVmZmVyLCBiZWNhdXNlIGNvbnRhaW5lciBoYXMgYXV0b1Jlc2l6ZSBmZWF0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJ9IGdlbmVyYXRlZCBidWZmZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIGNvbnN0IGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuXG4gICAgICAgIHJldHVybiBuZXcgUGFydGljbGVCdWZmZXIodGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHZlcnRpY2VzIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICB1cGxvYWRWZXJ0aWNlcyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBsZXQgdzAgPSAwO1xuICAgICAgICBsZXQgdzEgPSAwO1xuICAgICAgICBsZXQgaDAgPSAwO1xuICAgICAgICBsZXQgaDEgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgICAgICBjb25zdCBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgICAgICAgY29uc3Qgc3kgPSBzcHJpdGUuc2NhbGUueTtcbiAgICAgICAgICAgIGNvbnN0IHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgICAgICBjb25zdCBvcmlnID0gdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgICAgICBpZiAodHJpbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuLlxuICAgICAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKHNwcml0ZS5hbmNob3IueCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoc3ByaXRlLmFuY2hvci55ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3MCA9IChvcmlnLndpZHRoKSAqICgxIC0gc3ByaXRlLmFuY2hvci54KTtcbiAgICAgICAgICAgICAgICB3MSA9IChvcmlnLndpZHRoKSAqIC1zcHJpdGUuYW5jaG9yLng7XG5cbiAgICAgICAgICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICAgICAgICAgIGgxID0gb3JpZy5oZWlnaHQgKiAtc3ByaXRlLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gaDAgKiBzeTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHBvc2l0aW9ucyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgdXBsb2FkUG9zaXRpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3ByaXRlUG9zaXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucG9zaXRpb247XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHJvdGlhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICB1cGxvYWRSb3RhdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzcHJpdGVSb3RhdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5yb3RhdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVJvdGF0aW9uO1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIFV2c1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIHVwbG9hZFV2cyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlVXZzID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLl90ZXh0dXJlLl91dnM7XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlVXZzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB0ZXh0dXJlVXZzLngwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gdGV4dHVyZVV2cy55MDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gdGV4dHVyZVV2cy55MTtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gdGV4dHVyZVV2cy55MjtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSB0ZXh0dXJlVXZzLngzO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gdGV4dHVyZVV2cy55MztcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8geW91IGtub3cgdGhpcyBjYW4gYmUgZWFzaWVyIVxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdGludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICB1cGxvYWRUaW50KGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIGNvbnN0IHByZW11bHRpcGxpZWQgPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgICAgIGNvbnN0IGFscGhhID0gc3ByaXRlLmFscGhhO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgY29uc3QgYXJnYiA9IGFscGhhIDwgMS4wICYmIHByZW11bHRpcGxpZWQgPyBwcmVtdWx0aXBseVRpbnQoc3ByaXRlLl90aW50UkdCLCBhbHBoYSlcbiAgICAgICAgICAgICAgICA6IHNwcml0ZS5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBhcmdiO1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZVJlbmRlcmVyLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGdldFJlc29sdXRpb25PZlVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBVdGlsaXR5IGNsYXNzIGZvciBtYWludGFpbmluZyByZWZlcmVuY2UgdG8gYSBjb2xsZWN0aW9uXG4gKiBvZiBUZXh0dXJlcyBvbiBhIHNpbmdsZSBTcHJpdGVzaGVldC5cbiAqXG4gKiBUbyBhY2Nlc3MgYSBzcHJpdGUgc2hlZXQgZnJvbSB5b3VyIGNvZGUgcGFzcyBpdHMgSlNPTiBkYXRhIGZpbGUgdG8gUGl4aSdzIGxvYWRlcjpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImltYWdlcy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiaW1hZ2VzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKiBXaXRoIHRoZSBgc2hlZXQudGV4dHVyZXNgIHlvdSBjYW4gY3JlYXRlIFNwcml0ZSBvYmplY3RzLGBzaGVldC5hbmltYXRpb25zYCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4gQW5pbWF0ZWRTcHJpdGUuXG4gKlxuICogU3ByaXRlIHNoZWV0cyBjYW4gYmUgcGFja2VkIHVzaW5nIHRvb2xzIGxpa2Uge0BsaW5rIGh0dHBzOi8vY29kZWFuZHdlYi5jb20vdGV4dHVyZXBhY2tlcnxUZXh0dXJlUGFja2VyfSxcbiAqIHtAbGluayBodHRwczovL3JlbmRlcmhqcy5uZXQvc2hvZWJveC98U2hvZWJveH0gb3Ige0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9rcnp5c3p0b2Ytby9zcHJpdGVzaGVldC5qc3xTcHJpdGVzaGVldC5qc30uXG4gKiBEZWZhdWx0IGFuY2hvciBwb2ludHMgKHNlZSB7QGxpbmsgUElYSS5UZXh0dXJlI2RlZmF1bHRBbmNob3J9KSBhbmQgZ3JvdXBpbmcgb2YgYW5pbWF0aW9uIHNwcml0ZXMgYXJlIGN1cnJlbnRseSBvbmx5XG4gKiBzdXBwb3J0ZWQgYnkgVGV4dHVyZVBhY2tlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwcml0ZXNoZWV0XG57XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIFRleHR1cmVzIHRvIGJ1aWxkIHBlciBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMDAwXG4gICAgICovXG4gICAgc3RhdGljIGdldCBCQVRDSF9TSVpFKClcbiAgICB7XG4gICAgICAgIHJldHVybiAxMDAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgUmVmZXJlbmNlIHRvIHRoZSBzb3VyY2UgQmFzZVRleHR1cmUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gU3ByaXRlc2hlZXQgaW1hZ2UgZGF0YS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc29sdXRpb25GaWxlbmFtZV0gLSBUaGUgZmlsZW5hbWUgdG8gY29uc2lkZXIgd2hlbiBkZXRlcm1pbmluZ1xuICAgICAqICAgICAgICB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuIElmIG5vdCBwcm92aWRlZCwgdGhlIGltYWdlVXJsIHdpbGxcbiAgICAgKiAgICAgICAgYmUgdXNlZCBvbiB0aGUgQmFzZVRleHR1cmUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYmFzZVRleHR1cmUsIGRhdGEsIHJlc29sdXRpb25GaWxlbmFtZSA9IG51bGwpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRocyBzb3VyY2UgdGV4dHVyZVxuICAgICAgICAgKiBAdHlwZSB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgY29udGFpbmluZyBhbGwgdGV4dHVyZXMgb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICAgICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFBJWEkuU3ByaXRlfFNwcml0ZX06XG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIG5ldyBQSVhJLlNwcml0ZShzaGVldC50ZXh0dXJlc1tcImltYWdlLnBuZ1wiXSk7XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgdGhlIHRleHR1cmVzIGZvciBlYWNoIGFuaW1hdGlvbi5cbiAgICAgICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfEFuaW1hdGVkU3ByaXRlfTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImFuaW1fbmFtZVwiXSlcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIEpTT04gZGF0YS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBzcHJpdGVzaGVldC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHRoaXMuX3VwZGF0ZVJlc29sdXRpb24oXG4gICAgICAgICAgICByZXNvbHV0aW9uRmlsZW5hbWVcbiAgICAgICAgICAgIHx8ICh0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlID8gdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwgOiBudWxsKVxuICAgICAgICApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2Ygc3ByaXRlc2hlZXQgZnJhbWVzLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gdGhpcy5kYXRhLmZyYW1lcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBmcmFtZSBuYW1lcy5cbiAgICAgICAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gT2JqZWN0LmtleXModGhpcy5fZnJhbWVzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBiYXRjaCBpbmRleCBiZWluZyBwcm9jZXNzZWQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiBwYXJzZSBpcyBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB0aGUgcmVzb2x1dGlvbiBmcm9tIHRoZSBmaWxlbmFtZSBvciBmYWxsYmFja1xuICAgICAqIHRvIHRoZSBtZXRhLnNjYWxlIGZpZWxkIG9mIHRoZSBKU09OIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXNvbHV0aW9uRmlsZW5hbWUgLSBUaGUgZmlsZW5hbWUgdG8gdXNlIGZvciByZXNvbHZpbmdcbiAgICAgKiAgICAgICAgdGhlIGRlZmF1bHQgcmVzb2x1dGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24gdG8gdXNlIGZvciBzcHJpdGVzaGVldC5cbiAgICAgKi9cbiAgICBfdXBkYXRlUmVzb2x1dGlvbihyZXNvbHV0aW9uRmlsZW5hbWUpXG4gICAge1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuZGF0YS5tZXRhLnNjYWxlO1xuXG4gICAgICAgIC8vIFVzZSBhIGRlZmF1bHRWYWx1ZSBvZiBgbnVsbGAgdG8gY2hlY2sgaWYgYSB1cmwtYmFzZWQgcmVzb2x1dGlvbiBpcyBzZXRcbiAgICAgICAgbGV0IHJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwocmVzb2x1dGlvbkZpbGVuYW1lLCBudWxsKTtcblxuICAgICAgICAvLyBObyByZXNvbHV0aW9uIGZvdW5kIHZpYSBVUkxcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgc2NhbGUgdmFsdWUgb3IgZGVmYXVsdCB0byAxXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc2NhbGUgIT09IHVuZGVmaW5lZCA/IHBhcnNlRmxvYXQoc2NhbGUpIDogMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBub24tMSByZXNvbHV0aW9ucywgdXBkYXRlIGJhc2VUZXh0dXJlXG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXIgc3ByaXRlc2hlZXQgZnJvbSBsb2FkZWQgZGF0YS4gVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5XG4gICAgICogdG8gcHJldmVudCBjcmVhdGluZyB0b28gbWFueSBUZXh0dXJlIHdpdGhpbiBhIHNpbmdsZSBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlIHJldHVybnNcbiAgICAgKiAgICAgICAgYSBtYXAgb2YgdGhlIFRleHR1cmVzIGZvciB0aGlzIHNwcml0ZXNoZWV0LlxuICAgICAqL1xuICAgIHBhcnNlKGNhbGxiYWNrKVxuICAgIHtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGggPD0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcygwKTtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBiYXRjaCBvZiBmcmFtZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxGcmFtZUluZGV4IC0gVGhlIGluZGV4IG9mIGZyYW1lIHRvIHN0YXJ0LlxuICAgICAqL1xuICAgIF9wcm9jZXNzRnJhbWVzKGluaXRpYWxGcmFtZUluZGV4KVxuICAgIHtcbiAgICAgICAgbGV0IGZyYW1lSW5kZXggPSBpbml0aWFsRnJhbWVJbmRleDtcbiAgICAgICAgY29uc3QgbWF4RnJhbWVzID0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRTtcblxuICAgICAgICB3aGlsZSAoZnJhbWVJbmRleCAtIGluaXRpYWxGcmFtZUluZGV4IDwgbWF4RnJhbWVzICYmIGZyYW1lSW5kZXggPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpID0gdGhpcy5fZnJhbWVLZXlzW2ZyYW1lSW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2ZyYW1lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICBpZiAocmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCB0cmltID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VTaXplID0gZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNvdXJjZVNpemVcbiAgICAgICAgICAgICAgICAgICAgPyBkYXRhLnNvdXJjZVNpemUgOiBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZyA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3Ioc291cmNlU2l6ZS53KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihzb3VyY2VTaXplLmgpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJvdGF0ZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LnkpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gIENoZWNrIHRvIHNlZSBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNwcml0ZVNvdXJjZVNpemUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cmltID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueSkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldID0gbmV3IFRleHR1cmUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lLFxuICAgICAgICAgICAgICAgICAgICBvcmlnLFxuICAgICAgICAgICAgICAgICAgICB0cmltLFxuICAgICAgICAgICAgICAgICAgICBkYXRhLnJvdGF0ZWQgPyAyIDogMCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5hbmNob3JcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgJ2Zyb20nIGFuZCAnZnJvbUxvYWRlcicgZnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBhbmltYXRpb25zIGNvbmZpZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcHJvY2Vzc0FuaW1hdGlvbnMoKVxuICAgIHtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9ucyA9IHRoaXMuZGF0YS5hbmltYXRpb25zIHx8IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgYW5pbU5hbWUgaW4gYW5pbWF0aW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbmltYXRpb25zW2FuaW1OYW1lXS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmcmFtZU5hbWUgPSBhbmltYXRpb25zW2FuaW1OYW1lXVtpXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc1thbmltTmFtZV0ucHVzaCh0aGlzLnRleHR1cmVzW2ZyYW1lTmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHBhcnNlIGhhcyBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9wYXJzZUNvbXBsZXRlKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgbmV4dCBiYXRjaCBvZiB0ZXh0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX25leHRCYXRjaCgpXG4gICAge1xuICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKHRoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKTtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCsrO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgU3ByaXRlc2hlZXQgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBkZXN0cm95KGRlc3Ryb3lCYXNlID0gZmFsc2UpXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy50ZXh0dXJlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IG51bGw7XG4gICAgICAgIGlmIChkZXN0cm95QmFzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgdXJsIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgTG9hZGVyUmVzb3VyY2UgfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCBTcHJpdGVzaGVldCBmcm9tICcuL1Nwcml0ZXNoZWV0JztcblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nIHRleHR1cmUgYXRsYXNlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGhcbiAqIFRleHR1cmVQYWNrZXIgb3Igc2ltaWxhciBKU09OLWJhc2VkIHNwcml0ZXNoZWV0LlxuICpcbiAqIFRoaXMgbWlkZGxld2FyZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBUZXh0dXJlIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaXRlc2hlZXRMb2FkZXJcbntcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBzdGF0aWMgdXNlKHJlc291cmNlLCBuZXh0KVxuICAgIHtcbiAgICAgICAgY29uc3QgaW1hZ2VSZXNvdXJjZU5hbWUgPSBgJHtyZXNvdXJjZS5uYW1lfV9pbWFnZWA7XG5cbiAgICAgICAgLy8gc2tpcCBpZiBubyBkYXRhLCBpdHMgbm90IGpzb24sIGl0IGlzbid0IHNwcml0ZXNoZWV0IGRhdGEsIG9yIHRoZSBpbWFnZSByZXNvdXJjZSBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBpZiAoIXJlc291cmNlLmRhdGFcbiAgICAgICAgICAgIHx8IHJlc291cmNlLnR5cGUgIT09IExvYWRlclJlc291cmNlLlRZUEUuSlNPTlxuICAgICAgICAgICAgfHwgIXJlc291cmNlLmRhdGEuZnJhbWVzXG4gICAgICAgICAgICB8fCB0aGlzLnJlc291cmNlc1tpbWFnZVJlc291cmNlTmFtZV1cbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxvYWRPcHRpb25zID0ge1xuICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEsXG4gICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVzb3VyY2VQYXRoID0gU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoKHJlc291cmNlLCB0aGlzLmJhc2VVcmwpO1xuXG4gICAgICAgIC8vIGxvYWQgdGhlIGltYWdlIGZvciB0aGlzIHNoZWV0XG4gICAgICAgIHRoaXMuYWRkKGltYWdlUmVzb3VyY2VOYW1lLCByZXNvdXJjZVBhdGgsIGxvYWRPcHRpb25zLCBmdW5jdGlvbiBvbkltYWdlTG9hZChyZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChyZXMuZXJyb3IpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmV4dChyZXMuZXJyb3IpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzcHJpdGVzaGVldCA9IG5ldyBTcHJpdGVzaGVldChcbiAgICAgICAgICAgICAgICByZXMudGV4dHVyZS5iYXNlVGV4dHVyZSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLFxuICAgICAgICAgICAgICAgIHJlc291cmNlLnVybFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgc3ByaXRlc2hlZXQucGFyc2UoKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5zcHJpdGVzaGVldCA9IHNwcml0ZXNoZWV0O1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnRleHR1cmVzID0gc3ByaXRlc2hlZXQudGV4dHVyZXM7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3ByaXRlc2hlZXRzIHJvb3QgcGF0aFxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2UgLSBSZXNvdXJjZSB0byBjaGVjayBwYXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVcmwgLSBCYXNlIHJvb3QgdXJsXG4gICAgICovXG4gICAgc3RhdGljIGdldFJlc291cmNlUGF0aChyZXNvdXJjZSwgYmFzZVVybClcbiAgICB7XG4gICAgICAgIC8vIFByZXBlbmQgdXJsIHBhdGggdW5sZXNzIHRoZSByZXNvdXJjZSBpbWFnZSBpcyBhIGRhdGEgdXJsXG4gICAgICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXJsLnJlc29sdmUocmVzb3VyY2UudXJsLnJlcGxhY2UoYmFzZVVybCwgJycpLCByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2UpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRleHR1cmVNYXRyaXgsIFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBSZWN0YW5nbGUsIFRyYW5zZm9ybSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGV4dHVyZUNhY2hlIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcblxuY29uc3QgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5cbi8qKlxuICogQSB0aWxpbmcgc3ByaXRlIGlzIGEgZmFzdCB3YXkgb2YgcmVuZGVyaW5nIGEgdGlsaW5nIGltYWdlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsaW5nU3ByaXRlIGV4dGVuZHMgU3ByaXRlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MTAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dHVyZSwgd2lkdGggPSAxMDAsIGhlaWdodCA9IDEwMClcbiAgICB7XG4gICAgICAgIHN1cGVyKHRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWxlIHRyYW5zZm9ybVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcblxuICAgICAgICAvLyAvLy8gcHJpdmF0ZVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2l0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FudmFzIHBhdHRlcm5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0NhbnZhc1BhdHRlcm59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYW52YXNQYXR0ZXJuID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogbWF0cml4IHRoYXQgaXMgYXBwbGllZCB0byBVViB0byBnZXQgdGhlIGNvb3JkcyBpbiBUZXh0dXJlIG5vcm1hbGl6ZWQgc3BhY2UgdG8gY29vcmRzIGluIEJhc2VUZXh0dXJlIHNwYWNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZNYXRyaXggPSB0ZXh0dXJlLnV2TWF0cml4IHx8IG5ldyBUZXh0dXJlTWF0cml4KHRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyJyBtZXRob2QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ3RpbGluZ1Nwcml0ZSdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2luTmFtZSA9ICd0aWxpbmdTcHJpdGUnO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCBhbmNob3IgYWZmZWN0cyB1dnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZSZXNwZWN0QW5jaG9yID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcgaW4gY29ycmVzcG9uZGluZyB0ZXh0dXJlVHJhbnNmb3JtLCBzaG9ydGN1dFxuICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAqXG4gICAgICogQGRlZmF1bHQgMC41XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBjbGFtcE1hcmdpbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbjtcbiAgICB9XG5cbiAgICBzZXQgY2xhbXBNYXJnaW4odmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbiA9IHZhbHVlO1xuICAgICAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgZ2V0IHRpbGVTY2FsZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlO1xuICAgIH1cblxuICAgIHNldCB0aWxlU2NhbGUodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2Zmc2V0IG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBnZXQgdGlsZVBvc2l0aW9uKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb247XG4gICAgfVxuXG4gICAgc2V0IHRpbGVQb3NpdGlvbih2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uVGV4dHVyZVVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy51dk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBfcmVuZGVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgLy8gdHdlYWsgb3VyIHRleHR1cmUgdGVtcG9yYXJpbHkuLlxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUgfHwgIXRleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSgpO1xuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSB0aWxpbmcgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgY29uc3QgbWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgIGNvbnN0IG1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgY29uc3QgbWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBnZXRMb2NhbEJvdW5kcyhyZWN0KVxuICAgIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHNwcml0ZSBjb250YWlucyB0aGUgcG9pbnQuXG4gICAgICovXG4gICAgY29udGFpbnNQb2ludChwb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5fd2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgY29uc3QgeDEgPSAtd2lkdGggKiB0aGlzLmFuY2hvci5feDtcblxuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci5feTtcblxuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBkZXN0cm95KG9wdGlvbnMpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZNYXRyaXggPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgdGlsaW5nIHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShzb3VyY2UsIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZShUZXh0dXJlLmZyb20oc291cmNlKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHRpbGluZyBzcHJpdGUgdGhhdCB3aWxsIHVzZSBhIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZUNhY2hlIGJhc2VkIG9uIHRoZSBmcmFtZUlkXG4gICAgICogVGhlIGZyYW1lIGlkcyBhcmUgY3JlYXRlZCB3aGVuIGEgVGV4dHVyZSBwYWNrZXIgZmlsZSBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZnJhbWVJZCAtIFRoZSBmcmFtZSBJZCBvZiB0aGUgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUZyYW1lKGZyYW1lSWQsIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gVGV4dHVyZUNhY2hlW2ZyYW1lSWRdO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZnJhbWVJZCBcIiR7ZnJhbWVJZH1cIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSAke3RoaXN9YCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgc3ByaXRlIHRoYXQgd2lsbCBjb250YWluIGEgdGV4dHVyZSBiYXNlZCBvbiBhbiBpbWFnZSB1cmxcbiAgICAgKiBJZiB0aGUgaW1hZ2UgaXMgbm90IGluIHRoZSB0ZXh0dXJlIGNhY2hlIGl0IHdpbGwgYmUgbG9hZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGltYWdlSWQgLSBUaGUgaW1hZ2UgdXJsIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGltYWdlIGlkXG4gICAgICovXG4gICAgc3RhdGljIGZyb21JbWFnZShpbWFnZUlkLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgc3VwcG9ydCBmb3IgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSBwYXJhbWV0ZXJzXG4gICAgICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JylcbiAgICAgICAge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGFyZ3VtZW50c1s0XSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46IGFyZ3VtZW50c1szXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShpbWFnZUlkLCBvcHRpb25zKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICB9XG5cbiAgICBzZXQgd2lkdGgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUaWxpbmdTcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgIH1cblxuICAgIHNldCBoZWlnaHQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT2JqZWN0UmVuZGVyZXIsIFNoYWRlciwgUXVhZFV2IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBXUkFQX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgcHJlbXVsdGlwbHlUaW50VG9SZ2JhLCBjb3JyZWN0QmxlbmRNb2RlIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG5pbXBvcnQgdmVydGV4IGZyb20gJy4vdGlsaW5nU3ByaXRlLnZlcnQnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vdGlsaW5nU3ByaXRlLmZyYWcnO1xuaW1wb3J0IGZyYWdtZW50U2ltcGxlIGZyb20gJy4vdGlsaW5nU3ByaXRlX3NpbXBsZS5mcmFnJztcblxuY29uc3QgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcblxuLyoqXG4gKiBXZWJHTCByZW5kZXJlciBwbHVnaW4gZm9yIHRpbGluZyBzcHJpdGVzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWxpbmdTcHJpdGVSZW5kZXJlciBleHRlbmRzIE9iamVjdFJlbmRlcmVyXG57XG4gICAgLyoqXG4gICAgICogY29uc3RydWN0b3IgZm9yIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIFRoZSByZW5kZXJlciB0aGlzIHRpbGluZyBhd2Vzb21lbmVzcyB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSB7IGdsb2JhbHM6IHRoaXMucmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMgfTtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKTtcblxuICAgICAgICB0aGlzLnNpbXBsZVNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnRTaW1wbGUsIHVuaWZvcm1zKTtcblxuICAgICAgICB0aGlzLnF1YWQgPSBuZXcgUXVhZFV2KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGlsaW5nU3ByaXRlfSB0cyB0aWxpbmdTcHJpdGUgdG8gYmUgcmVuZGVyZWRcbiAgICAgKi9cbiAgICByZW5kZXIodHMpXG4gICAge1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIGNvbnN0IHF1YWQgPSB0aGlzLnF1YWQ7XG5cbiAgICAgICAgbGV0IHZlcnRpY2VzID0gcXVhZC52ZXJ0aWNlcztcblxuICAgICAgICB2ZXJ0aWNlc1swXSA9IHZlcnRpY2VzWzZdID0gKHRzLl93aWR0aCkgKiAtdHMuYW5jaG9yLng7XG4gICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSB0cy5faGVpZ2h0ICogLXRzLmFuY2hvci55O1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAodHMuX3dpZHRoKSAqICgxLjAgLSB0cy5hbmNob3IueCk7XG4gICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSB0cy5faGVpZ2h0ICogKDEuMCAtIHRzLmFuY2hvci55KTtcblxuICAgICAgICBpZiAodHMudXZSZXNwZWN0QW5jaG9yKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0aWNlcyA9IHF1YWQudXZzO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1swXSA9IHZlcnRpY2VzWzZdID0gLXRzLmFuY2hvci54O1xuICAgICAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IC10cy5hbmNob3IueTtcblxuICAgICAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9IDEuMCAtIHRzLmFuY2hvci54O1xuICAgICAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IDEuMCAtIHRzLmFuY2hvci55O1xuICAgICAgICB9XG5cbiAgICAgICAgcXVhZC5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgY29uc3QgdGV4ID0gdHMuX3RleHR1cmU7XG4gICAgICAgIGNvbnN0IGJhc2VUZXggPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIGNvbnN0IGx0ID0gdHMudGlsZVRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgdXYgPSB0cy51dk1hdHJpeDtcbiAgICAgICAgbGV0IGlzU2ltcGxlID0gYmFzZVRleC5pc1Bvd2VyT2ZUd29cbiAgICAgICAgICAgICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcblxuICAgICAgICAvLyBhdXRvLCBmb3JjZSByZXBlYXQgd3JhcE1vZGUgZm9yIGJpZyB0aWxpbmcgdGV4dHVyZXNcbiAgICAgICAgaWYgKGlzU2ltcGxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWJhc2VUZXguX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChiYXNlVGV4LndyYXBNb2RlID09PSBXUkFQX01PREVTLkNMQU1QKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleC53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzaGFkZXIgPSBpc1NpbXBsZSA/IHRoaXMuc2ltcGxlU2hhZGVyIDogdGhpcy5zaGFkZXI7XG5cbiAgICAgICAgY29uc3QgdyA9IHRleC53aWR0aDtcbiAgICAgICAgY29uc3QgaCA9IHRleC5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IFcgPSB0cy5fd2lkdGg7XG4gICAgICAgIGNvbnN0IEggPSB0cy5faGVpZ2h0O1xuXG4gICAgICAgIHRlbXBNYXQuc2V0KGx0LmEgKiB3IC8gVyxcbiAgICAgICAgICAgIGx0LmIgKiB3IC8gSCxcbiAgICAgICAgICAgIGx0LmMgKiBoIC8gVyxcbiAgICAgICAgICAgIGx0LmQgKiBoIC8gSCxcbiAgICAgICAgICAgIGx0LnR4IC8gVyxcbiAgICAgICAgICAgIGx0LnR5IC8gSCk7XG5cbiAgICAgICAgLy8gdGhhdCBwYXJ0IGlzIHRoZSBzYW1lIGFzIGFib3ZlOlxuICAgICAgICAvLyB0ZW1wTWF0LmlkZW50aXR5KCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUodGV4LndpZHRoLCB0ZXguaGVpZ2h0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5wcmVwZW5kKGx0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSgxLjAgLyB0cy5fd2lkdGgsIDEuMCAvIHRzLl9oZWlnaHQpO1xuXG4gICAgICAgIHRlbXBNYXQuaW52ZXJ0KCk7XG4gICAgICAgIGlmIChpc1NpbXBsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcE1hdC5wcmVwZW5kKHV2Lm1hcENvb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51TWFwQ29vcmQgPSB1di5tYXBDb29yZC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcEZyYW1lID0gdXYudUNsYW1wRnJhbWU7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wT2Zmc2V0ID0gdXYudUNsYW1wT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0gPSB0ZW1wTWF0LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVRpbnRUb1JnYmEodHMudGludCwgdHMud29ybGRBbHBoYSxcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXgucHJlbXVsdGlwbHlBbHBoYSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSB0ZXg7XG5cbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyKTtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChxdWFkKTsvLyAsIHJlbmRlcmVyLnNoYWRlci5nZXRHTFNoYWRlcigpKTtcblxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoY29ycmVjdEJsZW5kTW9kZSh0cy5ibGVuZE1vZGUsIGJhc2VUZXgucHJlbXVsdGlwbHlBbHBoYSkpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLCA2LCAwKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IE9ic2VydmFibGVQb2ludCwgUG9pbnQsIFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgcmVtb3ZlSXRlbXMsIGdldFJlc29sdXRpb25PZlVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBBIEJpdG1hcFRleHQgb2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0IHVzaW5nIGJpdG1hcCBmb250LlxuICpcbiAqIFRoZSBwcmltYXJ5IGFkdmFudGFnZSBvZiB0aGlzIGNsYXNzIG92ZXIgVGV4dCBpcyB0aGF0IGFsbCBvZiB5b3VyIHRleHR1cmVzIGFyZSBwcmUtZ2VuZXJhdGVkIGFuZCBsb2FkaW5nLFxuICogbWVhbmluZyB0aGF0IHJlbmRlcmluZyBpcyBmYXN0LCBhbmQgY2hhbmdpbmcgdGV4dCBoYXMgbm8gcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLlxuICpcbiAqIFRoZSBwcmltYXJ5IGRpc2FkdmFudGFnZSBpcyB0aGF0IHlvdSBuZWVkIHRvIHByZWxvYWQgdGhlIGJpdG1hcCBmb250IGFzc2V0cywgYW5kIHRodXMgdGhlIHN0eWxpbmcgaXMgc2V0IGluIHN0b25lLlxuICogU3VwcG9ydGluZyBjaGFyYWN0ZXIgc2V0cyBvdGhlciB0aGFuIGxhdGluLCBzdWNoIGFzIENKSyBsYW5ndWFnZXMsIG1heSBiZSBpbXByYWN0aWNhbCBkdWUgdG8gdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzLlxuICpcbiAqIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJywgJ1xccicgb3IgJ1xcclxcbicgaW4geW91ciBzdHJpbmcuXG4gKlxuICogWW91IGNhbiBnZW5lcmF0ZSB0aGUgZm50IGZpbGVzIHVzaW5nXG4gKiBodHRwOi8vd3d3LmFuZ2VsY29kZS5jb20vcHJvZHVjdHMvYm1mb250LyBmb3IgV2luZG93cyBvclxuICogaHR0cDovL3d3dy5ibWdseXBoLmNvbS8gZm9yIE1hYy5cbiAqXG4gKiBBIEJpdG1hcFRleHQgY2FuIG9ubHkgYmUgY3JlYXRlZCB3aGVuIHRoZSBmb250IGlzIGxvYWRlZC5cbiAqXG4gKiBgYGBqc1xuICogLy8gaW4gdGhpcyBjYXNlIHRoZSBmb250IGlzIGluIGEgZmlsZSBjYWxsZWQgJ2Rlc3lyZWwuZm50J1xuICogbGV0IGJpdG1hcFRleHQgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwidGV4dCB1c2luZyBhIGZhbmN5IGZvbnQhXCIsIHtmb250OiBcIjM1cHggRGVzeXJlbFwiLCBhbGlnbjogXCJyaWdodFwifSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaXRtYXBUZXh0IGV4dGVuZHMgQ29udGFpbmVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBBIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXkuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBzdHlsZS5mb250IC0gVGhlIGZvbnQgZGVzY3JpcHRvciBmb3IgdGhlIG9iamVjdCwgY2FuIGJlIHBhc3NlZCBhcyBhIHN0cmluZyBvZiBmb3JtXG4gICAgICogICAgICBcIjI0cHggRm9udE5hbWVcIiBvciBcIkZvbnROYW1lXCIgb3IgYXMgYW4gb2JqZWN0IHdpdGggZXhwbGljaXQgbmFtZS9zaXplIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250Lm5hbWVdIC0gVGhlIGJpdG1hcCBmb250IGlkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZm9udC5zaXplXSAtIFRoZSBzaXplIG9mIHRoZSBmb250IGluIHBpeGVscywgZS5nLiAyNFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuYWxpZ249J2xlZnQnXSAtIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksIGRvZXMgbm90IGFmZmVjdFxuICAgICAqICAgICAgc2luZ2xlIGxpbmUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnRpbnQ9MHhGRkZGRkZdIC0gVGhlIHRpbnQgY29sb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dCwgc3R5bGUgPSB7fSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dFdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGxldHRlciBzcHJpdGUgcG9vbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGVbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2dseXBocyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mb250ID0ge1xuICAgICAgICAgICAgdGludDogc3R5bGUudGludCAhPT0gdW5kZWZpbmVkID8gc3R5bGUudGludCA6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxpZ246IHN0eWxlLmFsaWduIHx8ICdsZWZ0JyxcbiAgICAgICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgICAgICBzaXplOiAwLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm9udCA9IHN0eWxlLmZvbnQ7IC8vIHJ1biBmb250IHNldHRlclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdmFsdWUgdG8gMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpZTogd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4TGluZUhlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExldHRlciBzcGFjaW5nLiBUaGlzIGlzIHVzZWZ1bCBmb3Igc2V0dGluZyB0aGUgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBhbmNob3IuIHJlYWQtb25seVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG5ldyBPYnNlcnZhYmxlUG9pbnQoKCkgPT4geyB0aGlzLmRpcnR5ID0gdHJ1ZTsgfSwgdGhpcywgMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXJ0eSBzdGF0ZSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXBkYXRlVGV4dCgpXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2ZvbnQuc2l6ZSAvIGRhdGEuc2l6ZTtcbiAgICAgICAgY29uc3QgcG9zID0gbmV3IFBvaW50KCk7XG4gICAgICAgIGNvbnN0IGNoYXJzID0gW107XG4gICAgICAgIGNvbnN0IGxpbmVXaWR0aHMgPSBbXTtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuX3RleHQucmVwbGFjZSgvKD86XFxyXFxufFxccikvZywgJ1xcbicpIHx8ICcgJztcbiAgICAgICAgY29uc3QgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHRoaXMuX21heFdpZHRoICogZGF0YS5zaXplIC8gdGhpcy5fZm9udC5zaXplO1xuXG4gICAgICAgIGxldCBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICBsZXQgbGFzdExpbmVXaWR0aCA9IDA7XG4gICAgICAgIGxldCBtYXhMaW5lV2lkdGggPSAwO1xuICAgICAgICBsZXQgbGluZSA9IDA7XG4gICAgICAgIGxldCBsYXN0QnJlYWtQb3MgPSAtMTtcbiAgICAgICAgbGV0IGxhc3RCcmVha1dpZHRoID0gMDtcbiAgICAgICAgbGV0IHNwYWNlc1JlbW92ZWQgPSAwO1xuICAgICAgICBsZXQgbWF4TGluZUhlaWdodCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0TGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJDb2RlID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgY29uc3QgY2hhciA9IHRleHQuY2hhckF0KGkpO1xuXG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChjaGFyKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSBpO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1dpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdcXHInIHx8IGNoYXIgPT09ICdcXG4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgICsrbGluZTtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNoYXJEYXRhID0gZGF0YS5jaGFyc1tjaGFyQ29kZV07XG5cbiAgICAgICAgICAgIGlmICghY2hhckRhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcmV2Q2hhckNvZGUgJiYgY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hhcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGV4dHVyZTogY2hhckRhdGEudGV4dHVyZSxcbiAgICAgICAgICAgICAgICBsaW5lLFxuICAgICAgICAgICAgICAgIGNoYXJDb2RlLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgUG9pbnQocG9zLnggKyBjaGFyRGF0YS54T2Zmc2V0ICsgKHRoaXMuX2xldHRlclNwYWNpbmcgLyAyKSwgcG9zLnkgKyBjaGFyRGF0YS55T2Zmc2V0KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEueEFkdmFuY2UgKyB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IHBvcy54O1xuICAgICAgICAgICAgbWF4TGluZUhlaWdodCA9IE1hdGgubWF4KG1heExpbmVIZWlnaHQsIChjaGFyRGF0YS55T2Zmc2V0ICsgY2hhckRhdGEudGV4dHVyZS5oZWlnaHQpKTtcbiAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IGNoYXJDb2RlO1xuXG4gICAgICAgICAgICBpZiAobGFzdEJyZWFrUG9zICE9PSAtMSAmJiBtYXhXaWR0aCA+IDAgJiYgcG9zLnggPiBtYXhXaWR0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXMoY2hhcnMsIDEgKyBsYXN0QnJlYWtQb3MgLSBzcGFjZXNSZW1vdmVkLCAxICsgaSAtIGxhc3RCcmVha1Bvcyk7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RCcmVha1BvcztcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSAtMTtcblxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZSsrO1xuXG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFzdENoYXIgPSB0ZXh0LmNoYXJBdCh0ZXh0Lmxlbmd0aCAtIDEpO1xuXG4gICAgICAgIGlmIChsYXN0Q2hhciAhPT0gJ1xccicgJiYgbGFzdENoYXIgIT09ICdcXG4nKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChsYXN0Q2hhcikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IGxhc3RCcmVha1dpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGluZUFsaWduT2Zmc2V0cyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGxpbmU7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGFsaWduT2Zmc2V0ID0gMDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnQuYWxpZ24gPT09ICdyaWdodCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fZm9udC5hbGlnbiA9PT0gJ2NlbnRlcicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXSkgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lQWxpZ25PZmZzZXRzLnB1c2goYWxpZ25PZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGVuQ2hhcnMgPSBjaGFycy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHRpbnQgPSB0aGlzLnRpbnQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5DaGFyczsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgYyA9IHRoaXMuX2dseXBoc1tpXTsgLy8gZ2V0IHRoZSBuZXh0IGdseXBoIHNwcml0ZVxuXG4gICAgICAgICAgICBpZiAoYylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjLnRleHR1cmUgPSBjaGFyc1tpXS50ZXh0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGMgPSBuZXcgU3ByaXRlKGNoYXJzW2ldLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGMucm91bmRQaXhlbHMgPSB0aGlzLnJvdW5kUGl4ZWxzO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dseXBocy5wdXNoKGMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjLnBvc2l0aW9uLnggPSAoY2hhcnNbaV0ucG9zaXRpb24ueCArIGxpbmVBbGlnbk9mZnNldHNbY2hhcnNbaV0ubGluZV0pICogc2NhbGU7XG4gICAgICAgICAgICBjLnBvc2l0aW9uLnkgPSBjaGFyc1tpXS5wb3NpdGlvbi55ICogc2NhbGU7XG4gICAgICAgICAgICBjLnNjYWxlLnggPSBjLnNjYWxlLnkgPSBzY2FsZTtcbiAgICAgICAgICAgIGMudGludCA9IHRpbnQ7XG5cbiAgICAgICAgICAgIGlmICghYy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSB1bm5lY2Vzc2FyeSBjaGlsZHJlbi5cbiAgICAgICAgZm9yIChsZXQgaSA9IGxlbkNoYXJzOyBpIDwgdGhpcy5fZ2x5cGhzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuX2dseXBoc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IChwb3MueSArIGRhdGEubGluZUhlaWdodCkgKiBzY2FsZTtcblxuICAgICAgICAvLyBhcHBseSBhbmNob3JcbiAgICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5DaGFyczsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dseXBoc1tpXS54IC09IHRoaXMuX3RleHRXaWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzW2ldLnkgLT0gdGhpcy5fdGV4dEhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF4TGluZUhlaWdodCA9IG1heExpbmVIZWlnaHQgKiBzY2FsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXBkYXRlVHJhbnNmb3JtKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGV4dCBiZWZvcmUgY2FsbGluZyBwYXJlbnQncyBnZXRMb2NhbEJvdW5kc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG4gICAgZ2V0TG9jYWxCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiBzdXBlci5nZXRMb2NhbEJvdW5kcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB2YWxpZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHRpbnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQudGludDtcbiAgICB9XG5cbiAgICBzZXQgdGludCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9mb250LnRpbnQgPSAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSA+PSAwKSA/IHZhbHVlIDogMHhGRkZGRkY7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFsaWdubWVudCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgJ2xlZnQnXG4gICAgICovXG4gICAgZ2V0IGFsaWduKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250LmFsaWduO1xuICAgIH1cblxuICAgIHNldCBhbGlnbih2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9mb250LmFsaWduID0gdmFsdWUgfHwgJ2xlZnQnO1xuXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0LlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgxLDEpYCB3b3VsZCBtZWFuIHRoZSB0ZXh0J3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50IHwgbnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBhbmNob3IoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICB9XG5cbiAgICBzZXQgYW5jaG9yKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZm9udCBkZXNjcmlwdG9yIG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKi9cbiAgICBnZXQgZm9udCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udDtcbiAgICB9XG5cbiAgICBzZXQgZm9udCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zcGxpdCgnICcpO1xuXG4gICAgICAgICAgICB0aGlzLl9mb250Lm5hbWUgPSB2YWx1ZS5sZW5ndGggPT09IDEgPyB2YWx1ZVswXSA6IHZhbHVlLnNsaWNlKDEpLmpvaW4oJyAnKTtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnQuc2l6ZSA9IHZhbHVlLmxlbmd0aCA+PSAyID8gcGFyc2VJbnQodmFsdWVbMF0sIDEwKSA6IEJpdG1hcFRleHQuZm9udHNbdGhpcy5fZm9udC5uYW1lXS5zaXplO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udC5uYW1lID0gdmFsdWUubmFtZTtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnQuc2l6ZSA9IHR5cGVvZiB2YWx1ZS5zaXplID09PSAnbnVtYmVyJyA/IHZhbHVlLnNpemUgOiBwYXJzZUludCh2YWx1ZS5zaXplLCAxMCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IHRleHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgfVxuXG4gICAgc2V0IHRleHQodGV4dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcblxuICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHRoZSB2YWx1ZSB0byAwLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBtYXhXaWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWF4V2lkdGg7XG4gICAgfVxuXG4gICAgc2V0IG1heFdpZHRoKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9tYXhXaWR0aCA9PT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXhXaWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgKiBpLmUuIHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IG1heExpbmVIZWlnaHQoKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhMaW5lSGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHRleHRXaWR0aCgpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRXaWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRpdGlvbmFsIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbGV0dGVyU3BhY2luZygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICB9XG5cbiAgICBzZXQgbGV0dGVyU3BhY2luZyh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHRleHRIZWlnaHQoKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0SGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgYml0bWFwIGZvbnQgd2l0aCBkYXRhIGFuZCBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtYTUxEb2N1bWVudH0geG1sIC0gVGhlIFhNTCBkb2N1bWVudCBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT58UElYSS5UZXh0dXJlfFBJWEkuVGV4dHVyZVtdfSB0ZXh0dXJlcyAtIExpc3Qgb2YgdGV4dHVyZXMgZm9yIGVhY2ggcGFnZS5cbiAgICAgKiAgSWYgcHJvdmlkaW5nIGFuIG9iamVjdCwgdGhlIGtleSBpcyB0aGUgYDxwYWdlPmAgZWxlbWVudCdzIGBmaWxlYCBhdHRyaWJ1dGUgaW4gdGhlIEZOVCBmaWxlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gUmVzdWx0IGZvbnQgb2JqZWN0IHdpdGggZm9udCwgc2l6ZSwgbGluZUhlaWdodCBhbmQgY2hhciBmaWVsZHMuXG4gICAgICovXG4gICAgc3RhdGljIHJlZ2lzdGVyRm9udCh4bWwsIHRleHR1cmVzKVxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICBjb25zdCBpbmZvID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF07XG4gICAgICAgIGNvbnN0IGNvbW1vbiA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY29tbW9uJylbMF07XG4gICAgICAgIGNvbnN0IHBhZ2VzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIGNvbnN0IHJlcyA9IGdldFJlc29sdXRpb25PZlVybChwYWdlc1swXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKSwgc2V0dGluZ3MuUkVTT0xVVElPTik7XG4gICAgICAgIGNvbnN0IHBhZ2VzVGV4dHVyZXMgPSB7fTtcblxuICAgICAgICBkYXRhLmZvbnQgPSBpbmZvLmdldEF0dHJpYnV0ZSgnZmFjZScpO1xuICAgICAgICBkYXRhLnNpemUgPSBwYXJzZUludChpbmZvLmdldEF0dHJpYnV0ZSgnc2l6ZScpLCAxMCk7XG4gICAgICAgIGRhdGEubGluZUhlaWdodCA9IHBhcnNlSW50KGNvbW1vbi5nZXRBdHRyaWJ1dGUoJ2xpbmVIZWlnaHQnKSwgMTApIC8gcmVzO1xuICAgICAgICBkYXRhLmNoYXJzID0ge307XG5cbiAgICAgICAgLy8gU2luZ2xlIHRleHR1cmUsIGNvbnZlcnQgdG8gbGlzdFxuICAgICAgICBpZiAodGV4dHVyZXMgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlcyA9IFt0ZXh0dXJlc107XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb252ZXJ0IHRoZSBpbnB1dCBUZXh0dXJlLCBUZXh0dXJlcyBvciBvYmplY3RcbiAgICAgICAgLy8gaW50byBhIHBhZ2UgVGV4dHVyZSBsb29rdXAgYnkgXCJpZFwiXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gcGFnZXNbaV0uZ2V0QXR0cmlidXRlKCdpZCcpO1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHBhZ2VzW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpO1xuXG4gICAgICAgICAgICBwYWdlc1RleHR1cmVzW2lkXSA9IHRleHR1cmVzIGluc3RhbmNlb2YgQXJyYXkgPyB0ZXh0dXJlc1tpXSA6IHRleHR1cmVzW2ZpbGVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFyc2UgbGV0dGVyc1xuICAgICAgICBjb25zdCBsZXR0ZXJzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjaGFyJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZXR0ZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBsZXR0ZXIgPSBsZXR0ZXJzW2ldO1xuICAgICAgICAgICAgY29uc3QgY2hhckNvZGUgPSBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCk7XG4gICAgICAgICAgICBjb25zdCBwYWdlID0gbGV0dGVyLmdldEF0dHJpYnV0ZSgncGFnZScpIHx8IDA7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlUmVjdCA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgKHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3gnKSwgMTApIC8gcmVzKSArIChwYWdlc1RleHR1cmVzW3BhZ2VdLmZyYW1lLnggLyByZXMpLFxuICAgICAgICAgICAgICAgIChwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5JyksIDEwKSAvIHJlcykgKyAocGFnZXNUZXh0dXJlc1twYWdlXS5mcmFtZS55IC8gcmVzKSxcbiAgICAgICAgICAgICAgICBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JyksIDEwKSAvIHJlc1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZGF0YS5jaGFyc1tjaGFyQ29kZV0gPSB7XG4gICAgICAgICAgICAgICAgeE9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneG9mZnNldCcpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAgeU9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneW9mZnNldCcpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hhZHZhbmNlJyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICBrZXJuaW5nOiB7fSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBuZXcgVGV4dHVyZShwYWdlc1RleHR1cmVzW3BhZ2VdLmJhc2VUZXh0dXJlLCB0ZXh0dXJlUmVjdCksXG4gICAgICAgICAgICAgICAgcGFnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYXJzZSBrZXJuaW5nc1xuICAgICAgICBjb25zdCBrZXJuaW5ncyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgna2VybmluZycpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2VybmluZ3MubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGtlcm5pbmcgPSBrZXJuaW5nc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ2ZpcnN0JyksIDEwKSAvIHJlcztcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdzZWNvbmQnKSwgMTApIC8gcmVzO1xuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ2Ftb3VudCcpLCAxMCkgLyByZXM7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLmNoYXJzW3NlY29uZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YS5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSSdtIGxlYXZpbmcgdGhpcyBhcyBhIHRlbXBvcmFyeSBmaXggc28gd2UgY2FuIHRlc3QgdGhlIGJpdG1hcCBmb250cyBpbiB2M1xuICAgICAgICAvLyBidXQgaXQncyB2ZXJ5IGxpa2VseSB0byBjaGFuZ2VcbiAgICAgICAgQml0bWFwVGV4dC5mb250c1tkYXRhLmZvbnRdID0gZGF0YTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59XG5cbkJpdG1hcFRleHQuZm9udHMgPSB7fTtcbiIsImltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5pbXBvcnQgQml0bWFwVGV4dCBmcm9tICcuL0JpdG1hcFRleHQnO1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmdcbiAqIGJpdG1hcC1iYXNlZCBmb250cyBzdWl0YWJsZSBmb3IgdXNpbmcgd2l0aCB7QGxpbmsgUElYSS5CaXRtYXBUZXh0fS5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaXRtYXBGb250TG9hZGVyXG57XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBCaXRtYXBUZXh0IGZvbnQgZnJvbSBsb2FkZXIgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlIC0gTG9hZGVyIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHRleHR1cmUuXG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlKHJlc291cmNlLCB0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgcmVzb3VyY2UuYml0bWFwRm9udCA9IEJpdG1hcFRleHQucmVnaXN0ZXJGb250KHJlc291cmNlLmRhdGEsIHRleHR1cmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBwbHVnaW4gaXMgaW5zdGFsbGVkLlxuICAgICAqXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5yZWdpc3RlclBsdWdpblxuICAgICAqL1xuICAgIHN0YXRpYyBhZGQoKVxuICAgIHtcbiAgICAgICAgTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnZm50JywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VtZW50IGZvciBOb2RlSlMncyBwYXRoLmRpcm5hbWVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUGF0aCB0byBnZXQgZGlyZWN0b3J5IGZvclxuICAgICAqL1xuICAgIHN0YXRpYyBkaXJuYW1lKHVybClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRpciA9IHVybFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcLyQvLCAnJykgLy8gcmVwbGFjZSB0cmFpbGluZyBzbGFzaFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcL1teXFwvXSokLywgJycpOyAvLyByZW1vdmUgZXZlcnl0aGluZyBhZnRlciB0aGUgbGFzdFxuXG4gICAgICAgIC8vIEZpbGUgcmVxdWVzdCBpcyByZWxhdGl2ZSwgdXNlIGN1cnJlbnQgZGlyZWN0b3J5XG4gICAgICAgIGlmIChkaXIgPT09IHVybClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICcuJztcbiAgICAgICAgfVxuICAgICAgICAvLyBTdGFydGVkIHdpdGggYSBzbGFzaFxuICAgICAgICBlbHNlIGlmIChkaXIgPT09ICcnKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRpcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBzdGF0aWMgdXNlKHJlc291cmNlLCBuZXh0KVxuICAgIHtcbiAgICAgICAgLy8gc2tpcCBpZiBubyBkYXRhIG9yIG5vdCB4bWwgZGF0YVxuICAgICAgICBpZiAoIXJlc291cmNlLmRhdGEgfHwgcmVzb3VyY2UudHlwZSAhPT0gTG9hZGVyUmVzb3VyY2UuVFlQRS5YTUwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5leHQoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2tpcCBpZiBub3QgYml0bWFwIGZvbnQgZGF0YSwgdXNpbmcgc29tZSBzaWxseSBkdWNrLXR5cGluZ1xuICAgICAgICBpZiAocmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgfHwgcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgfHwgcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpWzBdLmdldEF0dHJpYnV0ZSgnZmFjZScpID09PSBudWxsXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgeG1sVXJsID0gIXJlc291cmNlLmlzRGF0YVVybCA/IEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZShyZXNvdXJjZS51cmwpIDogJyc7XG5cbiAgICAgICAgaWYgKHJlc291cmNlLmlzRGF0YVVybClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHhtbFVybCA9PT0gJy4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHhtbFVybCA9ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5iYXNlVXJsICYmIHhtbFVybClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBiYXNldXJsIGhhcyBhIHRyYWlsaW5nIHNsYXNoIHRoZW4gYWRkIG9uZSB0byB4bWxVcmwgc28gdGhlIHJlcGxhY2Ugd29ya3MgYmVsb3dcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iYXNlVXJsLmNoYXJBdCh0aGlzLmJhc2VVcmwubGVuZ3RoIC0gMSkgPT09ICcvJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGJhc2VVcmwgZnJvbSB4bWxVcmxcbiAgICAgICAgeG1sVXJsID0geG1sVXJsLnJlcGxhY2UodGhpcy5iYXNlVXJsLCAnJyk7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4geG1sVXJsIG5vdywgaXQgbmVlZHMgYSB0cmFpbGluZyBzbGFzaC4gRW5zdXJlIHRoYXQgaXQgZG9lcyBpZiB0aGUgc3RyaW5nIGlzbid0IGVtcHR5LlxuICAgICAgICBpZiAoeG1sVXJsICYmIHhtbFVybC5jaGFyQXQoeG1sVXJsLmxlbmd0aCAtIDEpICE9PSAnLycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYWdlcyA9IHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKTtcbiAgICAgICAgY29uc3QgdGV4dHVyZXMgPSB7fTtcblxuICAgICAgICAvLyBIYW5kbGUgY29tcGxldGVkLCB3aGVuIHRoZSBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgICAgLy8gbG9hZCBpcyB0aGUgc2FtZSBudW1iZXIgYXMgcmVmZXJlbmNlcyBpbiB0aGUgZm50IGZpbGVcbiAgICAgICAgY29uc3QgY29tcGxldGVkID0gKHBhZ2UpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzW3BhZ2UubWV0YWRhdGEucGFnZUZpbGVdID0gcGFnZS50ZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGV4dHVyZXMpLmxlbmd0aCA9PT0gcGFnZXMubGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEJpdG1hcEZvbnRMb2FkZXIucGFyc2UocmVzb3VyY2UsIHRleHR1cmVzKTtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGFnZUZpbGUgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHhtbFVybCArIHBhZ2VGaWxlO1xuICAgICAgICAgICAgbGV0IGV4aXN0cyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBpbmNhc2UgdGhlIGltYWdlIGlzIGxvYWRlZCBvdXRzaWRlXG4gICAgICAgICAgICAvLyB1c2luZyB0aGUgc2FtZSBsb2FkZXIsIHJlc291cmNlIHdpbGwgYmUgYXZhaWxhYmxlXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdGhpcy5yZXNvdXJjZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYml0bWFwUmVzb3VyY2UgPSB0aGlzLnJlc291cmNlc1tuYW1lXTtcblxuICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS51cmwgPT09IHVybClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm1ldGFkYXRhLnBhZ2VGaWxlID0gcGFnZUZpbGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS50ZXh0dXJlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQoYml0bWFwUmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuYWRkKGNvbXBsZXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0ZXh0dXJlIGlzIG5vdCBsb2FkZWQsIHdlJ2xsIGF0dGVtcHQgdG8gYWRkXG4gICAgICAgICAgICAvLyBpdCB0byB0aGUgbG9hZCBhbmQgYWRkIHRoZSB0ZXh0dXJlIHRvIHRoZSBsaXN0XG4gICAgICAgICAgICBpZiAoIWV4aXN0cylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBTdGFuZGFyZCBsb2FkaW5nIG9wdGlvbnMgZm9yIGltYWdlc1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgbG9hZFR5cGU6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhZ2VGaWxlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQodXJsLCBvcHRpb25zLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsdGVyLCBkZWZhdWx0VmVydGV4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9hbHBoYS5mcmFnJztcblxuLyoqXG4gKiBTaW1wbGVzdCBmaWx0ZXIgLSBhcHBsaWVzIGFscGhhLlxuICpcbiAqIFVzZSB0aGlzIGluc3RlYWQgb2YgQ29udGFpbmVyJ3MgYWxwaGEgcHJvcGVydHkgdG8gYXZvaWQgdmlzdWFsIGxheWVyaW5nIG9mIGluZGl2aWR1YWwgZWxlbWVudHMuXG4gKiBBbHBoYUZpbHRlciBhcHBsaWVzIGFscGhhIGV2ZW5seSBhY3Jvc3MgdGhlIGVudGlyZSBkaXNwbGF5IG9iamVjdCBhbmQgYW55IG9wYXF1ZSBlbGVtZW50cyBpdCBjb250YWlucy5cbiAqIElmIGVsZW1lbnRzIGFyZSBub3Qgb3BhcXVlLCB0aGV5IHdpbGwgYmxlbmQgd2l0aCBlYWNoIG90aGVyIGFueXdheS5cbiAqXG4gKiBWZXJ5IGhhbmR5IGlmIHlvdSB3YW50IHRvIHVzZSBjb21tb24gZmVhdHVyZXMgb2YgYWxsIGZpbHRlcnM6XG4gKlxuICogMS4gQXNzaWduIGEgYmxlbmRNb2RlIHRvIHRoaXMgZmlsdGVyLCBibGVuZCBhbGwgZWxlbWVudHMgaW5zaWRlIGRpc3BsYXkgb2JqZWN0IHdpdGggYmFja2dyb3VuZC5cbiAqXG4gKiAyLiBUbyB1c2UgY2xpcHBpbmcgaW4gZGlzcGxheSBjb29yZGluYXRlcywgYXNzaWduIGEgZmlsdGVyQXJlYSB0byB0aGUgc2FtZSBjb250YWluZXIgdGhhdCBoYXMgdGhpcyBmaWx0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbHBoYUZpbHRlciBleHRlbmRzIEZpbHRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gQW1vdW50IG9mIGFscGhhIGZyb20gMCB0byAxLCB3aGVyZSAwIGlzIHRyYW5zcGFyZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYWxwaGEgPSAxLjApXG4gICAge1xuICAgICAgICBzdXBlcihkZWZhdWx0VmVydGV4LCBmcmFnbWVudCwgeyB1QWxwaGE6IDEgfSk7XG5cbiAgICAgICAgdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvZWZmaWNpZW50IGZvciBhbHBoYSBtdWx0aXBsaWNhdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBnZXQgYWxwaGEoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICAgIH1cblxuICAgIHNldCBhbHBoYSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgIH1cbn1cbiIsImNvbnN0IHZlcnRUZW1wbGF0ZSA9IGBcbiAgICBhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XG5cbiAgICB1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcblxuICAgIHVuaWZvcm0gZmxvYXQgc3RyZW5ndGg7XG5cbiAgICB2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTtcblxuICAgIHVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XG4gICAgdW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xuICAgIFxuICAgIHZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxuICAgIHtcbiAgICAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XG4gICAgXG4gICAgICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcbiAgICB9XG4gICAgXG4gICAgdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XG4gICAgfVxuXG4gICAgdm9pZCBtYWluKHZvaWQpXG4gICAge1xuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XG5cbiAgICAgICAgdmVjMiB0ZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcbiAgICAgICAgJWJsdXIlXG4gICAgfWA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlQmx1clZlcnRTb3VyY2Uoa2VybmVsU2l6ZSwgeClcbntcbiAgICBjb25zdCBoYWxmTGVuZ3RoID0gTWF0aC5jZWlsKGtlcm5lbFNpemUgLyAyKTtcblxuICAgIGxldCB2ZXJ0U291cmNlID0gdmVydFRlbXBsYXRlO1xuXG4gICAgbGV0IGJsdXJMb29wID0gJyc7XG4gICAgbGV0IHRlbXBsYXRlO1xuICAgIC8vIGxldCB2YWx1ZTtcblxuICAgIGlmICh4KVxuICAgIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMiglc2FtcGxlSW5kZXglICogc3RyZW5ndGgsIDAuMCk7JztcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMigwLjAsICVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCk7JztcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKylcbiAgICB7XG4gICAgICAgIGxldCBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkpO1xuXG4gICAgICAgIC8vIHZhbHVlID0gaTtcblxuICAgICAgICAvLyBpZihpID49IGhhbGZMZW5ndGgpXG4gICAgICAgIC8vIHtcbiAgICAgICAgLy8gICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXNhbXBsZUluZGV4JScsIGAke2kgLSAoaGFsZkxlbmd0aCAtIDEpfS4wYCk7XG5cbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuXG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJWJsdXIlJywgYmx1ckxvb3ApO1xuICAgIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoJyVzaXplJScsIGtlcm5lbFNpemUpO1xuXG4gICAgcmV0dXJuIHZlcnRTb3VyY2U7XG59XG4iLCJjb25zdCBHQVVTU0lBTl9WQUxVRVMgPSB7XG4gICAgNTogWzAuMTUzMzg4LCAwLjIyMTQ2MSwgMC4yNTAzMDFdLFxuICAgIDc6IFswLjA3MTMwMywgMC4xMzE1MTQsIDAuMTg5ODc5LCAwLjIxNDYwN10sXG4gICAgOTogWzAuMDI4NTMyLCAwLjA2NzIzNCwgMC4xMjQwMDksIDAuMTc5MDQ0LCAwLjIwMjM2XSxcbiAgICAxMTogWzAuMDA5MywgMC4wMjgwMDIsIDAuMDY1OTg0LCAwLjEyMTcwMywgMC4xNzU3MTMsIDAuMTk4NTk2XSxcbiAgICAxMzogWzAuMDAyNDA2LCAwLjAwOTI1NSwgMC4wMjc4NjcsIDAuMDY1NjY2LCAwLjEyMTExNywgMC4xNzQ4NjgsIDAuMTk3NjQxXSxcbiAgICAxNTogWzAuMDAwNDg5LCAwLjAwMjQwMywgMC4wMDkyNDYsIDAuMDI3ODQsIDAuMDY1NjAyLCAwLjEyMDk5OSwgMC4xNzQ2OTcsIDAuMTk3NDQ4XSxcbn07XG5cbmNvbnN0IGZyYWdUZW1wbGF0ZSA9IFtcbiAgICAndmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07JyxcbiAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7JyxcblxuICAgICd2b2lkIG1haW4odm9pZCknLFxuICAgICd7JyxcbiAgICAnICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLFxuICAgICcgICAgJWJsdXIlJyxcbiAgICAnfScsXG5cbl0uam9pbignXFxuJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlQmx1ckZyYWdTb3VyY2Uoa2VybmVsU2l6ZSlcbntcbiAgICBjb25zdCBrZXJuZWwgPSBHQVVTU0lBTl9WQUxVRVNba2VybmVsU2l6ZV07XG4gICAgY29uc3QgaGFsZkxlbmd0aCA9IGtlcm5lbC5sZW5ndGg7XG5cbiAgICBsZXQgZnJhZ1NvdXJjZSA9IGZyYWdUZW1wbGF0ZTtcblxuICAgIGxldCBibHVyTG9vcCA9ICcnO1xuICAgIGNvbnN0IHRlbXBsYXRlID0gJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7JztcbiAgICBsZXQgdmFsdWU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKylcbiAgICB7XG4gICAgICAgIGxldCBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkpO1xuXG4gICAgICAgIHZhbHVlID0gaTtcblxuICAgICAgICBpZiAoaSA+PSBoYWxmTGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyV2YWx1ZSUnLCBrZXJuZWxbdmFsdWVdKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gZnJhZ1NvdXJjZTtcbn1cbiIsImltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSBmcm9tICcuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UnO1xuaW1wb3J0IGdlbmVyYXRlQmx1ckZyYWdTb3VyY2UgZnJvbSAnLi9nZW5lcmF0ZUJsdXJGcmFnU291cmNlJztcblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlclBhc3MgYXBwbGllcyBhIGhvcml6b250YWwgb3IgdmVydGljYWwgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbHVyRmlsdGVyUGFzcyBleHRlbmRzIEZpbHRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaG9yaXpvbnRhbCAtIERvIHBhc3MgYWxvbmcgdGhlIHgtYXhpcyAoYHRydWVgKSBvciB5LWF4aXMgKGBmYWxzZWApLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHkgLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaG9yaXpvbnRhbCwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpXG4gICAge1xuICAgICAgICBrZXJuZWxTaXplID0ga2VybmVsU2l6ZSB8fCA1O1xuICAgICAgICBjb25zdCB2ZXJ0U3JjID0gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCBob3Jpem9udGFsKTtcbiAgICAgICAgY29uc3QgZnJhZ1NyYyA9IGdlbmVyYXRlQmx1ckZyYWdTb3VyY2Uoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgc3VwZXIoXG4gICAgICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgICAgICB2ZXJ0U3JjLFxuICAgICAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgICAgICBmcmFnU3JjXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gaG9yaXpvbnRhbDtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgdGhpcy5fcXVhbGl0eSA9IDA7XG5cbiAgICAgICAgdGhpcy5xdWFsaXR5ID0gcXVhbGl0eSB8fCA0O1xuXG4gICAgICAgIHRoaXMuYmx1ciA9IHN0cmVuZ3RoIHx8IDg7XG4gICAgfVxuXG4gICAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpXG4gICAge1xuICAgICAgICBpZiAob3V0cHV0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC53aWR0aCkgKiAob3V0cHV0LndpZHRoIC8gaW5wdXQud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC5oZWlnaHQpICogKG91dHB1dC5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGgpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0IC8gaW5wdXQuaGVpZ2h0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2NyZWVuIHNwYWNlIVxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7XG5cbiAgICAgICAgaWYgKHRoaXMucGFzc2VzID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyO1xuXG4gICAgICAgICAgICBsZXQgZmxpcCA9IGlucHV0O1xuICAgICAgICAgICAgbGV0IGZsb3AgPSByZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxpcCwgZmxvcCwgZmFsc2UpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChmbGlwLCBmbGlwLmZpbHRlckZyYW1lKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNhbXBsZXIgPSBmbG9wO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZsb3A7XG5cbiAgICAgICAgICAgICAgICBmbG9wID0gZmxpcDtcbiAgICAgICAgICAgICAgICBmbGlwID0gdGVtcDtcblxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoNSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbG9wLCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTZcbiAgICAgKi9cbiAgICBnZXQgYmx1cigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgICB9XG5cbiAgICBzZXQgYmx1cih2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnBhZGRpbmcgPSAxICsgKE1hdGguYWJzKHZhbHVlKSAqIDIpO1xuICAgICAgICB0aGlzLnN0cmVuZ3RoID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgICAqIHF1YWlsaXR5IGJsdXJpbmcgYnV0IHRoZSBsb3dlciB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNFxuICAgICAqL1xuICAgIGdldCBxdWFsaXR5KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgIH1cblxuICAgIHNldCBxdWFsaXR5KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3F1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5wYXNzZXMgPSB2YWx1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IEJsdXJGaWx0ZXJQYXNzIGZyb20gJy4vQmx1ckZpbHRlclBhc3MnO1xuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyIGFwcGxpZXMgYSBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgY2FuIGJlIHNldCBmb3IgdGhlIHgtYXhpcyBhbmQgeS1heGlzIHNlcGFyYXRlbHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbHVyRmlsdGVyIGV4dGVuZHMgRmlsdGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHJlbmd0aD04XSAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5PTRdIC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3ModHJ1ZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICB0aGlzLmJsdXJZRmlsdGVyID0gbmV3IEJsdXJGaWx0ZXJQYXNzKGZhbHNlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICB0aGlzLnF1YWxpdHkgPSBxdWFsaXR5IHx8IDQ7XG4gICAgICAgIHRoaXMuYmx1ciA9IHN0cmVuZ3RoIHx8IDg7XG5cbiAgICAgICAgdGhpcy5yZXBlYXRFZGdlUGl4ZWxzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICovXG4gICAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpXG4gICAge1xuICAgICAgICBjb25zdCB4U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKTtcbiAgICAgICAgY29uc3QgeVN0cmVuZ3RoID0gTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCk7XG5cbiAgICAgICAgaWYgKHhTdHJlbmd0aCAmJiB5U3RyZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCByZW5kZXJUYXJnZXQsIG91dHB1dCwgY2xlYXIpO1xuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh5U3RyZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVQYWRkaW5nKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyWCBhbmQgYmx1clkgcHJvcGVydGllcyBzaW11bHRhbmVvdXNseVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cbiAgICBnZXQgYmx1cigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgIH1cblxuICAgIHNldCBibHVyKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcGFzc2VzIGZvciBibHVyLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXIgcXVhaWxpdHkgYmx1cmluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgZ2V0IHF1YWxpdHkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eTtcbiAgICB9XG5cbiAgICBzZXQgcXVhbGl0eSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHkgPSB0aGlzLmJsdXJZRmlsdGVyLnF1YWxpdHkgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clggcHJvcGVydHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG4gICAgZ2V0IGJsdXJYKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgfVxuXG4gICAgc2V0IGJsdXJYKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clkgcHJvcGVydHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG4gICAgZ2V0IGJsdXJZKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsdXI7XG4gICAgfVxuXG4gICAgc2V0IGJsdXJZKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICovXG4gICAgZ2V0IGJsZW5kTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibGVuZE1vZGU7XG4gICAgfVxuXG4gICAgc2V0IGJsZW5kTW9kZSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIHNldCB0byB0cnVlIHRoZSBlZGdlIG9mIHRoZSB0YXJnZXQgd2lsbCBiZSBjbGFtcGVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sfVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgZ2V0IHJlcGVhdEVkZ2VQaXhlbHMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHM7XG4gICAgfVxuXG4gICAgc2V0IHJlcGVhdEVkZ2VQaXhlbHModmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZpbHRlciwgZGVmYXVsdEZpbHRlclZlcnRleCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vY29sb3JNYXRyaXguZnJhZyc7XG5cbi8qKlxuICogVGhlIENvbG9yTWF0cml4RmlsdGVyIGNsYXNzIGxldHMgeW91IGFwcGx5IGEgNXg0IG1hdHJpeCB0cmFuc2Zvcm1hdGlvbiBvbiB0aGUgUkdCQVxuICogY29sb3IgYW5kIGFscGhhIHZhbHVlcyBvZiBldmVyeSBwaXhlbCBvbiB5b3VyIGRpc3BsYXlPYmplY3QgdG8gcHJvZHVjZSBhIHJlc3VsdFxuICogd2l0aCBhIG5ldyBzZXQgb2YgUkdCQSBjb2xvciBhbmQgYWxwaGEgdmFsdWVzLiBJdCdzIHByZXR0eSBwb3dlcmZ1bCFcbiAqXG4gKiBgYGBqc1xuICogIGxldCBjb2xvck1hdHJpeCA9IG5ldyBQSVhJLmZpbHRlcnMuQ29sb3JNYXRyaXhGaWx0ZXIoKTtcbiAqICBjb250YWluZXIuZmlsdGVycyA9IFtjb2xvck1hdHJpeF07XG4gKiAgY29sb3JNYXRyaXguY29udHJhc3QoMik7XG4gKiBgYGBcbiAqIEBhdXRob3IgQ2zDqW1lbnQgQ2hlbmViYXVsdCA8Y2xlbWVudEBnb29kYm95ZGlnaXRhbC5jb20+XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbG9yTWF0cml4RmlsdGVyIGV4dGVuZHMgRmlsdGVyXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICBtOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAwLCAxLCAwXSksXG4gICAgICAgICAgICB1QWxwaGE6IDEsXG4gICAgICAgIH07XG5cbiAgICAgICAgc3VwZXIoZGVmYXVsdEZpbHRlclZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKTtcblxuICAgICAgICB0aGlzLmFscGhhID0gMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGN1cnJlbnQgbWF0cml4IGFuZCBzZXQgdGhlIG5ldyBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBfbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5ID0gZmFsc2UpXG4gICAge1xuICAgICAgICBsZXQgbmV3TWF0cml4ID0gbWF0cml4O1xuXG4gICAgICAgIGlmIChtdWx0aXBseSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbXVsdGlwbHkobmV3TWF0cml4LCB0aGlzLnVuaWZvcm1zLm0sIG1hdHJpeCk7XG4gICAgICAgICAgICBuZXdNYXRyaXggPSB0aGlzLl9jb2xvck1hdHJpeChuZXdNYXRyaXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHRoZSBuZXcgbWF0cml4XG4gICAgICAgIHRoaXMudW5pZm9ybXMubSA9IG5ld01hdHJpeDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBtYXQ1J3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gb3V0IC0gNXg0IG1hdHJpeCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGEgLSA1eDQgbWF0cml4IHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYiAtIDV4NCBtYXRyaXggdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMge251bWJlcltdfSA1eDQgbWF0cml4XG4gICAgICovXG4gICAgX211bHRpcGx5KG91dCwgYSwgYilcbiAgICB7XG4gICAgICAgIC8vIFJlZCBDaGFubmVsXG4gICAgICAgIG91dFswXSA9IChhWzBdICogYlswXSkgKyAoYVsxXSAqIGJbNV0pICsgKGFbMl0gKiBiWzEwXSkgKyAoYVszXSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzFdID0gKGFbMF0gKiBiWzFdKSArIChhWzFdICogYls2XSkgKyAoYVsyXSAqIGJbMTFdKSArIChhWzNdICogYlsxNl0pO1xuICAgICAgICBvdXRbMl0gPSAoYVswXSAqIGJbMl0pICsgKGFbMV0gKiBiWzddKSArIChhWzJdICogYlsxMl0pICsgKGFbM10gKiBiWzE3XSk7XG4gICAgICAgIG91dFszXSA9IChhWzBdICogYlszXSkgKyAoYVsxXSAqIGJbOF0pICsgKGFbMl0gKiBiWzEzXSkgKyAoYVszXSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzRdID0gKGFbMF0gKiBiWzRdKSArIChhWzFdICogYls5XSkgKyAoYVsyXSAqIGJbMTRdKSArIChhWzNdICogYlsxOV0pICsgYVs0XTtcblxuICAgICAgICAvLyBHcmVlbiBDaGFubmVsXG4gICAgICAgIG91dFs1XSA9IChhWzVdICogYlswXSkgKyAoYVs2XSAqIGJbNV0pICsgKGFbN10gKiBiWzEwXSkgKyAoYVs4XSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzZdID0gKGFbNV0gKiBiWzFdKSArIChhWzZdICogYls2XSkgKyAoYVs3XSAqIGJbMTFdKSArIChhWzhdICogYlsxNl0pO1xuICAgICAgICBvdXRbN10gPSAoYVs1XSAqIGJbMl0pICsgKGFbNl0gKiBiWzddKSArIChhWzddICogYlsxMl0pICsgKGFbOF0gKiBiWzE3XSk7XG4gICAgICAgIG91dFs4XSA9IChhWzVdICogYlszXSkgKyAoYVs2XSAqIGJbOF0pICsgKGFbN10gKiBiWzEzXSkgKyAoYVs4XSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzldID0gKGFbNV0gKiBiWzRdKSArIChhWzZdICogYls5XSkgKyAoYVs3XSAqIGJbMTRdKSArIChhWzhdICogYlsxOV0pICsgYVs5XTtcblxuICAgICAgICAvLyBCbHVlIENoYW5uZWxcbiAgICAgICAgb3V0WzEwXSA9IChhWzEwXSAqIGJbMF0pICsgKGFbMTFdICogYls1XSkgKyAoYVsxMl0gKiBiWzEwXSkgKyAoYVsxM10gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxMV0gPSAoYVsxMF0gKiBiWzFdKSArIChhWzExXSAqIGJbNl0pICsgKGFbMTJdICogYlsxMV0pICsgKGFbMTNdICogYlsxNl0pO1xuICAgICAgICBvdXRbMTJdID0gKGFbMTBdICogYlsyXSkgKyAoYVsxMV0gKiBiWzddKSArIChhWzEyXSAqIGJbMTJdKSArIChhWzEzXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzEzXSA9IChhWzEwXSAqIGJbM10pICsgKGFbMTFdICogYls4XSkgKyAoYVsxMl0gKiBiWzEzXSkgKyAoYVsxM10gKiBiWzE4XSk7XG4gICAgICAgIG91dFsxNF0gPSAoYVsxMF0gKiBiWzRdKSArIChhWzExXSAqIGJbOV0pICsgKGFbMTJdICogYlsxNF0pICsgKGFbMTNdICogYlsxOV0pICsgYVsxNF07XG5cbiAgICAgICAgLy8gQWxwaGEgQ2hhbm5lbFxuICAgICAgICBvdXRbMTVdID0gKGFbMTVdICogYlswXSkgKyAoYVsxNl0gKiBiWzVdKSArIChhWzE3XSAqIGJbMTBdKSArIChhWzE4XSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzE2XSA9IChhWzE1XSAqIGJbMV0pICsgKGFbMTZdICogYls2XSkgKyAoYVsxN10gKiBiWzExXSkgKyAoYVsxOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFsxN10gPSAoYVsxNV0gKiBiWzJdKSArIChhWzE2XSAqIGJbN10pICsgKGFbMTddICogYlsxMl0pICsgKGFbMThdICogYlsxN10pO1xuICAgICAgICBvdXRbMThdID0gKGFbMTVdICogYlszXSkgKyAoYVsxNl0gKiBiWzhdKSArIChhWzE3XSAqIGJbMTNdKSArIChhWzE4XSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzE5XSA9IChhWzE1XSAqIGJbNF0pICsgKGFbMTZdICogYls5XSkgKyAoYVsxN10gKiBiWzE0XSkgKyAoYVsxOF0gKiBiWzE5XSkgKyBhWzE5XTtcblxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSA1eDQgbWF0cml4IHdpdGggYWxsIHZhbHVlcyBiZXR3ZWVuIDAtMVxuICAgICAqL1xuICAgIF9jb2xvck1hdHJpeChtYXRyaXgpXG4gICAge1xuICAgICAgICAvLyBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICAgIGNvbnN0IG0gPSBuZXcgRmxvYXQzMkFycmF5KG1hdHJpeCk7XG5cbiAgICAgICAgbVs0XSAvPSAyNTU7XG4gICAgICAgIG1bOV0gLz0gMjU1O1xuICAgICAgICBtWzE0XSAvPSAyNTU7XG4gICAgICAgIG1bMTldIC89IDI1NTtcblxuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGp1c3RzIGJyaWdodG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gdmFsdWUgb2YgdGhlIGJyaWd0aG5lc3MgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBicmlnaHRuZXNzKGIsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgYiwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIGIsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCBiLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWF0cmljZXMgaW4gZ3JleSBzY2FsZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHZhbHVlIG9mIHRoZSBncmV5ICgwLTEsIHdoZXJlIDAgaXMgYmxhY2spXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgZ3JleXNjYWxlKHNjYWxlLCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGJsYWNrIGFuZCB3aGl0ZSBtYXRyaWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgYmxhY2tBbmRXaGl0ZShtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGh1ZSBwcm9wZXJ0eSBvZiB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBodWUocm90YXRpb24sIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgcm90YXRpb24gPSAocm90YXRpb24gfHwgMCkgLyAxODAgKiBNYXRoLlBJO1xuXG4gICAgICAgIGNvbnN0IGNvc1IgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIGNvbnN0IHNpblIgPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gICAgICAgIGNvbnN0IHNxcnQgPSBNYXRoLnNxcnQ7XG5cbiAgICAgICAgLyogYSBnb29kIGFwcHJveGltYXRpb24gZm9yIGh1ZSByb3RhdGlvblxuICAgICAgICAgVGhpcyBtYXRyaXggaXMgZmFyIGJldHRlciB0aGFuIHRoZSB2ZXJzaW9ucyB3aXRoIG1hZ2ljIGx1bWluYW5jZSBjb25zdGFudHNcbiAgICAgICAgIGZvcm1lcmx5IHVzZWQgaGVyZSwgYnV0IGFsc28gdXNlZCBpbiB0aGUgc3RhcmxpbmcgZnJhbWV3b3JrIChmbGFzaCkgYW5kIGtub3duIGZyb20gdGhpc1xuICAgICAgICAgb2xkIHBhcnQgb2YgdGhlIGludGVybmV0OiBxdWFzaW1vbmRvLmNvbS9hcmNoaXZlcy8wMDA1NjUucGhwXG5cbiAgICAgICAgIFRoaXMgbmV3IG1hdHJpeCBpcyBiYXNlZCBvbiByZ2IgY3ViZSByb3RhdGlvbiBpbiBzcGFjZS4gTG9vayBoZXJlIGZvciBhIG1vcmUgZGVzY3JpcHRpdmVcbiAgICAgICAgIGltcGxlbWVudGF0aW9uIGFzIGEgc2hhZGVyIG5vdCBhIGdlbmVyYWwgbWF0cml4OlxuICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi81ODg0MWMyMzkxOWJkNTk3ODdlZmZjMDMzM2E0ODk3YjQzODM1NDEyL3NyYy9maWx0ZXJzL2FkanVzdC9odWVzYXR1cmF0aW9uLmpzXG5cbiAgICAgICAgIFRoaXMgaXMgdGhlIHNvdXJjZSBmb3IgdGhlIGNvZGU6XG4gICAgICAgICBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NTA3ODg1L3NoaWZ0LWh1ZS1vZi1hbi1yZ2ItY29sb3IvODUxMDc1MSM4NTEwNzUxXG4gICAgICAgICAqL1xuXG4gICAgICAgIGNvbnN0IHcgPSAxIC8gMztcbiAgICAgICAgY29uc3Qgc3FyVyA9IHNxcnQodyk7IC8vIHdlaWdodCBpc1xuXG4gICAgICAgIGNvbnN0IGEwMCA9IGNvc1IgKyAoKDEuMCAtIGNvc1IpICogdyk7XG4gICAgICAgIGNvbnN0IGEwMSA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIGNvbnN0IGEwMiA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG5cbiAgICAgICAgY29uc3QgYTEwID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcbiAgICAgICAgY29uc3QgYTExID0gY29zUiArICh3ICogKDEuMCAtIGNvc1IpKTtcbiAgICAgICAgY29uc3QgYTEyID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcblxuICAgICAgICBjb25zdCBhMjAgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuICAgICAgICBjb25zdCBhMjEgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICBjb25zdCBhMjIgPSBjb3NSICsgKHcgKiAoMS4wIC0gY29zUikpO1xuXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIGEwMCwgYTAxLCBhMDIsIDAsIDAsXG4gICAgICAgICAgICBhMTAsIGExMSwgYTEyLCAwLCAwLFxuICAgICAgICAgICAgYTIwLCBhMjEsIGEyMiwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbnRyYXN0IG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBkYXJrIGFuZCBicmlnaHRcbiAgICAgKiBJbmNyZWFzZSBjb250cmFzdCA6IHNoYWRvd3MgZGFya2VyIGFuZCBoaWdobGlnaHRzIGJyaWdodGVyXG4gICAgICogRGVjcmVhc2UgY29udHJhc3QgOiBicmluZyB0aGUgc2hhZG93cyB1cCBhbmQgdGhlIGhpZ2hsaWdodHMgZG93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHZhbHVlIG9mIHRoZSBjb250cmFzdCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIGNvbnRyYXN0KGFtb3VudCwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCB2ID0gKGFtb3VudCB8fCAwKSArIDE7XG4gICAgICAgIGNvbnN0IG8gPSAtMC41ICogKHYgLSAxKTtcblxuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICB2LCAwLCAwLCAwLCBvLFxuICAgICAgICAgICAgMCwgdiwgMCwgMCwgbyxcbiAgICAgICAgICAgIDAsIDAsIHYsIDAsIG8sXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzYXR1cmF0aW9uIG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBjb2xvcnNcbiAgICAgKiBJbmNyZWFzZSBzYXR1cmF0aW9uIDogaW5jcmVhc2UgY29udHJhc3QsIGJyaWdodG5lc3MsIGFuZCBzaGFycG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgc2F0dXJhdGlvbiBhbW91bnQgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBzYXR1cmF0ZShhbW91bnQgPSAwLCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHggPSAoYW1vdW50ICogMiAvIDMpICsgMTtcbiAgICAgICAgY29uc3QgeSA9ICgoeCAtIDEpICogLTAuNSk7XG5cbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgeCwgeSwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHgsIHksIDAsIDAsXG4gICAgICAgICAgICB5LCB5LCB4LCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc2F0dXJhdGUgaW1hZ2UgKHJlbW92ZSBjb2xvcilcbiAgICAgKlxuICAgICAqIENhbGwgdGhlIHNhdHVyYXRlIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXNhdHVyYXRlKCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgdGhpcy5zYXR1cmF0ZSgtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmVnYXRpdmUgaW1hZ2UgKGludmVyc2Ugb2YgY2xhc3NpYyByZ2IgbWF0cml4KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgbmVnYXRpdmUobXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICAtMSwgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIC0xLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgMCwgLTEsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VwaWEgaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHNlcGlhKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zOTMsIDAuNzY4OTk5OSwgMC4xODg5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAuMzQ5LCAwLjY4NTk5OTksIDAuMTY3OTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLjI3MiwgMC41MzM5OTk5LCAwLjEzMDk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbG9yIG1vdGlvbiBwaWN0dXJlIHByb2Nlc3MgaW52ZW50ZWQgaW4gMTkxNiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHRlY2huaWNvbG9yKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMS45MTI1Mjc3ODkxNDU2MDgzLCAtMC44NTQ1MzQ0OTc2OTUxNjQ1LCAtMC4wOTE1NTUwODQ4Mjc1NTU4NSwgMCwgMTEuNzkzNjAzNDM0Mzc3MzM3LFxuICAgICAgICAgICAgLTAuMzA4NzgzMzM4NTkyODA5NywgMS43NjU4OTA4NTU1NDU4NDI4LCAtMC4xMDYwMTc0MzA3NDcyMjI0NSwgMCwgLTcwLjM1MjA1MTYxNDYxMzk4LFxuICAgICAgICAgICAgLTAuMjMxMTAzMzc3NTQ4NjE2LCAtMC43NTAxODk5MTk3NDQwMjEyLCAxLjg0NzU5NzgxNjEwODE4OSwgMCwgMzAuOTUwOTQwODY5NDkxMTM4LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBvbGFyb2lkIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgcG9sYXJvaWQobXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjQzOCwgLTAuMDYyLCAtMC4wNjIsIDAsIDAsXG4gICAgICAgICAgICAtMC4xMjIsIDEuMzc4LCAtMC4xMjIsIDAsIDAsXG4gICAgICAgICAgICAtMC4wMTYsIC0wLjAxNiwgMS40ODMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHdobyB0cmFuc2Zvcm1zIDogUmVkIC0+IEJsdWUgYW5kIEJsdWUgLT4gUmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICB0b0JHUihtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb2xvciByZXZlcnNhbCBmaWxtIGludHJvZHVjZWQgYnkgRWFzdG1hbiBLb2RhayBpbiAxOTM1LiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIGtvZGFjaHJvbWUobXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMixcbiAgICAgICAgICAgIC0wLjE2NDA0MzM5OTYyMjQ0NjE2LCAxLjA4MzUyNTE1NjYyOTEzMDQsIC0wLjA1NDk4ODA1MTE1NjMzMTMyLCAwLCAyNC43MzI0MDc4OTY3MDYyMDMsXG4gICAgICAgICAgICAtMC4xNjc4NjAxMDcwNjE1NTc2MywgLTAuNTYwMzQxNjI3NzY5NTI0OCwgMS42MDE0ODUwNzYxOTY0OTQzLCAwLCAzNS42Mjk4MjgwNzQ2MDk0NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCcm93biBkZWxpY2lvdXMgYnJvd25pIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIGJyb3duaShtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuNTk5NzAyMzQ5ODE1OTcxNSwgMC4zNDU1MzI0MzA0ODM5MTI2MywgLTAuMjcwODI5ODY3NDUzODA0MiwgMCwgNDcuNDMxOTI4NTU2MDA4NzMsXG4gICAgICAgICAgICAtMC4wMzc3MDMyNDk4Mzc3ODMxNTcsIDAuODYwOTU3NzU4Nzk5MjY0MSwgMC4xNTA1OTU1MjM4ODQ1OTkxMywgMCwgLTM2Ljk2ODQxNDk4MzE5MTI3LFxuICAgICAgICAgICAgMC4yNDExMzYzNTEyODE1MzMzNSwgLTAuMDc0NDEwMzc5MDg0MjI0OTIsIDAuNDQ5NzIxODIwNjQ4NzcxNTMsIDAsIC03LjU2MjA3NTI3NzU5MTI4MyxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWaW50YWdlIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHZpbnRhZ2UobXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjYyNzkzNDU2MzU2MDU5OTQsIDAuMzIwMjE4MzQyMDgxOTM2NywgLTAuMDM5NjU0MDgyMTEzMTI0NTMsIDAsIDkuNjUxMjg1ODM1Mjk0MTIzLFxuICAgICAgICAgICAgMC4wMjU3ODM5NzcwNDgwODg2OCwgMC42NDQxMTg4NjQ0Mzc0NzcxLCAwLjAzMjU5MTI3NjE2MTQ5Mjk0LCAwLCA3LjQ2MjgyOTE3NjQ3MDU5MSxcbiAgICAgICAgICAgIDAuMDQ2NjA1NTU1Njc4MjcxOSwgLTAuMDg1MTIzMjk4NzI0Nzg5MSwgMC41MjQxNjQ4MDE4NzAwNDY1LCAwLCA1LjE1OTE5MDU4ODIzNTI5NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXZSBkb24ndCBrbm93IGV4YWN0bHkgd2hhdCBpdCBkb2VzLCBraW5kIG9mIGdyYWRpZW50IG1hcCwgYnV0IGZ1bm55IHRvIHBsYXkgd2l0aCFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXNhdHVyYXRpb24gLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9uZWQgLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGlnaHRDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhcmtDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgY29sb3JUb25lKGRlc2F0dXJhdGlvbiwgdG9uZWQsIGxpZ2h0Q29sb3IsIGRhcmtDb2xvciwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBkZXNhdHVyYXRpb24gPSBkZXNhdHVyYXRpb24gfHwgMC4yO1xuICAgICAgICB0b25lZCA9IHRvbmVkIHx8IDAuMTU7XG4gICAgICAgIGxpZ2h0Q29sb3IgPSBsaWdodENvbG9yIHx8IDB4RkZFNTgwO1xuICAgICAgICBkYXJrQ29sb3IgPSBkYXJrQ29sb3IgfHwgMHgzMzgwMDA7XG5cbiAgICAgICAgY29uc3QgbFIgPSAoKGxpZ2h0Q29sb3IgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIGNvbnN0IGxHID0gKChsaWdodENvbG9yID4+IDgpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIGNvbnN0IGxCID0gKGxpZ2h0Q29sb3IgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICBjb25zdCBkUiA9ICgoZGFya0NvbG9yID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICBjb25zdCBkRyA9ICgoZGFya0NvbG9yID4+IDgpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIGNvbnN0IGRCID0gKGRhcmtDb2xvciAmIDB4RkYpIC8gMjU1O1xuXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC41OSwgMC4xMSwgMCwgMCxcbiAgICAgICAgICAgIGxSLCBsRywgbEIsIGRlc2F0dXJhdGlvbiwgMCxcbiAgICAgICAgICAgIGRSLCBkRywgZEIsIHRvbmVkLCAwLFxuICAgICAgICAgICAgbFIgLSBkUiwgbEcgLSBkRywgbEIgLSBkQiwgMCwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5pZ2h0IGVmZmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVuc2l0eSAtIFRoZSBpbnRlbnNpdHkgb2YgdGhlIG5pZ2h0IGVmZmVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBuaWdodChpbnRlbnNpdHksIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgaW50ZW5zaXR5ID0gaW50ZW5zaXR5IHx8IDAuMTtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgaW50ZW5zaXR5ICogKC0yLjApLCAtaW50ZW5zaXR5LCAwLCAwLCAwLFxuICAgICAgICAgICAgLWludGVuc2l0eSwgMCwgaW50ZW5zaXR5LCAwLCAwLFxuICAgICAgICAgICAgMCwgaW50ZW5zaXR5LCBpbnRlbnNpdHkgKiAyLjAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJlZGF0b3IgZWZmZWN0XG4gICAgICpcbiAgICAgKiBFcmFzZSB0aGUgY3VycmVudCBtYXRyaXggYnkgc2V0dGluZyBhIG5ldyBpbmRlcGVudCBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBob3cgbXVjaCB0aGUgcHJlZGF0b3IgZmVlbHMgaGlzIGZ1dHVyZSB2aWN0aW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBwcmVkYXRvcihhbW91bnQsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgLy8gcm93IDFcbiAgICAgICAgICAgIDExLjIyNDEzMDYzMDQ5MzE2NCAqIGFtb3VudCxcbiAgICAgICAgICAgIC00Ljc5NDQ4Njk5OTUxMTcxOSAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjg3NDYxMTg1NDU1MzIyMjcgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgMC40MDM0MjQzODIyMDk3Nzc4MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyAyXG4gICAgICAgICAgICAtMy42MzMwNjk3NTM2NDY4NTA2ICogYW1vdW50LFxuICAgICAgICAgICAgOS4xOTMxNTcxOTYwNDQ5MjIgKiBhbW91bnQsXG4gICAgICAgICAgICAtMi45NTE4MTA4MzY3OTE5OTIgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgLTEuMzE2MTM1MDQ4ODY2MjcyICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDNcbiAgICAgICAgICAgIC0zLjIxODQxOTc5MDI2Nzk0NDMgKiBhbW91bnQsXG4gICAgICAgICAgICAtNC4yMzc1MDMwNTE3NTc4MTI1ICogYW1vdW50LFxuICAgICAgICAgICAgNy40NzY0NDgwNTkwODIwMzEgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgMC44MDQ0NDU5MjIzNzQ3MjUzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDRcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMU0QgZWZmZWN0XG4gICAgICpcbiAgICAgKiBNdWx0aXBseSB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIGxzZChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDIsIC0wLjQsIDAuNSwgMCwgMCxcbiAgICAgICAgICAgIC0wLjUsIDIsIC0wLjQsIDAsIDAsXG4gICAgICAgICAgICAtMC40LCAtMC41LCAzLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIHRoZSBkZWZhdWx0IG9uZVxuICAgICAqXG4gICAgICovXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXRyaXggb2YgdGhlIGNvbG9yIG1hdHJpeCBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqIEBkZWZhdWx0IFsxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwXVxuICAgICAqL1xuICAgIGdldCBtYXRyaXgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubTtcbiAgICB9XG5cbiAgICBzZXQgbWF0cml4KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcGFjaXR5IHZhbHVlIHRvIHVzZSB3aGVuIG1peGluZyB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdGFudCBjb2xvcnMuXG4gICAgICpcbiAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAwLCB0aGUgb3JpZ2luYWwgY29sb3IgaXMgdXNlZCB3aXRob3V0IG1vZGlmaWNhdGlvbi5cbiAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAxLCB0aGUgcmVzdWx0IGNvbG9yIGlzIHVzZWQuXG4gICAgICogV2hlbiBpbiB0aGUgcmFuZ2UgKDAsIDEpIHRoZSBjb2xvciBpcyBpbnRlcnBvbGF0ZWQgYmV0d2VlbiB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdCBieSB0aGlzIGFtb3VudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgZ2V0IGFscGhhKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICB9XG5cbiAgICBzZXQgYWxwaGEodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgICB9XG59XG5cbi8vIEFtZXJpY2FuaXplZCBhbGlhc1xuQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyYXlzY2FsZSA9IENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGU7XG4iLCJpbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1hdHJpeCwgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9kaXNwbGFjZW1lbnQudmVydCc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9kaXNwbGFjZW1lbnQuZnJhZyc7XG5cbi8qKlxuICogVGhlIERpc3BsYWNlbWVudEZpbHRlciBjbGFzcyB1c2VzIHRoZSBwaXhlbCB2YWx1ZXMgZnJvbSB0aGUgc3BlY2lmaWVkIHRleHR1cmVcbiAqIChjYWxsZWQgdGhlIGRpc3BsYWNlbWVudCBtYXApIHRvIHBlcmZvcm0gYSBkaXNwbGFjZW1lbnQgb2YgYW4gb2JqZWN0LlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoaXMgZmlsdGVyIHRvIGFwcGx5IGFsbCBtYW5vciBvZiBjcmF6eSB3YXJwaW5nIGVmZmVjdHMuXG4gKiBDdXJyZW50bHkgdGhlIGByYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHhgXG4gKiBhbmQgdGhlIGBnYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHlgLlxuICpcbiAqIFRoZSB3YXkgaXQgd29ya3MgaXMgaXQgdXNlcyB0aGUgdmFsdWVzIG9mIHRoZSBkaXNwbGFjZW1lbnQgbWFwIHRvIGxvb2sgdXAgdGhlXG4gKiBjb3JyZWN0IHBpeGVscyB0byBvdXRwdXQuIFRoaXMgbWVhbnMgaXQncyBub3QgdGVjaG5pY2FsbHkgbW92aW5nIHRoZSBvcmlnaW5hbC5cbiAqIEluc3RlYWQsIGl0J3Mgc3RhcnRpbmcgYXQgdGhlIG91dHB1dCBhbmQgYXNraW5nIFwid2hpY2ggcGl4ZWwgZnJvbSB0aGUgb3JpZ2luYWwgZ29lcyBoZXJlXCIuXG4gKiBGb3IgZXhhbXBsZSwgaWYgYSBkaXNwbGFjZW1lbnQgbWFwIHBpeGVsIGhhcyBgcmVkID0gMWAgYW5kIHRoZSBmaWx0ZXIgc2NhbGUgaXMgYDIwYCxcbiAqIHRoaXMgZmlsdGVyIHdpbGwgb3V0cHV0IHRoZSBwaXhlbCBhcHByb3hpbWF0ZWx5IDIwIHBpeGVscyB0byB0aGUgcmlnaHQgb2YgdGhlIG9yaWdpbmFsLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlzcGxhY2VtZW50RmlsdGVyIGV4dGVuZHMgRmlsdGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gKG1ha2Ugc3VyZSBpdHMgYWRkZWQgdG8gdGhlIHNjZW5lISlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlXSAtIFRoZSBzY2FsZSBvZiB0aGUgZGlzcGxhY2VtZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3ByaXRlLCBzY2FsZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICBzdXBlcih2ZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICBtYXBTYW1wbGVyOiBzcHJpdGUuX3RleHR1cmUsXG4gICAgICAgICAgICBmaWx0ZXJNYXRyaXg6IG1hc2tNYXRyaXgsXG4gICAgICAgICAgICBzY2FsZTogeyB4OiAxLCB5OiAxIH0sXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMV0pLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIHRoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG5cbiAgICAgICAgaWYgKHNjYWxlID09PSBudWxsIHx8IHNjYWxlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNjYWxlID0gMjA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogc2NhbGVYLCBzY2FsZVkgZm9yIGRpc3BsYWNlbWVudHNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGUgPSBuZXcgUG9pbnQoc2NhbGUsIHNjYWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0LlxuICAgICAqL1xuICAgIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgLy8gZmlsbCBtYXNrTWF0cml4IHdpdGggX25vcm1hbGl6ZWQgc3ByaXRlIHRleHR1cmUgY29vcmRzX1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmZpbHRlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgdGhpcy5tYXNrU3ByaXRlKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zY2FsZS54ID0gdGhpcy5zY2FsZS54O1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnkgPSB0aGlzLnNjYWxlLnk7XG5cbiAgICAgICAgLy8gRXh0cmFjdCByb3RhdGlvbiBmcm9tIHdvcmxkIHRyYW5zZm9ybVxuICAgICAgICBjb25zdCB3dCA9IHRoaXMubWFza1Nwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGxlblggPSBNYXRoLnNxcnQoKHd0LmEgKiB3dC5hKSArICh3dC5iICogd3QuYikpO1xuICAgICAgICBjb25zdCBsZW5ZID0gTWF0aC5zcXJ0KCh3dC5jICogd3QuYykgKyAod3QuZCAqIHd0LmQpKTtcblxuICAgICAgICBpZiAobGVuWCAhPT0gMCAmJiBsZW5ZICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzBdID0gd3QuYSAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzFdID0gd3QuYiAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzJdID0gd3QuYyAvIGxlblk7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzNdID0gd3QuZCAvIGxlblk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkcmF3IHRoZSBmaWx0ZXIuLi5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdXNlZCBmb3IgdGhlIGRpc3BsYWNlbWVudCBtYXAuIE11c3QgYmUgcG93ZXIgb2YgMiBzaXplZCB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIGdldCBtYXAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlcjtcbiAgICB9XG5cbiAgICBzZXQgbWFwKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlciA9IHZhbHVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL2Z4YWEudmVydCc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9meGFhLmZyYWcnO1xuXG4vKipcbiAqIEJhc2ljIEZYQUEgKEZhc3QgQXBwcm94aW1hdGUgQW50aS1BbGlhc2luZykgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb21cbiAqIHdpdGggdGhlIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXQgaXMgdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZYQUFGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXJcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICAvLyBUT0RPIC0gbmVlZHMgd29ya1xuICAgICAgICBzdXBlcih2ZXJ0ZXgsIGZyYWdtZW50KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXIsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXggfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL25vaXNlLmZyYWcnO1xuXG4vKipcbiAqIEBhdXRob3IgVmljbyBAdmljb2NvdGVhXG4gKiBvcmlnaW5hbCBmaWx0ZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvbWFzdGVyL3NyYy9maWx0ZXJzL2FkanVzdC9ub2lzZS5qc1xuICovXG5cbi8qKlxuICogQSBOb2lzZSBlZmZlY3QgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm9pc2VGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW25vaXNlPTAuNV0gLSBUaGUgbm9pc2UgaW50ZW5zaXR5LCBzaG91bGQgYmUgYSBub3JtYWxpemVkIHZhbHVlIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzZWVkXSAtIEEgcmFuZG9tIHNlZWQgZm9yIHRoZSBub2lzZSBnZW5lcmF0aW9uLiBEZWZhdWx0IGlzIGBNYXRoLnJhbmRvbSgpYC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihub2lzZSA9IDAuNSwgc2VlZCA9IE1hdGgucmFuZG9tKCkpXG4gICAge1xuICAgICAgICBzdXBlcihkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwge1xuICAgICAgICAgICAgdU5vaXNlOiAwLFxuICAgICAgICAgICAgdVNlZWQ6IDAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgdGhpcy5zZWVkID0gc2VlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIG5vaXNlIHRvIGFwcGx5LCB0aGlzIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgKDAsIDFdLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqL1xuICAgIGdldCBub2lzZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51Tm9pc2U7XG4gICAgfVxuXG4gICAgc2V0IG5vaXNlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMudU5vaXNlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzZWVkIHZhbHVlIHRvIGFwcGx5IHRvIHRoZSByYW5kb20gbm9pc2UgZ2VuZXJhdGlvbi4gYE1hdGgucmFuZG9tKClgIGlzIGEgZ29vZCB2YWx1ZSB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHNlZWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNlZWQ7XG4gICAgfVxuXG4gICAgc2V0IHNlZWQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy51U2VlZCA9IHZhbHVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlLCBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyB1aWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuY29uc3QgX3RlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwID0gZmFsc2U7XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVEYXRhID0gZmFsc2U7XG5cbi8vIGZpZ3VyZWQgdGhlcmVzIG5vIHBvaW50IGFkZGluZyBBTEwgdGhlIGV4dHJhIHZhcmlhYmxlcyB0byBwcm90b3R5cGUuXG4vLyB0aGlzIG1vZGVsIGNhbiBob2xkIHRoZSBpbmZvcm1hdGlvbiBuZWVkZWQuIFRoaXMgY2FuIGFsc28gYmUgZ2VuZXJhdGVkIG9uIGRlbWFuZCBhc1xuLy8gbW9zdCBvYmplY3RzIGFyZSBub3QgY2FjaGVkIGFzIGJpdG1hcHMuXG4vKipcbiAqIEBjbGFzc1xuICogQGlnbm9yZVxuICovXG5jbGFzcyBDYWNoZURhdGFcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9yaWdpbmFsUmVuZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsSGl0VGVzdCA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxEZXN0cm95ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbE1hc2sgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3ByaXRlID0gbnVsbDtcbiAgICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGlzIGRpc3BsYXkgb2JqZWN0IHRvIGJlIGNhY2hlZCBhcyBhIGJpdG1hcC5cbiAgICAgKiBUaGlzIGJhc2ljYWxseSB0YWtlcyBhIHNuYXAgc2hvdCBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgaXQgaXMgYXQgdGhhdCBtb21lbnQuIEl0IGNhblxuICAgICAqIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBiZW5lZml0IGZvciBjb21wbGV4IHN0YXRpYyBkaXNwbGF5T2JqZWN0cy5cbiAgICAgKiBUbyByZW1vdmUgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvIGBmYWxzZWBcbiAgICAgKlxuICAgICAqIElNUE9SVEFOVCBHT1RDSEEgLSBNYWtlIHN1cmUgdGhhdCBhbGwgeW91ciB0ZXh0dXJlcyBhcmUgcHJlbG9hZGVkIEJFRk9SRSBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gdHJ1ZVxuICAgICAqIGFzIGl0IHdpbGwgdGFrZSBhIHNuYXBzaG90IG9mIHdoYXQgaXMgY3VycmVudGx5IHRoZXJlLiBJZiB0aGUgdGV4dHVyZXMgaGF2ZSBub3QgbG9hZGVkIHRoZW4gdGhleSB3aWxsIG5vdCBhcHBlYXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY2FjaGVBc0JpdG1hcDoge1xuICAgICAgICBnZXQoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVBc0JpdG1hcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVBc0JpdG1hcCA9PT0gdmFsdWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jYWNoZUFzQml0bWFwID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGxldCBkYXRhO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYWNoZURhdGEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZURhdGEgPSBuZXcgQ2FjaGVEYXRhKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXIgPSB0aGlzLnJlbmRlcjtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gdGhpcy5yZW5kZXJDYW52YXM7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gdGhpcy51cGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuY2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHM7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRGVzdHJveSA9IHRoaXMuZGVzdHJveTtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50ID0gdGhpcy5jb250YWluc1BvaW50O1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbE1hc2sgPSB0aGlzLl9tYXNrO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhID0gdGhpcy5maWx0ZXJBcmVhO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSB0aGlzLl9jYWNoZUFzQml0bWFwRGVzdHJveTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3ByaXRlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlciA9IGRhdGEub3JpZ2luYWxSZW5kZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmdldExvY2FsQm91bmRzID0gZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gZGF0YS5vcmlnaW5hbERlc3Ryb3k7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluc1BvaW50ID0gZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrID0gZGF0YS5vcmlnaW5hbE1hc2s7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gZGF0YS5vcmlnaW5hbEZpbHRlckFyZWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuXG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggV2ViR0xcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWQgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkKHJlbmRlcmVyKVxue1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS50cmFuc2Zvcm0uX3dvcmxkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyKHJlbmRlcmVyKTtcbn07XG5cbi8qKlxuICogUHJlcGFyZXMgdGhlIFdlYkdMIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKVxue1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBtYWtlIHN1cmUgYWxwaGEgaXMgc2V0IHRvIDEgb3RoZXJ3aXNlIGl0IHdpbGwgZ2V0IHJlbmRlcmVkIGFzIGludmlzaWJsZSFcbiAgICBjb25zdCBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcblxuICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgLy8gZmlyc3Qgd2UgZmx1c2ggYW55dGhpbmcgbGVmdCBpbiB0aGUgcmVuZGVyZXIgKG90aGVyd2lzZSBpdCB3b3VsZCBnZXQgcmVuZGVyZWQgdG8gdGhlIGNhY2hlZCB0ZXh0dXJlKVxuICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgLy8gdGhpcy5maWx0ZXJzPSBbXTtcblxuICAgIC8vIG5leHQgd2UgZmluZCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdW50cmFuc2Zvcm1lZCBvYmplY3RcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGFsc28gY2FsbHMgdXBkYXRldHJhbnNmb3JtIG9uIGFsbCBpdHMgY2hpbGRyZW4gYXMgcGFydCBvZiB0aGUgbWVhc3VyaW5nLlxuICAgIC8vIFRoaXMgbWVhbnMgd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHRyYW5zZm9ybSBhZ2FpbiBpbiB0aGlzIGZ1bmN0aW9uXG4gICAgLy8gVE9ETyBwYXNzIGFuIG9iamVjdCB0byBjbG9uZSB0b28/IHNhdmVzIGhhdmluZyB0byBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbiAgICBjb25zdCBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKCkuY2xvbmUoKTtcblxuICAgIC8vIGFkZCBzb21lIHBhZGRpbmchXG4gICAgaWYgKHRoaXMuZmlsdGVycylcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLmZpbHRlcnNbMF0ucGFkZGluZztcblxuICAgICAgICBib3VuZHMucGFkKHBhZGRpbmcpO1xuICAgIH1cblxuICAgIGJvdW5kcy5jZWlsKHNldHRpbmdzLlJFU09MVVRJT04pO1xuXG4gICAgLy8gZm9yIG5vdyB3ZSBjYWNoZSB0aGUgY3VycmVudCByZW5kZXJUYXJnZXQgdGhhdCB0aGUgV2ViR0wgcmVuZGVyZXIgaXMgY3VycmVudGx5IHVzaW5nLlxuICAgIC8vIHRoaXMgY291bGQgYmUgbW9yZSBlbGVnYW50Li5cbiAgICBjb25zdCBjYWNoZWRSZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgIGNvbnN0IGNhY2hlZFNvdXJjZUZyYW1lID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZTtcbiAgICBjb25zdCBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtID0gcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm07XG5cbiAgICAvLyBXZSBhbHNvIHN0b3JlIHRoZSBmaWx0ZXIgc3RhY2sgLSBJIHdpbGwgZGVmaW5pdGVseSBsb29rIHRvIGNoYW5nZSBob3cgdGhpcyB3b3JrcyBhIGxpdHRsZSBsYXRlciBkb3duIHRoZSBsaW5lLlxuICAgIC8vIGNvbnN0IHN0YWNrID0gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjaztcblxuICAgIC8vIHRoaXMgcmVuZGVyVGV4dHVyZSB3aWxsIGJlIHVzZWQgdG8gc3RvcmUgdGhlIGNhY2hlZCBEaXNwbGF5T2JqZWN0XG4gICAgY29uc3QgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCk7XG5cbiAgICBjb25zdCB0ZXh0dXJlQ2FjaGVJZCA9IGBjYWNoZUFzQml0bWFwXyR7dWlkKCl9YDtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuXG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcblxuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgY29uc3QgbSA9IF90ZW1wTWF0cml4O1xuXG4gICAgbS50eCA9IC1ib3VuZHMueDtcbiAgICBtLnR5ID0gLWJvdW5kcy55O1xuXG4gICAgLy8gcmVzZXRcbiAgICB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS5pZGVudGl0eSgpO1xuXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXI7XG5cbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgdHJ1ZSk7XG5cbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm07XG4gICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGNhY2hlZFJlbmRlclRleHR1cmUsIGNhY2hlZFNvdXJjZUZyYW1lKTtcblxuICAgIC8vIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2sgPSBzdGFjaztcblxuICAgIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICAgIC8vIHRoZSByZXN0IGlzIHRoZSBzYW1lIGFzIGZvciBDYW52YXNcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcbiAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgICB0aGlzLmdldExvY2FsQm91bmRzID0gdGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHM7XG5cbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgY29uc3QgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblxuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBjYW52YXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXNcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWRDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzKHJlbmRlcmVyKVxue1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3JlbmRlckNhbnZhcyhyZW5kZXJlcik7XG59O1xuXG4vLyBUT0RPIHRoaXMgY2FuIGJlIHRoZSBzYW1lIGFzIHRoZSBXZWJHTCB2ZXJzaW9uLi4gd2lsbCBuZWVkIHRvIGRvIGEgbGl0dGxlIHR3ZWFraW5nIGZpcnN0IHRob3VnaC4uXG4vKipcbiAqIFByZXBhcmVzIHRoZSBDYW52YXMgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpXG57XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdldCBib3VuZHMgYWN0dWFsbHkgdHJhbnNmb3JtcyB0aGUgb2JqZWN0IGZvciB1cyBhbHJlYWR5IVxuICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKTtcblxuICAgIGNvbnN0IGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuXG4gICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICBjb25zdCBjYWNoZWRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5jb250ZXh0O1xuXG4gICAgYm91bmRzLmNlaWwoc2V0dGluZ3MuUkVTT0xVVElPTik7XG5cbiAgICBjb25zdCByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KTtcblxuICAgIGNvbnN0IHRleHR1cmVDYWNoZUlkID0gYGNhY2hlQXNCaXRtYXBfJHt1aWQoKX1gO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG5cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICBjb25zdCBtID0gX3RlbXBNYXRyaXg7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5VG8obSk7XG4gICAgbS5pbnZlcnQoKTtcblxuICAgIG0udHggLT0gYm91bmRzLng7XG4gICAgbS50eSAtPSBib3VuZHMueTtcblxuICAgIC8vIG0uYXBwZW5kKHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLilcbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcblxuICAgIC8vIHJlbmRlclRleHR1cmUucmVuZGVyKHRoaXMsIG0sIHRydWUpO1xuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCBmYWxzZSk7XG5cbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5jb250ZXh0ID0gY2FjaGVkUmVuZGVyVGFyZ2V0O1xuXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG4gICAgLy8gdGhlIHJlc3QgaXMgdGhlIHNhbWUgYXMgZm9yIFdlYkdMXG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG4gICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG4gICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IHRoaXMuX2dldENhY2hlZExvY2FsQm91bmRzO1xuXG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIGNvbnN0IGNhY2hlZFNwcml0ZSA9IG5ldyBTcHJpdGUocmVuZGVyVGV4dHVyZSk7XG5cbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuXG4gICAgdGhpcy50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgLy8gcmVzdG9yZSB0aGUgdHJhbnNmb3JtIG9mIHRoZSBjYWNoZWQgc3ByaXRlIHRvIGF2b2lkIHRoZSBuYXN0eSBmbGlja2VyLi5cbiAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSByZW5kZXJlci5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICAvLyBtYXAgdGhlIGhpdCB0ZXN0Li5cbiAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQ2FjaGVkQm91bmRzKClcbntcbiAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX2NhbGN1bGF0ZUJvdW5kcygpO1xuICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGxvY2FsIGJvdW5kcy5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2dldENhY2hlZExvY2FsQm91bmRzID0gZnVuY3Rpb24gX2dldENhY2hlZExvY2FsQm91bmRzKClcbntcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5nZXRMb2NhbEJvdW5kcygpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKVxue1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gbnVsbDtcblxuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAqICBVc2VkIHdoZW4gZGVzdHJveWluZyBjb250YWluZXJzLCBzZWUgdGhlIENvbnRhaW5lci5kZXN0cm95IG1ldGhvZC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBEZXN0cm95ID0gZnVuY3Rpb24gX2NhY2hlQXNCaXRtYXBEZXN0cm95KG9wdGlvbnMpXG57XG4gICAgdGhpcy5jYWNoZUFzQml0bWFwID0gZmFsc2U7XG4gICAgdGhpcy5kZXN0cm95KG9wdGlvbnMpO1xufTtcbiIsImltcG9ydCB7IERpc3BsYXlPYmplY3QsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIFRoZSBpbnN0YW5jZSBuYW1lIG9mIHRoZSBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBtZW1iZXIge3N0cmluZ30gbmFtZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5uYW1lID0gbnVsbDtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaXNwbGF5IG9iamVjdCBpbiB0aGUgY29udGFpbmVyLlxuICpcbiAqIEBtZXRob2QgZ2V0Q2hpbGRCeU5hbWVcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gSW5zdGFuY2UgbmFtZS5cbiAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLlxuICovXG5Db250YWluZXIucHJvdG90eXBlLmdldENoaWxkQnlOYW1lID0gZnVuY3Rpb24gZ2V0Q2hpbGRCeU5hbWUobmFtZSlcbntcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXS5uYW1lID09PSBuYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcbiIsImltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LiBEb2VzIG5vdCBkZXBlbmQgb24gb2JqZWN0IHNjYWxlLCByb3RhdGlvbiBhbmQgcGl2b3QuXG4gKlxuICogQG1ldGhvZCBnZXRHbG9iYWxQb3NpdGlvblxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50PW5ldyBQSVhJLlBvaW50KCldIC0gVGhlIHBvaW50IHRvIHdyaXRlIHRoZSBnbG9iYWwgdmFsdWUgdG8uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNldHRpbmcgdG8gdHJ1ZSB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3QuXG4gKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgdXBkYXRlZCBwb2ludC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0R2xvYmFsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRHbG9iYWxQb3NpdGlvbihwb2ludCA9IG5ldyBQb2ludCgpLCBza2lwVXBkYXRlID0gZmFsc2UpXG57XG4gICAgaWYgKHRoaXMucGFyZW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5wYXJlbnQudG9HbG9iYWwodGhpcy5wb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBwb2ludC54ID0gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICBwb2ludC55ID0gdGhpcy5wb3NpdGlvbi55O1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludDtcbn07XG4iLCJpbXBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuY29uc3QgdjUgPSAnNS4wLjAnO1xuXG4vKipcbiAqIERlcHJlY2F0aW9ucyAoYmFja3dhcmQgY29tcGF0aWJpbGl0aWVzKSBhcmUgYXV0b21hdGljYWxseSBhcHBsaWVkIGZvciBicm93c2VyIGJ1bmRsZXNcbiAqIGluIHRoZSBVTUQgbW9kdWxlIGZvcm1hdC4gSWYgdXNpbmcgV2VicGFjayBvciBSb2xsdXAsIHlvdSdsbCBuZWVkIHRvIGFwcGx5IHRoZXNlXG4gKiBkZXByZWNhdGlvbnMgbWFudWFsbHkgYnkgZG9pbmcgc29tZXRoaW5nIGxpa2UgdGhpczpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuICogUElYSS51c2VEZXByZWNhdGVkKCk7IC8vIE1VU1QgYmUgYm91bmQgdG8gbmFtZXNwYWNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIHVzZURlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlRGVwcmVjYXRlZCgpXG57XG4gICAgY29uc3QgUElYSSA9IHRoaXM7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY29uc3RhbnQge1JlZ0V4cHxzdHJpbmd9IFNWR19TSVpFXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuU1ZHX1NJWkVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFNWR19TSVpFOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5TVkdfU0laRSBwcm9wZXJ0eSBoYXMgbW92ZWQgdG8gUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuU1ZHX1NJWkUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNWR1Jlc291cmNlLlNWR19TSVpFO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuVHJhbnNmb3JtU3RhdGljXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UcmFuc2Zvcm1cbiAgICAgICAgICovXG4gICAgICAgIFRyYW5zZm9ybVN0YXRpYzoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuVHJhbnNmb3JtU3RhdGljIGNsYXNzIGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLlRyYW5zZm9ybScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVHJhbnNmb3JtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuVHJhbnNmb3JtQmFzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVHJhbnNmb3JtXG4gICAgICAgICAqL1xuICAgICAgICBUcmFuc2Zvcm1CYXNlOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UcmFuc2Zvcm1CYXNlIGNsYXNzIGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLlRyYW5zZm9ybScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVHJhbnNmb3JtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSB0aGUgdHJhbnNmb3JtIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFRSQU5TRk9STV9NT0RFXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBlbnVtIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEFUSUNcbiAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IERZTkFNSUNcbiAgICAgICAgICovXG4gICAgICAgIFRSQU5TRk9STV9NT0RFOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geyBTVEFUSUM6IDAsIERZTkFNSUM6IDEgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLldlYkdMUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBXZWJHTFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5XZWJHTFJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5SZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLkNhbnZhc1JlbmRlclRhcmdldFxuICAgICAgICAgKiBAc2VlIFBJWEkudXRpbHMuQ2FudmFzUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNSZW5kZXJUYXJnZXQ6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNhbnZhc1JlbmRlclRhcmdldCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBuYW1lIGxvYWRlclxuICAgICAgICAgKiBAdHlwZSB7UElYSS5Mb2FkZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5Mb2FkZXIuc2hhcmVkXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBsb2FkZXI6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlciBpbnN0YW5jZSBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXIuc2hhcmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXIuc2hhcmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuRmlsdGVyTWFuYWdlclxuICAgICAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEZpbHRlck1hbmFnZXI6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkZpbHRlck1hbmFnZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQuIEFsbCBjbGFzc2VzIHByZXZpb3VzIG5lc3RlZFxuICAgICAqIHVuZGVyIHRoaXMgbmFtZXNwYWNlIGhhdmUgYmVlbiBtb3ZlZCB0byB0aGUgdG9wLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLmV4dHJhc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5leHRyYXMgPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuZXh0cmFzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRpbGluZ1Nwcml0ZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5UaWxpbmdTcHJpdGUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpbGluZ1Nwcml0ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUaWxpbmdTcHJpdGVSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlRpbGluZ1Nwcml0ZVJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBBbmltYXRlZFNwcml0ZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkFuaW1hdGVkU3ByaXRlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5BbmltYXRlZFNwcml0ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuQml0bWFwVGV4dFxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwVGV4dFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQml0bWFwVGV4dDoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLkJpdG1hcFRleHQgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQml0bWFwVGV4dCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQml0bWFwVGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnV0aWxzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS51dGlscy5nZXRTdmdTaXplXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U3ZnU2l6ZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMuZ2V0U3ZnU2l6ZSBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU1ZHUmVzb3VyY2UuZ2V0U2l6ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBbGwgY2xhc3NlcyBvbiB0aGlzIG5hbWVzcGFjZSBoYXZlIG1vdmVkIHRvIHRoZSBoaWdoLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLm1lc2hcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkubWVzaCA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5tZXNoLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk1lc2hcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZU1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE1lc2g6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guTWVzaCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVNZXNoJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TaW1wbGVNZXNoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTmluZVNsaWNlUGxhbmVcbiAgICAgICAgICogQHNlZSBQSVhJLk5pbmVTbGljZVBsYW5lXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBOaW5lU2xpY2VQbGFuZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5OaW5lU2xpY2VQbGFuZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5OaW5lU2xpY2VQbGFuZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTmluZVNsaWNlUGxhbmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5QbGFuZVxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlUGxhbmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFBsYW5lOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLlBsYW5lIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlNpbXBsZVBsYW5lJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TaW1wbGVQbGFuZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlJvcGVcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZVJvcGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJvcGU6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUm9wZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVSb3BlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TaW1wbGVSb3BlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUmF3TWVzaFxuICAgICAgICAgKiBAc2VlIFBJWEkuTWVzaFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUmF3TWVzaDoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5SYXdNZXNoIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLk1lc2gnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk1lc2g7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5DYW52YXNNZXNoUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkNhbnZhc01lc2hSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzTWVzaFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLkNhbnZhc01lc2hSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5DYW52YXNNZXNoUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkNhbnZhc01lc2hSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk1lc2hSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBNZXNoUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guTWVzaFJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLk1lc2hSZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTWVzaFJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGl0ZW1zIGhhdmUgYmVlbiBtb3ZlZCB0b1xuICAgICAqIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkucGFydGljbGVzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnBhcnRpY2xlcyA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5wYXJ0aWNsZXMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICovXG4gICAgICAgIFBhcnRpY2xlQ29udGFpbmVyOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUGFydGljbGVDb250YWluZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlBhcnRpY2xlQ29udGFpbmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZVJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5QYXJ0aWNsZVJlbmRlcmVyXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZVJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wYXJ0aWNsZXMuUGFydGljbGVSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5QYXJ0aWNsZVJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5QYXJ0aWNsZVJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGl0ZW1zIGhhdmUgYmVlbiBtb3ZlZCB0b1xuICAgICAqIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkudGlja2VyXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnRpY2tlciA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS50aWNrZXIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnRpY2tlci5UaWNrZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRpY2tlclxuICAgICAgICAgKi9cbiAgICAgICAgVGlja2VyOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS50aWNrZXIuVGlja2VyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlRpY2tlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlja2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkudGlja2VyLnNoYXJlZFxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICBzaGFyZWQ6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnRpY2tlci5zaGFyZWQgaW5zdGFuY2UgaGFzIG1vdmVkIHRvIFBJWEkuVGlja2VyLnNoYXJlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlja2VyLnNoYXJlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBbGwgY2xhc3NlcyBvbiB0aGlzIG5hbWVzcGFjZSBoYXZlIG1vdmVkIHRvIHRoZSBoaWdoLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLmxvYWRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkubG9hZGVycyA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5sb2FkZXJzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5sb2FkZXJzLkxvYWRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBMb2FkZXI6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuTG9hZGVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmxvYWRlcnMuUmVzb3VyY2VcbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlclJlc291cmNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSZXNvdXJjZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5SZXNvdXJjZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXJSZXNvdXJjZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyUmVzb3VyY2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5iaXRtYXBGb250UGFyc2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgYml0bWFwRm9udFBhcnNlcjoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5iaXRtYXBGb250UGFyc2VyIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLnBhcnNlQml0bWFwRm9udERhdGFcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcEZvbnRMb2FkZXIucGFyc2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlQml0bWFwRm9udERhdGE6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMucGFyc2VCaXRtYXBGb250RGF0YSBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5CaXRtYXBGb250TG9hZGVyLnBhcnNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBGb250TG9hZGVyLnBhcnNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuc3ByaXRlc2hlZXRQYXJzZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgc3ByaXRlc2hlZXRQYXJzZXI6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuc3ByaXRlc2hlZXRQYXJzZXIgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TcHJpdGVzaGVldExvYWRlci51c2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5nZXRSZXNvdXJjZVBhdGhcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVzb3VyY2VQYXRoOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLmdldFJlc291cmNlUGF0aCBwcm9wZXJ0eSBoYXMgbW92ZWQgdG8gUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGgnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZVxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIucmVnaXN0ZXJQbHVnaW5cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1pZGRsZXdhcmVcbiAgICAgKi9cbiAgICBQSVhJLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZSA9IGZ1bmN0aW9uIGFkZFBpeGlNaWRkbGV3YXJlKG1pZGRsZXdhcmUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSxcbiAgICAgICAgICAgICdQSVhJLmxvYWRlcnMuTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLmxvYWRlcnMuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luJ1xuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBQSVhJLmxvYWRlcnMuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKHsgdXNlOiBtaWRkbGV3YXJlKCkgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZXh0cmFjdC5FeHRyYWN0XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuZXh0cmFjdCwgJ1dlYkdMRXh0cmFjdCcsIHtcbiAgICAgICAgZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0IG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5leHRyYWN0LkV4dHJhY3QnKTtcblxuICAgICAgICAgICAgcmV0dXJuIFBJWEkuZXh0cmFjdC5FeHRyYWN0O1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBJWEkucHJlcGFyZS5XZWJHTFByZXBhcmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5wcmVwYXJlLlByZXBhcmVcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5wcmVwYXJlLCAnV2ViR0xQcmVwYXJlJywge1xuICAgICAgICBnZXQoKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucHJlcGFyZS5XZWJHTFByZXBhcmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkucHJlcGFyZS5QcmVwYXJlJyk7XG5cbiAgICAgICAgICAgIHJldHVybiBQSVhJLnByZXBhcmUuUHJlcGFyZTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjX3JlbmRlcldlYkdMXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ29udGFpbmVyLl9yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLl9yZW5kZXInKTtcblxuICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI3JlbmRlcldlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIucmVuZGVyV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lci5yZW5kZXInKTtcblxuICAgICAgICB0aGlzLnJlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5EaXNwbGF5T2JqZWN0I3JlbmRlcldlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuRGlzcGxheU9iamVjdCNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkRpc3BsYXlPYmplY3QucmVuZGVyV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkRpc3BsYXlPYmplY3QucmVuZGVyJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyQWR2YW5jZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnJlbmRlckFkdmFuY2VkV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJBZHZhbmNlZFdlYkdMKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5yZW5kZXJBZHZhbmNlZFdlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIucmVuZGVyQWR2YW5jZWQnKTtcblxuICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5zZXR0aW5ncywge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCB0cmFuc2Zvcm0gdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5UUkFOU0ZPUk1fTU9ERX1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UUkFOU0ZPUk1fTU9ERS5TVEFUSUNcbiAgICAgICAgICovXG4gICAgICAgIFRSQU5TRk9STV9NT0RFOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zZXR0aW5ncy5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zZXR0aW5ncy5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgeyBCYXNlVGV4dHVyZSB9ID0gUElYSTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgbG9hZFNvdXJjZVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlI1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmxvYWRTb3VyY2UgPSBmdW5jdGlvbiBsb2FkU291cmNlKGltYWdlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmxvYWRTb3VyY2UgbWV0aG9kIGhhcyBiZWVuIGRlcHJlY2F0ZWQnKTtcblxuICAgICAgICBjb25zdCByZXNvdXJjZSA9IFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZShpbWFnZSk7XG5cbiAgICAgICAgcmVzb3VyY2UuaW50ZXJuYWwgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhCYXNlVGV4dHVyZS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjaGFzTG9hZGVkXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlI3ZhbGlkXG4gICAgICAgICAqL1xuICAgICAgICBoYXNMb2FkZWQ6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmhhc0xvYWRlZCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS52YWxpZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsaWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNpbWFnZVVybFxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2UuSW1hZ2VSZXNvdXJjZSN1cmxcbiAgICAgICAgICovXG4gICAgICAgIGltYWdlVXJsOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5pbWFnZVVybCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlICYmIHRoaXMucmVzb3VyY2UudXJsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc2V0KGltYWdlVXJsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5pbWFnZVVybCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwnKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS51cmwgPSBpbWFnZVVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNzb3VyY2VcbiAgICAgICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZSNzb3VyY2VcbiAgICAgICAgICovXG4gICAgICAgIHNvdXJjZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuc291cmNlIHByb3BlcnR5IGhhcyBiZWVuIG1vdmVkLCB1c2UgYFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2Uuc291cmNlYCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2UgJiYgdGhpcy5yZXNvdXJjZS5zb3VyY2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KHNvdXJjZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuc291cmNlIHByb3BlcnR5IGhhcyBiZWVuIG1vdmVkLCB1c2UgYFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2Uuc291cmNlYCAnXG4gICAgICAgICAgICAgICAgICAgICsgJ2lmIHlvdSB3YW50IHRvIHNldCBIVE1MQ2FudmFzRWxlbWVudC4gT3RoZXJ3aXNlLCBjcmVhdGUgbmV3IEJhc2VUZXh0dXJlLicpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmcm9tSW1hZ2VcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGNhbnZhcywgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc2NhbGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbUltYWdlIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuXG4gICAgICAgIGNvbnN0IHJlc291cmNlT3B0aW9ucyA9IHsgc2NhbGUsIGNyb3Nzb3JpZ2luIH07XG5cbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21DYW52YXNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbUNhbnZhcyA9IGZ1bmN0aW9uIGZyb21DYW52YXMoY2FudmFzLCBzY2FsZU1vZGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbUNhbnZhcyBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcblxuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmUuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21TVkdcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbVNWRyA9IGZ1bmN0aW9uIGZyb21TVkcoY2FudmFzLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzY2FsZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tU1ZHIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuXG4gICAgICAgIGNvbnN0IHJlc291cmNlT3B0aW9ucyA9IHsgc2NhbGUsIGNyb3Nzb3JpZ2luIH07XG5cbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuUG9pbnQjY29weVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5Qb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocClcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Qb2ludC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuUG9pbnQuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk9ic2VydmFibGVQb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5PYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuT2JzZXJ2YWJsZVBvaW50LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5PYnNlcnZhYmxlUG9pbnQuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLlJlY3RhbmdsZSNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUmVjdGFuZ2xlI2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5SZWN0YW5nbGUucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVjdGFuZ2xlLmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5SZWN0YW5nbGUuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk1hdHJpeCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuTWF0cml4I2NvcHlUb1xuICAgICAqL1xuICAgIFBJWEkuTWF0cml4LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLk1hdHJpeC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuTWF0cml4LmNvcHlUbycpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlUbyhwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW0jc2V0U3RhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjEuMFxuICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtI3NldFxuICAgICAqL1xuICAgIFBJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShzKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24oJ3Y1LjEuMCcsICdTdGF0ZVN5c3RlbS5zZXRTdGF0ZSBoYXMgYmVlbiByZW5hbWVkIHRvIFN0YXRlU3lzdGVtLnNldCcpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNldChzKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkZpbHRlck1hbmFnZXIjZ2V0UmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNnZXRGaWx0ZXJUZXh0dXJlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRSZW5kZXJUYXJnZXQoY2xlYXIsIHJlc29sdXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LFxuICAgICAgICAgICAgICAgICdQSVhJLkZpbHRlck1hbmFnZXIuZ2V0UmVuZGVyVGFyZ2V0IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jZ2V0RmlsdGVyVGV4dHVyZSdcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZpbHRlclRleHR1cmUocmVzb2x1dGlvbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5GaWx0ZXJNYW5hZ2VyI3JldHVyblJlbmRlclRhcmdldFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jcmV0dXJuRmlsdGVyVGV4dHVyZVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuUmVuZGVyVGFyZ2V0KHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LFxuICAgICAgICAgICAgICAgICdQSVhJLkZpbHRlck1hbmFnZXIucmV0dXJuUmVuZGVyVGFyZ2V0IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoICdcbiAgICAgICAgICAgICAgICArICdQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLnJldHVybkZpbHRlclRleHR1cmUnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSB0aGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAgICAgKi9cbiAgICAgICAgY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4KVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0uY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXggbWV0aG9kIGlzIHJlbW92ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgYCh2VGV4dHVyZUNvb3JkICogaW5wdXRTaXplLnh5KSArIG91dHB1dEZyYW1lLnh5YCBpbnN0ZWFkJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5pZGVudGl0eSgpO1xuICAgICAgICAgICAgY29uc3QgeyBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSB9ID0gdGhpcy5hY3RpdmVTdGF0ZTtcblxuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzb3VyY2VGcmFtZS54IC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCwgc291cmNlRnJhbWUueSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC5zY2FsZShkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgICAgICovXG4gICAgICAgIGNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zeXN0ZW1zLkZpbHRlck1hbmFnZXIuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4IG1ldGhvZCBpcyByZW1vdmVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGAoKHZUZXh0dXJlQ29vcmQgKiBpbnB1dFNpemUueHkpICsgb3V0cHV0RnJhbWUueHkpIC8gb3V0cHV0RnJhbWUuendgIGluc3RlYWQuJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUgfSA9IHRoaXMuYWN0aXZlU3RhdGU7XG4gICAgICAgICAgICBjb25zdCBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguaWRlbnRpdHkoKTtcblxuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzb3VyY2VGcmFtZS54IC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCwgc291cmNlRnJhbWUueSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgY29uc3QgdHJhbnNsYXRlU2NhbGVYID0gKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyBzb3VyY2VGcmFtZS53aWR0aCk7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2xhdGVTY2FsZVkgPSAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyBzb3VyY2VGcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUodHJhbnNsYXRlU2NhbGVYLCB0cmFuc2xhdGVTY2FsZVkpO1xuXG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJUZXh0dXJlI3NvdXJjZUZyYW1lXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzb3VyY2VGcmFtZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJGcmFtZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlclRleHR1cmUjc2l6ZVxuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyVGV4dHVyZS5zaXplIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmx1clhGaWx0ZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgICAqL1xuICAgIGNsYXNzIEJsdXJYRmlsdGVyIGV4dGVuZHMgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAge1xuICAgICAgICBjb25zdHJ1Y3RvcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmZpbHRlcnMuQmx1clhGaWx0ZXIgY2xhc3MgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcycpO1xuXG4gICAgICAgICAgICBzdXBlcih0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmx1cllGaWx0ZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgICAqL1xuICAgIGNsYXNzIEJsdXJZRmlsdGVyIGV4dGVuZHMgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAge1xuICAgICAgICBjb25zdHJ1Y3RvcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmZpbHRlcnMuQmx1cllGaWx0ZXIgY2xhc3MgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcycpO1xuXG4gICAgICAgICAgICBzdXBlcihmYWxzZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLmZpbHRlcnMsIHtcbiAgICAgICAgQmx1clhGaWx0ZXIsXG4gICAgICAgIEJsdXJZRmlsdGVyLFxuICAgIH0pO1xuXG4gICAgY29uc3QgeyBTcHJpdGUsIFRleHR1cmUsIEdyYXBoaWNzIH0gPSBQSVhJO1xuXG4gICAgLy8gU3VwcG9ydCBmb3IgcGl4aS5qcy1sZWdhY3kgYmlmdXJjYXRpb25cbiAgICAvLyBnaXZlIHVzZXJzIGEgZnJpZW5kbHkgYXNzaXN0IHRvIHVzZSBsZWdhY3lcbiAgICBpZiAoIUdyYXBoaWNzLnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmUpXG4gICAge1xuICAgICAgICBHcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVDYW52YXNUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVDYW52YXNUZXh0dXJlKClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkdyYXBoaWNzLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSBtZXRob2QgaXMgb25seSBhdmFpbGFibGUgaW4gXCJwaXhpLmpzLWxlZ2FjeVwiJyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfSBQSVhJLkdyYXBoaWNzI2dyYXBoaWNzRGF0YVxuICAgICAqIEBzZWUgUElYSS5HcmFwaGljcyNnZW9tZXRyeVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLkdyYXBoaWNzLnByb3RvdHlwZSwgJ2dyYXBoaWNzRGF0YScsIHtcbiAgICAgICAgZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkdyYXBoaWNzLmdyYXBoaWNzRGF0YSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5HcmFwaGljcy5nZW9tZXRyeS5ncmFwaGljc0RhdGEnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhO1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gVXNlIHRoZXNlIHRvIGRlcHJlY2F0ZSBhbGwgdGhlIFNwcml0ZSBmcm9tKiBtZXRob2RzXG4gICAgZnVuY3Rpb24gc3ByaXRlRnJvbShuYW1lLCBzb3VyY2UsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgYFBJWEkuU3ByaXRlLiR7bmFtZX0gbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlNwcml0ZS5mcm9tYCk7XG5cbiAgICAgICAgcmV0dXJuIFNwcml0ZS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tSW1hZ2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbUltYWdlID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tSW1hZ2UnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tU1ZHXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21TVkcgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21TVkcnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tQ2FudmFzXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21DYW52YXMgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21DYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tVmlkZW9cbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbVZpZGVvID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tVmlkZW8nKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tRnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbUZyYW1lID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tRnJhbWUnKTtcblxuICAgIC8vIFVzZSB0aGVzZSB0byBkZXByZWNhdGUgYWxsIHRoZSBUZXh0dXJlIGZyb20qIG1ldGhvZHNcbiAgICBmdW5jdGlvbiB0ZXh0dXJlRnJvbShuYW1lLCBzb3VyY2UsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgYFBJWEkuVGV4dHVyZS4ke25hbWV9IG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5UZXh0dXJlLmZyb21gKTtcblxuICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUltYWdlXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21JbWFnZSA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21JbWFnZScpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tU1ZHXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21TVkcgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tU1ZHJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21DYW52YXNcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUNhbnZhcyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21DYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbVZpZGVvXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21WaWRlbyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21WaWRlbycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tRnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUZyYW1lID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUZyYW1lJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59IFBJWEkuQWJzdHJhY3RSZW5kZXJlciNhdXRvUmVzaXplXG4gICAgICogQHNlZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIjYXV0b0RlbnNpdHlcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5BYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgJ2F1dG9SZXNpemUnLCB7XG4gICAgICAgIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9SZXNpemUgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b0RlbnNpdHknKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0b0RlbnNpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b1Jlc2l6ZSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIFBJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvRGVuc2l0eScpO1xuXG4gICAgICAgICAgICB0aGlzLmF1dG9EZW5zaXR5ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5UZXh0dXJlU3lzdGVtfSBQSVhJLlJlbmRlcmVyI3RleHR1cmVNYW5hZ2VyXG4gICAgICogQHNlZSBQSVhJLlJlbmRlcmVyI3RleHR1cmVcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5SZW5kZXJlci5wcm90b3R5cGUsICd0ZXh0dXJlTWFuYWdlcicsIHtcbiAgICAgICAgZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlJlbmRlcmVyLnRleHR1cmUnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS51dGlscy5taXhpbnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkudXRpbHMubWl4aW5zID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBtaXhpblxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgbWl4aW4oKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLm1peGluIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gZGVsYXlNaXhpblxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZGVsYXlNaXhpbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5taXhpbnMuZGVsYXlNaXhpbiBmdW5jdGlvbiBpcyBubyBsb25nZXIgYXZhaWxhYmxlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAgICAgICAgICogQGZ1bmN0aW9uIHBlcmZvcm1NaXhpbnNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHBlcmZvcm1NaXhpbnMoKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLnBlcmZvcm1NaXhpbnMgZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4iLCIvKipcbiAqIENsYXNzIGNvbnRyb2xzIGNhY2hlIGZvciBVViBtYXBwaW5nIGZyb20gVGV4dHVyZSBub3JtYWwgc3BhY2UgdG8gQmFzZVRleHR1cmUgbm9ybWFsIHNwYWNlLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzaEJhdGNoVXZzXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gdXZCdWZmZXIgLSBCdWZmZXIgd2l0aCBub3JtYWxpemVkIHV2J3NcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZU1hdHJpeH0gdXZNYXRyaXggLSBNYXRlcmlhbCBVViBtYXRyaXhcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih1dkJ1ZmZlciwgdXZNYXRyaXgpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIHdpdGggbm9ybWFsaXplZCBVVidzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dkJ1ZmZlciA9IHV2QnVmZmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXRlcmlhbCBVViBtYXRyaXhcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IHV2TWF0cml4O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVViBCdWZmZXIgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJZCA9IC0xO1xuXG4gICAgICAgIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9IC0xO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB1cGRhdGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlVXBkYXRlIC0gZm9yY2UgdGhlIHVwZGF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZShmb3JjZVVwZGF0ZSlcbiAgICB7XG4gICAgICAgIGlmICghZm9yY2VVcGRhdGVcbiAgICAgICAgICAgICYmIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID09PSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRFxuICAgICAgICAgICAgJiYgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID09PSB0aGlzLnV2TWF0cml4Ll91cGRhdGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gdGhpcy51dk1hdHJpeC5fdXBkYXRlSUQ7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMudXZCdWZmZXIuZGF0YTtcblxuICAgICAgICBpZiAoIXRoaXMuZGF0YSB8fCB0aGlzLmRhdGEubGVuZ3RoICE9PSBkYXRhLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnV2TWF0cml4Lm11bHRpcGx5VXZzKGRhdGEsIHRoaXMuZGF0YSk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgUG9pbnQsIFBvbHlnb24gfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IEJMRU5EX01PREVTLCBEUkFXX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgTWVzaEJhdGNoVXZzIGZyb20gJy4vTWVzaEJhdGNoVXZzJztcblxuY29uc3QgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5jb25zdCB0ZW1wUG9seWdvbiA9IG5ldyBQb2x5Z29uKCk7XG5cbi8qKlxuICogQmFzZSBtZXNoIGNsYXNzLlxuICpcbiAqIFRoaXMgY2xhc3MgZW1wb3dlcnMgeW91IHRvIGhhdmUgbWF4aW11bSBmbGV4aWJpbGl0eSB0byByZW5kZXIgYW55IGtpbmQgb2YgV2ViR0wgdmlzdWFscyB5b3UgY2FuIHRoaW5rIG9mLlxuICogVGhpcyBjbGFzcyBhc3N1bWVzIGEgY2VydGFpbiBsZXZlbCBvZiBXZWJHTCBrbm93bGVkZ2UuXG4gKiBJZiB5b3Uga25vdyBhIGJpdCB0aGlzIHNob3VsZCBhYnN0cmFjdCBlbm91Z2ggYXdheSB0byBtYWtlIHlvdSBsaWZlIGVhc2llciFcbiAqXG4gKiBQcmV0dHkgbXVjaCBBTEwgV2ViR0wgY2FuIGJlIGJyb2tlbiBkb3duIGludG8gdGhlIGZvbGxvd2luZzpcbiAqIC0gR2VvbWV0cnkgLSBUaGUgc3RydWN0dXJlIGFuZCBkYXRhIGZvciB0aGUgbWVzaC4gVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLi5cbiAqIC0gU2hhZGVyIC0gVGhpcyBpcyB0aGUgc2hhZGVyIHRoYXQgUGl4aUpTIHdpbGwgcmVuZGVyIHRoZSBnZW9tZXRyeSB3aXRoIChhdHRyaWJ1dGVzIGluIHRoZSBzaGFkZXIgbXVzdCBtYXRjaCB0aGUgZ2VvbWV0cnkpXG4gKiAtIFN0YXRlIC0gVGhpcyBpcyB0aGUgc3RhdGUgb2YgV2ViR0wgcmVxdWlyZWQgdG8gcmVuZGVyIHRoZSBtZXNoLlxuICpcbiAqIFRocm91Z2ggYSBjb21iaW5hdGlvbiBvZiB0aGUgYWJvdmUgZWxlbWVudHMgeW91IGNhbiByZW5kZXIgYW55dGhpbmcgeW91IHdhbnQsIDJEIG9yIDNEIVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc2ggZXh0ZW5kcyBDb250YWluZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5ICB0aGUgZ2VvbWV0cnkgdGhlIG1lc2ggd2lsbCB1c2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfFBJWEkuTWVzaE1hdGVyaWFsfSBzaGFkZXIgIHRoZSBzaGFkZXIgdGhlIG1lc2ggd2lsbCB1c2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IFtzdGF0ZV0gdGhlIHN0YXRlIHRoYXQgdGhlIFdlYkdMIGNvbnRleHQgaXMgcmVxdWlyZWQgdG8gYmUgaW4gdG8gcmVuZGVyIHRoZSBtZXNoXG4gICAgICogICAgICAgIGlmIG5vIHN0YXRlIGlzIHByb3ZpZGVkLCB1c2VzIHtAbGluayBQSVhJLlN0YXRlLmZvcjJkfSB0byBjcmVhdGUgYSAyRCBzdGF0ZSBmb3IgUGl4aUpTLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZHJhd01vZGU9UElYSS5EUkFXX01PREVTLlRSSUFOR0xFU10gdGhlIGRyYXdNb2RlLCBjYW4gYmUgYW55IG9mIHRoZSBQSVhJLkRSQVdfTU9ERVMgY29uc3RzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ2VvbWV0cnksIHNoYWRlciwgc3RhdGUsIGRyYXdNb2RlID0gRFJBV19NT0RFUy5UUklBTkdMRVMpLy8gdmVydGljZXMsIHV2cywgaW5kaWNlcywgZHJhd01vZGUpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmNsdWRlcyB2ZXJ0ZXggcG9zaXRpb25zLCBmYWNlIGluZGljZXMsIG5vcm1hbHMsIGNvbG9ycywgVVZzLCBhbmRcbiAgICAgICAgICogY3VzdG9tIGF0dHJpYnV0ZXMgd2l0aGluIGJ1ZmZlcnMsIHJlZHVjaW5nIHRoZSBjb3N0IG9mIHBhc3NpbmcgYWxsXG4gICAgICAgICAqIHRoaXMgZGF0YSB0byB0aGUgR1BVLiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdlb21ldHJ5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcblxuICAgICAgICBnZW9tZXRyeS5yZWZDb3VudCsrO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMgdGhhdCBwcm9jZXNzZXMgdGhlIGdlb21ldHJ5IGFuZCBydW5zIG9uIHRoZSBHUFUuXG4gICAgICAgICAqIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfFBJWEkuTWVzaE1hdGVyaWFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIFdlYkdMIHN0YXRlIHRoZSBNZXNoIHJlcXVpcmVkIHRvIHJlbmRlciwgZXhjbHVkZXMgc2hhZGVyIGFuZCBnZW9tZXRyeS4gRS5nLixcbiAgICAgICAgICogYmxlbmQgbW9kZSwgY3VsbGluZywgZGVwdGggdGVzdGluZywgZGlyZWN0aW9uIG9mIHJlbmRlcmluZyB0cmlhbmdsZXMsIGJhY2tmYWNlLCBldGMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGUgfHwgU3RhdGUuZm9yMmQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdheSB0aGUgTWVzaCBzaG91bGQgYmUgZHJhd24sIGNhbiBiZSBhbnkgb2YgdGhlIHtAbGluayBQSVhJLkRSQVdfTU9ERVN9IGNvbnN0YW50cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuRFJBV19NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3TW9kZSA9IGRyYXdNb2RlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBpY2FsbHkgdGhlIGluZGV4IG9mIHRoZSBJbmRleEJ1ZmZlciB3aGVyZSB0byBzdGFydCBkcmF3aW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgbXVjaCBvZiB0aGUgZ2VvbWV0cnkgdG8gZHJhdywgYnkgZGVmYXVsdCBgMGAgcmVuZGVycyBldmVyeXRoaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZWFzZSBhcmUgdXNlZCBhcyBlYXN5IGFjY2VzcyBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGVhc2UgYXJlIHVzZWQgYXMgZWFzeSBhY2Nlc3MgZm9yIGJhdGNoaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB0aGUgY2FjaGluZyBsYXllciB1c2VkIGJ5IHRoZSBiYXRjaGVyXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoMSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGdlb21ldHJ5IGlzIGNoYW5nZWQgdXNlZCB0byBkZWNpZGUgdG8gcmUtdHJhbnNmb3JtXG4gICAgICAgICAqIHRoZSB2ZXJ0ZXhEYXRhLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleERpcnR5ID0gMDtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuXG4gICAgICAgIC8vIEluaGVyaXRlZCBmcm9tIERpc3BsYXlNb2RlLCBzZXQgZGVmYXVsdHNcbiAgICAgICAgdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByb3VuZFBpeGVscyBmaWVsZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoZWQgVVYncyBhcmUgY2FjaGVkIGZvciBhdGxhcyB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1lc2hCYXRjaFV2c31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hVdnMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvIGNoYW5nZSBtZXNoIHV2J3MsIGNoYW5nZSBpdHMgdXZCdWZmZXIgZGF0YSBhbmQgaW5jcmVtZW50IGl0cyBfdXBkYXRlSUQuXG4gICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHV2QnVmZmVyKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG8gY2hhbmdlIG1lc2ggdmVydGljZXMsIGNoYW5nZSBpdHMgdXZCdWZmZXIgZGF0YSBhbmQgaW5jcmVtZW50IGl0cyBfdXBkYXRlSUQuXG4gICAgICogSW5jcmVtZW50aW5nIF91cGRhdGVJRCBpcyBvcHRpb25hbCBiZWNhdXNlIG1vc3Qgb2YgTWVzaCBvYmplY3RzIGRvIGl0IGFueXdheS5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgdmVydGljZXNCdWZmZXIoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Ige0BsaW5rIFBJWEkuTWVzaCNzaGFkZXJ9LlxuICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfFBJWEkuTWVzaE1hdGVyaWFsfVxuICAgICAqL1xuICAgIHNldCBtYXRlcmlhbCh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IG1hdGVyaWFsKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBNZXNoLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgKi9cbiAgICBzZXQgYmxlbmRNb2RlKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgYmxlbmRNb2RlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgc2V0IHJvdW5kUGl4ZWxzKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCByb3VuZFBpeGVscygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG11bHRpcGx5IHRpbnQgYXBwbGllZCB0byB0aGUgTWVzaC4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZlxuICAgICAqIGAweEZGRkZGRmAgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG4gICAgZ2V0IHRpbnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRpbnQ7XG4gICAgfVxuXG4gICAgc2V0IHRpbnQodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnNoYWRlci50aW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgTWVzaCB1c2VzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIGdldCB0ZXh0dXJlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgIH1cblxuICAgIHNldCB0ZXh0dXJlKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaGFkZXIudGV4dHVyZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIHJlbmRlcmVyIGRyYXcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBfcmVuZGVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCB1c2UgYSBkaWZmZXJlbnQgd2F5IHRvIGdyYWIgdmVydHM/XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLmRhdGE7XG5cbiAgICAgICAgLy8gVE9ETyBiZW5jaG1hcmsgY2hlY2sgZm9yIGF0dHJpYnV0ZSBzaXplLi5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyLmJhdGNoYWJsZSAmJiB0aGlzLmRyYXdNb2RlID09PSBEUkFXX01PREVTLlRSSUFOR0xFUyAmJiB2ZXJ0aWNlcy5sZW5ndGggPCBNZXNoLkJBVENIQUJMRV9TSVpFICogMilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVG9CYXRjaChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEZWZhdWx0KHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIG5vbi1iYXRjaGluZyB3YXkgb2YgcmVuZGVyaW5nLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgX3JlbmRlckRlZmF1bHQocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBjb25zdCBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcblxuICAgICAgICBzaGFkZXIuYWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIGlmIChzaGFkZXIudXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFkZXIudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChzaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YS50cmFuc2xhdGlvbk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuXG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcblxuICAgICAgICAvLyBiaW5kIHRoZSBnZW9tZXRyeS4uLlxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuZ2VvbWV0cnksIHNoYWRlcik7XG5cbiAgICAgICAgLy8gdGhlbiByZW5kZXIgaXRcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLmRyYXdNb2RlLCB0aGlzLnNpemUsIHRoaXMuc3RhcnQsIHRoaXMuZ2VvbWV0cnkuaW5zdGFuY2VDb3VudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyaW5nIGJ5IHVzaW5nIHRoZSBCYXRjaCBzeXN0ZW0uXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBfcmVuZGVyVG9CYXRjaChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcblxuICAgICAgICBpZiAodGhpcy5zaGFkZXIudXZNYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVVdnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBwcm9wZXJ0aWVzIGZvciBiYXRjaGluZy4uXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YTtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9IHRoaXMuc2hhZGVyLl90aW50UkdCO1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5zaGFkZXIudGV4dHVyZTtcblxuICAgICAgICBjb25zdCBwbHVnaW5OYW1lID0gdGhpcy5tYXRlcmlhbC5wbHVnaW5OYW1lO1xuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHZlcnRleERhdGEgZmllbGQgYmFzZWQgb24gdHJhbnNmb3JtIGFuZCB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIGNhbGN1bGF0ZVZlcnRpY2VzKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgY29uc3QgdmVydGljZXMgPSBnZW9tZXRyeS5idWZmZXJzWzBdLmRhdGE7XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5LnZlcnRleERpcnR5SWQgPT09IHRoaXMudmVydGV4RGlydHkgJiYgdGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuXG4gICAgICAgIGlmICh0aGlzLnZlcnRleERhdGEubGVuZ3RoICE9PSB2ZXJ0aWNlcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgICAgICBjb25zdCBiID0gd3QuYjtcbiAgICAgICAgY29uc3QgYyA9IHd0LmM7XG4gICAgICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgICAgICBjb25zdCB0eCA9IHd0LnR4O1xuICAgICAgICBjb25zdCB0eSA9IHd0LnR5O1xuXG4gICAgICAgIGNvbnN0IHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeCA9IHZlcnRpY2VzWyhpICogMildO1xuICAgICAgICAgICAgY29uc3QgeSA9IHZlcnRpY2VzWyhpICogMikgKyAxXTtcblxuICAgICAgICAgICAgdmVydGV4RGF0YVsoaSAqIDIpXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMikgKyAxXSA9IChiICogeCkgKyAoZCAqIHkpICsgdHk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2ldID0gTWF0aC5yb3VuZCh2ZXJ0ZXhEYXRhW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmVydGV4RGlydHkgPSBnZW9tZXRyeS52ZXJ0ZXhEaXJ0eUlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdXYgZmllbGQgYmFzZWQgb24gZnJvbSBnZW9tZXRyeSB1didzIG9yIGJhdGNoVXZzXG4gICAgICovXG4gICAgY2FsY3VsYXRlVXZzKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdlb21VdnMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV07XG5cbiAgICAgICAgaWYgKCF0aGlzLnNoYWRlci51dk1hdHJpeC5pc1NpbXBsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhdGNoVXZzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hVdnMgPSBuZXcgTWVzaEJhdGNoVXZzKGdlb21VdnMsIHRoaXMuc2hhZGVyLnV2TWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmF0Y2hVdnMudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IHRoaXMuYmF0Y2hVdnMuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXZzID0gZ2VvbVV2cy5kYXRhO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBtZXNoIGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICogdGhlcmUgbXVzdCBiZSBhIGFWZXJ0ZXhQb3NpdGlvbiBhdHRyaWJ1dGUgcHJlc2VudCBpbiB0aGUgZ2VvbWV0cnkgZm9yIGJvdW5kcyB0byBiZSBjYWxjdWxhdGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY2FsY3VsYXRlQm91bmRzKClcbiAgICB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkVmVydGV4RGF0YSh0aGlzLnZlcnRleERhdGEsIDAsIHRoaXMudmVydGV4RGF0YS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgbWVzaC4gV29ya3Mgb25seSBmb3IgUElYSS5EUkFXX01PREVTLlRSSUFOR0xFUy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgY29udGFpbnNQb2ludChwb2ludClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludC54LCBwb2ludC55KSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgY29uc3QgdmVydGljZXMgPSB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcblxuICAgICAgICBjb25zdCBwb2ludHMgPSB0ZW1wUG9seWdvbi5wb2ludHM7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSAgdGhpcy5nZW9tZXRyeS5nZXRJbmRleCgpLmRhdGE7XG4gICAgICAgIGNvbnN0IGxlbiA9IGluZGljZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBzdGVwID0gdGhpcy5kcmF3TW9kZSA9PT0gNCA/IDMgOiAxO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpICsgMiA8IGxlbjsgaSArPSBzdGVwKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbmQwID0gaW5kaWNlc1tpXSAqIDI7XG4gICAgICAgICAgICBjb25zdCBpbmQxID0gaW5kaWNlc1tpICsgMV0gKiAyO1xuICAgICAgICAgICAgY29uc3QgaW5kMiA9IGluZGljZXNbaSArIDJdICogMjtcblxuICAgICAgICAgICAgcG9pbnRzWzBdID0gdmVydGljZXNbaW5kMF07XG4gICAgICAgICAgICBwb2ludHNbMV0gPSB2ZXJ0aWNlc1tpbmQwICsgMV07XG4gICAgICAgICAgICBwb2ludHNbMl0gPSB2ZXJ0aWNlc1tpbmQxXTtcbiAgICAgICAgICAgIHBvaW50c1szXSA9IHZlcnRpY2VzW2luZDEgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1s0XSA9IHZlcnRpY2VzW2luZDJdO1xuICAgICAgICAgICAgcG9pbnRzWzVdID0gdmVydGljZXNbaW5kMiArIDFdO1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvbHlnb24uY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIE1lc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqL1xuICAgIGRlc3Ryb3kob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS5yZWZDb3VudC0tO1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeS5yZWZDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdmVydGljZXMgdG8gY29uc2lkZXIgYmF0Y2hhYmxlLiBHZW5lcmFsbHksIHRoZSBjb21wbGV4aXR5XG4gKiBvZiB0aGUgZ2VvbWV0cnkuXG4gKiBAbWVtYmVyb2YgUElYSS5NZXNoXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gKi9cbk1lc2guQkFUQ0hBQkxFX1NJWkUgPSAxMDA7XG4iLCJpbXBvcnQgeyBTaGFkZXIsIFByb2dyYW0sIFRleHR1cmVNYXRyaXggfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9zaGFkZXIvbWVzaC52ZXJ0JztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL3NoYWRlci9tZXNoLmZyYWcnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnRUb1JnYmEgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogU2xpZ2h0bHkgb3BpbmlvbmF0ZWQgZGVmYXVsdCBzaGFkZXIgZm9yIFBpeGlKUyAyRCBvYmplY3RzLlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzaE1hdGVyaWFsIGV4dGVuZHMgU2hhZGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHVTYW1wbGVyIC0gVGV4dHVyZSB0aGF0IG1hdGVyaWFsIHVzZXMgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBBZGRpdGlvbmFsIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxwaGE9MV0gLSBEZWZhdWx0IGFscGhhLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW50PTB4RkZGRkZGXSAtIERlZmF1bHQgdGludC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucGx1Z2luTmFtZT0nYmF0Y2gnXSAtIFJlbmRlcmVyIHBsdWdpbiBmb3IgYmF0Y2hpbmcuXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IFtvcHRpb25zLnByb2dyYW09MHhGRkZGRkZdIC0gQ3VzdG9tIHByb2dyYW0uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLnVuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3Jtcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih1U2FtcGxlciwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgdVNhbXBsZXIsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHVUZXh0dXJlTWF0cml4OiBNYXRyaXguSURFTlRJVFksXG4gICAgICAgICAgICB1Q29sb3I6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdGludDogMHhGRkZGRkYsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHBsdWdpbk5hbWU6ICdiYXRjaCcsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnVuaWZvcm1zKVxuICAgICAgICB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHVuaWZvcm1zLCBvcHRpb25zLnVuaWZvcm1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKG9wdGlvbnMucHJvZ3JhbSB8fCBQcm9ncmFtLmZyb20odmVydGV4LCBmcmFnbWVudCksIHVuaWZvcm1zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogT25seSBkbyB1cGRhdGUgaWYgdGludCBvciBhbHBoYSBjaGFuZ2VzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0dXJlTWF0cml4IGluc3RhbmNlIGZvciB0aGlzIE1lc2gsIHVzZWQgdG8gdHJhY2sgVGV4dHVyZSBjaGFuZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbmV3IFRleHR1cmVNYXRyaXgodVNhbXBsZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgc2hhZGVyIGNhbiBiZSBiYXRjaCB3aXRoIHRoZSByZW5kZXJlcidzIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaGFibGUgPSBvcHRpb25zLnByb2dyYW0gPT09IHVuZGVmaW5lZDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2luTmFtZSA9IG9wdGlvbnMucGx1Z2luTmFtZTtcblxuICAgICAgICB0aGlzLnRpbnQgPSBvcHRpb25zLnRpbnQ7XG4gICAgICAgIHRoaXMuYWxwaGEgPSBvcHRpb25zLmFscGhhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byB0aGUgdGV4dHVyZSBiZWluZyByZW5kZXJlZC5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgZ2V0IHRleHR1cmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNhbXBsZXI7XG4gICAgfVxuICAgIHNldCB0ZXh0dXJlKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudW5pZm9ybXMudVNhbXBsZXIgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnV2TWF0cml4LnRleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBhdXRvbWF0aWNhbGx5IHNldCBieSB0aGUgb2JqZWN0IHVzaW5nIHRoaXMuXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHNldCBhbHBoYSh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fYWxwaGEpIHJldHVybjtcblxuICAgICAgICB0aGlzLl9hbHBoYSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgZ2V0IGFscGhhKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbHBoYTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aW50IGZvciB0aGUgbWF0ZXJpYWwuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG4gICAgc2V0IHRpbnQodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX3RpbnQpIHJldHVybjtcblxuICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICBnZXQgdGludCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNZXNoLiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGZvciBjdXN0b21cbiAgICAgKiBNZXNoTWF0ZXJpYWwgb2JqZWN0cy5cbiAgICAgKi9cbiAgICB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbG9yRGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICBwcmVtdWx0aXBseVRpbnRUb1JnYmEodGhpcy5fdGludCwgdGhpcy5fYWxwaGEsIHRoaXMudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy51dk1hdHJpeC51cGRhdGUoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51VGV4dHVyZU1hdHJpeCA9IHRoaXMudXZNYXRyaXgubWFwQ29vcmQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBCdWZmZXIsIEdlb21ldHJ5IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogU3RhbmRhcmQgMkQgZ2VvbWV0cnkgdXNlZCBpbiBQaXhpSlMuXG4gKlxuICogR2VvbWV0cnkgY2FuIGJlIGRlZmluZWQgd2l0aG91dCBwYXNzaW5nIGluIGEgc3R5bGUgb3IgZGF0YSBpZiByZXF1aXJlZC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgZ2VvbWV0cnkgPSBuZXcgUElYSS5HZW9tZXRyeSgpO1xuICpcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb25zJywgWzAsIDAsIDEwMCwgMCwgMTAwLCAxMDAsIDAsIDEwMF0sIDIpO1xuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCd1dnMnLCBbMCwwLDEsMCwxLDEsMCwxXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRJbmRleChbMCwxLDIsMSwzLDJdKTtcbiAqXG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuR2VvbWV0cnlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzaEdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnlcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gdmVydGljZXMgLSBQb3NpdGlvbmFsIGRhdGEgb24gZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IHV2cyAtIFRleHR1cmUgVVZzLlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl8bnVtYmVyW119IGluZGV4IC0gSW5kZXhCdWZmZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2ZXJ0aWNlcywgdXZzLCBpbmRleClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgY29uc3QgdmVydGljZXNCdWZmZXIgPSBuZXcgQnVmZmVyKHZlcnRpY2VzKTtcbiAgICAgICAgY29uc3QgdXZzQnVmZmVyID0gbmV3IEJ1ZmZlcih1dnMsIHRydWUpO1xuICAgICAgICBjb25zdCBpbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoaW5kZXgsIHRydWUsIHRydWUpO1xuXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCB2ZXJ0aWNlc0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHV2c0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEluZGV4KGluZGV4QnVmZmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlydHkgZmxhZyB0byBsaW1pdCB1cGRhdGUgY2FsbHMgb24gTWVzaC4gRm9yIGV4YW1wbGUsXG4gICAgICAgICAqIGxpbWl0aW5nIHVwZGF0ZXMgb24gYSBzaW5nbGUgTWVzaCBpbnN0YW5jZSB3aXRoIGEgc2hhcmVkIEdlb21ldHJ5XG4gICAgICAgICAqIHdpdGhpbiB0aGUgcmVuZGVyIGxvb3AuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlkID0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgdGhlIHZlcnRleCBwb3NpdGlvbiBpcyB1cGRhdGVkLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldCB2ZXJ0ZXhEaXJ0eUlkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnNbMF0uX3VwZGF0ZUlEO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJ0BwaXhpL21lc2gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGFuZUdlb21ldHJ5IGV4dGVuZHMgTWVzaEdlb21ldHJ5XG57XG4gICAgY29uc3RydWN0b3Iod2lkdGggPSAxMDAsIGhlaWdodCA9IDEwMCwgc2VnV2lkdGggPSAxMCwgc2VnSGVpZ2h0ID0gMTApXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuc2VnV2lkdGggPSBzZWdXaWR0aDtcbiAgICAgICAgdGhpcy5zZWdIZWlnaHQgPSBzZWdIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICB0aGlzLmJ1aWxkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBidWlsZCgpXG4gICAge1xuICAgICAgICBjb25zdCB0b3RhbCA9IHRoaXMuc2VnV2lkdGggKiB0aGlzLnNlZ0hlaWdodDtcbiAgICAgICAgY29uc3QgdmVydHMgPSBbXTtcbiAgICAgICAgY29uc3QgdXZzID0gW107XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBbXTtcblxuICAgICAgICBjb25zdCBzZWdtZW50c1ggPSB0aGlzLnNlZ1dpZHRoIC0gMTtcbiAgICAgICAgY29uc3Qgc2VnbWVudHNZID0gdGhpcy5zZWdIZWlnaHQgLSAxO1xuXG4gICAgICAgIGNvbnN0IHNpemVYID0gKHRoaXMud2lkdGgpIC8gc2VnbWVudHNYO1xuICAgICAgICBjb25zdCBzaXplWSA9ICh0aGlzLmhlaWdodCkgLyBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4ID0gKGkgJSB0aGlzLnNlZ1dpZHRoKTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSAoKGkgLyB0aGlzLnNlZ1dpZHRoKSB8IDApO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHggKiBzaXplWCwgeSAqIHNpemVZKTtcbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBzZWdtZW50c1gsIHkgLyBzZWdtZW50c1kpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG90YWxTdWIgPSBzZWdtZW50c1ggKiBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbFN1YjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4cG9zID0gaSAlIHNlZ21lbnRzWDtcbiAgICAgICAgICAgIGNvbnN0IHlwb3MgPSAoaSAvIHNlZ21lbnRzWCkgfCAwO1xuXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICh5cG9zICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUyID0gKHlwb3MgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3MgKyAxO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUzID0gKCh5cG9zICsgMSkgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3M7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZTQgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG5cbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2YWx1ZSwgdmFsdWUyLCB2YWx1ZTMsXG4gICAgICAgICAgICAgICAgdmFsdWUyLCB2YWx1ZTQsIHZhbHVlMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydHMpO1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbMV0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodXZzKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpO1xuXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNZXNoR2VvbWV0cnkgfSBmcm9tICdAcGl4aS9tZXNoJztcbi8qKlxuICogUm9wZUdlb21ldHJ5IGFsbG93cyB5b3UgdG8gZHJhdyBhIGdlb21ldHJ5IGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50cy5cbiAqXG4gKiBgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogY29uc3Qgcm9wZSA9IG5ldyBQSVhJLlJvcGVHZW9tZXRyeSgxMDAsIHBvaW50cyk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaEdlb21ldHJ5XG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm9wZUdlb21ldHJ5IGV4dGVuZHMgTWVzaEdlb21ldHJ5XG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0yMDBdIC0gVGhlIHdpZHRoIChpLmUuLCB0aGlja25lc3MpIG9mIHRoZSByb3BlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBbcG9pbnRzXSAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iod2lkdGggPSAyMDAsIHBvaW50cylcbiAgICB7XG4gICAgICAgIHN1cGVyKG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLFxuICAgICAgICAgICAgbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksXG4gICAgICAgICAgICBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRoYXQgZGV0ZXJtaW5lIHRoZSByb3BlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgdGhpcy5idWlsZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgUm9wZSBpbmRpY2VzIGFuZCB1dnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGJ1aWxkKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIGlmICghcG9pbnRzKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgdmVydGV4QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpO1xuICAgICAgICBjb25zdCB1dkJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKCdhVGV4dHVyZUNvb3JkJyk7XG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleCgpO1xuXG4gICAgICAgIC8vIGlmIHRvbyBsaXR0bGUgcG9pbnRzLCBvciB0ZXh0dXJlIGhhc24ndCBnb3QgVVZzIHNldCB5ZXQganVzdCBtb3ZlIG9uLlxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBudW1iZXIgb2YgcG9pbnRzIGhhcyBjaGFuZ2VkIHdlIHdpbGwgbmVlZCB0byByZWNyZWF0ZSB0aGUgYXJyYXlidWZmZXJzXG4gICAgICAgIGlmICh2ZXJ0ZXhCdWZmZXIuZGF0YS5sZW5ndGggLyA0ICE9PSBwb2ludHMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgdXZCdWZmZXIuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIuZGF0YSA9IG5ldyBVaW50MTZBcnJheSgocG9pbnRzLmxlbmd0aCAtIDEpICogNik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1dnMgPSB1dkJ1ZmZlci5kYXRhO1xuICAgICAgICBjb25zdCBpbmRpY2VzID0gaW5kZXhCdWZmZXIuZGF0YTtcblxuICAgICAgICB1dnNbMF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSAwO1xuICAgICAgICB1dnNbMl0gPSAwO1xuICAgICAgICB1dnNbM10gPSAxO1xuXG4gICAgICAgIC8vIGluZGljZXNbMF0gPSAwO1xuICAgICAgICAvLyBpbmRpY2VzWzFdID0gMTtcblxuICAgICAgICBjb25zdCB0b3RhbCA9IHBvaW50cy5sZW5ndGg7IC8vIC0gMTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRpbWUgdG8gZG8gc29tZSBzbWFydCBkcmF3aW5nIVxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IGkgLyAodG90YWwgLSAxKTtcblxuICAgICAgICAgICAgdXZzW2luZGV4XSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDFdID0gMDtcblxuICAgICAgICAgICAgdXZzW2luZGV4ICsgMl0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAzXSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW5kZXhDb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbCAtIDE7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBpICogMjtcblxuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXg7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCArIDE7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCArIDI7XG5cbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB1dkJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgaW5kZXhCdWZmZXIudXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNlcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJlZnJlc2hlcyB2ZXJ0aWNlcyBvZiBSb3BlIG1lc2hcbiAgICAgKi9cbiAgICB1cGRhdGVWZXJ0aWNlcygpXG4gICAge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXN0UG9pbnQgPSBwb2ludHNbMF07XG4gICAgICAgIGxldCBuZXh0UG9pbnQ7XG4gICAgICAgIGxldCBwZXJwWCA9IDA7XG4gICAgICAgIGxldCBwZXJwWSA9IDA7XG5cbiAgICAgICAgLy8gdGhpcy5jb3VudCAtPSAwLjI7XG5cbiAgICAgICAgY29uc3QgdmVydGljZXMgPSB0aGlzLmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICAgICAgY29uc3QgdG90YWwgPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGkgKiA0O1xuXG4gICAgICAgICAgICBpZiAoaSA8IHBvaW50cy5sZW5ndGggLSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50c1tpICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBlcnBZID0gLShuZXh0UG9pbnQueCAtIGxhc3RQb2ludC54KTtcbiAgICAgICAgICAgIHBlcnBYID0gbmV4dFBvaW50LnkgLSBsYXN0UG9pbnQueTtcblxuICAgICAgICAgICAgbGV0IHJhdGlvID0gKDEgLSAoaSAvICh0b3RhbCAtIDEpKSkgKiAxMDtcblxuICAgICAgICAgICAgaWYgKHJhdGlvID4gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByYXRpbyA9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBlcnBMZW5ndGggPSBNYXRoLnNxcnQoKHBlcnBYICogcGVycFgpICsgKHBlcnBZICogcGVycFkpKTtcbiAgICAgICAgICAgIGNvbnN0IG51bSA9IHRoaXMud2lkdGggLyAyOyAvLyAoMjAgKyBNYXRoLmFicyhNYXRoLnNpbigoaSArIHRoaXMuY291bnQpICogMC4zKSAqIDUwKSApKiByYXRpbztcblxuICAgICAgICAgICAgcGVycFggLz0gcGVycExlbmd0aDtcbiAgICAgICAgICAgIHBlcnBZIC89IHBlcnBMZW5ndGg7XG5cbiAgICAgICAgICAgIHBlcnBYICo9IG51bTtcbiAgICAgICAgICAgIHBlcnBZICo9IG51bTtcblxuICAgICAgICAgICAgdmVydGljZXNbaW5kZXhdID0gcG9pbnQueCArIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAxXSA9IHBvaW50LnkgKyBwZXJwWTtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMl0gPSBwb2ludC54IC0gcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDNdID0gcG9pbnQueSAtIHBlcnBZO1xuXG4gICAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNlcygpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1lc2gsIE1lc2hNYXRlcmlhbCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IFJvcGVHZW9tZXRyeSBmcm9tICcuL2dlb21ldHJ5L1JvcGVHZW9tZXRyeSc7XG5cbi8qKlxuICogVGhlIHJvcGUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgcm9wZSA9IG5ldyBQSVhJLlNpbXBsZVJvcGUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1wbGVSb3BlIGV4dGVuZHMgTWVzaFxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSByb3BlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBwb2ludHMgLSBBbiBhcnJheSBvZiB7QGxpbmsgUElYSS5Qb2ludH0gb2JqZWN0cyB0byBjb25zdHJ1Y3QgdGhpcyByb3BlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUsIHBvaW50cylcbiAgICB7XG4gICAgICAgIGNvbnN0IHJvcGVHZW9tZXRyeSA9IG5ldyBSb3BlR2VvbWV0cnkodGV4dHVyZS5oZWlnaHQsIHBvaW50cyk7XG4gICAgICAgIGNvbnN0IG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG5cbiAgICAgICAgc3VwZXIocm9wZUdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZS1jYWxjdWxhdGUgdmVydGljZXMgYnkgcm9wZSBwb2ludHMgZWFjaCBmcmFtZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfcmVuZGVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZVxuICAgICAgICAgICAgfHwgdGhpcy5nZW9tZXRyeS53aWR0aCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkud2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNZXNoLCBNZXNoTWF0ZXJpYWwgfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCBQbGFuZUdlb21ldHJ5IGZyb20gJy4vZ2VvbWV0cnkvUGxhbmVHZW9tZXRyeSc7XG5cbi8qKlxuICogVGhlIFNpbXBsZVBsYW5lIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IFNpbXBsZVBsYW5lID0gbmV3IFBJWEkuU2ltcGxlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1wbGVQbGFuZSBleHRlbmRzIE1lc2hcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgU2ltcGxlUGxhbmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2VzWCAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHgtYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNlc1kgLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB5LWF4aXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlLCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHBsYW5lR2VvbWV0cnkgPSBuZXcgUGxhbmVHZW9tZXRyeSh0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodCwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpO1xuICAgICAgICBjb25zdCBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuV0hJVEUpO1xuXG4gICAgICAgIHN1cGVyKHBsYW5lR2VvbWV0cnksIG1lc2hNYXRlcmlhbCk7XG5cbiAgICAgICAgLy8gbGV0cyBjYWxsIHRoZSBzZXR0ZXIgdG8gZW5zdXJlIGFsbCBuZWNlc3NhcnkgdXBkYXRlcyBhcmUgcGVyZm9ybWVkXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgZm9yIG92ZXJyaWRlcywgdG8gZG8gc29tZXRoaW5nIGluIGNhc2UgdGV4dHVyZSBmcmFtZSB3YXMgY2hhbmdlZC5cbiAgICAgKiBNZXNoZXMgYmFzZWQgb24gcGxhbmUgY2FuIG92ZXJyaWRlIGl0IGFuZCBjaGFuZ2UgbW9yZSBkZXRhaWxzIGJhc2VkIG9uIHRleHR1cmUuXG4gICAgICovXG4gICAgdGV4dHVyZVVwZGF0ZWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS53aWR0aCA9IHRoaXMuc2hhZGVyLnRleHR1cmUud2lkdGg7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuaGVpZ2h0ID0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWlsZCgpO1xuICAgIH1cblxuICAgIHNldCB0ZXh0dXJlKHZhbHVlKVxuICAgIHtcbiAgICAgICAgLy8gVHJhY2sgdGV4dHVyZSBzYW1lIHdheSBzcHJpdGUgZG9lcy5cbiAgICAgICAgLy8gRm9yIGdlbmVyYXRlZCBtZXNoZXMgbGlrZSBOaW5lU2xpY2VQbGFuZSBpdCBjYW4gY2hhbmdlIHRoZSBnZW9tZXRyeS5cbiAgICAgICAgLy8gVW5mb3J0dW5hdGVseSwgdGhpcyBtZXRob2QgbWlnaHQgbm90IHdvcmsgaWYgeW91IGRpcmVjdGx5IGNoYW5nZSB0ZXh0dXJlIGluIG1hdGVyaWFsLlxuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlci50ZXh0dXJlID09PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMudGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHRleHR1cmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gICAgfVxuXG4gICAgX3JlbmRlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVVcGRhdGVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNZXNoLCBNZXNoR2VvbWV0cnksIE1lc2hNYXRlcmlhbCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIFRoZSBTaW1wbGUgTWVzaCBjbGFzcyBtaW1pY3MgTWVzaCBpbiBQaXhpSlMgdjQsIHByb3ZpZGluZyBlYXN5LXRvLXVzZSBjb25zdHJ1Y3RvciBhcmd1bWVudHMuXG4gKiBGb3IgbW9yZSByb2J1c3QgY3VzdG9taXphdGlvbiwgdXNlIHtAbGluayBQSVhJLk1lc2h9LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1wbGVNZXNoIGV4dGVuZHMgTWVzaFxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZT1UZXh0dXJlLkVNUFRZXSAtIFRoZSB0ZXh0dXJlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdmVydGljZXNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW3V2c10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSB1dnNcbiAgICAgKiBAcGFyYW0ge1VpbnQxNkFycmF5fSBbaW5kaWNlc10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBpbmRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkcmF3TW9kZV0gLSB0aGUgZHJhd01vZGUsIGNhbiBiZSBhbnkgb2YgdGhlIE1lc2guRFJBV19NT0RFUyBjb25zdHNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlID0gVGV4dHVyZS5FTVBUWSwgdmVydGljZXMsIHV2cywgaW5kaWNlcywgZHJhd01vZGUpXG4gICAge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBNZXNoR2VvbWV0cnkodmVydGljZXMsIHV2cywgaW5kaWNlcyk7XG5cbiAgICAgICAgZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5zdGF0aWMgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKHRleHR1cmUpO1xuXG4gICAgICAgIHN1cGVyKGdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwsIG51bGwsIGRyYXdNb2RlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdXBsb2FkIHZlcnRpY2VzIGJ1ZmZlciBlYWNoIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgdmVydGljZXMgZGF0YS5cbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgZ2V0IHZlcnRpY2VzKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcbiAgICB9XG4gICAgc2V0IHZlcnRpY2VzKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGEgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBfcmVuZGVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IFNpbXBsZVBsYW5lIGZyb20gJy4vU2ltcGxlUGxhbmUnO1xuXG5jb25zdCBERUZBVUxUX0JPUkRFUl9TSVpFID0gMTA7XG5cbi8qKlxuICogVGhlIE5pbmVTbGljZVBsYW5lIGFsbG93cyB5b3UgdG8gc3RyZXRjaCBhIHRleHR1cmUgdXNpbmcgOS1zbGljZSBzY2FsaW5nLiBUaGUgY29ybmVycyB3aWxsIHJlbWFpbiB1bnNjYWxlZCAodXNlZnVsXG4gKiBmb3IgYnV0dG9ucyB3aXRoIHJvdW5kZWQgY29ybmVycyBmb3IgZXhhbXBsZSkgYW5kIHRoZSBvdGhlciBhcmVhcyB3aWxsIGJlIHNjYWxlZCBob3Jpem9udGFsbHkgYW5kIG9yIHZlcnRpY2FsbHlcbiAqXG4gKmBgYGpzXG4gKiBsZXQgUGxhbmU5ID0gbmV3IFBJWEkuTmluZVNsaWNlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oJ0JveFdpdGhSb3VuZGVkQ29ybmVycy5wbmcnKSwgMTUsIDE1LCAxNSwgMTUpO1xuICogIGBgYFxuICogPHByZT5cbiAqICAgICAgQSAgICAgICAgICAgICAgICAgICAgICAgICAgQlxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBDIHwgMSB8ICAgICAgICAgIDIgICAgICAgICAgIHwgMyB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgIHwgNCB8ICAgICAgICAgIDUgICAgICAgICAgIHwgNiB8XG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBEIHwgNyB8ICAgICAgICAgIDggICAgICAgICAgIHwgOSB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuXG4gKiAgV2hlbiBjaGFuZ2luZyB0aGlzIG9iamVjdHMgd2lkdGggYW5kL29yIGhlaWdodDpcbiAqICAgICBhcmVhcyAxIDMgNyBhbmQgOSB3aWxsIHJlbWFpbiB1bnNjYWxlZC5cbiAqICAgICBhcmVhcyAyIGFuZCA4IHdpbGwgYmUgc3RyZXRjaGVkIGhvcml6b250YWxseVxuICogICAgIGFyZWFzIDQgYW5kIDYgd2lsbCBiZSBzdHJldGNoZWQgdmVydGljYWxseVxuICogICAgIGFyZWEgNSB3aWxsIGJlIHN0cmV0Y2hlZCBib3RoIGhvcml6b250YWxseSBhbmQgdmVydGljYWxseVxuICogPC9wcmU+XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNpbXBsZVBsYW5lXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmluZVNsaWNlUGxhbmUgZXh0ZW5kcyBTaW1wbGVQbGFuZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBOaW5lU2xpY2VQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlZnRXaWR0aD0xMF0gc2l6ZSBvZiB0aGUgbGVmdCB2ZXJ0aWNhbCBiYXIgKEEpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0b3BIZWlnaHQ9MTBdIHNpemUgb2YgdGhlIHRvcCBob3Jpem9udGFsIGJhciAoQylcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JpZ2h0V2lkdGg9MTBdIHNpemUgb2YgdGhlIHJpZ2h0IHZlcnRpY2FsIGJhciAoQilcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JvdHRvbUhlaWdodD0xMF0gc2l6ZSBvZiB0aGUgYm90dG9tIGhvcml6b250YWwgYmFyIChEKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUsIGxlZnRXaWR0aCwgdG9wSGVpZ2h0LCByaWdodFdpZHRoLCBib3R0b21IZWlnaHQpXG4gICAge1xuICAgICAgICBzdXBlcihUZXh0dXJlLldISVRFLCA0LCA0KTtcblxuICAgICAgICB0aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gdGhpcy5fb3JpZ1dpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB0aGlzLl9vcmlnSGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uIChhKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sZWZ0V2lkdGggPSB0eXBlb2YgbGVmdFdpZHRoICE9PSAndW5kZWZpbmVkJyA/IGxlZnRXaWR0aCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uIChiKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yaWdodFdpZHRoID0gdHlwZW9mIHJpZ2h0V2lkdGggIT09ICd1bmRlZmluZWQnID8gcmlnaHRXaWR0aCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3cgKGMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RvcEhlaWdodCA9IHR5cGVvZiB0b3BIZWlnaHQgIT09ICd1bmRlZmluZWQnID8gdG9wSGVpZ2h0IDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvdyAoZClcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gdHlwZW9mIGJvdHRvbUhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgPyBib3R0b21IZWlnaHQgOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8vIGxldHMgY2FsbCB0aGUgc2V0dGVyIHRvIGVuc3VyZSBhbGwgbmVjZXNzYXJ5IHVwZGF0ZXMgYXJlIHBlcmZvcm1lZFxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgIH1cblxuICAgIHRleHR1cmVVcGRhdGVkKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgZ2V0IHZlcnRpY2VzKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcbiAgICB9XG5cbiAgICBzZXQgdmVydGljZXModmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGhvcml6b250YWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICB1cGRhdGVIb3Jpem9udGFsVmVydGljZXMoKVxuICAgIHtcbiAgICAgICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLl90b3BIZWlnaHQgKyB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5faGVpZ2h0ID4gaCA/IDEuMCA6IHRoaXMuX2hlaWdodCAvIGg7XG5cbiAgICAgICAgdmVydGljZXNbOV0gPSB2ZXJ0aWNlc1sxMV0gPSB2ZXJ0aWNlc1sxM10gPSB2ZXJ0aWNlc1sxNV0gPSB0aGlzLl90b3BIZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbMTddID0gdmVydGljZXNbMTldID0gdmVydGljZXNbMjFdID0gdmVydGljZXNbMjNdID0gdGhpcy5faGVpZ2h0IC0gKHRoaXMuX2JvdHRvbUhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgdmVydGljZXNbMjVdID0gdmVydGljZXNbMjddID0gdmVydGljZXNbMjldID0gdmVydGljZXNbMzFdID0gdGhpcy5faGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZlcnRpY2FsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG4gICAgdXBkYXRlVmVydGljYWxWZXJ0aWNlcygpXG4gICAge1xuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG5cbiAgICAgICAgY29uc3QgdyA9IHRoaXMuX2xlZnRXaWR0aCArIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5fd2lkdGggPiB3ID8gMS4wIDogdGhpcy5fd2lkdGggLyB3O1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbMTBdID0gdmVydGljZXNbMThdID0gdmVydGljZXNbMjZdID0gdGhpcy5fbGVmdFdpZHRoICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzRdID0gdmVydGljZXNbMTJdID0gdmVydGljZXNbMjBdID0gdmVydGljZXNbMjhdID0gdGhpcy5fd2lkdGggLSAodGhpcy5fcmlnaHRXaWR0aCAqIHNjYWxlKTtcbiAgICAgICAgdmVydGljZXNbNl0gPSB2ZXJ0aWNlc1sxNF0gPSB2ZXJ0aWNlc1syMl0gPSB2ZXJ0aWNlc1szMF0gPSB0aGlzLl93aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH1cblxuICAgIHNldCB3aWR0aCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBoZWlnaHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICB9XG5cbiAgICBzZXQgaGVpZ2h0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBsZWZ0V2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xlZnRXaWR0aDtcbiAgICB9XG5cbiAgICBzZXQgbGVmdFdpZHRoKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcmlnaHRXaWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmlnaHRXaWR0aDtcbiAgICB9XG5cbiAgICBzZXQgcmlnaHRXaWR0aCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9yaWdodFdpZHRoID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHRvcEhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9wSGVpZ2h0O1xuICAgIH1cblxuICAgIHNldCB0b3BIZWlnaHQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fdG9wSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGJvdHRvbUhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgIH1cblxuICAgIHNldCBib3R0b21IZWlnaHQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgTmluZVNsaWNlUGxhbmUgY29vcmRzLiBBbGwgb2YgdGhlbS5cbiAgICAgKi9cbiAgICBfcmVmcmVzaCgpXG4gICAge1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuXG4gICAgICAgIGNvbnN0IHV2cyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS5kYXRhO1xuXG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgX3V2dyA9IDEuMCAvIHRoaXMuX29yaWdXaWR0aDtcbiAgICAgICAgY29uc3QgX3V2aCA9IDEuMCAvIHRoaXMuX29yaWdIZWlnaHQ7XG5cbiAgICAgICAgdXZzWzBdID0gdXZzWzhdID0gdXZzWzE2XSA9IHV2c1syNF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSB1dnNbM10gPSB1dnNbNV0gPSB1dnNbN10gPSAwO1xuICAgICAgICB1dnNbNl0gPSB1dnNbMTRdID0gdXZzWzIyXSA9IHV2c1szMF0gPSAxO1xuICAgICAgICB1dnNbMjVdID0gdXZzWzI3XSA9IHV2c1syOV0gPSB1dnNbMzFdID0gMTtcblxuICAgICAgICB1dnNbMl0gPSB1dnNbMTBdID0gdXZzWzE4XSA9IHV2c1syNl0gPSBfdXZ3ICogdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB1dnNbNF0gPSB1dnNbMTJdID0gdXZzWzIwXSA9IHV2c1syOF0gPSAxIC0gKF91dncgKiB0aGlzLl9yaWdodFdpZHRoKTtcbiAgICAgICAgdXZzWzldID0gdXZzWzExXSA9IHV2c1sxM10gPSB1dnNbMTVdID0gX3V2aCAqIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgdXZzWzE3XSA9IHV2c1sxOV0gPSB1dnNbMjFdID0gdXZzWzIzXSA9IDEgLSAoX3V2aCAqIHRoaXMuX2JvdHRvbUhlaWdodCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVIb3Jpem9udGFsVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCk7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcblxuLyoqXG4gKiBBbiBBbmltYXRlZFNwcml0ZSBpcyBhIHNpbXBsZSB3YXkgdG8gZGlzcGxheSBhbiBhbmltYXRpb24gZGVwaWN0ZWQgYnkgYSBsaXN0IG9mIHRleHR1cmVzLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgYWxpZW5JbWFnZXMgPSBbXCJpbWFnZV9zZXF1ZW5jZV8wMS5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAyLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDMucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wNC5wbmdcIl07XG4gKiBsZXQgdGV4dHVyZUFycmF5ID0gW107XG4gKlxuICogZm9yIChsZXQgaT0wOyBpIDwgNDsgaSsrKVxuICoge1xuICogICAgICBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKGFsaWVuSW1hZ2VzW2ldKTtcbiAqICAgICAgdGV4dHVyZUFycmF5LnB1c2godGV4dHVyZSk7XG4gKiB9O1xuICpcbiAqIGxldCBhbmltYXRlZFNwcml0ZSA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHRleHR1cmVBcnJheSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbW9yZSBlZmZpY2llbnQgYW5kIHNpbXBsZXIgd2F5IHRvIGNyZWF0ZSBhbiBhbmltYXRlZCBzcHJpdGUgaXMgdXNpbmcgYSB7QGxpbmsgUElYSS5TcHJpdGVzaGVldH1cbiAqIGNvbnRhaW5pbmcgdGhlIGFuaW1hdGlvbiBkZWZpbml0aW9uczpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImltYWdlX3NlcXVlbmNlXCJdKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYXRlZFNwcml0ZSBleHRlbmRzIFNwcml0ZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118UElYSS5BbmltYXRlZFNwcml0ZS5GcmFtZU9iamVjdFtdfSB0ZXh0dXJlcyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlRleHR1cmV9IG9yIGZyYW1lXG4gICAgICogIG9iamVjdHMgdGhhdCBtYWtlIHVwIHRoZSBhbmltYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1VwZGF0ZT10cnVlXSAtIFdoZXRoZXIgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlcywgYXV0b1VwZGF0ZSlcbiAgICB7XG4gICAgICAgIHN1cGVyKHRleHR1cmVzWzBdIGluc3RhbmNlb2YgVGV4dHVyZSA/IHRleHR1cmVzWzBdIDogdGV4dHVyZXNbMF0udGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRleHR1cmVbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmVzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcblxuICAgICAgICB0aGlzLnRleHR1cmVzID0gdGV4dHVyZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCB1c2VzIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSBhdXRvVXBkYXRlICE9PSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNwZWVkIHRoYXQgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgcGxheSBhdC4gSGlnaGVyIGlzIGZhc3RlciwgbG93ZXIgaXMgc2xvd2VyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uU3BlZWQgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYW5pbWF0ZSBzcHJpdGUgcmVwZWF0cyBhZnRlciBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvb3AgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgYW5jaG9yIHRvIFtUZXh0dXJlJ3MgZGVmYXVsdEFuY2hvcl17QGxpbmsgUElYSS5UZXh0dXJlI2RlZmF1bHRBbmNob3J9IHdoZW4gZnJhbWUgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVXNlZnVsIHdpdGggW3Nwcml0ZSBzaGVldCBhbmltYXRpb25zXXtAbGluayBQSVhJLlNwcml0ZXNoZWV0I2FuaW1hdGlvbnN9IGNyZWF0ZWQgd2l0aCB0b29scy5cbiAgICAgICAgICogQ2hhbmdpbmcgYW5jaG9yIGZvciBlYWNoIGZyYW1lIGFsbG93cyB0byBwaW4gc3ByaXRlIG9yaWdpbiB0byBjZXJ0YWluIG1vdmluZyBmZWF0dXJlXG4gICAgICAgICAqIG9mIHRoZSBmcmFtZSAoZS5nLiBsZWZ0IGZvb3QpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBFbmFibGluZyB0aGlzIHdpbGwgb3ZlcnJpZGUgYW55IHByZXZpb3VzbHkgc2V0IGBhbmNob3JgIG9uIGVhY2ggZnJhbWUgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGRhdGVBbmNob3IgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGFuIEFuaW1hdGVkU3ByaXRlIGZpbmlzaGVzIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGFuIEFuaW1hdGVkU3ByaXRlIGNoYW5nZXMgd2hpY2ggdGV4dHVyZSBpcyBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gYGxvb3BgIGlzIHRydWUsIGFuZCBhbiBBbmltYXRlZFNwcml0ZSBpcyBwbGF5ZWQgYW5kIGxvb3BzIGFyb3VuZCB0byBzdGFydCBhZ2Fpbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uTG9vcCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVsYXBzZWQgdGltZSBzaW5jZSBhbmltYXRpb24gaGFzIGJlZW4gc3RhcnRlZCwgdXNlZCBpbnRlcm5hbGx5IHRvIGRpc3BsYXkgY3VycmVudCB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgQW5pbWF0ZWRTcHJpdGUgaXMgY3VycmVudGx5IHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICovXG4gICAgc3RvcCgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMucGxheWluZylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQbGF5cyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBwbGF5KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBsYXlpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBnb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBGcmFtZSBpbmRleCB0byBzdG9wIGF0LlxuICAgICAqL1xuICAgIGdvdG9BbmRTdG9wKGZyYW1lTnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgY29uc3QgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZSBhbmQgYmVnaW5zIHBsYXlpbmcgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gRnJhbWUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgZ290b0FuZFBsYXkoZnJhbWVOdW1iZXIpXG4gICAge1xuICAgICAgICBjb25zdCBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcblxuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICovXG4gICAgdXBkYXRlKGRlbHRhVGltZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGVsYXBzZWQgPSB0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lO1xuICAgICAgICBjb25zdCBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2R1cmF0aW9ucyAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGxhZyA9IHRoaXMuX2N1cnJlbnRUaW1lICUgMSAqIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG5cbiAgICAgICAgICAgIGxhZyArPSBlbGFwc2VkIC8gNjAgKiAxMDAwO1xuXG4gICAgICAgICAgICB3aGlsZSAobGFnIDwgMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZS0tO1xuICAgICAgICAgICAgICAgIGxhZyArPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzaWduID0gTWF0aC5zaWduKHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWUpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpO1xuXG4gICAgICAgICAgICB3aGlsZSAobGFnID49IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFnIC09IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0gKiBzaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IHNpZ247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGxhZyAvIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBlbGFwc2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRUaW1lIDwgMCAmJiAhdGhpcy5sb29wKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRUaW1lID49IHRoaXMuX3RleHR1cmVzLmxlbmd0aCAmJiAhdGhpcy5sb29wKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKHRoaXMuX3RleHR1cmVzLmxlbmd0aCAtIDEpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb29wICYmIHRoaXMub25Mb29wKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkID4gMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA8IHByZXZpb3VzRnJhbWUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkIDwgMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA+IHByZXZpb3VzRnJhbWUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgdGV4dHVyZSB0byBtYXRjaCB0aGUgY3VycmVudCBmcmFtZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXBkYXRlVGV4dHVyZSgpXG4gICAge1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5fdGV4dHVyZXNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHRoaXMudXZzID0gdGhpcy5fdGV4dHVyZS5fdXZzLnV2c0Zsb2F0MzI7XG5cbiAgICAgICAgaWYgKHRoaXMudXBkYXRlQW5jaG9yKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weSh0aGlzLl90ZXh0dXJlLmRlZmF1bHRBbmNob3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub25GcmFtZUNoYW5nZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlKHRoaXMuY3VycmVudEZyYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZGVzdHJveXMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIElmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbC5cbiAgICAgKi9cbiAgICBkZXN0cm95KG9wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcblxuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLm9uTG9vcCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhbiBBbmltYXRlZFNwcml0ZSBmcm9tIGFuIGFycmF5IG9mIGZyYW1lIGlkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmcmFtZXMgLSBUaGUgYXJyYXkgb2YgZnJhbWVzIGlkcyB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzLlxuICAgICAqIEByZXR1cm4ge0FuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGVkIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgZnJhbWVzLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tRnJhbWVzKGZyYW1lcylcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goVGV4dHVyZS5mcm9tKGZyYW1lc1tpXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhbiBBbmltYXRlZFNwcml0ZSBmcm9tIGFuIGFycmF5IG9mIGltYWdlIGlkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBpbWFnZXMgLSBUaGUgYXJyYXkgb2YgaW1hZ2UgdXJscyB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzLlxuICAgICAqIEByZXR1cm4ge0FuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGUgc3ByaXRlIHdpdGggdGhlIHNwZWNpZmllZCBpbWFnZXMgYXMgZnJhbWVzLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tSW1hZ2VzKGltYWdlcylcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goVGV4dHVyZS5mcm9tKGltYWdlc1tpXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBmcmFtZXMgaW4gdGhlIEFuaW1hdGVkU3ByaXRlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAqIGFzc2lnbmVkIHRvIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgZ2V0IHRvdGFsRnJhbWVzKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFycmF5IG9mIHRleHR1cmVzIHVzZWQgZm9yIHRoaXMgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVbXX1cbiAgICAgKi9cbiAgICBnZXQgdGV4dHVyZXMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzO1xuICAgIH1cblxuICAgIHNldCB0ZXh0dXJlcyh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodmFsdWVbMF0gaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzID0gW107XG4gICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcy5wdXNoKHZhbHVlW2ldLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucy5wdXNoKHZhbHVlW2ldLnRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogVGhlIEFuaW1hdGVkU3ByaXRlcyBjdXJyZW50IGZyYW1lIGluZGV4LlxuICAgICpcbiAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAqIEByZWFkb25seVxuICAgICovXG4gICAgZ2V0IGN1cnJlbnRGcmFtZSgpXG4gICAge1xuICAgICAgICBsZXQgY3VycmVudEZyYW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSkgJSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRGcmFtZSA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN1cnJlbnRGcmFtZSArPSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3VycmVudEZyYW1lO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BbmltYXRlZFNwcml0ZVxuICogQHR5cGVkZWYge29iamVjdH0gRnJhbWVPYmplY3RcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfSBvZiB0aGUgZnJhbWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIC0gdGhlIGR1cmF0aW9uIG9mIHRoZSBmcmFtZSBpbiBtc1xuICovXG4iLCJpbXBvcnQgJ0BwaXhpL3BvbHlmaWxsJztcblxuaW1wb3J0ICogYXMgYWNjZXNzaWJpbGl0eSBmcm9tICdAcGl4aS9hY2Nlc3NpYmlsaXR5JztcbmltcG9ydCAqIGFzIGV4dHJhY3QgZnJvbSAnQHBpeGkvZXh0cmFjdCc7XG5pbXBvcnQgKiBhcyBpbnRlcmFjdGlvbiBmcm9tICdAcGl4aS9pbnRlcmFjdGlvbic7XG5pbXBvcnQgKiBhcyBwcmVwYXJlIGZyb20gJ0BwaXhpL3ByZXBhcmUnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgQXBwbGljYXRpb24gfSBmcm9tICdAcGl4aS9hcHAnO1xuaW1wb3J0IHsgUmVuZGVyZXIsIEJhdGNoUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IExvYWRlciwgQXBwTG9hZGVyUGx1Z2luIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5pbXBvcnQgeyBQYXJ0aWNsZVJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvcGFydGljbGVzJztcbmltcG9ydCB7IFNwcml0ZXNoZWV0TG9hZGVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuaW1wb3J0IHsgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmltcG9ydCB7IEJpdG1hcEZvbnRMb2FkZXIgfSBmcm9tICdAcGl4aS90ZXh0LWJpdG1hcCc7XG5pbXBvcnQgeyBUaWNrZXJQbHVnaW4gfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgQWxwaGFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItYWxwaGEnO1xuaW1wb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfSBmcm9tICdAcGl4aS9maWx0ZXItYmx1cic7XG5pbXBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXgnO1xuaW1wb3J0IHsgRGlzcGxhY2VtZW50RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCc7XG5pbXBvcnQgeyBGWEFBRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWZ4YWEnO1xuaW1wb3J0IHsgTm9pc2VGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItbm9pc2UnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24nO1xuXG4vLyBFeHBvcnQgZGVwcmVjYXRpb25zIHNvIFJvbGx1cCBjYW4gY2FsbCBpdFxuLy8gaW4gdGhlIGZvb3RlciBhZnRlciBnbG9iYWwgaXMgZGVmaW5lZFxuLy8gb3RoZXIgbW9kdWxlIG11c3QgY2FsbCB0aGlzIG1hbnVhbGx5XG5pbXBvcnQgdXNlRGVwcmVjYXRlZCBmcm9tICcuL3VzZURlcHJlY2F0ZWQnO1xuXG4vLyBJbnN0YWxsIHJlbmRlcmVyIHBsdWdpbnNcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdhY2Nlc3NpYmlsaXR5JywgYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignZXh0cmFjdCcsIGV4dHJhY3QuRXh0cmFjdCk7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW50ZXJhY3Rpb24nLCBpbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3BhcnRpY2xlJywgUGFydGljbGVSZW5kZXJlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigncHJlcGFyZScsIHByZXBhcmUuUHJlcGFyZSk7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignYmF0Y2gnLCBCYXRjaFJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCd0aWxpbmdTcHJpdGUnLCBUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG5cbkxvYWRlci5yZWdpc3RlclBsdWdpbihCaXRtYXBGb250TG9hZGVyKTtcbkxvYWRlci5yZWdpc3RlclBsdWdpbihTcHJpdGVzaGVldExvYWRlcik7XG5cbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFRpY2tlclBsdWdpbik7XG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihBcHBMb2FkZXJQbHVnaW4pO1xuXG4vKipcbiAqIFN0cmluZyBvZiB0aGUgY3VycmVudCBQSVhJIHZlcnNpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgVkVSU0lPTlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnX19WRVJTSU9OX18nO1xuXG4vKipcbiAqIEBuYW1lc3BhY2UgUElYSVxuICovXG5cbi8qKlxuICogVGhpcyBuYW1lc3BhY2UgY29udGFpbnMgV2ViR0wtb25seSBkaXNwbGF5IGZpbHRlcnMgdGhhdCBjYW4gYmUgYXBwbGllZFxuICogdG8gRGlzcGxheU9iamVjdHMgdXNpbmcgdGhlIHtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZmlsdGVycyBmaWx0ZXJzfSBwcm9wZXJ0eS5cbiAqXG4gKiBTaW5jZSBQaXhpSlMgb25seSBoYWQgYSBoYW5kZnVsIG9mIGJ1aWx0LWluIGZpbHRlcnMsIGFkZGl0aW9uYWwgZmlsdGVyc1xuICogY2FuIGJlIGRvd25sb2FkZWQge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1maWx0ZXJzIGhlcmV9IGZyb20gdGhlXG4gKiBQaXhpSlMgRmlsdGVycyByZXBvc2l0b3J5LlxuICpcbiAqIEFsbCBmaWx0ZXJzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLkZpbHRlcn0uXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBEcmF3IGEgZ3JlZW4gcmVjdGFuZ2xlXG4gKiBjb25zdCByZWN0ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHgwMGZmMDApXG4gKiAgICAgLmRyYXdSZWN0KDQwLCA0MCwgMjAwLCAyMDApO1xuICpcbiAqIC8vIEFkZCBhIGJsdXIgZmlsdGVyXG4gKiByZWN0LmZpbHRlcnMgPSBbbmV3IFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyKCldO1xuICpcbiAqIC8vIERpc3BsYXkgcmVjdGFuZ2xlXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqIEBuYW1lc3BhY2UgUElYSS5maWx0ZXJzXG4gKi9cbmV4cG9ydCBjb25zdCBmaWx0ZXJzID0ge1xuICAgIEFscGhhRmlsdGVyLFxuICAgIEJsdXJGaWx0ZXIsXG4gICAgQmx1ckZpbHRlclBhc3MsXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIsXG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLFxuICAgIEZYQUFGaWx0ZXIsXG4gICAgTm9pc2VGaWx0ZXIsXG59O1xuXG4vLyBFeHBvcnQgRVMgZm9yIHRob3NlIGltcG9ydGluZyBzcGVjaWZpY2FsbHkgYnkgbmFtZSxcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2FwcCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29yZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWF0aCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gtZXh0cmFzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3BhcnRpY2xlcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9ydW5uZXInO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZXNoZWV0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS1hbmltYXRlZCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dC1iaXRtYXAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGlja2VyJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmV4cG9ydCB7XG4gICAgYWNjZXNzaWJpbGl0eSxcbiAgICBleHRyYWN0LFxuICAgIGludGVyYWN0aW9uLFxuICAgIHByZXBhcmUsXG4gICAgdXRpbHMsXG4gICAgdXNlRGVwcmVjYXRlZCxcbn07XG4iLCIvKlxuICogYW5pbWUuanMgdjMuMS4wXG4gKiAoYykgMjAxOSBKdWxpYW4gR2FybmllclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBhbmltZWpzLmNvbVxuICovXG5cbiFmdW5jdGlvbihuLGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOm4uYW5pbWU9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49e3VwZGF0ZTpudWxsLGJlZ2luOm51bGwsbG9vcEJlZ2luOm51bGwsY2hhbmdlQmVnaW46bnVsbCxjaGFuZ2U6bnVsbCxjaGFuZ2VDb21wbGV0ZTpudWxsLGxvb3BDb21wbGV0ZTpudWxsLGNvbXBsZXRlOm51bGwsbG9vcDoxLGRpcmVjdGlvbjpcIm5vcm1hbFwiLGF1dG9wbGF5OiEwLHRpbWVsaW5lT2Zmc2V0OjB9LGU9e2R1cmF0aW9uOjFlMyxkZWxheTowLGVuZERlbGF5OjAsZWFzaW5nOlwiZWFzZU91dEVsYXN0aWMoMSwgLjUpXCIscm91bmQ6MH0scj1bXCJ0cmFuc2xhdGVYXCIsXCJ0cmFuc2xhdGVZXCIsXCJ0cmFuc2xhdGVaXCIsXCJyb3RhdGVcIixcInJvdGF0ZVhcIixcInJvdGF0ZVlcIixcInJvdGF0ZVpcIixcInNjYWxlXCIsXCJzY2FsZVhcIixcInNjYWxlWVwiLFwic2NhbGVaXCIsXCJza2V3XCIsXCJza2V3WFwiLFwic2tld1lcIixcInBlcnNwZWN0aXZlXCJdLHQ9e0NTUzp7fSxzcHJpbmdzOnt9fTtmdW5jdGlvbiBhKG4sZSxyKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobixlKSxyKX1mdW5jdGlvbiBvKG4sZSl7cmV0dXJuIG4uaW5kZXhPZihlKT4tMX1mdW5jdGlvbiB1KG4sZSl7cmV0dXJuIG4uYXBwbHkobnVsbCxlKX12YXIgaT17YXJyOmZ1bmN0aW9uKG4pe3JldHVybiBBcnJheS5pc0FycmF5KG4pfSxvYmo6ZnVuY3Rpb24obil7cmV0dXJuIG8oT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pLFwiT2JqZWN0XCIpfSxwdGg6ZnVuY3Rpb24obil7cmV0dXJuIGkub2JqKG4pJiZuLmhhc093blByb3BlcnR5KFwidG90YWxMZW5ndGhcIil9LHN2ZzpmdW5jdGlvbihuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIFNWR0VsZW1lbnR9LGlucDpmdW5jdGlvbihuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnR9LGRvbTpmdW5jdGlvbihuKXtyZXR1cm4gbi5ub2RlVHlwZXx8aS5zdmcobil9LHN0cjpmdW5jdGlvbihuKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygbn0sZm5jOmZ1bmN0aW9uKG4pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG59LHVuZDpmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09bn0saGV4OmZ1bmN0aW9uKG4pe3JldHVybi8oXiNbMC05QS1GXXs2fSQpfCheI1swLTlBLUZdezN9JCkvaS50ZXN0KG4pfSxyZ2I6ZnVuY3Rpb24obil7cmV0dXJuL15yZ2IvLnRlc3Qobil9LGhzbDpmdW5jdGlvbihuKXtyZXR1cm4vXmhzbC8udGVzdChuKX0sY29sOmZ1bmN0aW9uKG4pe3JldHVybiBpLmhleChuKXx8aS5yZ2Iobil8fGkuaHNsKG4pfSxrZXk6ZnVuY3Rpb24ocil7cmV0dXJuIW4uaGFzT3duUHJvcGVydHkocikmJiFlLmhhc093blByb3BlcnR5KHIpJiZcInRhcmdldHNcIiE9PXImJlwia2V5ZnJhbWVzXCIhPT1yfX07ZnVuY3Rpb24gYyhuKXt2YXIgZT0vXFwoKFteKV0rKVxcKS8uZXhlYyhuKTtyZXR1cm4gZT9lWzFdLnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHBhcnNlRmxvYXQobil9KTpbXX1mdW5jdGlvbiBzKG4sZSl7dmFyIHI9YyhuKSxvPWEoaS51bmQoclswXSk/MTpyWzBdLC4xLDEwMCksdT1hKGkudW5kKHJbMV0pPzEwMDpyWzFdLC4xLDEwMCkscz1hKGkudW5kKHJbMl0pPzEwOnJbMl0sLjEsMTAwKSxmPWEoaS51bmQoclszXSk/MDpyWzNdLC4xLDEwMCksbD1NYXRoLnNxcnQodS9vKSxkPXMvKDIqTWF0aC5zcXJ0KHUqbykpLHA9ZDwxP2wqTWF0aC5zcXJ0KDEtZCpkKTowLGg9MSx2PWQ8MT8oZCpsLWYpL3A6LWYrbDtmdW5jdGlvbiBnKG4pe3ZhciByPWU/ZSpuLzFlMzpuO3JldHVybiByPWQ8MT9NYXRoLmV4cCgtcipkKmwpKihoKk1hdGguY29zKHAqcikrdipNYXRoLnNpbihwKnIpKTooaCt2KnIpKk1hdGguZXhwKC1yKmwpLDA9PT1ufHwxPT09bj9uOjEtcn1yZXR1cm4gZT9nOmZ1bmN0aW9uKCl7dmFyIGU9dC5zcHJpbmdzW25dO2lmKGUpcmV0dXJuIGU7Zm9yKHZhciByPTAsYT0wOzspaWYoMT09PWcocis9MS82KSl7aWYoKythPj0xNilicmVha31lbHNlIGE9MDt2YXIgbz1yKigxLzYpKjFlMztyZXR1cm4gdC5zcHJpbmdzW25dPW8sb319ZnVuY3Rpb24gZihuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MTApLGZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnJvdW5kKGUqbikqKDEvbil9fXZhciBsLGQscD1mdW5jdGlvbigpe3ZhciBuPTExLGU9MS8obi0xKTtmdW5jdGlvbiByKG4sZSl7cmV0dXJuIDEtMyplKzMqbn1mdW5jdGlvbiB0KG4sZSl7cmV0dXJuIDMqZS02Km59ZnVuY3Rpb24gYShuKXtyZXR1cm4gMypufWZ1bmN0aW9uIG8obixlLG8pe3JldHVybigocihlLG8pKm4rdChlLG8pKSpuK2EoZSkpKm59ZnVuY3Rpb24gdShuLGUsbyl7cmV0dXJuIDMqcihlLG8pKm4qbisyKnQoZSxvKSpuK2EoZSl9cmV0dXJuIGZ1bmN0aW9uKHIsdCxhLGkpe2lmKDA8PXImJnI8PTEmJjA8PWEmJmE8PTEpe3ZhciBjPW5ldyBGbG9hdDMyQXJyYXkobik7aWYociE9PXR8fGEhPT1pKWZvcih2YXIgcz0wO3M8bjsrK3MpY1tzXT1vKHMqZSxyLGEpO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gcj09PXQmJmE9PT1pP246MD09PW58fDE9PT1uP246byhmKG4pLHQsaSl9fWZ1bmN0aW9uIGYodCl7Zm9yKHZhciBpPTAscz0xLGY9bi0xO3MhPT1mJiZjW3NdPD10OysrcylpKz1lO3ZhciBsPWkrKHQtY1stLXNdKS8oY1tzKzFdLWNbc10pKmUsZD11KGwscixhKTtyZXR1cm4gZD49LjAwMT9mdW5jdGlvbihuLGUscix0KXtmb3IodmFyIGE9MDthPDQ7KythKXt2YXIgaT11KGUscix0KTtpZigwPT09aSlyZXR1cm4gZTtlLT0obyhlLHIsdCktbikvaX1yZXR1cm4gZX0odCxsLHIsYSk6MD09PWQ/bDpmdW5jdGlvbihuLGUscix0LGEpe2Zvcih2YXIgdSxpLGM9MDsodT1vKGk9ZSsoci1lKS8yLHQsYSktbik+MD9yPWk6ZT1pLE1hdGguYWJzKHUpPjFlLTcmJisrYzwxMDspO3JldHVybiBpfSh0LGksaStlLHIsYSl9fX0oKSxoPShsPXtsaW5lYXI6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG59fX0sZD17U2luZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gMS1NYXRoLmNvcyhuKk1hdGguUEkvMil9fSxDaXJjOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiAxLU1hdGguc3FydCgxLW4qbil9fSxCYWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuKm4qKDMqbi0yKX19LEJvdW5jZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtmb3IodmFyIGUscj00O248KChlPU1hdGgucG93KDIsLS1yKSktMSkvMTE7KTtyZXR1cm4gMS9NYXRoLnBvdyg0LDMtciktNy41NjI1Kk1hdGgucG93KCgzKmUtMikvMjItbiwyKX19LEVsYXN0aWM6ZnVuY3Rpb24obixlKXt2b2lkIDA9PT1uJiYobj0xKSx2b2lkIDA9PT1lJiYoZT0uNSk7dmFyIHI9YShuLDEsMTApLHQ9YShlLC4xLDIpO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gMD09PW58fDE9PT1uP246LXIqTWF0aC5wb3coMiwxMCoobi0xKSkqTWF0aC5zaW4oKG4tMS10LygyKk1hdGguUEkpKk1hdGguYXNpbigxL3IpKSooMipNYXRoLlBJKS90KX19fSxbXCJRdWFkXCIsXCJDdWJpY1wiLFwiUXVhcnRcIixcIlF1aW50XCIsXCJFeHBvXCJdLmZvckVhY2goZnVuY3Rpb24obixlKXtkW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLnBvdyhuLGUrMil9fX0pLE9iamVjdC5rZXlzKGQpLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGU9ZFtuXTtsW1wiZWFzZUluXCIrbl09ZSxsW1wiZWFzZU91dFwiK25dPWZ1bmN0aW9uKG4scil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiAxLWUobixyKSgxLXQpfX0sbFtcImVhc2VJbk91dFwiK25dPWZ1bmN0aW9uKG4scil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0PC41P2UobixyKSgyKnQpLzI6MS1lKG4scikoLTIqdCsyKS8yfX19KSxsKTtmdW5jdGlvbiB2KG4sZSl7aWYoaS5mbmMobikpcmV0dXJuIG47dmFyIHI9bi5zcGxpdChcIihcIilbMF0sdD1oW3JdLGE9YyhuKTtzd2l0Y2gocil7Y2FzZVwic3ByaW5nXCI6cmV0dXJuIHMobixlKTtjYXNlXCJjdWJpY0JlemllclwiOnJldHVybiB1KHAsYSk7Y2FzZVwic3RlcHNcIjpyZXR1cm4gdShmLGEpO2RlZmF1bHQ6cmV0dXJuIHUodCxhKX19ZnVuY3Rpb24gZyhuKXt0cnl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobil9Y2F0Y2gobil7cmV0dXJufX1mdW5jdGlvbiBtKG4sZSl7Zm9yKHZhciByPW4ubGVuZ3RoLHQ9YXJndW1lbnRzLmxlbmd0aD49Mj9hcmd1bWVudHNbMV06dm9pZCAwLGE9W10sbz0wO288cjtvKyspaWYobyBpbiBuKXt2YXIgdT1uW29dO2UuY2FsbCh0LHUsbyxuKSYmYS5wdXNoKHUpfXJldHVybiBhfWZ1bmN0aW9uIHkobil7cmV0dXJuIG4ucmVkdWNlKGZ1bmN0aW9uKG4sZSl7cmV0dXJuIG4uY29uY2F0KGkuYXJyKGUpP3koZSk6ZSl9LFtdKX1mdW5jdGlvbiBiKG4pe3JldHVybiBpLmFycihuKT9uOihpLnN0cihuKSYmKG49ZyhuKXx8biksbiBpbnN0YW5jZW9mIE5vZGVMaXN0fHxuIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24/W10uc2xpY2UuY2FsbChuKTpbbl0pfWZ1bmN0aW9uIE0obixlKXtyZXR1cm4gbi5zb21lKGZ1bmN0aW9uKG4pe3JldHVybiBuPT09ZX0pfWZ1bmN0aW9uIHgobil7dmFyIGU9e307Zm9yKHZhciByIGluIG4pZVtyXT1uW3JdO3JldHVybiBlfWZ1bmN0aW9uIHcobixlKXt2YXIgcj14KG4pO2Zvcih2YXIgdCBpbiBuKXJbdF09ZS5oYXNPd25Qcm9wZXJ0eSh0KT9lW3RdOm5bdF07cmV0dXJuIHJ9ZnVuY3Rpb24gayhuLGUpe3ZhciByPXgobik7Zm9yKHZhciB0IGluIGUpclt0XT1pLnVuZChuW3RdKT9lW3RdOm5bdF07cmV0dXJuIHJ9ZnVuY3Rpb24gTyhuKXtyZXR1cm4gaS5yZ2Iobik/KHI9L3JnYlxcKChcXGQrLFxccypbXFxkXSssXFxzKltcXGRdKylcXCkvZy5leGVjKGU9bikpP1wicmdiYShcIityWzFdK1wiLDEpXCI6ZTppLmhleChuKT8odD1uLnJlcGxhY2UoL14jPyhbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKSQvaSxmdW5jdGlvbihuLGUscix0KXtyZXR1cm4gZStlK3Ircit0K3R9KSxhPS9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyh0KSxcInJnYmEoXCIrcGFyc2VJbnQoYVsxXSwxNikrXCIsXCIrcGFyc2VJbnQoYVsyXSwxNikrXCIsXCIrcGFyc2VJbnQoYVszXSwxNikrXCIsMSlcIik6aS5oc2wobik/ZnVuY3Rpb24obil7dmFyIGUscix0LGE9L2hzbFxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJVxcKS9nLmV4ZWMobil8fC9oc2xhXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKylcXCkvZy5leGVjKG4pLG89cGFyc2VJbnQoYVsxXSwxMCkvMzYwLHU9cGFyc2VJbnQoYVsyXSwxMCkvMTAwLGk9cGFyc2VJbnQoYVszXSwxMCkvMTAwLGM9YVs0XXx8MTtmdW5jdGlvbiBzKG4sZSxyKXtyZXR1cm4gcjwwJiYocis9MSkscj4xJiYoci09MSkscjwxLzY/bis2KihlLW4pKnI6cjwuNT9lOnI8Mi8zP24rKGUtbikqKDIvMy1yKSo2Om59aWYoMD09dSllPXI9dD1pO2Vsc2V7dmFyIGY9aTwuNT9pKigxK3UpOmkrdS1pKnUsbD0yKmktZjtlPXMobCxmLG8rMS8zKSxyPXMobCxmLG8pLHQ9cyhsLGYsby0xLzMpfXJldHVyblwicmdiYShcIisyNTUqZStcIixcIisyNTUqcitcIixcIisyNTUqdCtcIixcIitjK1wiKVwifShuKTp2b2lkIDA7dmFyIGUscix0LGF9ZnVuY3Rpb24gQyhuKXt2YXIgZT0vWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8oJXxweHxwdHxlbXxyZW18aW58Y218bW18ZXh8Y2h8cGN8dnd8dmh8dm1pbnx2bWF4fGRlZ3xyYWR8dHVybik/JC8uZXhlYyhuKTtpZihlKXJldHVybiBlWzFdfWZ1bmN0aW9uIEIobixlKXtyZXR1cm4gaS5mbmMobik/bihlLnRhcmdldCxlLmlkLGUudG90YWwpOm59ZnVuY3Rpb24gUChuLGUpe3JldHVybiBuLmdldEF0dHJpYnV0ZShlKX1mdW5jdGlvbiBJKG4sZSxyKXtpZihNKFtyLFwiZGVnXCIsXCJyYWRcIixcInR1cm5cIl0sQyhlKSkpcmV0dXJuIGU7dmFyIGE9dC5DU1NbZStyXTtpZighaS51bmQoYSkpcmV0dXJuIGE7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuLnRhZ05hbWUpLHU9bi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUhPT1kb2N1bWVudD9uLnBhcmVudE5vZGU6ZG9jdW1lbnQuYm9keTt1LmFwcGVuZENoaWxkKG8pLG8uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG8uc3R5bGUud2lkdGg9MTAwK3I7dmFyIGM9MTAwL28ub2Zmc2V0V2lkdGg7dS5yZW1vdmVDaGlsZChvKTt2YXIgcz1jKnBhcnNlRmxvYXQoZSk7cmV0dXJuIHQuQ1NTW2Urcl09cyxzfWZ1bmN0aW9uIFQobixlLHIpe2lmKGUgaW4gbi5zdHlsZSl7dmFyIHQ9ZS5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLFwiJDEtJDJcIikudG9Mb3dlckNhc2UoKSxhPW4uc3R5bGVbZV18fGdldENvbXB1dGVkU3R5bGUobikuZ2V0UHJvcGVydHlWYWx1ZSh0KXx8XCIwXCI7cmV0dXJuIHI/SShuLGEscik6YX19ZnVuY3Rpb24gRChuLGUpe3JldHVybiBpLmRvbShuKSYmIWkuaW5wKG4pJiYoUChuLGUpfHxpLnN2ZyhuKSYmbltlXSk/XCJhdHRyaWJ1dGVcIjppLmRvbShuKSYmTShyLGUpP1widHJhbnNmb3JtXCI6aS5kb20obikmJlwidHJhbnNmb3JtXCIhPT1lJiZUKG4sZSk/XCJjc3NcIjpudWxsIT1uW2VdP1wib2JqZWN0XCI6dm9pZCAwfWZ1bmN0aW9uIEUobil7aWYoaS5kb20obikpe2Zvcih2YXIgZSxyPW4uc3R5bGUudHJhbnNmb3JtfHxcIlwiLHQ9LyhcXHcrKVxcKChbXildKilcXCkvZyxhPW5ldyBNYXA7ZT10LmV4ZWMocik7KWEuc2V0KGVbMV0sZVsyXSk7cmV0dXJuIGF9fWZ1bmN0aW9uIEYobixlLHIsdCl7dmFyIGEsdT1vKGUsXCJzY2FsZVwiKT8xOjArKG8oYT1lLFwidHJhbnNsYXRlXCIpfHxcInBlcnNwZWN0aXZlXCI9PT1hP1wicHhcIjpvKGEsXCJyb3RhdGVcIil8fG8oYSxcInNrZXdcIik/XCJkZWdcIjp2b2lkIDApLGk9RShuKS5nZXQoZSl8fHU7cmV0dXJuIHImJihyLnRyYW5zZm9ybXMubGlzdC5zZXQoZSxpKSxyLnRyYW5zZm9ybXMubGFzdD1lKSx0P0kobixpLHQpOml9ZnVuY3Rpb24gTihuLGUscix0KXtzd2l0Y2goRChuLGUpKXtjYXNlXCJ0cmFuc2Zvcm1cIjpyZXR1cm4gRihuLGUsdCxyKTtjYXNlXCJjc3NcIjpyZXR1cm4gVChuLGUscik7Y2FzZVwiYXR0cmlidXRlXCI6cmV0dXJuIFAobixlKTtkZWZhdWx0OnJldHVybiBuW2VdfHwwfX1mdW5jdGlvbiBBKG4sZSl7dmFyIHI9L14oXFwqPXxcXCs9fC09KS8uZXhlYyhuKTtpZighcilyZXR1cm4gbjt2YXIgdD1DKG4pfHwwLGE9cGFyc2VGbG9hdChlKSxvPXBhcnNlRmxvYXQobi5yZXBsYWNlKHJbMF0sXCJcIikpO3N3aXRjaChyWzBdWzBdKXtjYXNlXCIrXCI6cmV0dXJuIGErbyt0O2Nhc2VcIi1cIjpyZXR1cm4gYS1vK3Q7Y2FzZVwiKlwiOnJldHVybiBhKm8rdH19ZnVuY3Rpb24gTChuLGUpe2lmKGkuY29sKG4pKXJldHVybiBPKG4pO2lmKC9cXHMvZy50ZXN0KG4pKXJldHVybiBuO3ZhciByPUMobiksdD1yP24uc3Vic3RyKDAsbi5sZW5ndGgtci5sZW5ndGgpOm47cmV0dXJuIGU/dCtlOnR9ZnVuY3Rpb24gaihuLGUpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coZS54LW4ueCwyKStNYXRoLnBvdyhlLnktbi55LDIpKX1mdW5jdGlvbiBTKG4pe2Zvcih2YXIgZSxyPW4ucG9pbnRzLHQ9MCxhPTA7YTxyLm51bWJlck9mSXRlbXM7YSsrKXt2YXIgbz1yLmdldEl0ZW0oYSk7YT4wJiYodCs9aihlLG8pKSxlPW99cmV0dXJuIHR9ZnVuY3Rpb24gcShuKXtpZihuLmdldFRvdGFsTGVuZ3RoKXJldHVybiBuLmdldFRvdGFsTGVuZ3RoKCk7c3dpdGNoKG4udGFnTmFtZS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJjaXJjbGVcIjpyZXR1cm4gbz1uLDIqTWF0aC5QSSpQKG8sXCJyXCIpO2Nhc2VcInJlY3RcIjpyZXR1cm4gMipQKGE9bixcIndpZHRoXCIpKzIqUChhLFwiaGVpZ2h0XCIpO2Nhc2VcImxpbmVcIjpyZXR1cm4gaih7eDpQKHQ9bixcIngxXCIpLHk6UCh0LFwieTFcIil9LHt4OlAodCxcIngyXCIpLHk6UCh0LFwieTJcIil9KTtjYXNlXCJwb2x5bGluZVwiOnJldHVybiBTKG4pO2Nhc2VcInBvbHlnb25cIjpyZXR1cm4gcj0oZT1uKS5wb2ludHMsUyhlKStqKHIuZ2V0SXRlbShyLm51bWJlck9mSXRlbXMtMSksci5nZXRJdGVtKDApKX12YXIgZSxyLHQsYSxvfWZ1bmN0aW9uICQobixlKXt2YXIgcj1lfHx7fSx0PXIuZWx8fGZ1bmN0aW9uKG4pe2Zvcih2YXIgZT1uLnBhcmVudE5vZGU7aS5zdmcoZSkmJmkuc3ZnKGUucGFyZW50Tm9kZSk7KWU9ZS5wYXJlbnROb2RlO3JldHVybiBlfShuKSxhPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1QKHQsXCJ2aWV3Qm94XCIpLHU9YS53aWR0aCxjPWEuaGVpZ2h0LHM9ci52aWV3Qm94fHwobz9vLnNwbGl0KFwiIFwiKTpbMCwwLHUsY10pO3JldHVybntlbDp0LHZpZXdCb3g6cyx4OnNbMF0vMSx5OnNbMV0vMSx3OnUvc1syXSxoOmMvc1szXX19ZnVuY3Rpb24gWChuLGUpe2Z1bmN0aW9uIHIocil7dm9pZCAwPT09ciYmKHI9MCk7dmFyIHQ9ZStyPj0xP2UrcjowO3JldHVybiBuLmVsLmdldFBvaW50QXRMZW5ndGgodCl9dmFyIHQ9JChuLmVsLG4uc3ZnKSxhPXIoKSxvPXIoLTEpLHU9cigxKTtzd2l0Y2gobi5wcm9wZXJ0eSl7Y2FzZVwieFwiOnJldHVybihhLngtdC54KSp0Lnc7Y2FzZVwieVwiOnJldHVybihhLnktdC55KSp0Lmg7Y2FzZVwiYW5nbGVcIjpyZXR1cm4gMTgwKk1hdGguYXRhbjIodS55LW8ueSx1Lngtby54KS9NYXRoLlBJfX1mdW5jdGlvbiBZKG4sZSl7dmFyIHI9L1srLV0/XFxkKlxcLj9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/L2csdD1MKGkucHRoKG4pP24udG90YWxMZW5ndGg6bixlKStcIlwiO3JldHVybntvcmlnaW5hbDp0LG51bWJlcnM6dC5tYXRjaChyKT90Lm1hdGNoKHIpLm1hcChOdW1iZXIpOlswXSxzdHJpbmdzOmkuc3RyKG4pfHxlP3Quc3BsaXQocik6W119fWZ1bmN0aW9uIFoobil7cmV0dXJuIG0obj95KGkuYXJyKG4pP24ubWFwKGIpOmIobikpOltdLGZ1bmN0aW9uKG4sZSxyKXtyZXR1cm4gci5pbmRleE9mKG4pPT09ZX0pfWZ1bmN0aW9uIFEobil7dmFyIGU9WihuKTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24obixyKXtyZXR1cm57dGFyZ2V0Om4saWQ6cix0b3RhbDplLmxlbmd0aCx0cmFuc2Zvcm1zOntsaXN0OkUobil9fX0pfWZ1bmN0aW9uIFYobixlKXt2YXIgcj14KGUpO2lmKC9ec3ByaW5nLy50ZXN0KHIuZWFzaW5nKSYmKHIuZHVyYXRpb249cyhyLmVhc2luZykpLGkuYXJyKG4pKXt2YXIgdD1uLmxlbmd0aDsyPT09dCYmIWkub2JqKG5bMF0pP249e3ZhbHVlOm59OmkuZm5jKGUuZHVyYXRpb24pfHwoci5kdXJhdGlvbj1lLmR1cmF0aW9uL3QpfXZhciBhPWkuYXJyKG4pP246W25dO3JldHVybiBhLm1hcChmdW5jdGlvbihuLHIpe3ZhciB0PWkub2JqKG4pJiYhaS5wdGgobik/bjp7dmFsdWU6bn07cmV0dXJuIGkudW5kKHQuZGVsYXkpJiYodC5kZWxheT1yPzA6ZS5kZWxheSksaS51bmQodC5lbmREZWxheSkmJih0LmVuZERlbGF5PXI9PT1hLmxlbmd0aC0xP2UuZW5kRGVsYXk6MCksdH0pLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gayhuLHIpfSl9ZnVuY3Rpb24geihuLGUpe3ZhciByPVtdLHQ9ZS5rZXlmcmFtZXM7Zm9yKHZhciBhIGluIHQmJihlPWsoZnVuY3Rpb24obil7Zm9yKHZhciBlPW0oeShuLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gT2JqZWN0LmtleXMobil9KSksZnVuY3Rpb24obil7cmV0dXJuIGkua2V5KG4pfSkucmVkdWNlKGZ1bmN0aW9uKG4sZSl7cmV0dXJuIG4uaW5kZXhPZihlKTwwJiZuLnB1c2goZSksbn0sW10pLHI9e30sdD1mdW5jdGlvbih0KXt2YXIgYT1lW3RdO3JbYV09bi5tYXAoZnVuY3Rpb24obil7dmFyIGU9e307Zm9yKHZhciByIGluIG4paS5rZXkocik/cj09YSYmKGUudmFsdWU9bltyXSk6ZVtyXT1uW3JdO3JldHVybiBlfSl9LGE9MDthPGUubGVuZ3RoO2ErKyl0KGEpO3JldHVybiByfSh0KSxlKSksZSlpLmtleShhKSYmci5wdXNoKHtuYW1lOmEsdHdlZW5zOlYoZVthXSxuKX0pO3JldHVybiByfWZ1bmN0aW9uIEgobixlKXt2YXIgcjtyZXR1cm4gbi50d2VlbnMubWFwKGZ1bmN0aW9uKHQpe3ZhciBhPWZ1bmN0aW9uKG4sZSl7dmFyIHI9e307Zm9yKHZhciB0IGluIG4pe3ZhciBhPUIoblt0XSxlKTtpLmFycihhKSYmMT09PShhPWEubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBCKG4sZSl9KSkubGVuZ3RoJiYoYT1hWzBdKSxyW3RdPWF9cmV0dXJuIHIuZHVyYXRpb249cGFyc2VGbG9hdChyLmR1cmF0aW9uKSxyLmRlbGF5PXBhcnNlRmxvYXQoci5kZWxheSkscn0odCxlKSxvPWEudmFsdWUsdT1pLmFycihvKT9vWzFdOm8sYz1DKHUpLHM9TihlLnRhcmdldCxuLm5hbWUsYyxlKSxmPXI/ci50by5vcmlnaW5hbDpzLGw9aS5hcnIobyk/b1swXTpmLGQ9QyhsKXx8QyhzKSxwPWN8fGQ7cmV0dXJuIGkudW5kKHUpJiYodT1mKSxhLmZyb209WShsLHApLGEudG89WShBKHUsbCkscCksYS5zdGFydD1yP3IuZW5kOjAsYS5lbmQ9YS5zdGFydCthLmRlbGF5K2EuZHVyYXRpb24rYS5lbmREZWxheSxhLmVhc2luZz12KGEuZWFzaW5nLGEuZHVyYXRpb24pLGEuaXNQYXRoPWkucHRoKG8pLGEuaXNDb2xvcj1pLmNvbChhLmZyb20ub3JpZ2luYWwpLGEuaXNDb2xvciYmKGEucm91bmQ9MSkscj1hLGF9KX12YXIgRz17Y3NzOmZ1bmN0aW9uKG4sZSxyKXtyZXR1cm4gbi5zdHlsZVtlXT1yfSxhdHRyaWJ1dGU6ZnVuY3Rpb24obixlLHIpe3JldHVybiBuLnNldEF0dHJpYnV0ZShlLHIpfSxvYmplY3Q6ZnVuY3Rpb24obixlLHIpe3JldHVybiBuW2VdPXJ9LHRyYW5zZm9ybTpmdW5jdGlvbihuLGUscix0LGEpe2lmKHQubGlzdC5zZXQoZSxyKSxlPT09dC5sYXN0fHxhKXt2YXIgbz1cIlwiO3QubGlzdC5mb3JFYWNoKGZ1bmN0aW9uKG4sZSl7bys9ZStcIihcIituK1wiKSBcIn0pLG4uc3R5bGUudHJhbnNmb3JtPW99fX07ZnVuY3Rpb24gUihuLGUpe1EobikuZm9yRWFjaChmdW5jdGlvbihuKXtmb3IodmFyIHIgaW4gZSl7dmFyIHQ9QihlW3JdLG4pLGE9bi50YXJnZXQsbz1DKHQpLHU9TihhLHIsbyxuKSxpPUEoTCh0LG98fEModSkpLHUpLGM9RChhLHIpO0dbY10oYSxyLGksbi50cmFuc2Zvcm1zLCEwKX19KX1mdW5jdGlvbiBXKG4sZSl7cmV0dXJuIG0oeShuLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4sZSl7dmFyIHI9RChuLnRhcmdldCxlLm5hbWUpO2lmKHIpe3ZhciB0PUgoZSxuKSxhPXRbdC5sZW5ndGgtMV07cmV0dXJue3R5cGU6cixwcm9wZXJ0eTplLm5hbWUsYW5pbWF0YWJsZTpuLHR3ZWVuczp0LGR1cmF0aW9uOmEuZW5kLGRlbGF5OnRbMF0uZGVsYXksZW5kRGVsYXk6YS5lbmREZWxheX19fShuLGUpfSl9KSksZnVuY3Rpb24obil7cmV0dXJuIWkudW5kKG4pfSl9ZnVuY3Rpb24gSihuLGUpe3ZhciByPW4ubGVuZ3RoLHQ9ZnVuY3Rpb24obil7cmV0dXJuIG4udGltZWxpbmVPZmZzZXQ/bi50aW1lbGluZU9mZnNldDowfSxhPXt9O3JldHVybiBhLmR1cmF0aW9uPXI/TWF0aC5tYXguYXBwbHkoTWF0aCxuLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gdChuKStuLmR1cmF0aW9ufSkpOmUuZHVyYXRpb24sYS5kZWxheT1yP01hdGgubWluLmFwcGx5KE1hdGgsbi5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHQobikrbi5kZWxheX0pKTplLmRlbGF5LGEuZW5kRGVsYXk9cj9hLmR1cmF0aW9uLU1hdGgubWF4LmFwcGx5KE1hdGgsbi5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHQobikrbi5kdXJhdGlvbi1uLmVuZERlbGF5fSkpOmUuZW5kRGVsYXksYX12YXIgSz0wO3ZhciBVLF89W10sbm49W10sZW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7VT1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSl9ZnVuY3Rpb24gZShlKXt2YXIgcj1fLmxlbmd0aDtpZihyKXtmb3IodmFyIHQ9MDt0PHI7KXt2YXIgYT1fW3RdO2lmKGEucGF1c2VkKXt2YXIgbz1fLmluZGV4T2YoYSk7bz4tMSYmKF8uc3BsaWNlKG8sMSkscj1fLmxlbmd0aCl9ZWxzZSBhLnRpY2soZSk7dCsrfW4oKX1lbHNlIFU9Y2FuY2VsQW5pbWF0aW9uRnJhbWUoVSl9cmV0dXJuIG59KCk7ZnVuY3Rpb24gcm4ocil7dm9pZCAwPT09ciYmKHI9e30pO3ZhciB0LG89MCx1PTAsaT0wLGM9MCxzPW51bGw7ZnVuY3Rpb24gZihuKXt2YXIgZT13aW5kb3cuUHJvbWlzZSYmbmV3IFByb21pc2UoZnVuY3Rpb24obil7cmV0dXJuIHM9bn0pO3JldHVybiBuLmZpbmlzaGVkPWUsZX12YXIgbCxkLHAsaCx2LGcseSxiLE09KGQ9dyhuLGw9cikscD13KGUsbCksaD16KHAsbCksdj1RKGwudGFyZ2V0cyksZz1XKHYsaCkseT1KKGcscCksYj1LLEsrKyxrKGQse2lkOmIsY2hpbGRyZW46W10sYW5pbWF0YWJsZXM6dixhbmltYXRpb25zOmcsZHVyYXRpb246eS5kdXJhdGlvbixkZWxheTp5LmRlbGF5LGVuZERlbGF5OnkuZW5kRGVsYXl9KSk7ZihNKTtmdW5jdGlvbiB4KCl7dmFyIG49TS5kaXJlY3Rpb247XCJhbHRlcm5hdGVcIiE9PW4mJihNLmRpcmVjdGlvbj1cIm5vcm1hbFwiIT09bj9cIm5vcm1hbFwiOlwicmV2ZXJzZVwiKSxNLnJldmVyc2VkPSFNLnJldmVyc2VkLHQuZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXZlcnNlZD1NLnJldmVyc2VkfSl9ZnVuY3Rpb24gTyhuKXtyZXR1cm4gTS5yZXZlcnNlZD9NLmR1cmF0aW9uLW46bn1mdW5jdGlvbiBDKCl7bz0wLHU9TyhNLmN1cnJlbnRUaW1lKSooMS9ybi5zcGVlZCl9ZnVuY3Rpb24gQihuLGUpe2UmJmUuc2VlayhuLWUudGltZWxpbmVPZmZzZXQpfWZ1bmN0aW9uIFAobil7Zm9yKHZhciBlPTAscj1NLmFuaW1hdGlvbnMsdD1yLmxlbmd0aDtlPHQ7KXt2YXIgbz1yW2VdLHU9by5hbmltYXRhYmxlLGk9by50d2VlbnMsYz1pLmxlbmd0aC0xLHM9aVtjXTtjJiYocz1tKGksZnVuY3Rpb24oZSl7cmV0dXJuIG48ZS5lbmR9KVswXXx8cyk7Zm9yKHZhciBmPWEobi1zLnN0YXJ0LXMuZGVsYXksMCxzLmR1cmF0aW9uKS9zLmR1cmF0aW9uLGw9aXNOYU4oZik/MTpzLmVhc2luZyhmKSxkPXMudG8uc3RyaW5ncyxwPXMucm91bmQsaD1bXSx2PXMudG8ubnVtYmVycy5sZW5ndGgsZz12b2lkIDAseT0wO3k8djt5Kyspe3ZhciBiPXZvaWQgMCx4PXMudG8ubnVtYmVyc1t5XSx3PXMuZnJvbS5udW1iZXJzW3ldfHwwO2I9cy5pc1BhdGg/WChzLnZhbHVlLGwqeCk6dytsKih4LXcpLHAmJihzLmlzQ29sb3ImJnk+Mnx8KGI9TWF0aC5yb3VuZChiKnApL3ApKSxoLnB1c2goYil9dmFyIGs9ZC5sZW5ndGg7aWYoayl7Zz1kWzBdO2Zvcih2YXIgTz0wO088aztPKyspe2RbT107dmFyIEM9ZFtPKzFdLEI9aFtPXTtpc05hTihCKXx8KGcrPUM/QitDOkIrXCIgXCIpfX1lbHNlIGc9aFswXTtHW28udHlwZV0odS50YXJnZXQsby5wcm9wZXJ0eSxnLHUudHJhbnNmb3Jtcyksby5jdXJyZW50VmFsdWU9ZyxlKyt9fWZ1bmN0aW9uIEkobil7TVtuXSYmIU0ucGFzc1Rocm91Z2gmJk1bbl0oTSl9ZnVuY3Rpb24gVChuKXt2YXIgZT1NLmR1cmF0aW9uLHI9TS5kZWxheSxsPWUtTS5lbmREZWxheSxkPU8obik7TS5wcm9ncmVzcz1hKGQvZSoxMDAsMCwxMDApLE0ucmV2ZXJzZVBsYXliYWNrPWQ8TS5jdXJyZW50VGltZSx0JiZmdW5jdGlvbihuKXtpZihNLnJldmVyc2VQbGF5YmFjaylmb3IodmFyIGU9YztlLS07KUIobix0W2VdKTtlbHNlIGZvcih2YXIgcj0wO3I8YztyKyspQihuLHRbcl0pfShkKSwhTS5iZWdhbiYmTS5jdXJyZW50VGltZT4wJiYoTS5iZWdhbj0hMCxJKFwiYmVnaW5cIikpLCFNLmxvb3BCZWdhbiYmTS5jdXJyZW50VGltZT4wJiYoTS5sb29wQmVnYW49ITAsSShcImxvb3BCZWdpblwiKSksZDw9ciYmMCE9PU0uY3VycmVudFRpbWUmJlAoMCksKGQ+PWwmJk0uY3VycmVudFRpbWUhPT1lfHwhZSkmJlAoZSksZD5yJiZkPGw/KE0uY2hhbmdlQmVnYW58fChNLmNoYW5nZUJlZ2FuPSEwLE0uY2hhbmdlQ29tcGxldGVkPSExLEkoXCJjaGFuZ2VCZWdpblwiKSksSShcImNoYW5nZVwiKSxQKGQpKTpNLmNoYW5nZUJlZ2FuJiYoTS5jaGFuZ2VDb21wbGV0ZWQ9ITAsTS5jaGFuZ2VCZWdhbj0hMSxJKFwiY2hhbmdlQ29tcGxldGVcIikpLE0uY3VycmVudFRpbWU9YShkLDAsZSksTS5iZWdhbiYmSShcInVwZGF0ZVwiKSxuPj1lJiYodT0wLE0ucmVtYWluaW5nJiYhMCE9PU0ucmVtYWluaW5nJiZNLnJlbWFpbmluZy0tLE0ucmVtYWluaW5nPyhvPWksSShcImxvb3BDb21wbGV0ZVwiKSxNLmxvb3BCZWdhbj0hMSxcImFsdGVybmF0ZVwiPT09TS5kaXJlY3Rpb24mJngoKSk6KE0ucGF1c2VkPSEwLE0uY29tcGxldGVkfHwoTS5jb21wbGV0ZWQ9ITAsSShcImxvb3BDb21wbGV0ZVwiKSxJKFwiY29tcGxldGVcIiksIU0ucGFzc1Rocm91Z2gmJlwiUHJvbWlzZVwiaW4gd2luZG93JiYocygpLGYoTSkpKSkpfXJldHVybiBNLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIG49TS5kaXJlY3Rpb247TS5wYXNzVGhyb3VnaD0hMSxNLmN1cnJlbnRUaW1lPTAsTS5wcm9ncmVzcz0wLE0ucGF1c2VkPSEwLE0uYmVnYW49ITEsTS5sb29wQmVnYW49ITEsTS5jaGFuZ2VCZWdhbj0hMSxNLmNvbXBsZXRlZD0hMSxNLmNoYW5nZUNvbXBsZXRlZD0hMSxNLnJldmVyc2VQbGF5YmFjaz0hMSxNLnJldmVyc2VkPVwicmV2ZXJzZVwiPT09bixNLnJlbWFpbmluZz1NLmxvb3AsdD1NLmNoaWxkcmVuO2Zvcih2YXIgZT1jPXQubGVuZ3RoO2UtLTspTS5jaGlsZHJlbltlXS5yZXNldCgpOyhNLnJldmVyc2VkJiYhMCE9PU0ubG9vcHx8XCJhbHRlcm5hdGVcIj09PW4mJjE9PT1NLmxvb3ApJiZNLnJlbWFpbmluZysrLFAoTS5yZXZlcnNlZD9NLmR1cmF0aW9uOjApfSxNLnNldD1mdW5jdGlvbihuLGUpe3JldHVybiBSKG4sZSksTX0sTS50aWNrPWZ1bmN0aW9uKG4pe2k9bixvfHwobz1pKSxUKChpKyh1LW8pKSpybi5zcGVlZCl9LE0uc2Vlaz1mdW5jdGlvbihuKXtUKE8obikpfSxNLnBhdXNlPWZ1bmN0aW9uKCl7TS5wYXVzZWQ9ITAsQygpfSxNLnBsYXk9ZnVuY3Rpb24oKXtNLnBhdXNlZCYmKE0uY29tcGxldGVkJiZNLnJlc2V0KCksTS5wYXVzZWQ9ITEsXy5wdXNoKE0pLEMoKSxVfHxlbigpKX0sTS5yZXZlcnNlPWZ1bmN0aW9uKCl7eCgpLEMoKX0sTS5yZXN0YXJ0PWZ1bmN0aW9uKCl7TS5yZXNldCgpLE0ucGxheSgpfSxNLnJlc2V0KCksTS5hdXRvcGxheSYmTS5wbGF5KCksTX1mdW5jdGlvbiB0bihuLGUpe2Zvcih2YXIgcj1lLmxlbmd0aDtyLS07KU0obixlW3JdLmFuaW1hdGFibGUudGFyZ2V0KSYmZS5zcGxpY2UociwxKX1yZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsZnVuY3Rpb24oKXtkb2N1bWVudC5oaWRkZW4/KF8uZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gbi5wYXVzZSgpfSksbm49Xy5zbGljZSgwKSxybi5ydW5uaW5nPV89W10pOm5uLmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIG4ucGxheSgpfSl9KSxybi52ZXJzaW9uPVwiMy4xLjBcIixybi5zcGVlZD0xLHJuLnJ1bm5pbmc9Xyxybi5yZW1vdmU9ZnVuY3Rpb24obil7Zm9yKHZhciBlPVoobikscj1fLmxlbmd0aDtyLS07KXt2YXIgdD1fW3JdLGE9dC5hbmltYXRpb25zLG89dC5jaGlsZHJlbjt0bihlLGEpO2Zvcih2YXIgdT1vLmxlbmd0aDt1LS07KXt2YXIgaT1vW3VdLGM9aS5hbmltYXRpb25zO3RuKGUsYyksYy5sZW5ndGh8fGkuY2hpbGRyZW4ubGVuZ3RofHxvLnNwbGljZSh1LDEpfWEubGVuZ3RofHxvLmxlbmd0aHx8dC5wYXVzZSgpfX0scm4uZ2V0PU4scm4uc2V0PVIscm4uY29udmVydFB4PUkscm4ucGF0aD1mdW5jdGlvbihuLGUpe3ZhciByPWkuc3RyKG4pP2cobilbMF06bix0PWV8fDEwMDtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJue3Byb3BlcnR5Om4sZWw6cixzdmc6JChyKSx0b3RhbExlbmd0aDpxKHIpKih0LzEwMCl9fX0scm4uc2V0RGFzaG9mZnNldD1mdW5jdGlvbihuKXt2YXIgZT1xKG4pO3JldHVybiBuLnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNoYXJyYXlcIixlKSxlfSxybi5zdGFnZ2VyPWZ1bmN0aW9uKG4sZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciByPWUuZGlyZWN0aW9ufHxcIm5vcm1hbFwiLHQ9ZS5lYXNpbmc/dihlLmVhc2luZyk6bnVsbCxhPWUuZ3JpZCxvPWUuYXhpcyx1PWUuZnJvbXx8MCxjPVwiZmlyc3RcIj09PXUscz1cImNlbnRlclwiPT09dSxmPVwibGFzdFwiPT09dSxsPWkuYXJyKG4pLGQ9bD9wYXJzZUZsb2F0KG5bMF0pOnBhcnNlRmxvYXQobikscD1sP3BhcnNlRmxvYXQoblsxXSk6MCxoPUMobD9uWzFdOm4pfHwwLGc9ZS5zdGFydHx8MCsobD9kOjApLG09W10seT0wO3JldHVybiBmdW5jdGlvbihuLGUsaSl7aWYoYyYmKHU9MCkscyYmKHU9KGktMSkvMiksZiYmKHU9aS0xKSwhbS5sZW5ndGgpe2Zvcih2YXIgdj0wO3Y8aTt2Kyspe2lmKGEpe3ZhciBiPXM/KGFbMF0tMSkvMjp1JWFbMF0sTT1zPyhhWzFdLTEpLzI6TWF0aC5mbG9vcih1L2FbMF0pLHg9Yi12JWFbMF0sdz1NLU1hdGguZmxvb3Iodi9hWzBdKSxrPU1hdGguc3FydCh4Kngrdyp3KTtcInhcIj09PW8mJihrPS14KSxcInlcIj09PW8mJihrPS13KSxtLnB1c2goayl9ZWxzZSBtLnB1c2goTWF0aC5hYnModS12KSk7eT1NYXRoLm1heC5hcHBseShNYXRoLG0pfXQmJihtPW0ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiB0KG4veSkqeX0pKSxcInJldmVyc2VcIj09PXImJihtPW0ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBvP248MD8tMSpuOi1uOk1hdGguYWJzKHktbil9KSl9cmV0dXJuIGcrKGw/KHAtZCkveTpkKSooTWF0aC5yb3VuZCgxMDAqbVtlXSkvMTAwKStofX0scm4udGltZWxpbmU9ZnVuY3Rpb24obil7dm9pZCAwPT09biYmKG49e30pO3ZhciByPXJuKG4pO3JldHVybiByLmR1cmF0aW9uPTAsci5hZGQ9ZnVuY3Rpb24odCxhKXt2YXIgbz1fLmluZGV4T2YociksdT1yLmNoaWxkcmVuO2Z1bmN0aW9uIGMobil7bi5wYXNzVGhyb3VnaD0hMH1vPi0xJiZfLnNwbGljZShvLDEpO2Zvcih2YXIgcz0wO3M8dS5sZW5ndGg7cysrKWModVtzXSk7dmFyIGY9ayh0LHcoZSxuKSk7Zi50YXJnZXRzPWYudGFyZ2V0c3x8bi50YXJnZXRzO3ZhciBsPXIuZHVyYXRpb247Zi5hdXRvcGxheT0hMSxmLmRpcmVjdGlvbj1yLmRpcmVjdGlvbixmLnRpbWVsaW5lT2Zmc2V0PWkudW5kKGEpP2w6QShhLGwpLGMociksci5zZWVrKGYudGltZWxpbmVPZmZzZXQpO3ZhciBkPXJuKGYpO2MoZCksdS5wdXNoKGQpO3ZhciBwPUoodSxuKTtyZXR1cm4gci5kZWxheT1wLmRlbGF5LHIuZW5kRGVsYXk9cC5lbmREZWxheSxyLmR1cmF0aW9uPXAuZHVyYXRpb24sci5zZWVrKDApLHIucmVzZXQoKSxyLmF1dG9wbGF5JiZyLnBsYXkoKSxyfSxyfSxybi5lYXNpbmc9dixybi5wZW5uZXI9aCxybi5yYW5kb209ZnVuY3Rpb24obixlKXtyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihlLW4rMSkpK259LHJufSk7IiwiLyoqXHJcbiAqIFJlcHJlc2VudHMgYSBTbG90IE1hY2hpbmUgZ2FtZS5cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyByZXF1aXJlZCB0byBjcmVhdGUgYSBnYW1lLCBzdWNoIGFzIHJlc291cmNlcywgc2V0dGluZ3MsIGV0Yy5cclxuICogQHBhcmFtIHtudW1iZXJ9IGdhbWVXaWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgZ2FtZS5cclxuICogQHBhcmFtIHtudW1iZXJ9IGdhbWVIZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSBnYW1lLlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBsZXQgZ2FtZSA9IG5ldyBTbG90KHtcclxuICogIGNvbnRhaW5lcjogJy5nYW1lLWNvbnRhaW5lcicsXHJcbiAqIH0sIDEwMCwgMTAwKTtcclxuICovXHJcbnZhciBTbG90ID0gZnVuY3Rpb24ocGFyYW1zLCBnYW1lV2lkdGgsIGdhbWVIZWlnaHQpIHtcclxuICAgIHRoaXMuVkVSU0lPTiA9ICcwLjEnO1xyXG4gICAgdGhpcy5lbmdpbmUgPSBuZXcgU2xvdC5HYW1lKGdhbWVXaWR0aCwgZ2FtZUhlaWdodCk7XHJcbiAgICB0aGlzLmVuZ2luZS5nYW1lID0gdGhpcztcclxuICAgIHRoaXMucmVlbHMgPSBuZXcgU2xvdC5SZWVsc0NvbnRyb2xsZXIodGhpcyk7XHJcbiAgICB0aGlzLnRleHRzID0gbmV3IFNsb3QuVGV4dENvbnRyb2xsZXIodGhpcyk7XHJcbiAgICB0aGlzLmV2ZW50cyA9IHtcclxuICAgICAgICBzdGFydDogW10sXHJcbiAgICAgICAgc3RvcDogW10sXHJcbiAgICB9O1xyXG4gICAgdGhpcy5zZXR0aW5ncyA9IHtcclxuICAgICAgICBzcGVlZDogMC4yLFxyXG4gICAgICAgIHNwaW5UaW1lOiA0NTAwMDAsXHJcbiAgICAgICAgc3BpblRpbWVCZXR3ZWVuUmVlbHM6IDEyMDAwLFxyXG4gICAgICAgIHJlZWxCb3VuY2VEdXJhdGlvbjogMzAwMCxcclxuICAgICAgICBuZXR3b3JrOiBmYWxzZSxcclxuICAgIH07XHJcbiAgICB0aGlzLndhaXRGb3JSZXN1bHQgPSBmYWxzZTtcclxuICAgIHRoaXMuZm9yY2VTdG9wUGVuZGluZyA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMucmVlbHMub25TdGFydChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5uZXR3b3JrKSB7XHJcbiAgICAgICAgICAgIHRoaXMud2FpdEZvclJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLnN0YXJ0LmZvckVhY2goZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICB9KTtcclxuICAgIH0uYmluZCh0aGlzKSk7XHJcblxyXG4gICAgdGhpcy5yZWVscy5vblN0b3AoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMuc3RvcC5mb3JFYWNoKGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgICAgIGZuKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LmJpbmQodGhpcykpO1xyXG5cclxuICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcclxuICAgIGlmIChwYXJhbXMuY29udGFpbmVyKSB7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYXJhbXMuY29udGFpbmVyKTtcclxuICAgICAgICBpZiAoY29udGFpbmVyRWwpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQodGhpcy5lbmdpbmUucmVuZGVyZXIudmlldyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgY29udGFpbmVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmVuZ2luZS5yZW5kZXJlci52aWV3KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcclxuICAgICAgICB2YXIgcmF0aW8gPSBnYW1lV2lkdGggLyBnYW1lSGVpZ2h0O1xyXG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5lbmdpbmUucmVuZGVyZXIudmlldztcclxuICAgICAgICB2YXIgd2lkdGggPSB2aWV3LnBhcmVudE5vZGUub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IHdpZHRoIC8gcmF0aW87XHJcbiAgICAgICAgaWYgKGhlaWdodCA+IHZpZXcucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQpIHtcclxuICAgICAgICAgICAgaGVpZ2h0ID0gdmlldy5wYXJlbnROb2RlLm9mZnNldEhlaWdodDtcclxuICAgICAgICAgICAgd2lkdGggPSByYXRpbyAqIGhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbmdpbmUucmVuZGVyZXIucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfVxyXG4gICAgb25SZXNpemUuYmluZCh0aGlzKSgpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplLmJpbmQodGhpcykpO1xyXG5cclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKCdyZXNvdXJjZXMnIGluIHBhcmFtcykge1xyXG4gICAgICAgIHBhcmFtcy5yZXNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihyZXNvdXJjZSkge1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKHJlc291cmNlWzBdLCByZXNvdXJjZVsxXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKHJlc291cmNlLmtleSwgcmVzb3VyY2UudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCdpbml0JyBpbiBwYXJhbXMpIHtcclxuICAgICAgICBQSVhJLkxvYWRlci5zaGFyZWQubG9hZChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcGFyYW1zLmluaXQuYmluZChfdGhpcykoX3RoaXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgnc2V0dGluZ3MnIGluIHBhcmFtcykge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBwYXJhbXMuc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5nc1trZXldID0gcGFyYW1zLnNldHRpbmdzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVlbHMuc3BpblRpbWUgPSB0aGlzLnNldHRpbmdzLnNwaW5UaW1lO1xyXG4gICAgICAgIHRoaXMucmVlbHMuc3BpblRpbWVCZXR3ZWVuUmVlbHMgPSB0aGlzLnNldHRpbmdzLnNwaW5UaW1lQmV0d2VlblJlZWxzO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgaXMgdGhlIGxvYWQgcmVzb3VyY2VzIG1ldGhvZCB1c2VkIHRvIGFkZCByZXNvdXJjZXMgdG8gdGhlIGdhbWUuXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGNvbmZpZyAtIEFycmF5IHdpdGggcmVzb3VyY2VzIGtleSBhbmQgc291cmNlIHBhdGguXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uQ29tcGxldGUgLSBDb21wbGV0ZSBtZXRob2Qgd2hpY2ggcnVucyBhZnRlciBsb2FkaW5nIGlzIGZpbmlzaGVkLlxyXG4gKi9cclxuU2xvdC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKGNvbmZpZywgb25Db21wbGV0ZSkge1xyXG4gICAgY29uZmlnLmZvckVhY2goZnVuY3Rpb24ocmVzb3VyY2UpIHtcclxuICAgICAgICBpZiAocmVzb3VyY2UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQocmVzb3VyY2VbMF0sIHJlc291cmNlWzFdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKHJlc291cmNlLmtleSwgcmVzb3VyY2UudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgUElYSS5Mb2FkZXIuc2hhcmVkLmxvYWQob25Db21wbGV0ZSk7XHJcbn07XHJcbi8qKlxyXG4gKiBUaGUgbWFpbiBwbGF5IG1ldGhvZCB1c2VkIHRvIHN0YXJ0IG9yIHN0b3AgdGhlIHJlZWxzLlxyXG4gKi9cclxuU2xvdC5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLndhaXRGb3JSZXN1bHQpIHtcclxuICAgICAgICBpZiAoIXRoaXMucmVlbHMucm9sbGluZykge1xyXG4gICAgICAgICAgICB0aGlzLnJlZWxzLnN0YXJ0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZWVscy5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucmVlbHMucm9sbGluZykge1xyXG4gICAgICAgIHRoaXMuZm9yY2VTdG9wUGVuZGluZyA9IHRydWU7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBUaGUgcmVzdWx0IG1ldGhvZCBpcyB1c2VkIHRvIHNldCBhIHJlc3VsdCBhbmQgc3RvcCB0aGUgcmVlbHMuXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHJlc3VsdCAtIFRoZSBhcnJheSBjb250YWluaW5nIHRoZSByZXN1bHQgZm9yIGVhY2ggcmVlbC5cclxuICovXHJcblNsb3QucHJvdG90eXBlLnJlc3VsdCA9IGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgdGhpcy5yZWVscy5yZWVscy5mb3JFYWNoKGZ1bmN0aW9uKHJlZWwsIHJlZWxJbmRleCkge1xyXG4gICAgICAgIHJlZWwuc3RvcFZhbHVlcyA9IHJlc3VsdFtyZWVsSW5kZXhdO1xyXG4gICAgfSk7XHJcbiAgICBpZiAodGhpcy5mb3JjZVN0b3BQZW5kaW5nKSB7XHJcbiAgICAgICAgdGhpcy5yZWVscy5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5mb3JjZVN0b3BQZW5kaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB0aGlzLndhaXRGb3JSZXN1bHQgPSBmYWxzZTtcclxufTtcclxuLyoqXHJcbiAqIFRoZSBtZXRob2QgdG8gYXR0YWNoIGV2ZW50IGhhbmRsZXJzIG9uIGdhbWUuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGV2ZW50IGNhbGxiYWNrLlxyXG4gKi9cclxuU2xvdC5wcm90b3R5cGUub24gPSBmdW5jdGlvbihldmVudE5hbWUsIGZuKSB7XHJcbiAgICBpZiAoZXZlbnROYW1lIGluIHRoaXMuZXZlbnRzKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnROYW1lXS5wdXNoKGZuKTtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIFRoZSBtZXRob2QgdG8gYWRkIGEgc3ByaXRlIGluIHRoZSBnYW1lLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzb3VyY2VLZXkgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UsIHdoaWNoIG11c3QgaGF2ZSBiZWVuIHNldCBvbiBsb2FkaW5nJ3MgY29uZmlndXJhdGlvbi5cclxuICovXHJcblNsb3QucHJvdG90eXBlLnNwcml0ZSA9IGZ1bmN0aW9uKHJlc291cmNlS2V5KSB7XHJcbiAgICB2YXIgc3ByaXRlID0gbmV3IFNsb3QuU3ByaXRlKHJlc291cmNlS2V5LCB0aGlzLmVuZ2luZSk7XHJcbiAgICByZXR1cm4gc3ByaXRlO1xyXG59O1xyXG4vKipcclxuICogRGVzY3JpYmVzIGdhbWUgYWN0aW9ucy4gQ2FuIGJlIGF0dGFjaGVkIHRvIHNwcml0ZXMuXHJcbiAqIEBleGFtcGxlXHJcbiAqIGxldCBidXR0b25QbGF5ID0gZ2FtZS5zcHJpdGUoJ2J0bi1wbGF5Jyk7XHJcbiAqIGJ1dHRvblBsYXkuYWN0aW9uID0gU2xvdC5BQ1RJT04uUExBWTtcclxuICovXHJcblNsb3QuQUNUSU9OID0ge1xyXG4gICAgTk9fQUNUSU9OOiAwLFxyXG4gICAgUExBWTogMSxcclxufTsiLCJTbG90LkdhbWUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gIFBJWEkudXRpbHMuc2tpcEhlbGxvKCk7XHJcbiAgdGhpcy5yZW5kZXJlciA9IG5ldyBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcih7XHJcbiAgICB3aWR0aDogODAwLFxyXG4gICAgaGVpZ2h0OiA2MDAsXHJcbiAgICB0cmFuc3BhcmVudDogZmFsc2UsXHJcbiAgfSk7XHJcbiAgdGhpcy5zdGFnZSA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xyXG5cclxuICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICBQSVhJLlRpY2tlci5zaGFyZWQuYWRkKGZ1bmN0aW9uKCkge1xyXG4gICAgX3RoaXMucmVuZGVyZXIucmVuZGVyKF90aGlzLnN0YWdlKTtcclxuICB9LCBQSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUwpO1xyXG59OyIsIlNsb3QuUmVlbHNDb250cm9sbGVyID0gZnVuY3Rpb24oZ2FtZSkge1xyXG4gICAgdGhpcy5yZWVscyA9IFtdO1xyXG4gICAgdGhpcy5lbmdpbmUgPSBnYW1lLmVuZ2luZTtcclxuICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICB0aGlzLnggPSAwO1xyXG4gICAgdGhpcy55ID0gMDtcclxuICAgIHRoaXMuZXZlbnRzID0ge1xyXG4gICAgICAgIG9uU3RhcnQ6IFtdLFxyXG4gICAgICAgIG9uU3RvcDogW10sXHJcbiAgICB9O1xyXG4gICAgdGhpcy5yb2xsaW5nID0gZmFsc2U7XHJcblxyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBmdW5jdGlvbiByZXNpemVBbmRQb3NpdGlvbigpIHtcclxuICAgICAgICBfdGhpcy5yZWVscy5mb3JFYWNoKGZ1bmN0aW9uKHJlZWwsIHJlZWxJbmRleCkge1xyXG4gICAgICAgICAgICByZWVsLmNvbnRhaW5lci54ID0gKHJlZWwueCAqIGdhbWUuZW5naW5lLnJlbmRlcmVyLnZpZXcud2lkdGgpIC8gZ2FtZS5lbmdpbmUud2lkdGg7XHJcbiAgICAgICAgICAgIHJlZWwuY29udGFpbmVyLnkgPSAocmVlbC55ICogZ2FtZS5lbmdpbmUucmVuZGVyZXIudmlldy5oZWlnaHQpIC8gZ2FtZS5lbmdpbmUuaGVpZ2h0O1xyXG4gICAgICAgICAgICByZWVsLnN5bWJvbHMuZm9yRWFjaChmdW5jdGlvbihzeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgIHN5bWJvbC5zY2FsZS54ID0gZ2FtZS5lbmdpbmUucmVuZGVyZXIudmlldy53aWR0aCAvIGdhbWUuZW5naW5lLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgc3ltYm9sLnNjYWxlLnkgPSBnYW1lLmVuZ2luZS5yZW5kZXJlci52aWV3LmhlaWdodCAvIGdhbWUuZW5naW5lLmhlaWdodDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXNpemVBbmRQb3NpdGlvbigpO1xyXG5cclxuICAgIHZhciByb2xsaW5nVGltZSA9IDA7XHJcblxyXG4gICAgUElYSS5UaWNrZXIuc2hhcmVkLmFkZChmdW5jdGlvbihkZWx0YSkge1xyXG4gICAgICAgIHZhciBhY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBfdGhpcy5yZWVscy5mb3JFYWNoKGZ1bmN0aW9uKHJlZWwsIHJlZWxJbmRleCkge1xyXG4gICAgICAgICAgICByZXNpemVBbmRQb3NpdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgcmVlbC5yZW5kZXIoZ2FtZS5zZXR0aW5ncy5zcGVlZCwgZ2FtZS5zZXR0aW5ncy5yZWVsQm91bmNlRHVyYXRpb24sIHJlZWxJbmRleCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZWwuc3ltYm9scy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN5bWJvbCA9IHJlZWwuc3ltYm9sc1tpXTtcclxuICAgICAgICAgICAgICAgIHN5bWJvbC55ID0gKHN5bWJvbC5oZWlnaHQgKiAoaSAtIDEpKSArICgwICsgcmVlbC5vZmZzZXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlZWwudmFsdWVzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdzeW1ib2wtJyArIHJlZWwudmFsdWVzW2ldIGluIFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sLnRleHR1cmUgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzWydzeW1ib2wtJyArIHJlZWwudmFsdWVzW2ldXS50ZXh0dXJlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbC50ZXh0dXJlID0gUElYSS5UZXh0dXJlLkVNUFRZO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sLnRleHR1cmUgPSBQSVhJLlRleHR1cmUuRU1QVFk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBtID0gcmVlbC5tYXNrO1xyXG4gICAgICAgICAgICBtLnggPSByZWVsLmNvbnRhaW5lci54O1xyXG4gICAgICAgICAgICBtLnkgPSByZWVsLmNvbnRhaW5lci55O1xyXG4gICAgICAgICAgICBtLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIG0uYmVnaW5GaWxsKDB4MDAwMDAwKTtcclxuICAgICAgICAgICAgbS5kcmF3UmVjdCgwLCAwLCByZWVsLnN5bWJvbHNbMF0ud2lkdGgsIHJlZWwuc3ltYm9sc1swXS5oZWlnaHQgKiByZWVsLnBvc2l0aW9ucyk7XHJcbiAgICAgICAgICAgIG0uZW5kRmlsbCgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBsMSA9IHJlZWwucGxheUxpbmUxO1xyXG4gICAgICAgICAgICBwbDEueCA9IHJlZWwuY29udGFpbmVyLng7XHJcbiAgICAgICAgICAgIHBsMS55ID0gcmVlbC5jb250YWluZXIueTtcclxuICAgICAgICAgICAgdmFyIGJvcmRlcldpZHRoID0gMztcclxuICAgICAgICAgICAgdmFyIGJvcmRlckNvbG9yID0gMHhGRkZGRjtcclxuICAgICAgICAgICAgcGwxLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHBsMS5saW5lU3R5bGUoYm9yZGVyV2lkdGgsIGJvcmRlckNvbG9yKTtcclxuICAgICAgICAgICAgcGwxLmRyYXdSZWN0KDAsIHJlZWwuc3ltYm9sc1swXS5oZWlnaHQsIHJlZWwuc3ltYm9sc1swXS53aWR0aCwgcmVlbC5zeW1ib2xzWzFdLmhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICBhY3RpdmUgPSByZWVsLnJvbGxpbmcgPT0gdHJ1ZSB8fCAhaXNOYU4ocGFyc2VJbnQocmVlbC5zdG9wcGluZykpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlZWxTdG9wVGltZSA9IGdhbWUuc2V0dGluZ3Muc3BpblRpbWUgKyAocmVlbEluZGV4ICogZ2FtZS5zZXR0aW5ncy5zcGluVGltZUJldHdlZW5SZWVscyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocm9sbGluZ1RpbWUgPiByZWVsU3RvcFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWVsLnN0b3AoKTsgLy8gRklYTUU6IGRvbid0IGNhbGwgc3RvcCBtdWx0aXBsZSB0aW1lcyAuLi4gdGltZWUgY2FsYyBoZXJlIG9uIGJhc2UgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFfdGhpcy5yb2xsaW5nICYmIGFjdGl2ZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5yb2xsaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgX3RoaXMuZXZlbnRzLm9uU3RhcnQuZm9yRWFjaChmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5yb2xsaW5nICYmICFhY3RpdmUpIHtcclxuICAgICAgICAgICAgX3RoaXMucm9sbGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICByb2xsaW5nVGltZSA9IDA7XHJcbiAgICAgICAgICAgIF90aGlzLmV2ZW50cy5vblN0b3AuZm9yRWFjaChmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYWN0aXZlICYmICFnYW1lLndhaXRGb3JSZXN1bHQpIHtcclxuICAgICAgICAgICAgcm9sbGluZ1RpbWUgKz0gZGVsdGEgKiAxNi42Njc7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgUElYSS5VUERBVEVfUFJJT1JJVFkuSElHSCk7XHJcbn07XHJcblxyXG5TbG90LlJlZWxzQ29udHJvbGxlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24ocG9zaXRpb25zLCBzeW1ib2xDb3VudCwgc3ltYm9sV2lkdGgsIHN5bWJvbEhlaWdodCkge1xyXG4gICAgLy8gY29uc3QgYmFzZVN0eWxlID0gbmV3IFBJWEkuVGV4dFN0eWxlKHtcclxuICAgIC8vICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxyXG4gICAgLy8gICAgIGZvbnRTaXplOiAzMixcclxuICAgIC8vICAgICBmb250U3R5bGU6ICdpdGFsaWMnLFxyXG4gICAgLy8gICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgIC8vICAgICBmaWxsOiBbJyNmZmZmZmYnLCAnIzAwZmY5OSddLCAvLyBncmFkaWVudFxyXG4gICAgLy8gICAgIHN0cm9rZTogJyM0YTE4NTAnLFxyXG4gICAgLy8gICAgIHN0cm9rZVRoaWNrbmVzczogNSxcclxuICAgIC8vICAgICBkcm9wU2hhZG93OiB0cnVlLFxyXG4gICAgLy8gICAgIGRyb3BTaGFkb3dDb2xvcjogJyNGRkQ3MDAnLFxyXG4gICAgLy8gICAgIGRyb3BTaGFkb3dCbHVyOiA0LFxyXG4gICAgLy8gICAgIGRyb3BTaGFkb3dBbmdsZTogTWF0aC5QSSAvIDMsXHJcbiAgICAvLyAgICAgZHJvcFNoYWRvd0Rpc3RhbmNlOiA2LFxyXG4gICAgLy8gICAgIHdvcmRXcmFwOiB0cnVlLFxyXG4gICAgLy8gICAgIHdvcmRXcmFwV2lkdGg6IDQ0MCxcclxuICAgIC8vICAgICBsaW5lSm9pbjogJ3JvdW5kJyxcclxuICAgIC8vIH0pO1xyXG5cclxuICAgIC8vIGNvbnN0IGxhYmVsU3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCBiYXNlU3R5bGUsIHsgZHJvcFNoYWRvd0NvbG9yOiBcIiNGRkQ3MDBcIiB9KTtcclxuICAgIC8vIGNvbnN0IHZhbHVlU3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCBiYXNlU3R5bGUsIHsgZHJvcFNoYWRvd0NvbG9yOiBcIiNDNEI0NTRcIiB9KTtcclxuXHJcbiAgICAvLyBjb25zdCBiYWxMYWJlbCA9IG5ldyBQSVhJLlRleHQoJ0JhbGFuY2UgOicsIGxhYmVsU3R5bGUpO1xyXG4gICAgLy8gYmFsTGFiZWwueCA9IDE1MDtcclxuICAgIC8vIGJhbExhYmVsLnkgPSAxNTA7XHJcblxyXG4gICAgLy8gY29uc3QgYmFsYW5jZSA9IG5ldyBQSVhJLlRleHQoJ1IgOTk5Ljk5JywgdmFsdWVTdHlsZSk7XHJcbiAgICAvLyBiYWxhbmNlLnggPSAzMjA7XHJcbiAgICAvLyBiYWxhbmNlLnkgPSAxNTA7XHJcblxyXG4gICAgLy8gY29uc3QgYmV0TGFiZWwgPSBuZXcgUElYSS5UZXh0KCdCZXQgOicsIGxhYmVsU3R5bGUpO1xyXG4gICAgLy8gYmV0TGFiZWwueCA9IDE1MDtcclxuICAgIC8vIGJldExhYmVsLnkgPSAyMDA7XHJcblxyXG4gICAgLy8gY29uc3QgYmV0VmFsdWUgPSBuZXcgUElYSS5UZXh0KCdSIDEuMDAnLCB2YWx1ZVN0eWxlKTtcclxuICAgIC8vIGJldFZhbHVlLnggPSAzMjA7XHJcbiAgICAvLyBiZXRWYWx1ZS55ID0gMjAwO1xyXG5cclxuICAgIHZhciByZWVsID0gbmV3IFNsb3QuUmVlbChwb3NpdGlvbnMsIHN5bWJvbENvdW50LCBzeW1ib2xXaWR0aCwgc3ltYm9sSGVpZ2h0KTtcclxuICAgIHRoaXMuZW5naW5lLnN0YWdlLmFkZENoaWxkKHJlZWwuY29udGFpbmVyKTtcclxuICAgIHRoaXMuZW5naW5lLnN0YWdlLmFkZENoaWxkKHJlZWwubWFzayk7XHJcbiAgICB0aGlzLmVuZ2luZS5zdGFnZS5hZGRDaGlsZChyZWVsLnBsYXlMaW5lMSk7XHJcbiAgICAvLyB0aGlzLmVuZ2luZS5zdGFnZS5hZGRDaGlsZChiYWxMYWJlbCk7IC8vIG11bHRpcGxlIGFkZCwgcmVzaXppbmdcclxuICAgIC8vIHRoaXMuZW5naW5lLnN0YWdlLmFkZENoaWxkKGJhbGFuY2UpO1xyXG4gICAgLy8gdGhpcy5lbmdpbmUuc3RhZ2UuYWRkQ2hpbGQoYmV0TGFiZWwpO1xyXG4gICAgLy8gdGhpcy5lbmdpbmUuc3RhZ2UuYWRkQ2hpbGQoYmV0VmFsdWUpO1xyXG4gICAgdGhpcy5yZWVscy5wdXNoKHJlZWwpO1xyXG4gICAgcmV0dXJuIHJlZWw7XHJcbn07XHJcblxyXG5TbG90LlJlZWxzQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgIHJldHVybiB0aGlzLnJlZWxzW2luZGV4XTtcclxufTtcclxuXHJcblNsb3QuUmVlbHNDb250cm9sbGVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5yZWVscy5mb3JFYWNoKGZ1bmN0aW9uKHJlZWwpIHtcclxuICAgICAgICByZWVsLnJvbGwoKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuU2xvdC5SZWVsc0NvbnRyb2xsZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMucmVlbHMuZm9yRWFjaChmdW5jdGlvbihyZWVsKSB7XHJcbiAgICAgICAgcmVlbC5zdG9wKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblNsb3QuUmVlbHNDb250cm9sbGVyLnByb3RvdHlwZS5vblN0YXJ0ID0gZnVuY3Rpb24oZm4pIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uU3RhcnQucHVzaChmbik7XHJcbn07XHJcblxyXG5TbG90LlJlZWxzQ29udHJvbGxlci5wcm90b3R5cGUub25TdG9wID0gZnVuY3Rpb24oZm4pIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uU3RvcC5wdXNoKGZuKTtcclxufTsiLCJTbG90LlRleHRDb250cm9sbGVyID0gZnVuY3Rpb24oZ2FtZSkge1xyXG4gICAgdGhpcy50ZXh0cyA9IFtdO1xyXG4gICAgdGhpcy5lbmdpbmUgPSBnYW1lLmVuZ2luZTtcclxuICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICB0aGlzLnggPSAwO1xyXG4gICAgdGhpcy55ID0gMDtcclxuXHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2l6ZUFuZFBvc2l0aW9uVGV4dCgpIHtcclxuICAgICAgICBfdGhpcy50ZXh0cy5mb3JFYWNoKGZ1bmN0aW9uKHRleHQsIHRleHRJbmRleCkge1xyXG4gICAgICAgICAgICB0ZXh0LmNvbnRhaW5lci54ID0gKHRleHQueCAqIGdhbWUuZW5naW5lLnJlbmRlcmVyLnZpZXcud2lkdGgpIC8gZ2FtZS5lbmdpbmUud2lkdGg7XHJcbiAgICAgICAgICAgIHRleHQuY29udGFpbmVyLnkgPSAodGV4dC55ICogZ2FtZS5lbmdpbmUucmVuZGVyZXIudmlldy5oZWlnaHQpIC8gZ2FtZS5lbmdpbmUuaGVpZ2h0O1xyXG4gICAgICAgICAgICB0ZXh0LnN5bWJvbHMuZm9yRWFjaChmdW5jdGlvbihzeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgIHN5bWJvbC5zY2FsZS54ID0gZ2FtZS5lbmdpbmUucmVuZGVyZXIudmlldy53aWR0aCAvIGdhbWUuZW5naW5lLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgc3ltYm9sLnNjYWxlLnkgPSBnYW1lLmVuZ2luZS5yZW5kZXJlci52aWV3LmhlaWdodCAvIGdhbWUuZW5naW5lLmhlaWdodDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXNpemVBbmRQb3NpdGlvblRleHQoKTtcclxuXHJcbiAgICBfdGhpcy50ZXh0cy5mb3JFYWNoKGZ1bmN0aW9uKHRleHQsIHRleHRJbmRleCkge1xyXG4gICAgICAgIHJlc2l6ZUFuZFBvc2l0aW9uVGV4dCgpO1xyXG4gICAgICAgIHRleHQucmVuZGVyKHRleHRJbmRleCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblNsb3QuVGV4dENvbnRyb2xsZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHgsIHksIGxhYmVsVGV4dCwgdmFsdWVUZXh0KSB7XHJcbiAgICBjb25zdCBiYXNlU3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe1xyXG4gICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgIGZvbnRTdHlsZTogJ2l0YWxpYycsXHJcbiAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgICAgIGZpbGw6IFsnI2ZmZmZmZicsICcjMDBmZjk5J10sIC8vIGdyYWRpZW50XHJcbiAgICAgICAgc3Ryb2tlOiAnIzRhMTg1MCcsXHJcbiAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1LFxyXG4gICAgICAgIGRyb3BTaGFkb3c6IHRydWUsXHJcbiAgICAgICAgZHJvcFNoYWRvd0NvbG9yOiAnI0ZGRDcwMCcsXHJcbiAgICAgICAgZHJvcFNoYWRvd0JsdXI6IDQsXHJcbiAgICAgICAgZHJvcFNoYWRvd0FuZ2xlOiBNYXRoLlBJIC8gMyxcclxuICAgICAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDYsXHJcbiAgICAgICAgd29yZFdyYXA6IHRydWUsXHJcbiAgICAgICAgd29yZFdyYXBXaWR0aDogNDQwLFxyXG4gICAgICAgIGxpbmVKb2luOiAncm91bmQnLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbGFiZWxTdHlsZSA9IE9iamVjdC5hc3NpZ24oe30sIGJhc2VTdHlsZSwgeyBkcm9wU2hhZG93Q29sb3I6IFwiI0ZGRDcwMFwiIH0pO1xyXG4gICAgY29uc3QgdmFsdWVTdHlsZSA9IE9iamVjdC5hc3NpZ24oe30sIGJhc2VTdHlsZSwgeyBkcm9wU2hhZG93Q29sb3I6IFwiI0M0QjQ1NFwiIH0pO1xyXG5cclxuICAgIGNvbnN0IGJhbExhYmVsID0gbmV3IFBJWEkuVGV4dChsYWJlbFRleHQsIGxhYmVsU3R5bGUpO1xyXG4gICAgYmFsTGFiZWwueCA9IHg7XHJcbiAgICBiYWxMYWJlbC55ID0geTtcclxuXHJcbiAgICBjb25zdCBiYWxhbmNlID0gbmV3IFBJWEkuVGV4dCh2YWx1ZVRleHQsIHZhbHVlU3R5bGUpO1xyXG4gICAgYmFsYW5jZS54ID0geCArIDE3MDtcclxuICAgIGJhbGFuY2UueSA9IHk7XHJcblxyXG4gICAgLy8gY29uc3QgYmV0TGFiZWwgPSBuZXcgUElYSS5UZXh0KCdCZXQgOicsIGxhYmVsU3R5bGUpO1xyXG4gICAgLy8gYmV0TGFiZWwueCA9IDE1MDtcclxuICAgIC8vIGJldExhYmVsLnkgPSAyMDA7XHJcblxyXG4gICAgLy8gY29uc3QgYmV0VmFsdWUgPSBuZXcgUElYSS5UZXh0KCdSIDEuMDAnLCB2YWx1ZVN0eWxlKTtcclxuICAgIC8vIGJldFZhbHVlLnggPSAzMjA7XHJcbiAgICAvLyBiZXRWYWx1ZS55ID0gMjAwO1xyXG5cclxuICAgIHZhciB0ZXh0ID0gbmV3IFNsb3QuVGV4dCgpO1xyXG4gICAgdGhpcy5lbmdpbmUuc3RhZ2UuYWRkQ2hpbGQoYmFsTGFiZWwpO1xyXG4gICAgdGhpcy5lbmdpbmUuc3RhZ2UuYWRkQ2hpbGQoYmFsYW5jZSk7XHJcbiAgICAvLyB0aGlzLmVuZ2luZS5zdGFnZS5hZGRDaGlsZChiZXRMYWJlbCk7XHJcbiAgICAvLyB0aGlzLmVuZ2luZS5zdGFnZS5hZGRDaGlsZChiZXRWYWx1ZSk7XHJcbiAgICB0aGlzLnRleHRzLnB1c2godGV4dCk7XHJcbiAgICByZXR1cm4gdGV4dDtcclxufTsiLCIvKipcclxuICogUmVwcmVzZW50cyBhIHJlZWwgaW4gdGhlIGdhbWUuXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb25zIC0gTnVtYmVyIG9mIHJlZWwgcG9zaXRpb25zLlxyXG4gKi9cclxuU2xvdC5SZWVsID0gZnVuY3Rpb24ocG9zaXRpb25zKSB7XHJcbiAgICB0aGlzLnBvc2l0aW9ucyA9IHBvc2l0aW9ucztcclxuICAgIHRoaXMudmFsdWVzID0gW107XHJcbiAgICB0aGlzLnNwaW5WYWx1ZXMgPSBbXTtcclxuICAgIHRoaXMuc3RvcFZhbHVlcyA9IFtdO1xyXG4gICAgdGhpcy5zeW1ib2xzID0gW107XHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xyXG4gICAgdGhpcy5tYXNrID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcclxuICAgIHRoaXMucGxheUxpbmUxID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcclxuICAgIHRoaXMub2Zmc2V0ID0gMDtcclxuICAgIHRoaXMucm9sbGluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5zdG9wcGluZyA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuY29udGFpbmVyLm1hc2sgPSB0aGlzLm1hc2s7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5wbGF5TGluZTEgPSB0aGlzLnBsYXlMaW5lMTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvc2l0aW9ucyArIDE7IGkrKykge1xyXG4gICAgICAgIHZhciBzeW1ib2wgPSBuZXcgUElYSS5TcHJpdGUoUElYSS5UZXh0dXJlLkVNUFRZKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZChzeW1ib2wpO1xyXG4gICAgICAgIHRoaXMuc3ltYm9scy5wdXNoKHN5bWJvbCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5TbG90LlJlZWwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKHNwZWVkLCBib3VuY2VEdXJhdGlvbiwgcmVlbEluZGV4KSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGlmICh0aGlzLnJvbGxpbmcpIHtcclxuICAgICAgICB0aGlzLm9mZnNldCArPSB0aGlzLnN5bWJvbHNbMF0uaGVpZ2h0ICogc3BlZWQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9mZnNldCA+PSB0aGlzLnN5bWJvbHNbMF0uaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZUludCh0aGlzLnN0b3BwaW5nKSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zdG9wVmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0b3AgdmFsdWVzIGhhdmUgYmVlbiBzZXQgZm9yIHJlZWw6ICcgKyByZWVsSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXMudW5zaGlmdCh0aGlzLnN0b3BWYWx1ZXMucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wcGluZysrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXMudW5zaGlmdCh0aGlzLnNwaW5WYWx1ZXMucG9wKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWVzLnNwbGljZSgtMSwgMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zdG9wcGluZyA9PSB0aGlzLnBvc2l0aW9ucyArIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5yb2xsaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcHBpbmcrKztcclxuICAgICAgICAgICAgdmFyIG8gPSB7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IF90aGlzLnN5bWJvbHNbMF0uaGVpZ2h0ICogc3BlZWQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gby5vZmZzZXQ7XHJcbiAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6IG8sXHJcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXHJcbiAgICAgICAgICAgICAgICByb3VuZDogMSxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBib3VuY2VEdXJhdGlvbixcclxuICAgICAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCcsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9mZnNldCA9IG8ub2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdG9wcGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogU3RhcnRzIHJlZWwgc3Bpbm5pbmcuXHJcbiAqL1xyXG5TbG90LlJlZWwucHJvdG90eXBlLnJvbGwgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICghdGhpcy5yb2xsaW5nICYmIHRoaXMuc3RvcHBpbmcgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5yb2xsaW5nID0gdHJ1ZTtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIFN0b3BzIHJlZWwgZnJvbSBzcGlubmluZy5cclxuICovXHJcblNsb3QuUmVlbC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMucm9sbGluZyAmJiB0aGlzLnN0b3BwaW5nID09PSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMuc3RvcHBpbmcgPSAwO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gU2xvdC5SZWVsLnByb3RvdHlwZS5yZWN0YW5nbGUgPSBmdW5jdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0LCBiYWNrZ3JvdW5kQ29sb3IsIGJvcmRlckNvbG9yLCBib3JkZXJXaWR0aCApIFxyXG4vLyB7ICB2YXIgYm94ID0gbmV3IFBJWEkuR3JhcGhpY3MoKTsgXHJcbi8vICAgYm94LmJlZ2luRmlsbChiYWNrZ3JvdW5kQ29sb3IpO1xyXG4vLyAgICBib3gubGluZVN0eWxlKGJvcmRlcldpZHRoICwgYm9yZGVyQ29sb3IpO1xyXG4vLyAgICAgYm94LmRyYXdSZWN0KDAsIDAsIHdpZHRoIC0gYm9yZGVyV2lkdGgsIGhlaWdodCAtIGJvcmRlcldpZHRoKTsgYm94LmVuZEZpbGwoKTsgYm94LnBvc2l0aW9uLnggPSB4ICsgYm9yZGVyV2lkdGgvMjsgYm94LnBvc2l0aW9uLnkgPSB5ICsgYm9yZGVyV2lkdGgvMjsgXHJcbi8vICAgICByZXR1cm4gYm94O1xyXG4vLyAgIH07Ly8gY3JlYXRlIGEgMTAweDEwMCB3aGl0ZSByZWN0YW5nbGUgd2l0aCBhIDEwcHggYmxhY2sgYm9yZGVyIGF0IHBvc2l0aW9uIDEwLzEwc3RhZ2UuYWRkQ2hpbGQocmVjdGFuZ2xlKDEwLCAxMCwgMTAwLCAxMDAsIDB4RkZGRkZGLCAweDAwMDAwMCwgMTApKTsiLCIvKipcclxuICogUmVwcmVzZW50cyBhIHJlZWwgaW4gdGhlIGdhbWUuXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb25zIC0gTnVtYmVyIG9mIHJlZWwgcG9zaXRpb25zLlxyXG4gKi9cclxuXHJcblNsb3QuVGV4dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gdGhpcy5wb3NpdGlvbnMgPSBwb3NpdGlvbnM7XHJcbiAgICB0aGlzLnZhbHVlcyA9IFtdO1xyXG4gICAgdGhpcy5zeW1ib2xzID0gW107XHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xyXG5cclxuICAgIGNvbnN0IGJhc2VTdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7XHJcbiAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgZm9udFN0eWxlOiAnaXRhbGljJyxcclxuICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICAgICAgZmlsbDogWycjZmZmZmZmJywgJyMwMGZmOTknXSwgLy8gZ3JhZGllbnRcclxuICAgICAgICBzdHJva2U6ICcjNGExODUwJyxcclxuICAgICAgICBzdHJva2VUaGlja25lc3M6IDUsXHJcbiAgICAgICAgZHJvcFNoYWRvdzogdHJ1ZSxcclxuICAgICAgICBkcm9wU2hhZG93Q29sb3I6ICcjRkZENzAwJyxcclxuICAgICAgICBkcm9wU2hhZG93Qmx1cjogNCxcclxuICAgICAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyAzLFxyXG4gICAgICAgIGRyb3BTaGFkb3dEaXN0YW5jZTogNixcclxuICAgICAgICB3b3JkV3JhcDogdHJ1ZSxcclxuICAgICAgICB3b3JkV3JhcFdpZHRoOiA0NDAsXHJcbiAgICAgICAgbGluZUpvaW46ICdyb3VuZCcsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGxhYmVsU3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCBiYXNlU3R5bGUsIHsgZHJvcFNoYWRvd0NvbG9yOiBcIiNGRkQ3MDBcIiB9KTtcclxuICAgIGNvbnN0IHZhbHVlU3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCBiYXNlU3R5bGUsIHsgZHJvcFNoYWRvd0NvbG9yOiBcIiNDNEI0NTRcIiB9KTtcclxuICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zaXRpb25zICsgMTsgaSsrKSB7XHJcbiAgICAvLyAgICAgLy8gdmFyIHN5bWJvbCA9IG5ldyBQSVhJLlNwcml0ZShQSVhJLlRleHR1cmUuRU1QVFkpO1xyXG4gICAgLy8gICAgIHZhciBzeW1ib2wgPSBuZXcgUElYSS5UZXh0KCcnLCBsYWJlbFN0eWxlKTtcclxuICAgIC8vICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZChzeW1ib2wpO1xyXG4gICAgLy8gICAgIHRoaXMuc3ltYm9scy5wdXNoKHN5bWJvbCk7XHJcbiAgICAvLyB9XHJcbn07XHJcblxyXG5TbG90LlRleHQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKHRleHRJbmRleCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbn07IiwiU2xvdC5TcHJpdGUgPSBmdW5jdGlvbihyZXNvdXJjZUtleSwgZW5naW5lKSB7XHJcbiAgdGhpcy5pbnN0YW5jZSA9IG5ldyBQSVhJLlNwcml0ZShQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW3Jlc291cmNlS2V5XS50ZXh0dXJlKTtcclxuICB0aGlzLnggPSAwO1xyXG4gIHRoaXMueSA9IDA7XHJcbiAgXHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xyXG4gICAgYWN0aW9uOiB7XHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLmludGVyYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5vZmYoJ3BvaW50ZXJkb3duJyk7XHJcbiAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xyXG4gICAgICAgICAgY2FzZSBTbG90LkFDVElPTi5QTEFZOlxyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLmludGVyYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5vbigncG9pbnRlcmRvd24nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBlbmdpbmUuZ2FtZS5wbGF5KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHZpc2libGU6IHtcclxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UudmlzaWJsZSA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlLnZpc2libGU7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gIGZ1bmN0aW9uIHJlc2l6ZUFuZFBvc2l0aW9uKCkge1xyXG4gICAgdmFyIHBpeGlTcHJpdGUgPSBfdGhpcy5pbnN0YW5jZTtcclxuICAgIHBpeGlTcHJpdGUuc2NhbGUueCA9IGVuZ2luZS5yZW5kZXJlci52aWV3LndpZHRoIC8gZW5naW5lLndpZHRoO1xyXG4gICAgcGl4aVNwcml0ZS5zY2FsZS55ID0gZW5naW5lLnJlbmRlcmVyLnZpZXcuaGVpZ2h0IC8gZW5naW5lLmhlaWdodDtcclxuICAgIHBpeGlTcHJpdGUueCA9IChfdGhpcy54ICogZW5naW5lLnJlbmRlcmVyLnZpZXcud2lkdGgpIC8gZW5naW5lLndpZHRoO1xyXG4gICAgcGl4aVNwcml0ZS55ID0gKF90aGlzLnkgKiBlbmdpbmUucmVuZGVyZXIudmlldy5oZWlnaHQpIC8gZW5naW5lLmhlaWdodDtcclxuICB9XHJcbiAgcmVzaXplQW5kUG9zaXRpb24oKTtcclxuICBQSVhJLlRpY2tlci5zaGFyZWQuYWRkKGZ1bmN0aW9uKCkge1xyXG4gICAgcmVzaXplQW5kUG9zaXRpb24oKTtcclxuICB9LCBQSVhJLlVQREFURV9QUklPUklUWS5ISUdIKTtcclxuXHJcbiAgZW5naW5lLnN0YWdlLmFkZENoaWxkKHRoaXMuaW5zdGFuY2UpO1xyXG59OyJdfQ==