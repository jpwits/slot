/*!
 * pixi.js - v5.1.2
 * Compiled Sat, 24 Aug 2019 01:06:18 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var PIXI=function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var r=i(function(t,i){!function(t){var e=t.Promise,r=e&&"resolve"in e&&"reject"in e&&"all"in e&&"race"in e&&function(){var t;return new e(function(e){t=e}),"function"==typeof t}();i?(i.Promise=r?e:w,i.Polyfill=w):r||(t.Promise=w);var n="pending",o="sealed",s="fulfilled",a="rejected",h=function(){};function u(t){return"[object Array]"===Object.prototype.toString.call(t)}var l,c="undefined"!=typeof setImmediate?setImmediate:setTimeout,d=[];function p(){for(var t=0;t<d.length;t++)d[t][0](d[t][1]);d=[],l=!1}function f(t,e){d.push([t,e]),l||(l=!0,c(p,0))}function v(t){var e=t.owner,i=e.state_,r=e.data_,n=t[i],o=t.then;if("function"==typeof n){i=s;try{r=n(r)}catch(t){_(o,t)}}g(o,r)||(i===s&&m(o,r),i===a&&_(o,r))}function g(t,e){var i;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,function(r){i||(i=!0,e!==r?m(t,r):y(t,r))},function(e){i||(i=!0,_(t,e))}),!0}}catch(e){return i||_(t,e),!0}return!1}function m(t,e){t!==e&&g(t,e)||y(t,e)}function y(t,e){t.state_===n&&(t.state_=o,t.data_=e,f(b,t))}function _(t,e){t.state_===n&&(t.state_=o,t.data_=e,f(T,t))}function x(t){var e=t.then_;t.then_=void 0;for(var i=0;i<e.length;i++)v(e[i])}function b(t){t.state_=s,x(t)}function T(t){t.state_=a,x(t)}function w(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof w==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function i(t){_(e,t)}try{t(function(t){m(e,t)},i)}catch(t){i(t)}}(t,this)}w.prototype={constructor:w,state_:n,then_:null,data_:void 0,then:function(t,e){var i={owner:this,then:new this.constructor(h),fulfilled:t,rejected:e};return this.state_===s||this.state_===a?f(v,i):this.then_.push(i),i.then},catch:function(t){return this.then(null,t)}},w.all=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.all().");return new this(function(e,i){var r=[],n=0;function o(t){return n++,function(i){r[t]=i,--n||e(r)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),i):r[a]=s;n||e(r)})},w.race=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.race().");return new this(function(e,i){for(var r,n=0;n<t.length;n++)(r=t[n])&&"function"==typeof r.then?r.then(e,i):e(r)})},w.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)})},w.reject=function(t){return new this(function(e,i){i(t)})}}("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:e)}),n=(r.Promise,r.Polyfill),o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;var h=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,r,n=arguments,h=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in i=Object(n[u]))s.call(i,l)&&(h[l]=i[l]);if(o){r=o(i);for(var c=0;c<r.length;c++)a.call(i,r[c])&&(h[r[c]]=i[r[c]])}}return h};window.Promise||(window.Promise=n),Object.assign||(Object.assign=h);var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!u.performance||!u.performance.now){var l=Date.now();u.performance||(u.performance={}),u.performance.now=function(){return Date.now()-l}}for(var c=Date.now(),d=["ms","moz","webkit","o"],p=0;p<d.length&&!u.requestAnimationFrame;++p){var f=d[p];u.requestAnimationFrame=u[f+"RequestAnimationFrame"],u.cancelAnimationFrame=u[f+"CancelAnimationFrame"]||u[f+"CancelRequestAnimationFrame"]}u.requestAnimationFrame||(u.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+c-e;return i<0&&(i=0),c=e,setTimeout(function(){c=Date.now(),t(performance.now())},i)}),u.cancelAnimationFrame||(u.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var v=i(function(t){!function(e){var i=/iPhone/i,r=/iPod/i,n=/iPad/i,o=/\bAndroid(?:.+)Mobile\b/i,s=/Android/i,a=/\bAndroid(?:.+)SD4930UR\b/i,h=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,u=/Windows Phone/i,l=/\bWindows(?:.+)ARM\b/i,c=/BlackBerry/i,d=/BB10/i,p=/Opera Mini/i,f=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/Mobile(?:.+)Firefox\b/i;function g(t,e){return t.test(e)}function m(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),m=e.split("[FBAN");void 0!==m[1]&&(e=m[0]),void 0!==(m=e.split("Twitter"))[1]&&(e=m[0]);var y={apple:{phone:g(i,e)&&!g(u,e),ipod:g(r,e),tablet:!g(i,e)&&g(n,e)&&!g(u,e),device:(g(i,e)||g(r,e)||g(n,e))&&!g(u,e)},amazon:{phone:g(a,e),tablet:!g(a,e)&&g(h,e),device:g(a,e)||g(h,e)},android:{phone:!g(u,e)&&g(a,e)||!g(u,e)&&g(o,e),tablet:!g(u,e)&&!g(a,e)&&!g(o,e)&&(g(h,e)||g(s,e)),device:!g(u,e)&&(g(a,e)||g(h,e)||g(o,e)||g(s,e))||g(/\bokhttp\b/i,e)},windows:{phone:g(u,e),tablet:g(l,e),device:g(u,e)||g(l,e)},other:{blackberry:g(c,e),blackberry10:g(d,e),opera:g(p,e),firefox:g(v,e),chrome:g(f,e),device:g(c,e)||g(d,e)||g(p,e)||g(v,e)||g(f,e)}};return y.any=y.apple.device||y.android.device||y.windows.device||y.other.device,y.phone=y.apple.phone||y.android.phone||y.windows.phone,y.tablet=y.apple.tablet||y.android.tablet||y.windows.tablet,y}t.exports&&"undefined"==typeof window?t.exports=m:t.exports&&"undefined"!=typeof window?(t.exports=m(),t.exports.isMobile=m):e.isMobile=m()}(e)});v.isMobile;var g={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(v.tablet||v.phone){if(e=!1,v.apple.device){var i=navigator.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)>=11&&(e=!0)}if(v.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)>=7&&(e=!0)}}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:v.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!v.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},m=i(function(t){var e=Object.prototype.hasOwnProperty,i="~";function r(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new n(r,o||t,s),h=i?i+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,r,n=[];if(0===this._eventsCount)return n;for(r in t=this._events)e.call(t,r)&&n.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,s=new Array(o);n<o;n++)s[n]=r[n].fn;return s},a.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,n,o,s){var a=arguments,h=i?i+t:t;if(!this._events[h])return!1;var u,l,c=this._events[h],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,n),!0;case 5:return c.fn.call(c.context,e,r,n,o),!0;case 6:return c.fn.call(c.context,e,r,n,o,s),!0}for(l=1,u=new Array(d-1);l<d;l++)u[l-1]=a[l];c.fn.apply(c.context,u)}else{var p,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,n);break;default:if(!u)for(p=1,u=new Array(d-1);p<d;p++)u[p-1]=a[p];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,i){return o(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return o(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,r,n){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||s(this,o);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||n&&!a[h].once||r&&a[h].context!==r)&&u.push(a[h]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a}),y=x,_=x;function x(t,e,i){i=i||2;var r,n,o,s,a,h,u,l=e&&e.length,c=l?e[0]*i:t.length,d=b(t,0,c,i,!0),p=[];if(!d||d.next===d.prev)return p;if(l&&(d=function(t,e,i,r){var n,o,s,a,h,u=[];for(n=0,o=e.length;n<o;n++)s=e[n]*r,a=n<o-1?e[n+1]*r:t.length,(h=b(t,s,a,r,!1))===h.next&&(h.steiner=!0),u.push(M(h));for(u.sort(A),n=0;n<u.length;n++)O(u[n],i),i=T(i,i.next);return i}(t,e,d,i)),t.length>80*i){r=o=t[0],n=s=t[1];for(var f=i;f<c;f+=i)(a=t[f])<r&&(r=a),(h=t[f+1])<n&&(n=h),a>o&&(o=a),h>s&&(s=h);u=0!==(u=Math.max(o-r,s-n))?1/u:0}return w(d,p,i,r,n,u),p}function b(t,e,i,r,n){var o,s;if(n===G(t,e,i,r)>0)for(o=e;o<i;o+=r)s=k(o,t[o],t[o+1],s);else for(o=i-r;o>=e;o-=r)s=k(o,t[o],t[o+1],s);return s&&L(s,s.next)&&(X(s),s=s.next),s}function T(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!L(r,r.next)&&0!==F(r.prev,r,r.next))r=r.next;else{if(X(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function w(t,e,i,r,n,o,s){if(t){!s&&o&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=C(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,o,s,a,h,u=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,r=i,a=0,e=0;e<u&&(a++,r=r.nextZ);e++);for(h=u;a>0||h>0&&r;)0!==a&&(0===h||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=r}o.nextZ=null,u*=2}while(s>1)}(n)}(t,r,n,o);for(var a,h,u=t;t.prev!==t.next;)if(a=t.prev,h=t.next,o?S(t,r,n,o):E(t))e.push(a.i/i),e.push(t.i/i),e.push(h.i/i),X(t),t=h.next,u=h.next;else if((t=h)===u){s?1===s?w(t=I(t,e,i),e,i,r,n,o,2):2===s&&P(t,e,i,r,n,o):w(T(t),e,i,r,n,o,1);break}}}function E(t){var e=t.prev,i=t,r=t.next;if(F(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(D(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&F(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function S(t,e,i,r){var n=t.prev,o=t,s=t.next;if(F(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=C(a,h,e,i,r),d=C(u,l,e,i,r),p=t.prevZ,f=t.nextZ;p&&p.z>=c&&f&&f.z<=d;){if(p!==t.prev&&p!==t.next&&D(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&F(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&D(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&F(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&D(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&F(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=d;){if(f!==t.prev&&f!==t.next&&D(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&F(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function I(t,e,i){var r=t;do{var n=r.prev,o=r.next.next;!L(n,o)&&N(n,r,r.next,o)&&B(n,o)&&B(o,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(o.i/i),X(r),X(r.next),r=t=o),r=r.next}while(r!==t);return r}function P(t,e,i,r,n,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&R(s,a)){var h=U(s,a);return s=T(s,s.next),h=T(h,h.next),w(s,e,i,r,n,o),void w(h,e,i,r,n,o)}a=a.next}s=s.next}while(s!==t)}function A(t,e){return t.x-e.x}function O(t,e){if(e=function(t,e){var i,r=e,n=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s){if(s=a,a===n){if(o===r.y)return r;if(o===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===s)return i.prev;var h,u=i,l=i.x,c=i.y,d=1/0;r=i.next;for(;r!==u;)n>=r.x&&r.x>=l&&n!==r.x&&D(o<c?n:s,o,l,c,o<c?s:n,o,r.x,r.y)&&((h=Math.abs(o-r.y)/(n-r.x))<d||h===d&&r.x>i.x)&&B(r,t)&&(i=r,d=h),r=r.next;return i}(t,e)){var i=U(e,t);T(i,i.next)}}function C(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function M(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function D(t,e,i,r,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(i-s)*(e-a)>=0&&(i-s)*(o-a)-(n-s)*(r-a)>=0}function R(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&N(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&B(t,e)&&B(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function F(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function L(t,e){return t.x===e.x&&t.y===e.y}function N(t,e,i,r){return!!(L(t,e)&&L(i,r)||L(t,r)&&L(i,e))||F(t,e,i)>0!=F(t,e,r)>0&&F(i,r,t)>0!=F(i,r,e)>0}function B(t,e){return F(t.prev,t,t.next)<0?F(t,e,t.next)>=0&&F(t,t.prev,e)>=0:F(t,e,t.prev)<0||F(t,t.next,e)<0}function U(t,e){var i=new j(t.i,t.x,t.y),r=new j(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,o.next=r,r.prev=o,r}function k(t,e,i,r){var n=new j(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function X(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function j(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function G(t,e,i,r){for(var n=0,o=e,s=i-r;o<i;o+=r)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}x.deviation=function(t,e,i,r){var n=e&&e.length,o=n?e[0]*i:t.length,s=Math.abs(G(t,0,o,i));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*i,l=a<h-1?e[a+1]*i:t.length;s-=Math.abs(G(t,u,l,i))}var c=0;for(a=0;a<r.length;a+=3){var d=r[a]*i,p=r[a+1]*i,f=r[a+2]*i;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},x.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[n][o][s]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i},y.default=_;var H=i(function(t,i){!function(r){var n=i&&!i.nodeType&&i,o=t&&!t.nodeType&&t,s="object"==typeof e&&e;s.global!==s&&s.window!==s&&s.self!==s||(r=s);var a,h,u=2147483647,l=36,c=1,d=26,p=38,f=700,v=72,g=128,m="-",y=/^xn--/,_=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=l-c,w=Math.floor,E=String.fromCharCode;function S(t){throw RangeError(b[t])}function I(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function P(t,e){var i=t.split("@"),r="";return i.length>1&&(r=i[0]+"@",t=i[1]),r+I((t=t.replace(x,".")).split("."),e).join(".")}function A(t){for(var e,i,r=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function O(t){return I(t,function(t){var e="";return t>65535&&(e+=E((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=E(t)}).join("")}function C(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function M(t,e,i){var r=0;for(t=i?w(t/f):t>>1,t+=w(t/e);t>T*d>>1;r+=l)t=w(t/T);return w(r+(T+1)*t/(t+p))}function D(t){var e,i,r,n,o,s,a,h,p,f,y,_=[],x=t.length,b=0,T=g,E=v;for((i=t.lastIndexOf(m))<0&&(i=0),r=0;r<i;++r)t.charCodeAt(r)>=128&&S("not-basic"),_.push(t.charCodeAt(r));for(n=i>0?i+1:0;n<x;){for(o=b,s=1,a=l;n>=x&&S("invalid-input"),((h=(y=t.charCodeAt(n++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:l)>=l||h>w((u-b)/s))&&S("overflow"),b+=h*s,!(h<(p=a<=E?c:a>=E+d?d:a-E));a+=l)s>w(u/(f=l-p))&&S("overflow"),s*=f;E=M(b-o,e=_.length+1,0==o),w(b/e)>u-T&&S("overflow"),T+=w(b/e),b%=e,_.splice(b++,0,T)}return O(_)}function R(t){var e,i,r,n,o,s,a,h,p,f,y,_,x,b,T,I=[];for(_=(t=A(t)).length,e=g,i=0,o=v,s=0;s<_;++s)(y=t[s])<128&&I.push(E(y));for(r=n=I.length,n&&I.push(m);r<_;){for(a=u,s=0;s<_;++s)(y=t[s])>=e&&y<a&&(a=y);for(a-e>w((u-i)/(x=r+1))&&S("overflow"),i+=(a-e)*x,e=a,s=0;s<_;++s)if((y=t[s])<e&&++i>u&&S("overflow"),y==e){for(h=i,p=l;!(h<(f=p<=o?c:p>=o+d?d:p-o));p+=l)T=h-f,b=l-f,I.push(E(C(f+T%b,0))),h=w(T/b);I.push(E(C(h,0))),o=M(i,x,r==n),i=0,++r}++i,++e}return I.join("")}if(a={version:"1.3.2",ucs2:{decode:A,encode:O},decode:D,encode:R,toASCII:function(t){return P(t,function(t){return _.test(t)?"xn--"+R(t):t})},toUnicode:function(t){return P(t,function(t){return y.test(t)?D(t.slice(4).toLowerCase()):t})}},n&&o)if(t.exports==n)o.exports=a;else for(h in a)a.hasOwnProperty(h)&&(n[h]=a[h]);else r.punycode=a}(e)}),z={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}};z.isString,z.isObject,z.isNull,z.isNullOrUndefined;function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Y=function(t,e,i,r){e=e||"&",i=i||"=";var n={};if("string"!=typeof t||0===t.length)return n;var o=/\+/g;t=t.split(e);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var h=0;h<a;++h){var u,l,c,d,p=t[h].replace(o,"%20"),f=p.indexOf(i);f>=0?(u=p.substr(0,f),l=p.substr(f+1)):(u=p,l=""),c=decodeURIComponent(u),d=decodeURIComponent(l),V(n,c)?Array.isArray(n[c])?n[c].push(d):n[c]=[n[c],d]:n[c]=d}return n},W=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},q=function(t,e,i,r){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(r){var n=encodeURIComponent(W(r))+i;return Array.isArray(t[r])?t[r].map(function(t){return n+encodeURIComponent(W(t))}).join(e):n+encodeURIComponent(W(t[r]))}).join(e):r?encodeURIComponent(W(r))+i+encodeURIComponent(W(t)):""},Z=i(function(t,e){e.decode=e.parse=Y,e.encode=e.stringify=q}),K=(Z.decode,Z.parse,Z.encode,Z.stringify,ft),J=function(t,e){return ft(t,!1,!0).resolve(e)},Q=function(t,e){if(!t)return e;return ft(t,!1,!0).resolveObject(e)},$=function(t){z.isString(t)&&(t=ft(t));if(!(t instanceof et))return et.prototype.format.call(t);return t.format()},tt=et;function et(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var it=/^([a-z0-9.+-]+:)/i,rt=/:[0-9]*$/,nt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ot=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),st=["'"].concat(ot),at=["%","/","?",";","#"].concat(st),ht=["/","?","#"],ut=/^[+a-z0-9A-Z_-]{0,63}$/,lt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ct={javascript:!0,"javascript:":!0},dt={javascript:!0,"javascript:":!0},pt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ft(t,e,i){if(t&&z.isObject(t)&&t instanceof et)return t;var r=new et;return r.parse(t,e,i),r}et.prototype.parse=function(t,e,i){if(!z.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),n=-1!==r&&r<t.indexOf("#")?"?":"#",o=t.split(n);o[0]=o[0].replace(/\\/g,"/");var s=t=o.join(n);if(s=s.trim(),!i&&1===t.split("#").length){var a=nt.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?Z.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=it.exec(s);if(h){var u=(h=h[0]).toLowerCase();this.protocol=u,s=s.substr(h.length)}if(i||h||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===s.substr(0,2);!l||h&&dt[h]||(s=s.substr(2),this.slashes=!0)}if(!dt[h]&&(l||h&&!pt[h])){for(var c,d,p=-1,f=0;f<ht.length;f++){-1!==(v=s.indexOf(ht[f]))&&(-1===p||v<p)&&(p=v)}-1!==(d=-1===p?s.lastIndexOf("@"):s.lastIndexOf("@",p))&&(c=s.slice(0,d),s=s.slice(d+1),this.auth=decodeURIComponent(c)),p=-1;for(f=0;f<at.length;f++){var v;-1!==(v=s.indexOf(at[f]))&&(-1===p||v<p)&&(p=v)}-1===p&&(p=s.length),this.host=s.slice(0,p),s=s.slice(p),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var m=this.hostname.split(/\./),y=(f=0,m.length);f<y;f++){var _=m[f];if(_&&!_.match(ut)){for(var x="",b=0,T=_.length;b<T;b++)_.charCodeAt(b)>127?x+="x":x+=_[b];if(!x.match(ut)){var w=m.slice(0,f),E=m.slice(f+1),S=_.match(lt);S&&(w.push(S[1]),E.unshift(S[2])),E.length&&(s="/"+E.join(".")+s),this.hostname=w.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=H.toASCII(this.hostname));var I=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+I,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!ct[u])for(f=0,y=st.length;f<y;f++){var A=st[f];if(-1!==s.indexOf(A)){var O=encodeURIComponent(A);O===A&&(O=escape(A)),s=s.split(A).join(O)}}var C=s.indexOf("#");-1!==C&&(this.hash=s.substr(C),s=s.slice(0,C));var M=s.indexOf("?");if(-1!==M?(this.search=s.substr(M),this.query=s.substr(M+1),e&&(this.query=Z.parse(this.query)),s=s.slice(0,M)):e&&(this.search="",this.query={}),s&&(this.pathname=s),pt[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){I=this.pathname||"";var D=this.search||"";this.path=I+D}return this.href=this.format(),this},et.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&z.isObject(this.query)&&Object.keys(this.query).length&&(o=Z.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||pt[e])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n||(n=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+n+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},et.prototype.resolve=function(t){return this.resolveObject(ft(t,!1,!0)).format()},et.prototype.resolveObject=function(t){if(z.isString(t)){var e=new et;e.parse(t,!1,!0),t=e}for(var i=new et,r=Object.keys(this),n=0;n<r.length;n++){var o=r[n];i[o]=this[o]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var h=s[a];"protocol"!==h&&(i[h]=t[h])}return pt[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!pt[t.protocol]){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];i[c]=t[c]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||dt[t.protocol])i.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),i.pathname=d.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var p=i.pathname||"",f=i.search||"";i.path=p+f}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var v=i.pathname&&"/"===i.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),m=g||v||i.host&&t.pathname,y=m,_=i.pathname&&i.pathname.split("/")||[],x=(d=t.pathname&&t.pathname.split("/")||[],i.protocol&&!pt[i.protocol]);if(x&&(i.hostname="",i.port=null,i.host&&(""===_[0]?_[0]=i.host:_.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),m=m&&(""===d[0]||""===_[0])),g)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,_=d;else if(d.length)_||(_=[]),_.pop(),_=_.concat(d),i.search=t.search,i.query=t.query;else if(!z.isNullOrUndefined(t.search)){if(x)i.hostname=i.host=_.shift(),(S=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=S.shift(),i.host=i.hostname=S.shift());return i.search=t.search,i.query=t.query,z.isNull(i.pathname)&&z.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!_.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var b=_.slice(-1)[0],T=(i.host||t.host||_.length>1)&&("."===b||".."===b)||""===b,w=0,E=_.length;E>=0;E--)"."===(b=_[E])?_.splice(E,1):".."===b?(_.splice(E,1),w++):w&&(_.splice(E,1),w--);if(!m&&!y)for(;w--;w)_.unshift("..");!m||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),T&&"/"!==_.join("/").substr(-1)&&_.push("");var S,I=""===_[0]||_[0]&&"/"===_[0].charAt(0);x&&(i.hostname=i.host=I?"":_.length?_.shift():"",(S=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=S.shift(),i.host=i.hostname=S.shift()));return(m=m||i.host&&_.length)&&!I&&_.unshift(""),_.length?i.pathname=_.join("/"):(i.pathname=null,i.path=null),z.isNull(i.pathname)&&z.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},et.prototype.parseHost=function(){var t=this.host,e=rt.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var vt={parse:K,resolve:J,resolveObject:Q,format:$,Url:tt},gt={WEBGL_LEGACY:0,WEBGL:1,WEBGL2:2},mt={UNKNOWN:0,WEBGL:1,CANVAS:2},yt={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19,NONE:20,SRC_OVER:0,SRC_IN:21,SRC_OUT:22,SRC_ATOP:23,DST_OVER:24,DST_IN:25,DST_OUT:26,DST_ATOP:27,ERASE:26,SUBTRACT:28},_t={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},xt={RGBA:6408,RGB:6407,ALPHA:6406,LUMINANCE:6409,LUMINANCE_ALPHA:6410,DEPTH_COMPONENT:6402,DEPTH_STENCIL:34041},bt={TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_2D_ARRAY:35866,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074},Tt={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,FLOAT:5126,HALF_FLOAT:36193},wt={LINEAR:1,NEAREST:0},Et={CLAMP:33071,REPEAT:10497,MIRRORED_REPEAT:33648},St={OFF:0,POW2:1,ON:2},It={AUTO:0,MANUAL:1},Pt={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};g.RETINA_PREFIX=/@([0-9\.]+)x/,g.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var At,Ot=!1,Ct="5.1.2";function Mt(t){if(!Ot){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+Ct+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+Ct+" - "+t+" - http://www.pixijs.com/");Ot=!0}}function Dt(){return void 0===At&&(At=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:g.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var n=i.getExtension("WEBGL_lose_context");n&&n.loseContext()}return i=null,r}catch(t){return!1}}()),At}function Rt(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Ft(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function Lt(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}var Nt=function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[yt.NORMAL_NPM]=yt.NORMAL,t[yt.ADD_NPM]=yt.ADD,t[yt.SCREEN_NPM]=yt.SCREEN,e[yt.NORMAL]=yt.NORMAL_NPM,e[yt.ADD]=yt.ADD_NPM,e[yt.SCREEN]=yt.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function Bt(t,e){return Nt[e?1:0][t]}function Ut(t,e,i,r){return i=i||new Float32Array(4),r||void 0===r?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i}function kt(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,r=t>>8&255,n=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(n=n*e+.5|0)}function Xt(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(r||void 0===r)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i}function jt(t,e){void 0===e&&(e=null);var i=6*t;if((e=e||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+i);for(var r=0,n=0;r<i;r+=6,n+=4)e[r+0]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3;return e}function Gt(t,e,i){var r,n=t.length;if(!(e>=n||0===i)){var o=n-(i=e+i>n?n-e:i);for(r=e;r<o;++r)t[r]=t[r+i];t.length=o}}var Ht=0;function zt(){return++Ht}function Vt(t){return 0===t?0:t<0?-1:1}function Yt(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function Wt(t){return!(t&t-1||!t)}function qt(t){var e=(t>65535)<<4,i=((t>>>=e)>255)<<3;return e|=i,e|=i=((t>>>=i)>15)<<2,(e|=i=((t>>>=i)>3)<<1)|(t>>>=i)>>1}var Zt={},Kt=Object.create(null),Jt=Object.create(null);function Qt(t){var e,i,r,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(i=e/4%n,r=~~(e/4/n),null===u.top&&(u.top=r),null===u.left?u.left=i:i<u.left&&(u.left=i),null===u.right?u.right=i+1:u.right<i&&(u.right=i+1),null===u.bottom?u.bottom=r:u.bottom<r&&(u.bottom=r));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}var $t=function(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||g.RESOLUTION,this.resize(t,e)},te={width:{configurable:!0},height:{configurable:!0}};$t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},$t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},$t.prototype.destroy=function(){this.context=null,this.canvas=null},te.width.get=function(){return this.canvas.width},te.width.set=function(t){this.canvas.width=t},te.height.get=function(){return this.canvas.height},te.height.set=function(t){this.canvas.height=t},Object.defineProperties($t.prototype,te);var ee,ie=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function re(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,ee||(ee=document.createElement("a")),ee.href=t;var i=!(t=vt.parse(ee.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&i&&t.protocol===e.protocol?"":"anonymous"}function ne(t,e){var i=g.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}var oe={};function se(t,e,i){if(void 0===i&&(i=3),!oe[e]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),oe[e]=!0}}var ae={BaseTextureCache:Jt,CanvasRenderTarget:$t,DATA_URI:ie,ProgramCache:Zt,TextureCache:Kt,clearTextureCache:function(){var t;for(t in Kt)delete Kt[t];for(t in Jt)delete Jt[t]},correctBlendMode:Bt,createIndicesForQuads:jt,decomposeDataUri:function(t){var e=ie.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}},deprecation:se,destroyTextureCache:function(){var t;for(t in Kt)Kt[t].destroy();for(t in Jt)Jt[t].destroy()},determineCrossOrigin:re,getResolutionOfUrl:ne,hex2rgb:Rt,hex2string:Ft,isPow2:Wt,isWebGLSupported:Dt,log2:qt,nextPow2:Yt,premultiplyBlendMode:Nt,premultiplyRgba:Ut,premultiplyTint:kt,premultiplyTintToRgba:Xt,removeItems:Gt,rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},sayHello:Mt,sign:Vt,skipHello:function(){Ot=!0},string2hex:Lt,trimCanvas:Qt,uid:zt,isMobile:v,EventEmitter:m,earcut:y,url:vt},he=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e};he.prototype.clone=function(){return new he(this.x,this.y)},he.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},he.prototype.copyTo=function(t){return t.set(this.x,this.y),t},he.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},he.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)};var ue=function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e},le={x:{configurable:!0},y:{configurable:!0}};ue.prototype.clone=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=t||this.cb,r=e||this.scope;return new ue(i,r,this._x,this._y)},ue.prototype.set=function(t,e){var i=t||0,r=e||(0!==e?i:0);this._x===i&&this._y===r||(this._x=i,this._y=r,this.cb.call(this.scope))},ue.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},ue.prototype.copyTo=function(t){return t.set(this._x,this._y),t},ue.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},le.x.get=function(){return this._x},le.x.set=function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},le.y.get=function(){return this._y},le.y.set=function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},Object.defineProperties(ue.prototype,le);var ce=2*Math.PI,de=180/Math.PI,pe=Math.PI/180,fe={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},ve=function(t,e,i,r,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=0),this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this.array=null},ge={IDENTITY:{configurable:!0},TEMP_MATRIX:{configurable:!0}};ve.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},ve.prototype.set=function(t,e,i,r,n,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this},ve.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},ve.prototype.apply=function(t,e){e=e||new he;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},ve.prototype.applyInverse=function(t,e){e=e||new he;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,n=t.y;return e.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},ve.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},ve.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},ve.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},ve.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},ve.prototype.setTransform=function(t,e,i,r,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},ve.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},ve.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,o=-Math.atan2(-r,n),s=Math.atan2(i,e),a=Math.abs(o+s);return a<1e-5||Math.abs(ce-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx,t.position.y=this.ty,t},ve.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,o=t*r-e*i;return this.a=r/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-r*n)/o,this.ty=-(t*this.ty-e*n)/o,this},ve.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},ve.prototype.clone=function(){var t=new ve;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},ve.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},ve.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},ge.IDENTITY.get=function(){return new ve},ge.TEMP_MATRIX.get=function(){return new ve},Object.defineProperties(ve,ge);var me=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ye=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],_e=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],xe=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],be=[],Te=[],we=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];be.push(e);for(var i=0;i<16;i++)for(var r=we(me[t]*me[i]+_e[t]*ye[i]),n=we(ye[t]*me[i]+xe[t]*ye[i]),o=we(me[t]*_e[i]+_e[t]*xe[i]),s=we(ye[t]*_e[i]+xe[t]*xe[i]),a=0;a<16;a++)if(me[a]===r&&ye[a]===n&&_e[a]===o&&xe[a]===s){e.push(a);break}}for(var h=0;h<16;h++){var u=new ve;u.set(me[h],ye[h],_e[h],xe[h],0,0),Te.push(u)}}();var Ee={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return me[t]},uY:function(t){return ye[t]},vX:function(t){return _e[t]},vY:function(t){return xe[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return be[t][e]},sub:function(t,e){return be[t][Ee.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Ee.S:Ee.N:2*Math.abs(e)<=Math.abs(t)?t>0?Ee.E:Ee.W:e>0?t>0?Ee.SE:Ee.SW:t>0?Ee.NE:Ee.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=Te[Ee.inv(e)];n.tx=i,n.ty=r,t.append(n)}},Se=function(){this.worldTransform=new ve,this.localTransform=new ve,this.position=new ue(this.onChange,this,0,0),this.scale=new ue(this.onChange,this,1,1),this.pivot=new ue(this.onChange,this,0,0),this.skew=new ue(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0},Ie={rotation:{configurable:!0}};Se.prototype.onChange=function(){this._localID++},Se.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},Se.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},Se.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},Se.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Ie.rotation.get=function(){return this._rotation},Ie.rotation.set=function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},Object.defineProperties(Se.prototype,Ie),Se.IDENTITY=new Se;var Pe=function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=fe.RECT},Ae={left:{configurable:!0},right:{configurable:!0},top:{configurable:!0},bottom:{configurable:!0}},Oe={EMPTY:{configurable:!0}};Ae.left.get=function(){return this.x},Ae.right.get=function(){return this.x+this.width},Ae.top.get=function(){return this.y},Ae.bottom.get=function(){return this.y+this.height},Oe.EMPTY.get=function(){return new Pe(0,0,0,0)},Pe.prototype.clone=function(){return new Pe(this.x,this.y,this.width,this.height)},Pe.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},Pe.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},Pe.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},Pe.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},Pe.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(n-r,0)},Pe.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y},Pe.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=i-e,this.y=r,this.height=n-r},Object.defineProperties(Pe.prototype,Ae),Object.defineProperties(Pe,Oe);var Ce=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=fe.CIRC};Ce.prototype.clone=function(){return new Ce(this.x,this.y,this.radius)},Ce.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,r=this.x-t,n=this.y-e;return(r*=r)+(n*=n)<=i},Ce.prototype.getBounds=function(){return new Pe(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};var Me=function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=fe.ELIP};Me.prototype.clone=function(){return new Me(this.x,this.y,this.width,this.height)},Me.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},Me.prototype.getBounds=function(){return new Pe(this.x-this.width,this.y-this.height,this.width,this.height)};var De=function(){for(var t=arguments,e=[],i=arguments.length;i--;)e[i]=t[i];if(Array.isArray(e[0])&&(e=e[0]),e[0]instanceof he){for(var r=[],n=0,o=e.length;n<o;n++)r.push(e[n].x,e[n].y);e=r}this.points=e,this.type=fe.POLY,this.closeStroke=!0};De.prototype.clone=function(){var t=new De(this.points.slice());return t.closeStroke=this.closeStroke,t},De.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,o=r-1;n<r;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(i=!i)}return i};var Re=function(t,e,i,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=n,this.type=fe.RREC};Re.prototype.clone=function(){return new Re(this.x,this.y,this.width,this.height,this.radius)},Re.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),r=e-(this.y+this.radius),n=this.radius*this.radius;if(i*i+r*r<=n)return!0;if((i=t-(this.x+this.width-this.radius))*i+r*r<=n)return!0;if(i*i+(r=e-(this.y+this.height-this.radius))*r<=n)return!0;if((i=t-(this.x+this.radius))*i+r*r<=n)return!0}return!1},g.SORTABLE_CHILDREN=!1;var Fe=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Fe.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Fe.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Fe.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Pe.EMPTY:((t=t||new Pe(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Fe.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Fe.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,i=s<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[2])<e?o:e,i=(s=t[3])<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[4])<e?o:e,i=(s=t[5])<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[6])<e?o:e,i=(s=t[7])<i?s:i,r=o>r?o:r,n=s>n?s:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},Fe.prototype.addFrame=function(t,e,i,r,n){var o=t.worldTransform,s=o.a,a=o.b,h=o.c,u=o.d,l=o.tx,c=o.ty,d=this.minX,p=this.minY,f=this.maxX,v=this.maxY,g=s*e+h*i+l,m=a*e+u*i+c;d=g<d?g:d,p=m<p?m:p,f=g>f?g:f,v=m>v?m:v,d=(g=s*r+h*i+l)<d?g:d,p=(m=a*r+u*i+c)<p?m:p,f=g>f?g:f,v=m>v?m:v,d=(g=s*e+h*n+l)<d?g:d,p=(m=a*e+u*n+c)<p?m:p,f=g>f?g:f,v=m>v?m:v,d=(g=s*r+h*n+l)<d?g:d,p=(m=a*r+u*n+c)<p?m:p,f=g>f?g:f,v=m>v?m:v,this.minX=d,this.minY=p,this.maxX=f,this.maxY=v},Fe.prototype.addVertexData=function(t,e,i){for(var r=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<i;a+=2){var h=t[a],u=t[a+1];r=h<r?h:r,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=r,this.minY=n,this.maxX=o,this.maxY=s},Fe.prototype.addVertices=function(t,e,i,r){for(var n=t.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,v=i;v<r;v+=2){var g=e[v],m=e[v+1],y=o*g+a*m+u,_=h*m+s*g+l;c=y<c?y:c,d=_<d?_:d,p=y>p?y:p,f=_>f?_:f}this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},Fe.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},Fe.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=n&&r<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},Fe.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=n&&r<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}};var Le=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new Se,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Fe,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return e.mixin=function(t){for(var i=Object.keys(t),r=0;r<i.length;++r){var n=i[r];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},i._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Pe),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new Pe),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=i,this.transform=e,r},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,r,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},i.x.get=function(){return this.position.x},i.x.set=function(t){this.transform.position.x=t},i.y.get=function(){return this.position.y},i.y.set=function(t){this.transform.position.y=t},i.worldTransform.get=function(){return this.transform.worldTransform},i.localTransform.get=function(){return this.transform.localTransform},i.position.get=function(){return this.transform.position},i.position.set=function(t){this.transform.position.copyFrom(t)},i.scale.get=function(){return this.transform.scale},i.scale.set=function(t){this.transform.scale.copyFrom(t)},i.pivot.get=function(){return this.transform.pivot},i.pivot.set=function(t){this.transform.pivot.copyFrom(t)},i.skew.get=function(){return this.transform.skew},i.skew.set=function(t){this.transform.skew.copyFrom(t)},i.rotation.get=function(){return this.transform.rotation},i.rotation.set=function(t){this.transform.rotation=t},i.angle.get=function(){return this.transform.rotation*de},i.angle.set=function(t){this.transform.rotation=t*pe},i.zIndex.get=function(){return this._zIndex},i.zIndex.set=function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},i.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},i.mask.get=function(){return this._mask},i.mask.set=function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)},Object.defineProperties(e.prototype,i),e}(m);function Ne(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Le.prototype.displayObjectUpdateTransform=Le.prototype.updateTransform;var Be=function(t){function e(){t.call(this),this.children=[],this.sortableChildren=g.SORTABLE_CHILDREN,this.sortDirty=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0}};return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var r=0;r<i;r++)this.addChild(e[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);Gt(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var r=0;r<i;r++)this.removeChild(e[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,Gt(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Gt(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0);var i,r=t,n="number"==typeof e?e:this.children.length,o=n-r;if(o>0&&o<=n){i=this.children.splice(r,o);for(var s=0;s<i.length;++s)i[s].parent=null,i[s].transform&&(i[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<i.length;++a)i[a].emit("removed",this),this.emit("childRemoved",i[a],this,a);return i}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Ne),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t);for(var n=0,o=this.children.length;n<o;n++)this.children[n].render(t);t.batch.flush(),i&&t.mask.pop(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var n=0;n<r.length;++n)r[n].destroy(e)},i.width.get=function(){return this.scale.x*this.getLocalBounds().width},i.width.set=function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},i.height.get=function(){return this.scale.y*this.getLocalBounds().height},i.height.set=function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},Object.defineProperties(e.prototype,i),e}(Le);Be.prototype.containerUpdateTransform=Be.prototype.updateTransform;var Ue={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};Le.mixin(Ue);var ke=function(t){this._hookDiv=null,(v.tablet||v.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};ke.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},ke.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},ke.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},ke.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},ke.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},ke.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,i=t.height/this.renderer.height,r=this.div;r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var o=this.children[n];if(o.renderId!==this.renderId)o._accessibleActive=!1,Gt(this.children,n,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{r=o._accessibleDiv;var s=o.hitArea,a=o.worldTransform;o.hitArea?(r.style.left=(a.tx+s.x*a.a)*e+"px",r.style.top=(a.ty+s.y*a.d)*i+"px",r.style.width=s.width*a.a*e+"px",r.style.height=s.height*a.d*i+"px"):(s=o.getBounds(),this.capHitArea(s),r.style.left=s.x*e+"px",r.style.top=s.y*i+"px",r.style.width=s.width*e+"px",r.style.height=s.height*i+"px",r.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(r.title=o.accessibleTitle),r.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&r.setAttribute("aria-label",o.accessibleHint))}}this.renderId++}},ke.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},ke.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},ke.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},ke.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},ke.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},ke.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},ke.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},ke.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};var Xe={AccessibilityManager:ke,accessibleTarget:Ue},je=function(t){this.items=[],this._name=t,this._aliasCount=0},Ge={empty:{configurable:!0},name:{configurable:!0}};je.prototype.emit=function(t,e,i,r,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this.name,u=this.items;this._aliasCount++;for(var l=0,c=u.length;l<c;l++)u[l][h](t,e,i,r,n,o,s,a);return u===this.items&&this._aliasCount--,this},je.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},je.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},je.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},je.prototype.contains=function(t){return-1!==this.items.indexOf(t)},je.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},je.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Ge.empty.get=function(){return 0===this.items.length},Ge.name.get=function(){return this._name},Object.defineProperties(je.prototype,Ge),je.prototype.dispatch=je.prototype.emit,je.prototype.run=je.prototype.emit,g.TARGET_FPMS=.06;var He={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50},ze=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.fn=t,this.context=e,this.priority=i,this.once=r,this.next=null,this.previous=null,this._destroyed=!1};ze.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},ze.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},ze.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},ze.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e};var Ve=function(){var t=this;this._head=new ze(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/g.TARGET_FPMS,this.elapsedMS=1/g.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}},Ye={FPS:{configurable:!0},minFPS:{configurable:!0},maxFPS:{configurable:!0}},We={shared:{configurable:!0},system:{configurable:!0}};Ve.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},Ve.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},Ve.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},Ve.prototype.add=function(t,e,i){return void 0===i&&(i=He.NORMAL),this._addListener(new ze(t,e,i))},Ve.prototype.addOnce=function(t,e,i){return void 0===i&&(i=He.NORMAL),this._addListener(new ze(t,e,i,!0))},Ve.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},Ve.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Ve.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},Ve.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},Ve.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},Ve.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*g.TARGET_FPMS;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Ye.FPS.get=function(){return 1e3/this.elapsedMS},Ye.minFPS.get=function(){return 1e3/this._maxElapsedMS},Ye.minFPS.set=function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,g.TARGET_FPMS);this._maxElapsedMS=1/i},Ye.maxFPS.get=function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},Ye.maxFPS.set=function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},We.shared.get=function(){if(!Ve._shared){var t=Ve._shared=new Ve;t.autoStart=!0,t._protected=!0}return Ve._shared},We.system.get=function(){if(!Ve._system){var t=Ve._system=new Ve;t.autoStart=!0,t._protected=!0}return Ve._system},Object.defineProperties(Ve.prototype,Ye),Object.defineProperties(Ve,We);var qe=function(){};qe.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,He.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Ve.shared:new Ve,t.autoStart&&this.start()},qe.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}};var Ze=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new je("setRealSize",2),this.onUpdate=new je("update"),this.onError=new je("onError",1)},Ke={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};Ze.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},Ze.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},Ze.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},Ke.valid.get=function(){return!!this._width&&!!this._height},Ze.prototype.update=function(){this.destroyed||this.onUpdate.run()},Ze.prototype.load=function(){return Promise.resolve()},Ke.width.get=function(){return this._width},Ke.height.get=function(){return this._height},Ze.prototype.upload=function(t,e,i){return!1},Ze.prototype.style=function(t,e,i){return!1},Ze.prototype.dispose=function(){},Ze.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Object.defineProperties(Ze.prototype,Ke);var Je=function(t){function e(e){var i=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;t.call(this,i,r),this.source=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=re(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,r){var n=t.gl,o=e.realWidth,s=e.realHeight;return r=r||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),e.target===n.TEXTURE_2D&&i.width===o&&i.height===s?n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,r):(i.width=o,i.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,r)),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source.naturalWidth||this.source.videoWidth||this.source.width,i=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(e,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Ze),Qe=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLImageElement)){var r=new Image;t.crossOrigin(r,e,i.crossorigin),r.src=e,e=r}t.call(this,e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==i.createBitmap?i.createBitmap:g.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.premultiplyAlpha=!1!==i.premultiplyAlpha,this.bitmap=null,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load?this._load:(this._load=new Promise(function(t){e.url=e.source.src;var i=e.source,r=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?r():(i.onload=r,i.onerror=function(t){return e.onError.run(t)})}),this._load)},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha?"premultiply":"none"}).then(function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))}),this._process):Promise.resolve(this)},e.prototype.upload=function(e,i,r){if(i.premultiplyAlpha=this.premultiplyAlpha,!this.createBitmap)return t.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var n=!0;for(var o in i._glTextures){var s=i._glTextures[o];if(s!==r&&s.dirtyId!==i.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(Je),$e=[];function ti(t,e){if(!t)return null;var i="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(i=r[1].toLowerCase())}for(var n=$e.length-1;n>=0;--n){var o=$e[n];if(o.test&&o.test(t,i))return new o(t,e)}return new Qe(t,e)}var ei=function(t){function e(e,i){var r=i||{},n=r.width,o=r.height;if(!n||!o)throw new Error("BufferResource width or height invalid");t.call(this,n,o),this.data=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,i.internalFormat,e.width,e.height,0,e.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(Ze),ii={scaleMode:wt.NEAREST,format:xt.RGBA,premultiplyAlpha:!1},ri=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null),t.call(this);var r=(i=i||{}).premultiplyAlpha,n=i.mipmap,o=i.anisotropicLevel,s=i.scaleMode,a=i.width,h=i.height,u=i.wrapMode,l=i.format,c=i.type,d=i.target,p=i.resolution,f=i.resourceOptions;!e||e instanceof Ze||((e=ti(e,f)).internal=!0),this.width=a||0,this.height=h||0,this.resolution=p||g.RESOLUTION,this.mipmap=void 0!==n?n:g.MIPMAP_TEXTURES,this.anisotropicLevel=void 0!==o?o:g.ANISOTROPIC_LEVEL,this.wrapMode=u||g.WRAP_MODE,this.scaleMode=void 0!==s?s:g.SCALE_MODE,this.format=l||xt.RGBA,this.type=c||Tt.UNSIGNED_BYTE,this.target=d||bt.TEXTURE_2D,this.premultiplyAlpha=!1!==r,this.uid=zt(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this.setResource(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={realWidth:{configurable:!0},realHeight:{configurable:!0}};return i.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},i.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Wt(this.realWidth)&&Wt(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Jt[this.cacheId],delete Kt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,i){var r=null;"string"==typeof t?r=t:(t._pixiId||(t._pixiId="pixiid_"+zt()),r=t._pixiId);var n=Jt[r];return n||((n=new e(t,i)).cacheId=r,e.addToCache(n,r)),n},e.fromBuffer=function(t,i,r,n){t=t||new Float32Array(i*r*4);var o=new ei(t,{width:i,height:r}),s=t instanceof Float32Array?Tt.FLOAT:Tt.UNSIGNED_BYTE;return new e(o,Object.assign(ii,n||{width:i,height:r,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Jt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),Jt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Jt[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete Jt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete Jt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,i),e}(m);ri._globalBatch=0;var ni=function(t){function e(e,i){var r;i=i||{};var n=e;Array.isArray(e)&&(r=e,n=e.length),t.call(this,i.width,i.height),this.items=[],this.itemDirtyIds=[];for(var o=0;o<n;o++){var s=new ri;this.items.push(s),this.itemDirtyIds.push(-1)}if(this.length=n,this._load=null,r)for(var a=0;a<n;a++)this.addResourceAt(ti(r[a],i),a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=bt.TEXTURE_2D_ARRAY;for(var i=0;i<this.length;i++)this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map(function(t){return t.resource}),i=e.map(function(t){return t.load()});return this._load=Promise.all(i).then(function(){var i=e[0],r=i.width,n=i.height;return t.resize(r,n),Promise.resolve(t)}),this._load},e.prototype.upload=function(t,e,i){var r=this.length,n=this.itemDirtyIds,o=this.items,s=t.gl;i.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,r,0,e.format,e.type,null);for(var a=0;a<r;a++){var h=o[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},e}(Ze),oi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(Je),si=function(t){function e(i,r){if(r=r||{},t.call(this,i,r),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var n=0;n<e.SIDES;n++)this.items[n].target=bt.TEXTURE_CUBE_MAP_POSITIVE_X+n;!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=bt.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,i,r){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(n[o]=s.dirtyId,s.valid&&s.resource.upload(t,s,r))}return!0},e}(ni);si.SIDES=6;var ai=function(t){function e(e,i){i=i||{},t.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=e,this.scale=i.scale||1,this._overrideWidth=i.width,this._overrideHeight=i.height,this._resolve=null,this._crossorigin=i.crossorigin,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise(function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var e=this,i=new Image;t.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(t){i.onerror=null,e.onError.run(t)},i.onload=function(){var t=i.width,r=i.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=t*e.scale,o=r*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/r*t,o=e._overrideHeight||e._overrideWidth/t*r),n=Math.round(n),o=Math.round(o);var s=e.source;s.width=n,s.height=o,s._pixiId="canvas_"+zt(),s.getContext("2d").drawImage(i,0,0,t,r,0,0,n,o),e._resolve(),e._resolve=null}},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e}(Je);ai.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var hi=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLVideoElement)){var r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),t.crossOrigin(r,e[0].src||e[0],i.crossorigin);for(var n=0;n<e.length;++n){var o=document.createElement("source"),s=e[n],a=s.src,h=s.mime,u=(a=a||e[n]).split("?").shift().toLowerCase(),l=u.substr(u.lastIndexOf(".")+1);h=h||"video/"+l,o.src=a,o.type=h,r.appendChild(o)}e=r}t.call(this,e),this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==i.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==i.autoLoad&&this.load()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var i=Ve.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this,e),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){t.valid?i(t):(t._resolve=i,e.load())}),this._load},e.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(Ve.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(Ve.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isAutoUpdating&&Ve.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},i.autoUpdate.get=function(){return this._autoUpdate},i.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(Ve.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(Ve.shared.add(this.update,this),this._isAutoUpdating=!0))},i.updateFPS.get=function(){return this._updateFPS},i.updateFPS.set=function(t){t!==this._updateFPS&&(this._updateFPS=t)},e.test=function(t,i){return t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},Object.defineProperties(e.prototype,i),e}(Je);hi.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(Je);$e.push(Qe,ui,oi,hi,ai,ei,si,ni);var li={INSTALLED:$e,autoDetectResource:ti,ArrayResource:ni,BufferResource:ei,CanvasResource:oi,CubeResource:si,ImageResource:Qe,ImageBitmapResource:ui,SVGResource:ai,VideoResource:hi,Resource:Ze,BaseImageResource:Je},ci=function(t){this.renderer=t};ci.prototype.destroy=function(){this.renderer=null};var di=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,r.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(ei),pi=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new je("disposeFramebuffer",2)},fi={colorTexture:{configurable:!0}};fi.colorTexture.get=function(){return this.colorTextures[0]},pi.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new ri(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},pi.prototype.addDepthTexture=function(t){return this.depthTexture=t||new ri(new di(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:xt.DEPTH_COMPONENT,type:Tt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},pi.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},pi.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},pi.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(t/n,e/n)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,e/o)}}},pi.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(pi.prototype,fi);var vi=function(t){function e(e){"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});t.call(this,null,e);var i=e||{},r=i.width,n=i.height;this.mipmap=!1,this.width=Math.ceil(r)||100,this.height=Math.ceil(n)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new pi(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this).enableStencil(),this.stencilMaskStack=[],this.filterStack=[{}]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.framebuffer=null},e}(ri),gi=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};gi.prototype.set=function(t,e,i){var r=e.width,n=e.height;if(i){var o=t.width/2/r,s=t.height/2/n,a=t.x/r+o,h=t.y/n+s;i=Ee.add(i,Ee.NW),this.x0=a+o*Ee.uX(i),this.y0=h+s*Ee.uY(i),i=Ee.add(i,2),this.x1=a+o*Ee.uX(i),this.y1=h+s*Ee.uY(i),i=Ee.add(i,2),this.x2=a+o*Ee.uX(i),this.y2=h+s*Ee.uY(i),i=Ee.add(i,2),this.x3=a+o*Ee.uX(i),this.y3=h+s*Ee.uY(i)}else this.x0=t.x/r,this.y0=t.y/n,this.x1=(t.x+t.width)/r,this.y1=t.y/n,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/n,this.x3=t.x/r,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var mi=new gi,yi=function(t){function e(i,r,n,o,s,a){if(t.call(this),this.noFrame=!1,r||(this.noFrame=!0,r=new Pe(0,0,1,1)),i instanceof e&&(i=i.baseTexture),this.baseTexture=i,this._frame=r,this.trim=o,this.valid=!1,this.requiresUpdate=!1,this._uvs=mi,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),!0===s)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new he(a.x,a.y):new he(0,0),this._updateID=0,this.textureCacheIds=[],i.valid?this.noFrame?i.valid&&this.onBaseTextureUpdated(i):this.frame=r:i.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&i.on("update",this.onBaseTextureUpdated,this)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var i=this.baseTexture.resource;i&&Kt[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===mi&&(this._uvs=new gi),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i){void 0===i&&(i={});var r=null;"string"==typeof t?r=t:(t._pixiId||(t._pixiId="pixiid_"+zt()),r=t._pixiId);var n=Kt[r];return n||(i.resolution||(i.resolution=ne(t)),(n=new e(new ri(t,i))).baseTexture.cacheId=r,ri.addToCache(n.baseTexture,r),e.addToCache(n,r)),n},e.fromBuffer=function(t,i,r,n){return new e(ri.fromBuffer(t,i,r,n))},e.fromLoader=function(t,i,r){var n=new Qe(t);n.url=i;var o=new e(new ri(n,{scaleMode:g.SCALE_MODE,resolution:ne(i)}));return r||(r=i),ri.addToCache(o.baseTexture,r),e.addToCache(o,r),r!==i&&(ri.addToCache(o.baseTexture,i),e.addToCache(o,i)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Kt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),Kt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Kt[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete Kt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)Kt[t.textureCacheIds[r]]===t&&delete Kt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},i.resolution.get=function(){return this.baseTexture.resolution},i.frame.get=function(){return this._frame},i.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,o=e+r>this.baseTexture.width,s=i+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,u="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},i.rotate.get=function(){return this._rotate},i.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},i.width.get=function(){return this.orig.width},i.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,i),e}(m);function _i(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}yi.EMPTY=new yi(new ri),_i(yi.EMPTY),_i(yi.EMPTY.baseTexture),yi.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new yi(new ri(new oi(t)))}(),_i(yi.WHITE),_i(yi.WHITE.baseTexture);var xi=function(t){function e(e,i){var r=null;if(!(e instanceof vi)){var n=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+o+") instead of the ctor directly."),r=arguments[0],i=null,e=new vi({width:n,height:o,scaleMode:s,resolution:a})}t.call(this,e,i),this.legacyRenderer=r,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e,i){void 0===i&&(i=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new vi(t))},e}(yi),bi=function(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};bi.prototype.createTexture=function(t,e){var i=new vi(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new xi(i)},bi.prototype.getOptimalTexture=function(t,e,i){void 0===i&&(i=1);var r=bi.SCREEN_KEY;t*=i,e*=i,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(r=(65535&(t=Yt(t)))<<16|65535&(e=Yt(e))),this.texturePool[r]||(this.texturePool[r]=[]);var n=this.texturePool[r].pop();return n||(n=this.createTexture(t,e)),n.filterPoolKey=r,n.setResolution(i),n},bi.prototype.getFilterTexture=function(t,e){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},bi.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},bi.prototype.returnFilterTexture=function(t){this.returnTexture(t)},bi.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},bi.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=bi.SCREEN_KEY,i=this.texturePool[e];if(this.enableFullScreen=t.width>0&&t.height>0,i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},bi.SCREEN_KEY="screen";var Ti=function(t,e,i,r,n,o,s){void 0===i&&(i=!1),void 0===r&&(r=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=n,this.start=o,this.instance=s};Ti.prototype.destroy=function(){this.buffer=null},Ti.from=function(t,e,i,r,n){return new Ti(t,e,i,r,n)};var wi=0,Ei=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=wi++,this.disposeRunner=new je("disposeBuffer",2)};function Si(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}Ei.prototype.update=function(t){this.data=t||this.data,this._updateID++},Ei.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Ei.prototype.destroy=function(){this.dispose(),this.data=null},Ei.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new Ei(t)};var Ii={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Pi={5126:4,5123:2,5121:1},Ai=0,Oi={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Ci=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ai++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new je("disposeGeometry",2),this.refCount=0};Ci.prototype.addAttribute=function(t,e,i,r,n,o,s,a){if(void 0===r&&(r=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new Ei(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,i,r,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Ti(l,i,r,n,o,s,a),this.instanced=this.instanced||a,this},Ci.prototype.getAttribute=function(t){return this.attributes[t]},Ci.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Ci.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ei(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},Ci.prototype.getIndex=function(){return this.indexBuffer},Ci.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new Ei;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),i.push(n.size*Pi[n.type]/4),n.buffer=0}for(r.data=function(t,e){for(var i=0,r=0,n={},o=0;o<t.length;o++)r+=e[o],i+=t[o].length;for(var s=new ArrayBuffer(4*i),a=null,h=0,u=0;u<t.length;u++){var l=e[u],c=t[u],d=Si(c);n[d]||(n[d]=new Ii[d](s)),a=n[d];for(var p=0;p<c.length;p++)a[(p/l|0)*r+h+p%l]=c[p];h+=l}return new Float32Array(s)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Ci.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},Ci.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Ci.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer.destroy(),this.attributes=null},Ci.prototype.clone=function(){for(var t=new Ci,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ei(this.buffers[e].data.slice());for(var i in this.attributes){var r=this.attributes[i];t.attributes[i]=new Ti(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},Ci.merge=function(t){for(var e,i=new Ci,r=[],n=[],o=[],s=0;s<t.length;s++){e=t[s];for(var a=0;a<e.buffers.length;a++)n[a]=n[a]||0,n[a]+=e.buffers[a].data.length,o[a]=0}for(var h=0;h<e.buffers.length;h++)r[h]=new(Oi[Si(e.buffers[h].data)])(n[h]),i.buffers[h]=new Ei(r[h]);for(var u=0;u<t.length;u++){e=t[u];for(var l=0;l<e.buffers.length;l++)r[l].set(e.buffers[l].data,o[l]),o[l]+=e.buffers[l].data.length}if(i.attributes=e.attributes,e.indexBuffer){i.indexBuffer=i.buffers[e.buffers.indexOf(e.indexBuffer)],i.indexBuffer.index=!0;for(var c=0,d=0,p=0,f=0,v=0;v<e.buffers.length;v++)if(e.buffers[v]!==e.indexBuffer){f=v;break}for(var g in e.attributes){var m=e.attributes[g];(0|m.buffer)===f&&(d+=m.size*Pi[m.type]/4)}for(var y=0;y<t.length;y++){for(var _=t[y].indexBuffer.data,x=0;x<_.length;x++)i.indexBuffer.data[x+p]+=c;c+=e.buffers[f].data.length/d,p+=_.length}}return i};var Mi=function(t){function e(){t.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ci),Di=function(t){function e(){t.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ei(this.vertices),this.uvBuffer=new Ei(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,e){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+e.width/t.width,this.uvs[3]=r,this.uvs[4]=i+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=i,this.uvs[7]=r+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Ci),Ri=0,Fi=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ri++,this.static=!!e};Fi.prototype.update=function(){this.dirtyId++},Fi.prototype.add=function(t,e,i){this.uniforms[t]=new Fi(e,i)},Fi.from=function(t,e){return new Fi(t,e)};var Li=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Pe,this.destinationFrame=new Pe,this.filters=[]};Li.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var Ni=function(t){function e(e){t.call(this,e),this.defaultFilterStack=[{}],this.texturePool=new bi,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Mi,this.quadUv=new Di,this.tempRect=new Pe,this.activeState={},this.globalUniforms=new Fi({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=e.view.width,this._pixelsHeight=e.view.height}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){for(var i=this.renderer,r=this.defaultFilterStack,n=this.statePool.pop()||new Li,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];o=Math.min(o,l.resolution),s=Math.max(s,l.padding),a=a||l.autoFit,h=h||l.legacy}1===r.length&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),r.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height,n.renderTexture.filterFrame=n.sourceFrame,i.renderTexture.bind(n.renderTexture,n.sourceFrame),i.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var n=r.inputSize,o=r.inputPixel,s=r.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=r.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(1===i.length)i[0].apply(this,e.renderTexture,h.renderTexture,!1,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<i.length-1;++c){i[c].apply(this,u,l,!0,e);var d=u;u=l,l=d}i[c].apply(this,u,h.renderTexture,!1,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.applyFilter=function(t,e,i,r){var n=this.renderer;n.renderTexture.bind(i,i?i.filterFrame:null),r&&n.renderTexture.clear(),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(_t.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(_t.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,r.x,r.y),a=e.worldTransform.copyTo(ve.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,i){return void 0===i&&(i=1),this.texturePool.getOptimalTexture(t,e,i)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var i=t;t=e,e=i}t=t||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(ci),Bi=function(t){this.renderer=t};Bi.prototype.flush=function(){},Bi.prototype.destroy=function(){this.renderer=null},Bi.prototype.start=function(){},Bi.prototype.stop=function(){this.flush()},Bi.prototype.render=function(t){};var Ui=function(t){function e(e){t.call(this,e),this.emptyRenderer=new Bi(e),this.currentRenderer=this.emptyRenderer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e}(ci);g.PREFER_ENV=v.any?gt.WEBGL:gt.WEBGL2;var ki=0,Xi=function(t){function e(e){t.call(this,e),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={isLost:{configurable:!0}};return i.isLost.get=function(){return!this.gl||this.gl.isContextLost()},e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=ki++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=ki++,this.renderer.runners.contextChange.run(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var i;if(g.PREFER_ENV>=gt.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),i},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBKIT_WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(e.prototype,i),e}(ci),ji=function(t){function e(e){t.call(this,e),this.managedFramebuffers=[],this.unknownFramebuffer=new pi(10,10)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={size:{configurable:!0}};return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Pe,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;g.PREFER_ENV===gt.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}},e.prototype.bind=function(t,e){var i=this.gl;if(t){var r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++)t.colorTextures[n].texturePart?this.renderer.texture.unbind(t.colorTextures[n].texture):this.renderer.texture.unbind(t.colorTextures[n]);t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,i,r){var n=this.viewport;n.width===i&&n.height===r&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=r,this.gl.viewport(t,e,i,r))},i.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},e.prototype.clear=function(t,e,i,r){var n=this.gl;n.clearColor(t,e,i,r),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},e.prototype.initFramebuffer=function(t){var e={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},e.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var r=t.colorTextures,n=0;n<r.length;n++)this.renderer.texture.bind(r[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures.length;e.drawBuffers||(r=Math.min(r,1));for(var n=[],o=0;o<r;o++){var s=t.colorTextures[o];s.texturePart?(this.renderer.texture.bind(s.texture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_CUBE_MAP_NEGATIVE_X+s.side,s.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,0)),n.push(e.COLOR_ATTACHMENT0+o)}if((n.length>1&&e.drawBuffers(n),t.depthTexture)&&this.writeDepthTexture){var a=t.depthTexture;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)}i.stencil||!t.stencil&&!t.depth||(i.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height))},e.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.stencil&&r.deleteRenderbuffer(i.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Pe},Object.defineProperties(e.prototype,i),e}(ci),Gi=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},Hi={5126:4,5123:2,5121:1},zi=function(t){function e(e){t.call(this,e),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var i=this.renderer.context.extensions.vertexArrayObject;g.PREFER_ENV===gt.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(t){return i.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return i.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){},t.bindVertexArray=function(){},t.deleteVertexArray=function(){})}if(!t.vertexAttribDivisor){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(t,e){return r.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,n,o){return r.drawElementsInstancedANGLE(t,e,i,n,o)},t.drawArraysInstanced=function(t,e,i,n){return r.drawArraysInstancedANGLE(t,e,i,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID];r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={});var n=r[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?i.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,i=0;i<t.buffers.length;i++){var r=t.buffers[i],n=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==n.updateID){n.updateID=r._updateID;var o=r.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=r.data.byteLength)e.bufferSubData(o,0,r.data);else{var s=r.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=r.data.byteLength,e.bufferData(o,r.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var n in r)if(!i[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,n=["g",t.id];for(var o in i)r[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var i=this.gl,r=this.CONTEXT_UID,n=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[e.id]=s,s;var a=t.buffers,h=t.attributes,u={},l={};for(var c in a)u[c]=0,l[c]=0;for(var d in h)!h[d].size&&e.attributeData[d]?h[d].size=e.attributeData[d].size:h[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[d].buffer]+=h[d].size*Hi[h[d].type];for(var p in h){var f=h[p],v=f.size;void 0===f.stride&&(u[f.buffer]===v*Hi[f.type]?f.stride=0:f.stride=u[f.buffer]),void 0===f.start&&(f.start=l[f.buffer],l[f.buffer]+=v*Hi[f.type])}s=i.createVertexArray(),i.bindVertexArray(s);for(var g=0;g<a.length;g++){var m=a[g];m._glBuffers[r]||(m._glBuffers[r]=new Gi(i.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),m._glBuffers[r].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[n]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),i){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in i)if("g"===a[0]){var h=i[a];this._activeVao===h&&this.unbind(),r.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t);e=Object.keys(this.managedBuffers);for(var r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},e.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[r].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[r];if(e.attributeData[a]){s!==u&&(i.bindBuffer(i.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(i.enableVertexAttribArray(l),i.vertexAttribPointer(l,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,i,r){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(i||0)*s,r||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(i||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,i,e||o.getSize(),r||1):n.drawArrays(t,i,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(ci);function Vi(t,e,i,r){var n=Yi(t,t.VERTEX_SHADER,e),o=Yi(t,t.FRAGMENT_SHADER,i),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),r)for(var a in r)t.bindAttribLocation(s,r[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function Yi(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.warn(i),console.error(t.getShaderInfoLog(r)),null)}function Wi(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return qi(2*e);case"bvec3":return qi(3*e);case"bvec4":return qi(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function qi(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}var Zi,Ki={},Ji=Ki;function Qi(){if(Ji===Ki){var t,e=document.createElement("canvas");g.PREFER_ENV>=gt.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Ji=t}return Ji}function $i(t,e,i){if("precision"!==t.substring(0,9)){var r=e;return e===Pt.HIGH&&i!==Pt.HIGH&&(r=Pt.MEDIUM),"precision "+r+" float;\n"+t}return i!==Pt.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var tr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function er(t){return tr[t]}var ir=null,rr={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function nr(t,e){if(!ir){var i=Object.keys(rr);ir={};for(var r=0;r<i.length;++r){var n=i[r];ir[t[n]]=rr[n]}}return ir[e]}var or={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},sr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var ar,hr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function ur(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=hr.replace(/%forloop%/gi,lr(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}function lr(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}var cr=0,dr={},pr=function t(e,i,r){void 0===r&&(r="pixi-shader"),this.id=cr++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),dr[r]?(dr[r]++,r+="-"+dr[r]):dr[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=$i(this.vertexSrc,g.PRECISION_VERTEX,Pt.HIGH),this.fragmentSrc=$i(this.fragmentSrc,g.PRECISION_FRAGMENT,function(){if(!Zi){Zi=Pt.MEDIUM;var t=Qi();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Zi=e.precision?Pt.HIGH:Pt.MEDIUM}}return Zi}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},fr={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};pr.prototype.extractData=function(t,e){var i=Qi();if(i){var r=Vi(i,t,e);this.attributeData=this.getAttributeData(r,i),this.uniformData=this.getUniformData(r,i),i.deleteProgram(r)}else this.uniformData={},this.attributeData={}},pr.prototype.getAttributeData=function(t,e){for(var i={},r=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=nr(e,s.type),h={type:a,name:s.name,size:er(a),location:0};i[s.name]=h,r.push(h)}r.sort(function(t,e){return t.name>e.name?1:-1});for(var u=0;u<r.length;u++)r[u].location=u;return i},pr.prototype.getUniformData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]/,""),a=o.name.match(/\[.*?\]/,""),h=nr(e,o.type);i[s]={type:h,size:o.size,isArray:a,value:Wi(h,o.size)}}return i},fr.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},fr.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},pr.from=function(t,e,i){var r=t+e,n=Zt[r];return n||(Zt[r]=n=new pr(t,e,i)),n},Object.defineProperties(pr,fr);var vr=function(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof Fi?e:new Fi(e):new Fi({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))},gr={uniforms:{configurable:!0}};vr.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},vr.prototype.destroy=function(){this.uniformGroup=null},gr.uniforms.get=function(){return this.uniformGroup.uniforms},vr.from=function(t,e,i){var r=pr.from(t,e);return new vr(r,i)},Object.defineProperties(vr.prototype,gr);var mr=function(){this.data=0,this.blendMode=yt.NORMAL,this.polygonOffset=0,this.blend=!0},yr={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};yr.blend.get=function(){return!!(1&this.data)},yr.blend.set=function(t){!!(1&this.data)!==t&&(this.data^=1)},yr.offsets.get=function(){return!!(2&this.data)},yr.offsets.set=function(t){!!(2&this.data)!==t&&(this.data^=2)},yr.culling.get=function(){return!!(4&this.data)},yr.culling.set=function(t){!!(4&this.data)!==t&&(this.data^=4)},yr.depthTest.get=function(){return!!(8&this.data)},yr.depthTest.set=function(t){!!(8&this.data)!==t&&(this.data^=8)},yr.clockwiseFrontFace.get=function(){return!!(16&this.data)},yr.clockwiseFrontFace.set=function(t){!!(16&this.data)!==t&&(this.data^=16)},yr.blendMode.get=function(){return this._blendMode},yr.blendMode.set=function(t){this.blend=t!==yt.NONE,this._blendMode=t},yr.polygonOffset.get=function(){return this._polygonOffset},yr.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},mr.for2d=function(){var t=new mr;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(mr.prototype,yr);var _r=function(t){function e(i,r,n){var o=pr.from(i||e.defaultVertexSrc,r||e.defaultFragmentSrc);t.call(this,o,n),this.padding=0,this.resolution=g.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new mr}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blendMode:{configurable:!0}},r={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r,n)},i.blendMode.get=function(){return this.state.blendMode},i.blendMode.set=function(t){this.state.blendMode=t},r.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},r.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(e.prototype,i),Object.defineProperties(e,r),e}(vr);_r.SOURCE_KEY_MAP={};var xr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",br="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Tr=new ve,wr=function(t,e){this._texture=t,this.mapCoord=new ve,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1},Er={texture:{configurable:!0}};Er.texture.get=function(){return this._texture},Er.texture.set=function(t){this._texture=t,this._updateID=-1},wr.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],o=t[r+1];e[r]=n*i.a+o*i.c+i.tx,e[r+1]=n*i.b+o*i.d+i.ty}return e},wr.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(Tr.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Tr));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},Object.defineProperties(wr.prototype,Er);var Sr=function(t){function e(e){var i=new ve;t.call(this,xr,br),e.renderable=!1,this.maskSprite=e,this.maskMatrix=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,i,r){var n=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new wr(o,0)),o.transform.update(),this.uniforms.npmAlpha=o.baseTexture.premultiplyAlpha?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,e,i,r))},e}(_r),Ir=function(t){function e(e){t.call(this,e),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){if(e.isSprite)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencil.stencilMaskStack.length&&e.isFastRect()){var i=e.worldTransform,r=Math.atan2(i.b,i.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.pop=function(t,e){e.isSprite?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencil.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Sr(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var r=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filter.push(t,i),t.filterArea=r,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.batch.flush(),this.renderer.stencil.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.stencil.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var i=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(i.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(r.x*n,(i.root?i.size.height-r.y-r.height:r.y)*n,r.width*n,r.height*n),this.scissorRenderTarget=i,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(ci),Pr=function(t){function e(e){t.call(this,e),this.stencilMaskStack=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.stencilMaskStack.length;this.stencilMaskStack=t,t.length!==i&&(0===t.length?e.disable(e.STENCIL_TEST):(e.enable(e.STENCIL_TEST),this._useCurrent()))},e.prototype.pushStencil=function(t){var e=this.renderer.gl,i=this.stencilMaskStack.length;0===i&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,i,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},e.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){t.prototype.destroy.call(this,this),this.stencilMaskStack=null},e}(ci),Ar=function(t){function e(e){t.call(this,e),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ve,this.transform=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,i,r){var n=this.projectionMatrix;r?(n.a=1/t.width*2*i,n.d=-1/t.height*2*i,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2*i,n.d=1/t.height*2*i,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},e.prototype.setTransform=function(){},e}(ci),Or=new Pe,Cr=function(t){function e(e){t.call(this,e),this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Pe,this.destinationFrame=new Pe}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,i){void 0===t&&(t=null),this.current=t;var r,n=this.renderer;if(t){var o=t.baseTexture;r=o.resolution,i||(Or.width=o.realWidth,Or.height=o.realHeight,i=Or),e||(e=i),this.renderer.framebuffer.bind(o.framebuffer,i),this.renderer.projection.update(i,e,r,!1),this.renderer.stencil.setMaskStack(o.stencilMaskStack)}else r=this.renderer.resolution,i||(Or.width=n.width,Or.height=n.height,i=Or),e||(e=i),n.framebuffer.bind(null,i),this.renderer.projection.update(i,e,r,!0),this.renderer.stencil.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e),this.destinationFrame.x=i.x/r,this.destinationFrame.y=i.y/r,this.destinationFrame.width=i.width/r,this.destinationFrame.height=i.height/r,e===i&&this.sourceFrame.copyFrom(this.destinationFrame)},e.prototype.clear=function(t){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(ci),Mr=function(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}};Mr.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Dr=0,Rr=function(t){function e(e){t.call(this,e),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Dr++}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof ar)return ar;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");ar=!0===t({a:"b"},"a","b")}catch(t){ar=!1}return ar}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||this.syncUniformGroup(t.uniformGroup),r},e.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t){var e=this.getglProgram();t.static&&t.dirtyId===e.uniformGroups[t.id]||(e.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,e))},e.prototype.syncUniforms=function(t,e){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var i=0,r="var v = null;\n    var cv = null\n    var gl = renderer.gl";for(var n in t.uniforms){var o=e[n];o?"float"===o.type&&1===o.size?r+="\n            if(uv."+n+" !== ud."+n+".value)\n            {\n                ud."+n+".value = uv."+n+"\n                gl.uniform1f(ud."+n+".location, uv."+n+")\n            }\n":"sampler2D"!==o.type&&"samplerCube"!==o.type&&"sampler2DArray"!==o.type||1!==o.size||o.isArray?"mat3"===o.type&&1===o.size?void 0!==t.uniforms[n].a?r+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+".toArray(true));\n                \n":r+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+");\n                \n":"vec2"===o.type&&1===o.size?void 0!==t.uniforms[n].x?r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+n+".location, v.x, v.y);\n                }\n":r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+n+".location, v[0], v[1]);\n                }\n                \n":"vec4"===o.type&&1===o.size?void 0!==t.uniforms[n].width?r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+n+".location, v.x, v.y, v.width, v.height)\n                }\n":r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+n+".location, v[0], v[1], v[2], v[3])\n                }\n                \n":r+="\n            cv = ud."+n+".value;\n            v = uv."+n+";\n            "+(1===o.size?or:sr)[o.type].replace("location","ud."+n+".location")+";\n":(r+="\n            renderer.texture.bind(uv."+n+", "+i+");\n\n            if(ud."+n+".value !== "+i+")\n            {\n                ud."+n+".value = "+i+";\n                gl.uniform1i(ud."+n+".location, "+i+");\n; // eslint-disable-line max-len\n            }\n",i++):t.uniforms[n].group&&(r+="\n                    renderer.shader.syncUniformGroup(uv."+n+");\n                ")}return new Function("ud","uv","renderer",r)}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var i=t.uniforms,r=[];for(var n in i)r.push(n),e[n]&&r.push(e[n].type);return r.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,i=t.program,r={};for(var n in i.attributeData)r[n]=i.attributeData[n].location;var o=Vi(e,i.vertexSrc,i.fragmentSrc,r),s={};for(var a in i.uniformData){var h=i.uniformData[a];s[a]={location:e.getUniformLocation(o,a),value:Wi(h.type,h.size)}}var u=new Mr(o,s);return i.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(ci);var Fr=0,Lr=1,Nr=2,Br=3,Ur=4,kr=function(t){function e(e){t.call(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=yt.NONE,this._blendEq=!1,this.map=[],this.map[Fr]=this.setBlend,this.map[Lr]=this.setOffset,this.map[Nr]=this.setCullFace,this.map[Br]=this.setDepthTest,this.map[Ur]=this.setFrontFace,this.checks=[],this.defaultState=new mr,this.defaultState.blend=!0,this.defaultState.depth=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[yt.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.ADD]=[t.ONE,t.ONE],e[yt.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.NONE]=[0,0],e[yt.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[yt.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[yt.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[yt.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[yt.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[yt.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[yt.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[yt.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[yt.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[yt.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var i=0;i<this.checks.length;i++)this.checks[i](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(e.polygonOffset,0)},e}(ci),Xr=function(t){function e(e){t.call(this,e),this.count=0,this.checkCount=0,this.maxIdle=g.GC_MAX_IDLE,this.checkCountMax=g.GC_MAX_CHECK_COUNT,this.mode=g.GC_MODE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postrender=function(){this.count++,this.mode!==It.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[r]=null,i=!0)}if(i){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.textureSystem;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e}(ci),jr=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Gr=function(t){function e(e){t.call(this,e),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ri}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new jr(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new jr(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var o=0;o<this.boundTextures.length;o++)this.bind(null,o)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if(t){if((t=t.baseTexture||t).valid){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.boundTextures[e]!==t&&i.bindTexture(t.target,r.texture),r.dirtyId!==t.dirtyId&&this.updateTexture(t),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(var n=0;n<i.length;n++)i[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),i[n]=null)},e.prototype.initTexture=function(t){var e=new jr(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var i=this.renderer.gl;t.type===i.FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA32F),t.type===Tt.HALF_FLOAT&&(e.type=i.HALF_FLOAT),e.type===i.HALF_FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e));else{var r=t.realWidth,n=t.realHeight,o=i.gl;(e.width!==r||e.height!==n||e.dirtyId<0)&&(e.width=r,e.height=n,o.texImage2D(t.target,0,e.internalFormat,r,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.baseTexture||t)._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&Gt(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==St.POW2&&2===this.webGLVersion||t.isPowerOfTwo?(e.mipmap=t.mipmap>=1,e.wrapMode=t.wrapMode):(e.mipmap=0,e.wrapMode=Et.CLAMP),t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===wt.LINEAR){var n=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode?i.LINEAR:i.NEAREST)},e}(ci),Hr={FilterSystem:Ni,BatchSystem:Ui,ContextSystem:Xi,FramebufferSystem:ji,GeometrySystem:zi,MaskSystem:Ir,StencilSystem:Pr,ProjectionSystem:Ar,RenderTextureSystem:Cr,ShaderSystem:Rr,StateSystem:kr,TextureGCSystem:Xr,TextureSystem:Gr},zr=new ve,Vr=function(t){function e(e,i){t.call(this),(i=Object.assign({},g.RENDER_OPTIONS,i)).roundPixels&&(g.ROUND_PIXELS=i.roundPixels,se("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=i,this.type=mt.UNKNOWN,this.screen=new Pe(0,0,i.width,i.height),this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution||g.RESOLUTION,this.transparent=i.transparent,this.autoDensity=i.autoDensity||i.autoResize||!1,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new Be,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},i.width.get=function(){return this.view.width},i.height.get=function(){return this.view.height},e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,i,r){0===(r=r||t.getLocalBounds()).width&&(r.width=1),0===r.height&&(r.height=1);var n=xi.create(0|r.width,0|r.height,e,i);return zr.tx=-r.x,zr.ty=-r.y,this.render(t,n,!1,zr,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=mt.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},i.backgroundColor.get=function(){return this._backgroundColor},i.backgroundColor.set=function(t){this._backgroundColor=t,this._backgroundColorString=Ft(t),Rt(t,this._backgroundColorRgba)},Object.defineProperties(e.prototype,i),e}(m),Yr=function(t){function e(i){void 0===i&&(i={}),t.call(this,"WebGL",i),i=this.options,this.type=mt.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new je("destroy"),contextChange:new je("contextChange",1),reset:new je("reset"),update:new je("update"),postrender:new je("postrender"),prerender:new je("prerender"),resize:new je("resize",2)},this.globalUniforms=new Fi({projectionMatrix:new ve},!0),this.addSystem(Ir,"mask").addSystem(Xi,"context").addSystem(kr,"state").addSystem(Rr,"shader").addSystem(Gr,"texture").addSystem(zi,"geometry").addSystem(ji,"framebuffer").addSystem(Pr,"stencil").addSystem(Ar,"projection").addSystem(Xr,"textureGC").addSystem(Ni,"filter").addSystem(Cr,"renderTexture").addSystem(Ui,"batch"),this.initPlugins(e.__plugins),i.context?this.context.initFromContext(i.context):this.context.initFromOptions({alpha:this.transparent,antialias:i.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,Mt(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(Dt())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=i,this.runners)this.runners[r].add(i);return this},e.prototype.render=function(t,e,i,r,n){if(this.renderingToScreen=!e,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=r,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.runners.resize.run(e,i)},e.prototype.reset=function(){return this.runners.reset.run(),this},e.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},e.prototype.destroy=function(e){for(var i in this.runners.destroy.run(),this.runners)this.runners[i].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,i){e.__plugins=e.__plugins||{},e.__plugins[t]=i},e}(Vr);function Wr(t){return Yr.create(t)}var qr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Zr="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Kr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.from=function(t,i){return new e(new si(t,i))},e}(ri),Jr=function(){this.textures=[],this.ids=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=4},Qr=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},$r={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};$r.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},$r.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},$r.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},$r.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},$r.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},Qr.prototype.view=function(t){return this[t+"View"]},Qr.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},Qr.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Object.defineProperties(Qr.prototype,$r);var tn=function(t){function e(e){t.call(this,e),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=mr.for2d(),this.size=8e3,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._drawCalls=[];for(var i=0;i<this.size/4;i++)this._drawCalls[i]=new Jr;this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;g.PREFER_ENV===gt.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=ur(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedElements[this._bufferSize++]=t)},e.prototype.flush=function(){if(0!==this._vertexCount){var t,e,i=this.getAttributeBuffer(this._vertexCount),r=this.getIndexBuffer(this._indexCount),n=this.renderer.gl,o=this._bufferedElements,s=this._drawCalls,a=this.MAX_TEXTURES,h=this._packedGeometries,u=this.vertexSize,l=this.renderer.textureGC.count,c=0,d=0,p=0,f=s[0],v=0,m=-1;f.textureCount=0,f.start=0,f.blend=m;var y,_=++ri._globalBatch;for(y=0;y<this._bufferSize;++y){var x=o[y];o[y]=null,t=x._texture.baseTexture;var b=Nt[t.premultiplyAlpha?1:0][x.blendMode];m!==b&&(m=b,e=null,p=a,_++),e!==t&&(e=t,t._batchEnabled!==_&&(p===a&&(_++,p=0,f.size=d-f.start,(f=s[v++]).textureCount=0,f.blend=m,f.start=d),t.touched=l,t._batchEnabled=_,t._id=p,f.textures[f.textureCount++]=t,p++)),this.packInterleavedGeometry(x,i,r,c,d),c+=x.vertexData.length/2*u,d+=x.indices.length}ri._globalBatch=_,f.size=d-f.start,g.CAN_UPLOAD_SAME_BUFFER?(h[this._flushId]._buffer.update(i.rawBinaryData,0),h[this._flushId]._indexBuffer.update(r,0),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,h[this._flushId]=new this.geometryClass),h[this._flushId]._buffer.update(i.rawBinaryData,0),h[this._flushId]._indexBuffer.update(r,0),this.renderer.geometry.bind(h[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++);var T=this.renderer.texture,w=this.renderer.state;for(y=0;y<v;y++){for(var E=s[y],S=E.textureCount,I=0;I<S;I++)T.bind(E.textures[I],I),E.textures[I]=null;w.setBlendMode(E.blend),n.drawElements(E.type,E.size,n.UNSIGNED_SHORT,2*E.start)}this._bufferSize=0,this._vertexCount=0,this._indexCount=0}},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),g.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._drawCalls=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=Yt(Math.ceil(t/8)),i=qt(e),r=8*e;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._aBuffers[r];return n||(this._aBuffers[r]=n=new Qr(r*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=Yt(Math.ceil(t/12)),i=qt(e),r=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._iBuffers[i];return n||(this._iBuffers[i]=n=new Uint16Array(r)),n},e.prototype.packInterleavedGeometry=function(t,e,i,r,n){for(var o=e.uint32View,s=e.float32View,a=r/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._id,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.premultiplyAlpha?kt(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<l.length;f+=2)s[r++]=l[f],s[r++]=l[f+1],s[r++]=h[f],s[r++]=h[f+1],o[r++]=p,s[r++]=c;for(var v=0;v<u.length;v++)i[n++]=a+u[v]},e}(Bi),en=function(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};en.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Fi.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new pr(this.vertexSrc,r)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new ve,default:this.defaultGroupCache[t]};return new vr(this.programCache[t],n)},en.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"};var rn=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._buffer=new Ei(null,e,!1),this._indexBuffer=new Ei(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Tt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Tt.FLOAT).addAttribute("aColor",this._buffer,4,!0,Tt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Tt.FLOAT).addIndex(this._indexBuffer)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ci),nn="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",on="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",sn=function(){},an={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};sn.create=function(t){var e=Object.assign({vertex:nn,fragment:on,geometryClass:rn,vertexSize:6},t),i=e.vertex,r=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){t.call(this,e),this.shaderGenerator=new en(i,r),this.geometryClass=o,this.vertexSize=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(tn)},an.defaultVertexSrc.get=function(){return nn},an.defaultFragmentTemplate.get=function(){return on},Object.defineProperties(sn,an);var hn=sn.create(),un=new Pe,ln=function(t){this.renderer=t,t.extract=this};ln.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},ln.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},ln.prototype.canvas=function(t){var e,i,r,n=this.renderer,o=!1,s=!1;t&&(t instanceof xi?r=t:(r=this.renderer.generateTexture(t),s=!0)),r?(e=r.baseTexture.resolution,i=r.frame,o=!1,n.renderTexture.bind(r)):(e=this.renderer.resolution,o=!0,(i=un).width=this.renderer.width,i.height=this.renderer.height,n.renderTexture.bind(null));var a=Math.floor(i.width*e),h=Math.floor(i.height*e),u=new $t(a,h,1),l=new Uint8Array(4*a*h),c=n.gl;c.readPixels(i.x*e,i.y*e,a,h,c.RGBA,c.UNSIGNED_BYTE,l);var d=u.context.getImageData(0,0,a,h);return ln.arrayPostDivide(l,d.data),u.context.putImageData(d,0,0),o&&(u.context.scale(1,-1),u.context.drawImage(u.canvas,0,-h)),s&&r.destroy(!0),u.canvas},ln.prototype.pixels=function(t){var e,i,r,n=this.renderer,o=!1;t&&(t instanceof xi?r=t:(r=this.renderer.generateTexture(t),o=!0)),r?(e=r.baseTexture.resolution,i=r.frame,n.renderTexture.bind(r)):(e=n.resolution,(i=un).width=n.width,i.height=n.height,n.renderTexture.bind(null));var s=i.width*e,a=i.height*e,h=new Uint8Array(4*s*a),u=n.gl;return u.readPixels(i.x*e,i.y*e,s,a,u.RGBA,u.UNSIGNED_BYTE,h),o&&r.destroy(!0),ln.arrayPostDivide(h,h),h},ln.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},ln.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}};var cn={Extract:ln},dn=function(){this.global=new he,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},pn={pointerId:{configurable:!0}};pn.pointerId.get=function(){return this.identifier},dn.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},dn.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},dn.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(dn.prototype,pn);var fn=function(){this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};fn.prototype.stopPropagation=function(){this.stopped=!0},fn.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null};var vn=function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE},gn={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};vn.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},gn.pointerId.get=function(){return this._pointerId},gn.flags.get=function(){return this._flags},gn.flags.set=function(t){this._flags=t},gn.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},gn.over.get=function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},gn.over.set=function(t){this._doSet(this.constructor.FLAGS.OVER,t)},gn.rightDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},gn.rightDown.set=function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)},gn.leftDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},gn.leftDown.set=function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)},Object.defineProperties(vn.prototype,gn),vn.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var mn={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Le.mixin(mn);var yn=1,_n={target:null,data:{global:null}},xn=function(t){function e(e,i){t.call(this),i=i||{},this.renderer=e,this.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,this.interactionFrequency=i.interactionFrequency||10,this.mouse=new dn,this.mouse.identifier=yn,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[yn]=this.mouse,this.interactionDataPool=[],this.eventData=new fn,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this._tempPoint=new he,this.resolution=1,this.delayedEvents=[],this.setTargetElement(this.renderer.view,this.renderer.resolution)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hitTest=function(t,e){return _n.target=null,_n.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(_n,e,null,!0),_n.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(Ve.system.add(this.update,this,He.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(Ve.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,i){i.stopped||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},e.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},e.prototype.mapPositionToPoint=function(t,e,i){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},e.prototype.processInteractive=function(t,e,i,r,n,o){if(!e||!e.visible)return!1;var s=t.data.global,a=!1,h=n=e.interactive||n,u=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,u=!1)),h=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(r=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,c=l.length-1;c>=0;c--){var d=l[c],p=this.processInteractive(t,d,i,r,h,!0);if(p){if(!d.parent)continue;h=!1,p&&(t.target&&(r=!1),a=!0)}}n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),i&&i(t,e,!!a)));var f=this.delayedEvents;if(f.length&&!o){var v=f.length;this.delayedEvents=[];for(var g=0;g<v;g++){var m=f[g];this.dispatchEvent(m.displayObject,m.eventString,m.eventData)}}return a},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;if(i)if(e.trackedPointers[n]||(e.trackedPointers[n]=new vn(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,i){for(var r=this.normalizeToPointerData(t),n=r.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=r[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,i,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId,h))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,i){var r=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===r.pointerType,a="mouse"===r.pointerType||"pen"===r.pointerType,h=!1;if(a){var u=2===r.button,l=vn.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;i?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,s=e.trackedPointers[n];i&&!s&&(s=e.trackedPointers[n]=new vn(n)),void 0!==s&&(i&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return i===yn||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new dn).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,r=t.changedTouches.length;i<r;i++){var n=t.changedTouches[i];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=yn),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(m),bn={InteractionData:dn,InteractionEvent:fn,InteractionManager:xn,InteractionTrackingData:vn,interactiveTarget:mn},Tn={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},wn=function(){this.reset()};wn.prototype.clone=function(){var t=new wn;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},wn.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=yi.WHITE,this.matrix=null,this.visible=!1},wn.prototype.destroy=function(){this.texture=null,this.matrix=null};var En=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]};En.prototype.clone=function(){return new En(this.shape,this.fillStyle,this.lineStyle,this.matrix)},En.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var Sn={build:function(t){var e,i,r=t.shape,n=t.points,o=r.x,s=r.y;if(n.length=0,t.type===fe.CIRC?(e=r.radius,i=r.radius):(e=r.width,i=r.height),0!==e&&0!==i){var a=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height));a/=2.3;for(var h=2*Math.PI/a,u=0;u<a;u++)n.push(o+Math.sin(-h*u)*e,s+Math.cos(-h*u)*i);n.push(n[0],n[1])}},triangulate:function(t,e){var i=t.points,r=e.points,n=e.indices,o=r.length/2,s=o;r.push(t.shape.x,t.shape.y);for(var a=0;a<i.length;a+=2)r.push(i[a],i[a+1]),n.push(o++,s,o)}};function In(t,e){t.lineStyle.native?function(t,e){var i=0,r=t.shape,n=t.points||r.points,o=r.type!==fe.POLY||r.closeStroke;if(0===n.length)return;var s=e.points,a=e.indices,h=n.length/2,u=s.length/2,l=u;for(s.push(n[0],n[1]),i=1;i<h;i++)s.push(n[2*i],n[2*i+1]),a.push(l,l+1),l++;o&&a.push(l,u)}(t,e):function(t,e){var i=t.shape,r=t.points||i.points.slice(),n=e.closePointEps;if(0===r.length)return;var o=t.lineStyle,s=new he(r[0],r[1]),a=new he(r[r.length-2],r[r.length-1]),h=i.type!==fe.POLY||i.closeStroke,u=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(h){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));var l=a.x+.5*(s.x-a.x),c=a.y+.5*(s.y-a.y);r.unshift(l,c),r.push(l,c)}var d=e.points,p=r.length/2,f=r.length,v=d.length/2,g=o.width/2,m=r[0],y=r[1],_=r[2],x=r[3],b=0,T=0,w=-(y-x),E=m-_,S=0,I=0,P=0,A=0,O=Math.sqrt(w*w+E*E);w/=O,E/=O,w*=g,E*=g;var C=o.alignment,M=2*(1-C),D=2*C;d.push(m-w*M,y-E*M),d.push(m+w*D,y+E*D);for(var R=1;R<p-1;++R){m=r[2*(R-1)],y=r[2*(R-1)+1],_=r[2*R],x=r[2*R+1],b=r[2*(R+1)],T=r[2*(R+1)+1],w=-(y-x),E=m-_,O=Math.sqrt(w*w+E*E),w/=O,E/=O,w*=g,E*=g,S=-(x-T),I=_-b,O=Math.sqrt(S*S+I*I),S/=O,I/=O;var F=-E+y-(-E+x),L=-w+_-(-w+m),N=(-w+m)*(-E+x)-(-w+_)*(-E+y),B=-(I*=g)+T-(-I+x),U=-(S*=g)+_-(-S+b),k=(-S+b)*(-I+x)-(-S+_)*(-I+T),X=F*U-B*L;if(Math.abs(X)<.1)X+=10.1,d.push(_-w*M,x-E*M),d.push(_+w*D,x+E*D);else{var j=(L*k-U*N)/X,G=(B*N-F*k)/X,H=(j-_)*(j-_)+(G-x)*(G-x);H>196*g*g?(P=w-S,A=E-I,O=Math.sqrt(P*P+A*A),P/=O,A/=O,P*=g,A*=g,d.push(_-P*M,x-A*M),d.push(_+P*D,x+A*D),d.push(_-P*D*M,x-A*M),f++):(d.push(_+(j-_)*M,x+(G-x)*M),d.push(_-(j-_)*D,x-(G-x)*D))}}m=r[2*(p-2)],y=r[2*(p-2)+1],_=r[2*(p-1)],x=r[2*(p-1)+1],w=-(y-x),E=m-_,O=Math.sqrt(w*w+E*E),w/=O,E/=O,w*=g,E*=g,d.push(_-w*M,x-E*M),d.push(_+w*D,x+E*D);for(var z=e.indices,V=0;V<f-2;++V)z.push(v,v+1,v+2),v++}(t,e)}var Pn={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,o=e.indices;if(i.length>=6){for(var s=[],a=0;a<r.length;a++){var h=r[a];s.push(i.length/2),i=i.concat(h.points)}var u=y(i,s,2);if(!u)return;for(var l=n.length/2,c=0;c<u.length;c+=3)o.push(u[c]+l),o.push(u[c+1]+l),o.push(u[c+2]+l);for(var d=0;d<i.length;d++)n.push(i[d])}}},An={build:function(t){var e=t.shape,i=t.points,r=e.x,n=e.y,o=e.width,s=e.height,a=e.radius;i.length=0,Cn(r,n+a,r,n,r+a,n,i),Cn(r+o-a,n,r+o,n,r+o,n+a,i),Cn(r+o,n+s-a,r+o,n+s,r+o-a,n+s,i),Cn(r+a,n+s,r,n+s,r,n+s-a,i)},triangulate:function(t,e){for(var i=t.points,r=e.points,n=e.indices,o=r.length/2,s=y(i,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(var u=0,l=i.length;u<l;u++)r.push(i[u],i[++u])}};function On(t,e,i){return t+(e-t)*i}function Cn(t,e,i,r,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,p=0,f=0,v=0;f<=20;++f)h=On(t,i,v=f/20),u=On(e,r,v),l=On(i,n,v),c=On(r,o,v),d=On(h,l,v),p=On(u,c,v),a.push(d,p);return a}var Mn=[],Dn=[],Rn=new he,Fn={};Fn[fe.POLY]=Pn,Fn[fe.CIRC]=Sn,Fn[fe.ELIP]=Sn,Fn[fe.RECT]={build:function(t){var e=t.shape,i=e.x,r=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(i,r,i+n,r,i+n,r+o,i,r+o)},triangulate:function(t,e){var i=t.points,r=e.points,n=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},Fn[fe.RREC]=An;var Ln=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},Nn=function(t){function e(){t.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new Fe,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null,this.closePointEps=1e-4}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={bounds:{configurable:!0}};return i.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].textures.length=0,Dn.push(this.drawCalls[t]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var i=this.batches[e];i.start=0,i.attribStart=0,i.style=null,Mn.push(i)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,i,r){var n=new En(t,e,i,r);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;var i=new En(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(t,Rn):Rn.copyFrom(t),r.shape.contains(Rn.x,Rn.y)))){if(r.holes)for(var n=0;n<r.holes.length;n++){if(r.holes[n].shape.contains(Rn.x,Rn.y))return!1}return!0}}return!1},e.prototype.updateBatches=function(){if(this.dirty!==this.cacheDirty)if(0!==this.graphicsData.length){if(this.dirty!==this.cacheDirty)for(var t=0;t<this.graphicsData.length;t++){var e=this.graphicsData[t];if(e.fillStyle&&!e.fillStyle.texture.baseTexture.valid)return;if(e.lineStyle&&!e.lineStyle.texture.baseTexture.valid)return}this.cacheDirty=this.dirty;var i=this.uvs,r=null,n=null,o=0,s=!1;if(this.batches.length>0){var a=(r=this.batches[this.batches.length-1]).style;n=a.texture.baseTexture,o=a.color+a.alpha,s=!!a.native}for(var h=this.shapeIndex;h<this.graphicsData.length;h++){this.shapeIndex++;var u=this.graphicsData[h],l=Fn[u.type],c=u.fillStyle,d=u.lineStyle;l.build(u),u.matrix&&this.transformPoints(u.points,u.matrix);for(var p=0;p<2;p++){var f=0===p?c:d;if(f.visible){var v=f.texture.baseTexture,g=this.indices.length,m=this.points.length/2;!r||n===v&&o===f.color+f.alpha&&s===!!f.native||(r.size=g-r.start,r.attribSize=m-r.attribStart,r.size>0&&(r=null)),r||(r=Mn.pop()||new Ln,this.batches.push(r),v.wrapMode=Et.REPEAT,n=v,o=f.color+f.alpha,s=f.native,r.style=f,r.start=g,r.attribStart=m);var y=this.points.length/2;if(0===p)u.holes.length?(this.processHoles(u.holes),Pn.triangulate(u,this)):l.triangulate(u,this);else{In(u,this);for(var _=0;_<u.holes.length;_++)In(u.holes[_],this)}var x=this.points.length/2-y;this.addUvs(this.points,i,f.texture,y,x,f.matrix)}}}var b=this.indices.length,T=this.points.length/2;if(r)if(r.size=b-r.start,r.attribSize=T-r.attribStart,this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var w=0;w<this.batches.length;w++)for(var E=this.batches[w],S=0;S<E.size;S++){var I=E.start+S;this.indicesUint16[I]=this.indicesUint16[I]-E.attribStart}}else this.buildDrawCalls();else this.batchable=!0}else this.batchable=!0},e.prototype.isBatchable=function(){for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++ri._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].textures.length=0,Dn.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.uvs,r=this.colors,n=this.textureIds,o=Dn.pop()||new Jr;o.textureCount=0,o.start=0,o.size=0,o.type=_t.TRIANGLES;var s=0,a=null,h=0,u=!1,l=_t.TRIANGLES,c=0;this.drawCalls.push(o);for(var d=0;d<this.batches.length;d++){var p=this.batches[d],f=p.style,v=f.texture.baseTexture;u!==!!f.native&&(l=(u=f.native)?_t.LINES:_t.TRIANGLES,a=null,s=8,t++),a!==v&&(a=v,v._batchEnabled!==t&&(8===s&&(t++,s=0,o.size>0&&(o=Dn.pop()||new Jr,this.drawCalls.push(o)),o.start=c,o.size=0,o.textureCount=0,o.type=l),v.touched=1,v._batchEnabled=t,v._id=s,v.wrapMode=10497,o.textures[o.textureCount++]=v,s++)),o.size+=p.size,c+=p.size,h=v._id,this.addColors(r,f.color,f.alpha,p.attribSize),this.addTextureIds(n,h,p.attribSize)}ri._globalBatch=t;for(var g=this.points,m=new ArrayBuffer(3*g.length*4),y=new Float32Array(m),_=new Uint32Array(m),x=0,b=0;b<g.length/2;b++)y[x++]=g[2*b],y[x++]=g[2*b+1],y[x++]=i[2*b],y[x++]=i[2*b+1],_[x++]=r[b],y[x++]=n[b];this._buffer.update(m),this._indexBuffer.update(this.indicesUint16)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];Fn[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=1/0,e=-1/0,i=1/0,r=-1/0;if(this.graphicsData.length)for(var n=null,o=0,s=0,a=0,h=0,u=0;u<this.graphicsData.length;u++){var l=this.graphicsData[u],c=l.type,d=l.lineStyle?l.lineStyle.width:0;if(n=l.shape,c===fe.RECT||c===fe.RREC)o=n.x-d/2,s=n.y-d/2,t=o<t?o:t,e=o+(a=n.width+d)>e?o+a:e,i=s<i?s:i,r=s+(h=n.height+d)>r?s+h:r;else if(c===fe.CIRC)o=n.x,s=n.y,t=o-(a=n.radius+d/2)<t?o-a:t,e=o+a>e?o+a:e,i=s-(h=n.radius+d/2)<i?s-h:i,r=s+h>r?s+h:r;else if(c===fe.ELIP)o=n.x,s=n.y,t=o-(a=n.width+d/2)<t?o-a:t,e=o+a>e?o+a:e,i=s-(h=n.height+d/2)<i?s-h:i,r=s+h>r?s+h:r;else for(var p=n.points,f=0,v=0,g=0,m=0,y=0,_=0,x=0,b=0,T=0;T+2<p.length;T+=2)o=p[T],s=p[T+1],f=p[T+2],v=p[T+3],g=Math.abs(f-o),m=Math.abs(v-s),h=d,(a=Math.sqrt(g*g+m*m))<1e-9||(t=(x=(f+o)/2)-(y=(h/a*m+g)/2)<t?x-y:t,e=x+y>e?x+y:e,i=(b=(v+s)/2)-(_=(h/a*g+m)/2)<i?b-_:i,r=b+_>r?b+_:r)}else t=0,e=0,i=0,r=0;var w=this.boundsPadding;this._bounds.minX=t-w,this._bounds.maxX=e+w,this._bounds.minY=i-w,this._bounds.maxY=r+w},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},e.prototype.addColors=function(t,e,i,r){for(var n=kt((e>>16)+(65280&e)+((255&e)<<16),i);r-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,i){for(;i-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,i,r,n,o){for(var s=0,a=e.length,h=i.frame;s<n;){var u=t[2*(r+s)],l=t[2*(r+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=i.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,i,a,n)},e.prototype.adjustUvs=function(t,e,i,r){for(var n=e.baseTexture,o=i+2*r,s=e.frame,a=s.width/n.width,h=s.height/n.height,u=s.x/s.width,l=s.y/s.height,c=Math.floor(t[i]+1e-6),d=Math.floor(t[i+1]+1e-6),p=i+2;p<o;p+=2)c=Math.min(c,Math.floor(t[p]+1e-6)),d=Math.min(d,Math.floor(t[p+1]+1e-6));u-=c,l-=d;for(var f=i;f<o;f+=2)t[f]=(t[f]+u)*a,t[f+1]=(t[f+1]+l)*h},Object.defineProperties(e.prototype,i),e}(rn);Nn.BATCHABLE_SIZE=100;var Bn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(wn),Un=function(){};Un.curveLength=function(t,e,i,r,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,v=0,g=0,m=0,y=0,_=t,x=e,b=1;b<=10;++b)m=_-(v=(f=(p=(d=1-(u=b/10))*d)*d)*t+3*p*u*i+3*d*(l=u*u)*n+(c=l*u)*s),y=x-(g=f*e+3*p*u*r+3*d*l*o+c*a),_=v,x=g,h+=Math.sqrt(m*m+y*y);return h},Un.curveTo=function(t,e,i,r,n,o,s){var a=s[s.length-2],h=s[s.length-1];s.length-=2;var u=Tn._segmentsCount(Un.curveLength(a,h,t,e,i,r,n,o)),l=0,c=0,d=0,p=0,f=0;s.push(a,h);for(var v=1,g=0;v<=u;++v)d=(c=(l=1-(g=v/u))*l)*l,f=(p=g*g)*g,s.push(d*a+3*c*g*t+3*l*p*i+f*n,d*h+3*c*g*e+3*l*p*r+f*o)};var kn=function(){};kn.curveLength=function(t,e,i,r,n,o){var s=t-2*i+n,a=e-2*r+o,h=2*i-2*t,u=2*r-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),v=2*l*f,g=2*Math.sqrt(d),m=c/f;return(v*p+f*c*(p-g)+(4*d*l-c*c)*Math.log((2*f+m+p)/(m+g)))/(4*v)},kn.curveTo=function(t,e,i,r,n){for(var o=n[n.length-2],s=n[n.length-1],a=Tn._segmentsCount(kn.curveLength(o,s,t,e,i,r)),h=0,u=0,l=1;l<=a;++l){var c=l/a;h=o+(t-o)*c,u=s+(e-s)*c,n.push(h+(t+(i-t)*c-h)*c,u+(e+(r-e)*c-u)*c)}};var Xn=function(){};Xn.curveTo=function(t,e,i,r,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=r-e,l=i-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,v=n*Math.sqrt(d)/c,g=n*Math.sqrt(p)/c,m=v*f/d,y=g*f/p,_=v*l+g*h,x=v*u+g*a,b=h*(g+m),T=a*(g+m),w=l*(v+y),E=u*(v+y);return{cx:_+t,cy:x+e,radius:n,startAngle:Math.atan2(T-x,b-_),endAngle:Math.atan2(E-x,w-_),anticlockwise:h*u>l*a}},Xn.arc=function(t,e,i,r,n,o,s,a,h){for(var u=s-o,l=Tn._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/ce)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),v=l-1,g=v%1/v,m=0;m<=v;++m){var y=c+o+d*(m+g*m),_=Math.cos(y),x=-Math.sin(y);h.push((p*_+f*x)*n+i,(p*-x+f*_)*n+r)}};var jn=function(t){function e(e,i,r,n,o,s){o=o||n/2;for(var a=-1*Math.PI/2+s,h=2*r,u=ce/h,l=[],c=0;c<h;c++){var d=c%2?o:n,p=c*u+a;l.push(e+d*Math.cos(p),i+d*Math.sin(p))}t.call(this,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(De),Gn=new Float32Array(3),Hn=null,zn=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.geometry=e||new Nn,this.geometry.refCount++,this.shader=null,this.state=mr.for2d(),this._fillStyle=new wn,this._lineStyle=new Bn,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.pluginName="batch",this.tint=16777215,this.blendMode=yt.NORMAL}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return e.prototype.clone=function(){return this.finishPoly(),new e(this.geometry)},i.blendMode.set=function(t){this.state.blendMode=t},i.blendMode.get=function(){return this.state.blendMode},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t},i.fill.get=function(){return this._fillStyle},i.line.get=function(){return this._lineStyle},e.prototype.lineStyle=function(t,e,i,r,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=.5),void 0===n&&(n=!1),this.lineTextureStyle(t,yi.WHITE,e,i,null,r,n),this},e.prototype.lineTextureStyle=function(t,e,i,r,n,o,s){void 0===t&&(t=0),void 0===e&&(e=yi.WHITE),void 0===i&&(i=16777215),void 0===r&&(r=1),void 0===n&&(n=null),void 0===o&&(o=.5),void 0===s&&(s=!1),this.currentPath&&this.startPoly();var a=t>0&&r>0;return a?(n&&(n=n.clone()).invert(),Object.assign(this._lineStyle,{color:i,width:t,alpha:r,matrix:n,texture:e,alignment:o,native:s,visible:a})):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new De,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new De,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||i.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),kn.curveTo(t,e,i,r,n),this},e.prototype.bezierCurveTo=function(t,e,i,r,n,o){return this._initCurve(),Un.curveTo(t,e,i,r,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,i,r,n){this._initCurve(t,e);var o=this.currentPath.points,s=Xn.curveTo(t,e,i,r,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,i,r,n,o){if(void 0===o&&(o=!1),r===n)return this;if(!o&&n<=r?n+=ce:o&&r<=n&&(r+=ce),0===n-r)return this;var s=t+Math.cos(r)*i,a=e+Math.sin(r)*i,h=this.geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-s),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return Xn.arc(s,a,t,e,i,r,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill(yi.WHITE,t,e)},e.prototype.beginTextureFill=function(t,e,i,r){void 0===t&&(t=yi.WHITE),void 0===e&&(e=16777215),void 0===i&&(i=1),void 0===r&&(r=null),this.currentPath&&this.startPoly();var n=i>0;return n?(r&&(r=r.clone()).invert(),Object.assign(this._fillStyle,{color:e,alpha:i,texture:t,matrix:r,visible:n})):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,i,r){return this.drawShape(new Pe(t,e,i,r))},e.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new Re(t,e,i,r,n))},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new Ce(t,e,i))},e.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new Me(t,e,i,r))},e.prototype.drawPolygon=function(t){var e=arguments,i=t,r=!0;if(i.points&&(r=i.closeStroke,i=i.points),!Array.isArray(i)){i=new Array(arguments.length);for(var n=0;n<i.length;++n)i[n]=e[n]}var o=new De(i);return o.closeStroke=r,this.drawShape(o),this},e.prototype.drawShape=function(t){return this._holeMode?this.geometry.drawHole(t,this._matrix):this.geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,i,r,n,o){return void 0===o&&(o=0),this.drawPolygon(new jn(t,e,i,r,n,o))},e.prototype.clear=function(){return this.geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){return!1},e.prototype._render=function(t){this.finishPoly();var e=this.geometry;if(e.updateBatches(),e.batchable){if(this.batchDirty!==e.batchDirty){this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.vertexData=new Float32Array(e.points);for(var i=this.blendMode,r=0;r<e.batches.length;r++){var n=e.batches[r],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(e.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:i,indices:new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:Rt(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=h}}if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var u=0;u<this.batches.length;u++){var l=this.batches[u];l.worldAlpha=this.worldAlpha*l.alpha,t.plugins[this.pluginName].render(l)}}}else{if(t.batch.flush(),!this.shader){if(!Hn){for(var c=new Int32Array(16),d=0;d<16;d++)c[d]=d;var p={tint:new Float32Array([1,1,1,1]),translationMatrix:new ve,default:Fi.from({uSamplers:c},!0)},f=t.plugins.batch._shader.program;Hn=new vr(f,p)}this.shader=Hn}var v=this.shader.uniforms;v.translationMatrix=this.transform.worldTransform;var g=this.tint,m=this.worldAlpha;v.tint[0]=(g>>16&255)/255*m,v.tint[1]=(g>>8&255)/255*m,v.tint[2]=(255&g)/255*m,v.tint[3]=m,t.shader.bind(this.shader),t.geometry.bind(e,this.shader),t.state.set(this.state);for(var y=0;y<e.drawCalls.length;y++){for(var _=e.drawCalls[y],x=_.textureCount,b=0;b<x;b++)t.texture.bind(_.textures[b],b);t.geometry.draw(_.type,_.size,_.start)}}},e.prototype._calculateBounds=function(){this.finishPoly();var t=this.geometry.bounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this.geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Rt(this.tint,Gn),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,n=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldTransform,e=t.a,i=t.b,r=t.c,n=t.d,o=t.tx,s=t.ty,a=this.geometry.points,h=this.vertexData,u=0,l=0;l<a.length;l+=2){var c=a[l],d=a[l+1];h[u++]=e*c+r*d+o,h[u++]=n*d+i*c+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Object.defineProperties(e.prototype,i),e}(Be);zn._TEMP_POINT=new he;var Vn=new he,Yn=new Uint16Array([0,1,2,0,2,3]),Wn=function(t){function e(e){t.call(this),this._anchor=new ue(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=yt.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=e||yi.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Yn,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=g.ROUND_PIXELS}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this._width&&(this.scale.x=Vt(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Vt(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,v=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(v=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(v=-c._y*l.height)+l.height),h[0]=i*p+n*v+s,h[1]=o*v+r*p+a,h[2]=i*d+n*v+s,h[3]=o*v+r*d+a,h[4]=i*d+n*f+s,h[5]=o*f+r*d+a,h[6]=i*p+n*f+s,h[7]=o*f+r*p+a,this._roundPixels)for(var g=0;g<8;g++)h[g]=Math.round(h[g])}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-r._x*i.width,d=c+i.width,p=-r._y*i.height,f=p+i.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pe),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Vn);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,n=0;return Vn.x>=r&&Vn.x<r+e&&(n=-i*this.anchor.y,Vn.y>=n&&Vn.y<n+i)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},e.from=function(t,i){return new e(t instanceof yi?t:yi.from(t,i))},i.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},i.roundPixels.get=function(){return this._roundPixels},i.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){var e=Vt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){var e=Vt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){this._anchor.copyFrom(t)},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},i.texture.get=function(){return this._texture},i.texture.set=function(t){this._texture!==t&&(this._texture=t||yi.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},Object.defineProperties(e.prototype,i),e}(Be),qn={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},Zn={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:qn.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Kn=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Jn=function(t){this.styleID=0,this.reset(),eo(this,t,t)},Qn={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function $n(t){return"number"==typeof t?Ft(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function to(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=$n(t[e]);return t}return $n(t)}function eo(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}Jn.prototype.clone=function(){var t={};return eo(t,this,Zn),new Jn(t)},Jn.prototype.reset=function(){eo(this,Zn,Zn)},Qn.align.get=function(){return this._align},Qn.align.set=function(t){this._align!==t&&(this._align=t,this.styleID++)},Qn.breakWords.get=function(){return this._breakWords},Qn.breakWords.set=function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},Qn.dropShadow.get=function(){return this._dropShadow},Qn.dropShadow.set=function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},Qn.dropShadowAlpha.get=function(){return this._dropShadowAlpha},Qn.dropShadowAlpha.set=function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},Qn.dropShadowAngle.get=function(){return this._dropShadowAngle},Qn.dropShadowAngle.set=function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},Qn.dropShadowBlur.get=function(){return this._dropShadowBlur},Qn.dropShadowBlur.set=function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},Qn.dropShadowColor.get=function(){return this._dropShadowColor},Qn.dropShadowColor.set=function(t){var e=to(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},Qn.dropShadowDistance.get=function(){return this._dropShadowDistance},Qn.dropShadowDistance.set=function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},Qn.fill.get=function(){return this._fill},Qn.fill.set=function(t){var e=to(t);this._fill!==e&&(this._fill=e,this.styleID++)},Qn.fillGradientType.get=function(){return this._fillGradientType},Qn.fillGradientType.set=function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},Qn.fillGradientStops.get=function(){return this._fillGradientStops},Qn.fillGradientStops.set=function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},Qn.fontFamily.get=function(){return this._fontFamily},Qn.fontFamily.set=function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},Qn.fontSize.get=function(){return this._fontSize},Qn.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},Qn.fontStyle.get=function(){return this._fontStyle},Qn.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},Qn.fontVariant.get=function(){return this._fontVariant},Qn.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},Qn.fontWeight.get=function(){return this._fontWeight},Qn.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},Qn.letterSpacing.get=function(){return this._letterSpacing},Qn.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},Qn.lineHeight.get=function(){return this._lineHeight},Qn.lineHeight.set=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},Qn.leading.get=function(){return this._leading},Qn.leading.set=function(t){this._leading!==t&&(this._leading=t,this.styleID++)},Qn.lineJoin.get=function(){return this._lineJoin},Qn.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},Qn.miterLimit.get=function(){return this._miterLimit},Qn.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},Qn.padding.get=function(){return this._padding},Qn.padding.set=function(t){this._padding!==t&&(this._padding=t,this.styleID++)},Qn.stroke.get=function(){return this._stroke},Qn.stroke.set=function(t){var e=to(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},Qn.strokeThickness.get=function(){return this._strokeThickness},Qn.strokeThickness.set=function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},Qn.textBaseline.get=function(){return this._textBaseline},Qn.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},Qn.trim.get=function(){return this._trim},Qn.trim.set=function(t){this._trim!==t&&(this._trim=t,this.styleID++)},Qn.whiteSpace.get=function(){return this._whiteSpace},Qn.whiteSpace.set=function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},Qn.wordWrap.get=function(){return this._wordWrap},Qn.wordWrap.set=function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},Qn.wordWrapWidth.get=function(){return this._wordWrapWidth},Qn.wordWrapWidth.set=function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},Jn.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Kn.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Object.defineProperties(Jn.prototype,Qn);var io=function(t,e,i,r,n,o,s,a,h){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h};io.measureText=function(t,e,i,r){void 0===r&&(r=io._canvas),i=null==i?e.wordWrap:i;var n=e.toFontString(),o=io.measureFont(n);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=r.getContext("2d");s.font=n;for(var a=(i?io.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),u=0,l=0;l<a.length;l++){var c=s.measureText(a[l]).width+(a[l].length-1)*e.letterSpacing;h[l]=c,u=Math.max(u,c)}var d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||o.fontSize+e.strokeThickness,f=Math.max(p,o.fontSize+e.strokeThickness)+(a.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new io(t,e,d,f,a,h,p+e.leading,u,o)},io.wordWrap=function(t,e,i){void 0===i&&(i=io._canvas);for(var r=i.getContext("2d"),n=0,o="",s="",a={},h=e.letterSpacing,u=e.whiteSpace,l=io.collapseSpaces(u),c=io.collapseNewlines(u),d=!l,p=e.wordWrapWidth+h,f=io.tokenize(t),v=0;v<f.length;v++){var g=f[v];if(io.isNewline(g)){if(!c){s+=io.addLine(o),d=!l,o="",n=0;continue}g=" "}if(l){var m=io.isBreakingSpace(g),y=io.isBreakingSpace(o[o.length-1]);if(m&&y)continue}var _=io.getFromCache(g,h,a,r);if(_>p)if(""!==o&&(s+=io.addLine(o),o="",n=0),io.canBreakWords(g,e.breakWords))for(var x=g.split(""),b=0;b<x.length;b++){for(var T=x[b],w=1;x[b+w];){var E=x[b+w],S=T[T.length-1];if(io.canBreakChars(S,E,g,b,e.breakWords))break;T+=E,w++}b+=T.length-1;var I=io.getFromCache(T,h,a,r);I+n>p&&(s+=io.addLine(o),d=!1,o="",n=0),o+=T,n+=I}else{o.length>0&&(s+=io.addLine(o),o="",n=0);var P=v===f.length-1;s+=io.addLine(g,!P),d=!1,o="",n=0}else _+n>p&&(d=!1,s+=io.addLine(o),o="",n=0),(o.length>0||!io.isBreakingSpace(g)||d)&&(o+=g,n+=_)}return s+=io.addLine(o,!1)},io.addLine=function(t,e){return void 0===e&&(e=!0),t=io.trimRight(t),t=e?t+"\n":t},io.getFromCache=function(t,e,i,r){var n=i[t];if(void 0===n){var o=t.length*e;n=r.measureText(t).width+o,i[t]=n}return n},io.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},io.collapseNewlines=function(t){return"normal"===t},io.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var i=t[e];if(!io.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},io.isNewline=function(t){return"string"==typeof t&&io._newlines.indexOf(t.charCodeAt(0))>=0},io.isBreakingSpace=function(t){return"string"==typeof t&&io._breakingSpaces.indexOf(t.charCodeAt(0))>=0},io.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var n=t[r];io.isBreakingSpace(n)||io.isNewline(n)?(""!==i&&(e.push(i),i=""),e.push(n)):i+=n}return""!==i&&e.push(i),e},io.canBreakWords=function(t,e){return e},io.canBreakChars=function(t,e,i,r,n){return!0},io.measureFont=function(t){if(io._fonts[t])return io._fonts[t];var e={},i=io._canvas,r=io._context;r.font=t;var n=io.METRICS_STRING+io.BASELINE_SYMBOL,o=Math.ceil(r.measureText(n).width),s=Math.ceil(r.measureText(io.BASELINE_SYMBOL).width),a=2*s;s=s*io.BASELINE_MULTIPLIER|0,i.width=o,i.height=a,r.fillStyle="#f00",r.fillRect(0,0,o,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(n,0,s);var h=r.getImageData(0,0,o,a).data,u=h.length,l=4*o,c=0,d=0,p=!1;for(c=0;c<s;++c){for(var f=0;f<l;f+=4)if(255!==h[d+f]){p=!0;break}if(p)break;d+=l}for(e.ascent=s-c,d=u-l,p=!1,c=a;c>s;--c){for(var v=0;v<l;v+=4)if(255!==h[d+v]){p=!0;break}if(p)break;d-=l}return e.descent=c-s,e.fontSize=e.ascent+e.descent,io._fonts[t]=e,e},io.clearMetrics=function(t){void 0===t&&(t=""),t?delete io._fonts[t]:io._fonts={}};var ro=function(){try{var t=new OffscreenCanvas(0,0);return t.getContext("2d")?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();ro.width=ro.height=10,io._canvas=ro,io._context=ro.getContext("2d"),io._fonts={},io.METRICS_STRING="|ÉqÅ",io.BASELINE_SYMBOL="M",io.BASELINE_MULTIPLIER=1.4,io._newlines=[10,13],io._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var no={texture:!0,children:!1,baseTexture:!0},oo=function(t){function e(e,i,r){(r=r||document.createElement("canvas")).width=3,r.height=3;var n=yi.from(r);n.orig=new Pe,n.trim=new Pe,t.call(this,n),this.canvas=r,this.context=this.canvas.getContext("2d"),this._resolution=g.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=i,this.localStyleID=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,n=this.context,o=io.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var v=e.dropShadow&&0===f,g=v?2*a:0,m=g*this.resolution;if(v){n.fillStyle="black",n.strokeStyle="black";var y=e.dropShadowColor,_=Rt("number"==typeof y?y:Lt(y));n.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+m}else n.fillStyle=this._generateFillStyle(e,h),n.strokeStyle=e.stroke,n.shadowColor=0,n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var x=0;x<h.length;x++)i=e.strokeThickness/2,r=e.strokeThickness/2+x*u+d.ascent,"right"===e.align?i+=c-l[x]:"center"===e.align&&(i+=(c-l[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[x],i+e.padding,r+e.padding-g,!0),e.fill&&this.drawLetterSpacing(h[x],i+e.padding,r+e.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,i,r){void 0===r&&(r=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=0;a<s.length;++a){var h=s[a];r?this.context.strokeText(h,o,i):this.context.fillText(h,o,i),o+=this.context.measureText(h).width+n}else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=Qt(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,r=this._style,n=r.trim?0:r.padding,o=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(t.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(t.height/this._resolution),i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(1===t.fill.length)return t.fill[0];var i,r,n,o,s=Math.ceil(this.canvas.width/this._resolution),a=Math.ceil(this.canvas.height/this._resolution),h=t.fill.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var l=h.length+1,c=1;c<l;++c)u.push(c/l);if(h.unshift(t.fill[0]),u.unshift(0),h.push(t.fill[t.fill.length-1]),u.push(1),t.fillGradientType===qn.LINEAR_VERTICAL){i=this.context.createLinearGradient(s/2,0,s/2,a),r=(h.length+1)*e.length,n=0;for(var d=0;d<e.length;d++){n+=1;for(var p=0;p<h.length;p++)o="number"==typeof u[p]?u[p]/e.length+d/e.length:n/r,i.addColorStop(o,h[p]),n++}}else{i=this.context.createLinearGradient(0,a/2,s,a/2),r=h.length+1,n=1;for(var f=0;f<h.length;f++)o="number"==typeof u[f]?u[f]:n/r,i.addColorStop(o,h[f]),n++}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},no,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},i.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){this.updateText(!0);var e=Vt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){this.updateText(!0);var e=Vt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.style.get=function(){return this._style},i.style.set=function(t){t=t||{},this._style=t instanceof Jn?t:new Jn(t),this.localStyleID=-1,this.dirty=!0},i.text.get=function(){return this._text},i.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},i.resolution.get=function(){return this._resolution},i.resolution.set=function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},Object.defineProperties(e.prototype,i),e}(Wn);g.UPLOADS_PER_FRAME=4;var so=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};so.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},so.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var ao=function(t){var e=this;this.limiter=new so(g.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(fo),this.registerFindHook(vo),this.registerFindHook(ho),this.registerFindHook(uo),this.registerFindHook(lo),this.registerUploadHook(co),this.registerUploadHook(po)};function ho(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof yi){var n=t._textures[r].baseTexture;-1===e.indexOf(n)&&(e.push(n),i=!0)}return i}function uo(t,e){return t instanceof ri&&(-1===e.indexOf(t)&&e.push(t),!0)}function lo(t,e){if(t._texture&&t._texture instanceof yi){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function co(t,e){return e instanceof oo&&(e.updateText(!0),!0)}function po(t,e){if(e instanceof Jn){var i=e.toFontString();return io.measureFont(i),!0}return!1}function fo(t,e){if(t instanceof oo){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function vo(t,e){return t instanceof Jn&&(-1===e.indexOf(t)&&e.push(t),!0)}ao.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Ve.system.addOnce(this.tick,this,He.UTILITY))):e&&e()},ao.prototype.tick=function(){setTimeout(this.delayedTick,0)},ao.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Ve.system.addOnce(this.tick,this,He.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var o=0,s=n.length;o<s;o++)n[o]()}},ao.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},ao.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},ao.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Be)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},ao.prototype.destroy=function(){this.ticking&&Ve.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var go=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this.renderer,this.registerFindHook(_o),this.registerUploadHook(mo),this.registerUploadHook(yo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ao);function mo(t,e){return e instanceof ri&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function yo(t,e){return e instanceof zn&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function _o(t,e){return t instanceof zn&&(e.push(t),!0)}var xo=function(t){this.maxMilliseconds=t,this.frameStart=0};xo.prototype.beginFrame=function(){this.frameStart=Date.now()},xo.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};var bo={BasePrepare:ao,CountLimiter:so,Prepare:go,TimeLimiter:xo},To=function t(e){var i=this;e=Object.assign({forceCanvas:!1},e),this.renderer=Wr(e),this.stage=new Be,t._plugins.forEach(function(t){t.init.call(i,e)})},wo={view:{configurable:!0},screen:{configurable:!0}};To.registerPlugin=function(t){To._plugins.push(t)},To.prototype.render=function(){this.renderer.render(this.stage)},wo.view.get=function(){return this.renderer.view},wo.screen.get=function(){return this.renderer.screen},To.prototype.destroy=function(t,e){var i=this,r=To._plugins.slice(0);r.reverse(),r.forEach(function(t){t.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},Object.defineProperties(To.prototype,wo),To._plugins=[];var Eo=function(){};Eo.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.resize),this._resizeTo=t,t&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){e._resizeTo&&(e._resizeTo===window?e.renderer.resize(window.innerWidth,window.innerHeight):e.renderer.resize(e._resizeTo.clientWidth,e._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null},Eo.destroy=function(){this.resizeTo=null,this.resize=null},To.registerPlugin(Eo);var So=function(t,e){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[i.key[o]]=r[o]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,function(t,e,r){e&&(n[i.q.name][e]=r)}),n},Io=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(i(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,i,n){void 0===i&&(i=!1),r(this,t),this._fn=e,this._once=i,this._thisArg=n,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){r(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=arguments,e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,t),e=e._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=n,e.default=s,t.exports=e.default}));function Po(){}function Ao(t,e,i,r){var n=0,o=t.length;!function s(a){a||n===o?i&&i(a):r?setTimeout(function(){e(t[n++],s)},1):e(t[n++],s)}()}function Oo(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function Co(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,r={_tasks:[],concurrency:e,saturated:Po,unsaturated:Po,buffer:e/4,empty:Po,drain:Po,error:Po,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){i=0,r.drain=Po,r.started=!1,r._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!r.paused&&i<r.concurrency&&r._tasks.length;){var e=r._tasks.shift();0===r._tasks.length&&r.empty(),(i+=1)===r.concurrency&&r.saturated(),t(e.data,Oo(o(e)))}},length:function(){return r._tasks.length},running:function(){return i},idle:function(){return r._tasks.length+i===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var t=1;t<=r.concurrency;t++)r.process()}}};function n(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(r.started=!0,null==t&&r.idle())setTimeout(function(){return r.drain()},1);else{var n={data:t,callback:"function"==typeof i?i:Po};e?r._tasks.unshift(n):r._tasks.push(n),setTimeout(function(){return r.process()},1)}}function o(t){return function(){i-=1,t.callback.apply(t,arguments),null!=arguments[0]&&r.error(arguments[0],t.data),i<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}var Mo={};function Do(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ro(t,e,i){return e&&Do(t.prototype,e),i&&Do(t,i),t}var Fo=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Lo=null;function No(){}var Bo=function(){function t(e,i,r){if("string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=No,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Io,this.onProgress=new Io,this.onComplete=new Io,this.onAfterMiddleware=new Io}t.setExtensionLoadType=function(e,i){Uo(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){Uo(t._xhrTypeMap,e,i)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var i=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(i)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:Fo&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(ko(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(ko(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(ko(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,i="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),0===r&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(i,"text/xml")}else{var o=document.createElement("div");o.innerHTML=i,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,Lo||(Lo=document.createElement("a")),Lo.href=t;var i=!(t=So(Lo.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&r===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(r>-1?r:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Ro(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function Uo(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function ko(t){return t.toString().replace("object ","")}Bo.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Bo.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Bo.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Bo.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Bo._loadTypeMap={gif:Bo.LOAD_TYPE.IMAGE,png:Bo.LOAD_TYPE.IMAGE,bmp:Bo.LOAD_TYPE.IMAGE,jpg:Bo.LOAD_TYPE.IMAGE,jpeg:Bo.LOAD_TYPE.IMAGE,tif:Bo.LOAD_TYPE.IMAGE,tiff:Bo.LOAD_TYPE.IMAGE,webp:Bo.LOAD_TYPE.IMAGE,tga:Bo.LOAD_TYPE.IMAGE,svg:Bo.LOAD_TYPE.IMAGE,"svg+xml":Bo.LOAD_TYPE.IMAGE,mp3:Bo.LOAD_TYPE.AUDIO,ogg:Bo.LOAD_TYPE.AUDIO,wav:Bo.LOAD_TYPE.AUDIO,mp4:Bo.LOAD_TYPE.VIDEO,webm:Bo.LOAD_TYPE.VIDEO},Bo._xhrTypeMap={xhtml:Bo.XHR_RESPONSE_TYPE.DOCUMENT,html:Bo.XHR_RESPONSE_TYPE.DOCUMENT,htm:Bo.XHR_RESPONSE_TYPE.DOCUMENT,xml:Bo.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Bo.XHR_RESPONSE_TYPE.DOCUMENT,svg:Bo.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Bo.XHR_RESPONSE_TYPE.DOCUMENT,gif:Bo.XHR_RESPONSE_TYPE.BLOB,png:Bo.XHR_RESPONSE_TYPE.BLOB,bmp:Bo.XHR_RESPONSE_TYPE.BLOB,jpg:Bo.XHR_RESPONSE_TYPE.BLOB,jpeg:Bo.XHR_RESPONSE_TYPE.BLOB,tif:Bo.XHR_RESPONSE_TYPE.BLOB,tiff:Bo.XHR_RESPONSE_TYPE.BLOB,webp:Bo.XHR_RESPONSE_TYPE.BLOB,tga:Bo.XHR_RESPONSE_TYPE.BLOB,json:Bo.XHR_RESPONSE_TYPE.JSON,text:Bo.XHR_RESPONSE_TYPE.TEXT,txt:Bo.XHR_RESPONSE_TYPE.TEXT,ttf:Bo.XHR_RESPONSE_TYPE.BUFFER,otf:Bo.XHR_RESPONSE_TYPE.BUFFER},Bo.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var jo=window.URL||window.webkitURL;var Go={caching:function(t,e){var i=this;Mo[t.url]?(t.data=Mo[t.url],t.complete()):t.onComplete.once(function(){return Mo[i.url]=i.data}),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Bo.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=jo.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Bo.TYPE.IMAGE,void(t.data.onload=function(){jo.revokeObjectURL(i),t.data.onload=null,e()})}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+function(t){for(var e="",i=0;i<t.length;){for(var r=[0,0,0],n=[0,0,0,0],o=0;o<r.length;++o)i<t.length?r[o]=255&t.charCodeAt(i++):r[o]=0;switch(n[0]=r[0]>>2,n[1]=(3&r[0])<<4|r[1]>>4,n[2]=(15&r[1])<<2|r[2]>>6,n[3]=63&r[2],i-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+=Xo.charAt(n[s])}return e}(t.xhr.responseText),t.type=Bo.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Ho=/(#[\w-]+)?$/,zo=function(){function t(e,i){var r=this;void 0===e&&(e=""),void 0===i&&(i=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=Co(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new Io,this.onError=new Io,this.onLoad=new Io,this.onStart=new Io,this.onComplete=new Io;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,i,r){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(r=e||t.callback||t.onComplete,i=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(r=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Bo(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var o=i.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var h=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<s.length;++u)s[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,i=So(t,{strictMode:!0});if(e=i.protocol||!i.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=Ho.exec(e)[0];-1!==(e=e.substr(0,e.length-r.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=r}return e},e._loadResource=function(t,e){var i=this;t._dequeue=e,Ao(this._beforeMiddleware,function(e,r){e.call(i,t,function(){r(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Ao(this._afterMiddleware,function(i,r){i.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},Ro(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();zo._defaultBeforeMiddleware=[],zo._defaultAfterMiddleware=[],zo.pre=function(t){return zo._defaultBeforeMiddleware.push(t),zo},zo.use=function(t){return zo._defaultAfterMiddleware.push(t),zo};var Vo=function(){};Vo.use=function(t,e){t.data&&t.type===Bo.TYPE.IMAGE&&(t.texture=yi.fromLoader(t.data,t.url,t.name)),e()};var Yo=function(t){function e(i,r){var n=this;t.call(this,i,r),m.call(this);for(var o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&this.pre(a),h&&this.use(h)}this.onStart.add(function(t){return n.emit("start",t)}),this.onProgress.add(function(t,e){return n.emit("progress",t,e)}),this.onError.add(function(t,e,i){return n.emit("error",t,e,i)}),this.onLoad.add(function(t,e){return n.emit("load",t,e)}),this.onComplete.add(function(t,e){return n.emit("complete",t,e)}),this._protected=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={shared:{configurable:!0}};return e.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},i.shared.get=function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},Object.defineProperties(e,i),e}(zo);Object.assign(Yo.prototype,m.prototype),Yo._plugins=[],Yo.registerPlugin=function(t){return Yo._plugins.push(t),t.add&&t.add(),Yo},Yo.registerPlugin({use:Go.parsing}),Yo.registerPlugin(Vo);var Wo=function(){};Wo.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Yo.shared:new Yo},Wo.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var qo=Bo,Zo=function(t){function e(e,i,r,n){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===n&&(n=!1),t.call(this);r>16384&&(r=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=yt.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(i),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={tint:{configurable:!0}};return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,Rt(t,this.tintRgb)},e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},Object.defineProperties(e.prototype,i),e}(Be),Ko=function(t,e,i){this.geometry=new Ci,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var n=t[r];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||Tt.FLOAT,offset:n.offset},e[r]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};Ko.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Ei(jt(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var r=this.dynamicProperties[i];r.offset=e,e+=r.size,this.dynamicStride+=r.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ei(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var a=this.staticProperties[s];a.offset=o,o+=a.size,this.staticStride+=a.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=new Ei(this.staticData,!0,!1);for(var u=0;u<this.dynamicProperties.length;++u){var l=this.dynamicProperties[u];t.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===Tt.UNSIGNED_BYTE,l.type,4*this.dynamicStride,4*l.offset)}for(var c=0;c<this.staticProperties.length;++c){var d=this.staticProperties[c];t.addAttribute(d.attributeName,this.staticBuffer,0,d.type===Tt.UNSIGNED_BYTE,d.type,4*this.staticStride,4*d.offset)}},Ko.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(t,e,i,n.type===Tt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},Ko.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(t,e,i,n.type===Tt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},Ko.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var Jo="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",Qo="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",$o=function(t){function e(e){t.call(this,e),this.shader=null,this.properties=null,this.tempMatrix=new ve,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Tt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=vr.from(Jo,Qo,{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>i&&!t.autoResize&&(o=i);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.state.setBlendMode(Bt(t.blendMode,a.premultiplyAlpha));var h=n.gl,u=t.worldTransform.copyTo(this.tempMatrix);u.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=Ut(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.premultiplyAlpha),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var l=!1,c=0,d=0;c<o;c+=r,d+=1){var p=o-c;p>r&&(p=r),d>=s.length&&s.push(this._generateOneMoreBuffer(t));var f=s[d];f.uploadDynamic(e,c,p);var v=t._bufferUpdateIDs[d]||0;(l=l||f._updateID<v)&&(f._updateID=t._updateID,f.uploadStatic(e,c,p)),n.geometry.bind(f.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,n=t._properties,o=0;o<i;o+=r)e.push(new Ko(this.properties,n,r));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,i=t._properties;return new Ko(this.properties,i,e)},e.prototype.uploadVertices=function(t,e,i,r,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<i;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,v=d.trim,g=d.orig;v?(s=(a=v.x-c.anchor.x*g.width)+v.width,h=(u=v.y-c.anchor.y*g.height)+v.height):(s=g.width*(1-c.anchor.x),a=g.width*-c.anchor.x,h=g.height*(1-c.anchor.y),u=g.height*-c.anchor.y),r[o]=a*p,r[o+1]=u*f,r[o+n]=s*p,r[o+n+1]=u*f,r[o+2*n]=s*p,r[o+2*n+1]=h*f,r[o+3*n]=a*p,r[o+3*n+1]=h*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].position;r[o]=a.x,r[o+1]=a.y,r[o+n]=a.x,r[o+n+1]=a.y,r[o+2*n]=a.x,r[o+2*n+1]=a.y,r[o+3*n]=a.x,r[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].rotation;r[o]=a,r[o+n]=a,r[o+2*n]=a,r[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s]._texture._uvs;a?(r[o]=a.x0,r[o+1]=a.y0,r[o+n]=a.x1,r[o+n+1]=a.y1,r[o+2*n]=a.x2,r[o+2*n+1]=a.y2,r[o+3*n]=a.x3,r[o+3*n+1]=a.y3,o+=4*n):(r[o]=0,r[o+1]=0,r[o+n]=0,r[o+n+1]=0,r[o+2*n]=0,r[o+2*n+1]=0,r[o+3*n]=0,r[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s],h=a._texture.baseTexture.premultiplyAlpha,u=a.alpha,l=u<1&&h?kt(a._tintRGB,u):a._tintRGB+(255*u<<24);r[o]=l,r[o+n]=l,r[o+2*n]=l,r[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Bi),ts=function(t,e,i){void 0===i&&(i=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(i||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},es={BATCH_SIZE:{configurable:!0}};es.BATCH_SIZE.get=function(){return 1e3},ts.prototype._updateResolution=function(t){var e=this.data.meta.scale,i=ne(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},ts.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=ts.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},ts.prototype._processFrames=function(t){for(var e=t,i=ts.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r=this._frameKeys[e],n=this._frames[r],o=n.frame;if(o){var s=null,a=null,h=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,u=new Pe(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s=n.rotated?new Pe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new Pe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(a=new Pe(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[r]=new yi(this.baseTexture,s,u,a,n.rotated?2:0,n.anchor),yi.addToCache(this.textures[r],r)}e++}},ts.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++){var r=t[e][i];this.animations[e].push(this.textures[r])}}},ts.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},ts.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*ts.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*ts.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},ts.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(ts,es);var is=function(){};is.use=function(t,e){var i=t.name+"_image";if(t.data&&t.type===qo.TYPE.JSON&&t.data.frames&&!this.resources[i]){var r={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},n=is.getResourcePath(t,this.baseUrl);this.add(i,n,r,function(i){if(i.error)e(i.error);else{var r=new ts(i.texture.baseTexture,t.data,t.url);r.parse(function(){t.spritesheet=r,t.textures=r.textures,e()})}})}else e()},is.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:vt.resolve(t.url.replace(e,""),t.data.meta.image)};var rs=new he,ns=function(t){function e(e,i,r){void 0===i&&(i=100),void 0===r&&(r=100),t.call(this,e),this.tileTransform=new Se,this._width=i,this._height=r,this._canvasPattern=null,this.uvMatrix=e.uvMatrix||new wr(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={clampMargin:{configurable:!0},tileScale:{configurable:!0},tilePosition:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return i.clampMargin.get=function(){return this.uvMatrix.clampMargin},i.clampMargin.set=function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},i.tileScale.get=function(){return this.tileTransform.scale},i.tileScale.set=function(t){this.tileTransform.scale.copyFrom(t)},i.tilePosition.get=function(){return this.tileTransform.position},i.tilePosition.set=function(t){this.tileTransform.position.copyFrom(t)},e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pe),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,rs);var e=this._width,i=this._height,r=-e*this.anchor._x;if(rs.x>=r&&rs.x<r+e){var n=-i*this.anchor._y;if(rs.y>=n&&rs.y<n+i)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,i,r){return new e(yi.from(t),i,r)},e.fromFrame=function(t,i,r){var n=Kt[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(n,i,r)},e.fromImage=function(t,i,r,n){return n&&"object"!=typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),new e(yi.from(t,n),i,r)},i.width.get=function(){return this._width},i.width.set=function(t){this._width=t},i.height.get=function(){return this._height},i.height.set=function(t){this._height=t},Object.defineProperties(e.prototype,i),e}(Wn),os="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",ss="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n",as="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",hs=new ve,us=function(t){function e(e){t.call(this,e);var i={globals:this.renderer.globalUniforms};this.shader=vr.from(os,ss,i),this.simpleShader=vr.from(os,as,i),this.quad=new Di}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.renderer,i=this.quad,r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=i.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),i.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,h=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==Et.CLAMP:o.wrapMode===Et.CLAMP&&(o.wrapMode=Et.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,d=t._width,p=t._height;hs.set(s.a*l/d,s.b*l/p,s.c*c/d,s.d*c/p,s.tx/d,s.ty/p),hs.invert(),h?hs.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=hs.toArray(!0),u.uniforms.uColor=Xt(t.tint,t.worldAlpha,u.uniforms.uColor,o.premultiplyAlpha),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(i),e.state.setBlendMode(Bt(t.blendMode,o.premultiplyAlpha)),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Bi),ls=function(t){function e(e,i){var r=this;void 0===i&&(i={}),t.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==i.tint?i.tint:16777215,align:i.align||"left",name:null,size:0},this.font=i.font,this._text=e,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new ue(function(){r.dirty=!0},this,0,0),this.dirty=!1,this.roundPixels=g.ROUND_PIXELS,this.updateText()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],i=this._font.size/t.size,r=new he,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,h=this._maxWidth*t.size/this._font.size,u=null,l=0,c=0,d=0,p=-1,f=0,v=0,g=0,m=0;m<a;m++){var y=s.charCodeAt(m),_=s.charAt(m);if(/(?:\s)/.test(_)&&(p=m,f=l),"\r"!==_&&"\n"!==_){var x=t.chars[y];x&&(u&&x.kerning[u]&&(r.x+=x.kerning[u]),n.push({texture:x.texture,line:d,charCode:y,position:new he(r.x+x.xOffset+this._letterSpacing/2,r.y+x.yOffset)}),r.x+=x.xAdvance+this._letterSpacing,l=r.x,g=Math.max(g,x.yOffset+x.texture.height),u=y,-1!==p&&h>0&&r.x>h&&(Gt(n,1+p-++v,1+m-p),m=p,p=-1,o.push(f),c=Math.max(c,f),d++,r.x=0,r.y+=t.lineHeight,u=null))}else o.push(l),c=Math.max(c,l),++d,++v,r.x=0,r.y+=t.lineHeight,u=null}var b=s.charAt(s.length-1);"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(l=f),o.push(l),c=Math.max(c,l));for(var T=[],w=0;w<=d;w++){var E=0;"right"===this._font.align?E=c-o[w]:"center"===this._font.align&&(E=(c-o[w])/2),T.push(E)}for(var S=n.length,I=this.tint,P=0;P<S;P++){var A=this._glyphs[P];A?A.texture=n[P].texture:((A=new Wn(n[P].texture)).roundPixels=this.roundPixels,this._glyphs.push(A)),A.position.x=(n[P].position.x+T[n[P].line])*i,A.position.y=n[P].position.y*i,A.scale.x=A.scale.y=i,A.tint=I,A.parent||this.addChild(A)}for(var O=S;O<this._glyphs.length;++O)this.removeChild(this._glyphs[O]);if(this._textWidth=c*i,this._textHeight=(r.y+t.lineHeight)*i,0!==this.anchor.x||0!==this.anchor.y)for(var C=0;C<S;C++)this._glyphs[C].x-=this._textWidth*this.anchor.x,this._glyphs[C].y-=this._textHeight*this.anchor.y;this._maxLineHeight=g*i},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.tint.get=function(){return this._font.tint},i.tint.set=function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0},i.align.get=function(){return this._font.align},i.align.set=function(t){this._font.align=t||"left",this.dirty=!0},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},i.font.get=function(){return this._font},i.font.set=function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)},i.text.get=function(){return this._text},i.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},i.maxWidth.get=function(){return this._maxWidth},i.maxWidth.set=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},i.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},i.textWidth.get=function(){return this.validate(),this._textWidth},i.letterSpacing.get=function(){return this._letterSpacing},i.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},i.textHeight.get=function(){return this.validate(),this._textHeight},e.registerFont=function(t,i){var r={},n=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("page"),a=ne(s[0].getAttribute("file"),g.RESOLUTION),h={};r.font=n.getAttribute("face"),r.size=parseInt(n.getAttribute("size"),10),r.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/a,r.chars={},i instanceof yi&&(i=[i]);for(var u=0;u<s.length;u++){var l=s[u].getAttribute("id"),c=s[u].getAttribute("file");h[l]=i instanceof Array?i[u]:i[c]}for(var d=t.getElementsByTagName("char"),p=0;p<d.length;p++){var f=d[p],v=parseInt(f.getAttribute("id"),10),m=f.getAttribute("page")||0,y=new Pe(parseInt(f.getAttribute("x"),10)/a+h[m].frame.x/a,parseInt(f.getAttribute("y"),10)/a+h[m].frame.y/a,parseInt(f.getAttribute("width"),10)/a,parseInt(f.getAttribute("height"),10)/a);r.chars[v]={xOffset:parseInt(f.getAttribute("xoffset"),10)/a,yOffset:parseInt(f.getAttribute("yoffset"),10)/a,xAdvance:parseInt(f.getAttribute("xadvance"),10)/a,kerning:{},texture:new yi(h[m].baseTexture,y),page:m}}for(var _=t.getElementsByTagName("kerning"),x=0;x<_.length;x++){var b=_[x],T=parseInt(b.getAttribute("first"),10)/a,w=parseInt(b.getAttribute("second"),10)/a,E=parseInt(b.getAttribute("amount"),10)/a;r.chars[w]&&(r.chars[w].kerning[T]=E)}return e.fonts[r.font]=r,r},Object.defineProperties(e.prototype,i),e}(Be);ls.fonts={};var cs=function(){};cs.parse=function(t,e){t.bitmapFont=ls.registerFont(t.data,e)},cs.add=function(){qo.setExtensionXhrType("fnt",qo.XHR_RESPONSE_TYPE.DOCUMENT)},cs.dirname=function(t){var e=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},cs.use=function(t,e){if(t.data&&t.type===qo.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var i=t.isDataUrl?"":cs.dirname(t.url);t.isDataUrl&&("."===i&&(i=""),this.baseUrl&&i&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/")),(i=i.replace(this.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/");for(var r=t.data.getElementsByTagName("page"),n={},o=function(i){n[i.metadata.pageFile]=i.texture,Object.keys(n).length===r.length&&(cs.parse(t,n),e())},s=0;s<r.length;++s){var a=r[s].getAttribute("file"),h=i+a,u=!1;for(var l in this.resources){var c=this.resources[l];if(c.url===h){c.metadata.pageFile=a,c.texture?o(c):c.onAfterMiddleware.add(o),u=!0;break}}if(!u){var d={crossOrigin:t.crossOrigin,loadType:qo.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},t.metadata.imageMetadata),parentResource:t};this.add(h,d,o)}}}else e();else e()};var ds="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",ps=function(t){function e(e){void 0===e&&(e=1),t.call(this,qr,ds,{uAlpha:1}),this.alpha=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={alpha:{configurable:!0}};return i.alpha.get=function(){return this.uniforms.uAlpha},i.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,i),e}(_r),fs="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n    \n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n    \n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n    \n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var vs={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},gs=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var ms=function(t){function e(e,i,r,n,o){var s=function(t,e){var i,r=Math.ceil(t/2),n=fs,o="";i=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=i.replace("%index%",s);o+=a=a.replace("%sampleIndex%",s-(r-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o=o||5,e),a=function(t){for(var e,i=vs[t],r=i.length,n=gs,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s);e=s,s>=r&&(e=t-s-1),o+=a=a.replace("%value%",i[e]),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o);t.call(this,s,a),this.horizontal=e,this.resolution=n||g.RESOLUTION,this._quality=0,this.quality=r||4,this.blur=i||8}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blur:{configurable:!0},quality:{configurable:!0}};return e.prototype.apply=function(t,e,i,r){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,!1);for(var h=1;h<this.passes-1;h++){o.renderTexture.bind(s,s.filterFrame),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,i,r),t.returnFilterTexture(n)}},i.blur.get=function(){return this.strength},i.blur.set=function(t){this.padding=1+2*Math.abs(t),this.strength=t},i.quality.get=function(){return this._quality},i.quality.set=function(t){this._quality=t,this.passes=t},Object.defineProperties(e.prototype,i),e}(_r),ys=function(t){function e(e,i,r,n){t.call(this),this.blurXFilter=new ms(!0,e,i,r,n),this.blurYFilter=new ms(!1,e,i,r,n),this.resolution=r||g.RESOLUTION,this.quality=i||4,this.blur=e||8,this.repeatEdgePixels=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blur:{configurable:!0},quality:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0},blendMode:{configurable:!0},repeatEdgePixels:{configurable:!0}};return e.prototype.apply=function(t,e,i,r){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,!0),this.blurYFilter.apply(t,s,i,r),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,i,r):this.blurXFilter.apply(t,e,i,r)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},i.blur.get=function(){return this.blurXFilter.blur},i.blur.set=function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},i.quality.get=function(){return this.blurXFilter.quality},i.quality.set=function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},i.blurX.get=function(){return this.blurXFilter.blur},i.blurX.set=function(t){this.blurXFilter.blur=t,this.updatePadding()},i.blurY.get=function(){return this.blurYFilter.blur},i.blurY.set=function(t){this.blurYFilter.blur=t,this.updatePadding()},i.blendMode.get=function(){return this.blurYFilter.blendMode},i.blendMode.set=function(t){this.blurYFilter.blendMode=t},i.repeatEdgePixels.get=function(){return this._repeatEdgePixels},i.repeatEdgePixels.set=function(t){this._repeatEdgePixels=t,this.updatePadding()},Object.defineProperties(e.prototype,i),e}(_r),_s="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",xs=function(t){function e(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};t.call(this,Zr,_s,e),this.alpha=1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={matrix:{configurable:!0},alpha:{configurable:!0}};return e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[i+(1-i)*n,n*(1-i)-o*r,n*(1-i)+o*r,0,0,n*(1-i)+o*r,i+n*(1-i),n*(1-i)-o*r,0,0,n*(1-i)-o*r,n*(1-i)+o*r,i+n*(1-i),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var i=(t||0)+1,r=-.5*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var i=2*t/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,i,r,n){var o=((i=i||16770432)>>16&255)/255,s=(i>>8&255)/255,a=(255&i)/255,h=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,l=(255&r)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i.matrix.get=function(){return this.uniforms.m},i.matrix.set=function(t){this.uniforms.m=t},i.alpha.get=function(){return this.uniforms.uAlpha},i.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,i),e}(_r);xs.prototype.grayscale=xs.prototype.greyscale;var bs="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",Ts="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",ws=function(t){function e(e,i){var r=new ve;e.renderable=!1,t.call(this,bs,Ts,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,null==i&&(i=20),this.scale=new he(i,i)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={map:{configurable:!0}};return e.prototype.apply=function(t,e,i,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.transform.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,i,r)},i.map.get=function(){return this.uniforms.mapSampler},i.map.set=function(t){this.uniforms.mapSampler=t},Object.defineProperties(e.prototype,i),e}(_r),Es="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",Ss='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',Is=function(t){function e(){t.call(this,Es,Ss)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(_r),Ps="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",As=function(t){function e(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random()),t.call(this,Zr,Ps,{uNoise:0,uSeed:0}),this.noise=e,this.seed=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={noise:{configurable:!0},seed:{configurable:!0}};return i.noise.get=function(){return this.uniforms.uNoise},i.noise.set=function(t){this.uniforms.uNoise=t},i.seed.get=function(){return this.uniforms.uSeed},i.seed.set=function(t){this.uniforms.uSeed=t},Object.defineProperties(e.prototype,i),e}(_r),Os=new ve;Le.prototype._cacheAsBitmap=!1,Le.prototype._cacheData=!1;var Cs=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(Le.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Cs),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Le.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Le.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds().clone();if(this.filters){var r=this.filters[0].padding;i.pad(r)}i.ceil(g.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame,s=t.projection.transform,a=xi.create(i.width,i.height),h="cacheAsBitmap_"+zt();this._cacheData.textureCacheId=h,ri.addToCache(a.baseTexture,h),yi.addToCache(a,h);var u=Os;u.tx=-i.x,u.ty=-i.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,a,!0,u,!0),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new Wn(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-i.x/i.width,l.anchor.y=-i.y/i.height,l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},Le.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Le.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),i=this.alpha;this.alpha=1;var r=t.context;e.ceil(g.RESOLUTION);var n=xi.create(e.width,e.height),o="cacheAsBitmap_"+zt();this._cacheData.textureCacheId=o,ri.addToCache(n.baseTexture,o),yi.addToCache(n,o);var s=Os;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,n,!0,s,!1),t.context=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var a=new Wn(n);a.transform.worldTransform=this.transform.worldTransform,a.anchor.x=-e.x/e.width,a.anchor.y=-e.y/e.height,a.alpha=i,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=a.containsPoint.bind(a)}},Le.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},Le.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},Le.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ri.removeFromCache(this._cacheData.textureCacheId),yi.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Le.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Le.prototype.name=null,Be.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},Le.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new he),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Ms="5.0.0";var Ds=function(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};Ds.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}};var Rs=new he,Fs=new De,Ls=function(t){function e(e,i,r,n){void 0===n&&(n=_t.TRIANGLES),t.call(this),this.geometry=e,e.refCount++,this.shader=i,this.state=r||mr.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=yt.NORMAL,this._roundPixels=g.ROUND_PIXELS,this.batchUvs=null}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return i.uvBuffer.get=function(){return this.geometry.buffers[1]},i.verticesBuffer.get=function(){return this.geometry.buffers[0]},i.material.set=function(t){this.shader=t},i.material.get=function(){return this.shader},i.blendMode.set=function(t){this.state.blendMode=t},i.blendMode.get=function(){return this.state.blendMode},i.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},i.roundPixels.get=function(){return this._roundPixels},i.tint.get=function(){return this.shader.tint},i.tint.set=function(t){this.shader.tint=t},i.texture.get=function(){return this.shader.texture},i.texture.set=function(t){this.shader.texture=t},e.prototype._render=function(t){var i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===_t.TRIANGLES&&i.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,r=i.a,n=i.b,o=i.c,s=i.d,a=i.tx,h=i.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=r*c+o*d+a,u[2*l+1]=n*c+s*d+h}if(this._roundPixels)for(var p=0;p<u.length;p++)u[p]=Math.round(u[p]);this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Ds(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Rs);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=Fs.points,r=this.geometry.getIndex().data,n=r.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*r[s],h=2*r[s+1],u=2*r[s+2];if(i[0]=e[a],i[1]=e[a+1],i[2]=e[h],i[3]=e[h+1],i[4]=e[u],i[5]=e[u+1],Fs.contains(Rs.x,Rs.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(e.prototype,i),e}(Be);Ls.BATCHABLE_SIZE=100;var Ns="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",Bs="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",Us=function(t){function e(e,i){var r={uSampler:e,alpha:1,uTextureMatrix:ve.IDENTITY,uColor:new Float32Array([1,1,1,1])};(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(r,i.uniforms),t.call(this,i.program||pr.from(Ns,Bs),r),this._colorDirty=!1,this.uvMatrix=new wr(e),this.batchable=void 0===i.program,this.pluginName=i.pluginName,this.tint=i.tint,this.alpha=i.alpha}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={texture:{configurable:!0},alpha:{configurable:!0},tint:{configurable:!0}};return i.texture.get=function(){return this.uniforms.uSampler},i.texture.set=function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},i.alpha.set=function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},i.alpha.get=function(){return this._alpha},i.tint.set=function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},i.tint.get=function(){return this._tint},e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;Xt(this._tint,this._alpha,this.uniforms.uColor,t.premultiplyAlpha)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},Object.defineProperties(e.prototype,i),e}(vr),ks=function(t){function e(e,i,r){t.call(this);var n=new Ei(e),o=new Ei(i,!0),s=new Ei(r,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,Tt.FLOAT).addAttribute("aTextureCoord",o,2,!1,Tt.FLOAT).addIndex(s),this._updateId=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={vertexDirtyId:{configurable:!0}};return i.vertexDirtyId.get=function(){return this.buffers[0]._updateID},Object.defineProperties(e.prototype,i),e}(Ci),Xs=function(t){function e(e,i,r,n){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===n&&(n=10),t.call(this),this.segWidth=r,this.segHeight=n,this.width=e,this.height=i,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],r=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),i.push(u/n,l/o)}for(var c=n*o,d=0;d<c;d++){var p=d%n,f=d/n|0,v=f*this.segWidth+p,g=f*this.segWidth+p+1,m=(f+1)*this.segWidth+p,y=(f+1)*this.segWidth+p+1;r.push(v,g,m,g,y,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(ks),js=function(t){function e(e,i){void 0===e&&(e=200),t.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1))),this.points=i,this.width=e,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var n=i.data,o=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=t.length,a=0;a<s;a++){var h=4*a,u=a/(s-1);n[h]=u,n[h+1]=0,n[h+2]=u,n[h+3]=1}for(var l=0,c=0;c<s-1;c++){var d=2*c;o[l++]=d,o[l++]=d+1,o[l++]=d+2,o[l++]=d+2,o[l++]=d+1,o[l++]=d+3}i.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,i=t[0],r=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-i.x),r=e.y-i.y;var l=Math.sqrt(r*r+n*n),c=this.width/2;r/=l,n/=l,r*=c,n*=c,o[u]=h.x+r,o[u+1]=h.y+n,o[u+2]=h.x-r,o[u+3]=h.y-n,i=h}this.buffers[0].update()}},e.prototype.update=function(){this.updateVertices()},e}(ks),Gs=function(t){function e(e,i){var r=new js(e.height,i),n=new Us(e);t.call(this,r,n),this.autoUpdate=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._render=function(e){(this.autoUpdate||this.geometry.width!==this.shader.texture.height)&&(this.geometry.width=this.shader.texture.height,this.geometry.update()),t.prototype._render.call(this,e)},e}(Ls),Hs=function(t){function e(e,i,r){var n=new Xs(e.width,e.height,i,r),o=new Us(yi.WHITE);t.call(this,n,o),this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={texture:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this.geometry.width=this.shader.texture.width,this.geometry.height=this.shader.texture.height,this.geometry.build()},i.texture.set=function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},i.texture.get=function(){return this.shader.texture},e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,i),e}(Ls),zs=function(t){function e(e,i,r,n,o){void 0===e&&(e=yi.EMPTY);var s=new ks(i,r,n);s.getBuffer("aVertexPosition").static=!1;var a=new Us(e);t.call(this,s,a,null,o),this.autoUpdate=!0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={vertices:{configurable:!0}};return i.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},i.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,i),e}(Ls),Vs=10,Ys=function(t){function e(e,i,r,n,o){t.call(this,yi.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=void 0!==i?i:Vs,this._rightWidth=void 0!==n?n:Vs,this._topHeight=void 0!==r?r:Vs,this._bottomHeight=void 0!==o?o:Vs,this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={vertices:{configurable:!0},width:{configurable:!0},height:{configurable:!0},leftWidth:{configurable:!0},rightWidth:{configurable:!0},topHeight:{configurable:!0},bottomHeight:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},i.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},i.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,i=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*i,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*i,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,i=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*i,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*i,t[6]=t[14]=t[22]=t[30]=this._width},i.width.get=function(){return this._width},i.width.set=function(t){this._width=t,this._refresh()},i.height.get=function(){return this._height},i.height.set=function(t){this._height=t,this._refresh()},i.leftWidth.get=function(){return this._leftWidth},i.leftWidth.set=function(t){this._leftWidth=t,this._refresh()},i.rightWidth.get=function(){return this._rightWidth},i.rightWidth.set=function(t){this._rightWidth=t,this._refresh()},i.topHeight.get=function(){return this._topHeight},i.topHeight.set=function(t){this._topHeight=t,this._refresh()},i.bottomHeight.get=function(){return this._bottomHeight},i.bottomHeight.set=function(t){this._bottomHeight=t,this._refresh()},e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Object.defineProperties(e.prototype,i),e}(Hs),Ws=function(t){function e(e,i){t.call(this,e[0]instanceof yi?e[0]:e[0].texture),this._textures=null,this._durations=null,this.textures=e,this._autoUpdate=!1!==i,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={totalFrames:{configurable:!0},textures:{configurable:!0},currentFrame:{configurable:!0}};return e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&Ve.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&Ve.shared.add(this.update,this,He.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var i=[],r=0;r<t.length;++r)i.push(yi.from(t[r]));return new e(i)},e.fromImages=function(t){for(var i=[],r=0;r<t.length;++r)i.push(yi.from(t[r]));return new e(i)},i.totalFrames.get=function(){return this._textures.length},i.textures.get=function(){return this._textures},i.textures.set=function(t){if(t[0]instanceof yi)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()},i.currentFrame.get=function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},Object.defineProperties(e.prototype,i),e}(Wn);Yr.registerPlugin("accessibility",ke),Yr.registerPlugin("extract",ln),Yr.registerPlugin("interaction",xn),Yr.registerPlugin("particle",$o),Yr.registerPlugin("prepare",go),Yr.registerPlugin("batch",hn),Yr.registerPlugin("tilingSprite",us),Yo.registerPlugin(cs),Yo.registerPlugin(is),To.registerPlugin(qe),To.registerPlugin(Wo);var qs={AlphaFilter:ps,BlurFilter:ys,BlurFilterPass:ms,ColorMatrixFilter:xs,DisplacementFilter:ws,FXAAFilter:Is,NoiseFilter:As};return t.AbstractBatchRenderer=tn,t.AbstractRenderer=Vr,t.AnimatedSprite=Ws,t.AppLoaderPlugin=Wo,t.Application=To,t.Attribute=Ti,t.BLEND_MODES=yt,t.BaseRenderTexture=vi,t.BaseTexture=ri,t.BatchDrawCall=Jr,t.BatchGeometry=rn,t.BatchPluginFactory=sn,t.BatchRenderer=hn,t.BatchShaderGenerator=en,t.BitmapFontLoader=cs,t.BitmapText=ls,t.Bounds=Fe,t.Buffer=Ei,t.Circle=Ce,t.Container=Be,t.CubeTexture=Kr,t.DEG_TO_RAD=pe,t.DRAW_MODES=_t,t.DisplayObject=Le,t.ENV=gt,t.Ellipse=Me,t.FORMATS=xt,t.FillStyle=wn,t.Filter=_r,t.Framebuffer=pi,t.GC_MODES=It,t.GLProgram=Mr,t.GLTexture=ri,t.GRAPHICS_CURVES=Tn,t.Geometry=Ci,t.Graphics=zn,t.GraphicsData=En,t.GraphicsGeometry=Nn,t.GroupD8=Ee,t.LineStyle=Bn,t.Loader=Yo,t.LoaderResource=qo,t.MIPMAP_MODES=St,t.Matrix=ve,t.Mesh=Ls,t.MeshBatchUvs=Ds,t.MeshGeometry=ks,t.MeshMaterial=Us,t.NineSlicePlane=Ys,t.ObjectRenderer=Bi,t.ObservablePoint=ue,t.PI_2=ce,t.PRECISION=Pt,t.ParticleContainer=Zo,t.ParticleRenderer=$o,t.PlaneGeometry=Xs,t.Point=he,t.Polygon=De,t.Program=pr,t.Quad=Mi,t.QuadUv=Di,t.RAD_TO_DEG=de,t.RENDERER_TYPE=mt,t.Rectangle=Pe,t.RenderTexture=xi,t.RenderTexturePool=bi,t.Renderer=Yr,t.RopeGeometry=js,t.RoundedRectangle=Re,t.Runner=je,t.SCALE_MODES=wt,t.SHAPES=fe,t.Shader=vr,t.SimpleMesh=zs,t.SimplePlane=Hs,t.SimpleRope=Gs,t.Sprite=Wn,t.SpriteMaskFilter=Sr,t.Spritesheet=ts,t.SpritesheetLoader=is,t.State=mr,t.System=ci,t.TARGETS=bt,t.TEXT_GRADIENT=qn,t.TYPES=Tt,t.Text=oo,t.TextMetrics=io,t.TextStyle=Jn,t.Texture=yi,t.TextureLoader=Vo,t.TextureMatrix=wr,t.TextureUvs=gi,t.Ticker=Ve,t.TickerPlugin=qe,t.TilingSprite=ns,t.TilingSpriteRenderer=us,t.Transform=Se,t.UPDATE_PRIORITY=He,t.UniformGroup=Fi,t.VERSION="5.1.2",t.ViewableBuffer=Qr,t.WRAP_MODES=Et,t.accessibility=Xe,t.autoDetectRenderer=Wr,t.checkMaxIfStatementsInShader=ur,t.defaultFilterVertex=Zr,t.defaultVertex=qr,t.extract=cn,t.filters=qs,t.interaction=bn,t.isMobile=v,t.prepare=bo,t.resources=li,t.settings=g,t.systems=Hr,t.useDeprecated=function(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return se(Ms,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return se(Ms,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return se(Ms,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return se(Ms,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return se(Ms,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return se(Ms,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return se(Ms,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return se(Ms,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return se(Ms,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return se(Ms,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return se(Ms,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return se(Ms,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),Object.defineProperties(t.utils,{getSvgSize:{get:function(){return se(Ms,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return se(Ms,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return se(Ms,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return se(Ms,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return se(Ms,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return se(Ms,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return se(Ms,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return se(Ms,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return se(Ms,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return se(Ms,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return se(Ms,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return se(Ms,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return se(Ms,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return se(Ms,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return se(Ms,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){return se(Ms,"PIXI.loaders.parseBitmapFontData function has moved to PIXI.BitmapFontLoader.parse"),t.BitmapFontLoader.parse}},spritesheetParser:{get:function(){return se(Ms,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return se(Ms,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return se(Ms,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})},Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return se(Ms,"PIXI.extract.WebGLExtract method has moved to PIXI.extract.Extract"),t.extract.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return se(Ms,"PIXI.prepare.WebGLPrepare class has moved to PIXI.prepare.Prepare"),t.prepare.Prepare}}),t.Container.prototype._renderWebGL=function(t){se(Ms,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){se(Ms,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){se(Ms,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){se(Ms,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return se(Ms,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){se(Ms,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=t.BaseTexture;e.prototype.loadSource=function(e){se(Ms,"PIXI.BaseTexture.loadSource method has been deprecated");var i=t.resources.autoDetectResource(e);i.internal=!0,this.setResource(i),this.update()},Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return se(Ms,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){return se(Ms,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&this.resource.url},set:function(t){se(Ms,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return se(Ms,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource&&this.resource.source},set:function(t){se(Ms,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}}}),e.fromImage=function(t,i,r,n){se(Ms,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:i};return e.from(t,{scaleMode:r,resourceOptions:o})},e.fromCanvas=function(t,i){return se(Ms,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(t,{scaleMode:i})},e.fromSVG=function(t,i,r,n){se(Ms,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:i};return e.from(t,{scaleMode:r,resourceOptions:o})},t.Point.prototype.copy=function(t){return se(Ms,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return se(Ms,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return se(Ms,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return se(Ms,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},t.systems.StateSystem.prototype.setState=function(t){return se("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return se(Ms,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(e)},returnRenderTarget:function(t){se(Ms,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){se(Ms,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),i=this.activeState,r=i.sourceFrame,n=i.destinationFrame;return e.translate(r.x/n.width,r.y/n.height),e.scale(n.width,n.height),e},calculateNormalizedScreenSpaceMatrix:function(t){se(Ms,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,i=e.sourceFrame,r=e.destinationFrame,n=t.identity();n.translate(i.x/r.width,i.y/r.height);var o=r.width/i.width,s=r.height/i.height;return n.scale(o,s),n}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return se(Ms,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return se(Ms,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(t){function e(e,i,r,n){se(Ms,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,i,r,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass),r=function(t){function e(e,i,r,n){se(Ms,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,i,r,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:i,BlurYFilter:r});var n=t.Sprite,o=t.Texture,s=t.Graphics;function a(t,e,i,r){return se(Ms,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),n.from(e,{resourceOptions:{scale:r,crossorigin:i}})}function h(t,e,i,r){return se(Ms,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),o.from(e,{resourceOptions:{scale:r,crossorigin:i}})}s.prototype.generateCanvasTexture||(s.prototype.generateCanvasTexture=function(){se(Ms,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(t.Graphics.prototype,"graphicsData",{get:function(){return se(Ms,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),n.fromImage=a.bind(null,"fromImage"),n.fromSVG=a.bind(null,"fromSVG"),n.fromCanvas=a.bind(null,"fromCanvas"),n.fromVideo=a.bind(null,"fromVideo"),n.fromFrame=a.bind(null,"fromFrame"),o.fromImage=h.bind(null,"fromImage"),o.fromSVG=h.bind(null,"fromSVG"),o.fromCanvas=h.bind(null,"fromCanvas"),o.fromVideo=h.bind(null,"fromVideo"),o.fromFrame=h.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return se(Ms,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){se(Ms,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){return se(Ms,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),t.utils.mixins={mixin:function(){se(Ms,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){se(Ms,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){se(Ms,"PIXI.utils.mixins.performMixins function is no longer available")}}},t.utils=ae,t}({});PIXI.useDeprecated();


/*
 * anime.js v3.1.0
 * (c) 2019 Julian Garnier
 * Released under the MIT license
 * animejs.com
 */

!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.anime=e()}(this,function(){"use strict";var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},e={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},r=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],t={CSS:{},springs:{}};function a(n,e,r){return Math.min(Math.max(n,e),r)}function o(n,e){return n.indexOf(e)>-1}function u(n,e){return n.apply(null,e)}var i={arr:function(n){return Array.isArray(n)},obj:function(n){return o(Object.prototype.toString.call(n),"Object")},pth:function(n){return i.obj(n)&&n.hasOwnProperty("totalLength")},svg:function(n){return n instanceof SVGElement},inp:function(n){return n instanceof HTMLInputElement},dom:function(n){return n.nodeType||i.svg(n)},str:function(n){return"string"==typeof n},fnc:function(n){return"function"==typeof n},und:function(n){return void 0===n},hex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},rgb:function(n){return/^rgb/.test(n)},hsl:function(n){return/^hsl/.test(n)},col:function(n){return i.hex(n)||i.rgb(n)||i.hsl(n)},key:function(r){return!n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&"targets"!==r&&"keyframes"!==r}};function c(n){var e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function s(n,e){var r=c(n),o=a(i.und(r[0])?1:r[0],.1,100),u=a(i.und(r[1])?100:r[1],.1,100),s=a(i.und(r[2])?10:r[2],.1,100),f=a(i.und(r[3])?0:r[3],.1,100),l=Math.sqrt(u/o),d=s/(2*Math.sqrt(u*o)),p=d<1?l*Math.sqrt(1-d*d):0,h=1,v=d<1?(d*l-f)/p:-f+l;function g(n){var r=e?e*n/1e3:n;return r=d<1?Math.exp(-r*d*l)*(h*Math.cos(p*r)+v*Math.sin(p*r)):(h+v*r)*Math.exp(-r*l),0===n||1===n?n:1-r}return e?g:function(){var e=t.springs[n];if(e)return e;for(var r=0,a=0;;)if(1===g(r+=1/6)){if(++a>=16)break}else a=0;var o=r*(1/6)*1e3;return t.springs[n]=o,o}}function f(n){return void 0===n&&(n=10),function(e){return Math.round(e*n)*(1/n)}}var l,d,p=function(){var n=11,e=1/(n-1);function r(n,e){return 1-3*e+3*n}function t(n,e){return 3*e-6*n}function a(n){return 3*n}function o(n,e,o){return((r(e,o)*n+t(e,o))*n+a(e))*n}function u(n,e,o){return 3*r(e,o)*n*n+2*t(e,o)*n+a(e)}return function(r,t,a,i){if(0<=r&&r<=1&&0<=a&&a<=1){var c=new Float32Array(n);if(r!==t||a!==i)for(var s=0;s<n;++s)c[s]=o(s*e,r,a);return function(n){return r===t&&a===i?n:0===n||1===n?n:o(f(n),t,i)}}function f(t){for(var i=0,s=1,f=n-1;s!==f&&c[s]<=t;++s)i+=e;var l=i+(t-c[--s])/(c[s+1]-c[s])*e,d=u(l,r,a);return d>=.001?function(n,e,r,t){for(var a=0;a<4;++a){var i=u(e,r,t);if(0===i)return e;e-=(o(e,r,t)-n)/i}return e}(t,l,r,a):0===d?l:function(n,e,r,t,a){for(var u,i,c=0;(u=o(i=e+(r-e)/2,t,a)-n)>0?r=i:e=i,Math.abs(u)>1e-7&&++c<10;);return i}(t,i,i+e,r,a)}}}(),h=(l={linear:function(){return function(n){return n}}},d={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var e,r=4;n<((e=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*e-2)/22-n,2)}},Elastic:function(n,e){void 0===n&&(n=1),void 0===e&&(e=.5);var r=a(n,1,10),t=a(e,.1,2);return function(n){return 0===n||1===n?n:-r*Math.pow(2,10*(n-1))*Math.sin((n-1-t/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/t)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(n,e){d[n]=function(){return function(n){return Math.pow(n,e+2)}}}),Object.keys(d).forEach(function(n){var e=d[n];l["easeIn"+n]=e,l["easeOut"+n]=function(n,r){return function(t){return 1-e(n,r)(1-t)}},l["easeInOut"+n]=function(n,r){return function(t){return t<.5?e(n,r)(2*t)/2:1-e(n,r)(-2*t+2)/2}}}),l);function v(n,e){if(i.fnc(n))return n;var r=n.split("(")[0],t=h[r],a=c(n);switch(r){case"spring":return s(n,e);case"cubicBezier":return u(p,a);case"steps":return u(f,a);default:return u(t,a)}}function g(n){try{return document.querySelectorAll(n)}catch(n){return}}function m(n,e){for(var r=n.length,t=arguments.length>=2?arguments[1]:void 0,a=[],o=0;o<r;o++)if(o in n){var u=n[o];e.call(t,u,o,n)&&a.push(u)}return a}function y(n){return n.reduce(function(n,e){return n.concat(i.arr(e)?y(e):e)},[])}function b(n){return i.arr(n)?n:(i.str(n)&&(n=g(n)||n),n instanceof NodeList||n instanceof HTMLCollection?[].slice.call(n):[n])}function M(n,e){return n.some(function(n){return n===e})}function x(n){var e={};for(var r in n)e[r]=n[r];return e}function w(n,e){var r=x(n);for(var t in n)r[t]=e.hasOwnProperty(t)?e[t]:n[t];return r}function k(n,e){var r=x(n);for(var t in e)r[t]=i.und(n[t])?e[t]:n[t];return r}function O(n){return i.rgb(n)?(r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=n))?"rgba("+r[1]+",1)":e:i.hex(n)?(t=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,e,r,t){return e+e+r+r+t+t}),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),"rgba("+parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+",1)"):i.hsl(n)?function(n){var e,r,t,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(n),o=parseInt(a[1],10)/360,u=parseInt(a[2],10)/100,i=parseInt(a[3],10)/100,c=a[4]||1;function s(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+6*(e-n)*r:r<.5?e:r<2/3?n+(e-n)*(2/3-r)*6:n}if(0==u)e=r=t=i;else{var f=i<.5?i*(1+u):i+u-i*u,l=2*i-f;e=s(l,f,o+1/3),r=s(l,f,o),t=s(l,f,o-1/3)}return"rgba("+255*e+","+255*r+","+255*t+","+c+")"}(n):void 0;var e,r,t,a}function C(n){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);if(e)return e[1]}function B(n,e){return i.fnc(n)?n(e.target,e.id,e.total):n}function P(n,e){return n.getAttribute(e)}function I(n,e,r){if(M([r,"deg","rad","turn"],C(e)))return e;var a=t.CSS[e+r];if(!i.und(a))return a;var o=document.createElement(n.tagName),u=n.parentNode&&n.parentNode!==document?n.parentNode:document.body;u.appendChild(o),o.style.position="absolute",o.style.width=100+r;var c=100/o.offsetWidth;u.removeChild(o);var s=c*parseFloat(e);return t.CSS[e+r]=s,s}function T(n,e,r){if(e in n.style){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=n.style[e]||getComputedStyle(n).getPropertyValue(t)||"0";return r?I(n,a,r):a}}function D(n,e){return i.dom(n)&&!i.inp(n)&&(P(n,e)||i.svg(n)&&n[e])?"attribute":i.dom(n)&&M(r,e)?"transform":i.dom(n)&&"transform"!==e&&T(n,e)?"css":null!=n[e]?"object":void 0}function E(n){if(i.dom(n)){for(var e,r=n.style.transform||"",t=/(\w+)\(([^)]*)\)/g,a=new Map;e=t.exec(r);)a.set(e[1],e[2]);return a}}function F(n,e,r,t){var a,u=o(e,"scale")?1:0+(o(a=e,"translate")||"perspective"===a?"px":o(a,"rotate")||o(a,"skew")?"deg":void 0),i=E(n).get(e)||u;return r&&(r.transforms.list.set(e,i),r.transforms.last=e),t?I(n,i,t):i}function N(n,e,r,t){switch(D(n,e)){case"transform":return F(n,e,t,r);case"css":return T(n,e,r);case"attribute":return P(n,e);default:return n[e]||0}}function A(n,e){var r=/^(\*=|\+=|-=)/.exec(n);if(!r)return n;var t=C(n)||0,a=parseFloat(e),o=parseFloat(n.replace(r[0],""));switch(r[0][0]){case"+":return a+o+t;case"-":return a-o+t;case"*":return a*o+t}}function L(n,e){if(i.col(n))return O(n);if(/\s/g.test(n))return n;var r=C(n),t=r?n.substr(0,n.length-r.length):n;return e?t+e:t}function j(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function S(n){for(var e,r=n.points,t=0,a=0;a<r.numberOfItems;a++){var o=r.getItem(a);a>0&&(t+=j(e,o)),e=o}return t}function q(n){if(n.getTotalLength)return n.getTotalLength();switch(n.tagName.toLowerCase()){case"circle":return o=n,2*Math.PI*P(o,"r");case"rect":return 2*P(a=n,"width")+2*P(a,"height");case"line":return j({x:P(t=n,"x1"),y:P(t,"y1")},{x:P(t,"x2"),y:P(t,"y2")});case"polyline":return S(n);case"polygon":return r=(e=n).points,S(e)+j(r.getItem(r.numberOfItems-1),r.getItem(0))}var e,r,t,a,o}function $(n,e){var r=e||{},t=r.el||function(n){for(var e=n.parentNode;i.svg(e)&&i.svg(e.parentNode);)e=e.parentNode;return e}(n),a=t.getBoundingClientRect(),o=P(t,"viewBox"),u=a.width,c=a.height,s=r.viewBox||(o?o.split(" "):[0,0,u,c]);return{el:t,viewBox:s,x:s[0]/1,y:s[1]/1,w:u/s[2],h:c/s[3]}}function X(n,e){function r(r){void 0===r&&(r=0);var t=e+r>=1?e+r:0;return n.el.getPointAtLength(t)}var t=$(n.el,n.svg),a=r(),o=r(-1),u=r(1);switch(n.property){case"x":return(a.x-t.x)*t.w;case"y":return(a.y-t.y)*t.h;case"angle":return 180*Math.atan2(u.y-o.y,u.x-o.x)/Math.PI}}function Y(n,e){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,t=L(i.pth(n)?n.totalLength:n,e)+"";return{original:t,numbers:t.match(r)?t.match(r).map(Number):[0],strings:i.str(n)||e?t.split(r):[]}}function Z(n){return m(n?y(i.arr(n)?n.map(b):b(n)):[],function(n,e,r){return r.indexOf(n)===e})}function Q(n){var e=Z(n);return e.map(function(n,r){return{target:n,id:r,total:e.length,transforms:{list:E(n)}}})}function V(n,e){var r=x(e);if(/^spring/.test(r.easing)&&(r.duration=s(r.easing)),i.arr(n)){var t=n.length;2===t&&!i.obj(n[0])?n={value:n}:i.fnc(e.duration)||(r.duration=e.duration/t)}var a=i.arr(n)?n:[n];return a.map(function(n,r){var t=i.obj(n)&&!i.pth(n)?n:{value:n};return i.und(t.delay)&&(t.delay=r?0:e.delay),i.und(t.endDelay)&&(t.endDelay=r===a.length-1?e.endDelay:0),t}).map(function(n){return k(n,r)})}function z(n,e){var r=[],t=e.keyframes;for(var a in t&&(e=k(function(n){for(var e=m(y(n.map(function(n){return Object.keys(n)})),function(n){return i.key(n)}).reduce(function(n,e){return n.indexOf(e)<0&&n.push(e),n},[]),r={},t=function(t){var a=e[t];r[a]=n.map(function(n){var e={};for(var r in n)i.key(r)?r==a&&(e.value=n[r]):e[r]=n[r];return e})},a=0;a<e.length;a++)t(a);return r}(t),e)),e)i.key(a)&&r.push({name:a,tweens:V(e[a],n)});return r}function H(n,e){var r;return n.tweens.map(function(t){var a=function(n,e){var r={};for(var t in n){var a=B(n[t],e);i.arr(a)&&1===(a=a.map(function(n){return B(n,e)})).length&&(a=a[0]),r[t]=a}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(t,e),o=a.value,u=i.arr(o)?o[1]:o,c=C(u),s=N(e.target,n.name,c,e),f=r?r.to.original:s,l=i.arr(o)?o[0]:f,d=C(l)||C(s),p=c||d;return i.und(u)&&(u=f),a.from=Y(l,p),a.to=Y(A(u,l),p),a.start=r?r.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=v(a.easing,a.duration),a.isPath=i.pth(o),a.isColor=i.col(a.from.original),a.isColor&&(a.round=1),r=a,a})}var G={css:function(n,e,r){return n.style[e]=r},attribute:function(n,e,r){return n.setAttribute(e,r)},object:function(n,e,r){return n[e]=r},transform:function(n,e,r,t,a){if(t.list.set(e,r),e===t.last||a){var o="";t.list.forEach(function(n,e){o+=e+"("+n+") "}),n.style.transform=o}}};function R(n,e){Q(n).forEach(function(n){for(var r in e){var t=B(e[r],n),a=n.target,o=C(t),u=N(a,r,o,n),i=A(L(t,o||C(u)),u),c=D(a,r);G[c](a,r,i,n.transforms,!0)}})}function W(n,e){return m(y(n.map(function(n){return e.map(function(e){return function(n,e){var r=D(n.target,e.name);if(r){var t=H(e,n),a=t[t.length-1];return{type:r,property:e.name,animatable:n,tweens:t,duration:a.end,delay:t[0].delay,endDelay:a.endDelay}}}(n,e)})})),function(n){return!i.und(n)})}function J(n,e){var r=n.length,t=function(n){return n.timelineOffset?n.timelineOffset:0},a={};return a.duration=r?Math.max.apply(Math,n.map(function(n){return t(n)+n.duration})):e.duration,a.delay=r?Math.min.apply(Math,n.map(function(n){return t(n)+n.delay})):e.delay,a.endDelay=r?a.duration-Math.max.apply(Math,n.map(function(n){return t(n)+n.duration-n.endDelay})):e.endDelay,a}var K=0;var U,_=[],nn=[],en=function(){function n(){U=requestAnimationFrame(e)}function e(e){var r=_.length;if(r){for(var t=0;t<r;){var a=_[t];if(a.paused){var o=_.indexOf(a);o>-1&&(_.splice(o,1),r=_.length)}else a.tick(e);t++}n()}else U=cancelAnimationFrame(U)}return n}();function rn(r){void 0===r&&(r={});var t,o=0,u=0,i=0,c=0,s=null;function f(n){var e=window.Promise&&new Promise(function(n){return s=n});return n.finished=e,e}var l,d,p,h,v,g,y,b,M=(d=w(n,l=r),p=w(e,l),h=z(p,l),v=Q(l.targets),g=W(v,h),y=J(g,p),b=K,K++,k(d,{id:b,children:[],animatables:v,animations:g,duration:y.duration,delay:y.delay,endDelay:y.endDelay}));f(M);function x(){var n=M.direction;"alternate"!==n&&(M.direction="normal"!==n?"normal":"reverse"),M.reversed=!M.reversed,t.forEach(function(n){return n.reversed=M.reversed})}function O(n){return M.reversed?M.duration-n:n}function C(){o=0,u=O(M.currentTime)*(1/rn.speed)}function B(n,e){e&&e.seek(n-e.timelineOffset)}function P(n){for(var e=0,r=M.animations,t=r.length;e<t;){var o=r[e],u=o.animatable,i=o.tweens,c=i.length-1,s=i[c];c&&(s=m(i,function(e){return n<e.end})[0]||s);for(var f=a(n-s.start-s.delay,0,s.duration)/s.duration,l=isNaN(f)?1:s.easing(f),d=s.to.strings,p=s.round,h=[],v=s.to.numbers.length,g=void 0,y=0;y<v;y++){var b=void 0,x=s.to.numbers[y],w=s.from.numbers[y]||0;b=s.isPath?X(s.value,l*x):w+l*(x-w),p&&(s.isColor&&y>2||(b=Math.round(b*p)/p)),h.push(b)}var k=d.length;if(k){g=d[0];for(var O=0;O<k;O++){d[O];var C=d[O+1],B=h[O];isNaN(B)||(g+=C?B+C:B+" ")}}else g=h[0];G[o.type](u.target,o.property,g,u.transforms),o.currentValue=g,e++}}function I(n){M[n]&&!M.passThrough&&M[n](M)}function T(n){var e=M.duration,r=M.delay,l=e-M.endDelay,d=O(n);M.progress=a(d/e*100,0,100),M.reversePlayback=d<M.currentTime,t&&function(n){if(M.reversePlayback)for(var e=c;e--;)B(n,t[e]);else for(var r=0;r<c;r++)B(n,t[r])}(d),!M.began&&M.currentTime>0&&(M.began=!0,I("begin")),!M.loopBegan&&M.currentTime>0&&(M.loopBegan=!0,I("loopBegin")),d<=r&&0!==M.currentTime&&P(0),(d>=l&&M.currentTime!==e||!e)&&P(e),d>r&&d<l?(M.changeBegan||(M.changeBegan=!0,M.changeCompleted=!1,I("changeBegin")),I("change"),P(d)):M.changeBegan&&(M.changeCompleted=!0,M.changeBegan=!1,I("changeComplete")),M.currentTime=a(d,0,e),M.began&&I("update"),n>=e&&(u=0,M.remaining&&!0!==M.remaining&&M.remaining--,M.remaining?(o=i,I("loopComplete"),M.loopBegan=!1,"alternate"===M.direction&&x()):(M.paused=!0,M.completed||(M.completed=!0,I("loopComplete"),I("complete"),!M.passThrough&&"Promise"in window&&(s(),f(M)))))}return M.reset=function(){var n=M.direction;M.passThrough=!1,M.currentTime=0,M.progress=0,M.paused=!0,M.began=!1,M.loopBegan=!1,M.changeBegan=!1,M.completed=!1,M.changeCompleted=!1,M.reversePlayback=!1,M.reversed="reverse"===n,M.remaining=M.loop,t=M.children;for(var e=c=t.length;e--;)M.children[e].reset();(M.reversed&&!0!==M.loop||"alternate"===n&&1===M.loop)&&M.remaining++,P(M.reversed?M.duration:0)},M.set=function(n,e){return R(n,e),M},M.tick=function(n){i=n,o||(o=i),T((i+(u-o))*rn.speed)},M.seek=function(n){T(O(n))},M.pause=function(){M.paused=!0,C()},M.play=function(){M.paused&&(M.completed&&M.reset(),M.paused=!1,_.push(M),C(),U||en())},M.reverse=function(){x(),C()},M.restart=function(){M.reset(),M.play()},M.reset(),M.autoplay&&M.play(),M}function tn(n,e){for(var r=e.length;r--;)M(n,e[r].animatable.target)&&e.splice(r,1)}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){document.hidden?(_.forEach(function(n){return n.pause()}),nn=_.slice(0),rn.running=_=[]):nn.forEach(function(n){return n.play()})}),rn.version="3.1.0",rn.speed=1,rn.running=_,rn.remove=function(n){for(var e=Z(n),r=_.length;r--;){var t=_[r],a=t.animations,o=t.children;tn(e,a);for(var u=o.length;u--;){var i=o[u],c=i.animations;tn(e,c),c.length||i.children.length||o.splice(u,1)}a.length||o.length||t.pause()}},rn.get=N,rn.set=R,rn.convertPx=I,rn.path=function(n,e){var r=i.str(n)?g(n)[0]:n,t=e||100;return function(n){return{property:n,el:r,svg:$(r),totalLength:q(r)*(t/100)}}},rn.setDashoffset=function(n){var e=q(n);return n.setAttribute("stroke-dasharray",e),e},rn.stagger=function(n,e){void 0===e&&(e={});var r=e.direction||"normal",t=e.easing?v(e.easing):null,a=e.grid,o=e.axis,u=e.from||0,c="first"===u,s="center"===u,f="last"===u,l=i.arr(n),d=l?parseFloat(n[0]):parseFloat(n),p=l?parseFloat(n[1]):0,h=C(l?n[1]:n)||0,g=e.start||0+(l?d:0),m=[],y=0;return function(n,e,i){if(c&&(u=0),s&&(u=(i-1)/2),f&&(u=i-1),!m.length){for(var v=0;v<i;v++){if(a){var b=s?(a[0]-1)/2:u%a[0],M=s?(a[1]-1)/2:Math.floor(u/a[0]),x=b-v%a[0],w=M-Math.floor(v/a[0]),k=Math.sqrt(x*x+w*w);"x"===o&&(k=-x),"y"===o&&(k=-w),m.push(k)}else m.push(Math.abs(u-v));y=Math.max.apply(Math,m)}t&&(m=m.map(function(n){return t(n/y)*y})),"reverse"===r&&(m=m.map(function(n){return o?n<0?-1*n:-n:Math.abs(y-n)}))}return g+(l?(p-d)/y:d)*(Math.round(100*m[e])/100)+h}},rn.timeline=function(n){void 0===n&&(n={});var r=rn(n);return r.duration=0,r.add=function(t,a){var o=_.indexOf(r),u=r.children;function c(n){n.passThrough=!0}o>-1&&_.splice(o,1);for(var s=0;s<u.length;s++)c(u[s]);var f=k(t,w(e,n));f.targets=f.targets||n.targets;var l=r.duration;f.autoplay=!1,f.direction=r.direction,f.timelineOffset=i.und(a)?l:A(a,l),c(r),r.seek(f.timelineOffset);var d=rn(f);c(d),u.push(d);var p=J(u,n);return r.delay=p.delay,r.endDelay=p.endDelay,r.duration=p.duration,r.seek(0),r.reset(),r.autoplay&&r.play(),r},r},rn.easing=v,rn.penner=h,rn.random=function(n,e){return Math.floor(Math.random()*(e-n+1))+n},rn});
/**
 * Represents a Slot Machine game.
 * @constructor
 * @param {Object} params - The parameters required to create a game, such as resources, settings, etc.
 * @param {number} gameWidth - The width of the game.
 * @param {number} gameHeight - The height of the game.
 * @example
 * let game = new Slot({
 *  container: '.game-container',
 * }, 100, 100);
 */
var Slot = function(params, gameWidth, gameHeight) {
    this.VERSION = '0.1';
    this.engine = new Slot.Game(gameWidth, gameHeight);
    this.engine.game = this;
    this.reels = new Slot.ReelsController(this);
    this.texts = new Slot.TextController(this);
    this.events = {
        start: [],
        stop: [],
    };
    this.settings = {
        speed: 0.2,
        spinTime: 450000,
        spinTimeBetweenReels: 12000,
        reelBounceDuration: 3000,
        network: false,
    };
    this.waitForResult = false;
    this.forceStopPending = false;

    this.reels.onStart(function() {
        if (this.settings.network) {
            this.waitForResult = true;
        }
        this.events.start.forEach(function(fn) {
            fn();
        });
    }.bind(this));

    this.reels.onStop(function() {
        this.events.stop.forEach(function(fn) {
            fn();
        });
    }.bind(this));

    params = params || {};
    if (params.container) {
        var containerEl = document.querySelector(params.container);
        if (containerEl) {
            containerEl.appendChild(this.engine.renderer.view);
        } else {
            console.error("Invalid container");
        }
    } else {
        document.body.appendChild(this.engine.renderer.view);
    }

    function onResize() {
        var ratio = gameWidth / gameHeight;
        var view = this.engine.renderer.view;
        var width = view.parentNode.offsetWidth;
        var height = width / ratio;
        if (height > view.parentNode.offsetHeight) {
            height = view.parentNode.offsetHeight;
            width = ratio * height;
        }
        this.engine.renderer.resize(width, height);
    }
    onResize.bind(this)();
    window.addEventListener('resize', onResize.bind(this));

    var _this = this;

    if ('resources' in params) {
        params.resources.forEach(function(resource) {
            if (resource.length) {
                PIXI.Loader.shared.add(resource[0], resource[1]);
            } else {
                PIXI.Loader.shared.add(resource.key, resource.value);
            }
        });
    }

    if ('init' in params) {
        PIXI.Loader.shared.load(function() {
            params.init.bind(_this)(_this);
        });
    }

    if ('settings' in params) {
        for (var key in params.settings) {
            this.settings[key] = params.settings[key];
        }
        this.reels.spinTime = this.settings.spinTime;
        this.reels.spinTimeBetweenReels = this.settings.spinTimeBetweenReels;
    }
};

/**
 * This is the load resources method used to add resources to the game.
 * @param {Array} config - Array with resources key and source path.
 * @param {function} onComplete - Complete method which runs after loading is finished.
 */
Slot.prototype.load = function(config, onComplete) {
    config.forEach(function(resource) {
        if (resource.length) {
            PIXI.Loader.shared.add(resource[0], resource[1]);
        } else {
            PIXI.Loader.shared.add(resource.key, resource.value);
        }
    });
    PIXI.Loader.shared.load(onComplete);
};
/**
 * The main play method used to start or stop the reels.
 */
Slot.prototype.play = function() {
    if (!this.waitForResult) {
        if (!this.reels.rolling) {
            this.reels.start();
        } else {
            this.reels.stop();
        }
    }
    if (this.reels.rolling) {
        this.forceStopPending = true;
    }
};
/**
 * The result method is used to set a result and stop the reels.
 * @param {Array} result - The array containing the result for each reel.
 */
Slot.prototype.result = function(result) {
    this.reels.reels.forEach(function(reel, reelIndex) {
        reel.stopValues = result[reelIndex];
    });
    if (this.forceStopPending) {
        this.reels.stop();
        this.forceStopPending = false;
    }
    this.waitForResult = false;
};
/**
 * The method to attach event handlers on game.
 * @param {string} eventName - The name of the event.
 * @param {function} fn - The event callback.
 */
Slot.prototype.on = function(eventName, fn) {
    if (eventName in this.events) {
        this.events[eventName].push(fn);
    }
};
/**
 * The method to add a sprite in the game.
 * @param {string} resourceKey - The name of the resource, which must have been set on loading's configuration.
 */
Slot.prototype.sprite = function(resourceKey) {
    var sprite = new Slot.Sprite(resourceKey, this.engine);
    return sprite;
};
/**
 * Describes game actions. Can be attached to sprites.
 * @example
 * let buttonPlay = game.sprite('btn-play');
 * buttonPlay.action = Slot.ACTION.PLAY;
 */
Slot.ACTION = {
    NO_ACTION: 0,
    PLAY: 1,
};
Slot.Game = function(width, height) {
  this.width = width;
  this.height = height;
  PIXI.utils.skipHello();
  this.renderer = new PIXI.autoDetectRenderer({
    width: 800,
    height: 600,
    transparent: false,
  });
  this.stage = new PIXI.Container();

  var _this = this;

  PIXI.Ticker.shared.add(function() {
    _this.renderer.render(_this.stage);
  }, PIXI.UPDATE_PRIORITY.NORMAL);
};
Slot.ReelsController = function(game) {
    this.reels = [];
    this.engine = game.engine;
    this.game = game;
    this.x = 0;
    this.y = 0;
    this.events = {
        onStart: [],
        onStop: [],
    };
    this.rolling = false;

    var _this = this;

    function resizeAndPosition() {
        _this.reels.forEach(function(reel, reelIndex) {
            reel.container.x = (reel.x * game.engine.renderer.view.width) / game.engine.width;
            reel.container.y = (reel.y * game.engine.renderer.view.height) / game.engine.height;
            reel.symbols.forEach(function(symbol) {
                symbol.scale.x = game.engine.renderer.view.width / game.engine.width;
                symbol.scale.y = game.engine.renderer.view.height / game.engine.height;
            });
        });
    }
    resizeAndPosition();

    var rollingTime = 0;

    PIXI.Ticker.shared.add(function(delta) {
        var active = false;
        _this.reels.forEach(function(reel, reelIndex) {
            resizeAndPosition();

            reel.render(game.settings.speed, game.settings.reelBounceDuration, reelIndex);

            for (var i = 0; i < reel.symbols.length; i++) {
                var symbol = reel.symbols[i];
                symbol.y = (symbol.height * (i - 1)) + (0 + reel.offset);
                if (reel.values[i]) {
                    if ('symbol-' + reel.values[i] in PIXI.Loader.shared.resources) {
                        symbol.texture = PIXI.Loader.shared.resources['symbol-' + reel.values[i]].texture;
                    } else {
                        symbol.texture = PIXI.Texture.EMPTY;
                    }
                } else {
                    symbol.texture = PIXI.Texture.EMPTY;
                }
            }

            var m = reel.mask;
            m.x = reel.container.x;
            m.y = reel.container.y;
            m.clear();
            m.beginFill(0x000000);
            m.drawRect(0, 0, reel.symbols[0].width, reel.symbols[0].height * reel.positions);
            m.endFill();

            var pl1 = reel.playLine1;
            pl1.x = reel.container.x;
            pl1.y = reel.container.y;
            pl1.clear();
            //m.beginFill(0x000000);
            //this code should go to reel and the the black background.
            var borderWidth = 3;
            var borderColor = 0xFFFFF;
            pl1.lineStyle(borderWidth , borderColor);
            pl1.drawRect(0, reel.symbols[0].height , reel.symbols[0].width, reel.symbols[1].height );
            //pl1.endFill();

            active = reel.rolling == true || !isNaN(parseInt(reel.stopping));

            if (active) {
                var reelStopTime = game.settings.spinTime + (reelIndex * game.settings.spinTimeBetweenReels);
                if (rollingTime > reelStopTime) {
                    reel.stop(); // FIXME: don't call stop multiple times ... timee calc here on base 
                }
            }
        });

        if (!_this.rolling && active) {
            _this.rolling = true;
            _this.events.onStart.forEach(function(fn) {
                fn();
            });
        } else if (_this.rolling && !active) {
            _this.rolling = false;
            rollingTime = 0;
            _this.events.onStop.forEach(function(fn) {
                fn();
            });
        }

        if (active && !game.waitForResult) {
            rollingTime += delta * 16.667;
        }
    }, PIXI.UPDATE_PRIORITY.HIGH);
};

Slot.ReelsController.prototype.add = function(positions, symbolCount, symbolWidth, symbolHeight) {
    var reel = new Slot.Reel(positions, symbolCount, symbolWidth, symbolHeight);
    this.engine.stage.addChild(reel.container);
    this.engine.stage.addChild(reel.mask);
    this.engine.stage.addChild(reel.playLine1);
    this.reels.push(reel);
    return reel;
};

Slot.ReelsController.prototype.get = function(index) {
    return this.reels[index];
};

Slot.ReelsController.prototype.start = function() {
    this.reels.forEach(function(reel) {
        reel.roll();
    });
};

Slot.ReelsController.prototype.stop = function() {
    this.reels.forEach(function(reel) {
        reel.stop();
    });
};

Slot.ReelsController.prototype.onStart = function(fn) {
    this.events.onStart.push(fn);
};

Slot.ReelsController.prototype.onStop = function(fn) {
    this.events.onStop.push(fn);
};
Slot.TextController = function(game) {
    this.texts = [];
    this.engine = game.engine;
    this.game = game;
    this.x = 0;
    this.y = 0;

    var _this = this;

    function resizeAndPositionText(rerender) {
        _this.texts.forEach(function(text, textIndex) {
            text.container.x = (text.x * game.engine.renderer.view.width) / game.engine.width;
            text.container.y = (text.y * game.engine.renderer.view.height) / game.engine.height;
            text.symbols.forEach(function(symbol) {
                symbol.scale.x = game.engine.renderer.view.width / game.engine.width;
                symbol.scale.y = game.engine.renderer.view.height / game.engine.height;
            });
            if (rerender == true) {
                text.render(textIndex);
            }
        });
    }
    //resizeAndPositionText(false);

    PIXI.Ticker.shared.add(function(delta) {
        resizeAndPositionText(true);
    });

    //resizeAndPositionText(true);
};

Slot.TextController.prototype.add = function(x, y, dropShadowColor, textVal) {
    const baseStyle = new PIXI.TextStyle({
        fontFamily: 'Arial',
        fontSize: 32,
        fontStyle: 'italic',
        fontWeight: 'bold',
        fill: ['#ffffff', '#00ff99'], // gradient
        stroke: '#4a1850',
        strokeThickness: 5,
        dropShadow: true,
        dropShadowColor: '#FFD700',
        dropShadowBlur: 4,
        dropShadowAngle: Math.PI / 3,
        dropShadowDistance: 6,
        wordWrap: true,
        wordWrapWidth: 440,
        lineJoin: 'round',
    });

    const textValStyle = Object.assign({}, baseStyle, { dropShadowColor: dropShadowColor });

    const fldText = new PIXI.Text(textVal, textValStyle);
    fldText.x = x;
    fldText.y = y;

    this.engine.stage.addChild(fldText);

    var text = new Slot.Text(x, y);
    this.texts.push(text);
    return text;
};
/**
 * Represents a reel in the game.
 * @constructor
 * @param {number} positions - Number of reel positions.
 */
Slot.Reel = function(positions) {
    this.positions = positions;
    this.values = [];
    this.spinValues = [];
    this.stopValues = [];
    this.symbols = [];
    this.container = new PIXI.Container();
    this.mask = new PIXI.Graphics();
    this.playLine1 = new PIXI.Graphics();
    this.offset = 0;
    this.rolling = false;
    this.stopping = false;

    this.container.mask = this.mask;
    this.container.playLine1 = this.playLine1;

    for (var i = 0; i < positions + 1; i++) {
        var symbol = new PIXI.Sprite(PIXI.Texture.EMPTY);
        this.container.addChild(symbol);
        this.symbols.push(symbol);
    }
};

Slot.Reel.prototype.render = function(speed, bounceDuration, reelIndex) {
    var _this = this;

    if (this.rolling) {
        this.offset += this.symbols[0].height * speed;

        if (this.offset >= this.symbols[0].height) {
            this.offset = 0;
            if (!isNaN(parseInt(this.stopping))) {
                if (!this.stopValues.length) {
                    console.error('No stop values have been set for reel: ' + reelIndex);
                }
                this.values.unshift(this.stopValues.pop());
                this.stopping++;
            } else {
                this.values.unshift(this.spinValues.pop());
            }
            this.values.splice(-1, 1);
        }

        if (this.stopping == this.positions + 1) {
            this.rolling = false;
            this.stopping++;
            var o = {
                offset: _this.symbols[0].height * speed,
            };
            this.offset = o.offset;
            anime({
                targets: o,
                offset: 0,
                round: 1,
                duration: bounceDuration,
                easing: 'easeOutQuint',
                update: function() {
                    _this.offset = o.offset;
                },
                complete: function() {
                    _this.stopping = false;
                },
            });
        }
    }
};
/**
 * Starts reel spinning.
 */
Slot.Reel.prototype.roll = function() {
    if (!this.rolling && this.stopping === false) {
        this.rolling = true;
    }
};
/**
 * Stops reel from spinning.
 */
Slot.Reel.prototype.stop = function() {
    if (this.rolling && this.stopping === false) {
        this.stopping = 0;
    }
};

// Slot.Reel.prototype.rectangle = function(x, y, width, height, backgroundColor, borderColor, borderWidth ) 
// {  var box = new PIXI.Graphics(); 
//   box.beginFill(backgroundColor);
//    box.lineStyle(borderWidth , borderColor);
//     box.drawRect(0, 0, width - borderWidth, height - borderWidth); box.endFill(); box.position.x = x + borderWidth/2; box.position.y = y + borderWidth/2; 
//     return box;
//   };// create a 100x100 white rectangle with a 10px black border at position 10/10stage.addChild(rectangle(10, 10, 100, 100, 0xFFFFFF, 0x000000, 10));
/**
 * Represents a reel in the game.
 * @constructor
 * @param {number} positions - Number of reel positions.
 */

Slot.Text = function(x, y) {
    // this.positions = positions;
    this.values = [];
    this.symbols = [];
    this.container = new PIXI.Container();

    const baseStyle = new PIXI.TextStyle({
        fontFamily: 'Arial',
        fontSize: 32,
        fontStyle: 'italic',
        fontWeight: 'bold',
        fill: ['#ffffff', '#00ff99'], // gradient
        stroke: '#4a1850',
        strokeThickness: 5,
        dropShadow: true,
        dropShadowColor: '#FFD700',
        dropShadowBlur: 4,
        dropShadowAngle: Math.PI / 3,
        dropShadowDistance: 6,
        wordWrap: true,
        wordWrapWidth: 440,
        lineJoin: 'round',
    });
    const labelStyle = Object.assign({}, baseStyle, { dropShadowColor: "#FFD700" });
    const valueStyle = Object.assign({}, baseStyle, { dropShadowColor: "#C4B454" });
    this.x = x;
    this.y = y;
};

Slot.Text.prototype.render = function(textIndex) {
    var _this = this;
};
Slot.Sprite = function(resourceKey, engine) {
    this.instance = new PIXI.Sprite(PIXI.Loader.shared.resources[resourceKey].texture);
    this.x = 0;
    this.y = 0;

    Object.defineProperties(this, {
        action: {
            set: function(value) {
                this.instance.interactive = false;
                this.instance.off('pointerdown');
                switch (value) {
                    case Slot.ACTION.PLAY:
                        this.instance.interactive = true;
                        this.instance.on('pointerdown', function() {
                            engine.game.play();
                        });
                        break;
                };
            },
        },
        visible: {
            set: function(value) {
                this.instance.visible = value;
            },
            get: function() {
                return this.instance.visible;
            },
        },
    });

    var _this = this;

    function resizeAndPositionSprite() {
        var pixiSprite = _this.instance;
        pixiSprite.scale.x = engine.renderer.view.width / engine.width;
        pixiSprite.scale.y = engine.renderer.view.height / engine.height;
        pixiSprite.x = (_this.x * engine.renderer.view.width) / engine.width;
        pixiSprite.y = (_this.y * engine.renderer.view.height) / engine.height;
    }
    resizeAndPositionSprite();
    PIXI.Ticker.shared.add(function() {
        resizeAndPositionSprite();
    }, PIXI.UPDATE_PRIORITY.HIGH);

    engine.stage.addChild(this.instance);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS1wb2x5ZmlsbC9wcm9taXNlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9wb2x5ZmlsbC9zcmMvUHJvbWlzZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3BvbHlmaWxsL3NyYy9PYmplY3QuYXNzaWduLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvcG9seWZpbGwvc3JjL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3BvbHlmaWxsL3NyYy9NYXRoLnNpZ24uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9wb2x5ZmlsbC9zcmMvTnVtYmVyLmlzSW50ZWdlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3BvbHlmaWxsL3NyYy9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL2Rpc3QvaXNNb2JpbGUubWluLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvc2V0dGluZ3Mvc3JjL3NldHRpbmdzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvc2V0dGluZ3Mvc3JjL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9zZXR0aW5ncy9zcmMvdXRpbHMvY2FuVXBsb2FkU2FtZUJ1ZmZlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2VhcmN1dC9zcmMvZWFyY3V0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3VybC9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdXJsL3V0aWwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmcvZGVjb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2VuY29kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29uc3RhbnRzL3NyYy9pbmRleC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9zZXR0aW5ncy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9icm93c2VyL2hlbGxvLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2Jyb3dzZXIvaXNXZWJHTFN1cHBvcnRlZC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9jb2xvci9oZXguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvY29sb3IvcHJlbXVsdGlwbHkuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvZGF0YS9jcmVhdGVJbmRpY2VzRm9yUXVhZHMuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvZGF0YS9yZW1vdmVJdGVtcy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9kYXRhL3VpZC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9kYXRhL3NpZ24uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvZGF0YS9wb3cyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL21lZGlhL2NhY2hlcy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9tZWRpYS90cmltQ2FudmFzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL21lZGlhL0NhbnZhc1JlbmRlclRhcmdldC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9jb25zdC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9uZXR3b3JrL2RldGVybWluZUNyb3NzT3JpZ2luLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL25ldHdvcmsvZ2V0UmVzb2x1dGlvbk9mVXJsLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2xvZ2dpbmcvZGVwcmVjYXRpb24uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvbmV0d29yay9kZWNvbXBvc2VEYXRhVXJpLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWF0aC9zcmMvUG9pbnQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9PYnNlcnZhYmxlUG9pbnQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9jb25zdC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21hdGgvc3JjL01hdHJpeC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21hdGgvc3JjL0dyb3VwRDguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9UcmFuc2Zvcm0uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9zaGFwZXMvUmVjdGFuZ2xlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWF0aC9zcmMvc2hhcGVzL0NpcmNsZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21hdGgvc3JjL3NoYXBlcy9FbGxpcHNlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWF0aC9zcmMvc2hhcGVzL1BvbHlnb24uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9zaGFwZXMvUm91bmRlZFJlY3RhbmdsZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2Rpc3BsYXkvc3JjL3NldHRpbmdzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZGlzcGxheS9zcmMvQm91bmRzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZGlzcGxheS9zcmMvRGlzcGxheU9iamVjdC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2Rpc3BsYXkvc3JjL0NvbnRhaW5lci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2FjY2Vzc2liaWxpdHkvc3JjL2FjY2Vzc2libGVUYXJnZXQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9hY2Nlc3NpYmlsaXR5L3NyYy9BY2Nlc3NpYmlsaXR5TWFuYWdlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3J1bm5lci9zcmMvUnVubmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGlja2VyL3NyYy9zZXR0aW5ncy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3RpY2tlci9zcmMvY29uc3QuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy90aWNrZXIvc3JjL1RpY2tlckxpc3RlbmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGlja2VyL3NyYy9UaWNrZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy90aWNrZXIvc3JjL1RpY2tlclBsdWdpbi5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9SZXNvdXJjZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9CYXNlSW1hZ2VSZXNvdXJjZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9JbWFnZVJlc291cmNlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL2F1dG9EZXRlY3RSZXNvdXJjZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9CdWZmZXJSZXNvdXJjZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL0Jhc2VUZXh0dXJlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL0FycmF5UmVzb3VyY2UuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy90ZXh0dXJlcy9yZXNvdXJjZXMvQ2FudmFzUmVzb3VyY2UuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy90ZXh0dXJlcy9yZXNvdXJjZXMvQ3ViZVJlc291cmNlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL1NWR1Jlc291cmNlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL1ZpZGVvUmVzb3VyY2UuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy90ZXh0dXJlcy9yZXNvdXJjZXMvSW1hZ2VCaXRtYXBSZXNvdXJjZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9pbmRleC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL1N5c3RlbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9EZXB0aFJlc291cmNlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZnJhbWVidWZmZXIvRnJhbWVidWZmZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9yZW5kZXJUZXh0dXJlL0Jhc2VSZW5kZXJUZXh0dXJlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvVGV4dHVyZVV2cy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL1RleHR1cmUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmVQb29sLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZ2VvbWV0cnkvQXR0cmlidXRlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZ2VvbWV0cnkvQnVmZmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZ2VvbWV0cnkvdXRpbHMvZ2V0QnVmZmVyVHlwZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2dlb21ldHJ5L3V0aWxzL2ludGVybGVhdmVUeXBlZEFycmF5cy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2dlb21ldHJ5L0dlb21ldHJ5LmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdXRpbHMvUXVhZC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3V0aWxzL1F1YWRVdi5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci9Vbmlmb3JtR3JvdXAuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9maWx0ZXJzL0ZpbHRlclN5c3RlbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL09iamVjdFJlbmRlcmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYmF0Y2gvQmF0Y2hTeXN0ZW0uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zZXR0aW5ncy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2NvbnRleHQvQ29udGV4dFN5c3RlbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2ZyYW1lYnVmZmVyL0ZyYW1lYnVmZmVyU3lzdGVtLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZ2VvbWV0cnkvR0xCdWZmZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9nZW9tZXRyeS9HZW9tZXRyeVN5c3RlbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci91dGlscy9jb21waWxlUHJvZ3JhbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci91dGlscy9kZWZhdWx0VmFsdWUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvZ2V0VGVzdENvbnRleHQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvc2V0UHJlY2lzaW9uLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2hhZGVyL3V0aWxzL21hcFNpemUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvbWFwVHlwZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci91dGlscy9nZW5lcmF0ZVVuaWZvcm1zU3luYy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci91dGlscy9jaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2hhZGVyL3V0aWxzL3Vuc2FmZUV2YWxTdXBwb3J0ZWQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvUHJvZ3JhbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci9TaGFkZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zdGF0ZS9TdGF0ZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2ZpbHRlcnMvRmlsdGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvVGV4dHVyZU1hdHJpeC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvbWFzay9NYXNrU3lzdGVtLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvbWFzay9TdGVuY2lsU3lzdGVtLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvcHJvamVjdGlvbi9Qcm9qZWN0aW9uU3lzdGVtLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlU3lzdGVtLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2hhZGVyL0dMUHJvZ3JhbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci9TaGFkZXJTeXN0ZW0uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zdGF0ZS9TdGF0ZVN5c3RlbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3N0YXRlL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL1RleHR1cmVHQ1N5c3RlbS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL0dMVGV4dHVyZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL1RleHR1cmVTeXN0ZW0uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9BYnN0cmFjdFJlbmRlcmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvUmVuZGVyZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9hdXRvRGV0ZWN0UmVuZGVyZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy90ZXh0dXJlcy9DdWJlVGV4dHVyZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL0JhdGNoRHJhd0NhbGwuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9nZW9tZXRyeS9WaWV3YWJsZUJ1ZmZlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL0Fic3RyYWN0QmF0Y2hSZW5kZXJlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL0JhdGNoU2hhZGVyR2VuZXJhdG9yLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYmF0Y2gvQmF0Y2hHZW9tZXRyeS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL0JhdGNoUGx1Z2luRmFjdG9yeS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2V4dHJhY3Qvc3JjL0V4dHJhY3QuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9pbnRlcmFjdGlvbi9zcmMvSW50ZXJhY3Rpb25EYXRhLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvaW50ZXJhY3Rpb24vc3JjL0ludGVyYWN0aW9uRXZlbnQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9pbnRlcmFjdGlvbi9zcmMvSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9pbnRlcmFjdGlvbi9zcmMvaW50ZXJhY3RpdmVUYXJnZXQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9pbnRlcmFjdGlvbi9zcmMvSW50ZXJhY3Rpb25NYW5hZ2VyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL2NvbnN0LmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL3N0eWxlcy9GaWxsU3R5bGUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvR3JhcGhpY3NEYXRhLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL3V0aWxzL2J1aWxkQ2lyY2xlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL3V0aWxzL2J1aWxkTGluZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9idWlsZFBvbHkuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL0dyYXBoaWNzR2VvbWV0cnkuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvdXRpbHMvYnVpbGRSZWN0YW5nbGUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvc3R5bGVzL0xpbmVTdHlsZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9CZXppZXJVdGlscy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9RdWFkcmF0aWNVdGlscy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9BcmNVdGlscy5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9TdGFyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL0dyYXBoaWNzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvc3ByaXRlL3NyYy9TcHJpdGUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy90ZXh0L3NyYy9jb25zdC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3RleHQvc3JjL1RleHRTdHlsZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3RleHQvc3JjL1RleHRNZXRyaWNzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGV4dC9zcmMvVGV4dC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3ByZXBhcmUvc3JjL3NldHRpbmdzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvcHJlcGFyZS9zcmMvQ291bnRMaW1pdGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvcHJlcGFyZS9zcmMvQmFzZVByZXBhcmUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9wcmVwYXJlL3NyYy9QcmVwYXJlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvcHJlcGFyZS9zcmMvVGltZUxpbWl0ZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9hcHAvc3JjL0FwcGxpY2F0aW9uLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvYXBwL3NyYy9SZXNpemVQbHVnaW4uanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9hcHAvc3JjL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLXNpZ25hbHMvbGliL21pbmktc2lnbmFscy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvc3JjL2FzeW5jLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9zcmMvbWlkZGxld2FyZS9jYWNoaW5nLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9zcmMvUmVzb3VyY2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL3NyYy9lbmNvZGVCaW5hcnkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL3NyYy9taWRkbGV3YXJlL3BhcnNpbmcuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL3NyYy9Mb2FkZXIuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9sb2FkZXJzL3NyYy9UZXh0dXJlTG9hZGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbG9hZGVycy9zcmMvTG9hZGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbG9hZGVycy9zcmMvQXBwTG9hZGVyUGx1Z2luLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbG9hZGVycy9zcmMvaW5kZXguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9wYXJ0aWNsZXMvc3JjL1BhcnRpY2xlQ29udGFpbmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvcGFydGljbGVzL3NyYy9QYXJ0aWNsZUJ1ZmZlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3BhcnRpY2xlcy9zcmMvUGFydGljbGVSZW5kZXJlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3Nwcml0ZXNoZWV0L3NyYy9TcHJpdGVzaGVldC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3Nwcml0ZXNoZWV0L3NyYy9TcHJpdGVzaGVldExvYWRlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3Nwcml0ZS10aWxpbmcvc3JjL1RpbGluZ1Nwcml0ZS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL3Nwcml0ZS10aWxpbmcvc3JjL1RpbGluZ1Nwcml0ZVJlbmRlcmVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGV4dC1iaXRtYXAvc3JjL0JpdG1hcFRleHQuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy90ZXh0LWJpdG1hcC9zcmMvQml0bWFwRm9udExvYWRlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2ZpbHRlcnMvZmlsdGVyLWFscGhhL3NyYy9BbHBoYUZpbHRlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2ZpbHRlcnMvZmlsdGVyLWJsdXIvc3JjL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9maWx0ZXJzL2ZpbHRlci1ibHVyL3NyYy9nZW5lcmF0ZUJsdXJGcmFnU291cmNlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZmlsdGVycy9maWx0ZXItYmx1ci9zcmMvQmx1ckZpbHRlclBhc3MuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9maWx0ZXJzL2ZpbHRlci1ibHVyL3NyYy9CbHVyRmlsdGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZmlsdGVycy9maWx0ZXItY29sb3ItbWF0cml4L3NyYy9Db2xvck1hdHJpeEZpbHRlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2ZpbHRlcnMvZmlsdGVyLWRpc3BsYWNlbWVudC9zcmMvRGlzcGxhY2VtZW50RmlsdGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZmlsdGVycy9maWx0ZXItZnhhYS9zcmMvRlhBQUZpbHRlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2ZpbHRlcnMvZmlsdGVyLW5vaXNlL3NyYy9Ob2lzZUZpbHRlci5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21peGluLWNhY2hlLWFzLWJpdG1hcC9zcmMvaW5kZXguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9taXhpbi1nZXQtY2hpbGQtYnktbmFtZS9zcmMvaW5kZXguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uL3NyYy9pbmRleC5qcyIsIi4uL3NyYy91c2VEZXByZWNhdGVkLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWVzaC9zcmMvTWVzaEJhdGNoVXZzLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWVzaC9zcmMvTWVzaC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gvc3JjL01lc2hNYXRlcmlhbC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gvc3JjL01lc2hHZW9tZXRyeS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gtZXh0cmFzL3NyYy9nZW9tZXRyeS9QbGFuZUdlb21ldHJ5LmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWVzaC1leHRyYXMvc3JjL2dlb21ldHJ5L1JvcGVHZW9tZXRyeS5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gtZXh0cmFzL3NyYy9TaW1wbGVSb3BlLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWVzaC1leHRyYXMvc3JjL1NpbXBsZVBsYW5lLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWVzaC1leHRyYXMvc3JjL1NpbXBsZU1lc2guanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tZXNoLWV4dHJhcy9zcmMvTmluZVNsaWNlUGxhbmUuanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9zcHJpdGUtYW5pbWF0ZWQvc3JjL0FuaW1hdGVkU3ByaXRlLmpzIiwiLi4vc3JjL2luZGV4LmpzIiwiYW5pbWUubWluLmpzIiwic2xvdC5qcyIsImdhbWUuanMiLCJyZWVscy1jb250cm9sbGVyLmpzIiwidGV4dHMtY29udHJvbGxlci5qcyIsInJlZWwuanMiLCJ0ZXh0LmpzIiwic3ByaXRlLmpzIl0sIm5hbWVzIjpbImdsb2JhbCIsIk5hdGl2ZVByb21pc2UiLCJuYXRpdmVQcm9taXNlU3VwcG9ydGVkIiwicmVzb2x2ZSIsInIiLCJleHBvcnRzIiwiUHJvbWlzZSIsIlBFTkRJTkciLCJTRUFMRUQiLCJGVUxGSUxMRUQiLCJSRUpFQ1RFRCIsIk5PT1AiLCJpc0FycmF5IiwidmFsdWUiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJhc3luY1RpbWVyIiwiYXN5bmNTZXRUaW1lciIsInNldEltbWVkaWF0ZSIsInNldFRpbWVvdXQiLCJhc3luY1F1ZXVlIiwiYXN5bmNGbHVzaCIsImkiLCJsZW5ndGgiLCJhc3luY0NhbGwiLCJjYWxsYmFjayIsImFyZyIsInB1c2giLCJpbnZva2VDYWxsYmFjayIsInN1YnNjcmliZXIiLCJvd25lciIsInNldHRsZWQiLCJzdGF0ZV8iLCJkYXRhXyIsInByb21pc2UiLCJ0aGVuIiwiZSIsInJlamVjdCIsImhhbmRsZVRoZW5hYmxlIiwicmVzb2x2ZWQiLCJUeXBlRXJyb3IiLCJ2YWwiLCJmdWxmaWxsIiwicmVhc29uIiwicHVibGlzaEZ1bGZpbGxtZW50IiwicHVibGlzaFJlamVjdGlvbiIsInB1Ymxpc2giLCJjYWxsYmFja3MiLCJ0aGVuXyIsInVuZGVmaW5lZCIsInJlc29sdmVyIiwidGhpcyIsInJlamVjdFByb21pc2UiLCJpbnZva2VSZXNvbHZlciIsImNvbnN0cnVjdG9yIiwib25GdWxmaWxsbWVudCIsIm9uUmVqZWN0aW9uIiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJjYXRjaCIsImFsbCIsInByb21pc2VzIiwicmVzdWx0cyIsInJlbWFpbmluZyIsImluZGV4IiwicmFjZSIsIndpbmRvdyIsInNlbGYiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJoYXNPd25Qcm9wZXJ0eSIsInByb3BJc0VudW1lcmFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImFzc2lnbiIsInRlc3QxIiwiU3RyaW5nIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInRlc3QyIiwiZnJvbUNoYXJDb2RlIiwibWFwIiwibiIsImpvaW4iLCJ0ZXN0MyIsInNwbGl0IiwiZm9yRWFjaCIsImxldHRlciIsImtleXMiLCJlcnIiLCJzaG91bGRVc2VOYXRpdmUiLCJ0YXJnZXQiLCJzb3VyY2UiLCJmcm9tIiwic3ltYm9scyIsInRvIiwidG9PYmplY3QiLCJzIiwiYXJndW1lbnRzIiwia2V5IiwiUG9seWZpbGwiLCJvYmplY3RBc3NpZ24iLCJEYXRlIiwibm93IiwiZ2V0VGltZSIsInBlcmZvcm1hbmNlIiwiY29uc3QiLCJzdGFydFRpbWUiLCJsZXQiLCJsYXN0VGltZSIsInZlbmRvcnMiLCJ4IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY3VycmVudFRpbWUiLCJkZWxheSIsImlkIiwiY2xlYXJUaW1lb3V0IiwiTWF0aCIsInNpZ24iLCJOdW1iZXIiLCJpc05hTiIsImlzSW50ZWdlciIsImlzRmluaXRlIiwiZmxvb3IiLCJBcnJheUJ1ZmZlciIsIkFycmF5IiwiRmxvYXQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJVaW50MTZBcnJheSIsIlVpbnQ4QXJyYXkiLCJJbnQzMkFycmF5IiwidCIsImEiLCJiIiwibCIsImYiLCJ1IiwiYyIsImgiLCJ2IiwidyIsIm0iLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibyIsImQiLCJhcHBsZSIsInBob25lIiwiaXBvZCIsInRhYmxldCIsImRldmljZSIsImFtYXpvbiIsImFuZHJvaWQiLCJ3aW5kb3dzIiwib3RoZXIiLCJibGFja2JlcnJ5IiwiYmxhY2tiZXJyeTEwIiwib3BlcmEiLCJmaXJlZm94IiwiY2hyb21lIiwiYW55IiwibW9kdWxlIiwiaXNNb2JpbGUiLCJNSVBNQVBfVEVYVFVSRVMiLCJBTklTT1RST1BJQ19MRVZFTCIsIlJFU09MVVRJT04iLCJGSUxURVJfUkVTT0xVVElPTiIsIlNQUklURV9NQVhfVEVYVFVSRVMiLCJtYXgiLCJhbGxvd01heCIsIm1hdGNoIiwicGFyc2VJbnQiLCJtYXhSZWNvbW1lbmRlZFRleHR1cmVzIiwiU1BSSVRFX0JBVENIX1NJWkUiLCJSRU5ERVJfT1BUSU9OUyIsInZpZXciLCJhbnRpYWxpYXMiLCJmb3JjZUZYQUEiLCJhdXRvRGVuc2l0eSIsInRyYW5zcGFyZW50IiwiYmFja2dyb3VuZENvbG9yIiwiY2xlYXJCZWZvcmVSZW5kZXIiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJ3aWR0aCIsImhlaWdodCIsImxlZ2FjeSIsIkdDX01PREUiLCJHQ19NQVhfSURMRSIsIkdDX01BWF9DSEVDS19DT1VOVCIsIldSQVBfTU9ERSIsIlNDQUxFX01PREUiLCJQUkVDSVNJT05fVkVSVEVYIiwiUFJFQ0lTSU9OX0ZSQUdNRU5UIiwiQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUiIsIkNSRUFURV9JTUFHRV9CSVRNQVAiLCJST1VORF9QSVhFTFMiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImZuIiwiY29udGV4dCIsIm9uY2UiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJldmVudCIsImxpc3RlbmVyIiwiZXZ0IiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsImNsZWFyRXZlbnQiLCJFdmVudEVtaXR0ZXIiLCJjcmVhdGUiLCJfX3Byb3RvX18iLCJldmVudE5hbWVzIiwiZXZlbnRzIiwibmFtZSIsIm5hbWVzIiwic2xpY2UiLCJjb25jYXQiLCJsaXN0ZW5lcnMiLCJoYW5kbGVycyIsImVlIiwibGlzdGVuZXJDb3VudCIsImVtaXQiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiYXJncyIsImxlbiIsInJlbW92ZUxpc3RlbmVyIiwiYXBwbHkiLCJqIiwib24iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJvZmYiLCJwcmVmaXhlZCIsImVhcmN1dCIsImRhdGEiLCJob2xlSW5kaWNlcyIsImRpbSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJ5IiwiaW52U2l6ZSIsImhhc0hvbGVzIiwib3V0ZXJMZW4iLCJvdXRlck5vZGUiLCJsaW5rZWRMaXN0IiwidHJpYW5nbGVzIiwibmV4dCIsInByZXYiLCJzdGFydCIsImVuZCIsImxpc3QiLCJxdWV1ZSIsInN0ZWluZXIiLCJnZXRMZWZ0bW9zdCIsInNvcnQiLCJjb21wYXJlWCIsImVsaW1pbmF0ZUhvbGUiLCJmaWx0ZXJQb2ludHMiLCJlbGltaW5hdGVIb2xlcyIsImVhcmN1dExpbmtlZCIsImNsb2Nrd2lzZSIsImxhc3QiLCJzaWduZWRBcmVhIiwiaW5zZXJ0Tm9kZSIsImVxdWFscyIsInJlbW92ZU5vZGUiLCJhZ2FpbiIsImFyZWEiLCJlYXIiLCJwYXNzIiwieiIsInpPcmRlciIsInByZXZaIiwibmV4dFoiLCJxIiwidGFpbCIsIm51bU1lcmdlcyIsInBTaXplIiwicVNpemUiLCJpblNpemUiLCJzb3J0TGlua2VkIiwiaW5kZXhDdXJ2ZSIsInN0b3AiLCJpc0Vhckhhc2hlZCIsImlzRWFyIiwiY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyIsInNwbGl0RWFyY3V0IiwicG9pbnRJblRyaWFuZ2xlIiwibWluVFgiLCJtaW5UWSIsIm1heFRYIiwibWF4VFkiLCJtaW5aIiwibWF4WiIsImludGVyc2VjdHMiLCJsb2NhbGx5SW5zaWRlIiwiaXNWYWxpZERpYWdvbmFsIiwic3BsaXRQb2x5Z29uIiwiaG9sZSIsImh4IiwiaHkiLCJxeCIsIkluZmluaXR5IiwidGFuIiwibXgiLCJteSIsInRhbk1pbiIsImFicyIsImZpbmRIb2xlQnJpZGdlIiwibGVmdG1vc3QiLCJheCIsImF5IiwiYngiLCJieSIsImN4IiwiY3kiLCJweCIsInB5IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJpbnNpZGUiLCJtaWRkbGVJbnNpZGUiLCJwMSIsInAyIiwicTEiLCJxMiIsIk5vZGUiLCJiMiIsImFuIiwiYnAiLCJzdW0iLCJkZXZpYXRpb24iLCJwb2x5Z29uQXJlYSIsInRyaWFuZ2xlc0FyZWEiLCJmbGF0dGVuIiwicmVzdWx0IiwidmVydGljZXMiLCJob2xlcyIsImRpbWVuc2lvbnMiLCJob2xlSW5kZXgiLCJyb290IiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJmcmVlR2xvYmFsIiwicHVueWNvZGUiLCJtYXhJbnQiLCJiYXNlIiwidE1pbiIsInRNYXgiLCJza2V3IiwiZGFtcCIsImluaXRpYWxCaWFzIiwiaW5pdGlhbE4iLCJkZWxpbWl0ZXIiLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsIm92ZXJmbG93Iiwibm90LWJhc2ljIiwiaW52YWxpZC1pbnB1dCIsImJhc2VNaW51c1RNaW4iLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJlcnJvciIsInR5cGUiLCJSYW5nZUVycm9yIiwiYXJyYXkiLCJtYXBEb21haW4iLCJzdHJpbmciLCJwYXJ0cyIsInJlcGxhY2UiLCJ1Y3MyZGVjb2RlIiwiZXh0cmEiLCJvdXRwdXQiLCJjb3VudGVyIiwiY2hhckNvZGVBdCIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImZsYWciLCJhZGFwdCIsImRlbHRhIiwibnVtUG9pbnRzIiwiZmlyc3RUaW1lIiwiayIsImRlY29kZSIsImlucHV0Iiwib3V0IiwiYmFzaWMiLCJvbGRpIiwiYmFzZU1pbnVzVCIsImNvZGVQb2ludCIsImlucHV0TGVuZ3RoIiwiYmlhcyIsImxhc3RJbmRleE9mIiwic3BsaWNlIiwiZW5jb2RlIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsImN1cnJlbnRWYWx1ZSIsImhhbmRsZWRDUENvdW50UGx1c09uZSIsInFNaW51c1QiLCJ2ZXJzaW9uIiwidWNzMiIsInRvQVNDSUkiLCJ0b1VuaWNvZGUiLCJ0b0xvd2VyQ2FzZSIsImlzU3RyaW5nIiwiaXNPYmplY3QiLCJpc051bGwiLCJpc051bGxPclVuZGVmaW5lZCIsIm9iaiIsInByb3AiLCJxcyIsInNlcCIsImVxIiwib3B0aW9ucyIsInJlZ2V4cCIsIm1heEtleXMiLCJrc3RyIiwidnN0ciIsImlkeCIsImluZGV4T2YiLCJzdWJzdHIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzdHJpbmdpZnlQcmltaXRpdmUiLCJrcyIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcXVpcmUkJDAiLCJyZXF1aXJlJCQxIiwidXJsUGFyc2UiLCJyZWxhdGl2ZSIsInJlc29sdmVPYmplY3QiLCJ1dGlsIiwiVXJsIiwiZm9ybWF0IiwicHJvdG9jb2wiLCJzbGFzaGVzIiwiYXV0aCIsImhvc3QiLCJwb3J0IiwiaG9zdG5hbWUiLCJoYXNoIiwic2VhcmNoIiwicXVlcnkiLCJwYXRobmFtZSIsInBhdGgiLCJocmVmIiwicHJvdG9jb2xQYXR0ZXJuIiwicG9ydFBhdHRlcm4iLCJzaW1wbGVQYXRoUGF0dGVybiIsInVud2lzZSIsImF1dG9Fc2NhcGUiLCJub25Ib3N0Q2hhcnMiLCJob3N0RW5kaW5nQ2hhcnMiLCJob3N0bmFtZVBhcnRQYXR0ZXJuIiwiaG9zdG5hbWVQYXJ0U3RhcnQiLCJ1bnNhZmVQcm90b2NvbCIsImphdmFzY3JpcHQiLCJqYXZhc2NyaXB0OiIsImhvc3RsZXNzUHJvdG9jb2wiLCJzbGFzaGVkUHJvdG9jb2wiLCJodHRwIiwiaHR0cHMiLCJmdHAiLCJnb3BoZXIiLCJmaWxlIiwiaHR0cDoiLCJodHRwczoiLCJmdHA6IiwiZ29waGVyOiIsImZpbGU6IiwidXJsIiwicGFyc2VRdWVyeVN0cmluZyIsInNsYXNoZXNEZW5vdGVIb3N0IiwicGFyc2UiLCJxdWVyeUluZGV4Iiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJyZXN0IiwidHJpbSIsInNpbXBsZVBhdGgiLCJleGVjIiwicXVlcnlzdHJpbmciLCJwcm90byIsImxvd2VyUHJvdG8iLCJhdFNpZ24iLCJob3N0RW5kIiwiaGVjIiwicGFyc2VIb3N0IiwiaXB2Nkhvc3RuYW1lIiwiaG9zdHBhcnRzIiwicGFydCIsIm5ld3BhcnQiLCJ2YWxpZFBhcnRzIiwibm90SG9zdCIsImJpdCIsInVuc2hpZnQiLCJhZSIsImVzYyIsImVzY2FwZSIsInFtIiwic3RyaW5naWZ5IiwiY2hhckF0IiwicmVsIiwidGtleXMiLCJ0ayIsInRrZXkiLCJya2V5cyIsInJrIiwicmtleSIsInJlbFBhdGgiLCJzaGlmdCIsImlzU291cmNlQWJzIiwiaXNSZWxBYnMiLCJtdXN0RW5kQWJzIiwicmVtb3ZlQWxsRG90cyIsInNyY1BhdGgiLCJwc3ljaG90aWMiLCJwb3AiLCJhdXRoSW5Ib3N0IiwiaGFzVHJhaWxpbmdTbGFzaCIsInVwIiwiaXNBYnNvbHV0ZSIsIkVOViIsIldFQkdMX0xFR0FDWSIsIldFQkdMIiwiV0VCR0wyIiwiUkVOREVSRVJfVFlQRSIsIlVOS05PV04iLCJDQU5WQVMiLCJCTEVORF9NT0RFUyIsIk5PUk1BTCIsIkFERCIsIk1VTFRJUExZIiwiU0NSRUVOIiwiT1ZFUkxBWSIsIkRBUktFTiIsIkxJR0hURU4iLCJDT0xPUl9ET0RHRSIsIkNPTE9SX0JVUk4iLCJIQVJEX0xJR0hUIiwiU09GVF9MSUdIVCIsIkRJRkZFUkVOQ0UiLCJFWENMVVNJT04iLCJIVUUiLCJTQVRVUkFUSU9OIiwiQ09MT1IiLCJMVU1JTk9TSVRZIiwiTk9STUFMX05QTSIsIkFERF9OUE0iLCJTQ1JFRU5fTlBNIiwiTk9ORSIsIlNSQ19PVkVSIiwiU1JDX0lOIiwiU1JDX09VVCIsIlNSQ19BVE9QIiwiRFNUX09WRVIiLCJEU1RfSU4iLCJEU1RfT1VUIiwiRFNUX0FUT1AiLCJFUkFTRSIsIlNVQlRSQUNUIiwiRFJBV19NT0RFUyIsIlBPSU5UUyIsIkxJTkVTIiwiTElORV9MT09QIiwiTElORV9TVFJJUCIsIlRSSUFOR0xFUyIsIlRSSUFOR0xFX1NUUklQIiwiVFJJQU5HTEVfRkFOIiwiRk9STUFUUyIsIlJHQkEiLCJSR0IiLCJBTFBIQSIsIkxVTUlOQU5DRSIsIkxVTUlOQU5DRV9BTFBIQSIsIkRFUFRIX0NPTVBPTkVOVCIsIkRFUFRIX1NURU5DSUwiLCJUQVJHRVRTIiwiVEVYVFVSRV8yRCIsIlRFWFRVUkVfQ1VCRV9NQVAiLCJURVhUVVJFXzJEX0FSUkFZIiwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YIiwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YIiwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZIiwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZIiwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aIiwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aIiwiVFlQRVMiLCJVTlNJR05FRF9CWVRFIiwiVU5TSUdORURfU0hPUlQiLCJVTlNJR05FRF9TSE9SVF81XzZfNSIsIlVOU0lHTkVEX1NIT1JUXzRfNF80XzQiLCJVTlNJR05FRF9TSE9SVF81XzVfNV8xIiwiRkxPQVQiLCJIQUxGX0ZMT0FUIiwiU0NBTEVfTU9ERVMiLCJMSU5FQVIiLCJORUFSRVNUIiwiV1JBUF9NT0RFUyIsIkNMQU1QIiwiUkVQRUFUIiwiTUlSUk9SRURfUkVQRUFUIiwiTUlQTUFQX01PREVTIiwiT0ZGIiwiUE9XMiIsIk9OIiwiR0NfTU9ERVMiLCJBVVRPIiwiTUFOVUFMIiwiUFJFQ0lTSU9OIiwiTE9XIiwiTUVESVVNIiwiSElHSCIsInNldHRpbmdzIiwiUkVUSU5BX1BSRUZJWCIsIkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUIiwic3VwcG9ydGVkIiwic2FpZEhlbGxvIiwiVkVSU0lPTiIsInNheUhlbGxvIiwiY29uc29sZSIsImxvZyIsImlzV2ViR0xTdXBwb3J0ZWQiLCJjb250ZXh0T3B0aW9ucyIsInN0ZW5jaWwiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2wiLCJnZXRDb250ZXh0Iiwic3VjY2VzcyIsImdldENvbnRleHRBdHRyaWJ1dGVzIiwibG9zZUNvbnRleHQiLCJnZXRFeHRlbnNpb24iLCJoZXgycmdiIiwiaGV4IiwiaGV4MnN0cmluZyIsInN0cmluZzJoZXgiLCJwcmVtdWx0aXBseUJsZW5kTW9kZSIsInBtIiwibnBtIiwibWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMiLCJjb3JyZWN0QmxlbmRNb2RlIiwiYmxlbmRNb2RlIiwicHJlbXVsdGlwbGllZCIsInByZW11bHRpcGx5UmdiYSIsInJnYiIsImFscGhhIiwicHJlbXVsdGlwbHkiLCJwcmVtdWx0aXBseVRpbnQiLCJ0aW50IiwiUiIsIkciLCJCIiwicHJlbXVsdGlwbHlUaW50VG9SZ2JhIiwiY3JlYXRlSW5kaWNlc0ZvclF1YWRzIiwic2l6ZSIsIm91dEJ1ZmZlciIsInRvdGFsSW5kaWNlcyIsIkVycm9yIiwicmVtb3ZlSXRlbXMiLCJhcnIiLCJzdGFydElkeCIsInJlbW92ZUNvdW50IiwibmV4dFVpZCIsInVpZCIsIm5leHRQb3cyIiwiaXNQb3cyIiwibG9nMiIsIlByb2dyYW1DYWNoZSIsIlRleHR1cmVDYWNoZSIsIkJhc2VUZXh0dXJlQ2FjaGUiLCJ0cmltQ2FudmFzIiwicGl4ZWxzIiwiZ2V0SW1hZ2VEYXRhIiwiYm91bmQiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJDYW52YXNSZW5kZXJUYXJnZXQiLCJyZXNvbHV0aW9uIiwicmVzaXplIiwiY2xlYXIiLCJzZXRUcmFuc2Zvcm0iLCJjbGVhclJlY3QiLCJkZXN0cm95IiwicHJvdG90eXBlQWNjZXNzb3JzIiwidGVtcEFuY2hvciIsIkRBVEFfVVJJIiwiZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJsb2MiLCJsb2NhdGlvbiIsInNhbWVQb3J0IiwiX3VybCIsImdldFJlc29sdXRpb25PZlVybCIsImRlZmF1bHRWYWx1ZSIsInBhcnNlRmxvYXQiLCJ3YXJuaW5ncyIsImRlcHJlY2F0aW9uIiwibWVzc2FnZSIsImlnbm9yZURlcHRoIiwic3RhY2siLCJ3YXJuIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsImRhdGFVcmkiLCJkYXRhVXJpTWF0Y2giLCJtZWRpYVR5cGUiLCJzdWJUeXBlIiwiY2hhcnNldCIsImVuY29kaW5nIiwiUG9pbnQiLCJjbG9uZSIsImNvcHlGcm9tIiwic2V0IiwiY29weVRvIiwiT2JzZXJ2YWJsZVBvaW50IiwiY2IiLCJzY29wZSIsIl94IiwiX3kiLCJfY2IiLCJfc2NvcGUiLCJQSV8yIiwiUEkiLCJSQURfVE9fREVHIiwiREVHX1RPX1JBRCIsIlNIQVBFUyIsIlBPTFkiLCJSRUNUIiwiQ0lSQyIsIkVMSVAiLCJSUkVDIiwiTWF0cml4IiwidHgiLCJ0eSIsImZyb21BcnJheSIsInRvQXJyYXkiLCJ0cmFuc3Bvc2UiLCJwb3MiLCJuZXdQb3MiLCJhcHBseUludmVyc2UiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsInJvdGF0ZSIsImFuZ2xlIiwiY29zIiwic2luIiwiYzEiLCJ0eDEiLCJhcHBlbmQiLCJtYXRyaXgiLCJiMSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsInRyYW5zZm9ybSIsImF0YW4yIiwic3FydCIsInBvc2l0aW9uIiwiaW52ZXJ0IiwiaWRlbnRpdHkiLCJzdGF0aWNBY2Nlc3NvcnMiLCJJREVOVElUWSIsIlRFTVBfTUFUUklYIiwidXgiLCJ1eSIsInZ4IiwidnkiLCJyb3RhdGlvbkNheWxleSIsInJvdGF0aW9uTWF0cmljZXMiLCJzaWdudW0iLCJyb3ciLCJfdXgiLCJfdXkiLCJfdngiLCJfdnkiLCJtYXQiLCJpbml0IiwiR3JvdXBEOCIsIkUiLCJTRSIsIlMiLCJTVyIsIlciLCJOVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1BSU5fRElBR09OQUwiLCJNSVJST1JfSE9SSVpPTlRBTCIsIlJFVkVSU0VfRElBR09OQUwiLCJ1WCIsImluZCIsInVZIiwidlgiLCJ2WSIsImludiIsImFkZCIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsImR4IiwiZHkiLCJtYXRyaXhBcHBlbmRSb3RhdGlvbkludiIsIlRyYW5zZm9ybSIsIndvcmxkVHJhbnNmb3JtIiwibG9jYWxUcmFuc2Zvcm0iLCJvbkNoYW5nZSIsInBpdm90IiwidXBkYXRlU2tldyIsIl9yb3RhdGlvbiIsIl9jeCIsIl9zeCIsIl9jeSIsIl9zeSIsIl9sb2NhbElEIiwiX2N1cnJlbnRMb2NhbElEIiwiX3dvcmxkSUQiLCJfcGFyZW50SUQiLCJ1cGRhdGVMb2NhbFRyYW5zZm9ybSIsImx0IiwidXBkYXRlVHJhbnNmb3JtIiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJ3dCIsInNldEZyb21NYXRyaXgiLCJSZWN0YW5nbGUiLCJFTVBUWSIsInJlY3RhbmdsZSIsImNvbnRhaW5zIiwicGFkIiwicGFkZGluZ1giLCJwYWRkaW5nWSIsImZpdCIsIngxIiwieDIiLCJtaW4iLCJ5MSIsInkyIiwiY2VpbCIsImVwcyIsImVubGFyZ2UiLCJDaXJjbGUiLCJyYWRpdXMiLCJyMiIsImdldEJvdW5kcyIsIkVsbGlwc2UiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0Iiwibm9ybXgiLCJub3JteSIsIlBvbHlnb24iLCJwb2ludHMiLCJpbCIsImNsb3NlU3Ryb2tlIiwicG9seWdvbiIsInhpIiwieWkiLCJ4aiIsInlqIiwiUm91bmRlZFJlY3RhbmdsZSIsInJhZGl1czIiLCJTT1JUQUJMRV9DSElMRFJFTiIsIkJvdW5kcyIsInJlY3QiLCJpc0VtcHR5IiwidXBkYXRlSUQiLCJnZXRSZWN0YW5nbGUiLCJhZGRQb2ludCIsInBvaW50IiwiYWRkUXVhZCIsImFkZEZyYW1lIiwieDAiLCJ5MCIsImFkZFZlcnRleERhdGEiLCJ2ZXJ0ZXhEYXRhIiwiYmVnaW5PZmZzZXQiLCJlbmRPZmZzZXQiLCJhZGRWZXJ0aWNlcyIsInJhd1giLCJyYXdZIiwiYWRkQm91bmRzIiwiYm91bmRzIiwiYWRkQm91bmRzTWFzayIsIm1hc2siLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsImFkZEJvdW5kc0FyZWEiLCJEaXNwbGF5T2JqZWN0Iiwic3VwZXIiLCJ0ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsInZpc2libGUiLCJyZW5kZXJhYmxlIiwicGFyZW50Iiwid29ybGRBbHBoYSIsIl9sYXN0U29ydGVkSW5kZXgiLCJfekluZGV4IiwiZmlsdGVyQXJlYSIsImZpbHRlcnMiLCJfZW5hYmxlZEZpbHRlcnMiLCJfYm91bmRzIiwiX2JvdW5kc0lEIiwiX2xhc3RCb3VuZHNJRCIsIl9ib3VuZHNSZWN0IiwiX2xvY2FsQm91bmRzUmVjdCIsIl9tYXNrIiwiX2Rlc3Ryb3llZCIsImlzU3ByaXRlIiwibWl4aW4iLCJwcm9wZXJ0eU5hbWUiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsIl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtIiwic2tpcFVwZGF0ZSIsImNhbGN1bGF0ZUJvdW5kcyIsImdldExvY2FsQm91bmRzIiwidHJhbnNmb3JtUmVmIiwicGFyZW50UmVmIiwidG9HbG9iYWwiLCJkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIiwidG9Mb2NhbCIsInJlbmRlciIsInJlbmRlcmVyIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwiYWRkQ2hpbGQiLCJyZW1vdmVDaGlsZCIsIl9jdXJyZW50Qm91bmRzIiwiaW50ZXJhY3RpdmUiLCJpbnRlcmFjdGl2ZUNoaWxkcmVuIiwiekluZGV4Iiwic29ydERpcnR5Iiwid29ybGRWaXNpYmxlIiwiaXRlbSIsImlzTWFzayIsInNvcnRDaGlsZHJlbiIsIkNvbnRhaW5lciIsImNoaWxkcmVuIiwic29ydGFibGVDaGlsZHJlbiIsIm9uQ2hpbGRyZW5DaGFuZ2UiLCJjaGlsZCIsImFyZ3VtZW50c0xlbmd0aCIsImFkZENoaWxkQXQiLCJzd2FwQ2hpbGRyZW4iLCJjaGlsZDIiLCJpbmRleDEiLCJnZXRDaGlsZEluZGV4IiwiaW5kZXgyIiwic2V0Q2hpbGRJbmRleCIsImN1cnJlbnRJbmRleCIsImdldENoaWxkQXQiLCJyZW1vdmVDaGlsZEF0IiwicmVtb3ZlQ2hpbGRyZW4iLCJiZWdpbkluZGV4IiwiZW5kSW5kZXgiLCJyZW1vdmVkIiwiYmVnaW4iLCJyYW5nZSIsInNvcnRSZXF1aXJlZCIsIl9jYWxjdWxhdGVCb3VuZHMiLCJyZW5kZXJBZHZhbmNlZCIsIl9yZW5kZXIiLCJiYXRjaCIsImZsdXNoIiwiZW5hYmxlZCIsImZpbHRlciIsImRlc3Ryb3lDaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwiX3dpZHRoIiwiX2hlaWdodCIsImNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSIsImFjY2Vzc2libGUiLCJhY2Nlc3NpYmxlVGl0bGUiLCJhY2Nlc3NpYmxlSGludCIsInRhYkluZGV4IiwiX2FjY2Vzc2libGVBY3RpdmUiLCJfYWNjZXNzaWJsZURpdiIsImFjY2Vzc2libGVUYXJnZXQiLCJBY2Nlc3NpYmlsaXR5TWFuYWdlciIsIl9ob29rRGl2IiwiY3JlYXRlVG91Y2hIb29rIiwiZGl2Iiwic3R5bGUiLCJESVZfVE9VQ0hfU0laRSIsIkRJVl9UT1VDSF9QT1NfWCIsIkRJVl9UT1VDSF9QT1NfWSIsInBvb2wiLCJyZW5kZXJJZCIsImRlYnVnIiwiX29uS2V5RG93biIsImJpbmQiLCJfb25Nb3VzZU1vdmUiLCJpc0FjdGl2ZSIsImlzTW9iaWxlQWNjZXNzaWJpbGl0eSIsImFkZEV2ZW50TGlzdGVuZXIiLCJob29rRGl2IiwiRElWX0hPT0tfU0laRSIsIkRJVl9IT09LX1BPU19YIiwiRElWX0hPT0tfUE9TX1kiLCJ0aXRsZSIsImFjdGl2YXRlIiwiZGVzdHJveVRvdWNoSG9vayIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGUiLCJwYXJlbnROb2RlIiwiZGVhY3RpdmF0ZSIsInVwZGF0ZUFjY2Vzc2libGVPYmplY3RzIiwiZGlzcGxheU9iamVjdCIsInJlbmRlcmluZ1RvU2NyZWVuIiwiX2xhc3RPYmplY3RSZW5kZXJlZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInN4Iiwic3kiLCJoaXRBcmVhIiwiY2FwSGl0QXJlYSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImJvcmRlclN0eWxlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwiaW50ZXJhY3Rpb25NYW5hZ2VyIiwicGx1Z2lucyIsImludGVyYWN0aW9uIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50RGF0YSIsImtleUNvZGUiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJSdW5uZXIiLCJpdGVtcyIsIl9uYW1lIiwiX2FsaWFzQ291bnQiLCJhMCIsImE2IiwiYTciLCJlbnN1cmVOb25BbGlhc2VkSXRlbXMiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJlbXB0eSIsImRpc3BhdGNoIiwicnVuIiwiVEFSR0VUX0ZQTVMiLCJVUERBVEVfUFJJT1JJVFkiLCJJTlRFUkFDVElPTiIsIlVUSUxJVFkiLCJUaWNrZXJMaXN0ZW5lciIsInByaW9yaXR5IiwicHJldmlvdXMiLCJkZWx0YVRpbWUiLCJyZWRpcmVjdCIsImNvbm5lY3QiLCJoYXJkIiwiVGlja2VyIiwiX2hlYWQiLCJfcmVxdWVzdElkIiwiX21heEVsYXBzZWRNUyIsIl9taW5FbGFwc2VkTVMiLCJhdXRvU3RhcnQiLCJkZWx0YU1TIiwiZWxhcHNlZE1TIiwic3BlZWQiLCJzdGFydGVkIiwiX3Byb3RlY3RlZCIsIl9sYXN0RnJhbWUiLCJfdGljayIsInRpbWUiLCJ0aGlzJDEiLCJfcmVxdWVzdElmTmVlZGVkIiwiX2NhbmNlbElmTmVlZGVkIiwiX3N0YXJ0SWZQb3NzaWJsZSIsIl9hZGRMaXN0ZW5lciIsImFkZE9uY2UiLCJjdXJyZW50IiwiaGVhZCIsIkZQUyIsIm1pbkZQUyIsImZwcyIsIm1heEZQUyIsIm1pbkZQTVMiLCJyb3VuZCIsInNoYXJlZCIsIl9zaGFyZWQiLCJzeXN0ZW0iLCJfc3lzdGVtIiwiVGlja2VyUGx1Z2luIiwic2hhcmVkVGlja2VyIiwidGlja2VyIiwiX3RpY2tlciIsImdldCIsIm9sZFRpY2tlciIsIlJlc291cmNlIiwiZGVzdHJveWVkIiwiaW50ZXJuYWwiLCJvblJlc2l6ZSIsIm9uVXBkYXRlIiwib25FcnJvciIsImJhc2VUZXh0dXJlIiwidW5iaW5kIiwidmFsaWQiLCJsb2FkIiwidXBsb2FkIiwiZ2xUZXh0dXJlIiwiZGlzcG9zZSIsIkJhc2VJbWFnZVJlc291cmNlIiwibmF0dXJhbFdpZHRoIiwidmlkZW9XaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ2aWRlb0hlaWdodCIsImNyb3NzT3JpZ2luIiwiZWxlbWVudCIsImNyb3Nzb3JpZ2luIiwicmVhbFdpZHRoIiwicmVhbEhlaWdodCIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIiwicHJlbXVsdGlwbHlBbHBoYSIsInRleFN1YkltYWdlMkQiLCJ0ZXhJbWFnZTJEIiwiSW1hZ2VSZXNvdXJjZSIsIkhUTUxJbWFnZUVsZW1lbnQiLCJpbWFnZUVsZW1lbnQiLCJJbWFnZSIsInNyYyIsImNvbXBsZXRlIiwiX3Byb2Nlc3MiLCJwcmVzZXJ2ZUJpdG1hcCIsImNyZWF0ZUJpdG1hcCIsImNyZWF0ZUltYWdlQml0bWFwIiwiYml0bWFwIiwiX2xvYWQiLCJhdXRvTG9hZCIsImNvbXBsZXRlZCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJwcm9jZXNzIiwiX2dsVGV4dHVyZXMiLCJvdGhlclRleCIsImRpcnR5SWQiLCJjbG9zZSIsIklOU1RBTExFRCIsImF1dG9EZXRlY3RSZXNvdXJjZSIsImV4dGVuc2lvbiIsIlJlc291cmNlUGx1Z2luIiwiQnVmZmVyUmVzb3VyY2UiLCJpbnRlcm5hbEZvcm1hdCIsImRlZmF1bHRCdWZmZXJPcHRpb25zIiwic2NhbGVNb2RlIiwiQmFzZVRleHR1cmUiLCJyZXNvdXJjZSIsInJlc291cmNlT3B0aW9ucyIsIm1pcG1hcCIsImFuaXNvdHJvcGljTGV2ZWwiLCJ3cmFwTW9kZSIsInRvdWNoZWQiLCJpc1Bvd2VyT2ZUd28iLCJfcmVmcmVzaFBPVCIsImRpcnR5U3R5bGVJZCIsImNhY2hlSWQiLCJ0ZXh0dXJlQ2FjaGVJZHMiLCJfYmF0Y2hFbmFibGVkIiwic2V0UmVzb3VyY2UiLCJzZXRTdHlsZSIsImRpcnR5Iiwic2V0U2l6ZSIsInNldFJlYWxTaXplIiwic2V0UmVzb2x1dGlvbiIsIm9sZFJlc29sdXRpb24iLCJyZW1vdmVGcm9tQ2FjaGUiLCJfcGl4aUlkIiwiYWRkVG9DYWNoZSIsImZyb21CdWZmZXIiLCJidWZmZXIiLCJiYXNlVGV4dHVyZUZyb21DYWNoZSIsIl9nbG9iYWxCYXRjaCIsIkFycmF5UmVzb3VyY2UiLCJ1cmxzIiwiaXRlbURpcnR5SWRzIiwicGFydFRleHR1cmUiLCJhZGRSZXNvdXJjZUF0IiwicmVzb3VyY2VzIiwidGV4dHVyZSIsInRleEltYWdlM0QiLCJ0ZXhTdWJJbWFnZTNEIiwiQ2FudmFzUmVzb3VyY2UiLCJPZmZzY3JlZW5DYW52YXMiLCJIVE1MQ2FudmFzRWxlbWVudCIsIkN1YmVSZXNvdXJjZSIsIlNJREVTIiwic2lkZSIsIlNWR1Jlc291cmNlIiwic3ZnIiwiX292ZXJyaWRlV2lkdGgiLCJfb3ZlcnJpZGVIZWlnaHQiLCJfcmVzb2x2ZSIsIl9jcm9zc29yaWdpbiIsImJ0b2EiLCJ1bmVzY2FwZSIsIl9sb2FkU3ZnIiwidGVtcEltYWdlIiwic3ZnV2lkdGgiLCJzdmdIZWlnaHQiLCJkcmF3SW1hZ2UiLCJnZXRTaXplIiwic3ZnU3RyaW5nIiwic2l6ZU1hdGNoIiwiU1ZHX1NJWkUiLCJWaWRlb1Jlc291cmNlIiwiSFRNTFZpZGVvRWxlbWVudCIsInZpZGVvRWxlbWVudCIsInNvdXJjZUVsZW1lbnQiLCJiYXNlU3JjIiwiZXh0IiwibWltZSIsIl9hdXRvVXBkYXRlIiwiX2lzQXV0b1VwZGF0aW5nIiwiX3VwZGF0ZUZQUyIsInVwZGF0ZUZQUyIsIl9tc1RvTmV4dFVwZGF0ZSIsImF1dG9QbGF5IiwiX29uQ2FuUGxheSIsIl9vbkVycm9yIiwicGxheWJhY2tSYXRlIiwicmVhZHlTdGF0ZSIsIkhBVkVfRU5PVUdIX0RBVEEiLCJIQVZFX0ZVVFVSRV9EQVRBIiwiX29uUGxheVN0YXJ0IiwiX29uUGxheVN0b3AiLCJfaXNTb3VyY2VSZWFkeSIsIl9pc1NvdXJjZVBsYXlpbmciLCJwYXVzZWQiLCJlbmRlZCIsImF1dG9VcGRhdGUiLCJwbGF5IiwicGF1c2UiLCJJbWFnZUJpdG1hcFJlc291cmNlIiwiSW1hZ2VCaXRtYXAiLCJTeXN0ZW0iLCJEZXB0aFJlc291cmNlIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJGcmFtZWJ1ZmZlciIsImRlcHRoIiwiZGlydHlGb3JtYXQiLCJkaXJ0eVNpemUiLCJkZXB0aFRleHR1cmUiLCJjb2xvclRleHR1cmVzIiwiZ2xGcmFtZWJ1ZmZlcnMiLCJkaXNwb3NlUnVubmVyIiwiY29sb3JUZXh0dXJlIiwiYWRkQ29sb3JUZXh0dXJlIiwiVGV4dHVyZSIsImFkZERlcHRoVGV4dHVyZSIsImVuYWJsZURlcHRoIiwiZW5hYmxlU3RlbmNpbCIsIkJhc2VSZW5kZXJUZXh0dXJlIiwiX2NhbnZhc1JlbmRlclRhcmdldCIsImNsZWFyQ29sb3IiLCJmcmFtZWJ1ZmZlciIsInN0ZW5jaWxNYXNrU3RhY2siLCJmaWx0ZXJTdGFjayIsIlRleHR1cmVVdnMiLCJ4MyIsInkzIiwidXZzRmxvYXQzMiIsImZyYW1lIiwiYmFzZUZyYW1lIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsImNZIiwiREVGQVVMVF9VVlMiLCJvcmlnIiwiYW5jaG9yIiwibm9GcmFtZSIsIl9mcmFtZSIsInJlcXVpcmVzVXBkYXRlIiwiX3V2cyIsInV2TWF0cml4IiwiX3JvdGF0ZSIsImRlZmF1bHRBbmNob3IiLCJfdXBkYXRlSUQiLCJvbkJhc2VUZXh0dXJlVXBkYXRlZCIsInVwZGF0ZVV2cyIsImRlc3Ryb3lCYXNlIiwiZnJvbUxvYWRlciIsImltYWdlVXJsIiwidGV4dHVyZUZyb21DYWNoZSIsInhOb3RGaXQiLCJ5Tm90Rml0IiwicmVsYXRpb25zaGlwIiwiZXJyb3JYIiwiZXJyb3JZIiwicmVtb3ZlQWxsSGFuZGxlcnMiLCJ0ZXgiLCJXSElURSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY3JlYXRlV2hpdGVUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZSIsImJhc2VSZW5kZXJUZXh0dXJlIiwiX2xlZ2FjeVJlbmRlcmVyIiwibGVnYWN5UmVuZGVyZXIiLCJmaWx0ZXJGcmFtZSIsImZpbHRlclBvb2xLZXkiLCJyZXNpemVCYXNlVGV4dHVyZSIsIlJlbmRlclRleHR1cmVQb29sIiwidGV4dHVyZU9wdGlvbnMiLCJ0ZXh0dXJlUG9vbCIsImVuYWJsZUZ1bGxTY3JlZW4iLCJfcGl4ZWxzV2lkdGgiLCJfcGl4ZWxzSGVpZ2h0IiwiY3JlYXRlVGV4dHVyZSIsImdldE9wdGltYWxUZXh0dXJlIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJTQ1JFRU5fS0VZIiwicmVuZGVyVGV4dHVyZSIsImdldEZpbHRlclRleHR1cmUiLCJmaWx0ZXJUZXh0dXJlIiwicmV0dXJuVGV4dHVyZSIsInJldHVybkZpbHRlclRleHR1cmUiLCJkZXN0cm95VGV4dHVyZXMiLCJ0ZXh0dXJlcyIsInNldFNjcmVlblNpemUiLCJzY3JlZW5LZXkiLCJBdHRyaWJ1dGUiLCJub3JtYWxpemVkIiwic3RyaWRlIiwiaW5zdGFuY2UiLCJVSUQiLCJCdWZmZXIiLCJfc3RhdGljIiwiX2dsQnVmZmVycyIsInN0YXRpYyIsImdldEJ1ZmZlclR5cGUiLCJCWVRFU19QRVJfRUxFTUVOVCIsImJ5dGVTaXplTWFwIiwiNTEyNiIsIjUxMjMiLCI1MTIxIiwiR2VvbWV0cnkiLCJidWZmZXJzIiwiYXR0cmlidXRlcyIsImluZGV4QnVmZmVyIiwiZ2xWZXJ0ZXhBcnJheU9iamVjdHMiLCJpbnN0YW5jZWQiLCJpbnN0YW5jZUNvdW50IiwicmVmQ291bnQiLCJhZGRBdHRyaWJ1dGUiLCJpZHMiLCJidWZmZXJJbmRleCIsImdldEJ1ZmZlciIsImFkZEluZGV4IiwiZ2V0SW5kZXgiLCJpbnRlcmxlYXZlIiwiYXJyYXlzIiwic2l6ZXMiLCJpbnRlcmxlYXZlZEJ1ZmZlciIsImF0dHJpYnV0ZSIsIm91dFNpemUiLCJ2aWV3cyIsImxpdHRsZU9mZnNldCIsImludGVybGVhdmVUeXBlZEFycmF5cyIsImdlb21ldHJ5IiwiYXR0cmliIiwibWVyZ2UiLCJnZW9tZXRyaWVzIiwiZ2VvbWV0cnlPdXQiLCJvZmZzZXRzIiwib2Zmc2V0Iiwib2Zmc2V0MiIsImJ1ZmZlckluZGV4VG9Db3VudCIsImluZGV4QnVmZmVyRGF0YSIsIlF1YWQiLCJRdWFkVXYiLCJ1dnMiLCJ2ZXJ0ZXhCdWZmZXIiLCJ1dkJ1ZmZlciIsInRhcmdldFRleHR1cmVGcmFtZSIsImRlc3RpbmF0aW9uRnJhbWUiLCJpbnZhbGlkYXRlIiwiVW5pZm9ybUdyb3VwIiwidW5pZm9ybXMiLCJncm91cCIsInN5bmNVbmlmb3JtcyIsIkZpbHRlclN0YXRlIiwic291cmNlRnJhbWUiLCJGaWx0ZXJTeXN0ZW0iLCJkZWZhdWx0RmlsdGVyU3RhY2siLCJzdGF0ZVBvb2wiLCJxdWFkIiwicXVhZFV2IiwidGVtcFJlY3QiLCJhY3RpdmVTdGF0ZSIsImdsb2JhbFVuaWZvcm1zIiwib3V0cHV0RnJhbWUiLCJpbnB1dFNpemUiLCJpbnB1dFBpeGVsIiwiaW5wdXRDbGFtcCIsImZpbHRlckNsYW1wIiwic3RhdGUiLCJwYWRkaW5nIiwiYXV0b0ZpdCIsImdldE9wdGltYWxGaWx0ZXJUZXh0dXJlIiwibGFzdFN0YXRlIiwiZmxpcCIsImZsb3AiLCJhcHBseUZpbHRlciIsInVTYW1wbGVyIiwiZmlsdGVyR2xvYmFscyIsInNoYWRlciIsImRyYXciLCJjYWxjdWxhdGVTcHJpdGVNYXRyaXgiLCJvdXRwdXRNYXRyaXgiLCJzcHJpdGUiLCJfdGV4dHVyZSIsIm1hcHBlZE1hdHJpeCIsInN3YXAiLCJlbXB0eVBvb2wiLCJPYmplY3RSZW5kZXJlciIsIm9iamVjdCIsIkJhdGNoU3lzdGVtIiwiZW1wdHlSZW5kZXJlciIsImN1cnJlbnRSZW5kZXJlciIsInNldE9iamVjdFJlbmRlcmVyIiwib2JqZWN0UmVuZGVyZXIiLCJyZXNldCIsIlBSRUZFUl9FTlYiLCJDT05URVhUX1VJRCIsIkNvbnRleHRTeXN0ZW0iLCJ3ZWJHTFZlcnNpb24iLCJleHRlbnNpb25zIiwiaGFuZGxlQ29udGV4dExvc3QiLCJoYW5kbGVDb250ZXh0UmVzdG9yZWQiLCJpc0xvc3QiLCJpc0NvbnRleHRMb3N0IiwiY29udGV4dENoYW5nZSIsInJlc3RvcmVDb250ZXh0IiwiaW5pdEZyb21Db250ZXh0IiwidmFsaWRhdGVDb250ZXh0IiwicnVubmVycyIsImluaXRGcm9tT3B0aW9ucyIsImNyZWF0ZUNvbnRleHQiLCJnZXRFeHRlbnNpb25zIiwiZHJhd0J1ZmZlcnMiLCJ2ZXJ0ZXhBcnJheU9iamVjdCIsImFuaXNvdHJvcGljRmlsdGVyaW5nIiwidWludDMyRWxlbWVudEluZGV4IiwiZmxvYXRUZXh0dXJlIiwiZmxvYXRUZXh0dXJlTGluZWFyIiwidGV4dHVyZUhhbGZGbG9hdCIsInRleHR1cmVIYWxmRmxvYXRMaW5lYXIiLCJjb2xvckJ1ZmZlckZsb2F0IiwicHJldmVudERlZmF1bHQiLCJ1c2VQcm9ncmFtIiwicG9zdHJlbmRlciIsIkZyYW1lYnVmZmVyU3lzdGVtIiwibWFuYWdlZEZyYW1lYnVmZmVycyIsInVua25vd25GcmFtZWJ1ZmZlciIsInZpZXdwb3J0IiwiaGFzTVJUIiwid3JpdGVEZXB0aFRleHR1cmUiLCJkaXNwb3NlQWxsIiwibmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24iLCJuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24iLCJhY3RpdmVUZXh0dXJlcyIsImRyYXdCdWZmZXJzV0VCR0wiLCJmYm8iLCJpbml0RnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsInVwZGF0ZUZyYW1lYnVmZmVyIiwicmVzaXplRnJhbWVidWZmZXIiLCJ0ZXh0dXJlUGFydCIsInNldFZpZXdwb3J0IiwiZyIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kUmVuZGVyYnVmZmVyIiwiUkVOREVSQlVGRkVSIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsImNvdW50IiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsIkRFUFRIX0FUVEFDSE1FTlQiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsImRpc3Bvc2VGcmFtZWJ1ZmZlciIsImNvbnRleHRMb3N0IiwiZGVsZXRlRnJhbWVidWZmZXIiLCJkZWxldGVSZW5kZXJidWZmZXIiLCJHTEJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJHZW9tZXRyeVN5c3RlbSIsIl9hY3RpdmVHZW9tZXRyeSIsIl9hY3RpdmVWYW8iLCJoYXNWYW8iLCJoYXNJbnN0YW5jZSIsImNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCIsImJvdW5kQnVmZmVycyIsIm1hbmFnZWRHZW9tZXRyaWVzIiwibWFuYWdlZEJ1ZmZlcnMiLCJjcmVhdGVWZXJ0ZXhBcnJheSIsIm5hdGl2ZVZhb0V4dGVuc2lvbiIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwiYmluZFZlcnRleEFycmF5IiwidmFvIiwiYmluZFZlcnRleEFycmF5T0VTIiwiZGVsZXRlVmVydGV4QXJyYXkiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsInZlcnRleEF0dHJpYkRpdmlzb3IiLCJpbnN0YW5jZUV4dCIsInZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRSIsImRyYXdFbGVtZW50c0luc3RhbmNlZCIsImRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFIiwiZHJhd0FycmF5c0luc3RhbmNlZCIsImRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRSIsInZhb3MiLCJwcm9ncmFtIiwiaW5pdEdlb21ldHJ5VmFvIiwiYWN0aXZhdGVWYW8iLCJ1cGRhdGVCdWZmZXJzIiwiZ2xCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIkFSUkFZX0JVRkZFUiIsImJpbmRCdWZmZXIiLCJfYm91bmRCdWZmZXIiLCJidWZmZXJTdWJEYXRhIiwiZHJhd1R5cGUiLCJTVEFUSUNfRFJBVyIsIkRZTkFNSUNfRFJBVyIsImJ1ZmZlckRhdGEiLCJjaGVja0NvbXBhdGliaWxpdHkiLCJnZW9tZXRyeUF0dHJpYnV0ZXMiLCJzaGFkZXJBdHRyaWJ1dGVzIiwiYXR0cmlidXRlRGF0YSIsImdldFNpZ25hdHVyZSIsImF0dHJpYnMiLCJzdHJpbmdzIiwic2lnbmF0dXJlIiwidmFvT2JqZWN0SGFzaCIsInRlbXBTdHJpZGUiLCJ0ZW1wU3RhcnQiLCJhdHRyaWJTaXplIiwiY3JlYXRlQnVmZmVyIiwiZGlzcG9zZUJ1ZmZlciIsImRlbGV0ZUJ1ZmZlciIsImRpc3Bvc2VHZW9tZXRyeSIsImJ1ZiIsInZhb0lkIiwibGFzdEJ1ZmZlciIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwidmVydGV4QXR0cmliUG9pbnRlciIsImJ5dGVTaXplIiwiZ2xUeXBlIiwiVU5TSUdORURfSU5UIiwiZHJhd0VsZW1lbnRzIiwiZHJhd0FycmF5cyIsImNvbXBpbGVQcm9ncmFtIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJnbFZlcnRTaGFkZXIiLCJjb21waWxlU2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImdsRnJhZ1NoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsIlZBTElEQVRFX1NUQVRVUyIsImdldEVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiYm9vbGVhbkFycmF5IiwibWF4RnJhZ21lbnRQcmVjaXNpb24iLCJ1bmtub3duQ29udGV4dCIsImdldFRlc3RDb250ZXh0Iiwic2V0UHJlY2lzaW9uIiwicmVxdWVzdGVkUHJlY2lzaW9uIiwibWF4U3VwcG9ydGVkUHJlY2lzaW9uIiwic3Vic3RyaW5nIiwicHJlY2lzaW9uIiwiR0xTTF9UT19TSVpFIiwiZmxvYXQiLCJ2ZWMyIiwidmVjMyIsInZlYzQiLCJpbnQiLCJpdmVjMiIsIml2ZWMzIiwiaXZlYzQiLCJib29sIiwiYnZlYzIiLCJidmVjMyIsImJ2ZWM0IiwibWF0MiIsIm1hdDMiLCJtYXQ0Iiwic2FtcGxlcjJEIiwibWFwU2l6ZSIsIkdMX1RBQkxFIiwiR0xfVE9fR0xTTF9UWVBFUyIsIkZMT0FUX1ZFQzIiLCJGTE9BVF9WRUMzIiwiRkxPQVRfVkVDNCIsIklOVCIsIklOVF9WRUMyIiwiSU5UX1ZFQzMiLCJJTlRfVkVDNCIsIkJPT0wiLCJCT09MX1ZFQzIiLCJCT09MX1ZFQzMiLCJCT09MX1ZFQzQiLCJGTE9BVF9NQVQyIiwiRkxPQVRfTUFUMyIsIkZMT0FUX01BVDQiLCJTQU1QTEVSXzJEIiwiU0FNUExFUl9DVUJFIiwiU0FNUExFUl8yRF9BUlJBWSIsIm1hcFR5cGUiLCJ0eXBlTmFtZXMiLCJ0biIsIkdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIiwic2FtcGxlckN1YmUiLCJzYW1wbGVyMkRBcnJheSIsIkdMU0xfVE9fQVJSQVlfU0VUVEVSUyIsInVuc2FmZUV2YWwiLCJmcmFnVGVtcGxhdGUiLCJjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIiwibWF4SWZzIiwiZ2VuZXJhdGVJZlRlc3RTcmMiLCJuYW1lQ2FjaGUiLCJQcm9ncmFtIiwiZGVmYXVsdFZlcnRleFNyYyIsImRlZmF1bHRGcmFnbWVudFNyYyIsImdldFNoYWRlclByZWNpc2lvbkZvcm1hdCIsInNoYWRlckZyYWdtZW50IiwiSElHSF9GTE9BVCIsImdldE1heEZyYWdtZW50UHJlY2lzaW9uIiwiZXh0cmFjdERhdGEiLCJnbFByb2dyYW1zIiwiZ2V0QXR0cmlidXRlRGF0YSIsInVuaWZvcm1EYXRhIiwiZ2V0VW5pZm9ybURhdGEiLCJhdHRyaWJ1dGVzQXJyYXkiLCJ0b3RhbEF0dHJpYnV0ZXMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYkRhdGEiLCJnZXRBY3RpdmVBdHRyaWIiLCJ0b3RhbFVuaWZvcm1zIiwiQUNUSVZFX1VOSUZPUk1TIiwiZ2V0QWN0aXZlVW5pZm9ybSIsIlNoYWRlciIsInVuaWZvcm1Hcm91cCIsImNoZWNrVW5pZm9ybUV4aXN0cyIsInVuaWZvcm0iLCJTdGF0ZSIsInBvbHlnb25PZmZzZXQiLCJibGVuZCIsImN1bGxpbmciLCJkZXB0aFRlc3QiLCJjbG9ja3dpc2VGcm9udEZhY2UiLCJfYmxlbmRNb2RlIiwiX3BvbHlnb25PZmZzZXQiLCJmb3IyZCIsIkZpbHRlciIsImFUZXh0dXJlQ29vcmQiLCJmaWx0ZXJNYW5hZ2VyIiwiY3VycmVudFN0YXRlIiwiU09VUkNFX0tFWV9NQVAiLCJ0ZW1wTWF0IiwiVGV4dHVyZU1hdHJpeCIsImNsYW1wTWFyZ2luIiwibWFwQ29vcmQiLCJ1Q2xhbXBGcmFtZSIsInVDbGFtcE9mZnNldCIsImNsYW1wT2Zmc2V0IiwiaXNTaW1wbGUiLCJtdWx0aXBseVV2cyIsImZvcmNlVXBkYXRlIiwidGV4QmFzZSIsIm1hcmdpbiIsIlNwcml0ZU1hc2tGaWx0ZXIiLCJtYXNrTWF0cml4IiwidmVydGV4IiwiZnJhZ21lbnQiLCJtYXNrU3ByaXRlIiwibnBtQWxwaGEiLCJvdGhlck1hdHJpeCIsIm1hc2tDbGFtcCIsIk1hc2tTeXN0ZW0iLCJzY2lzc29yIiwic2Npc3NvckRhdGEiLCJzY2lzc29yUmVuZGVyVGFyZ2V0IiwiZW5hYmxlU2Npc3NvciIsImFscGhhTWFza1Bvb2wiLCJhbHBoYU1hc2tJbmRleCIsIm1hc2tEYXRhIiwicHVzaFNwcml0ZU1hc2siLCJfYWN0aXZlUmVuZGVyVGFyZ2V0IiwiaXNGYXN0UmVjdCIsInJvdCIsInB1c2hTdGVuY2lsTWFzayIsInB1c2hTY2lzc29yTWFzayIsInBvcFNwcml0ZU1hc2siLCJwb3BTY2lzc29yTWFzayIsInBvcFN0ZW5jaWxNYXNrIiwiYWxwaGFNYXNrRmlsdGVyIiwic3Rhc2hGaWx0ZXJBcmVhIiwicHVzaFN0ZW5jaWwiLCJwb3BTdGVuY2lsIiwicmVuZGVyVGFyZ2V0IiwiZW5hYmxlIiwiU0NJU1NPUl9URVNUIiwiZGlzYWJsZSIsIlN0ZW5jaWxTeXN0ZW0iLCJzZXRNYXNrU3RhY2siLCJjdXJTdGFja0xlbiIsIlNURU5DSUxfVEVTVCIsIl91c2VDdXJyZW50IiwiZ3JhcGhpY3MiLCJwcmV2TWFza0NvdW50IiwiY29sb3JNYXNrIiwic3RlbmNpbEZ1bmMiLCJFUVVBTCIsIl9nZXRCaXR3aXNlTWFzayIsInN0ZW5jaWxPcCIsIktFRVAiLCJJTkNSIiwiU1RFTkNJTF9CVUZGRVJfQklUIiwiY2xlYXJTdGVuY2lsIiwiREVDUiIsIlByb2plY3Rpb25TeXN0ZW0iLCJkZWZhdWx0RnJhbWUiLCJwcm9qZWN0aW9uTWF0cml4IiwiY2FsY3VsYXRlUHJvamVjdGlvbiIsInN5bmNVbmlmb3JtR3JvdXAiLCJnbG9iYWxzIiwiUmVuZGVyVGV4dHVyZVN5c3RlbSIsIl9iYWNrZ3JvdW5kQ29sb3JSZ2JhIiwiZGVmYXVsdE1hc2tTdGFjayIsInByb2plY3Rpb24iLCJHTFByb2dyYW0iLCJ1bmlmb3JtR3JvdXBzIiwiU2hhZGVyU3lzdGVtIiwic3lzdGVtQ2hlY2siLCJjYWNoZSIsImZ1bmMiLCJGdW5jdGlvbiIsInVuc2FmZUV2YWxTdXBwb3J0ZWQiLCJkb250U3luYyIsImdsUHJvZ3JhbSIsImdlbmVyYXRlU2hhZGVyIiwic2V0VW5pZm9ybXMiLCJnZXRnbFByb2dyYW0iLCJjcmVhdGVTeW5jR3JvdXBzIiwidGV4dHVyZUNvdW50IiwiZ2VuZXJhdGVVbmlmb3Jtc1N5bmMiLCJhdHRyaWJNYXAiLCJzaGFkZXJQcm9ncmFtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiQkxFTkQiLCJPRkZTRVQiLCJDVUxMSU5HIiwiREVQVEhfVEVTVCIsIldJTkRJTkciLCJTdGF0ZVN5c3RlbSIsInN0YXRlSWQiLCJfYmxlbmRFcSIsInNldEJsZW5kIiwic2V0T2Zmc2V0Iiwic2V0Q3VsbEZhY2UiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJjaGVja3MiLCJkZWZhdWx0U3RhdGUiLCJibGVuZE1vZGVzIiwiT05FIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIkRTVF9DT0xPUiIsIk9ORV9NSU5VU19TUkNfQ09MT1IiLCJTUkNfQUxQSEEiLCJEU1RfQUxQSEEiLCJaRVJPIiwiT05FX01JTlVTX0RTVF9BTFBIQSIsIkZVTkNfUkVWRVJTRV9TVUJUUkFDVCIsIkZVTkNfQUREIiwibWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIiwiZGlmZiIsImZvcmNlU3RhdGUiLCJ1cGRhdGVDaGVjayIsImNoZWNrQmxlbmRNb2RlIiwiY2hlY2tQb2x5Z29uT2Zmc2V0IiwiUE9MWUdPTl9PRkZTRVRfRklMTCIsIkNVTExfRkFDRSIsImZyb250RmFjZSIsInNldEJsZW5kTW9kZSIsIm1vZGUiLCJibGVuZEZ1bmMiLCJibGVuZEZ1bmNTZXBhcmF0ZSIsImJsZW5kRXF1YXRpb25TZXBhcmF0ZSIsInNldFBvbHlnb25PZmZzZXQiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwiVGV4dHVyZUdDU3lzdGVtIiwiY2hlY2tDb3VudCIsIm1heElkbGUiLCJjaGVja0NvdW50TWF4IiwidG0iLCJtYW5hZ2VkVGV4dHVyZXMiLCJ3YXNSZW1vdmVkIiwiZGVzdHJveVRleHR1cmUiLCJ1bmxvYWQiLCJ0ZXh0dXJlU3lzdGVtIiwiX2dsUmVuZGVyVGFyZ2V0cyIsIkdMVGV4dHVyZSIsIlRleHR1cmVTeXN0ZW0iLCJib3VuZFRleHR1cmVzIiwiY3VycmVudExvY2F0aW9uIiwiX3Vua25vd25Cb3VuZFRleHR1cmVzIiwidW5rbm93blRleHR1cmUiLCJtYXhUZXh0dXJlcyIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwiZW1wdHlUZXh0dXJlcyIsImVtcHR5VGV4dHVyZTJEIiwiYmluZFRleHR1cmUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwidGV4dHVyZUdDIiwiaW5pdFRleHR1cmUiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJ1cGRhdGVUZXh0dXJlIiwiaW5pdFRleHR1cmVUeXBlIiwiUkdCQTMyRiIsIlJHQkExNkYiLCJ1cGRhdGVUZXh0dXJlU3R5bGUiLCJza2lwUmVtb3ZlIiwiZGVsZXRlVGV4dHVyZSIsImdlbmVyYXRlTWlwbWFwIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIkxJTkVBUl9NSVBNQVBfTElORUFSIiwiTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCIsImFuaXNvdHJvcGljRXh0IiwibGV2ZWwiLCJNQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZXhQYXJhbWV0ZXJmIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZW1wTWF0cml4IiwiQWJzdHJhY3RSZW5kZXJlciIsInJvdW5kUGl4ZWxzIiwic2NyZWVuIiwiYXV0b1Jlc2l6ZSIsIl9iYWNrZ3JvdW5kQ29sb3IiLCJfYmFja2dyb3VuZENvbG9yU3RyaW5nIiwiaW5pdFBsdWdpbnMiLCJzdGF0aWNNYXAiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImdlbmVyYXRlVGV4dHVyZSIsInJlZ2lvbiIsInJlbW92ZVZpZXciLCJSZW5kZXJlciIsInByZXJlbmRlciIsImFkZFN5c3RlbSIsIl9fcGx1Z2lucyIsInByZW11bHRpcGxpZWRBbHBoYSIsInBvd2VyUHJlZmVyZW5jZSIsIkNsYXNzUmVmIiwic2tpcFVwZGF0ZVRyYW5zZm9ybSIsImNhY2hlUGFyZW50IiwicmVnaXN0ZXJQbHVnaW4iLCJwbHVnaW5OYW1lIiwiY3RvciIsImF1dG9EZXRlY3RSZW5kZXJlciIsIkN1YmVUZXh0dXJlIiwiQmF0Y2hEcmF3Q2FsbCIsIlZpZXdhYmxlQnVmZmVyIiwicmF3QmluYXJ5RGF0YSIsInVpbnQzMlZpZXciLCJmbG9hdDMyVmlldyIsImludDhWaWV3IiwiX2ludDhWaWV3IiwiSW50OEFycmF5IiwidWludDhWaWV3IiwiX3VpbnQ4VmlldyIsImludDE2VmlldyIsIl9pbnQxNlZpZXciLCJJbnQxNkFycmF5IiwidWludDE2VmlldyIsIl91aW50MTZWaWV3IiwiaW50MzJWaWV3IiwiX2ludDMyVmlldyIsInNpemVPZiIsIkFic3RyYWN0QmF0Y2hSZW5kZXJlciIsInNoYWRlckdlbmVyYXRvciIsImdlb21ldHJ5Q2xhc3MiLCJ2ZXJ0ZXhTaXplIiwiX3ZlcnRleENvdW50IiwiX2luZGV4Q291bnQiLCJfYnVmZmVyZWRFbGVtZW50cyIsIl9idWZmZXJTaXplIiwiX3NoYWRlciIsIl9wYWNrZWRHZW9tZXRyaWVzIiwiX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUiLCJfZmx1c2hJZCIsIl9kcmF3Q2FsbHMiLCJfYUJ1ZmZlcnMiLCJfaUJ1ZmZlcnMiLCJNQVhfVEVYVFVSRVMiLCJvblByZXJlbmRlciIsImluZGljZXMiLCJuZXh0VGV4dHVyZSIsImN1cnJlbnRUZXh0dXJlIiwiYXR0cmlidXRlQnVmZmVyIiwiZ2V0QXR0cmlidXRlQnVmZmVyIiwiZ2V0SW5kZXhCdWZmZXIiLCJ0b3VjaCIsImN1cnJlbnRHcm91cCIsImRyYXdDYWxscyIsImdyb3VwQ291bnQiLCJUSUNLIiwiZWxlbWVudHMiLCJzcHJpdGVCbGVuZE1vZGUiLCJfaWQiLCJwYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeSIsInBhY2tlZEdlb21ldHJpZXMiLCJfYnVmZmVyIiwiX2luZGV4QnVmZmVyIiwic3RhdGVTeXN0ZW0iLCJncm91cFRleHR1cmVDb3VudCIsInJvdW5kZWRQMiIsInJvdW5kZWRTaXplSW5kZXgiLCJyb3VuZGVkU2l6ZSIsImFJbmRleCIsImlJbmRleCIsInBhY2tlZFZlcnRpY2VzIiwiaW5kaWNpZXMiLCJ0ZXh0dXJlSWQiLCJhcmdiIiwiX3RpbnRSR0IiLCJCYXRjaFNoYWRlckdlbmVyYXRvciIsInByb2dyYW1DYWNoZSIsImRlZmF1bHRHcm91cENhY2hlIiwic2FtcGxlVmFsdWVzIiwidVNhbXBsZXJzIiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJ0cmFuc2xhdGlvbk1hdHJpeCIsImRlZmF1bHQiLCJCYXRjaEdlb21ldHJ5IiwiQmF0Y2hQbHVnaW5GYWN0b3J5IiwiZGVmYXVsdFZlcnRleCIsImRlZmF1bHRGcmFnbWVudCIsImRlZmF1bHRGcmFnbWVudFRlbXBsYXRlIiwiQmF0Y2hSZW5kZXJlciIsIlRFTVBfUkVDVCIsIkV4dHJhY3QiLCJleHRyYWN0IiwiaW1hZ2UiLCJxdWFsaXR5IiwiYmFzZTY0IiwidG9EYXRhVVJMIiwiZmxpcFkiLCJnZW5lcmF0ZWQiLCJjYW52YXNCdWZmZXIiLCJ3ZWJnbFBpeGVscyIsInJlYWRQaXhlbHMiLCJjYW52YXNEYXRhIiwiYXJyYXlQb3N0RGl2aWRlIiwicHV0SW1hZ2VEYXRhIiwiSW50ZXJhY3Rpb25EYXRhIiwib3JpZ2luYWxFdmVudCIsImlkZW50aWZpZXIiLCJpc1ByaW1hcnkiLCJidXR0b24iLCJidXR0b25zIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwicHJlc3N1cmUiLCJyb3RhdGlvbkFuZ2xlIiwidHdpc3QiLCJ0YW5nZW50aWFsUHJlc3N1cmUiLCJwb2ludGVySWQiLCJnZXRMb2NhbFBvc2l0aW9uIiwiZ2xvYmFsUG9zIiwiY29weUV2ZW50Iiwid2hpY2giLCJJbnRlcmFjdGlvbkV2ZW50Iiwic3RvcHBlZCIsImN1cnJlbnRUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJJbnRlcmFjdGlvblRyYWNraW5nRGF0YSIsIl9wb2ludGVySWQiLCJfZmxhZ3MiLCJGTEFHUyIsIl9kb1NldCIsInluIiwiZmxhZ3MiLCJub25lIiwib3ZlciIsIk9WRVIiLCJyaWdodERvd24iLCJSSUdIVF9ET1dOIiwibGVmdERvd24iLCJMRUZUX0RPV04iLCJmcmVlemUiLCJidXR0b25Nb2RlIiwiY3Vyc29yIiwidHJhY2tlZFBvaW50ZXJzIiwiX3RyYWNrZWRQb2ludGVycyIsImludGVyYWN0aXZlVGFyZ2V0IiwiTU9VU0VfUE9JTlRFUl9JRCIsImhpdFRlc3RFdmVudCIsIkludGVyYWN0aW9uTWFuYWdlciIsImF1dG9QcmV2ZW50RGVmYXVsdCIsImludGVyYWN0aW9uRnJlcXVlbmN5IiwibW91c2UiLCJhY3RpdmVJbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkRhdGFQb29sIiwiaW50ZXJhY3Rpb25ET01FbGVtZW50IiwibW92ZVdoZW5JbnNpZGUiLCJldmVudHNBZGRlZCIsIm1vdXNlT3ZlclJlbmRlcmVyIiwic3VwcG9ydHNUb3VjaEV2ZW50cyIsInN1cHBvcnRzUG9pbnRlckV2ZW50cyIsIlBvaW50ZXJFdmVudCIsIm9uUG9pbnRlclVwIiwicHJvY2Vzc1BvaW50ZXJVcCIsIm9uUG9pbnRlckNhbmNlbCIsInByb2Nlc3NQb2ludGVyQ2FuY2VsIiwib25Qb2ludGVyRG93biIsInByb2Nlc3NQb2ludGVyRG93biIsIm9uUG9pbnRlck1vdmUiLCJwcm9jZXNzUG9pbnRlck1vdmUiLCJvblBvaW50ZXJPdXQiLCJwcm9jZXNzUG9pbnRlck92ZXJPdXQiLCJvblBvaW50ZXJPdmVyIiwiY3Vyc29yU3R5bGVzIiwicG9pbnRlciIsImN1cnJlbnRDdXJzb3JNb2RlIiwiX3RlbXBQb2ludCIsImRlbGF5ZWRFdmVudHMiLCJzZXRUYXJnZXRFbGVtZW50IiwiaGl0VGVzdCIsImdsb2JhbFBvaW50IiwicHJvY2Vzc0ludGVyYWN0aXZlIiwicmVtb3ZlRXZlbnRzIiwiYWRkRXZlbnRzIiwibXNQb2ludGVyRW5hYmxlZCIsIl9kZWx0YVRpbWUiLCJkaWRNb3ZlIiwiaW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25FdmVudCIsImNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCIsInNldEN1cnNvck1vZGUiLCJldmVudFN0cmluZyIsImRlbGF5RGlzcGF0Y2hFdmVudCIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInBhcmVudEVsZW1lbnQiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsInNraXBEZWxheWVkIiwiaGl0IiwiaW50ZXJhY3RpdmVQYXJlbnQiLCJoaXRUZXN0Q2hpbGRyZW4iLCJjb250YWluc1BvaW50IiwiY2hpbGRIaXQiLCJkZWxheWVkTGVuIiwiZGVsYXllZCIsIm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEiLCJpc05vcm1hbGl6ZWQiLCJjYW5jZWxhYmxlIiwiZXZlbnRMZW4iLCJnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJpc1JpZ2h0QnV0dG9uIiwib25Qb2ludGVyQ29tcGxldGUiLCJjYW5jZWxsZWQiLCJldmVudEFwcGVuZCIsInJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJ0cmFja2luZ0RhdGEiLCJpc1RvdWNoIiwiaXNNb3VzZSIsImlzTW91c2VUYXAiLCJpc0Rvd24iLCJwb2ludGVyRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsImdsb2JhbFgiLCJnbG9iYWxZIiwibm9ybWFsaXplZEV2ZW50cyIsIlRvdWNoRXZlbnQiLCJsaSIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2hlcyIsInJhZGl1c1giLCJyYWRpdXNZIiwiZm9yY2UiLCJsYXllclgiLCJvZmZzZXRYIiwibGF5ZXJZIiwib2Zmc2V0WSIsIk1vdXNlRXZlbnQiLCJHUkFQSElDU19DVVJWRVMiLCJhZGFwdGl2ZSIsIm1heExlbmd0aCIsIm1pblNlZ21lbnRzIiwibWF4U2VnbWVudHMiLCJfc2VnbWVudHNDb3VudCIsImRlZmF1bHRTZWdtZW50cyIsIkZpbGxTdHlsZSIsImNvbG9yIiwiR3JhcGhpY3NEYXRhIiwic2hhcGUiLCJsaW5lU3R5bGUiLCJidWlsZCIsImdyYXBoaWNzRGF0YSIsImNpcmNsZURhdGEiLCJ0b3RhbFNlZ3MiLCJzZWciLCJ0cmlhbmd1bGF0ZSIsImdyYXBoaWNzR2VvbWV0cnkiLCJ2ZXJ0cyIsInZlcnRQb3MiLCJjZW50ZXIiLCJuYXRpdmUiLCJjbG9zZWRTaGFwZSIsInN0YXJ0SW5kZXgiLCJidWlsZE5hdGl2ZUxpbmUiLCJjbG9zZVBvaW50RXBzIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsImNsb3NlZFBhdGgiLCJtaWRQb2ludFgiLCJtaWRQb2ludFkiLCJpbmRleENvdW50IiwiaW5kZXhTdGFydCIsInAxeCIsInAxeSIsInAyeCIsInAyeSIsInAzeCIsInAzeSIsInBlcnB4IiwicGVycHkiLCJwZXJwMngiLCJwZXJwMnkiLCJwZXJwM3giLCJwZXJwM3kiLCJkaXN0IiwicmF0aW8iLCJhbGlnbm1lbnQiLCJyMSIsImMyIiwiZGVub20iLCJwZGlzdCIsImJ1aWxkTGluZSIsImhvbGVBcnJheSIsInJyZWN0RGF0YSIsInF1YWRyYXRpY0JlemllckN1cnZlIiwidmVjUG9zIiwiZ2V0UHQiLCJuMSIsIm4yIiwicGVyYyIsImZyb21YIiwiZnJvbVkiLCJjcFgiLCJjcFkiLCJ0b1giLCJ0b1kiLCJ4YSIsInlhIiwieGIiLCJ5YiIsIkJBVENIX1BPT0wiLCJEUkFXX0NBTExfUE9PTCIsInRtcFBvaW50IiwiZmlsbENvbW1hbmRzIiwiYnVpbGRQb2x5IiwiYnVpbGRDaXJjbGUiLCJyZWN0RGF0YSIsImJ1aWxkUm91bmRlZFJlY3RhbmdsZSIsIkJhdGNoUGFydCIsImF0dHJpYlN0YXJ0IiwiR3JhcGhpY3NHZW9tZXRyeSIsImNvbG9ycyIsInRleHR1cmVJZHMiLCJiYXRjaERpcnR5IiwiY2FjaGVEaXJ0eSIsImNsZWFyRGlydHkiLCJiYXRjaGVzIiwic2hhcGVJbmRleCIsImJvdW5kc0RpcnR5IiwiYm91bmRzUGFkZGluZyIsImJhdGNoYWJsZSIsImluZGljZXNVaW50MTYiLCJkcmF3U2hhcGUiLCJkcmF3SG9sZSIsImxhc3RTaGFwZSIsInVwZGF0ZUJhdGNoZXMiLCJiYXRjaFBhcnQiLCJjdXJyZW50Q29sb3IiLCJjdXJyZW50TmF0aXZlIiwiY29tbWFuZCIsInRyYW5zZm9ybVBvaW50cyIsImF0dHJpYkluZGV4IiwicHJvY2Vzc0hvbGVzIiwiYWRkVXZzIiwiaXNCYXRjaGFibGUiLCJidWlsZERyYXdDYWxscyIsIkJBVENIQUJMRV9TSVpFIiwiZHJhd01vZGUiLCJhZGRDb2xvcnMiLCJhZGRUZXh0dXJlSWRzIiwiZ2xQb2ludHMiLCJmMzIiLCJ1MzIiLCJsaW5lV2lkdGgiLCJydyIsInJoIiwicmdiYSIsInV2c1N0YXJ0IiwibngiLCJhZGp1c3RVdnMiLCJmaW5pc2giLCJMaW5lU3R5bGUiLCJCZXppZXJVdGlscyIsImN1cnZlTGVuZ3RoIiwiY3BYMiIsImNwWTIiLCJ0MiIsInQzIiwibnQiLCJudDIiLCJudDMiLCJwcmV2WCIsInByZXZZIiwiY3VydmVUbyIsImR0IiwiZHQyIiwiZHQzIiwiUXVhZHJhdGljVXRpbHMiLCJhMzIiLCJiYSIsIkFyY1V0aWxzIiwibW0iLCJkZCIsImNjIiwidHQiLCJrMSIsImsyIiwiajEiLCJqMiIsInF5Iiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiYW50aWNsb2Nrd2lzZSIsImFyYyIsInN0YXJ0WCIsInN0YXJ0WSIsInN3ZWVwIiwidGhldGEiLCJ0aGV0YTIiLCJjVGhldGEiLCJzVGhldGEiLCJzZWdNaW51cyIsInJlbWFpbmRlciIsIlN0YXIiLCJpbm5lclJhZGl1cyIsInRlbXAiLCJkZWZhdWx0U2hhZGVyIiwiR3JhcGhpY3MiLCJfZmlsbFN0eWxlIiwiX2xpbmVTdHlsZSIsIl9tYXRyaXgiLCJfaG9sZU1vZGUiLCJjdXJyZW50UGF0aCIsImJhdGNoVGludCIsIl90cmFuc2Zvcm1JRCIsImZpbmlzaFBvbHkiLCJfdGludCIsImZpbGwiLCJsaW5lIiwibGluZVRleHR1cmVTdHlsZSIsInN0YXJ0UG9seSIsIm1vdmVUbyIsImxpbmVUbyIsIl9pbml0Q3VydmUiLCJxdWFkcmF0aWNDdXJ2ZVRvIiwiYmV6aWVyQ3VydmVUbyIsImFyY1RvIiwieERpZmYiLCJ5RGlmZiIsImJlZ2luRmlsbCIsImJlZ2luVGV4dHVyZUZpbGwiLCJlbmRGaWxsIiwiZHJhd1JlY3QiLCJkcmF3Um91bmRlZFJlY3QiLCJkcmF3Q2lyY2xlIiwiZHJhd0VsbGlwc2UiLCJkcmF3UG9seWdvbiIsImRyYXdTdGFyIiwiZ0kiLCJfYmF0Y2hSR0IiLCJjYWxjdWxhdGVWZXJ0aWNlcyIsImNhbGN1bGF0ZVRpbnRzIiwid2EiLCJkcmF3Q2FsbCIsImxiIiwiX1RFTVBfUE9JTlQiLCJ0aW50UkdCIiwiY2xvc2VQYXRoIiwic2V0TWF0cml4IiwiYmVnaW5Ib2xlIiwiZW5kSG9sZSIsInRlbXBQb2ludCIsIlNwcml0ZSIsIl9hbmNob3IiLCJfb25BbmNob3JVcGRhdGUiLCJfY2FjaGVkVGludCIsInZlcnRleFRyaW1tZWREYXRhIiwiX3RleHR1cmVJRCIsIl90cmFuc2Zvcm1UcmltbWVkSUQiLCJfdGV4dHVyZVRyaW1tZWRJRCIsIl9yb3VuZFBpeGVscyIsIl9vblRleHR1cmVVcGRhdGUiLCJ3MCIsIncxIiwiaDAiLCJoMSIsImNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyIsImRlc3Ryb3lCYXNlVGV4dHVyZSIsIlRFWFRfR1JBRElFTlQiLCJMSU5FQVJfVkVSVElDQUwiLCJMSU5FQVJfSE9SSVpPTlRBTCIsImRlZmF1bHRTdHlsZSIsImFsaWduIiwiYnJlYWtXb3JkcyIsImRyb3BTaGFkb3ciLCJkcm9wU2hhZG93QWxwaGEiLCJkcm9wU2hhZG93QW5nbGUiLCJkcm9wU2hhZG93Qmx1ciIsImRyb3BTaGFkb3dDb2xvciIsImRyb3BTaGFkb3dEaXN0YW5jZSIsImZpbGxHcmFkaWVudFR5cGUiLCJmaWxsR3JhZGllbnRTdG9wcyIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRTdHlsZSIsImZvbnRWYXJpYW50IiwiZm9udFdlaWdodCIsImxldHRlclNwYWNpbmciLCJsaW5lSGVpZ2h0IiwibGluZUpvaW4iLCJtaXRlckxpbWl0Iiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwidGV4dEJhc2VsaW5lIiwid2hpdGVTcGFjZSIsIndvcmRXcmFwIiwid29yZFdyYXBXaWR0aCIsImxlYWRpbmciLCJnZW5lcmljRm9udEZhbWlsaWVzIiwiVGV4dFN0eWxlIiwic3R5bGVJRCIsImRlZXBDb3B5UHJvcGVydGllcyIsImdldFNpbmdsZUNvbG9yIiwiZ2V0Q29sb3IiLCJwcm9wZXJ0eU9iaiIsImNsb25lZFByb3BlcnRpZXMiLCJfYWxpZ24iLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2Ryb3BTaGFkb3dBbHBoYSIsIl9kcm9wU2hhZG93QW5nbGUiLCJfZHJvcFNoYWRvd0JsdXIiLCJfZHJvcFNoYWRvd0NvbG9yIiwib3V0cHV0Q29sb3IiLCJfZHJvcFNoYWRvd0Rpc3RhbmNlIiwiX2ZpbGwiLCJfZmlsbEdyYWRpZW50VHlwZSIsIl9maWxsR3JhZGllbnRTdG9wcyIsImFycmF5MSIsImFycmF5MiIsImFyZUFycmF5c0VxdWFsIiwiX2ZvbnRGYW1pbHkiLCJfZm9udFNpemUiLCJfZm9udFN0eWxlIiwiX2ZvbnRWYXJpYW50IiwiX2ZvbnRXZWlnaHQiLCJfbGV0dGVyU3BhY2luZyIsIl9saW5lSGVpZ2h0IiwiX2xlYWRpbmciLCJfbGluZUpvaW4iLCJfbWl0ZXJMaW1pdCIsIl9wYWRkaW5nIiwiX3N0cm9rZSIsIl9zdHJva2VUaGlja25lc3MiLCJfdGV4dEJhc2VsaW5lIiwiX3RyaW0iLCJfd2hpdGVTcGFjZSIsIl93b3JkV3JhcCIsIl93b3JkV3JhcFdpZHRoIiwidG9Gb250U3RyaW5nIiwiZm9udFNpemVTdHJpbmciLCJmb250RmFtaWxpZXMiLCJUZXh0TWV0cmljcyIsInRleHQiLCJsaW5lcyIsImxpbmVXaWR0aHMiLCJtYXhMaW5lV2lkdGgiLCJmb250UHJvcGVydGllcyIsIm1lYXN1cmVUZXh0IiwiX2NhbnZhcyIsImZvbnQiLCJtZWFzdXJlRm9udCIsImFzY2VudCIsImNvbGxhcHNlU3BhY2VzIiwiY29sbGFwc2VOZXdsaW5lcyIsImNhblByZXBlbmRTcGFjZXMiLCJ0b2tlbnMiLCJ0b2tlbml6ZSIsInRva2VuIiwiaXNOZXdsaW5lIiwiYWRkTGluZSIsImN1cnJJc0JyZWFraW5nU3BhY2UiLCJpc0JyZWFraW5nU3BhY2UiLCJsYXN0SXNCcmVha2luZ1NwYWNlIiwidG9rZW5XaWR0aCIsImdldEZyb21DYWNoZSIsImNhbkJyZWFrV29yZHMiLCJjaGFyYWN0ZXJzIiwiY2hhciIsIm5leHRDaGFyIiwibGFzdENoYXIiLCJjYW5CcmVha0NoYXJzIiwiY2hhcmFjdGVyV2lkdGgiLCJpc0xhc3RUb2tlbiIsIm5ld0xpbmUiLCJ0cmltUmlnaHQiLCJzcGFjaW5nIiwiX25ld2xpbmVzIiwiX2JyZWFraW5nU3BhY2VzIiwiX2ZvbnRzIiwicHJvcGVydGllcyIsIl9jb250ZXh0IiwibWV0cmljc1N0cmluZyIsIk1FVFJJQ1NfU1RSSU5HIiwiQkFTRUxJTkVfU1lNQk9MIiwiYmFzZWxpbmUiLCJCQVNFTElORV9NVUxUSVBMSUVSIiwiZmlsbFRleHQiLCJpbWFnZWRhdGEiLCJkZXNjZW50IiwiY2xlYXJNZXRyaWNzIiwiZXgiLCJkZWZhdWx0RGVzdHJveU9wdGlvbnMiLCJUZXh0IiwiX3Jlc29sdXRpb24iLCJfYXV0b1Jlc29sdXRpb24iLCJfdGV4dCIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwiX2ZvbnQiLCJsb2NhbFN0eWxlSUQiLCJ1cGRhdGVUZXh0IiwicmVzcGVjdERpcnR5IiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJtZWFzdXJlZCIsInBhc3Nlc0NvdW50IiwiaXNTaGFkb3dQYXNzIiwiZHNPZmZzZXRUZXh0IiwiZHNPZmZzZXRTaGFkb3ciLCJzdHJva2VTdHlsZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwiY3VycmVudENoYXIiLCJzdHJva2VUZXh0IiwidHJpbW1lZCIsIl9vblN0eWxlQ2hhbmdlIiwiZ3JhZGllbnQiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJjdXJyZW50SXRlcmF0aW9uIiwibGVuZ3RoUGx1czEiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsIlVQTE9BRFNfUEVSX0ZSQU1FIiwiQ291bnRMaW1pdGVyIiwibWF4SXRlbXNQZXJGcmFtZSIsIml0ZW1zTGVmdCIsImJlZ2luRnJhbWUiLCJhbGxvd2VkVG9VcGxvYWQiLCJCYXNlUHJlcGFyZSIsImxpbWl0ZXIiLCJ1cGxvYWRIb29rSGVscGVyIiwiYWRkSG9va3MiLCJ1cGxvYWRIb29rcyIsImNvbXBsZXRlcyIsInRpY2tpbmciLCJkZWxheWVkVGljayIsInByZXBhcmVJdGVtcyIsInJlZ2lzdGVyRmluZEhvb2siLCJmaW5kVGV4dCIsImZpbmRUZXh0U3R5bGUiLCJmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMiLCJmaW5kQmFzZVRleHR1cmUiLCJmaW5kVGV4dHVyZSIsInJlZ2lzdGVyVXBsb2FkSG9vayIsImRyYXdUZXh0IiwiY2FsY3VsYXRlVGV4dFN0eWxlIiwiX3RleHR1cmVzIiwiaGVscGVyIiwiZG9uZSIsInRpY2siLCJ1cGxvYWRlZCIsImFkZEhvb2siLCJ1cGxvYWRIb29rIiwiUHJlcGFyZSIsImZpbmRHcmFwaGljcyIsInVwbG9hZEJhc2VUZXh0dXJlcyIsInVwbG9hZEdyYXBoaWNzIiwiX3dlYkdMIiwidXBkYXRlR3JhcGhpY3MiLCJUaW1lTGltaXRlciIsIm1heE1pbGxpc2Vjb25kcyIsImZyYW1lU3RhcnQiLCJBcHBsaWNhdGlvbiIsImZvcmNlQ2FudmFzIiwic3RhZ2UiLCJfcGx1Z2lucyIsInBsdWdpbiIsInN0YWdlT3B0aW9ucyIsInJldmVyc2UiLCJfb3B0aW9ucyIsIlJlc2l6ZVBsdWdpbiIsImRvbSIsIl9yZXNpemVUbyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwicmVzaXplVG8iLCJzdHIiLCJvcHRzIiwicGFyc2VyIiwic3RyaWN0IiwibG9vc2UiLCJzdHJpY3RNb2RlIiwidXJpIiwiJDAiLCIkMSIsIiQyIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwiTWluaVNpZ25hbEJpbmRpbmciLCJ0aGlzQXJnIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9uZXh0IiwiX3ByZXYiLCJfb3duZXIiLCJkZXRhY2giLCJfYWRkTWluaVNpZ25hbEJpbmRpbmciLCJub2RlIiwiX3RhaWwiLCJNaW5pU2lnbmFsIiwiZXhpc3RzIiwiX25vb3AiLCJlYWNoU2VyaWVzIiwiaXRlcmF0b3IiLCJkZWZlck5leHQiLCJvbmx5T25jZSIsImNhbGxGbiIsIndvcmtlciIsImNvbmN1cnJlbmN5Iiwid29ya2VycyIsIl90YXNrcyIsInNhdHVyYXRlZCIsInVuc2F0dXJhdGVkIiwiZHJhaW4iLCJfaW5zZXJ0Iiwia2lsbCIsInRhc2siLCJydW5uaW5nIiwiaWRsZSIsInJlc3VtZSIsImluc2VydEF0RnJvbnQiLCJ1c2VYZHIiLCJYRG9tYWluUmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJ0aW1lb3V0IiwibG9hZFR5cGUiLCJfZGV0ZXJtaW5lTG9hZFR5cGUiLCJ4aHJUeXBlIiwibWV0YWRhdGEiLCJ4aHIiLCJUWVBFIiwicHJvZ3Jlc3NDaHVuayIsIl9kZXF1ZXVlIiwiX29uTG9hZEJpbmRpbmciLCJfZWxlbWVudFRpbWVyIiwiX2JvdW5kQ29tcGxldGUiLCJfYm91bmRPbkVycm9yIiwiX2JvdW5kT25Qcm9ncmVzcyIsIl9vblByb2dyZXNzIiwiX2JvdW5kT25UaW1lb3V0IiwiX29uVGltZW91dCIsIl9ib3VuZFhock9uRXJyb3IiLCJfeGhyT25FcnJvciIsIl9ib3VuZFhock9uVGltZW91dCIsIl94aHJPblRpbWVvdXQiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwib25TdGFydCIsIlNpZ25hbCIsIm9uUHJvZ3Jlc3MiLCJvbkNvbXBsZXRlIiwib25BZnRlck1pZGRsZXdhcmUiLCJzZXRFeHRlbnNpb25Mb2FkVHlwZSIsImV4dG5hbWUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJfY2xlYXJFdmVudHMiLCJfZmluaXNoIiwiYWJvcnQiLCJ4ZHIiLCJFTVBUWV9HSUYiLCJmaXJzdENoaWxkIiwiaXNMb2FkaW5nIiwiaXNDb21wbGV0ZSIsIl90aGlzIiwiTE9BRElORyIsIl9kZXRlcm1pbmVDcm9zc09yaWdpbiIsIkxPQURfVFlQRSIsIklNQUdFIiwiX2xvYWRFbGVtZW50IiwiQVVESU8iLCJfbG9hZFNvdXJjZUVsZW1lbnQiLCJWSURFTyIsIlhIUiIsIl9sb2FkWGRyIiwiX2xvYWRYaHIiLCJfaGFzRmxhZyIsIm9udGltZW91dCIsIm9ucHJvZ3Jlc3MiLCJDT01QTEVURSIsImxvYWRFbGVtZW50Iiwic2tpcFNvdXJjZSIsIkF1ZGlvIiwiaXNDb2Nvb25KUyIsIm1pbWVUeXBlcyIsIm1pbWVUeXBlIiwiX2NyZWF0ZVNvdXJjZSIsIl9kZXRlcm1pbmVYaHJUeXBlIiwib3BlbiIsIlhIUl9SRVNQT05TRV9UWVBFIiwiSlNPTiIsIkRPQ1VNRU5UIiwicmVzcG9uc2VUeXBlIiwiVEVYVCIsInNlbmQiLCJub2RlTmFtZSIsImxlbmd0aENvbXB1dGFibGUiLCJsb2FkZWQiLCJ0b3RhbCIsInJlcVR5cGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwicmVzcG9uc2VUZXh0IiwiQlVGRkVSIiwiRE9NUGFyc2VyIiwiZG9tcGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiaW5uZXJIVE1MIiwiWE1MIiwicmVzcG9uc2UiLCJyZXNwb25zZVVSTCIsIm9yaWdpbiIsInBhcnNlVXJpIiwiaXNEYXRhVXJsIiwic2xhc2hJbmRleCIsInF1ZXJ5U3RhcnQiLCJoYXNoU3RhcnQiLCJfZ2V0TWltZUZyb21YaHJUeXBlIiwiQkxPQiIsIkRFRkFVTFQiLCJnaWYiLCJwbmciLCJibXAiLCJqcGciLCJqcGVnIiwidGlmIiwidGlmZiIsIndlYnAiLCJ0Z2EiLCJtcDMiLCJvZ2ciLCJ3YXYiLCJtcDQiLCJ3ZWJtIiwieGh0bWwiLCJodG1sIiwiaHRtIiwieG1sIiwidG14IiwidHN4IiwianNvbiIsInR4dCIsInR0ZiIsIm90ZiIsIl9rZXlTdHIiLCJVUkwiLCJ3ZWJraXRVUkwiLCJCbG9iIiwiY3JlYXRlT2JqZWN0VVJMIiwiYmxvYiIsInJldm9rZU9iamVjdFVSTCIsImdldFJlc3BvbnNlSGVhZGVyIiwiaW54IiwiYnl0ZWJ1ZmZlciIsImVuY29kZWRDaGFySW5kZXhlcyIsImpueCIsImVuY29kZUJpbmFyeSIsInJneEV4dHJhY3RVcmxIYXNoIiwiTG9hZGVyIiwiYmFzZVVybCIsInByb2dyZXNzIiwibG9hZGluZyIsImRlZmF1bHRRdWVyeVN0cmluZyIsIl9iZWZvcmVNaWRkbGV3YXJlIiwiX2FmdGVyTWlkZGxld2FyZSIsIl9yZXNvdXJjZXNQYXJzaW5nIiwiX2JvdW5kTG9hZFJlc291cmNlIiwiX2xvYWRSZXNvdXJjZSIsIl9xdWV1ZSIsImFzeW5jIiwib25Mb2FkIiwiX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlIiwicHJlIiwiX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUiLCJ1c2UiLCJwYXJlbnRSZXNvdXJjZSIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiZWFjaENodW5rIiwicmVzIiwiX29uU3RhcnQiLCJfb25Db21wbGV0ZSIsImNodW5rIiwicGFyc2VkVXJsIiwiZGVxdWV1ZSIsIl90aGlzMiIsIl9vbkxvYWQiLCJfdGhpczMiLCJUZXh0dXJlTG9hZGVyIiwiUmVzb3VyY2VMb2FkZXIiLCJtaWRkbGV3YXJlIiwicGFyc2luZyIsIkFwcExvYWRlclBsdWdpbiIsInNoYXJlZExvYWRlciIsImxvYWRlciIsIkxvYWRlclJlc291cmNlIiwiUGFydGljbGVDb250YWluZXIiLCJtYXhTaXplIiwiYmF0Y2hTaXplIiwiX3Byb3BlcnRpZXMiLCJfbWF4U2l6ZSIsIl9iYXRjaFNpemUiLCJfYnVmZmVycyIsIl9idWZmZXJVcGRhdGVJRHMiLCJzZXRQcm9wZXJ0aWVzIiwidGludFJnYiIsInBhcnRpY2xlIiwic21hbGxlc3RDaGlsZEluZGV4IiwiUGFydGljbGVCdWZmZXIiLCJkeW5hbWljUHJvcGVydHlGbGFncyIsImR5bmFtaWNQcm9wZXJ0aWVzIiwic3RhdGljUHJvcGVydGllcyIsInByb3BlcnR5IiwiYXR0cmlidXRlTmFtZSIsInVwbG9hZEZ1bmN0aW9uIiwic3RhdGljU3RyaWRlIiwic3RhdGljQnVmZmVyIiwic3RhdGljRGF0YSIsInN0YXRpY0RhdGFVaW50MzIiLCJkeW5hbWljU3RyaWRlIiwiZHluYW1pY0J1ZmZlciIsImR5bmFtaWNEYXRhIiwiZHluYW1pY0RhdGFVaW50MzIiLCJpbml0QnVmZmVycyIsImR5bmFtaWNPZmZzZXQiLCJkeW5CdWZmZXIiLCJzdGF0aWNPZmZzZXQiLCJzdGF0QnVmZmVyIiwicHJvcGVydHkkMiIsInByb3BlcnR5JDMiLCJ1cGxvYWREeW5hbWljIiwiYW1vdW50IiwidXBsb2FkU3RhdGljIiwiUGFydGljbGVSZW5kZXJlciIsInVwbG9hZFZlcnRpY2VzIiwidXBsb2FkUG9zaXRpb24iLCJ1cGxvYWRSb3RhdGlvbiIsInVwbG9hZFV2cyIsInVwbG9hZFRpbnQiLCJ0b3RhbENoaWxkcmVuIiwiZ2VuZXJhdGVCdWZmZXJzIiwidUNvbG9yIiwidXBkYXRlU3RhdGljIiwiX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciIsImJpZCIsInNwcml0ZVBvc2l0aW9uIiwic3ByaXRlUm90YXRpb24iLCJ0ZXh0dXJlVXZzIiwiU3ByaXRlc2hlZXQiLCJyZXNvbHV0aW9uRmlsZW5hbWUiLCJhbmltYXRpb25zIiwiX3VwZGF0ZVJlc29sdXRpb24iLCJfZnJhbWVzIiwiZnJhbWVzIiwiX2ZyYW1lS2V5cyIsIl9iYXRjaEluZGV4IiwiX2NhbGxiYWNrIiwiQkFUQ0hfU0laRSIsIm1ldGEiLCJfcHJvY2Vzc0ZyYW1lcyIsIl9wcm9jZXNzQW5pbWF0aW9ucyIsIl9wYXJzZUNvbXBsZXRlIiwiX25leHRCYXRjaCIsImluaXRpYWxGcmFtZUluZGV4IiwiZnJhbWVJbmRleCIsIm1heEZyYW1lcyIsInNvdXJjZVNpemUiLCJyb3RhdGVkIiwic3ByaXRlU291cmNlU2l6ZSIsImFuaW1OYW1lIiwiZnJhbWVOYW1lIiwiU3ByaXRlc2hlZXRMb2FkZXIiLCJpbWFnZVJlc291cmNlTmFtZSIsImxvYWRPcHRpb25zIiwiaW1hZ2VNZXRhZGF0YSIsInJlc291cmNlUGF0aCIsImdldFJlc291cmNlUGF0aCIsInNwcml0ZXNoZWV0IiwiVGlsaW5nU3ByaXRlIiwidGlsZVRyYW5zZm9ybSIsIl9jYW52YXNQYXR0ZXJuIiwidXZSZXNwZWN0QW5jaG9yIiwidGlsZVNjYWxlIiwidGlsZVBvc2l0aW9uIiwiZnJvbUZyYW1lIiwiZnJhbWVJZCIsImZyb21JbWFnZSIsImltYWdlSWQiLCJUaWxpbmdTcHJpdGVSZW5kZXJlciIsInNpbXBsZVNoYWRlciIsImZyYWdtZW50U2ltcGxlIiwidHMiLCJiYXNlVGV4IiwidXYiLCJIIiwidU1hcENvb3JkIiwidVRyYW5zZm9ybSIsIkJpdG1hcFRleHQiLCJfdGV4dFdpZHRoIiwiX3RleHRIZWlnaHQiLCJfZ2x5cGhzIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJmb250cyIsImNoYXJzIiwidGV4dExlbmd0aCIsIm1heFdpZHRoIiwicHJldkNoYXJDb2RlIiwibGFzdExpbmVXaWR0aCIsImxhc3RCcmVha1BvcyIsImxhc3RCcmVha1dpZHRoIiwic3BhY2VzUmVtb3ZlZCIsIm1heExpbmVIZWlnaHQiLCJjaGFyQ29kZSIsImNoYXJEYXRhIiwia2VybmluZyIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwieEFkdmFuY2UiLCJsaW5lQWxpZ25PZmZzZXRzIiwiYWxpZ25PZmZzZXQiLCJsZW5DaGFycyIsInZhbGlkYXRlIiwidGV4dFdpZHRoIiwidGV4dEhlaWdodCIsInJlZ2lzdGVyRm9udCIsImluZm8iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNvbW1vbiIsInBhZ2VzIiwicGFnZXNUZXh0dXJlcyIsImxldHRlcnMiLCJwYWdlIiwidGV4dHVyZVJlY3QiLCJrZXJuaW5ncyIsImZpcnN0Iiwic2Vjb25kIiwiQml0bWFwRm9udExvYWRlciIsImJpdG1hcEZvbnQiLCJkaXJuYW1lIiwiZGlyIiwieG1sVXJsIiwicGFnZUZpbGUiLCJiaXRtYXBSZXNvdXJjZSIsIkFscGhhRmlsdGVyIiwidUFscGhhIiwidmVydFRlbXBsYXRlIiwiR0FVU1NJQU5fVkFMVUVTIiwiNSIsIjciLCI5IiwiMTEiLCIxMyIsIjE1IiwiQmx1ckZpbHRlclBhc3MiLCJob3Jpem9udGFsIiwic3RyZW5ndGgiLCJrZXJuZWxTaXplIiwidmVydFNyYyIsInRlbXBsYXRlIiwiaGFsZkxlbmd0aCIsInZlcnRTb3VyY2UiLCJibHVyTG9vcCIsImJsdXIiLCJnZW5lcmF0ZUJsdXJWZXJ0U291cmNlIiwiZnJhZ1NyYyIsImtlcm5lbCIsImZyYWdTb3VyY2UiLCJnZW5lcmF0ZUJsdXJGcmFnU291cmNlIiwiX3F1YWxpdHkiLCJwYXNzZXMiLCJCbHVyRmlsdGVyIiwiYmx1clhGaWx0ZXIiLCJibHVyWUZpbHRlciIsInJlcGVhdEVkZ2VQaXhlbHMiLCJ4U3RyZW5ndGgiLCJ5U3RyZW5ndGgiLCJ1cGRhdGVQYWRkaW5nIiwiX3JlcGVhdEVkZ2VQaXhlbHMiLCJibHVyWCIsImJsdXJZIiwiQ29sb3JNYXRyaXhGaWx0ZXIiLCJkZWZhdWx0RmlsdGVyVmVydGV4IiwiX2xvYWRNYXRyaXgiLCJtdWx0aXBseSIsIm5ld01hdHJpeCIsIl9tdWx0aXBseSIsIl9jb2xvck1hdHJpeCIsImJyaWdodG5lc3MiLCJncmV5c2NhbGUiLCJibGFja0FuZFdoaXRlIiwiaHVlIiwiY29zUiIsInNpblIiLCJzcXJXIiwiY29udHJhc3QiLCJzYXR1cmF0ZSIsImRlc2F0dXJhdGUiLCJuZWdhdGl2ZSIsInNlcGlhIiwidGVjaG5pY29sb3IiLCJwb2xhcm9pZCIsInRvQkdSIiwia29kYWNocm9tZSIsImJyb3duaSIsInZpbnRhZ2UiLCJjb2xvclRvbmUiLCJkZXNhdHVyYXRpb24iLCJ0b25lZCIsImxpZ2h0Q29sb3IiLCJkYXJrQ29sb3IiLCJsUiIsImxHIiwibEIiLCJkUiIsImRHIiwiZEIiLCJuaWdodCIsImludGVuc2l0eSIsInByZWRhdG9yIiwibHNkIiwiZ3JheXNjYWxlIiwiRGlzcGxhY2VtZW50RmlsdGVyIiwibWFwU2FtcGxlciIsImZpbHRlck1hdHJpeCIsImxlblgiLCJsZW5ZIiwiRlhBQUZpbHRlciIsIk5vaXNlRmlsdGVyIiwibm9pc2UiLCJzZWVkIiwicmFuZG9tIiwidU5vaXNlIiwidVNlZWQiLCJfdGVtcE1hdHJpeCIsIl9jYWNoZUFzQml0bWFwIiwiX2NhY2hlRGF0YSIsIkNhY2hlRGF0YSIsInRleHR1cmVDYWNoZUlkIiwib3JpZ2luYWxSZW5kZXIiLCJvcmlnaW5hbFJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzIiwib3JpZ2luYWxHZXRMb2NhbEJvdW5kcyIsIm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtIiwib3JpZ2luYWxIaXRUZXN0Iiwib3JpZ2luYWxEZXN0cm95Iiwib3JpZ2luYWxNYXNrIiwib3JpZ2luYWxGaWx0ZXJBcmVhIiwiY2FjaGVBc0JpdG1hcCIsInJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ29udGFpbnNQb2ludCIsIl9yZW5kZXJDYWNoZWQiLCJfcmVuZGVyQ2FjaGVkQ2FudmFzIiwiX2NhY2hlQXNCaXRtYXBEZXN0cm95IiwiX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0IiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0IiwiY2FjaGVBbHBoYSIsImNhY2hlZFJlbmRlclRleHR1cmUiLCJjYWNoZWRTb3VyY2VGcmFtZSIsImNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0iLCJfY2FsY3VsYXRlQ2FjaGVkQm91bmRzIiwiX2dldENhY2hlZExvY2FsQm91bmRzIiwiY2FjaGVkU3ByaXRlIiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzIiwiX3JlbmRlckNhbnZhcyIsImNhY2hlZFJlbmRlclRhcmdldCIsImdldENoaWxkQnlOYW1lIiwiZ2V0R2xvYmFsUG9zaXRpb24iLCJ2NSIsIk1lc2hCYXRjaFV2cyIsIl9idWZmZXJVcGRhdGVJZCIsIl90ZXh0dXJlVXBkYXRlSWQiLCJ0ZW1wUG9seWdvbiIsIk1lc2giLCJ2ZXJ0ZXhEaXJ0eSIsImJhdGNoVXZzIiwidmVydGljZXNCdWZmZXIiLCJtYXRlcmlhbCIsIl9yZW5kZXJUb0JhdGNoIiwiX3JlbmRlckRlZmF1bHQiLCJjYWxjdWxhdGVVdnMiLCJ2ZXJ0ZXhEaXJ0eUlkIiwiZ2VvbVV2cyIsInN0ZXAiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJNZXNoTWF0ZXJpYWwiLCJ1VGV4dHVyZU1hdHJpeCIsIl9jb2xvckRpcnR5IiwiX2FscGhhIiwiTWVzaEdlb21ldHJ5IiwidXZzQnVmZmVyIiwiX3VwZGF0ZUlkIiwiUGxhbmVHZW9tZXRyeSIsInNlZ1dpZHRoIiwic2VnSGVpZ2h0Iiwic2VnbWVudHNYIiwic2VnbWVudHNZIiwic2l6ZVgiLCJzaXplWSIsInRvdGFsU3ViIiwieHBvcyIsInlwb3MiLCJ2YWx1ZTIiLCJ2YWx1ZTMiLCJ2YWx1ZTQiLCJSb3BlR2VvbWV0cnkiLCJ1cGRhdGVWZXJ0aWNlcyIsIm5leHRQb2ludCIsInBlcnBYIiwicGVycFkiLCJwZXJwTGVuZ3RoIiwibnVtIiwiU2ltcGxlUm9wZSIsInJvcGVHZW9tZXRyeSIsIm1lc2hNYXRlcmlhbCIsIlNpbXBsZVBsYW5lIiwidmVydGljZXNYIiwidmVydGljZXNZIiwicGxhbmVHZW9tZXRyeSIsInRleHR1cmVVcGRhdGVkIiwiU2ltcGxlTWVzaCIsIkRFRkFVTFRfQk9SREVSX1NJWkUiLCJOaW5lU2xpY2VQbGFuZSIsImxlZnRXaWR0aCIsInRvcEhlaWdodCIsInJpZ2h0V2lkdGgiLCJib3R0b21IZWlnaHQiLCJfb3JpZ1dpZHRoIiwiX29yaWdIZWlnaHQiLCJfbGVmdFdpZHRoIiwiX3JpZ2h0V2lkdGgiLCJfdG9wSGVpZ2h0IiwiX2JvdHRvbUhlaWdodCIsIl9yZWZyZXNoIiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsIl91dnciLCJfdXZoIiwiQW5pbWF0ZWRTcHJpdGUiLCJfZHVyYXRpb25zIiwiYW5pbWF0aW9uU3BlZWQiLCJsb29wIiwidXBkYXRlQW5jaG9yIiwib25GcmFtZUNoYW5nZSIsIm9uTG9vcCIsIl9jdXJyZW50VGltZSIsInBsYXlpbmciLCJnb3RvQW5kU3RvcCIsImZyYW1lTnVtYmVyIiwicHJldmlvdXNGcmFtZSIsImN1cnJlbnRGcmFtZSIsImdvdG9BbmRQbGF5IiwiZWxhcHNlZCIsImxhZyIsImNvcHkiLCJmcm9tRnJhbWVzIiwiZnJvbUltYWdlcyIsImltYWdlcyIsInRvdGFsRnJhbWVzIiwiYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlciIsImV4dHJhY3QuRXh0cmFjdCIsImludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciIsInByZXBhcmUuUHJlcGFyZSIsIlBJWEkiLCJUcmFuc2Zvcm1TdGF0aWMiLCJUcmFuc2Zvcm1CYXNlIiwiVFJBTlNGT1JNX01PREUiLCJTVEFUSUMiLCJEWU5BTUlDIiwiV2ViR0xSZW5kZXJlciIsInV0aWxzIiwiRmlsdGVyTWFuYWdlciIsInN5c3RlbXMiLCJleHRyYXMiLCJnZXRTdmdTaXplIiwibWVzaCIsIlBsYW5lIiwiUm9wZSIsIlJhd01lc2giLCJDYW52YXNNZXNoUmVuZGVyZXIiLCJNZXNoUmVuZGVyZXIiLCJwYXJ0aWNsZXMiLCJsb2FkZXJzIiwiYml0bWFwRm9udFBhcnNlciIsInBhcnNlQml0bWFwRm9udERhdGEiLCJzcHJpdGVzaGVldFBhcnNlciIsImFkZFBpeGlNaWRkbGV3YXJlIiwicHJlcGFyZSIsIl9yZW5kZXJXZWJHTCIsInJlbmRlcldlYkdMIiwicmVuZGVyQWR2YW5jZWRXZWJHTCIsImxvYWRTb3VyY2UiLCJoYXNMb2FkZWQiLCJmcm9tQ2FudmFzIiwiZnJvbVNWRyIsInNldFN0YXRlIiwiZ2V0UmVuZGVyVGFyZ2V0IiwicmV0dXJuUmVuZGVyVGFyZ2V0IiwiY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgiLCJjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgiLCJ0cmFuc2xhdGVTY2FsZVgiLCJ0cmFuc2xhdGVTY2FsZVkiLCJCbHVyWEZpbHRlciIsIkJsdXJZRmlsdGVyIiwic3ByaXRlRnJvbSIsInRleHR1cmVGcm9tIiwiZ2VuZXJhdGVDYW52YXNUZXh0dXJlIiwiZnJvbVZpZGVvIiwibWl4aW5zIiwiZGVsYXlNaXhpbiIsInBlcmZvcm1NaXhpbnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7MlFBQUEsU0FBVUEsR0FNVixJQUFJQyxFQUFnQkQsRUFBZ0IsUUFDaENFLEVBQ0ZELEdBR0EsWUFBYUEsR0FDYixXQUFZQSxHQUNaLFFBQVNBLEdBQ1QsU0FBVUEsR0FHVixXQUNFLElBQUlFLEVBRUosT0FEQSxJQUFJRixFQUFjLFNBQVNHLEdBQUlELEVBQVVD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cGtGLEVBQUt4USxFQUFHQyxHQThCZCxPQTNCQXVRLEVBQUksR0FBTXhRLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXVRLEVBQUksR0FBTXhRLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXVRLEVBQUksR0FBTXhRLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXVRLEVBQUksR0FBTXhRLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXVRLEVBQUksR0FBTXhRLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUFPRCxFQUFFLEdBRzdFd1EsRUFBSSxHQUFNeFEsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFdVEsRUFBSSxHQUFNeFEsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFdVEsRUFBSSxHQUFNeFEsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFdVEsRUFBSSxHQUFNeFEsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFdVEsRUFBSSxHQUFNeFEsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQU9ELEVBQUUsR0FHN0V3USxFQUFJLElBQU94USxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekV1USxFQUFJLElBQU94USxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekV1USxFQUFJLElBQU94USxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekV1USxFQUFJLElBQU94USxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekV1USxFQUFJLElBQU94USxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFBT0QsRUFBRSxJQUdsRndRLEVBQUksSUFBT3hRLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RXVRLEVBQUksSUFBT3hRLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RXVRLEVB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDaklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzlGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDckNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InNsb3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oZ2xvYmFsKXtcblxuLy9cbi8vIENoZWNrIGZvciBuYXRpdmUgUHJvbWlzZSBhbmQgaXQgaGFzIGNvcnJlY3QgaW50ZXJmYWNlXG4vL1xuXG52YXIgTmF0aXZlUHJvbWlzZSA9IGdsb2JhbFsnUHJvbWlzZSddO1xudmFyIG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPVxuICBOYXRpdmVQcm9taXNlICYmXG4gIC8vIFNvbWUgb2YgdGhlc2UgbWV0aG9kcyBhcmUgbWlzc2luZyBmcm9tXG4gIC8vIEZpcmVmb3gvQ2hyb21lIGV4cGVyaW1lbnRhbCBpbXBsZW1lbnRhdGlvbnNcbiAgJ3Jlc29sdmUnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ3JlamVjdCcgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAnYWxsJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdyYWNlJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gIC8vIE9sZGVyIHZlcnNpb24gb2YgdGhlIHNwZWMgaGFkIGEgcmVzb2x2ZXIgb2JqZWN0XG4gIC8vIGFzIHRoZSBhcmcgcmF0aGVyIHRoYW4gYSBmdW5jdGlvblxuICAoZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVzb2x2ZTtcbiAgICBuZXcgTmF0aXZlUHJvbWlzZShmdW5jdGlvbihyKXsgcmVzb2x2ZSA9IHI7IH0pO1xuICAgIHJldHVybiB0eXBlb2YgcmVzb2x2ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgfSkoKTtcblxuXG4vL1xuLy8gZXhwb3J0IGlmIG5lY2Vzc2FyeVxuLy9cblxuaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyAmJiBleHBvcnRzKVxue1xuICAvLyBub2RlLmpzXG4gIGV4cG9ydHMuUHJvbWlzZSA9IG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPyBOYXRpdmVQcm9taXNlIDogUHJvbWlzZTtcbiAgZXhwb3J0cy5Qb2x5ZmlsbCA9IFByb21pc2U7XG59XG5lbHNlXG57XG4gIC8vIEFNRFxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG4gIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID8gTmF0aXZlUHJvbWlzZSA6IFByb21pc2U7XG4gICAgfSk7XG4gIH1cbiAgZWxzZVxuICB7XG4gICAgLy8gaW4gYnJvd3NlciBhZGQgdG8gZ2xvYmFsXG4gICAgaWYgKCFuYXRpdmVQcm9taXNlU3VwcG9ydGVkKVxuICAgICAgZ2xvYmFsWydQcm9taXNlJ10gPSBQcm9taXNlO1xuICB9XG59XG5cblxuLy9cbi8vIFBvbHlmaWxsXG4vL1xuXG52YXIgUEVORElORyA9ICdwZW5kaW5nJztcbnZhciBTRUFMRUQgPSAnc2VhbGVkJztcbnZhciBGVUxGSUxMRUQgPSAnZnVsZmlsbGVkJztcbnZhciBSRUpFQ1RFRCA9ICdyZWplY3RlZCc7XG52YXIgTk9PUCA9IGZ1bmN0aW9uKCl7fTtcblxuZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLy8gYXN5bmMgY2FsbHNcbnZhciBhc3luY1NldFRpbWVyID0gdHlwZW9mIHNldEltbWVkaWF0ZSAhPT0gJ3VuZGVmaW5lZCcgPyBzZXRJbW1lZGlhdGUgOiBzZXRUaW1lb3V0O1xudmFyIGFzeW5jUXVldWUgPSBbXTtcbnZhciBhc3luY1RpbWVyO1xuXG5mdW5jdGlvbiBhc3luY0ZsdXNoKCl7XG4gIC8vIHJ1biBwcm9taXNlIGNhbGxiYWNrc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFzeW5jUXVldWUubGVuZ3RoOyBpKyspXG4gICAgYXN5bmNRdWV1ZVtpXVswXShhc3luY1F1ZXVlW2ldWzFdKTtcblxuICAvLyByZXNldCBhc3luYyBhc3luY1F1ZXVlXG4gIGFzeW5jUXVldWUgPSBbXTtcbiAgYXN5bmNUaW1lciA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBhc3luY0NhbGwoY2FsbGJhY2ssIGFyZyl7XG4gIGFzeW5jUXVldWUucHVzaChbY2FsbGJhY2ssIGFyZ10pO1xuXG4gIGlmICghYXN5bmNUaW1lcilcbiAge1xuICAgIGFzeW5jVGltZXIgPSB0cnVlO1xuICAgIGFzeW5jU2V0VGltZXIoYXN5bmNGbHVzaCwgMCk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgcHJvbWlzZSkge1xuICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIocmVzb2x2ZVByb21pc2UsIHJlamVjdFByb21pc2UpO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZWplY3RQcm9taXNlKGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHN1YnNjcmliZXIpe1xuICB2YXIgb3duZXIgPSBzdWJzY3JpYmVyLm93bmVyO1xuICB2YXIgc2V0dGxlZCA9IG93bmVyLnN0YXRlXztcbiAgdmFyIHZhbHVlID0gb3duZXIuZGF0YV87ICBcbiAgdmFyIGNhbGxiYWNrID0gc3Vic2NyaWJlcltzZXR0bGVkXTtcbiAgdmFyIHByb21pc2UgPSBzdWJzY3JpYmVyLnRoZW47XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJylcbiAge1xuICAgIHNldHRsZWQgPSBGVUxGSUxMRUQ7XG4gICAgdHJ5IHtcbiAgICAgIHZhbHVlID0gY2FsbGJhY2sodmFsdWUpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGUpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKVxuICB7XG4gICAgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRClcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuXG4gICAgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKVxuICAgICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkge1xuICB2YXIgcmVzb2x2ZWQ7XG5cbiAgdHJ5IHtcbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuJyk7XG5cbiAgICBpZiAodmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSlcbiAgICB7XG4gICAgICB2YXIgdGhlbiA9IHZhbHVlLnRoZW47ICAvLyB0aGVuIHNob3VsZCBiZSByZXRyaXZlZCBvbmx5IG9uY2VcblxuICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAge1xuICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdmFsKVxuICAgICAgICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCFyZXNvbHZlZClcbiAgICAgIHJlamVjdChwcm9taXNlLCBlKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKXtcbiAgaWYgKHByb21pc2UgPT09IHZhbHVlIHx8ICFoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkpXG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpe1xuICBpZiAocHJvbWlzZS5zdGF0ZV8gPT09IFBFTkRJTkcpXG4gIHtcbiAgICBwcm9taXNlLnN0YXRlXyA9IFNFQUxFRDtcbiAgICBwcm9taXNlLmRhdGFfID0gdmFsdWU7XG5cbiAgICBhc3luY0NhbGwocHVibGlzaEZ1bGZpbGxtZW50LCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3QocHJvbWlzZSwgcmVhc29uKXtcbiAgaWYgKHByb21pc2Uuc3RhdGVfID09PSBQRU5ESU5HKVxuICB7XG4gICAgcHJvbWlzZS5zdGF0ZV8gPSBTRUFMRUQ7XG4gICAgcHJvbWlzZS5kYXRhXyA9IHJlYXNvbjtcblxuICAgIGFzeW5jQ2FsbChwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoKHByb21pc2UpIHtcbiAgdmFyIGNhbGxiYWNrcyA9IHByb21pc2UudGhlbl87XG4gIHByb21pc2UudGhlbl8gPSB1bmRlZmluZWQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBpbnZva2VDYWxsYmFjayhjYWxsYmFja3NbaV0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hGdWxmaWxsbWVudChwcm9taXNlKXtcbiAgcHJvbWlzZS5zdGF0ZV8gPSBGVUxGSUxMRUQ7XG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSl7XG4gIHByb21pc2Uuc3RhdGVfID0gUkVKRUNURUQ7XG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbi8qKlxuKiBAY2xhc3NcbiovXG5mdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKXtcbiAgaWYgKHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlIGNvbnN0cnVjdG9yIHRha2VzIGEgZnVuY3Rpb24gYXJndW1lbnQnKTtcblxuICBpZiAodGhpcyBpbnN0YW5jZW9mIFByb21pc2UgPT09IGZhbHNlKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBjb25zdHJ1Y3QgXFwnUHJvbWlzZVxcJzogUGxlYXNlIHVzZSB0aGUgXFwnbmV3XFwnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uJyk7XG5cbiAgdGhpcy50aGVuXyA9IFtdO1xuXG4gIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCB0aGlzKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gIHN0YXRlXzogUEVORElORyxcbiAgdGhlbl86IG51bGwsXG4gIGRhdGFfOiB1bmRlZmluZWQsXG5cbiAgdGhlbjogZnVuY3Rpb24ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pe1xuICAgIHZhciBzdWJzY3JpYmVyID0ge1xuICAgICAgb3duZXI6IHRoaXMsXG4gICAgICB0aGVuOiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihOT09QKSxcbiAgICAgIGZ1bGZpbGxlZDogb25GdWxmaWxsbWVudCxcbiAgICAgIHJlamVjdGVkOiBvblJlamVjdGlvblxuICAgIH07XG5cbiAgICBpZiAodGhpcy5zdGF0ZV8gPT09IEZVTEZJTExFRCB8fCB0aGlzLnN0YXRlXyA9PT0gUkVKRUNURUQpXG4gICAge1xuICAgICAgLy8gYWxyZWFkeSByZXNvbHZlZCwgY2FsbCBjYWxsYmFjayBhc3luY1xuICAgICAgYXN5bmNDYWxsKGludm9rZUNhbGxiYWNrLCBzdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgIC8vIHN1YnNjcmliZVxuICAgICAgdGhpcy50aGVuXy5wdXNoKHN1YnNjcmliZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBzdWJzY3JpYmVyLnRoZW47XG4gIH0sXG5cbiAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfVxufTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbihwcm9taXNlcyl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIFByb21pc2UuYWxsKCkuJyk7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHJlbWFpbmluZyA9IDA7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcihpbmRleCl7XG4gICAgICByZW1haW5pbmcrKztcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIHJlc3VsdHNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIGlmICghLS1yZW1haW5pbmcpXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV07XG5cbiAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlcihpKSwgcmVqZWN0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVzdWx0c1tpXSA9IHByb21pc2U7XG4gICAgfVxuXG4gICAgaWYgKCFyZW1haW5pbmcpXG4gICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uKHByb21pc2VzKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAoIWlzQXJyYXkocHJvbWlzZXMpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gUHJvbWlzZS5yYWNlKCkuJyk7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcHJvbWlzZTsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgaWYgKHByb21pc2UgJiYgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlc29sdmUocHJvbWlzZSk7XG4gICAgfVxuICB9KTtcbn07XG5cblByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQ2xhc3MpXG4gICAgcmV0dXJuIHZhbHVlO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSl7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbihyZWFzb24pe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuXG59KSh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsImltcG9ydCB7IFBvbHlmaWxsIH0gZnJvbSAnZXM2LXByb21pc2UtcG9seWZpbGwnO1xuXG4vLyBTdXBwb3J0IGZvciBJRSA5IC0gMTEgd2hpY2ggZG9lcyBub3QgaW5jbHVkZSBQcm9taXNlc1xuaWYgKCF3aW5kb3cuUHJvbWlzZSlcbntcbiAgICB3aW5kb3cuUHJvbWlzZSA9IFBvbHlmaWxsO1xufVxuIiwiLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvb2JqZWN0LWFzc2lnblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxuXG5pbXBvcnQgb2JqZWN0QXNzaWduIGZyb20gJ29iamVjdC1hc3NpZ24nO1xuXG5pZiAoIU9iamVjdC5hc3NpZ24pXG57XG4gICAgT2JqZWN0LmFzc2lnbiA9IG9iamVjdEFzc2lnbjtcbn1cbiIsIi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwOi8vcGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTU3OTY3MVxuLy8gaHR0cDovL3VwZGF0ZXMuaHRtbDVyb2Nrcy5jb20vMjAxMi8wNS9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUtQVBJLW5vdy13aXRoLXN1Yi1taWxsaXNlY29uZC1wcmVjaXNpb25cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3RpbWhhbGwvNDA3ODYxNFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL3RyZWUvbWFzdGVyL3BvbHlmaWxscy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblxuLy8gRXhwZWN0ZWQgdG8gYmUgdXNlZCB3aXRoIEJyb3dzZXJmaXlcbi8vIEJyb3dzZXJpZnkgYXV0b21hdGljYWxseSBkZXRlY3RzIHRoZSB1c2Ugb2YgYGdsb2JhbGAgYW5kIHBhc3NlcyB0aGVcbi8vIGNvcnJlY3QgcmVmZXJlbmNlIG9mIGBnbG9iYWxgLCBgc2VsZmAsIGFuZCBmaW5hbGx5IGB3aW5kb3dgXG5cbmNvbnN0IE9ORV9GUkFNRV9USU1FID0gMTY7XG5cbi8vIERhdGUubm93XG5pZiAoIShEYXRlLm5vdyAmJiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lKSlcbntcbiAgICBEYXRlLm5vdyA9IGZ1bmN0aW9uIG5vdygpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cblxuLy8gcGVyZm9ybWFuY2Uubm93XG5pZiAoIShnbG9iYWwucGVyZm9ybWFuY2UgJiYgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdykpXG57XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICghZ2xvYmFsLnBlcmZvcm1hbmNlKVxuICAgIHtcbiAgICAgICAgZ2xvYmFsLnBlcmZvcm1hbmNlID0ge307XG4gICAgfVxuXG4gICAgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdyA9ICgpID0+IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG59XG5cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZVxubGV0IGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbmNvbnN0IHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuXG5mb3IgKGxldCB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICFnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpXG57XG4gICAgY29uc3QgcCA9IHZlbmRvcnNbeF07XG5cbiAgICBnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZ2xvYmFsW2Ake3B9UmVxdWVzdEFuaW1hdGlvbkZyYW1lYF07XG4gICAgZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZ2xvYmFsW2Ake3B9Q2FuY2VsQW5pbWF0aW9uRnJhbWVgXSB8fCBnbG9iYWxbYCR7cH1DYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVgXTtcbn1cblxuaWYgKCFnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxue1xuICAgIGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAoY2FsbGJhY2spID0+XG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2NhbGxiYWNrfWlzIG5vdCBhIGZ1bmN0aW9uYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCBkZWxheSA9IE9ORV9GUkFNRV9USU1FICsgbGFzdFRpbWUgLSBjdXJyZW50VGltZTtcblxuICAgICAgICBpZiAoZGVsYXkgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgIH07XG59XG5cbmlmICghZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lKVxue1xuICAgIGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IChpZCkgPT4gY2xlYXJUaW1lb3V0KGlkKTtcbn1cbiIsIi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3NpZ25cblxuaWYgKCFNYXRoLnNpZ24pXG57XG4gICAgTWF0aC5zaWduID0gZnVuY3Rpb24gbWF0aFNpZ24oeClcbiAgICB7XG4gICAgICAgIHggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHggPiAwID8gMSA6IC0xO1xuICAgIH07XG59XG4iLCIvLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL2lzSW50ZWdlclxuXG5pZiAoIU51bWJlci5pc0ludGVnZXIpXG57XG4gICAgTnVtYmVyLmlzSW50ZWdlciA9IGZ1bmN0aW9uIG51bWJlcklzSW50ZWdlcih2YWx1ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG4gICAgfTtcbn1cbiIsImltcG9ydCAnLi9Qcm9taXNlJztcbmltcG9ydCAnLi9PYmplY3QuYXNzaWduJztcbmltcG9ydCAnLi9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUnO1xuaW1wb3J0ICcuL01hdGguc2lnbic7XG5pbXBvcnQgJy4vTnVtYmVyLmlzSW50ZWdlcic7XG5cbmlmICghd2luZG93LkFycmF5QnVmZmVyKVxue1xuICAgIHdpbmRvdy5BcnJheUJ1ZmZlciA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5GbG9hdDMyQXJyYXkpXG57XG4gICAgd2luZG93LkZsb2F0MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MzJBcnJheSlcbntcbiAgICB3aW5kb3cuVWludDMyQXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuVWludDE2QXJyYXkpXG57XG4gICAgd2luZG93LlVpbnQxNkFycmF5ID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LlVpbnQ4QXJyYXkpXG57XG4gICAgd2luZG93LlVpbnQ4QXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuSW50MzJBcnJheSlcbntcbiAgICB3aW5kb3cuSW50MzJBcnJheSA9IEFycmF5O1xufVxuIiwiIWZ1bmN0aW9uKGUpe3ZhciBuPS9pUGhvbmUvaSx0PS9pUG9kL2kscj0vaVBhZC9pLGE9L1xcYkFuZHJvaWQoPzouKylNb2JpbGVcXGIvaSxwPS9BbmRyb2lkL2ksYj0vXFxiQW5kcm9pZCg/Oi4rKVNENDkzMFVSXFxiL2ksbD0vXFxiQW5kcm9pZCg/Oi4rKSg/OktGW0EtWl17Miw0fSlcXGIvaSxmPS9XaW5kb3dzIFBob25lL2kscz0vXFxiV2luZG93cyg/Oi4rKUFSTVxcYi9pLHU9L0JsYWNrQmVycnkvaSxjPS9CQjEwL2ksaD0vT3BlcmEgTWluaS9pLHY9L1xcYihDcmlPU3xDaHJvbWUpKD86LispTW9iaWxlL2ksdz0vTW9iaWxlKD86LispRmlyZWZveFxcYi9pO2Z1bmN0aW9uIG0oZSxpKXtyZXR1cm4gZS50ZXN0KGkpfWZ1bmN0aW9uIGkoZSl7dmFyIGk9ZXx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3I/bmF2aWdhdG9yLnVzZXJBZ2VudDpcIlwiKSxvPWkuc3BsaXQoXCJbRkJBTlwiKTt2b2lkIDAhPT1vWzFdJiYoaT1vWzBdKSx2b2lkIDAhPT0obz1pLnNwbGl0KFwiVHdpdHRlclwiKSlbMV0mJihpPW9bMF0pO3ZhciBkPXthcHBsZTp7cGhvbmU6bShuLGkpJiYhbShmLGkpLGlwb2Q6bSh0LGkpLHRhYmxldDohbShuLGkpJiZtKHIsaSkmJiFtKGYsaSksZGV2aWNlOihtKG4saSl8fG0odCxpKXx8bShyLGkpKSYmIW0oZixpKX0sYW1hem9uOntwaG9uZTptKGIsaSksdGFibGV0OiFtKGIsaSkmJm0obCxpKSxkZXZpY2U6bShiLGkpfHxtKGwsaSl9LGFuZHJvaWQ6e3Bob25lOiFtKGYsaSkmJm0oYixpKXx8IW0oZixpKSYmbShhLGkpLHRhYmxldDohbShmLGkpJiYhbShiLGkpJiYhbShhLGkpJiYobShsLGkpfHxtKHAsaSkpLGRldmljZTohbShmLGkpJiYobShiLGkpfHxtKGwsaSl8fG0oYSxpKXx8bShwLGkpKXx8bSgvXFxib2todHRwXFxiL2ksaSl9LHdpbmRvd3M6e3Bob25lOm0oZixpKSx0YWJsZXQ6bShzLGkpLGRldmljZTptKGYsaSl8fG0ocyxpKX0sb3RoZXI6e2JsYWNrYmVycnk6bSh1LGkpLGJsYWNrYmVycnkxMDptKGMsaSksb3BlcmE6bShoLGkpLGZpcmVmb3g6bSh3LGkpLGNocm9tZTptKHYsaSksZGV2aWNlOm0odSxpKXx8bShjLGkpfHxtKGgsaSl8fG0odyxpKXx8bSh2LGkpfX07cmV0dXJuIGQuYW55PWQuYXBwbGUuZGV2aWNlfHxkLmFuZHJvaWQuZGV2aWNlfHxkLndpbmRvd3MuZGV2aWNlfHxkLm90aGVyLmRldmljZSxkLnBob25lPWQuYXBwbGUucGhvbmV8fGQuYW5kcm9pZC5waG9uZXx8ZC53aW5kb3dzLnBob25lLGQudGFibGV0PWQuYXBwbGUudGFibGV0fHxkLmFuZHJvaWQudGFibGV0fHxkLndpbmRvd3MudGFibGV0LGR9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/bW9kdWxlLmV4cG9ydHM9aTpcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz8obW9kdWxlLmV4cG9ydHM9aSgpLG1vZHVsZS5leHBvcnRzLmlzTW9iaWxlPWkpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZS5pc01vYmlsZT1pKCkpOmUuaXNNb2JpbGU9aSgpfSh0aGlzKTsiLCJpbXBvcnQgaXNNb2JpbGUgZnJvbSAnaXNtb2JpbGVqcyc7XG5pbXBvcnQgbWF4UmVjb21tZW5kZWRUZXh0dXJlcyBmcm9tICcuL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMnO1xuaW1wb3J0IGNhblVwbG9hZFNhbWVCdWZmZXIgZnJvbSAnLi91dGlscy9jYW5VcGxvYWRTYW1lQnVmZmVyJztcblxuLyoqXG4gKiBVc2VyJ3MgY3VzdG9taXphYmxlIGdsb2JhbHMgZm9yIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgUElYSSBzZXR0aW5ncywgc3VjaFxuICogYXMgYSByZW5kZXJlcidzIGRlZmF1bHQgcmVzb2x1dGlvbiwgZnJhbWVyYXRlLCBmbG9hdCBwcmVjaXNpb24sIGV0Yy5cbiAqIEBleGFtcGxlXG4gKiAvLyBVc2UgdGhlIG5hdGl2ZSB3aW5kb3cgcmVzb2x1dGlvbiBhcyB0aGUgZGVmYXVsdCByZXNvbHV0aW9uXG4gKiAvLyB3aWxsIHN1cHBvcnQgaGlnaC1kZW5zaXR5IGRpc3BsYXlzIHdoZW4gcmVuZGVyaW5nXG4gKiBQSVhJLnNldHRpbmdzLlJFU09MVVRJT04gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpby5cbiAqXG4gKiAvLyBEaXNhYmxlIGludGVycG9sYXRpb24gd2hlbiBzY2FsaW5nLCB3aWxsIG1ha2UgdGV4dHVyZSBiZSBwaXhlbGF0ZWRcbiAqIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERSA9IFBJWEkuU0NBTEVfTU9ERVMuTkVBUkVTVDtcbiAqIEBuYW1lc3BhY2UgUElYSS5zZXR0aW5nc1xuICovXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSBXZWJHTCB3aWxsIGF0dGVtcHQgbWFrZSB0ZXh0dXJlcyBtaW1wYXBlZCBieSBkZWZhdWx0LlxuICAgICAqIE1pcG1hcHBpbmcgd2lsbCBvbmx5IHN1Y2NlZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSB1cGxvYWRlZCBoYXMgcG93ZXIgb2YgdHdvIGRpbWVuc2lvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgTUlQTUFQX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5NSVBNQVBfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5NSVBNQVBfTU9ERVMuUE9XMlxuICAgICAqL1xuICAgIE1JUE1BUF9URVhUVVJFUzogMSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgYW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVzLlxuICAgICAqIFVzdWFsbHkgZnJvbSAwIHRvIDE2XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQU5JU09UUk9QSUNfTEVWRUxcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIEFOSVNPVFJPUElDX0xFVkVMOiAwLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBSRVNPTFVUSU9OXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBSRVNPTFVUSU9OOiAxLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBmaWx0ZXIgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBGSUxURVJfUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgRklMVEVSX1JFU09MVVRJT046IDEsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSB0ZXh0dXJlcyB0aGF0IHRoaXMgZGV2aWNlIHN1cHBvcnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMzJcbiAgICAgKi9cbiAgICBTUFJJVEVfTUFYX1RFWFRVUkVTOiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKDMyKSxcblxuICAgIC8vIFRPRE86IG1heWJlIGNoYW5nZSB0byBTUFJJVEUuQkFUQ0hfU0laRTogMjAwMFxuICAgIC8vIFRPRE86IG1heWJlIGFkZCBQQVJUSUNMRS5CQVRDSF9TSVpFOiAxNTAwMFxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgc3ByaXRlIGJhdGNoIHNpemUuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBhaW1zIHRvIGJhbGFuY2UgZGVza3RvcCBhbmQgbW9iaWxlIGRldmljZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgU1BSSVRFX0JBVENIX1NJWkVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNDA5NlxuICAgICAqL1xuICAgIFNQUklURV9CQVRDSF9TSVpFOiA0MDk2LFxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnMgaWYgbm9uZSBhcmUgc3VwcGxpZWQgdG8ge0BsaW5rIFBJWEkuUmVuZGVyZXJ9XG4gICAgICogb3Ige0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFJFTkRFUl9PUFRJT05TXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IHZpZXc9bnVsbFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uPTFcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGFudGlhbGlhcz1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZm9yY2VGWEFBPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBhdXRvRGVuc2l0eT1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdHJhbnNwYXJlbnQ9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBjbGVhckJlZm9yZVJlbmRlcj10cnVlXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGg9ODAwXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodD02MDBcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGxlZ2FjeT1mYWxzZVxuICAgICAqL1xuICAgIFJFTkRFUl9PUFRJT05TOiB7XG4gICAgICAgIHZpZXc6IG51bGwsXG4gICAgICAgIGFudGlhbGlhczogZmFsc2UsXG4gICAgICAgIGZvcmNlRlhBQTogZmFsc2UsXG4gICAgICAgIGF1dG9EZW5zaXR5OiBmYWxzZSxcbiAgICAgICAgdHJhbnNwYXJlbnQ6IGZhbHNlLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4MDAwMDAwLFxuICAgICAgICBjbGVhckJlZm9yZVJlbmRlcjogdHJ1ZSxcbiAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6IDgwMCxcbiAgICAgICAgaGVpZ2h0OiA2MDAsXG4gICAgICAgIGxlZ2FjeTogZmFsc2UsXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgR0NfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuR0NfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5HQ19NT0RFUy5BVVRPXG4gICAgICovXG4gICAgR0NfTU9ERTogMCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heCBpZGxlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9JRExFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDM2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfSURMRTogNjAgKiA2MCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heGltdW0gY2hlY2sgY291bnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgR0NfTUFYX0NIRUNLX0NPVU5UXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqL1xuICAgIEdDX01BWF9DSEVDS19DT1VOVDogNjAgKiAxMCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgd3JhcCBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBXUkFQX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLldSQVBfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5XUkFQX01PREVTLkNMQU1QXG4gICAgICovXG4gICAgV1JBUF9NT0RFOiAzMzA3MSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc2NhbGUgbW9kZSBmb3IgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgU0NBTEVfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5TQ0FMRV9NT0RFUy5MSU5FQVJcbiAgICAgKi9cbiAgICBTQ0FMRV9NT0RFOiAxLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFBSRUNJU0lPTl9WRVJURVhcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5ISUdIXG4gICAgICovXG4gICAgUFJFQ0lTSU9OX1ZFUlRFWDogJ2hpZ2hwJyxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIGlPUyBpcyBiZXN0IHNldCBhdCBoaWdocCBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8zNzQyXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUFJFQ0lTSU9OX0ZSQUdNRU5UXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uTUVESVVNXG4gICAgICovXG4gICAgUFJFQ0lTSU9OX0ZSQUdNRU5UOiBpc01vYmlsZS5hcHBsZS5kZXZpY2UgPyAnaGlnaHAnIDogJ21lZGl1bXAnLFxuXG4gICAgLyoqXG4gICAgICogQ2FuIHdlIHVwbG9hZCB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWU/XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUjogY2FuVXBsb2FkU2FtZUJ1ZmZlcigpLFxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBiaXRtYXAgY3JlYXRpb24gYmVmb3JlIGltYWdlIGxvYWQuIFRoaXMgZmVhdHVyZSBpcyBleHBlcmltZW50YWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQ1JFQVRFX0lNQUdFX0JJVE1BUFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBDUkVBVEVfSU1BR0VfQklUTUFQOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIFJPVU5EX1BJWEVMUzogZmFsc2UsXG59O1xuIiwiaW1wb3J0IGlzTW9iaWxlIGZyb20gJ2lzbW9iaWxlanMnO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHJlY29tbWVuZGVkIHRleHR1cmUgdW5pdHMgdG8gdXNlLlxuICogSW4gdGhlb3J5IHRoZSBiaWdnZXIgdGhlIGJldHRlciwgYW5kIGZvciBkZXNrdG9wIHdlJ2xsIHVzZSBhcyBtYW55IGFzIHdlIGNhbi5cbiAqIEJ1dCBzb21lIG1vYmlsZSBkZXZpY2VzIHNsb3cgZG93biBpZiB0aGVyZSBpcyB0byBtYW55IGJyYW5jaGVzIGluIHRoZSBzaGFkZXIuXG4gKiBTbyBpbiBwcmFjdGljZSB0aGVyZSBzZWVtcyB0byBiZSBhIHN3ZWV0IHNwb3Qgc2l6ZSB0aGF0IHZhcmllcyBkZXBlbmRpbmcgb24gdGhlIGRldmljZS5cbiAqXG4gKiBJbiB2NCwgYWxsIG1vYmlsZSBkZXZpY2VzIHdlcmUgbGltaXRlZCB0byA0IHRleHR1cmUgdW5pdHMgYmVjYXVzZSBmb3IgdGhpcy5cbiAqIEluIHY1LCB3ZSBhbGxvdyBhbGwgdGV4dHVyZSB1bml0cyB0byBiZSB1c2VkIG9uIG1vZGVybiBBcHBsZSBvciBBbmRyb2lkIGRldmljZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1heFJlY29tbWVuZGVkVGV4dHVyZXMobWF4KVxue1xuICAgIGxldCBhbGxvd01heCA9IHRydWU7XG5cbiAgICBpZiAoaXNNb2JpbGUudGFibGV0IHx8IGlzTW9iaWxlLnBob25lKVxuICAgIHtcbiAgICAgICAgYWxsb3dNYXggPSBmYWxzZTtcblxuICAgICAgICBpZiAoaXNNb2JpbGUuYXBwbGUuZGV2aWNlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IChuYXZpZ2F0b3IudXNlckFnZW50KS5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKT8vKTtcblxuICAgICAgICAgICAgaWYgKG1hdGNoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBBbGwgdGV4dHVyZSB1bml0cyBjYW4gYmUgdXNlZCBvbiBkZXZpY2VzIHRoYXQgc3VwcG9ydCBpb3MgMTEgb3IgYWJvdmVcbiAgICAgICAgICAgICAgICBpZiAobWFqb3JWZXJzaW9uID49IDExKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNb2JpbGUuYW5kcm9pZC5kZXZpY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9BbmRyb2lkXFxzKFswLTkuXSopLyk7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYWpvclZlcnNpb24gPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuXG4gICAgICAgICAgICAgICAgLy8gQWxsIHRleHR1cmUgdW5pdHMgY2FuIGJlIHVzZWQgb24gZGV2aWNlcyB0aGF0IHN1cHBvcnQgQW5kcm9pZCA3IChOb3VnYXQpIG9yIGFib3ZlXG4gICAgICAgICAgICAgICAgaWYgKG1ham9yVmVyc2lvbiA+PSA3KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhbGxvd01heCA/IG1heCA6IDQ7XG59XG4iLCJpbXBvcnQgaXNNb2JpbGUgZnJvbSAnaXNtb2JpbGVqcyc7XG5cbi8qKlxuICogVXBsb2FkaW5nIHRoZSBzYW1lIGJ1ZmZlciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZSBmcmFtZSBjYW4gY2F1c2UgcGVyZm9ybWFuY2UgaXNzdWVzLlxuICogQXBwYXJlbnQgb24gaU9TIHNvIG9ubHkgY2hlY2sgZm9yIHRoYXQgYXQgdGhlIG1vbWVudFxuICogVGhpcyBjaGVjayBtYXkgYmVjb21lIG1vcmUgY29tcGxleCBpZiB0aGlzIGlzc3VlIHBvcHMgdXAgZWxzZXdoZXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2FuVXBsb2FkU2FtZUJ1ZmZlcigpXG57XG4gICAgcmV0dXJuICFpc01vYmlsZS5hcHBsZS5kZXZpY2U7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZWFyY3V0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGVhcmN1dDtcblxuZnVuY3Rpb24gZWFyY3V0KGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0pIHtcblxuICAgIGRpbSA9IGRpbSB8fCAyO1xuXG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoLFxuICAgICAgICBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJOb2RlID0gbGlua2VkTGlzdChkYXRhLCAwLCBvdXRlckxlbiwgZGltLCB0cnVlKSxcbiAgICAgICAgdHJpYW5nbGVzID0gW107XG5cbiAgICBpZiAoIW91dGVyTm9kZSB8fCBvdXRlck5vZGUubmV4dCA9PT0gb3V0ZXJOb2RlLnByZXYpIHJldHVybiB0cmlhbmdsZXM7XG5cbiAgICB2YXIgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgeCwgeSwgaW52U2l6ZTtcblxuICAgIGlmIChoYXNIb2xlcykgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKTtcblxuICAgIC8vIGlmIHRoZSBzaGFwZSBpcyBub3QgdG9vIHNpbXBsZSwgd2UnbGwgdXNlIHotb3JkZXIgY3VydmUgaGFzaCBsYXRlcjsgY2FsY3VsYXRlIHBvbHlnb24gYmJveFxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDgwICogZGltKSB7XG4gICAgICAgIG1pblggPSBtYXhYID0gZGF0YVswXTtcbiAgICAgICAgbWluWSA9IG1heFkgPSBkYXRhWzFdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaW07IGkgPCBvdXRlckxlbjsgaSArPSBkaW0pIHtcbiAgICAgICAgICAgIHggPSBkYXRhW2ldO1xuICAgICAgICAgICAgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgaWYgKHggPCBtaW5YKSBtaW5YID0geDtcbiAgICAgICAgICAgIGlmICh5IDwgbWluWSkgbWluWSA9IHk7XG4gICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPiBtYXhZKSBtYXhZID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1pblgsIG1pblkgYW5kIGludlNpemUgYXJlIGxhdGVyIHVzZWQgdG8gdHJhbnNmb3JtIGNvb3JkcyBpbnRvIGludGVnZXJzIGZvciB6LW9yZGVyIGNhbGN1bGF0aW9uXG4gICAgICAgIGludlNpemUgPSBNYXRoLm1heChtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgICAgICBpbnZTaXplID0gaW52U2l6ZSAhPT0gMCA/IDEgLyBpbnZTaXplIDogMDtcbiAgICB9XG5cbiAgICBlYXJjdXRMaW5rZWQob3V0ZXJOb2RlLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICByZXR1cm4gdHJpYW5nbGVzO1xufVxuXG4vLyBjcmVhdGUgYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QgZnJvbSBwb2x5Z29uIHBvaW50cyBpbiB0aGUgc3BlY2lmaWVkIHdpbmRpbmcgb3JkZXJcbmZ1bmN0aW9uIGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgaSwgbGFzdDtcblxuICAgIGlmIChjbG9ja3dpc2UgPT09IChzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkgPiAwKSkge1xuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSBlbmQgLSBkaW07IGkgPj0gc3RhcnQ7IGkgLT0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfVxuXG4gICAgaWYgKGxhc3QgJiYgZXF1YWxzKGxhc3QsIGxhc3QubmV4dCkpIHtcbiAgICAgICAgcmVtb3ZlTm9kZShsYXN0KTtcbiAgICAgICAgbGFzdCA9IGxhc3QubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdDtcbn1cblxuLy8gZWxpbWluYXRlIGNvbGluZWFyIG9yIGR1cGxpY2F0ZSBwb2ludHNcbmZ1bmN0aW9uIGZpbHRlclBvaW50cyhzdGFydCwgZW5kKSB7XG4gICAgaWYgKCFzdGFydCkgcmV0dXJuIHN0YXJ0O1xuICAgIGlmICghZW5kKSBlbmQgPSBzdGFydDtcblxuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGFnYWluO1xuICAgIGRvIHtcbiAgICAgICAgYWdhaW4gPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXAuc3RlaW5lciAmJiAoZXF1YWxzKHAsIHAubmV4dCkgfHwgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPT09IDApKSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcCA9IGVuZCA9IHAucHJldjtcbiAgICAgICAgICAgIGlmIChwID09PSBwLm5leHQpIGJyZWFrO1xuICAgICAgICAgICAgYWdhaW4gPSB0cnVlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwID0gcC5uZXh0O1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoYWdhaW4gfHwgcCAhPT0gZW5kKTtcblxuICAgIHJldHVybiBlbmQ7XG59XG5cbi8vIG1haW4gZWFyIHNsaWNpbmcgbG9vcCB3aGljaCB0cmlhbmd1bGF0ZXMgYSBwb2x5Z29uIChnaXZlbiBhcyBhIGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIHBhc3MpIHtcbiAgICBpZiAoIWVhcikgcmV0dXJuO1xuXG4gICAgLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuICAgIGlmICghcGFzcyAmJiBpbnZTaXplKSBpbmRleEN1cnZlKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgc3RvcCA9IGVhcixcbiAgICAgICAgcHJldiwgbmV4dDtcblxuICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBlYXJzLCBzbGljaW5nIHRoZW0gb25lIGJ5IG9uZVxuICAgIHdoaWxlIChlYXIucHJldiAhPT0gZWFyLm5leHQpIHtcbiAgICAgICAgcHJldiA9IGVhci5wcmV2O1xuICAgICAgICBuZXh0ID0gZWFyLm5leHQ7XG5cbiAgICAgICAgaWYgKGludlNpemUgPyBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIDogaXNFYXIoZWFyKSkge1xuICAgICAgICAgICAgLy8gY3V0IG9mZiB0aGUgdHJpYW5nbGVcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHByZXYuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChlYXIuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChuZXh0LmkgLyBkaW0pO1xuXG4gICAgICAgICAgICByZW1vdmVOb2RlKGVhcik7XG5cbiAgICAgICAgICAgIC8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRleCBsZWFkcyB0byBsZXNzIHNsaXZlciB0cmlhbmdsZXNcbiAgICAgICAgICAgIGVhciA9IG5leHQubmV4dDtcbiAgICAgICAgICAgIHN0b3AgPSBuZXh0Lm5leHQ7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZWFyID0gbmV4dDtcblxuICAgICAgICAvLyBpZiB3ZSBsb29wZWQgdGhyb3VnaCB0aGUgd2hvbGUgcmVtYWluaW5nIHBvbHlnb24gYW5kIGNhbid0IGZpbmQgYW55IG1vcmUgZWFyc1xuICAgICAgICBpZiAoZWFyID09PSBzdG9wKSB7XG4gICAgICAgICAgICAvLyB0cnkgZmlsdGVyaW5nIHBvaW50cyBhbmQgc2xpY2luZyBhZ2FpblxuICAgICAgICAgICAgaWYgKCFwYXNzKSB7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMSk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZGlkbid0IHdvcmssIHRyeSBjdXJpbmcgYWxsIHNtYWxsIHNlbGYtaW50ZXJzZWN0aW9ucyBsb2NhbGx5XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBlYXIgPSBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKGVhciwgdHJpYW5nbGVzLCBkaW0pO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAyKTtcblxuICAgICAgICAgICAgLy8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMikge1xuICAgICAgICAgICAgICAgIHNwbGl0RWFyY3V0KGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gY2hlY2sgd2hldGhlciBhIHBvbHlnb24gbm9kZSBmb3JtcyBhIHZhbGlkIGVhciB3aXRoIGFkamFjZW50IG5vZGVzXG5mdW5jdGlvbiBpc0VhcihlYXIpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhclxuICAgIHZhciBwID0gZWFyLm5leHQubmV4dDtcblxuICAgIHdoaWxlIChwICE9PSBlYXIucHJldikge1xuICAgICAgICBpZiAocG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciBtaW5UWCA9IGEueCA8IGIueCA/IChhLnggPCBjLnggPyBhLnggOiBjLngpIDogKGIueCA8IGMueCA/IGIueCA6IGMueCksXG4gICAgICAgIG1pblRZID0gYS55IDwgYi55ID8gKGEueSA8IGMueSA/IGEueSA6IGMueSkgOiAoYi55IDwgYy55ID8gYi55IDogYy55KSxcbiAgICAgICAgbWF4VFggPSBhLnggPiBiLnggPyAoYS54ID4gYy54ID8gYS54IDogYy54KSA6IChiLnggPiBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtYXhUWSA9IGEueSA+IGIueSA/IChhLnkgPiBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA+IGMueSA/IGIueSA6IGMueSk7XG5cbiAgICAvLyB6LW9yZGVyIHJhbmdlIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZSBiYm94O1xuICAgIHZhciBtaW5aID0gek9yZGVyKG1pblRYLCBtaW5UWSwgbWluWCwgbWluWSwgaW52U2l6ZSksXG4gICAgICAgIG1heFogPSB6T3JkZXIobWF4VFgsIG1heFRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBwID0gZWFyLnByZXZaLFxuICAgICAgICBuID0gZWFyLm5leHRaO1xuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gYm90aCBkaXJlY3Rpb25zXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblogJiYgbiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAocCAhPT0gZWFyLnByZXYgJiYgcCAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG5cbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xuZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhzdGFydCwgdHJpYW5nbGVzLCBkaW0pIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGEgPSBwLnByZXYsXG4gICAgICAgICAgICBiID0gcC5uZXh0Lm5leHQ7XG5cbiAgICAgICAgaWYgKCFlcXVhbHMoYSwgYikgJiYgaW50ZXJzZWN0cyhhLCBwLCBwLm5leHQsIGIpICYmIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSkge1xuXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocC5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGIuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0d28gbm9kZXMgaW52b2x2ZWRcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XG5cbiAgICAgICAgICAgIHAgPSBzdGFydCA9IGI7XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gcDtcbn1cblxuLy8gdHJ5IHNwbGl0dGluZyBwb2x5Z29uIGludG8gdHdvIGFuZCB0cmlhbmd1bGF0ZSB0aGVtIGluZGVwZW5kZW50bHlcbmZ1bmN0aW9uIHNwbGl0RWFyY3V0KHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGxvb2sgZm9yIGEgdmFsaWQgZGlhZ29uYWwgdGhhdCBkaXZpZGVzIHRoZSBwb2x5Z29uIGludG8gdHdvXG4gICAgdmFyIGEgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBiID0gYS5uZXh0Lm5leHQ7XG4gICAgICAgIHdoaWxlIChiICE9PSBhLnByZXYpIHtcbiAgICAgICAgICAgIGlmIChhLmkgIT09IGIuaSAmJiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikpIHtcbiAgICAgICAgICAgICAgICAvLyBzcGxpdCB0aGUgcG9seWdvbiBpbiB0d28gYnkgdGhlIGRpYWdvbmFsXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBzcGxpdFBvbHlnb24oYSwgYik7XG5cbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgY29saW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xuICAgICAgICAgICAgICAgIGEgPSBmaWx0ZXJQb2ludHMoYSwgYS5uZXh0KTtcbiAgICAgICAgICAgICAgICBjID0gZmlsdGVyUG9pbnRzKGMsIGMubmV4dCk7XG5cbiAgICAgICAgICAgICAgICAvLyBydW4gZWFyY3V0IG9uIGVhY2ggaGFsZlxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChhLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGMsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiID0gYi5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGEgPSBhLm5leHQ7XG4gICAgfSB3aGlsZSAoYSAhPT0gc3RhcnQpO1xufVxuXG4vLyBsaW5rIGV2ZXJ5IGhvbGUgaW50byB0aGUgb3V0ZXIgbG9vcCwgcHJvZHVjaW5nIGEgc2luZ2xlLXJpbmcgcG9seWdvbiB3aXRob3V0IGhvbGVzXG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pIHtcbiAgICB2YXIgcXVldWUgPSBbXSxcbiAgICAgICAgaSwgbGVuLCBzdGFydCwgZW5kLCBsaXN0O1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgbGlzdCA9IGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBmYWxzZSk7XG4gICAgICAgIGlmIChsaXN0ID09PSBsaXN0Lm5leHQpIGxpc3Quc3RlaW5lciA9IHRydWU7XG4gICAgICAgIHF1ZXVlLnB1c2goZ2V0TGVmdG1vc3QobGlzdCkpO1xuICAgIH1cblxuICAgIHF1ZXVlLnNvcnQoY29tcGFyZVgpO1xuXG4gICAgLy8gcHJvY2VzcyBob2xlcyBmcm9tIGxlZnQgdG8gcmlnaHRcbiAgICBmb3IgKGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxpbWluYXRlSG9sZShxdWV1ZVtpXSwgb3V0ZXJOb2RlKTtcbiAgICAgICAgb3V0ZXJOb2RlID0gZmlsdGVyUG9pbnRzKG91dGVyTm9kZSwgb3V0ZXJOb2RlLm5leHQpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRlck5vZGU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVYKGEsIGIpIHtcbiAgICByZXR1cm4gYS54IC0gYi54O1xufVxuXG4vLyBmaW5kIGEgYnJpZGdlIGJldHdlZW4gdmVydGljZXMgdGhhdCBjb25uZWN0cyBob2xlIHdpdGggYW4gb3V0ZXIgcmluZyBhbmQgYW5kIGxpbmsgaXRcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGUoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgb3V0ZXJOb2RlID0gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKTtcbiAgICBpZiAob3V0ZXJOb2RlKSB7XG4gICAgICAgIHZhciBiID0gc3BsaXRQb2x5Z29uKG91dGVyTm9kZSwgaG9sZSk7XG4gICAgICAgIGZpbHRlclBvaW50cyhiLCBiLm5leHQpO1xuICAgIH1cbn1cblxuLy8gRGF2aWQgRWJlcmx5J3MgYWxnb3JpdGhtIGZvciBmaW5kaW5nIGEgYnJpZGdlIGJldHdlZW4gaG9sZSBhbmQgb3V0ZXIgcG9seWdvblxuZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgdmFyIHAgPSBvdXRlck5vZGUsXG4gICAgICAgIGh4ID0gaG9sZS54LFxuICAgICAgICBoeSA9IGhvbGUueSxcbiAgICAgICAgcXggPSAtSW5maW5pdHksXG4gICAgICAgIG07XG5cbiAgICAvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7XG4gICAgLy8gc2VnbWVudCdzIGVuZHBvaW50IHdpdGggbGVzc2VyIHggd2lsbCBiZSBwb3RlbnRpYWwgY29ubmVjdGlvbiBwb2ludFxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh5IDw9IHAueSAmJiBoeSA+PSBwLm5leHQueSAmJiBwLm5leHQueSAhPT0gcC55KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHAueCArIChoeSAtIHAueSkgKiAocC5uZXh0LnggLSBwLngpIC8gKHAubmV4dC55IC0gcC55KTtcbiAgICAgICAgICAgIGlmICh4IDw9IGh4ICYmIHggPiBxeCkge1xuICAgICAgICAgICAgICAgIHF4ID0geDtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gaHgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLnkpIHJldHVybiBwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHkgPT09IHAubmV4dC55KSByZXR1cm4gcC5uZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtID0gcC54IDwgcC5uZXh0LnggPyBwIDogcC5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gb3V0ZXJOb2RlKTtcblxuICAgIGlmICghbSkgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAoaHggPT09IHF4KSByZXR1cm4gbS5wcmV2OyAvLyBob2xlIHRvdWNoZXMgb3V0ZXIgc2VnbWVudDsgcGljayBsb3dlciBlbmRwb2ludFxuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgb2YgaG9sZSBwb2ludCwgc2VnbWVudCBpbnRlcnNlY3Rpb24gYW5kIGVuZHBvaW50O1xuICAgIC8vIGlmIHRoZXJlIGFyZSBubyBwb2ludHMgZm91bmQsIHdlIGhhdmUgYSB2YWxpZCBjb25uZWN0aW9uO1xuICAgIC8vIG90aGVyd2lzZSBjaG9vc2UgdGhlIHBvaW50IG9mIHRoZSBtaW5pbXVtIGFuZ2xlIHdpdGggdGhlIHJheSBhcyBjb25uZWN0aW9uIHBvaW50XG5cbiAgICB2YXIgc3RvcCA9IG0sXG4gICAgICAgIG14ID0gbS54LFxuICAgICAgICBteSA9IG0ueSxcbiAgICAgICAgdGFuTWluID0gSW5maW5pdHksXG4gICAgICAgIHRhbjtcblxuICAgIHAgPSBtLm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gc3RvcCkge1xuICAgICAgICBpZiAoaHggPj0gcC54ICYmIHAueCA+PSBteCAmJiBoeCAhPT0gcC54ICYmXG4gICAgICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGh5IDwgbXkgPyBoeCA6IHF4LCBoeSwgbXgsIG15LCBoeSA8IG15ID8gcXggOiBoeCwgaHksIHAueCwgcC55KSkge1xuXG4gICAgICAgICAgICB0YW4gPSBNYXRoLmFicyhoeSAtIHAueSkgLyAoaHggLSBwLngpOyAvLyB0YW5nZW50aWFsXG5cbiAgICAgICAgICAgIGlmICgodGFuIDwgdGFuTWluIHx8ICh0YW4gPT09IHRhbk1pbiAmJiBwLnggPiBtLngpKSAmJiBsb2NhbGx5SW5zaWRlKHAsIGhvbGUpKSB7XG4gICAgICAgICAgICAgICAgbSA9IHA7XG4gICAgICAgICAgICAgICAgdGFuTWluID0gdGFuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuZnVuY3Rpb24gaW5kZXhDdXJ2ZShzdGFydCwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIHZhciBwID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC56ID09PSBudWxsKSBwLnogPSB6T3JkZXIocC54LCBwLnksIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICBwLnByZXZaID0gcC5wcmV2O1xuICAgICAgICBwLm5leHRaID0gcC5uZXh0O1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHAucHJldloubmV4dFogPSBudWxsO1xuICAgIHAucHJldlogPSBudWxsO1xuXG4gICAgc29ydExpbmtlZChwKTtcbn1cblxuLy8gU2ltb24gVGF0aGFtJ3MgbGlua2VkIGxpc3QgbWVyZ2Ugc29ydCBhbGdvcml0aG1cbi8vIGh0dHA6Ly93d3cuY2hpYXJrLmdyZWVuZW5kLm9yZy51ay9+c2d0YXRoYW0vYWxnb3JpdGhtcy9saXN0c29ydC5odG1sXG5mdW5jdGlvbiBzb3J0TGlua2VkKGxpc3QpIHtcbiAgICB2YXIgaSwgcCwgcSwgZSwgdGFpbCwgbnVtTWVyZ2VzLCBwU2l6ZSwgcVNpemUsXG4gICAgICAgIGluU2l6ZSA9IDE7XG5cbiAgICBkbyB7XG4gICAgICAgIHAgPSBsaXN0O1xuICAgICAgICBsaXN0ID0gbnVsbDtcbiAgICAgICAgdGFpbCA9IG51bGw7XG4gICAgICAgIG51bU1lcmdlcyA9IDA7XG5cbiAgICAgICAgd2hpbGUgKHApIHtcbiAgICAgICAgICAgIG51bU1lcmdlcysrO1xuICAgICAgICAgICAgcSA9IHA7XG4gICAgICAgICAgICBwU2l6ZSA9IDA7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5TaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwU2l6ZSsrO1xuICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgIGlmICghcSkgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxU2l6ZSA9IGluU2l6ZTtcblxuICAgICAgICAgICAgd2hpbGUgKHBTaXplID4gMCB8fCAocVNpemUgPiAwICYmIHEpKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAocFNpemUgIT09IDAgJiYgKHFTaXplID09PSAwIHx8ICFxIHx8IHAueiA8PSBxLnopKSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBwO1xuICAgICAgICAgICAgICAgICAgICBwID0gcC5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcFNpemUtLTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlID0gcTtcbiAgICAgICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHFTaXplLS07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRhaWwpIHRhaWwubmV4dFogPSBlO1xuICAgICAgICAgICAgICAgIGVsc2UgbGlzdCA9IGU7XG5cbiAgICAgICAgICAgICAgICBlLnByZXZaID0gdGFpbDtcbiAgICAgICAgICAgICAgICB0YWlsID0gZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcCA9IHE7XG4gICAgICAgIH1cblxuICAgICAgICB0YWlsLm5leHRaID0gbnVsbDtcbiAgICAgICAgaW5TaXplICo9IDI7XG5cbiAgICB9IHdoaWxlIChudW1NZXJnZXMgPiAxKTtcblxuICAgIHJldHVybiBsaXN0O1xufVxuXG4vLyB6LW9yZGVyIG9mIGEgcG9pbnQgZ2l2ZW4gY29vcmRzIGFuZCBpbnZlcnNlIG9mIHRoZSBsb25nZXIgc2lkZSBvZiBkYXRhIGJib3hcbmZ1bmN0aW9uIHpPcmRlcih4LCB5LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gY29vcmRzIGFyZSB0cmFuc2Zvcm1lZCBpbnRvIG5vbi1uZWdhdGl2ZSAxNS1iaXQgaW50ZWdlciByYW5nZVxuICAgIHggPSAzMjc2NyAqICh4IC0gbWluWCkgKiBpbnZTaXplO1xuICAgIHkgPSAzMjc2NyAqICh5IC0gbWluWSkgKiBpbnZTaXplO1xuXG4gICAgeCA9ICh4IHwgKHggPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB4ID0gKHggfCAoeCA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHggPSAoeCB8ICh4IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeCA9ICh4IHwgKHggPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHkgPSAoeSB8ICh5IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeSA9ICh5IHwgKHkgPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB5ID0gKHkgfCAoeSA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHkgPSAoeSB8ICh5IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICByZXR1cm4geCB8ICh5IDw8IDEpO1xufVxuXG4vLyBmaW5kIHRoZSBsZWZ0bW9zdCBub2RlIG9mIGEgcG9seWdvbiByaW5nXG5mdW5jdGlvbiBnZXRMZWZ0bW9zdChzdGFydCkge1xuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGxlZnRtb3N0ID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC54IDwgbGVmdG1vc3QueCB8fCAocC54ID09PSBsZWZ0bW9zdC54ICYmIHAueSA8IGxlZnRtb3N0LnkpKSBsZWZ0bW9zdCA9IHA7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIGxlZnRtb3N0O1xufVxuXG4vLyBjaGVjayBpZiBhIHBvaW50IGxpZXMgd2l0aGluIGEgY29udmV4IHRyaWFuZ2xlXG5mdW5jdGlvbiBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcHgsIHB5KSB7XG4gICAgcmV0dXJuIChjeCAtIHB4KSAqIChheSAtIHB5KSAtIChheCAtIHB4KSAqIChjeSAtIHB5KSA+PSAwICYmXG4gICAgICAgICAgIChheCAtIHB4KSAqIChieSAtIHB5KSAtIChieCAtIHB4KSAqIChheSAtIHB5KSA+PSAwICYmXG4gICAgICAgICAgIChieCAtIHB4KSAqIChjeSAtIHB5KSAtIChjeCAtIHB4KSAqIChieSAtIHB5KSA+PSAwO1xufVxuXG4vLyBjaGVjayBpZiBhIGRpYWdvbmFsIGJldHdlZW4gdHdvIHBvbHlnb24gbm9kZXMgaXMgdmFsaWQgKGxpZXMgaW4gcG9seWdvbiBpbnRlcmlvcilcbmZ1bmN0aW9uIGlzVmFsaWREaWFnb25hbChhLCBiKSB7XG4gICAgcmV0dXJuIGEubmV4dC5pICE9PSBiLmkgJiYgYS5wcmV2LmkgIT09IGIuaSAmJiAhaW50ZXJzZWN0c1BvbHlnb24oYSwgYikgJiZcbiAgICAgICAgICAgbG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpICYmIG1pZGRsZUluc2lkZShhLCBiKTtcbn1cblxuLy8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZVxuZnVuY3Rpb24gYXJlYShwLCBxLCByKSB7XG4gICAgcmV0dXJuIChxLnkgLSBwLnkpICogKHIueCAtIHEueCkgLSAocS54IC0gcC54KSAqIChyLnkgLSBxLnkpO1xufVxuXG4vLyBjaGVjayBpZiB0d28gcG9pbnRzIGFyZSBlcXVhbFxuZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xuICAgIHJldHVybiBwMS54ID09PSBwMi54ICYmIHAxLnkgPT09IHAyLnk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBzZWdtZW50cyBpbnRlcnNlY3RcbmZ1bmN0aW9uIGludGVyc2VjdHMocDEsIHExLCBwMiwgcTIpIHtcbiAgICBpZiAoKGVxdWFscyhwMSwgcTEpICYmIGVxdWFscyhwMiwgcTIpKSB8fFxuICAgICAgICAoZXF1YWxzKHAxLCBxMikgJiYgZXF1YWxzKHAyLCBxMSkpKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gYXJlYShwMSwgcTEsIHAyKSA+IDAgIT09IGFyZWEocDEsIHExLCBxMikgPiAwICYmXG4gICAgICAgICAgIGFyZWEocDIsIHEyLCBwMSkgPiAwICE9PSBhcmVhKHAyLCBxMiwgcTEpID4gMDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGludGVyc2VjdHMgYW55IHBvbHlnb24gc2VnbWVudHNcbmZ1bmN0aW9uIGludGVyc2VjdHNQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgcCA9IGE7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC5pICE9PSBhLmkgJiYgcC5uZXh0LmkgIT09IGEuaSAmJiBwLmkgIT09IGIuaSAmJiBwLm5leHQuaSAhPT0gYi5pICYmXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0cyhwLCBwLm5leHQsIGEsIGIpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGxvY2FsbHkgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBsb2NhbGx5SW5zaWRlKGEsIGIpIHtcbiAgICByZXR1cm4gYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPCAwID9cbiAgICAgICAgYXJlYShhLCBiLCBhLm5leHQpID49IDAgJiYgYXJlYShhLCBhLnByZXYsIGIpID49IDAgOlxuICAgICAgICBhcmVhKGEsIGIsIGEucHJldikgPCAwIHx8IGFyZWEoYSwgYS5uZXh0LCBiKSA8IDA7XG59XG5cbi8vIGNoZWNrIGlmIHRoZSBtaWRkbGUgcG9pbnQgb2YgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbWlkZGxlSW5zaWRlKGEsIGIpIHtcbiAgICB2YXIgcCA9IGEsXG4gICAgICAgIGluc2lkZSA9IGZhbHNlLFxuICAgICAgICBweCA9IChhLnggKyBiLngpIC8gMixcbiAgICAgICAgcHkgPSAoYS55ICsgYi55KSAvIDI7XG4gICAgZG8ge1xuICAgICAgICBpZiAoKChwLnkgPiBweSkgIT09IChwLm5leHQueSA+IHB5KSkgJiYgcC5uZXh0LnkgIT09IHAueSAmJlxuICAgICAgICAgICAgICAgIChweCA8IChwLm5leHQueCAtIHAueCkgKiAocHkgLSBwLnkpIC8gKHAubmV4dC55IC0gcC55KSArIHAueCkpXG4gICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGluc2lkZTtcbn1cblxuLy8gbGluayB0d28gcG9seWdvbiB2ZXJ0aWNlcyB3aXRoIGEgYnJpZGdlOyBpZiB0aGUgdmVydGljZXMgYmVsb25nIHRvIHRoZSBzYW1lIHJpbmcsIGl0IHNwbGl0cyBwb2x5Z29uIGludG8gdHdvO1xuLy8gaWYgb25lIGJlbG9uZ3MgdG8gdGhlIG91dGVyIHJpbmcgYW5kIGFub3RoZXIgdG8gYSBob2xlLCBpdCBtZXJnZXMgaXQgaW50byBhIHNpbmdsZSByaW5nXG5mdW5jdGlvbiBzcGxpdFBvbHlnb24oYSwgYikge1xuICAgIHZhciBhMiA9IG5ldyBOb2RlKGEuaSwgYS54LCBhLnkpLFxuICAgICAgICBiMiA9IG5ldyBOb2RlKGIuaSwgYi54LCBiLnkpLFxuICAgICAgICBhbiA9IGEubmV4dCxcbiAgICAgICAgYnAgPSBiLnByZXY7XG5cbiAgICBhLm5leHQgPSBiO1xuICAgIGIucHJldiA9IGE7XG5cbiAgICBhMi5uZXh0ID0gYW47XG4gICAgYW4ucHJldiA9IGEyO1xuXG4gICAgYjIubmV4dCA9IGEyO1xuICAgIGEyLnByZXYgPSBiMjtcblxuICAgIGJwLm5leHQgPSBiMjtcbiAgICBiMi5wcmV2ID0gYnA7XG5cbiAgICByZXR1cm4gYjI7XG59XG5cbi8vIGNyZWF0ZSBhIG5vZGUgYW5kIG9wdGlvbmFsbHkgbGluayBpdCB3aXRoIHByZXZpb3VzIG9uZSAoaW4gYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBpbnNlcnROb2RlKGksIHgsIHksIGxhc3QpIHtcbiAgICB2YXIgcCA9IG5ldyBOb2RlKGksIHgsIHkpO1xuXG4gICAgaWYgKCFsYXN0KSB7XG4gICAgICAgIHAucHJldiA9IHA7XG4gICAgICAgIHAubmV4dCA9IHA7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBwLm5leHQgPSBsYXN0Lm5leHQ7XG4gICAgICAgIHAucHJldiA9IGxhc3Q7XG4gICAgICAgIGxhc3QubmV4dC5wcmV2ID0gcDtcbiAgICAgICAgbGFzdC5uZXh0ID0gcDtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU5vZGUocCkge1xuICAgIHAubmV4dC5wcmV2ID0gcC5wcmV2O1xuICAgIHAucHJldi5uZXh0ID0gcC5uZXh0O1xuXG4gICAgaWYgKHAucHJldlopIHAucHJldloubmV4dFogPSBwLm5leHRaO1xuICAgIGlmIChwLm5leHRaKSBwLm5leHRaLnByZXZaID0gcC5wcmV2Wjtcbn1cblxuZnVuY3Rpb24gTm9kZShpLCB4LCB5KSB7XG4gICAgLy8gdmVydGV4IGluZGV4IGluIGNvb3JkaW5hdGVzIGFycmF5XG4gICAgdGhpcy5pID0gaTtcblxuICAgIC8vIHZlcnRleCBjb29yZGluYXRlc1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IHZlcnRleCBub2RlcyBpbiBhIHBvbHlnb24gcmluZ1xuICAgIHRoaXMucHJldiA9IG51bGw7XG4gICAgdGhpcy5uZXh0ID0gbnVsbDtcblxuICAgIC8vIHotb3JkZXIgY3VydmUgdmFsdWVcbiAgICB0aGlzLnogPSBudWxsO1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgbm9kZXMgaW4gei1vcmRlclxuICAgIHRoaXMucHJldlogPSBudWxsO1xuICAgIHRoaXMubmV4dFogPSBudWxsO1xuXG4gICAgLy8gaW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyBhIHN0ZWluZXIgcG9pbnRcbiAgICB0aGlzLnN0ZWluZXIgPSBmYWxzZTtcbn1cblxuLy8gcmV0dXJuIGEgcGVyY2VudGFnZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHBvbHlnb24gYXJlYSBhbmQgaXRzIHRyaWFuZ3VsYXRpb24gYXJlYTtcbi8vIHVzZWQgdG8gdmVyaWZ5IGNvcnJlY3RuZXNzIG9mIHRyaWFuZ3VsYXRpb25cbmVhcmN1dC5kZXZpYXRpb24gPSBmdW5jdGlvbiAoZGF0YSwgaG9sZUluZGljZXMsIGRpbSwgdHJpYW5nbGVzKSB7XG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoO1xuICAgIHZhciBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcblxuICAgIHZhciBwb2x5Z29uQXJlYSA9IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSkpO1xuICAgIGlmIChoYXNIb2xlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBwb2x5Z29uQXJlYSAtPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRyaWFuZ2xlc0FyZWEgPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgdmFyIGEgPSB0cmlhbmdsZXNbaV0gKiBkaW07XG4gICAgICAgIHZhciBiID0gdHJpYW5nbGVzW2kgKyAxXSAqIGRpbTtcbiAgICAgICAgdmFyIGMgPSB0cmlhbmdsZXNbaSArIDJdICogZGltO1xuICAgICAgICB0cmlhbmdsZXNBcmVhICs9IE1hdGguYWJzKFxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2NdKSAqIChkYXRhW2IgKyAxXSAtIGRhdGFbYSArIDFdKSAtXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbYl0pICogKGRhdGFbYyArIDFdIC0gZGF0YVthICsgMV0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9seWdvbkFyZWEgPT09IDAgJiYgdHJpYW5nbGVzQXJlYSA9PT0gMCA/IDAgOlxuICAgICAgICBNYXRoLmFicygodHJpYW5nbGVzQXJlYSAtIHBvbHlnb25BcmVhKSAvIHBvbHlnb25BcmVhKTtcbn07XG5cbmZ1bmN0aW9uIHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSB7XG4gICAgdmFyIHN1bSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0LCBqID0gZW5kIC0gZGltOyBpIDwgZW5kOyBpICs9IGRpbSkge1xuICAgICAgICBzdW0gKz0gKGRhdGFbal0gLSBkYXRhW2ldKSAqIChkYXRhW2kgKyAxXSArIGRhdGFbaiArIDFdKTtcbiAgICAgICAgaiA9IGk7XG4gICAgfVxuICAgIHJldHVybiBzdW07XG59XG5cbi8vIHR1cm4gYSBwb2x5Z29uIGluIGEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgZm9ybSAoZS5nLiBhcyBpbiBHZW9KU09OKSBpbnRvIGEgZm9ybSBFYXJjdXQgYWNjZXB0c1xuZWFyY3V0LmZsYXR0ZW4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHZhciBkaW0gPSBkYXRhWzBdWzBdLmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0ge3ZlcnRpY2VzOiBbXSwgaG9sZXM6IFtdLCBkaW1lbnNpb25zOiBkaW19LFxuICAgICAgICBob2xlSW5kZXggPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBkaW07IGQrKykgcmVzdWx0LnZlcnRpY2VzLnB1c2goZGF0YVtpXVtqXVtkXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBob2xlSW5kZXggKz0gZGF0YVtpIC0gMV0ubGVuZ3RoO1xuICAgICAgICAgICAgcmVzdWx0LmhvbGVzLnB1c2goaG9sZUluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuMy4yIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjMuMicsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHsgLy8gaW4gTm9kZS5qcyBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7IC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2UgeyAvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTdHJpbmc6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09PSBudWxsO1xuICB9LFxuICBpc051bGxPclVuZGVmaW5lZDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PSBudWxsO1xuICB9XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBvYmpba10ubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKHYpKTtcbiAgICAgICAgfSkuam9pbihzZXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmpba10pKTtcbiAgICAgIH1cbiAgICB9KS5qb2luKHNlcCk7XG5cbiAgfVxuXG4gIGlmICghbmFtZSkgcmV0dXJuICcnO1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShuYW1lKSkgKyBlcSArXG4gICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9iaikpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHB1bnljb2RlID0gcmVxdWlyZSgncHVueWNvZGUnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmV4cG9ydHMucGFyc2UgPSB1cmxQYXJzZTtcbmV4cG9ydHMucmVzb2x2ZSA9IHVybFJlc29sdmU7XG5leHBvcnRzLnJlc29sdmVPYmplY3QgPSB1cmxSZXNvbHZlT2JqZWN0O1xuZXhwb3J0cy5mb3JtYXQgPSB1cmxGb3JtYXQ7XG5cbmV4cG9ydHMuVXJsID0gVXJsO1xuXG5mdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgICBwb3J0UGF0dGVybiA9IC86WzAtOV0qJC8sXG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGEgc2ltcGxlIHBhdGggVVJMXG4gICAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgcmVzZXJ2ZWQgZm9yIGRlbGltaXRpbmcgVVJMcy5cbiAgICAvLyBXZSBhY3R1YWxseSBqdXN0IGF1dG8tZXNjYXBlIHRoZXNlLlxuICAgIGRlbGltcyA9IFsnPCcsICc+JywgJ1wiJywgJ2AnLCAnICcsICdcXHInLCAnXFxuJywgJ1xcdCddLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgbm90IGFsbG93ZWQgZm9yIHZhcmlvdXMgcmVhc29ucy5cbiAgICB1bndpc2UgPSBbJ3snLCAnfScsICd8JywgJ1xcXFwnLCAnXicsICdgJ10uY29uY2F0KGRlbGltcyksXG5cbiAgICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuXG4gICAgYXV0b0VzY2FwZSA9IFsnXFwnJ10uY29uY2F0KHVud2lzZSksXG4gICAgLy8gQ2hhcmFjdGVycyB0aGF0IGFyZSBuZXZlciBldmVyIGFsbG93ZWQgaW4gYSBob3N0bmFtZS5cbiAgICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlXG4gICAgLy8gYXJlIHRoZSBvbmVzIHRoYXQgYXJlICpleHBlY3RlZCogdG8gYmUgc2Vlbiwgc28gd2UgZmFzdC1wYXRoXG4gICAgLy8gdGhlbS5cbiAgICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgICBob3N0RW5kaW5nQ2hhcnMgPSBbJy8nLCAnPycsICcjJ10sXG4gICAgaG9zdG5hbWVNYXhMZW4gPSAyNTUsXG4gICAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLyxcbiAgICBob3N0bmFtZVBhcnRTdGFydCA9IC9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBjYW4gYWxsb3cgXCJ1bnNhZmVcIiBhbmQgXCJ1bndpc2VcIiBjaGFycy5cbiAgICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS5cbiAgICBob3N0bGVzc1Byb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gICAgc2xhc2hlZFByb3RvY29sID0ge1xuICAgICAgJ2h0dHAnOiB0cnVlLFxuICAgICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAgICdmdHAnOiB0cnVlLFxuICAgICAgJ2dvcGhlcic6IHRydWUsXG4gICAgICAnZmlsZSc6IHRydWUsXG4gICAgICAnaHR0cDonOiB0cnVlLFxuICAgICAgJ2h0dHBzOic6IHRydWUsXG4gICAgICAnZnRwOic6IHRydWUsXG4gICAgICAnZ29waGVyOic6IHRydWUsXG4gICAgICAnZmlsZTonOiB0cnVlXG4gICAgfSxcbiAgICBxdWVyeXN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiB1dGlsLmlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5cblVybC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICghdXRpbC5pc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIgKyB0eXBlb2YgdXJsKTtcbiAgfVxuXG4gIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLlxuICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcbiAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcbiAgdmFyIHF1ZXJ5SW5kZXggPSB1cmwuaW5kZXhPZignPycpLFxuICAgICAgc3BsaXR0ZXIgPVxuICAgICAgICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLFxuICAgICAgc2xhc2hSZWdleCA9IC9cXFxcL2c7XG4gIHVTcGxpdFswXSA9IHVTcGxpdFswXS5yZXBsYWNlKHNsYXNoUmVnZXgsICcvJyk7XG4gIHVybCA9IHVTcGxpdC5qb2luKHNwbGl0dGVyKTtcblxuICB2YXIgcmVzdCA9IHVybDtcblxuICAvLyB0cmltIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgcGFyc2Ugc3R1ZmYgbGlrZSBcIiAgaHR0cDovL2Zvby5jb20gIFxcblwiXG4gIHJlc3QgPSByZXN0LnRyaW0oKTtcblxuICBpZiAoIXNsYXNoZXNEZW5vdGVIb3N0ICYmIHVybC5zcGxpdCgnIycpLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFRyeSBmYXN0IHBhdGggcmVnZXhwXG4gICAgdmFyIHNpbXBsZVBhdGggPSBzaW1wbGVQYXRoUGF0dGVybi5leGVjKHJlc3QpO1xuICAgIGlmIChzaW1wbGVQYXRoKSB7XG4gICAgICB0aGlzLnBhdGggPSByZXN0O1xuICAgICAgdGhpcy5ocmVmID0gcmVzdDtcbiAgICAgIHRoaXMucGF0aG5hbWUgPSBzaW1wbGVQYXRoWzFdO1xuICAgICAgaWYgKHNpbXBsZVBhdGhbMl0pIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBzaW1wbGVQYXRoWzJdO1xuICAgICAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnNlYXJjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvdG8gPSBwcm90b2NvbFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgaWYgKHByb3RvKSB7XG4gICAgcHJvdG8gPSBwcm90b1swXTtcbiAgICB2YXIgbG93ZXJQcm90byA9IHByb3RvLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm90b2NvbCA9IGxvd2VyUHJvdG87XG4gICAgcmVzdCA9IHJlc3Quc3Vic3RyKHByb3RvLmxlbmd0aCk7XG4gIH1cblxuICAvLyBmaWd1cmUgb3V0IGlmIGl0J3MgZ290IGEgaG9zdFxuICAvLyB1c2VyQHNlcnZlciBpcyAqYWx3YXlzKiBpbnRlcnByZXRlZCBhcyBhIGhvc3RuYW1lLCBhbmQgdXJsXG4gIC8vIHJlc29sdXRpb24gd2lsbCB0cmVhdCAvL2Zvby9iYXIgYXMgaG9zdD1mb28scGF0aD1iYXIgYmVjYXVzZSB0aGF0J3NcbiAgLy8gaG93IHRoZSBicm93c2VyIHJlc29sdmVzIHJlbGF0aXZlIFVSTHMuXG4gIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSkge1xuICAgIHZhciBzbGFzaGVzID0gcmVzdC5zdWJzdHIoMCwgMikgPT09ICcvLyc7XG4gICAgaWYgKHNsYXNoZXMgJiYgIShwcm90byAmJiBob3N0bGVzc1Byb3RvY29sW3Byb3RvXSkpIHtcbiAgICAgIHJlc3QgPSByZXN0LnN1YnN0cigyKTtcbiAgICAgIHRoaXMuc2xhc2hlcyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFob3N0bGVzc1Byb3RvY29sW3Byb3RvXSAmJlxuICAgICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3N0RW5kaW5nQ2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2YoaG9zdEVuZGluZ0NoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG5cbiAgICAvLyBhdCB0aGlzIHBvaW50LCBlaXRoZXIgd2UgaGF2ZSBhbiBleHBsaWNpdCBwb2ludCB3aGVyZSB0aGVcbiAgICAvLyBhdXRoIHBvcnRpb24gY2Fubm90IGdvIHBhc3QsIG9yIHRoZSBsYXN0IEAgY2hhciBpcyB0aGUgZGVjaWRlci5cbiAgICB2YXIgYXV0aCwgYXRTaWduO1xuICAgIGlmIChob3N0RW5kID09PSAtMSkge1xuICAgICAgLy8gYXRTaWduIGNhbiBiZSBhbnl3aGVyZS5cbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLlxuICAgICAgLy8gaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGRcbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnLCBob3N0RW5kKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgaGF2ZSBhIHBvcnRpb24gd2hpY2ggaXMgZGVmaW5pdGVseSB0aGUgYXV0aC5cbiAgICAvLyBQdWxsIHRoYXQgb2ZmLlxuICAgIGlmIChhdFNpZ24gIT09IC0xKSB7XG4gICAgICBhdXRoID0gcmVzdC5zbGljZSgwLCBhdFNpZ24pO1xuICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoYXRTaWduICsgMSk7XG4gICAgICB0aGlzLmF1dGggPSBkZWNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGhvc3QgaXMgdGhlIHJlbWFpbmluZyB0byB0aGUgbGVmdCBvZiB0aGUgZmlyc3Qgbm9uLWhvc3QgY2hhclxuICAgIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihub25Ib3N0Q2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIG5vdCBoaXQgaXQsIHRoZW4gdGhlIGVudGlyZSB0aGluZyBpcyBhIGhvc3QuXG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKVxuICAgICAgaG9zdEVuZCA9IHJlc3QubGVuZ3RoO1xuXG4gICAgdGhpcy5ob3N0ID0gcmVzdC5zbGljZSgwLCBob3N0RW5kKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZShob3N0RW5kKTtcblxuICAgIC8vIHB1bGwgb3V0IHBvcnQuXG4gICAgdGhpcy5wYXJzZUhvc3QoKTtcblxuICAgIC8vIHdlJ3ZlIGluZGljYXRlZCB0aGF0IHRoZXJlIGlzIGEgaG9zdG5hbWUsXG4gICAgLy8gc28gZXZlbiBpZiBpdCdzIGVtcHR5LCBpdCBoYXMgdG8gYmUgcHJlc2VudC5cbiAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcblxuICAgIC8vIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdXG4gICAgLy8gYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuXG4gICAgdmFyIGlwdjZIb3N0bmFtZSA9IHRoaXMuaG9zdG5hbWVbMF0gPT09ICdbJyAmJlxuICAgICAgICB0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT09ICddJztcblxuICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLlxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB2YXIgaG9zdHBhcnRzID0gdGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGhvc3RwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBob3N0cGFydHNbaV07XG4gICAgICAgIGlmICghcGFydCkgY29udGludWU7XG4gICAgICAgIGlmICghcGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgIHZhciBuZXdwYXJ0ID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGsgPSBwYXJ0Lmxlbmd0aDsgaiA8IGs7IGorKykge1xuICAgICAgICAgICAgaWYgKHBhcnQuY2hhckNvZGVBdChqKSA+IDEyNykge1xuICAgICAgICAgICAgICAvLyB3ZSByZXBsYWNlIG5vbi1BU0NJSSBjaGFyIHdpdGggYSB0ZW1wb3JhcnkgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGlzIHRvIG1ha2Ugc3VyZSBzaXplIG9mIGhvc3RuYW1lIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBicm9rZW4gYnkgcmVwbGFjaW5nIG5vbi1BU0NJSSBieSBub3RoaW5nXG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gJ3gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3cGFydCArPSBwYXJ0W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3ZSB0ZXN0IGFnYWluIHdpdGggQVNDSUkgY2hhciBvbmx5XG4gICAgICAgICAgaWYgKCFuZXdwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXJ0cyA9IGhvc3RwYXJ0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIHZhciBub3RIb3N0ID0gaG9zdHBhcnRzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgICAgIHZhciBiaXQgPSBwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChiaXQpIHtcbiAgICAgICAgICAgICAgdmFsaWRQYXJ0cy5wdXNoKGJpdFsxXSk7XG4gICAgICAgICAgICAgIG5vdEhvc3QudW5zaGlmdChiaXRbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vdEhvc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlc3QgPSAnLycgKyBub3RIb3N0LmpvaW4oJy4nKSArIHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhvc3RuYW1lID0gdmFsaWRQYXJ0cy5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob3N0bmFtZS5sZW5ndGggPiBob3N0bmFtZU1heExlbikge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBob3N0bmFtZXMgYXJlIGFsd2F5cyBsb3dlciBjYXNlLlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgICAvLyBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0XG4gICAgICAvLyBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmXG4gICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5ob3N0bmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHAgPSB0aGlzLnBvcnQgPyAnOicgKyB0aGlzLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG4gICAgdGhpcy5ob3N0ID0gaCArIHA7XG4gICAgdGhpcy5ocmVmICs9IHRoaXMuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnN1YnN0cigxLCB0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF1dG9Fc2NhcGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYWUgPSBhdXRvRXNjYXBlW2ldO1xuICAgICAgaWYgKHJlc3QuaW5kZXhPZihhZSkgPT09IC0xKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpO1xuICAgICAgaWYgKGVzYyA9PT0gYWUpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGFlKTtcbiAgICAgIH1cbiAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7XG4gICAgfVxuICB9XG5cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHRoaXMucGF0aG5hbWUgPSByZXN0O1xuICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmXG4gICAgICB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgaWYgKHRoaXMucGF0aG5hbWUgfHwgdGhpcy5zZWFyY2gpIHtcbiAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgJyc7XG4gICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCAnJztcbiAgICB0aGlzLnBhdGggPSBwICsgcztcbiAgfVxuXG4gIC8vIGZpbmFsbHksIHJlY29uc3RydWN0IHRoZSBocmVmIGJhc2VkIG9uIHdoYXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICB0aGlzLmhyZWYgPSB0aGlzLmZvcm1hdCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGZvcm1hdCBhIHBhcnNlZCBvYmplY3QgaW50byBhIHVybCBzdHJpbmdcbmZ1bmN0aW9uIHVybEZvcm1hdChvYmopIHtcbiAgLy8gZW5zdXJlIGl0J3MgYW4gb2JqZWN0LCBhbmQgbm90IGEgc3RyaW5nIHVybC5cbiAgLy8gSWYgaXQncyBhbiBvYmosIHRoaXMgaXMgYSBuby1vcC5cbiAgLy8gdGhpcyB3YXksIHlvdSBjYW4gY2FsbCB1cmxfZm9ybWF0KCkgb24gc3RyaW5nc1xuICAvLyB0byBjbGVhbiB1cCBwb3RlbnRpYWxseSB3b25reSB1cmxzLlxuICBpZiAodXRpbC5pc1N0cmluZyhvYmopKSBvYmogPSB1cmxQYXJzZShvYmopO1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBVcmwpKSByZXR1cm4gVXJsLnByb3RvdHlwZS5mb3JtYXQuY2FsbChvYmopO1xuICByZXR1cm4gb2JqLmZvcm1hdCgpO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXV0aCA9IHRoaXMuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCB8fCAnJyxcbiAgICAgIHBhdGhuYW1lID0gdGhpcy5wYXRobmFtZSB8fCAnJyxcbiAgICAgIGhhc2ggPSB0aGlzLmhhc2ggfHwgJycsXG4gICAgICBob3N0ID0gZmFsc2UsXG4gICAgICBxdWVyeSA9ICcnO1xuXG4gIGlmICh0aGlzLmhvc3QpIHtcbiAgICBob3N0ID0gYXV0aCArIHRoaXMuaG9zdDtcbiAgfSBlbHNlIGlmICh0aGlzLmhvc3RuYW1lKSB7XG4gICAgaG9zdCA9IGF1dGggKyAodGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgPT09IC0xID9cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA6XG4gICAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmICh0aGlzLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgdGhpcy5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5ICYmXG4gICAgICB1dGlsLmlzT2JqZWN0KHRoaXMucXVlcnkpICYmXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KTtcbiAgfVxuXG4gIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaCB8fCAocXVlcnkgJiYgKCc/JyArIHF1ZXJ5KSkgfHwgJyc7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLnN1YnN0cigtMSkgIT09ICc6JykgcHJvdG9jb2wgKz0gJzonO1xuXG4gIC8vIG9ubHkgdGhlIHNsYXNoZWRQcm90b2NvbHMgZ2V0IHRoZSAvLy4gIE5vdCBtYWlsdG86LCB4bXBwOiwgZXRjLlxuICAvLyB1bmxlc3MgdGhleSBoYWQgdGhlbSB0byBiZWdpbiB3aXRoLlxuICBpZiAodGhpcy5zbGFzaGVzIHx8XG4gICAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlKHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgcmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh1cmxQYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpKS5mb3JtYXQoKTtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmVPYmplY3Qoc291cmNlLCByZWxhdGl2ZSkge1xuICBpZiAoIXNvdXJjZSkgcmV0dXJuIHJlbGF0aXZlO1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZU9iamVjdChyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIGlmICh1dGlsLmlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgICByZXN1bHQuaG9zdG5hbWUgJiYgIXJlc3VsdC5wYXRobmFtZSkge1xuICAgICAgcmVzdWx0LnBhdGggPSByZXN1bHQucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIgcmVsUGF0aCA9IChyZWxhdGl2ZS5wYXRobmFtZSB8fCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIHdoaWxlIChyZWxQYXRoLmxlbmd0aCAmJiAhKHJlbGF0aXZlLmhvc3QgPSByZWxQYXRoLnNoaWZ0KCkpKTtcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdCkgcmVsYXRpdmUuaG9zdCA9ICcnO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgcmVsYXRpdmUuaG9zdG5hbWUgPSAnJztcbiAgICAgIGlmIChyZWxQYXRoWzBdICE9PSAnJykgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIGlmIChyZWxQYXRoLmxlbmd0aCA8IDIpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDtcbiAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkge1xuICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7XG4gICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7XG4gICAgICByZXN1bHQucGF0aCA9IHAgKyBzO1xuICAgIH1cbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBpc1NvdXJjZUFicyA9IChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSxcbiAgICAgIGlzUmVsQWJzID0gKFxuICAgICAgICAgIHJlbGF0aXZlLmhvc3QgfHxcbiAgICAgICAgICByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJ1xuICAgICAgKSxcbiAgICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5ob3N0ICYmIHJlbGF0aXZlLnBhdGhuYW1lKSksXG4gICAgICByZW1vdmVBbGxEb3RzID0gbXVzdEVuZEFicyxcbiAgICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICByZWxQYXRoID0gcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHBzeWNob3RpYyA9IHJlc3VsdC5wcm90b2NvbCAmJiAhc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF07XG5cbiAgLy8gaWYgdGhlIHVybCBpcyBhIG5vbi1zbGFzaGVkIHVybCwgdGhlbiByZWxhdGl2ZVxuICAvLyBsaW5rcyBsaWtlIC4uLy4uIHNob3VsZCBiZSBhYmxlXG4gIC8vIHRvIGNyYXdsIHVwIHRvIHRoZSBob3N0bmFtZSwgYXMgd2VsbC4gIFRoaXMgaXMgc3RyYW5nZS5cbiAgLy8gcmVzdWx0LnByb3RvY29sIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IG5vdy5cbiAgLy8gTGF0ZXIgb24sIHB1dCB0aGUgZmlyc3QgcGF0aCBwYXJ0IGludG8gdGhlIGhvc3QgZmllbGQuXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAnJztcbiAgICByZXN1bHQucG9ydCA9IG51bGw7XG4gICAgaWYgKHJlc3VsdC5ob3N0KSB7XG4gICAgICBpZiAoc3JjUGF0aFswXSA9PT0gJycpIHNyY1BhdGhbMF0gPSByZXN1bHQuaG9zdDtcbiAgICAgIGVsc2Ugc3JjUGF0aC51bnNoaWZ0KHJlc3VsdC5ob3N0KTtcbiAgICB9XG4gICAgcmVzdWx0Lmhvc3QgPSAnJztcbiAgICBpZiAocmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lID0gbnVsbDtcbiAgICAgIHJlbGF0aXZlLnBvcnQgPSBudWxsO1xuICAgICAgaWYgKHJlbGF0aXZlLmhvc3QpIHtcbiAgICAgICAgaWYgKHJlbFBhdGhbMF0gPT09ICcnKSByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgZWxzZSByZWxQYXRoLnVuc2hpZnQocmVsYXRpdmUuaG9zdCk7XG4gICAgICB9XG4gICAgICByZWxhdGl2ZS5ob3N0ID0gbnVsbDtcbiAgICB9XG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgJiYgKHJlbFBhdGhbMF0gPT09ICcnIHx8IHNyY1BhdGhbMF0gPT09ICcnKTtcbiAgfVxuXG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA6IHJlc3VsdC5ob3N0bmFtZTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHNyY1BhdGggPSByZWxQYXRoO1xuICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZG90LWhhbmRsaW5nIGJlbG93LlxuICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7XG4gICAgLy8gaXQncyByZWxhdGl2ZVxuICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLlxuICAgIGlmICghc3JjUGF0aCkgc3JjUGF0aCA9IFtdO1xuICAgIHNyY1BhdGgucG9wKCk7XG4gICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gIH0gZWxzZSBpZiAoIXV0aWwuaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdO1xuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0IHx8IHNyY1BhdGgubGVuZ3RoID4gMSkgJiZcbiAgICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgICAoIXNyY1BhdGhbMF0gfHwgc3JjUGF0aFswXS5jaGFyQXQoMCkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgKHNyY1BhdGguam9pbignLycpLnN1YnN0cigtMSkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnB1c2goJycpO1xuICB9XG5cbiAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSAnJyB8fFxuICAgICAgKHNyY1BhdGhbMF0gJiYgc3JjUGF0aFswXS5jaGFyQXQoMCkgPT09ICcvJyk7XG5cbiAgLy8gcHV0IHRoZSBob3N0IGJhY2tcbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gaXNBYnNvbHV0ZSA/ICcnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogJyc7XG4gICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyB8fCAocmVzdWx0Lmhvc3QgJiYgc3JjUGF0aC5sZW5ndGgpO1xuXG4gIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTtcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gIHZhciBwb3J0ID0gcG9ydFBhdHRlcm4uZXhlYyhob3N0KTtcbiAgaWYgKHBvcnQpIHtcbiAgICBwb3J0ID0gcG9ydFswXTtcbiAgICBpZiAocG9ydCAhPT0gJzonKSB7XG4gICAgICB0aGlzLnBvcnQgPSBwb3J0LnN1YnN0cigxKTtcbiAgICB9XG4gICAgaG9zdCA9IGhvc3Quc3Vic3RyKDAsIGhvc3QubGVuZ3RoIC0gcG9ydC5sZW5ndGgpO1xuICB9XG4gIGlmIChob3N0KSB0aGlzLmhvc3RuYW1lID0gaG9zdDtcbn07XG4iLCIvKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBFTlZcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0xfTEVHQUNZIC0gVXNlZCBmb3Igb2xkZXIgdjEgV2ViR0wgZGV2aWNlcy4gUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyBwcmVmZXIgdGhpcyBlbnZpcm9ubWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFZlcnNpb24gMSBvZiBXZWJHTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMMiAtIFZlcnNpb24gMiBvZiBXZWJHTFxuICovXG5leHBvcnQgY29uc3QgRU5WID0ge1xuICAgIFdFQkdMX0xFR0FDWTogMCxcbiAgICBXRUJHTDogMSxcbiAgICBXRUJHTDI6IDIsXG59O1xuXG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG5leHBvcnQgY29uc3QgUkVOREVSRVJfVFlQRSA9IHtcbiAgICBVTktOT1dOOiAgICAwLFxuICAgIFdFQkdMOiAgICAgIDEsXG4gICAgQ0FOVkFTOiAgICAgMixcbn07XG5cbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNVQlRSQUNUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFUkFTRVxuICovXG5leHBvcnQgY29uc3QgQkxFTkRfTU9ERVMgPSB7XG4gICAgTk9STUFMOiAgICAgICAgIDAsXG4gICAgQUREOiAgICAgICAgICAgIDEsXG4gICAgTVVMVElQTFk6ICAgICAgIDIsXG4gICAgU0NSRUVOOiAgICAgICAgIDMsXG4gICAgT1ZFUkxBWTogICAgICAgIDQsXG4gICAgREFSS0VOOiAgICAgICAgIDUsXG4gICAgTElHSFRFTjogICAgICAgIDYsXG4gICAgQ09MT1JfRE9ER0U6ICAgIDcsXG4gICAgQ09MT1JfQlVSTjogICAgIDgsXG4gICAgSEFSRF9MSUdIVDogICAgIDksXG4gICAgU09GVF9MSUdIVDogICAgIDEwLFxuICAgIERJRkZFUkVOQ0U6ICAgICAxMSxcbiAgICBFWENMVVNJT046ICAgICAgMTIsXG4gICAgSFVFOiAgICAgICAgICAgIDEzLFxuICAgIFNBVFVSQVRJT046ICAgICAxNCxcbiAgICBDT0xPUjogICAgICAgICAgMTUsXG4gICAgTFVNSU5PU0lUWTogICAgIDE2LFxuICAgIE5PUk1BTF9OUE06ICAgICAxNyxcbiAgICBBRERfTlBNOiAgICAgICAgMTgsXG4gICAgU0NSRUVOX05QTTogICAgIDE5LFxuICAgIE5PTkU6ICAgICAgICAgICAyMCxcblxuICAgIFNSQ19PVkVSOiAgICAgICAwLFxuICAgIFNSQ19JTjogICAgICAgICAyMSxcbiAgICBTUkNfT1VUOiAgICAgICAgMjIsXG4gICAgU1JDX0FUT1A6ICAgICAgIDIzLFxuICAgIERTVF9PVkVSOiAgICAgICAyNCxcbiAgICBEU1RfSU46ICAgICAgICAgMjUsXG4gICAgRFNUX09VVDogICAgICAgIDI2LFxuICAgIERTVF9BVE9QOiAgICAgICAyNyxcbiAgICBFUkFTRTogICAgICAgICAgMjYsXG4gICAgU1VCVFJBQ1Q6ICAgICAgIDI4LFxufTtcblxuLyoqXG4gKiBWYXJpb3VzIHdlYmdsIGRyYXcgbW9kZXMuIFRoZXNlIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgd2hpY2ggR0wgZHJhd01vZGUgdG8gdXNlXG4gKiB1bmRlciBjZXJ0YWluIHNpdHVhdGlvbnMgYW5kIHJlbmRlcmVycy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRFJBV19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0lOVFNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfTE9PUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX0ZBTlxuICovXG5leHBvcnQgY29uc3QgRFJBV19NT0RFUyA9IHtcbiAgICBQT0lOVFM6ICAgICAgICAgMCxcbiAgICBMSU5FUzogICAgICAgICAgMSxcbiAgICBMSU5FX0xPT1A6ICAgICAgMixcbiAgICBMSU5FX1NUUklQOiAgICAgMyxcbiAgICBUUklBTkdMRVM6ICAgICAgNCxcbiAgICBUUklBTkdMRV9TVFJJUDogNSxcbiAgICBUUklBTkdMRV9GQU46ICAgNixcbn07XG5cbi8qKlxuICogVmFyaW91cyBHTCB0ZXh0dXJlL3Jlc291cmNlcyBmb3JtYXRzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBGT1JNQVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJHQkE9NjQwOFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJHQj02NDA3XG4gKiBAcHJvcGVydHkge251bWJlcn0gQUxQSEE9NjQwNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRT02NDA5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5BTkNFX0FMUEhBPTY0MTBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9DT01QT05FTlQ9NjQwMlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIX1NURU5DSUw9MzQwNDFcbiAqL1xuZXhwb3J0IGNvbnN0IEZPUk1BVFMgPSB7XG4gICAgUkdCQTogICAgICAgICAgICAgNjQwOCxcbiAgICBSR0I6ICAgICAgICAgICAgICA2NDA3LFxuICAgIEFMUEhBOiAgICAgICAgICAgIDY0MDYsXG4gICAgTFVNSU5BTkNFOiAgICAgICAgNjQwOSxcbiAgICBMVU1JTkFOQ0VfQUxQSEE6ICA2NDEwLFxuICAgIERFUFRIX0NPTVBPTkVOVDogIDY0MDIsXG4gICAgREVQVEhfU1RFTkNJTDogICAgMzQwNDEsXG59O1xuXG4vKipcbiAqIFZhcmlvdXMgR0wgdGFyZ2V0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkQ9MzU1M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVA9MzQwNjdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEX0FSUkFZPTM1ODY2XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YPTM0MDY5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YPTM0MDcwXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZPTM0MDcxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZPTM0MDcyXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aPTM0MDczXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aPTM0MDc0XG4gKi9cbmV4cG9ydCBjb25zdCBUQVJHRVRTID0ge1xuICAgIFRFWFRVUkVfMkQ6IDM1NTMsXG4gICAgVEVYVFVSRV9DVUJFX01BUDogMzQwNjcsXG4gICAgVEVYVFVSRV8yRF9BUlJBWTogMzU4NjYsXG4gICAgVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YOiAzNDA2OSxcbiAgICBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1g6IDM0MDcwLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWTogMzQwNzEsXG4gICAgVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZOiAzNDA3MixcbiAgICBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1o6IDM0MDczLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWjogMzQwNzQsXG59O1xuXG4vKipcbiAqIFZhcmlvdXMgR0wgZGF0YSBmb3JtYXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRZUEVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX0JZVEU9NTEyMVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUPTUxMjNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzZfNT0zMzYzNVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzRfNF80XzQ9MzI4MTlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzVfNV8xPTMyODIwXG4gKiBAcHJvcGVydHkge251bWJlcn0gRkxPQVQ9NTEyNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBTEZfRkxPQVQ9MzYxOTNcbiAqL1xuZXhwb3J0IGNvbnN0IFRZUEVTID0ge1xuICAgIFVOU0lHTkVEX0JZVEU6IDUxMjEsXG4gICAgVU5TSUdORURfU0hPUlQ6IDUxMjMsXG4gICAgVU5TSUdORURfU0hPUlRfNV82XzU6IDMzNjM1LFxuICAgIFVOU0lHTkVEX1NIT1JUXzRfNF80XzQ6IDMyODE5LFxuICAgIFVOU0lHTkVEX1NIT1JUXzVfNV81XzE6IDMyODIwLFxuICAgIEZMT0FUOiA1MTI2LFxuICAgIEhBTEZfRkxPQVQ6IDM2MTkzLFxufTtcblxuLyoqXG4gKiBUaGUgc2NhbGUgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLlNDQUxFX01PREV9IHNjYWxlIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCBzY2FsaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIExJTkVBUiBvciBORUFSRVNULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgU0NBTEVfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSIFNtb290aCBzY2FsaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gTkVBUkVTVCBQaXhlbGF0aW5nIHNjYWxpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IFNDQUxFX01PREVTID0ge1xuICAgIExJTkVBUjogICAgIDEsXG4gICAgTkVBUkVTVDogICAgMCxcbn07XG5cbi8qKlxuICogVGhlIHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLldSQVBfTU9ERX0gd3JhcCBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgd3JhcHBpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgQ0xBTVAgb3IgUkVQRUFULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqIElmIHRoZSB0ZXh0dXJlIGlzIG5vbiBwb3dlciBvZiB0d28gdGhlbiBjbGFtcCB3aWxsIGJlIHVzZWQgcmVnYXJkbGVzcyBhcyBXZWJHTCBjYW5cbiAqIG9ubHkgdXNlIFJFUEVBVCBpZiB0aGUgdGV4dHVyZSBpcyBwbzIuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgV1JBUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xBTVAgLSBUaGUgdGV4dHVyZXMgdXZzIGFyZSBjbGFtcGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1JUlJPUkVEX1JFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXQgd2l0aCBtaXJyb3JpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IFdSQVBfTU9ERVMgPSB7XG4gICAgQ0xBTVA6ICAgICAgICAgICAzMzA3MSxcbiAgICBSRVBFQVQ6ICAgICAgICAgIDEwNDk3LFxuICAgIE1JUlJPUkVEX1JFUEVBVDogMzM2NDgsXG59O1xuXG4vKipcbiAqIE1pcG1hcCBmaWx0ZXJpbmcgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU30gYWZmZWN0cyBkZWZhdWx0IHRleHR1cmUgZmlsdGVyaW5nLlxuICogTWlwbWFwcyBhcmUgZ2VuZXJhdGVkIGZvciBhIGJhc2VUZXh0dXJlIGlmIGl0cyBgbWlwbWFwYCBmaWVsZCBpcyBgT05gLFxuICogb3IgaXRzIGBQT1cyYCBhbmQgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3dlcnMgb2YgMi5cbiAqIER1ZSB0byBwbGF0Zm9ybSByZXN0cmljdGlvbiwgYE9OYCBvcHRpb24gd2lsbCB3b3JrIGxpa2UgYFBPVzJgIGZvciB3ZWJnbC0xLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIE1JUE1BUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gT0ZGIC0gTm8gbWlwbWFwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPVzIgLSBHZW5lcmF0ZSBtaXBtYXBzIGlmIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9OIC0gQWx3YXlzIGdlbmVyYXRlIG1pcG1hcHNcbiAqL1xuZXhwb3J0IGNvbnN0IE1JUE1BUF9NT0RFUyA9IHtcbiAgICBPRkY6IDAsXG4gICAgUE9XMjogMSxcbiAgICBPTjogMixcbn07XG5cbi8qKlxuICogVGhlIGdjIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5HQ19NT0RFfSBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZSBmb3IgUGl4aUpTIHRleHR1cmVzIGlzIEFVVE9cbiAqIElmIHNldCB0byBHQ19NT0RFLCB0aGUgcmVuZGVyZXIgd2lsbCBvY2Nhc2lvbmFsbHkgY2hlY2sgdGV4dHVyZXMgdXNhZ2UuIElmIHRoZXkgYXJlIG5vdFxuICogdXNlZCBmb3IgYSBzcGVjaWZpZWQgcGVyaW9kIG9mIHRpbWUgdGhleSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVLiBUaGV5IHdpbGwgb2YgY291cnNlXG4gKiBiZSB1cGxvYWRlZCBhZ2FpbiB3aGVuIHRoZXkgYXJlIHJlcXVpcmVkLiBUaGlzIGlzIGEgc2lsZW50IGJlaGluZCB0aGUgc2NlbmVzIHByb2Nlc3MgdGhhdFxuICogc2hvdWxkIGVuc3VyZSB0aGF0IHRoZSBHUFUgZG9lcyBub3QgIGdldCBmaWxsZWQgdXAuXG4gKlxuICogSGFuZHkgZm9yIG1vYmlsZSBkZXZpY2VzIVxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgR0NfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBoYXBwZW4gcGVyaW9kaWNhbGx5IGF1dG9tYXRpY2FsbHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNQU5VQUwgLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBuZWVkIHRvIGJlIGNhbGxlZCBtYW51YWxseVxuICovXG5leHBvcnQgY29uc3QgR0NfTU9ERVMgPSB7XG4gICAgQVVUTzogICAgICAgICAgIDAsXG4gICAgTUFOVUFMOiAgICAgICAgIDEsXG59O1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHNoYWRlcnMuXG4gKlxuICogQG5hbWUgUFJFQ0lTSU9OXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge3N0cmluZ31cbiAqIEBjb25zdGFudFxuICogQHByb3BlcnR5IHtzdHJpbmd9IExPVz0nbG93cCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBNRURJVU09J21lZGl1bXAnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gSElHSD0naGlnaHAnXG4gKi9cbmV4cG9ydCBjb25zdCBQUkVDSVNJT04gPSB7XG4gICAgTE9XOiAnbG93cCcsXG4gICAgTUVESVVNOiAnbWVkaXVtcCcsXG4gICAgSElHSDogJ2hpZ2hwJyxcbn07XG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuLyoqXG4gKiBUaGUgcHJlZml4IHRoYXQgZGVub3RlcyBhIFVSTCBpcyBmb3IgYSByZXRpbmEgYXNzZXQuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUkVUSU5BX1BSRUZJWFxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAZGVmYXVsdCAvQChbMC05XFwuXSspeC9cbiAqIEBleGFtcGxlIGBAMnhgXG4gKi9cbnNldHRpbmdzLlJFVElOQV9QUkVGSVggPSAvQChbMC05XFwuXSspeC87XG5cbi8qKlxuICogU2hvdWxkIHRoZSBgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdGAgZmxhZyBiZSBlbmFibGVkIGFzIGEgY29udGV4dCBvcHRpb24gdXNlZCBpbiB0aGUgYGlzV2ViR0xTdXBwb3J0ZWRgIGZ1bmN0aW9uLlxuICogRm9yIG1vc3Qgc2NlbmFyaW9zIHRoaXMgc2hvdWxkIGJlIGxlZnQgYXMgdHJ1ZSwgYXMgb3RoZXJ3aXNlIHRoZSB1c2VyIG1heSBoYXZlIGEgcG9vciBleHBlcmllbmNlLlxuICogSG93ZXZlciwgaXQgY2FuIGJlIHVzZWZ1bCB0byBkaXNhYmxlIHVuZGVyIGNlcnRhaW4gc2NlbmFyaW9zLCBzdWNoIGFzIGhlYWRsZXNzIHVuaXQgdGVzdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVRcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IHRydWVcbiAqL1xuc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQgPSB0cnVlO1xuXG5leHBvcnQgeyBzZXR0aW5ncyB9O1xuIiwibGV0IHNhaWRIZWxsbyA9IGZhbHNlO1xuY29uc3QgVkVSU0lPTiA9ICdfX1ZFUlNJT05fXyc7XG5cbi8qKlxuICogU2tpcHMgdGhlIGhlbGxvIG1lc3NhZ2Ugb2YgcmVuZGVyZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBpcyBydW4uXG4gKlxuICogQGZ1bmN0aW9uIHNraXBIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNraXBIZWxsbygpXG57XG4gICAgc2FpZEhlbGxvID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBMb2dzIG91dCB0aGUgdmVyc2lvbiBhbmQgcmVuZGVyZXIgaW5mb3JtYXRpb24gZm9yIHRoaXMgcnVubmluZyBpbnN0YW5jZSBvZiBQSVhJLlxuICogSWYgeW91IGRvbid0IHdhbnQgdG8gc2VlIHRoaXMgbWVzc2FnZSB5b3UgY2FuIHJ1biBgUElYSS51dGlscy5za2lwSGVsbG8oKWAgYmVmb3JlXG4gKiBjcmVhdGluZyB5b3VyIHJlbmRlcmVyLiBLZWVwIGluIG1pbmQgdGhhdCBkb2luZyB0aGF0IHdpbGwgZm9yZXZlciBtYWtlIHlvdSBhIGplcmsgZmFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gc2F5SGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBzdHJpbmcgcmVuZGVyZXIgdHlwZSB0byBsb2cuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYXlIZWxsbyh0eXBlKVxue1xuICAgIGlmIChzYWlkSGVsbG8pXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXJncyA9IFtcbiAgICAgICAgICAgIGBcXG4gJWMgJWMgJWMgUGl4aUpTICR7VkVSU0lPTn0gLSDinLAgJHt0eXBlfSDinLAgICVjICAlYyAgaHR0cDovL3d3dy5waXhpanMuY29tLyAgJWMgJWMg4pmlJWPimaUlY+KZpSBcXG5cXG5gLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjY2YTU7IGJhY2tncm91bmQ6ICMwMzAzMDc7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmYzNkYzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgXTtcblxuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJncyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHdpbmRvdy5jb25zb2xlKVxuICAgIHtcbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGBQaXhpSlMgJHtWRVJTSU9OfSAtICR7dHlwZX0gLSBodHRwOi8vd3d3LnBpeGlqcy5jb20vYCk7XG4gICAgfVxuXG4gICAgc2FpZEhlbGxvID0gdHJ1ZTtcbn1cbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnLi4vc2V0dGluZ3MnO1xuXG5sZXQgc3VwcG9ydGVkO1xuXG4vKipcbiAqIEhlbHBlciBmb3IgY2hlY2tpbmcgZm9yIFdlYkdMIHN1cHBvcnQuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBXZWJHTCBzdXBwb3J0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkKClcbntcbiAgICBpZiAodHlwZW9mIHN1cHBvcnRlZCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAge1xuICAgICAgICBzdXBwb3J0ZWQgPSAoZnVuY3Rpb24gc3VwcG9ydGVkKClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY29udGV4dE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBzZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICBsZXQgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBjb250ZXh0T3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGNvbnRleHRPcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSAhIShnbCAmJiBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpLnN0ZW5jaWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGdsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9zZUNvbnRleHQgPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb3NlQ29udGV4dClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdsID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH1cblxuICAgIHJldHVybiBzdXBwb3J0ZWQ7XG59XG4iLCIvKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyIHRvIGFuIFtSLCBHLCBCXSBhcnJheSBvZiBub3JtYWxpemVkIGZsb2F0cyAobnVtYmVycyBmcm9tIDAuMCB0byAxLjApLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLmhleDJyZ2IoMHhmZmZmZmYpOyAvLyByZXR1cm5zIFsxLCAxLCAxXVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgycmdiXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gVGhlIGhleGFkZWNpbWFsIG51bWJlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0gIHtudW1iZXJbXX0gW291dD1bXV0gSWYgc3VwcGxpZWQsIHRoaXMgYXJyYXkgd2lsbCBiZSB1c2VkIHJhdGhlciB0aGFuIHJldHVybmluZyBhIG5ldyBvbmVcbiAqIEByZXR1cm4ge251bWJlcltdfSBBbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIFtSLCBHLCBCXSBvZiB0aGUgY29sb3Igd2hlcmUgYWxsIHZhbHVlcyBhcmUgZmxvYXRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4MnJnYihoZXgsIG91dClcbntcbiAgICBvdXQgPSBvdXQgfHwgW107XG5cbiAgICBvdXRbMF0gPSAoKGhleCA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMV0gPSAoKGhleCA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsyXSA9IChoZXggJiAweEZGKSAvIDI1NTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIgdG8gYSBzdHJpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmZmZmZik7IC8vIHJldHVybnMgXCIjZmZmZmZmXCJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIE51bWJlciBpbiBoZXggKGUuZy4sIGAweGZmZmZmZmApXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4MnN0cmluZyhoZXgpXG57XG4gICAgaGV4ID0gaGV4LnRvU3RyaW5nKDE2KTtcbiAgICBoZXggPSAnMDAwMDAwJy5zdWJzdHIoMCwgNiAtIGhleC5sZW5ndGgpICsgaGV4O1xuXG4gICAgcmV0dXJuIGAjJHtoZXh9YDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIHN0cmluZyB0byBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5zdHJpbmcyaGV4KFwiI2ZmZmZmZlwiKTsgLy8gcmV0dXJucyAweGZmZmZmZlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzdHJpbmcyaGV4XG4gKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyBjb2xvciAoZS5nLiwgYFwiI2ZmZmZmZlwiYClcbiAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIGluIGhleGFkZWNpbWFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nMmhleChzdHJpbmcpXG57XG4gICAgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnICYmIHN0cmluZ1swXSA9PT0gJyMnKVxuICAgIHtcbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cigxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nLCAxNik7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgdG8gYSBoZXhhZGVjaW1hbCBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMucmdiMmhleChbMSwgMSwgMV0pOyAvLyByZXR1cm5zIDB4ZmZmZmZmXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHJnYjJoZXhcbiAqIEBwYXJhbSB7bnVtYmVyW119IHJnYiAtIEFycmF5IG9mIG51bWJlcnMgd2hlcmUgYWxsIHZhbHVlcyBhcmUgbm9ybWFsaXplZCBmbG9hdHMgZnJvbSAwLjAgdG8gMS4wLlxuICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgaW4gaGV4YWRlY2ltYWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2IyaGV4KHJnYilcbntcbiAgICByZXR1cm4gKCgocmdiWzBdICogMjU1KSA8PCAxNikgKyAoKHJnYlsxXSAqIDI1NSkgPDwgOCkgKyAocmdiWzJdICogMjU1IHwgMCkpO1xufVxuIiwiaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIENvcnJlY3RzIFBpeGlKUyBibGVuZCwgdGFrZXMgcHJlbXVsdGlwbGllZCBhbHBoYSBpbnRvIGFjY291bnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxudW1iZXJbXT59IFthcnJheV0gLSBUaGUgYXJyYXkgdG8gb3V0cHV0IGludG8uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXJbXT59IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKVxue1xuICAgIGNvbnN0IHBtID0gW107XG4gICAgY29uc3QgbnBtID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDMyOyBpKyspXG4gICAge1xuICAgICAgICBwbVtpXSA9IGk7XG4gICAgICAgIG5wbVtpXSA9IGk7XG4gICAgfVxuXG4gICAgcG1bQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgcG1bQkxFTkRfTU9ERVMuQUREX05QTV0gPSBCTEVORF9NT0RFUy5BREQ7XG4gICAgcG1bQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBCTEVORF9NT0RFUy5TQ1JFRU47XG5cbiAgICBucG1bQkxFTkRfTU9ERVMuTk9STUFMXSA9IEJMRU5EX01PREVTLk5PUk1BTF9OUE07XG4gICAgbnBtW0JMRU5EX01PREVTLkFERF0gPSBCTEVORF9NT0RFUy5BRERfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcblxuICAgIGNvbnN0IGFycmF5ID0gW107XG5cbiAgICBhcnJheS5wdXNoKG5wbSk7XG4gICAgYXJyYXkucHVzaChwbSk7XG5cbiAgICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogbWFwcyBwcmVtdWx0aXBseSBmbGFnIGFuZCBibGVuZE1vZGUgdG8gYWRqdXN0ZWQgYmxlbmRNb2RlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGNvbnN0IHByZW11bHRpcGx5QmxlbmRNb2RlXG4gKiBAdHlwZSB7QXJyYXk8bnVtYmVyW10+fVxuICovXG5leHBvcnQgY29uc3QgcHJlbXVsdGlwbHlCbGVuZE1vZGUgPSBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcygpO1xuXG4vKipcbiAqIGNoYW5nZXMgYmxlbmRNb2RlIGFjY29yZGluZyB0byB0ZXh0dXJlIGZvcm1hdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZVxuICogQHBhcmFtIHtudW1iZXJ9IGJsZW5kTW9kZSBzdXBwb3NlZCBibGVuZCBtb2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHByZW11bHRpcGxpZWQgIHdoZXRoZXIgc291cmNlIGlzIHByZW11bHRpcGxpZWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRydWUgYmxlbmQgbW9kZSBmb3IgdGhpcyB0ZXh0dXJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlKGJsZW5kTW9kZSwgcHJlbXVsdGlwbGllZClcbntcbiAgICByZXR1cm4gcHJlbXVsdGlwbHlCbGVuZE1vZGVbcHJlbXVsdGlwbGllZCA/IDEgOiAwXVtibGVuZE1vZGVdO1xufVxuXG4vKipcbiAqIGNvbWJpbmVzIHJnYiBhbmQgYWxwaGEgdG8gb3V0IGFycmF5XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVJnYmFcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSByZ2IgaW5wdXQgcmdiXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYShyZ2IsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KVxue1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdICogYWxwaGE7XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXSAqIGFscGhhO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl0gKiBhbHBoYTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV07XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIHByZW11bHRpcGxpZXMgdGludFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50XG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnRlZ2VyIFJHQlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGZsb2F0aW5nIHBvaW50IGFscGhhICgwLjAtMS4wKVxuICogQHJldHVybnMge251bWJlcn0gdGludCBtdWx0aXBsaWVkIGJ5IGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnQodGludCwgYWxwaGEpXG57XG4gICAgaWYgKGFscGhhID09PSAxLjApXG4gICAge1xuICAgICAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIHRpbnQ7XG4gICAgfVxuICAgIGlmIChhbHBoYSA9PT0gMC4wKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGxldCBSID0gKCh0aW50ID4+IDE2KSAmIDB4RkYpO1xuICAgIGxldCBHID0gKCh0aW50ID4+IDgpICYgMHhGRik7XG4gICAgbGV0IEIgPSAodGludCAmIDB4RkYpO1xuXG4gICAgUiA9ICgoUiAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIEcgPSAoKEcgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICBCID0gKChCICogYWxwaGEpICsgMC41KSB8IDA7XG5cbiAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIChSIDw8IDE2KSArIChHIDw8IDgpICsgQjtcbn1cblxuLyoqXG4gKiBjb252ZXJ0cyBpbnRlZ2VyIHRpbnQgYW5kIGZsb2F0IGFscGhhIHRvIHZlYzQgZm9ybSwgcHJlbXVsdGlwbGllcyBieSBkZWZhdWx0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmFcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IGlucHV0IHRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSBhbHBoYSBwYXJhbVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXRdIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRpbnQsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KVxue1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIG91dFswXSA9ICgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsxXSA9ICgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzJdID0gKHRpbnQgJiAweEZGKSAvIDI1NS4wO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0WzBdICo9IGFscGhhO1xuICAgICAgICBvdXRbMV0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsyXSAqPSBhbHBoYTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuIiwiLyoqXG4gKiBHZW5lcmljIE1hc2sgU3RhY2sgZGF0YSBzdHJ1Y3R1cmVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkc1xuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgcXVhZHNcbiAqIEBwYXJhbSB7VWludDE2QXJyYXl8VWludDMyQXJyYXl9IFtvdXRCdWZmZXJdIC0gQnVmZmVyIGZvciBvdXRwdXQsIGxlbmd0aCBoYXMgdG8gYmUgYDYgKiBzaXplYFxuICogQHJldHVybiB7VWludDE2QXJyYXl8VWludDMyQXJyYXl9IC0gUmVzdWx0aW5nIGluZGV4IGJ1ZmZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHNpemUsIG91dEJ1ZmZlciA9IG51bGwpXG57XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuICAgIGNvbnN0IHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuXG4gICAgb3V0QnVmZmVyID0gb3V0QnVmZmVyIHx8IG5ldyBVaW50MTZBcnJheSh0b3RhbEluZGljZXMpO1xuXG4gICAgaWYgKG91dEJ1ZmZlci5sZW5ndGggIT09IHRvdGFsSW5kaWNlcylcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgT3V0IGJ1ZmZlciBsZW5ndGggaXMgaW5jb3JyZWN0LCBnb3QgJHtvdXRCdWZmZXIubGVuZ3RofSBhbmQgZXhwZWN0ZWQgJHt0b3RhbEluZGljZXN9YCk7XG4gICAgfVxuXG4gICAgLy8gZmlsbCB0aGUgaW5kaWNlcyB3aXRoIHRoZSBxdWFkcyB0byBkcmF3XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxJbmRpY2VzOyBpICs9IDYsIGogKz0gNClcbiAgICB7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMF0gPSBqICsgMDtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAxXSA9IGogKyAxO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDJdID0gaiArIDI7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgM10gPSBqICsgMDtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA0XSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDVdID0gaiArIDM7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dEJ1ZmZlcjtcbn1cbiIsIi8qKlxuICogUmVtb3ZlIGl0ZW1zIGZyb20gYSBqYXZhc2NyaXB0IGFycmF5IHdpdGhvdXQgZ2VuZXJhdGluZyBnYXJiYWdlXG4gKlxuICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1zXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgQXJyYXkgdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb21cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydElkeCBzdGFydGluZyBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IHJlbW92ZUNvdW50IGhvdyBtYW55IHRvIHJlbW92ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSXRlbXMoYXJyLCBzdGFydElkeCwgcmVtb3ZlQ291bnQpXG57XG4gICAgY29uc3QgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICBsZXQgaTtcblxuICAgIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVtb3ZlQ291bnQgPSAoc3RhcnRJZHggKyByZW1vdmVDb3VudCA+IGxlbmd0aCA/IGxlbmd0aCAtIHN0YXJ0SWR4IDogcmVtb3ZlQ291bnQpO1xuXG4gICAgY29uc3QgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnQ7XG5cbiAgICBmb3IgKGkgPSBzdGFydElkeDsgaSA8IGxlbjsgKytpKVxuICAgIHtcbiAgICAgICAgYXJyW2ldID0gYXJyW2kgKyByZW1vdmVDb3VudF07XG4gICAgfVxuXG4gICAgYXJyLmxlbmd0aCA9IGxlbjtcbn1cbiIsImxldCBuZXh0VWlkID0gMDtcblxuLyoqXG4gKiBHZXRzIHRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB1aWRcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXIgdG8gdXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdWlkKClcbntcbiAgICByZXR1cm4gKytuZXh0VWlkO1xufVxuIiwiLyoqXG4gKiBSZXR1cm5zIHNpZ24gb2YgbnVtYmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzaWduXG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIHRoZSBudW1iZXIgdG8gY2hlY2sgdGhlIHNpZ24gb2ZcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgYG5gIGlzIDAsIC0xIGlmIGBuYCBpcyBuZWdhdGl2ZSwgMSBpZiBgbmAgaXMgcG9zaXRpdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ24obilcbntcbiAgICBpZiAobiA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgICByZXR1cm4gbiA8IDAgPyAtMSA6IDE7XG59XG4iLCIvLyBUYWtlbiBmcm9tIHRoZSBiaXQtdHdpZGRsZSBwYWNrYWdlXG5cbi8qKlxuICogUm91bmRzIHRvIG5leHQgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBuZXh0UG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZXh0UG93Mih2KVxue1xuICAgIHYgKz0gdiA9PT0gMDtcbiAgICAtLXY7XG4gICAgdiB8PSB2ID4+PiAxO1xuICAgIHYgfD0gdiA+Pj4gMjtcbiAgICB2IHw9IHYgPj4+IDQ7XG4gICAgdiB8PSB2ID4+PiA4O1xuICAgIHYgfD0gdiA+Pj4gMTY7XG5cbiAgICByZXR1cm4gdiArIDE7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbnVtYmVyIGlzIGEgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBpc1BvdzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHZhbHVlIGlzIHBvd2VyIG9mIHR3b1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQb3cyKHYpXG57XG4gICAgcmV0dXJuICEodiAmICh2IC0gMSkpICYmICghIXYpO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIGNlaWwgb2YgbG9nIGJhc2UgMlxuICpcbiAqIEBmdW5jdGlvbiBsb2cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn0gbG9nYXJpdGhtIGJhc2UgMlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9nMih2KVxue1xuICAgIGxldCByID0gKHYgPiAweEZGRkYpIDw8IDQ7XG5cbiAgICB2ID4+Pj0gcjtcblxuICAgIGxldCBzaGlmdCA9ICh2ID4gMHhGRikgPDwgMztcblxuICAgIHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHhGKSA8PCAyO1xuICAgIHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHgzKSA8PCAxO1xuICAgIHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcblxuICAgIHJldHVybiByIHwgKHYgPj4gMSk7XG59XG4iLCIvKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUHJvZ3JhbUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0IGNvbnN0IFByb2dyYW1DYWNoZSA9IHt9O1xuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0IGNvbnN0IFRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBCYXNlVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuXG5leHBvcnQgY29uc3QgQmFzZVRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKipcbiAqIERlc3Ryb3lzIGFsbCB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZSgpXG57XG4gICAgbGV0IGtleTtcblxuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIFRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIEJhc2VUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHRleHR1cmVzIGZyb20gY2FjaGUsIGJ1dCBkb2VzIG5vdCBkZXN0cm95IHRoZW1cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZSgpXG57XG4gICAgbGV0IGtleTtcblxuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnMgZnJvbSBhIGNhbnZhc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdHJpbUNhbnZhc1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGNhbnZhcyB0byB0cmltXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUcmltIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaW1DYW52YXMoY2FudmFzKVxue1xuICAgIC8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3JlbXkvNzg0NTA4XG5cbiAgICBsZXQgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgbGV0IGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgY29uc3QgcGl4ZWxzID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgY29uc3QgbGVuID0gcGl4ZWxzLmxlbmd0aDtcblxuICAgIGNvbnN0IGJvdW5kID0ge1xuICAgICAgICB0b3A6IG51bGwsXG4gICAgICAgIGxlZnQ6IG51bGwsXG4gICAgICAgIHJpZ2h0OiBudWxsLFxuICAgICAgICBib3R0b206IG51bGwsXG4gICAgfTtcbiAgICBsZXQgZGF0YSA9IG51bGw7XG4gICAgbGV0IGk7XG4gICAgbGV0IHg7XG4gICAgbGV0IHk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpXG4gICAge1xuICAgICAgICBpZiAocGl4ZWxzW2kgKyAzXSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgeCA9IChpIC8gNCkgJSB3aWR0aDtcbiAgICAgICAgICAgIHkgPSB+figoaSAvIDQpIC8gd2lkdGgpO1xuXG4gICAgICAgICAgICBpZiAoYm91bmQudG9wID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLnRvcCA9IHk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5sZWZ0ID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeCA8IGJvdW5kLmxlZnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5yaWdodCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYm91bmQucmlnaHQgPCB4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5ib3R0b20gPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLmJvdHRvbSA8IHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChib3VuZC50b3AgIT09IG51bGwpXG4gICAge1xuICAgICAgICB3aWR0aCA9IGJvdW5kLnJpZ2h0IC0gYm91bmQubGVmdDtcbiAgICAgICAgaGVpZ2h0ID0gYm91bmQuYm90dG9tIC0gYm91bmQudG9wICsgMTtcbiAgICAgICAgZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGJvdW5kLmxlZnQsIGJvdW5kLnRvcCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgZGF0YSxcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50IG9mIHRoZSBnaXZlbiBzaXplIHRvIGJlIHVzZWQgYXMgYSB0YXJnZXQgZm9yIHJlbmRlcmluZyB0by5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhc1JlbmRlclRhcmdldFxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBmb3IgdGhlIG5ld2x5IGNyZWF0ZWQgY2FudmFzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBDYW52YXMgb2JqZWN0IHRoYXQgYmVsb25ncyB0byB0aGlzIENhbnZhc1JlbmRlclRhcmdldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBvYmplY3QgcmVwcmVzZW50aW5nIGEgdHdvLWRpbWVuc2lvbmFsIHJlbmRlcmluZyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGNhbnZhcyB0aGF0IHdhcyBjcmVhdGVkIGJ5IHRoZSBDYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNsZWFyKClcbiAgICB7XG4gICAgICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICovXG4gICAgcmVzaXplKHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBjYW52YXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgfVxuXG4gICAgc2V0IHdpZHRoKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHZhbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IGhlaWdodCh2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmFsO1xuICAgIH1cbn1cbiIsIi8qKlxuICogUmVnZXhwIGZvciBkYXRhIFVSSS5cbiAqIEJhc2VkIG9uOiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3JhZ2luZ3dpbmQvZGF0YS11cmktcmVnZXh9XG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBEQVRBX1VSSVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleGFtcGxlIGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NFxuICovXG5leHBvcnQgY29uc3QgREFUQV9VUkkgPSAvXlxccypkYXRhOig/OihbXFx3LV0rKVxcLyhbXFx3Ky4tXSspKT8oPzo7Y2hhcnNldD0oW1xcdy1dKykpPyg/OjsoYmFzZTY0KSk/LCguKikvaTtcbiIsImltcG9ydCBfdXJsIGZyb20gJ3VybCc7XG5cbmxldCB0ZW1wQW5jaG9yO1xuXG4vKipcbiAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gKiBOaXBwZWQgZnJvbSB0aGUgcmVzb3VyY2UgbG9hZGVyIVxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwsIGxvYyA9IHdpbmRvdy5sb2NhdGlvbilcbntcbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICBpZiAoIXRlbXBBbmNob3IpXG4gICAge1xuICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIH1cblxuICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgIHVybCA9IF91cmwucGFyc2UodGVtcEFuY2hvci5ocmVmKTtcblxuICAgIGNvbnN0IHNhbWVQb3J0ID0gKCF1cmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycpIHx8ICh1cmwucG9ydCA9PT0gbG9jLnBvcnQpO1xuXG4gICAgLy8gaWYgY3Jvc3Mgb3JpZ2luXG4gICAgaWYgKHVybC5ob3N0bmFtZSAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCB1cmwucHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbClcbiAgICB7XG4gICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG59XG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJy4uL3NldHRpbmdzJztcblxuLyoqXG4gKiBnZXQgdGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXQgYnkgbG9va2luZyBmb3IgdGhlIHByZWZpeFxuICogdXNlZCBieSBzcHJpdGVzaGVldHMgYW5kIGltYWdlIHVybHNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZT0xXSAtIHRoZSBkZWZhdWx0VmFsdWUgaWYgbm8gZmlsZW5hbWUgcHJlZml4IGlzIHNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsKHVybCwgZGVmYXVsdFZhbHVlKVxue1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVRJTkFfUFJFRklYLmV4ZWModXJsKTtcblxuICAgIGlmIChyZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocmVzb2x1dGlvblsxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogMTtcbn1cbiIsIi8vIEEgbWFwIG9mIHdhcm5pbmcgbWVzc2FnZXMgYWxyZWFkeSBmaXJlZFxuY29uc3Qgd2FybmluZ3MgPSB7fTtcblxuLyoqXG4gKiBIZWxwZXIgZm9yIHdhcm5pbmcgZGV2ZWxvcGVycyBhYm91dCBkZXByZWNhdGVkIGZlYXR1cmVzICYgc2V0dGluZ3MuXG4gKiBBIHN0YWNrIHRyYWNrIGZvciB3YXJuaW5ncyBpcyBnaXZlbjsgdXNlZnVsIGZvciB0cmFja2luZy1kb3duIHdoZXJlXG4gKiBkZXByZWNhdGVkIG1ldGhvZHMvcHJvcGVydGllcy9jbGFzc2VzIGFyZSBiZWluZyB1c2VkIHdpdGhpbiB0aGUgY29kZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlcHJlY2F0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIFRoZSB2ZXJzaW9uIHdoZXJlIHRoZSBmZWF0dXJlIGJlY2FtZSBkZXByZWNhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIE1lc3NhZ2Ugc2hvdWxkIGluY2x1ZGUgd2hhdCBpcyBkZXByZWNhdGVkLCB3aGVyZSwgYW5kIHRoZSBuZXcgc29sdXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaWdub3JlRGVwdGg9M10gLSBUaGUgbnVtYmVyIG9mIHN0ZXBzIHRvIGlnbm9yZSBhdCB0aGUgdG9wIG9mIHRoZSBlcnJvciBzdGFja1xuICogICAgICAgIHRoaXMgaXMgbW9zdGx5IHRvIGlnbm9yZSBpbnRlcm5hbCBkZXByZWNhdGlvbiBjYWxscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcHJlY2F0aW9uKHZlcnNpb24sIG1lc3NhZ2UsIGlnbm9yZURlcHRoID0gMylcbntcbiAgICAvLyBJZ25vcmUgZHVwbGljYXRcbiAgICBpZiAod2FybmluZ3NbbWVzc2FnZV0pXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgIGxldCBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuXG4gICAgLy8gSGFuZGxlIElFIDwgMTAgYW5kIFNhZmFyaSA8IDZcbiAgICBpZiAodHlwZW9mIHN0YWNrID09PSAndW5kZWZpbmVkJylcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIGAke21lc3NhZ2V9XFxuRGVwcmVjYXRlZCBzaW5jZSB2JHt2ZXJzaW9ufWApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBjaG9wIG9mZiB0aGUgc3RhY2sgdHJhY2Ugd2hpY2ggaW5jbHVkZXMgUGl4aUpTIGludGVybmFsIGNhbGxzXG4gICAgICAgIHN0YWNrID0gc3RhY2suc3BsaXQoJ1xcbicpLnNwbGljZShpZ25vcmVEZXB0aCkuam9pbignXFxuJyk7XG5cbiAgICAgICAgaWYgKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG4gICAgICAgICAgICAgICAgJyVjUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICVjJXMnLFxuICAgICAgICAgICAgICAgICdjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsXG4gICAgICAgICAgICAgICAgJ2ZvbnQtd2VpZ2h0Om5vcm1hbDtjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsXG4gICAgICAgICAgICAgICAgYCR7bWVzc2FnZX1cXG5EZXByZWNhdGVkIHNpbmNlIHYke3ZlcnNpb259YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBgJHttZXNzYWdlfVxcbkRlcHJlY2F0ZWQgc2luY2UgdiR7dmVyc2lvbn1gKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cbiAgICB3YXJuaW5nc1ttZXNzYWdlXSA9IHRydWU7XG59XG4iLCJpbXBvcnQgeyBEQVRBX1VSSSB9IGZyb20gJy4uL2NvbnN0JztcblxuLyoqXG4gKiBUeXBlZGVmIGZvciBkZWNvbXBvc2VEYXRhVXJpIHJldHVybiBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlZGVmIHtvYmplY3R9IERlY29tcG9zZWREYXRhVXJpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVkaWFUeXBlIE1lZGlhIHR5cGUsIGVnLiBgaW1hZ2VgXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3ViVHlwZSBTdWIgdHlwZSwgZWcuIGBwbmdgXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZW5jb2RpbmcgRGF0YSBlbmNvZGluZywgZWcuIGBiYXNlNjRgXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGF0YSBUaGUgYWN0dWFsIGRhdGFcbiAqL1xuXG4vKipcbiAqIFNwbGl0IGEgZGF0YSBVUkkgaW50byBjb21wb25lbnRzLiBSZXR1cm5zIHVuZGVmaW5lZCBpZlxuICogcGFyYW1ldGVyIGBkYXRhVXJpYCBpcyBub3QgYSB2YWxpZCBkYXRhIFVSSS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlY29tcG9zZURhdGFVcmlcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhVXJpIC0gdGhlIGRhdGEgVVJJIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpfHVuZGVmaW5lZH0gVGhlIGRlY29tcG9zZWQgZGF0YSB1cmkgb3IgdW5kZWZpbmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpKGRhdGFVcmkpXG57XG4gICAgY29uc3QgZGF0YVVyaU1hdGNoID0gREFUQV9VUkkuZXhlYyhkYXRhVXJpKTtcblxuICAgIGlmIChkYXRhVXJpTWF0Y2gpXG4gICAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVkaWFUeXBlOiBkYXRhVXJpTWF0Y2hbMV0gPyBkYXRhVXJpTWF0Y2hbMV0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN1YlR5cGU6IGRhdGFVcmlNYXRjaFsyXSA/IGRhdGFVcmlNYXRjaFsyXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2hhcnNldDogZGF0YVVyaU1hdGNoWzNdID8gZGF0YVVyaU1hdGNoWzNdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmNvZGluZzogZGF0YVVyaU1hdGNoWzRdID8gZGF0YVVyaU1hdGNoWzRdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYXRhOiBkYXRhVXJpTWF0Y2hbNV0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbiIsIi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9pbnRcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBhIGNvcHkgb2YgdGhlIHBvaW50XG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tXG4gICAgICogQHJldHVybnMge1BJWEkuSVBvaW50fSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBjb3B5RnJvbShwKVxuICAgIHtcbiAgICAgICAgdGhpcy5zZXQocC54LCBwLnkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGludG8gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gICAgICogQHJldHVybnMge1BJWEkuSVBvaW50fSBHaXZlbiBwb2ludCB3aXRoIHZhbHVlcyB1cGRhdGVkXG4gICAgICovXG4gICAgY29weVRvKHApXG4gICAge1xuICAgICAgICBwLnNldCh0aGlzLngsIHRoaXMueSk7XG5cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKi9cbiAgICBlcXVhbHMocClcbiAgICB7XG4gICAgICAgIHJldHVybiAocC54ID09PSB0aGlzLngpICYmIChwLnkgPT09IHRoaXMueSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIHNldCh4LCB5KVxuICAgIHtcbiAgICAgICAgdGhpcy54ID0geCB8fCAwO1xuICAgICAgICB0aGlzLnkgPSB5IHx8ICgoeSAhPT0gMCkgPyB0aGlzLnggOiAwKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqXG4gKiBBbiBPYnNlcnZhYmxlUG9pbnQgaXMgYSBwb2ludCB0aGF0IHRyaWdnZXJzIGEgY2FsbGJhY2sgd2hlbiB0aGUgcG9pbnQncyBwb3NpdGlvbiBpcyBjaGFuZ2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JzZXJ2YWJsZVBvaW50XG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgLSBjYWxsYmFjayB3aGVuIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc2NvcGUgLSBvd25lciBvZiBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjYiwgc2NvcGUsIHggPSAwLCB5ID0gMClcbiAgICB7XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcblxuICAgICAgICB0aGlzLmNiID0gY2I7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludC5cbiAgICAgKiBUaGUgY2FsbGJhY2sgYW5kIHNjb3BlIHBhcmFtcyBjYW4gYmUgb3ZlcmlkZGVuIG90aGVyd2lzZSB0aGV5IHdpbGwgZGVmYXVsdFxuICAgICAqIHRvIHRoZSBjbG9uZSBvYmplY3QncyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2I9bnVsbF0gLSBjYWxsYmFjayB3aGVuIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3Njb3BlPW51bGxdIC0gb3duZXIgb2YgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk9ic2VydmFibGVQb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICAgICAqL1xuICAgIGNsb25lKGNiID0gbnVsbCwgc2NvcGUgPSBudWxsKVxuICAgIHtcbiAgICAgICAgY29uc3QgX2NiID0gY2IgfHwgdGhpcy5jYjtcbiAgICAgICAgY29uc3QgX3Njb3BlID0gc2NvcGUgfHwgdGhpcy5zY29wZTtcblxuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGVQb2ludChfY2IsIF9zY29wZSwgdGhpcy5feCwgdGhpcy5feSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIHNldCh4LCB5KVxuICAgIHtcbiAgICAgICAgY29uc3QgX3ggPSB4IHx8IDA7XG4gICAgICAgIGNvbnN0IF95ID0geSB8fCAoKHkgIT09IDApID8gX3ggOiAwKTtcblxuICAgICAgICBpZiAodGhpcy5feCAhPT0gX3ggfHwgdGhpcy5feSAhPT0gX3kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSBfeDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBfeTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIGNvcHlGcm9tKHApXG4gICAge1xuICAgICAgICBpZiAodGhpcy5feCAhPT0gcC54IHx8IHRoaXMuX3kgIT09IHAueSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5feCA9IHAueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBwLnk7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBpbnRvIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gR2l2ZW4gcG9pbnQgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICAgICAqL1xuICAgIGNvcHlUbyhwKVxuICAgIHtcbiAgICAgICAgcC5zZXQodGhpcy5feCwgdGhpcy5feSk7XG5cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKi9cbiAgICBlcXVhbHMocClcbiAgICB7XG4gICAgICAgIHJldHVybiAocC54ID09PSB0aGlzLl94KSAmJiAocC55ID09PSB0aGlzLl95KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgeCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICB9XG5cbiAgICBzZXQgeCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5feCAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB5KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgIH1cblxuICAgIHNldCB5KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl95ICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5feSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEEgbnVtYmVyLCBvciBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHsoUElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludCl9IElQb2ludFxuICovXG4iLCIvKipcbiAqIFR3byBQaS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gUElfMlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNvbnN0IFBJXzIgPSBNYXRoLlBJICogMjtcblxuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtudW1iZXJ9IFJBRF9UT19ERUdcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjb25zdCBSQURfVE9fREVHID0gMTgwIC8gTWF0aC5QSTtcblxuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyBkZWdyZWVzIHRvIHJhZGlhbnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtudW1iZXJ9IERFR19UT19SQURcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjb25zdCBERUdfVE9fUkFEID0gTWF0aC5QSSAvIDE4MDtcblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBpZGVudGlmeSBzaGFwZXMsIG1haW5seSB0byBwcmV2ZW50IGBpbnN0YW5jZW9mYCBjYWxscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNIQVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9MWSBQb2x5Z29uXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVDVCBSZWN0YW5nbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDSVJDIENpcmNsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVMSVAgRWxsaXBzZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJSRUMgUm91bmRlZCBSZWN0YW5nbGVcbiAqL1xuZXhwb3J0IGNvbnN0IFNIQVBFUyA9IHtcbiAgICBQT0xZOiAwLFxuICAgIFJFQ1Q6IDEsXG4gICAgQ0lSQzogMixcbiAgICBFTElQOiAzLFxuICAgIFJSRUM6IDQsXG59O1xuXG4iLCJpbXBvcnQgUG9pbnQgZnJvbSAnLi9Qb2ludCc7XG5pbXBvcnQgeyBQSV8yIH0gZnJvbSAnLi9jb25zdCc7XG5cbi8qKlxuICogVGhlIFBpeGlKUyBNYXRyaXggYXMgYSBjbGFzcyBtYWtlcyBpdCBhIGxvdCBmYXN0ZXIuXG4gKlxuICogSGVyZSBpcyBhIHJlcHJlc2VudGF0aW9uIG9mIGl0OlxuICogYGBganNcbiAqIHwgYSB8IGMgfCB0eHxcbiAqIHwgYiB8IGQgfCB0eXxcbiAqIHwgMCB8IDAgfCAxIHxcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRyaXhcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2E9MV0gLSB4IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiPTBdIC0geCBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjPTBdIC0geSBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkPTFdIC0geSBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHg9MF0gLSB4IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eT0wXSAtIHkgdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhID0gMSwgYiA9IDAsIGMgPSAwLCBkID0gMSwgdHggPSAwLCB0eSA9IDApXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmEgPSBhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYiA9IGI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jID0gYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmQgPSBkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHggPSB0eDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG5cbiAgICAgICAgdGhpcy5hcnJheSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIE1hdHJpeCBvYmplY3QgYmFzZWQgb24gdGhlIGdpdmVuIGFycmF5LiBUaGUgRWxlbWVudCB0byBNYXRyaXggbWFwcGluZyBvcmRlciBpcyBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYSA9IGFycmF5WzBdXG4gICAgICogYiA9IGFycmF5WzFdXG4gICAgICogYyA9IGFycmF5WzNdXG4gICAgICogZCA9IGFycmF5WzRdXG4gICAgICogdHggPSBhcnJheVsyXVxuICAgICAqIHR5ID0gYXJyYXlbNV1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIGFycmF5IHRoYXQgdGhlIG1hdHJpeCB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tLlxuICAgICAqL1xuICAgIGZyb21BcnJheShhcnJheSlcbiAgICB7XG4gICAgICAgIHRoaXMuYSA9IGFycmF5WzBdO1xuICAgICAgICB0aGlzLmIgPSBhcnJheVsxXTtcbiAgICAgICAgdGhpcy5jID0gYXJyYXlbM107XG4gICAgICAgIHRoaXMuZCA9IGFycmF5WzRdO1xuICAgICAgICB0aGlzLnR4ID0gYXJyYXlbMl07XG4gICAgICAgIHRoaXMudHkgPSBhcnJheVs1XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzZXRzIHRoZSBtYXRyaXggcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGEgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGMgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGQgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIHNldChhLCBiLCBjLCBkLCB0eCwgdHkpXG4gICAge1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIHRoaXMudHkgPSB0eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGZyb20gdGhlIGN1cnJlbnQgTWF0cml4IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNwb3NlIC0gV2hldGhlciB3ZSBuZWVkIHRvIHRyYW5zcG9zZSB0aGUgbWF0cml4IG9yIG5vdFxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PW5ldyBGbG9hdDMyQXJyYXkoOSldIC0gSWYgcHJvdmlkZWQgdGhlIGFycmF5IHdpbGwgYmUgYXNzaWduZWQgdG8gb3V0XG4gICAgICogQHJldHVybiB7bnVtYmVyW119IHRoZSBuZXdseSBjcmVhdGVkIGFycmF5IHdoaWNoIGNvbnRhaW5zIHRoZSBtYXRyaXhcbiAgICAgKi9cbiAgICB0b0FycmF5KHRyYW5zcG9zZSwgb3V0KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSg5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFycmF5ID0gb3V0IHx8IHRoaXMuYXJyYXk7XG5cbiAgICAgICAgaWYgKHRyYW5zcG9zZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYjtcbiAgICAgICAgICAgIGFycmF5WzJdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5jO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs2XSA9IHRoaXMudHg7XG4gICAgICAgICAgICBhcnJheVs3XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGFycmF5WzFdID0gdGhpcy5jO1xuICAgICAgICAgICAgYXJyYXlbMl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbM10gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgICAgIGFycmF5WzVdID0gdGhpcy50eTtcbiAgICAgICAgICAgIGFycmF5WzZdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzddID0gMDtcbiAgICAgICAgICAgIGFycmF5WzhdID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxuICAgICAqIENhbiBiZSB1c2VkIHRvIGdvIGZyb20gYSBjaGlsZCdzIGNvb3JkaW5hdGUgc3BhY2UgdG8gdGhlIHdvcmxkIGNvb3JkaW5hdGUgc3BhY2UuIChlLmcuIHJlbmRlcmluZylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuICAgIGFwcGx5KHBvcywgbmV3UG9zKVxuICAgIHtcbiAgICAgICAgbmV3UG9zID0gbmV3UG9zIHx8IG5ldyBQb2ludCgpO1xuXG4gICAgICAgIGNvbnN0IHggPSBwb3MueDtcbiAgICAgICAgY29uc3QgeSA9IHBvcy55O1xuXG4gICAgICAgIG5ld1Bvcy54ID0gKHRoaXMuYSAqIHgpICsgKHRoaXMuYyAqIHkpICsgdGhpcy50eDtcbiAgICAgICAgbmV3UG9zLnkgPSAodGhpcy5iICogeCkgKyAodGhpcy5kICogeSkgKyB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGludmVyc2Ugb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlIHRvIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiBpbnB1dClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgaW52ZXJzZS10cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG4gICAgYXBwbHlJbnZlcnNlKHBvcywgbmV3UG9zKVxuICAgIHtcbiAgICAgICAgbmV3UG9zID0gbmV3UG9zIHx8IG5ldyBQb2ludCgpO1xuXG4gICAgICAgIGNvbnN0IGlkID0gMSAvICgodGhpcy5hICogdGhpcy5kKSArICh0aGlzLmMgKiAtdGhpcy5iKSk7XG5cbiAgICAgICAgY29uc3QgeCA9IHBvcy54O1xuICAgICAgICBjb25zdCB5ID0gcG9zLnk7XG5cbiAgICAgICAgbmV3UG9zLnggPSAodGhpcy5kICogaWQgKiB4KSArICgtdGhpcy5jICogaWQgKiB5KSArICgoKHRoaXMudHkgKiB0aGlzLmMpIC0gKHRoaXMudHggKiB0aGlzLmQpKSAqIGlkKTtcbiAgICAgICAgbmV3UG9zLnkgPSAodGhpcy5hICogaWQgKiB5KSArICgtdGhpcy5iICogaWQgKiB4KSArICgoKC10aGlzLnR5ICogdGhpcy5hKSArICh0aGlzLnR4ICogdGhpcy5iKSkgKiBpZCk7XG5cbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBtYXRyaXggb24gdGhlIHggYW5kIHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeCBieVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IEhvdyBtdWNoIHRvIHRyYW5zbGF0ZSB5IGJ5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgdHJhbnNsYXRlKHgsIHkpXG4gICAge1xuICAgICAgICB0aGlzLnR4ICs9IHg7XG4gICAgICAgIHRoaXMudHkgKz0geTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgc2NhbGUgdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBhbW91bnQgdG8gc2NhbGUgaG9yaXpvbnRhbGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIGFtb3VudCB0byBzY2FsZSB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgc2NhbGUoeCwgeSlcbiAgICB7XG4gICAgICAgIHRoaXMuYSAqPSB4O1xuICAgICAgICB0aGlzLmQgKj0geTtcbiAgICAgICAgdGhpcy5jICo9IHg7XG4gICAgICAgIHRoaXMuYiAqPSB5O1xuICAgICAgICB0aGlzLnR4ICo9IHg7XG4gICAgICAgIHRoaXMudHkgKj0geTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgcm90YXRpb24gdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSAtIFRoZSBhbmdsZSBpbiByYWRpYW5zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIHJvdGF0ZShhbmdsZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgY29uc3Qgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgICAgIGNvbnN0IGExID0gdGhpcy5hO1xuICAgICAgICBjb25zdCBjMSA9IHRoaXMuYztcbiAgICAgICAgY29uc3QgdHgxID0gdGhpcy50eDtcblxuICAgICAgICB0aGlzLmEgPSAoYTEgKiBjb3MpIC0gKHRoaXMuYiAqIHNpbik7XG4gICAgICAgIHRoaXMuYiA9IChhMSAqIHNpbikgKyAodGhpcy5iICogY29zKTtcbiAgICAgICAgdGhpcy5jID0gKGMxICogY29zKSAtICh0aGlzLmQgKiBzaW4pO1xuICAgICAgICB0aGlzLmQgPSAoYzEgKiBzaW4pICsgKHRoaXMuZCAqIGNvcyk7XG4gICAgICAgIHRoaXMudHggPSAodHgxICogY29zKSAtICh0aGlzLnR5ICogc2luKTtcbiAgICAgICAgdGhpcy50eSA9ICh0eDEgKiBzaW4pICsgKHRoaXMudHkgKiBjb3MpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgdGhlIGdpdmVuIE1hdHJpeCB0byB0aGlzIE1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gYXBwZW5kLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIGFwcGVuZChtYXRyaXgpXG4gICAge1xuICAgICAgICBjb25zdCBhMSA9IHRoaXMuYTtcbiAgICAgICAgY29uc3QgYjEgPSB0aGlzLmI7XG4gICAgICAgIGNvbnN0IGMxID0gdGhpcy5jO1xuICAgICAgICBjb25zdCBkMSA9IHRoaXMuZDtcblxuICAgICAgICB0aGlzLmEgPSAobWF0cml4LmEgKiBhMSkgKyAobWF0cml4LmIgKiBjMSk7XG4gICAgICAgIHRoaXMuYiA9IChtYXRyaXguYSAqIGIxKSArIChtYXRyaXguYiAqIGQxKTtcbiAgICAgICAgdGhpcy5jID0gKG1hdHJpeC5jICogYTEpICsgKG1hdHJpeC5kICogYzEpO1xuICAgICAgICB0aGlzLmQgPSAobWF0cml4LmMgKiBiMSkgKyAobWF0cml4LmQgKiBkMSk7XG5cbiAgICAgICAgdGhpcy50eCA9IChtYXRyaXgudHggKiBhMSkgKyAobWF0cml4LnR5ICogYzEpICsgdGhpcy50eDtcbiAgICAgICAgdGhpcy50eSA9IChtYXRyaXgudHggKiBiMSkgKyAobWF0cml4LnR5ICogZDEpICsgdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXRyaXggYmFzZWQgb24gYWxsIHRoZSBhdmFpbGFibGUgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBQb3NpdGlvbiBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBQb3NpdGlvbiBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WCAtIFBpdm90IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl2b3RZIC0gUGl2b3Qgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVggLSBTY2FsZSBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWSAtIFNjYWxlIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBSb3RhdGlvbiBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNrZXdYIC0gU2tldyBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNrZXdZIC0gU2tldyBvbiB0aGUgeSBheGlzXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgc2V0VHJhbnNmb3JtKHgsIHksIHBpdm90WCwgcGl2b3RZLCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSlcbiAgICB7XG4gICAgICAgIHRoaXMuYSA9IE1hdGguY29zKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgICAgICB0aGlzLmIgPSBNYXRoLnNpbihyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5jID0gLU1hdGguc2luKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuICAgICAgICB0aGlzLmQgPSBNYXRoLmNvcyhyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcblxuICAgICAgICB0aGlzLnR4ID0geCAtICgocGl2b3RYICogdGhpcy5hKSArIChwaXZvdFkgKiB0aGlzLmMpKTtcbiAgICAgICAgdGhpcy50eSA9IHkgLSAoKHBpdm90WCAqIHRoaXMuYikgKyAocGl2b3RZICogdGhpcy5kKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJlcGVuZHMgdGhlIGdpdmVuIE1hdHJpeCB0byB0aGlzIE1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gcHJlcGVuZFxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIHByZXBlbmQobWF0cml4KVxuICAgIHtcbiAgICAgICAgY29uc3QgdHgxID0gdGhpcy50eDtcblxuICAgICAgICBpZiAobWF0cml4LmEgIT09IDEgfHwgbWF0cml4LmIgIT09IDAgfHwgbWF0cml4LmMgIT09IDAgfHwgbWF0cml4LmQgIT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGExID0gdGhpcy5hO1xuICAgICAgICAgICAgY29uc3QgYzEgPSB0aGlzLmM7XG5cbiAgICAgICAgICAgIHRoaXMuYSA9IChhMSAqIG1hdHJpeC5hKSArICh0aGlzLmIgKiBtYXRyaXguYyk7XG4gICAgICAgICAgICB0aGlzLmIgPSAoYTEgKiBtYXRyaXguYikgKyAodGhpcy5iICogbWF0cml4LmQpO1xuICAgICAgICAgICAgdGhpcy5jID0gKGMxICogbWF0cml4LmEpICsgKHRoaXMuZCAqIG1hdHJpeC5jKTtcbiAgICAgICAgICAgIHRoaXMuZCA9IChjMSAqIG1hdHJpeC5iKSArICh0aGlzLmQgKiBtYXRyaXguZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnR4ID0gKHR4MSAqIG1hdHJpeC5hKSArICh0aGlzLnR5ICogbWF0cml4LmMpICsgbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gKHR4MSAqIG1hdHJpeC5iKSArICh0aGlzLnR5ICogbWF0cml4LmQpICsgbWF0cml4LnR5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgdGhlIG1hdHJpeCAoeCwgeSwgc2NhbGVYLCBzY2FsZVksIGFuZCByb3RhdGlvbikgYW5kIHNldHMgdGhlIHByb3BlcnRpZXMgb24gdG8gYSB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIHRvIGFwcGx5IHRoZSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVHJhbnNmb3JtfSBUaGUgdHJhbnNmb3JtIHdpdGggdGhlIG5ld2x5IGFwcGxpZWQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGRlY29tcG9zZSh0cmFuc2Zvcm0pXG4gICAge1xuICAgICAgICAvLyBzb3J0IG91dCByb3RhdGlvbiAvIHNrZXcuLlxuICAgICAgICBjb25zdCBhID0gdGhpcy5hO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5iO1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jO1xuICAgICAgICBjb25zdCBkID0gdGhpcy5kO1xuXG4gICAgICAgIGNvbnN0IHNrZXdYID0gLU1hdGguYXRhbjIoLWMsIGQpO1xuICAgICAgICBjb25zdCBza2V3WSA9IE1hdGguYXRhbjIoYiwgYSk7XG5cbiAgICAgICAgY29uc3QgZGVsdGEgPSBNYXRoLmFicyhza2V3WCArIHNrZXdZKTtcblxuICAgICAgICBpZiAoZGVsdGEgPCAwLjAwMDAxIHx8IE1hdGguYWJzKFBJXzIgLSBkZWx0YSkgPCAwLjAwMDAxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBza2V3WTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5za2V3LnggPSB0cmFuc2Zvcm0uc2tldy55ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IDA7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gc2tld1g7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy55ID0gc2tld1k7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBuZXh0IHNldCBzY2FsZVxuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUueCA9IE1hdGguc3FydCgoYSAqIGEpICsgKGIgKiBiKSk7XG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZS55ID0gTWF0aC5zcXJ0KChjICogYykgKyAoZCAqIGQpKTtcblxuICAgICAgICAvLyBuZXh0IHNldCBwb3NpdGlvblxuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHRoaXMudHg7XG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gdHJhbnNmb3JtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludmVydHMgdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIGludmVydCgpXG4gICAge1xuICAgICAgICBjb25zdCBhMSA9IHRoaXMuYTtcbiAgICAgICAgY29uc3QgYjEgPSB0aGlzLmI7XG4gICAgICAgIGNvbnN0IGMxID0gdGhpcy5jO1xuICAgICAgICBjb25zdCBkMSA9IHRoaXMuZDtcbiAgICAgICAgY29uc3QgdHgxID0gdGhpcy50eDtcbiAgICAgICAgY29uc3QgbiA9IChhMSAqIGQxKSAtIChiMSAqIGMxKTtcblxuICAgICAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICAgICAgdGhpcy50eCA9ICgoYzEgKiB0aGlzLnR5KSAtIChkMSAqIHR4MSkpIC8gbjtcbiAgICAgICAgdGhpcy50eSA9IC0oKGExICogdGhpcy50eSkgLSAoYjEgKiB0eDEpKSAvIG47XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoaXMgTWF0cml4IHRvIGFuIGlkZW50aXR5IChkZWZhdWx0KSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBpZGVudGl0eSgpXG4gICAge1xuICAgICAgICB0aGlzLmEgPSAxO1xuICAgICAgICB0aGlzLmIgPSAwO1xuICAgICAgICB0aGlzLmMgPSAwO1xuICAgICAgICB0aGlzLmQgPSAxO1xuICAgICAgICB0aGlzLnR4ID0gMDtcbiAgICAgICAgdGhpcy50eSA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBNYXRyaXggb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IEEgY29weSBvZiB0aGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgZ2l2ZW4gbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIHRoaXMgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGNvcHkgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXRyaXggZ2l2ZW4gaW4gcGFyYW1ldGVyIHdpdGggaXRzIHZhbHVlcyB1cGRhdGVkLlxuICAgICAqL1xuICAgIGNvcHlUbyhtYXRyaXgpXG4gICAge1xuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIGdpdmVuIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IHRoaXNcbiAgICAgKi9cbiAgICBjb3B5RnJvbShtYXRyaXgpXG4gICAge1xuICAgICAgICB0aGlzLmEgPSBtYXRyaXguYTtcbiAgICAgICAgdGhpcy5iID0gbWF0cml4LmI7XG4gICAgICAgIHRoaXMuYyA9IG1hdHJpeC5jO1xuICAgICAgICB0aGlzLmQgPSBtYXRyaXguZDtcbiAgICAgICAgdGhpcy50eCA9IG1hdHJpeC50eDtcbiAgICAgICAgdGhpcy50eSA9IG1hdHJpeC50eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGRlZmF1bHQgKGlkZW50aXR5KSBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IElERU5USVRZKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSB0ZW1wIG1hdHJpeFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdFxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgVEVNUF9NQVRSSVgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICB9XG59XG4iLCIvLyBZb3VyIGZyaWVuZGx5IG5laWdoYm91ciBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EaWhlZHJhbF9ncm91cFxuLy9cbi8vIFRoaXMgZmlsZSBpbXBsZW1lbnRzIHRoZSBkaWhlZHJhbCBncm91cCBvZiBvcmRlciAxNiwgYWxzbyBjYWxsZWRcbi8vIG9mIGRlZ3JlZSA4LiBUaGF0J3Mgd2h5IGl0cyBjYWxsZWQgR3JvdXBEOC5cblxuaW1wb3J0IE1hdHJpeCBmcm9tICcuL01hdHJpeCc7XG5cbi8qXG4gKiBUcmFuc2Zvcm0gbWF0cml4IGZvciBvcGVyYXRpb24gbiBpczpcbiAqIHwgdXggfCB2eCB8XG4gKiB8IHV5IHwgdnkgfFxuICovXG5cbmNvbnN0IHV4ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDFdO1xuY29uc3QgdXkgPSBbMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG5jb25zdCB2eCA9IFswLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbmNvbnN0IHZ5ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTFdO1xuXG4vKipcbiAqIFtDYXlsZXkgVGFibGVde0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NheWxleV90YWJsZX1cbiAqIGZvciB0aGUgY29tcG9zaXRpb24gb2YgZWFjaCByb3RhdGlvbiBpbiB0aGUgZGloZWRlcmFsIGdyb3VwIEQ4LlxuICpcbiAqIEB0eXBlIG51bWJlcltdW11cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHJvdGF0aW9uQ2F5bGV5ID0gW107XG5cbi8qKlxuICogTWF0cmljZXMgZm9yIGVhY2ggYEdEOFN5bW1ldHJ5YCByb3RhdGlvbi5cbiAqXG4gKiBAdHlwZSBNYXRyaXhbXVxuICogQHByaXZhdGVcbiAqL1xuY29uc3Qgcm90YXRpb25NYXRyaWNlcyA9IFtdO1xuXG4vKlxuICogQWxpYXMgZm9yIHtAY29kZSBNYXRoLnNpZ259LlxuICovXG5jb25zdCBzaWdudW0gPSBNYXRoLnNpZ247XG5cbi8qXG4gKiBJbml0aWFsaXplcyBgcm90YXRpb25DYXlsZXlgIGFuZCBgcm90YXRpb25NYXRyaWNlc2AuIEl0IGlzIGNhbGxlZFxuICogb25seSBvbmNlIGJlbG93LlxuICovXG5mdW5jdGlvbiBpbml0KClcbntcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspXG4gICAge1xuICAgICAgICBjb25zdCByb3cgPSBbXTtcblxuICAgICAgICByb3RhdGlvbkNheWxleS5wdXNoKHJvdyk7XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxNjsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBNdWx0aXBsaWVzIHJvdGF0aW9uIG1hdHJpY2VzIGkgYW5kIGouICovXG4gICAgICAgICAgICBjb25zdCBfdXggPSBzaWdudW0oKHV4W2ldICogdXhbal0pICsgKHZ4W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIGNvbnN0IF91eSA9IHNpZ251bSgodXlbaV0gKiB1eFtqXSkgKyAodnlbaV0gKiB1eVtqXSkpO1xuICAgICAgICAgICAgY29uc3QgX3Z4ID0gc2lnbnVtKCh1eFtpXSAqIHZ4W2pdKSArICh2eFtpXSAqIHZ5W2pdKSk7XG4gICAgICAgICAgICBjb25zdCBfdnkgPSBzaWdudW0oKHV5W2ldICogdnhbal0pICsgKHZ5W2ldICogdnlbal0pKTtcblxuICAgICAgICAgICAgLyogRmluZHMgcm90YXRpb24gbWF0cml4IG1hdGNoaW5nIHRoZSBwcm9kdWN0IGFuZCBwdXNoZXMgaXQuICovXG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IDE2OyBrKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHV4W2tdID09PSBfdXggJiYgdXlba10gPT09IF91eVxuICAgICAgICAgICAgICAgICAgICAgICYmIHZ4W2tdID09PSBfdnggJiYgdnlba10gPT09IF92eSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5wdXNoKGspO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspXG4gICAge1xuICAgICAgICBjb25zdCBtYXQgPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgbWF0LnNldCh1eFtpXSwgdXlbaV0sIHZ4W2ldLCB2eVtpXSwgMCwgMCk7XG4gICAgICAgIHJvdGF0aW9uTWF0cmljZXMucHVzaChtYXQpO1xuICAgIH1cbn1cblxuaW5pdCgpO1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7bnVtYmVyfSBHRDhTeW1tZXRyeVxuICogQHNlZSBQSVhJLkdyb3VwRDhcbiAqL1xuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIGRpaGVkcmFsIGdyb3VwIEQ4LCB3aGljaCBpcyBzaW1pbGFyIHRvXG4gKiBbZ3JvdXAgRDRde0BsaW5rIGh0dHA6Ly9tYXRod29ybGQud29sZnJhbS5jb20vRGloZWRyYWxHcm91cEQ0Lmh0bWx9O1xuICogRDggaXMgdGhlIHNhbWUgYnV0IHdpdGggZGlhZ29uYWxzLCBhbmQgaXQgaXMgdXNlZCBmb3IgdGV4dHVyZVxuICogcm90YXRpb25zLlxuICpcbiAqIFRoZSBkaXJlY3Rpb25zIHRoZSBVLSBhbmQgVi0gYXhlcyBhZnRlciByb3RhdGlvblxuICogb2YgYW4gYW5nbGUgb2YgYGE6IEdEOENvbnN0YW50YCBhcmUgdGhlIHZlY3RvcnMgYCh1WChhKSwgdVkoYSkpYFxuICogYW5kIGAodlgoYSksIHZZKGEpKWAuIFRoZXNlIGFyZW4ndCBuZWNlc3NhcmlseSB1bml0IHZlY3RvcnMuXG4gKlxuICogKipPcmlnaW46Kio8YnI+XG4gKiAgVGhpcyBpcyB0aGUgc21hbGwgcGFydCBvZiBnYW1lb2Zib21icy5jb20gcG9ydGFsIHN5c3RlbS4gSXQgd29ya3MuXG4gKlxuICogQHNlZSBQSVhJLkdyb3VwRDguRVxuICogQHNlZSBQSVhJLkdyb3VwRDguU0VcbiAqIEBzZWUgUElYSS5Hcm91cEQ4LlNcbiAqIEBzZWUgUElYSS5Hcm91cEQ4LlNXXG4gKiBAc2VlIFBJWEkuR3JvdXBEOC5XXG4gKiBAc2VlIFBJWEkuR3JvdXBEOC5OV1xuICogQHNlZSBQSVhJLkdyb3VwRDguTlxuICogQHNlZSBQSVhJLkdyb3VwRDguTkVcbiAqIEBhdXRob3IgSXZhbiBAaXZhbnBvcGVseXNoZXZcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuY29uc3QgR3JvdXBEOCA9IHtcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDDCsCAgICAgICB8IEVhc3QgICAgICB8XG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgRTogMCxcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgNDXCsOKGuyAgICAgfCBTb3V0aGVhc3QgfFxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFNFOiAxLFxuXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCA5MMKw4oa7ICAgICB8IFNvdXRoICAgICB8XG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgUzogMixcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMTM1wrDihrsgICAgfCBTb3V0aHdlc3QgfFxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFNXOiAzLFxuXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAxODDCsCAgICAgfCBXZXN0ICAgICAgfFxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFc6IDQsXG5cbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC0xMzXCsC8yMjXCsOKGuyB8IE5vcnRod2VzdCAgICB8XG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTlc6IDUsXG5cbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC05MMKwLzI3MMKw4oa7ICB8IE5vcnRoICAgICAgICB8XG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTjogNixcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTQ1wrAvMzE1wrDihrsgIHwgTm9ydGhlYXN0ICAgIHxcbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBORTogNyxcblxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgWS1heGlzLlxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1JUlJPUl9WRVJUSUNBTDogOCxcblxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgdGhlIG1haW4gZGlhZ29uYWwuXG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUFJTl9ESUFHT05BTDogMTAsXG5cbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IFgtYXhpcy5cbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNSVJST1JfSE9SSVpPTlRBTDogMTIsXG5cbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IHJldmVyc2UgZGlhZ29uYWwuXG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgUkVWRVJTRV9ESUFHT05BTDogMTQsXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFgtY29tcG9uZW50IG9mIHRoZSBVLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB1WDogKGluZCkgPT4gdXhbaW5kXSxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWS1jb21wb25lbnQgb2YgdGhlIFUtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHVZOiAoaW5kKSA9PiB1eVtpbmRdLFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBYLWNvbXBvbmVudCBvZiB0aGUgVi1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdlg6IChpbmQpID0+IHZ4W2luZF0sXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFktY29tcG9uZW50IG9mIHRoZSBWLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB2WTogKGluZCkgPT4gdnlbaW5kXSxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gc3ltbWV0cnkgd2hvc2Ugb3Bwb3NpdGVcbiAgICAgKiAgIGlzIG5lZWRlZC4gT25seSByb3RhdGlvbnMgaGF2ZSBvcHBvc2l0ZSBzeW1tZXRyaWVzIHdoaWxlXG4gICAgICogICByZWZsZWN0aW9ucyBkb24ndC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgb3Bwb3NpdGUgc3ltbWV0cnkgb2YgYHJvdGF0aW9uYFxuICAgICAqL1xuICAgIGludjogKHJvdGF0aW9uKSA9PlxuICAgIHtcbiAgICAgICAgaWYgKHJvdGF0aW9uICYgOCkvLyB0cnVlIG9ubHkgaWYgYmV0d2VlbiA4ICYgMTUgKHJlZmxlY3Rpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb24gJiAxNTsvLyBvciByb3RhdGlvbiAlIDE2XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKC1yb3RhdGlvbikgJiA3Oy8vIG9yICg4IC0gcm90YXRpb24pICUgOFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb21wb3NlcyB0aGUgdHdvIEQ4IG9wZXJhdGlvbnMuXG4gICAgICpcbiAgICAgKiBUYWtpbmcgYF5gIGFzIHJlZmxlY3Rpb246XG4gICAgICpcbiAgICAgKiB8ICAgICAgIHwgRT0wIHwgUz0yIHwgVz00IHwgTj02IHwgRV49OCB8IFNePTEwIHwgV149MTIgfCBOXj0xNCB8XG4gICAgICogfC0tLS0tLS18LS0tLS18LS0tLS18LS0tLS18LS0tLS18LS0tLS0tfC0tLS0tLS18LS0tLS0tLXwtLS0tLS0tfFxuICAgICAqIHwgRT0wICAgfCBFICAgfCBTICAgfCBXICAgfCBOICAgfCBFXiAgIHwgU14gICAgfCBXXiAgICB8IE5eICAgIHxcbiAgICAgKiB8IFM9MiAgIHwgUyAgIHwgVyAgIHwgTiAgIHwgRSAgIHwgU14gICB8IFdeICAgIHwgTl4gICAgfCBFXiAgICB8XG4gICAgICogfCBXPTQgICB8IFcgICB8IE4gICB8IEUgICB8IFMgICB8IFdeICAgfCBOXiAgICB8IEVeICAgIHwgU14gICAgfFxuICAgICAqIHwgTj02ICAgfCBOICAgfCBFICAgfCBTICAgfCBXICAgfCBOXiAgIHwgRV4gICAgfCBTXiAgICB8IFdeICAgIHxcbiAgICAgKiB8IEVePTggIHwgRV4gIHwgTl4gIHwgV14gIHwgU14gIHwgRSAgICB8IE4gICAgIHwgVyAgICAgfCBTICAgICB8XG4gICAgICogfCBTXj0xMCB8IFNeICB8IEVeICB8IE5eICB8IFdeICB8IFMgICAgfCBFICAgICB8IE4gICAgIHwgVyAgICAgfFxuICAgICAqIHwgV149MTIgfCBXXiAgfCBTXiAgfCBFXiAgfCBOXiAgfCBXICAgIHwgUyAgICAgfCBFICAgICB8IE4gICAgIHxcbiAgICAgKiB8IE5ePTE0IHwgTl4gIHwgV14gIHwgU14gIHwgRV4gIHwgTiAgICB8IFcgICAgIHwgUyAgICAgfCBFICAgICB8XG4gICAgICpcbiAgICAgKiBbVGhpcyBpcyBhIENheWxleSB0YWJsZV17QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F5bGV5X3RhYmxlfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uU2Vjb25kIC0gU2Vjb25kIG9wZXJhdGlvbiwgd2hpY2hcbiAgICAgKiAgIGlzIHRoZSByb3cgaW4gdGhlIGFib3ZlIGNheWxleSB0YWJsZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uRmlyc3QgLSBGaXJzdCBvcGVyYXRpb24sIHdoaWNoXG4gICAgICogICBpcyB0aGUgY29sdW1uIGluIHRoZSBhYm92ZSBjYXlsZXkgdGFibGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gQ29tcG9zZWQgb3BlcmF0aW9uXG4gICAgICovXG4gICAgYWRkOiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpID0+IChcbiAgICAgICAgcm90YXRpb25DYXlsZXlbcm90YXRpb25TZWNvbmRdW3JvdGF0aW9uRmlyc3RdXG4gICAgKSxcblxuICAgIC8qKlxuICAgICAqIFJldmVyc2Ugb2YgYGFkZGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvblNlY29uZCAtIFNlY29uZCBvcGVyYXRpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uRmlyc3QgLSBGaXJzdCBvcGVyYXRpb25cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBSZXN1bHRcbiAgICAgKi9cbiAgICBzdWI6IChyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkgPT4gKFxuICAgICAgICByb3RhdGlvbkNheWxleVtyb3RhdGlvblNlY29uZF1bR3JvdXBEOC5pbnYocm90YXRpb25GaXJzdCldXG4gICAgKSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgMTgwIGRlZ3JlZXMgdG8gcm90YXRpb24sIHdoaWNoIGlzIGEgY29tbXV0YXRpdmVcbiAgICAgKiBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byByb3RhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUm90YXRlZCBudW1iZXJcbiAgICAgKi9cbiAgICByb3RhdGUxODA6IChyb3RhdGlvbikgPT4gcm90YXRpb24gXiA0LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSByb3RhdGlvbiBhbmdsZSBpcyB2ZXJ0aWNhbCwgaS5lLiBzb3V0aFxuICAgICAqIG9yIG5vcnRoLiBJdCBkb2Vzbid0IHdvcmsgZm9yIHJlZmxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgZGlyZWN0aW9uIGlzIHZlcnRpY2FsXG4gICAgICovXG4gICAgaXNWZXJ0aWNhbDogKHJvdGF0aW9uKSA9PiAocm90YXRpb24gJiAzKSA9PT0gMiwgLy8gcm90YXRpb24gJSA0ID09PSAyXG5cbiAgICAvKipcbiAgICAgKiBBcHByb3hpbWF0ZXMgdGhlIHZlY3RvciBgVihkeCxkeSlgIGludG8gb25lIG9mIHRoZVxuICAgICAqIGVpZ2h0IGRpcmVjdGlvbnMgcHJvdmlkZWQgYnkgYEdyb3VwRDhgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeCAtIFgtY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHkgLSBZLWNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gQXBwcm94aW1hdGlvbiBvZiB0aGUgdmVjdG9yIGludG9cbiAgICAgKiAgb25lIG9mIHRoZSBlaWdodCBzeW1tZXRyaWVzLlxuICAgICAqL1xuICAgIGJ5RGlyZWN0aW9uOiAoZHgsIGR5KSA9PlxuICAgIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGR4KSAqIDIgPD0gTWF0aC5hYnMoZHkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZHkgPj0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5OO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGR5KSAqIDIgPD0gTWF0aC5hYnMoZHgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LkU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4Llc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHkgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LlNFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TVztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4Lk5FO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEdyb3VwRDguTlc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBzIHNwcml0ZSB0byBjb21wZW5zYXRlIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIHNwcml0ZSB3b3JsZCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gVGhlIHJvdGF0aW9uIGZhY3RvciB0byB1c2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKi9cbiAgICBtYXRyaXhBcHBlbmRSb3RhdGlvbkludjogKG1hdHJpeCwgcm90YXRpb24sIHR4ID0gMCwgdHkgPSAwKSA9PlxuICAgIHtcbiAgICAgICAgLy8gUGFja2VyIHVzZWQgXCJyb3RhdGlvblwiLCB3ZSB1c2UgXCJpbnYocm90YXRpb24pXCJcbiAgICAgICAgY29uc3QgbWF0ID0gcm90YXRpb25NYXRyaWNlc1tHcm91cEQ4Lmludihyb3RhdGlvbildO1xuXG4gICAgICAgIG1hdC50eCA9IHR4O1xuICAgICAgICBtYXQudHkgPSB0eTtcbiAgICAgICAgbWF0cml4LmFwcGVuZChtYXQpO1xuICAgIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBHcm91cEQ4O1xuIiwiaW1wb3J0IE9ic2VydmFibGVQb2ludCBmcm9tICcuL09ic2VydmFibGVQb2ludCc7XG5pbXBvcnQgTWF0cml4IGZyb20gJy4vTWF0cml4JztcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhhdCB0YWtlcyBjYXJlIGFib3V0IGl0cyB2ZXJzaW9uc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNmb3JtXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3b3JsZCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvY2FsVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZSA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy5vbkNoYW5nZSwgdGhpcywgMSwgMSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGl2b3QgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2tldyBhbW91bnQsIG9uIHRoZSB4IGFuZCB5IGF4aXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5za2V3ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLnVwZGF0ZVNrZXcsIHRoaXMsIDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gYW1vdW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JvdGF0aW9uID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFgtY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3ggPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWS1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFggYXhpcyxcbiAgICAgICAgICogdGhlIGZpcnN0IGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zeCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWSBheGlzLFxuICAgICAgICAgKiB0aGUgc2Vjb25kIGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jeSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBZLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWSBheGlzLFxuICAgICAgICAgKiB0aGUgc2Vjb25kIGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zeSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvY2FsSUQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIGxvY2FsIHRyYW5zZm9ybVxuICAgICAgICAgKiB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgY3VycmVudCBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIHdvcmxkIHRyYW5zZm9ybS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93b3JsZElEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBwYXJlbnQncyB3b3JsZCB0cmFuc2Zvcm1cbiAgICAgICAgICogdXNlZCB0byBjYWxjdWxhdGUgdGhlIGN1cnJlbnQgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3BhcmVudElEID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhIHZhbHVlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25DaGFuZ2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBza2V3IG9yIHRoZSByb3RhdGlvbiBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHVwZGF0ZVNrZXcoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY3ggPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy5feSk7XG4gICAgICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgICAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIGNvcywgYWRkZWQgUEkvMlxuICAgICAgICB0aGlzLl9zeSA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3Ll94KTsgLy8gc2luLCBhZGRlZCBQSS8yXG5cbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgKi9cbiAgICB1cGRhdGVMb2NhbFRyYW5zZm9ybSgpXG4gICAge1xuICAgICAgICBjb25zdCBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS5feTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUuX3k7XG5cbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi5feCAtICgodGhpcy5waXZvdC5feCAqIGx0LmEpICsgKHRoaXMucGl2b3QuX3kgKiBsdC5jKSk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24uX3kgLSAoKHRoaXMucGl2b3QuX3ggKiBsdC5iKSArICh0aGlzLnBpdm90Ll95ICogbHQuZCkpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuXG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGxvY2FsIGFuZCB0aGUgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cmljZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSBwYXJlbnRUcmFuc2Zvcm0gLSBUaGUgcGFyZW50IHRyYW5zZm9ybVxuICAgICAqL1xuICAgIHVwZGF0ZVRyYW5zZm9ybShwYXJlbnRUcmFuc2Zvcm0pXG4gICAge1xuICAgICAgICBjb25zdCBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS5feTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUuX3k7XG5cbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi5feCAtICgodGhpcy5waXZvdC5feCAqIGx0LmEpICsgKHRoaXMucGl2b3QuX3kgKiBsdC5jKSk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24uX3kgLSAoKHRoaXMucGl2b3QuX3ggKiBsdC5iKSArICh0aGlzLnBpdm90Ll95ICogbHQuZCkpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuXG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wYXJlbnRJRCAhPT0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgICAgICAgICBjb25zdCBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIGNvbnN0IHd0ID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgd3QuYSA9IChsdC5hICogcHQuYSkgKyAobHQuYiAqIHB0LmMpO1xuICAgICAgICAgICAgd3QuYiA9IChsdC5hICogcHQuYikgKyAobHQuYiAqIHB0LmQpO1xuICAgICAgICAgICAgd3QuYyA9IChsdC5jICogcHQuYSkgKyAobHQuZCAqIHB0LmMpO1xuICAgICAgICAgICAgd3QuZCA9IChsdC5jICogcHQuYikgKyAobHQuZCAqIHB0LmQpO1xuICAgICAgICAgICAgd3QudHggPSAobHQudHggKiBwdC5hKSArIChsdC50eSAqIHB0LmMpICsgcHQudHg7XG4gICAgICAgICAgICB3dC50eSA9IChsdC50eCAqIHB0LmIpICsgKGx0LnR5ICogcHQuZCkgKyBwdC50eTtcblxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQ7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgaWQgb2YgdGhlIHRyYW5zZm9ybS4uXG4gICAgICAgICAgICB0aGlzLl93b3JsZElEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIGEgbWF0cml4IGFuZCBzZXRzIHRoZSB0cmFuc2Zvcm1zIHByb3BlcnRpZXMgYmFzZWQgb24gaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGRlY29tcG9zZVxuICAgICAqL1xuICAgIHNldEZyb21NYXRyaXgobWF0cml4KVxuICAgIHtcbiAgICAgICAgbWF0cml4LmRlY29tcG9zZSh0aGlzKTtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHJvdGF0aW9uKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgcm90YXRpb24odmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2tldygpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEEgZGVmYXVsdCAoaWRlbnRpdHkpIHRyYW5zZm9ybVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gKi9cblRyYW5zZm9ybS5JREVOVElUWSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiIsImltcG9ydCB7IFNIQVBFUyB9IGZyb20gJy4uL2NvbnN0JztcblxuLyoqXG4gKiBTaXplIG9iamVjdCwgY29udGFpbnMgd2lkdGggYW5kIGhlaWdodFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJU2l6ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggY29tcG9uZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IGNvbXBvbmVudFxuICovXG5cbi8qKlxuICogUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIGRlZmluZWQgYnkgaXRzIHBvc2l0aW9uLCBhcyBpbmRpY2F0ZWQgYnkgaXRzIHRvcC1sZWZ0IGNvcm5lclxuICogcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWN0YW5nbGVcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDApXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0gTnVtYmVyKHkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSBOdW1iZXIod2lkdGgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUkVDVDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBsZWZ0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHJpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnggKyB0aGlzLndpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHRvcCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgdG9wKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgYm90dG9tIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBib3R0b20oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgY29uc3RhbnQgZW1wdHkgcmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgRU1QVFkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBjbG9uZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBhbm90aGVyIHJlY3RhbmdsZSB0byB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gY29weSBmcm9tLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBjb3B5RnJvbShyZWN0YW5nbGUpXG4gICAge1xuICAgICAgICB0aGlzLnggPSByZWN0YW5nbGUueDtcbiAgICAgICAgdGhpcy55ID0gcmVjdGFuZ2xlLnk7XG4gICAgICAgIHRoaXMud2lkdGggPSByZWN0YW5nbGUud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVjdGFuZ2xlLmhlaWdodDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhpcyByZWN0YW5nbGUgdG8gYW5vdGhlciBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgZ2l2ZW4gcGFyYW1ldGVyLlxuICAgICAqL1xuICAgIGNvcHlUbyhyZWN0YW5nbGUpXG4gICAge1xuICAgICAgICByZWN0YW5nbGUueCA9IHRoaXMueDtcbiAgICAgICAgcmVjdGFuZ2xlLnkgPSB0aGlzLnk7XG4gICAgICAgIHJlY3RhbmdsZS53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIHJlY3RhbmdsZS5oZWlnaHQgPSB0aGlzLmhlaWdodDtcblxuICAgICAgICByZXR1cm4gcmVjdGFuZ2xlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqL1xuICAgIGNvbnRhaW5zKHgsIHkpXG4gICAge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDwgdGhpcy54ICsgdGhpcy53aWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIHRoZSByZWN0YW5nbGUgbWFraW5nIGl0IGdyb3cgaW4gYWxsIGRpcmVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFkZGluZ1ggLSBUaGUgaG9yaXpvbnRhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFkZGluZ1kgLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICovXG4gICAgcGFkKHBhZGRpbmdYLCBwYWRkaW5nWSlcbiAgICB7XG4gICAgICAgIHBhZGRpbmdYID0gcGFkZGluZ1ggfHwgMDtcbiAgICAgICAgcGFkZGluZ1kgPSBwYWRkaW5nWSB8fCAoKHBhZGRpbmdZICE9PSAwKSA/IHBhZGRpbmdYIDogMCk7XG5cbiAgICAgICAgdGhpcy54IC09IHBhZGRpbmdYO1xuICAgICAgICB0aGlzLnkgLT0gcGFkZGluZ1k7XG5cbiAgICAgICAgdGhpcy53aWR0aCArPSBwYWRkaW5nWCAqIDI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gZml0LlxuICAgICAqL1xuICAgIGZpdChyZWN0YW5nbGUpXG4gICAge1xuICAgICAgICBjb25zdCB4MSA9IE1hdGgubWF4KHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICBjb25zdCB4MiA9IE1hdGgubWluKHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICAgICAgY29uc3QgeTEgPSBNYXRoLm1heCh0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICAgICAgY29uc3QgeTIgPSBNYXRoLm1pbih0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHgyIC0geDEsIDApO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCh5MiAtIHkxLCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyByZWN0YW5nbGUgdGhhdCB3YXkgaXRzIGNvcm5lcnMgbGllIG9uIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSByZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlcHM9MC4wMDFdIHByZWNpc2lvblxuICAgICAqL1xuICAgIGNlaWwocmVzb2x1dGlvbiA9IDEsIGVwcyA9IDAuMDAxKVxuICAgIHtcbiAgICAgICAgY29uc3QgeDIgPSBNYXRoLmNlaWwoKHRoaXMueCArIHRoaXMud2lkdGggLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICBjb25zdCB5MiA9IE1hdGguY2VpbCgodGhpcy55ICsgdGhpcy5oZWlnaHQgLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMueCA9IE1hdGguZmxvb3IoKHRoaXMueCArIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMueSA9IE1hdGguZmxvb3IoKHRoaXMueSArIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHgyIC0gdGhpcy54O1xuICAgICAgICB0aGlzLmhlaWdodCA9IHkyIC0gdGhpcy55O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVubGFyZ2VzIHRoaXMgcmVjdGFuZ2xlIHRvIGluY2x1ZGUgdGhlIHBhc3NlZCByZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGluY2x1ZGUuXG4gICAgICovXG4gICAgZW5sYXJnZShyZWN0YW5nbGUpXG4gICAge1xuICAgICAgICBjb25zdCB4MSA9IE1hdGgubWluKHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICBjb25zdCB4MiA9IE1hdGgubWF4KHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICAgICAgY29uc3QgeTEgPSBNYXRoLm1pbih0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICAgICAgY29uc3QgeTIgPSBNYXRoLm1heCh0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHgyIC0geDE7XG4gICAgICAgIHRoaXMueSA9IHkxO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHkyIC0geTE7XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlY3RhbmdsZSBmcm9tICcuL1JlY3RhbmdsZSc7XG5pbXBvcnQgeyBTSEFQRVMgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogVGhlIENpcmNsZSBvYmplY3QgaXMgdXNlZCB0byBoZWxwIGRyYXcgZ3JhcGhpY3MgYW5kIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENpcmNsZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzPTBdIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCByYWRpdXMgPSAwKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkNJUkNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLkNJUkM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgQ2lyY2xlIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkNpcmNsZX0gYSBjb3B5IG9mIHRoZSBDaXJjbGVcbiAgICAgKi9cbiAgICBjbG9uZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IENpcmNsZSh0aGlzLngsIHRoaXMueSwgdGhpcy5yYWRpdXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgY2lyY2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIENpcmNsZVxuICAgICAqL1xuICAgIGNvbnRhaW5zKHgsIHkpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5yYWRpdXMgPD0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgICAgICBsZXQgZHggPSAodGhpcy54IC0geCk7XG4gICAgICAgIGxldCBkeSA9ICh0aGlzLnkgLSB5KTtcblxuICAgICAgICBkeCAqPSBkeDtcbiAgICAgICAgZHkgKj0gZHk7XG5cbiAgICAgICAgcmV0dXJuIChkeCArIGR5IDw9IHIyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBjaXJjbGUgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gICAgKlxuICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSBmcmFtaW5nIHJlY3RhbmdsZVxuICAgICovXG4gICAgZ2V0Qm91bmRzKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCAtIHRoaXMucmFkaXVzLCB0aGlzLnkgLSB0aGlzLnJhZGl1cywgdGhpcy5yYWRpdXMgKiAyLCB0aGlzLnJhZGl1cyAqIDIpO1xuICAgIH1cbn1cbiIsImltcG9ydCBSZWN0YW5nbGUgZnJvbSAnLi9SZWN0YW5nbGUnO1xuaW1wb3J0IHsgU0hBUEVTIH0gZnJvbSAnLi4vY29uc3QnO1xuXG4vKipcbiAqIFRoZSBFbGxpcHNlIG9iamVjdCBpcyB1c2VkIHRvIGhlbHAgZHJhdyBncmFwaGljcyBhbmQgY2FuIGFsc28gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWxsaXBzZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoYWxmV2lkdGg9MF0gLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hhbGZIZWlnaHQ9MF0gLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhpcyBlbGxpcHNlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCBoYWxmV2lkdGggPSAwLCBoYWxmSGVpZ2h0ID0gMClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gaGFsZldpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGFsZkhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5FTElQXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5FTElQO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIEVsbGlwc2UgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuRWxsaXBzZX0gYSBjb3B5IG9mIHRoZSBlbGxpcHNlXG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbGxpcHNlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRzIGFyZSB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAgICovXG4gICAgY29udGFpbnMoeCwgeSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm9ybWFsaXplIHRoZSBjb29yZHMgdG8gYW4gZWxsaXBzZSB3aXRoIGNlbnRlciAwLDBcbiAgICAgICAgbGV0IG5vcm14ID0gKCh4IC0gdGhpcy54KSAvIHRoaXMud2lkdGgpO1xuICAgICAgICBsZXQgbm9ybXkgPSAoKHkgLSB0aGlzLnkpIC8gdGhpcy5oZWlnaHQpO1xuXG4gICAgICAgIG5vcm14ICo9IG5vcm14O1xuICAgICAgICBub3JteSAqPSBub3JteTtcblxuICAgICAgICByZXR1cm4gKG5vcm14ICsgbm9ybXkgPD0gMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGVsbGlwc2UgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgZ2V0Qm91bmRzKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCAtIHRoaXMud2lkdGgsIHRoaXMueSAtIHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFBvaW50IGZyb20gJy4uL1BvaW50JztcbmltcG9ydCB7IFNIQVBFUyB9IGZyb20gJy4uL2NvbnN0JztcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGRlZmluZSBhIHNoYXBlIHZpYSB1c2VyIGRlZmluZWQgY28tb3JpbmF0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2x5Z29uXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W118bnVtYmVyW119IHBvaW50cyAtIFRoaXMgY2FuIGJlIGFuIGFycmF5IG9mIFBvaW50c1xuICAgICAqICB0aGF0IGZvcm0gdGhlIHBvbHlnb24sIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzIHRoYXQgd2lsbCBiZSBpbnRlcnByZXRlZCBhcyBbeCx5LCB4LHksIC4uLl0sIG9yXG4gICAgICogIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBhbGwgdGhlIHBvaW50cyBvZiB0aGUgcG9seWdvbiBlLmcuXG4gICAgICogIGBuZXcgUElYSS5Qb2x5Z29uKG5ldyBQSVhJLlBvaW50KCksIG5ldyBQSVhJLlBvaW50KCksIC4uLilgLCBvciB0aGUgYXJndW1lbnRzIHBhc3NlZCBjYW4gYmUgZmxhdFxuICAgICAqICB4LHkgdmFsdWVzIGUuZy4gYG5ldyBQb2x5Z29uKHgseSwgeCx5LCB4LHksIC4uLilgIHdoZXJlIGB4YCBhbmQgYHlgIGFyZSBOdW1iZXJzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKC4uLnBvaW50cylcbiAgICB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBvaW50c1swXSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50c1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgcG9pbnRzLCBjb252ZXJ0IGl0IHRvIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzXG4gICAgICAgIGlmIChwb2ludHNbMF0gaW5zdGFuY2VvZiBQb2ludClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWwgPSBwb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwLnB1c2gocG9pbnRzW2ldLngsIHBvaW50c1tpXS55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9pbnRzID0gcDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB0aGUgcG9pbnRzIG9mIHRoaXMgcG9seWdvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlBPTFlcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlBPTFk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGBmYWxzZWAgYWZ0ZXIgbW92ZVRvLCBgdHJ1ZWAgYWZ0ZXIgYGNsb3NlUGF0aGAuIEluIGFsbCBvdGhlciBjYXNlcyBpdCBpcyBgdHJ1ZWAuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9seWdvbn0gYSBjb3B5IG9mIHRoZSBwb2x5Z29uXG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9seWdvbiA9IG5ldyBQb2x5Z29uKHRoaXMucG9pbnRzLnNsaWNlKCkpO1xuXG4gICAgICAgIHBvbHlnb24uY2xvc2VTdHJva2UgPSB0aGlzLmNsb3NlU3Ryb2tlO1xuXG4gICAgICAgIHJldHVybiBwb2x5Z29uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gICAgICovXG4gICAgY29udGFpbnMoeCwgeSlcbiAgICB7XG4gICAgICAgIGxldCBpbnNpZGUgPSBmYWxzZTtcblxuICAgICAgICAvLyB1c2Ugc29tZSByYXljYXN0aW5nIHRvIHRlc3QgaGl0c1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaiA9IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeGkgPSB0aGlzLnBvaW50c1tpICogMl07XG4gICAgICAgICAgICBjb25zdCB5aSA9IHRoaXMucG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHhqID0gdGhpcy5wb2ludHNbaiAqIDJdO1xuICAgICAgICAgICAgY29uc3QgeWogPSB0aGlzLnBvaW50c1soaiAqIDIpICsgMV07XG4gICAgICAgICAgICBjb25zdCBpbnRlcnNlY3QgPSAoKHlpID4geSkgIT09ICh5aiA+IHkpKSAmJiAoeCA8ICgoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpKSArIHhpKTtcblxuICAgICAgICAgICAgaWYgKGludGVyc2VjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc2lkZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTSEFQRVMgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogVGhlIFJvdW5kZWQgUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIHRoYXQgaGFzIG5pY2Ugcm91bmRlZCBjb3JuZXJzLCBhcyBpbmRpY2F0ZWQgYnkgaXRzXG4gKiB0b3AtbGVmdCBjb3JuZXIgcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQgYW5kIGl0cyByYWRpdXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb3VuZGVkUmVjdGFuZ2xlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBvdmVyYWxsIHdpZHRoIG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MjBdIC0gQ29udHJvbHMgdGhlIHJhZGl1cyBvZiB0aGUgcm91bmRlZCBjb3JuZXJzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIHJhZGl1cyA9IDIwKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUlJFQ1xuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUlJFQztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBhIGNvcHkgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yYWRpdXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKi9cbiAgICBjb250YWlucyh4LCB5KVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCh5ID49IHRoaXMueSArIHRoaXMucmFkaXVzICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cylcbiAgICAgICAgICAgICAgICB8fCAoeCA+PSB0aGlzLnggKyB0aGlzLnJhZGl1cyAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cykpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgbGV0IGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzMiA9IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogU2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIGNvbnRhaW5lciBwcm9wZXJ0eSAnc29ydGFibGVDaGlsZHJlbicuXG4gKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGNvbnRhaW5lciB3aWxsIHNvcnQgaXRzIGNoaWxkcmVuIGJ5IHpJbmRleCB2YWx1ZVxuICogd2hlbiB1cGRhdGVUcmFuc2Zvcm0oKSBpcyBjYWxsZWQsIG9yIG1hbnVhbGx5IGlmIHNvcnRDaGlsZHJlbigpIGlzIGNhbGxlZC5cbiAqXG4gKiBUaGlzIGFjdHVhbGx5IGNoYW5nZXMgdGhlIG9yZGVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheSwgc28gc2hvdWxkIGJlIHRyZWF0ZWRcbiAqIGFzIGEgYmFzaWMgc29sdXRpb24gdGhhdCBpcyBub3QgcGVyZm9ybWFudCBjb21wYXJlZCB0byBvdGhlciBzb2x1dGlvbnMsXG4gKiBzdWNoIGFzIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1kaXNwbGF5XG4gKlxuICogQWxzbyBiZSBhd2FyZSBvZiB0aGF0IHRoaXMgbWF5IG5vdCB3b3JrIG5pY2VseSB3aXRoIHRoZSBhZGRDaGlsZEF0KCkgZnVuY3Rpb24sXG4gKiBhcyB0aGUgekluZGV4IHNvcnRpbmcgbWF5IGNhdXNlIHRoZSBjaGlsZCB0byBhdXRvbWF0aWNhbGx5IHNvcnRlZCB0byBhbm90aGVyIHBvc2l0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgU09SVEFCTEVfQ0hJTERSRU5cbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOID0gZmFsc2U7XG5cbmV4cG9ydCB7IHNldHRpbmdzIH07XG4iLCJpbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiAnQnVpbGRlcicgcGF0dGVybiBmb3IgYm91bmRzIHJlY3RhbmdsZXMuXG4gKlxuICogVGhpcyBjb3VsZCBiZSBjYWxsZWQgYW4gQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveC5cbiAqIEl0IGlzIG5vdCBhbiBhY3R1YWwgc2hhcGUuIEl0IGlzIGEgbXV0YWJsZSB0aGluZzsgbm8gJ0VNUFRZJyBvciB0aG9zZSBraW5kIG9mIHByb2JsZW1zLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm91bmRzXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcblxuICAgICAgICB0aGlzLnJlY3QgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBib3VuZHMgYXJlIGVtcHR5LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBlbXB0eS5cbiAgICAgKi9cbiAgICBpc0VtcHR5KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgYm91bmRzIGFuZCByZXNldHMuXG4gICAgICpcbiAgICAgKi9cbiAgICBjbGVhcigpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZUlEKys7XG5cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYW4gcmV0dXJuIFJlY3RhbmdsZS5FTVBUWSBjb25zdGFudCwgZWl0aGVyIGNvbnN0cnVjdCBuZXcgcmVjdGFuZ2xlLCBlaXRoZXIgdXNlIHlvdXIgcmVjdGFuZ2xlXG4gICAgICogSXQgaXMgbm90IGd1YXJhbnRlZWQgdGhhdCBpdCB3aWxsIHJldHVybiB0ZW1wUmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIHRlbXBvcmFyeSBvYmplY3Qgd2lsbCBiZSB1c2VkIGlmIEFBQkIgaXMgbm90IGVtcHR5XG4gICAgICogQHJldHVybnMge1BJWEkuUmVjdGFuZ2xlfSBBIHJlY3RhbmdsZSBvZiB0aGUgYm91bmRzXG4gICAgICovXG4gICAgZ2V0UmVjdGFuZ2xlKHJlY3QpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5taW5YID4gdGhpcy5tYXhYIHx8IHRoaXMubWluWSA+IHRoaXMubWF4WSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFJlY3RhbmdsZS5FTVBUWTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY3QgPSByZWN0IHx8IG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG5cbiAgICAgICAgcmVjdC54ID0gdGhpcy5taW5YO1xuICAgICAgICByZWN0LnkgPSB0aGlzLm1pblk7XG4gICAgICAgIHJlY3Qud2lkdGggPSB0aGlzLm1heFggLSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QuaGVpZ2h0ID0gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xuXG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gVGhlIHBvaW50IHRvIGFkZC5cbiAgICAgKi9cbiAgICBhZGRQb2ludChwb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9pbnQueSk7XG4gICAgICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgcG9pbnQueSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHF1YWQsIG5vdCB0cmFuc2Zvcm1lZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gVGhlIHZlcnRzIHRvIGFkZC5cbiAgICAgKi9cbiAgICBhZGRRdWFkKHZlcnRpY2VzKVxuICAgIHtcbiAgICAgICAgbGV0IG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIGxldCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICBsZXQgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgbGV0IG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgbGV0IHggPSB2ZXJ0aWNlc1swXTtcbiAgICAgICAgbGV0IHkgPSB2ZXJ0aWNlc1sxXTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gdmVydGljZXNbMl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1szXTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IHZlcnRpY2VzWzRdO1xuICAgICAgICB5ID0gdmVydGljZXNbNV07XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzddO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgc3ByaXRlIGZyYW1lLCB0cmFuc2Zvcm1lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDAgLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUT0RPXG4gICAgICovXG4gICAgYWRkRnJhbWUodHJhbnNmb3JtLCB4MCwgeTAsIHgxLCB5MSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgYSA9IG1hdHJpeC5hO1xuICAgICAgICBjb25zdCBiID0gbWF0cml4LmI7XG4gICAgICAgIGNvbnN0IGMgPSBtYXRyaXguYztcbiAgICAgICAgY29uc3QgZCA9IG1hdHJpeC5kO1xuICAgICAgICBjb25zdCB0eCA9IG1hdHJpeC50eDtcbiAgICAgICAgY29uc3QgdHkgPSBtYXRyaXgudHk7XG5cbiAgICAgICAgbGV0IG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIGxldCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICBsZXQgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgbGV0IG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgbGV0IHggPSAoYSAqIHgwKSArIChjICogeTApICsgdHg7XG4gICAgICAgIGxldCB5ID0gKGIgKiB4MCkgKyAoZCAqIHkwKSArIHR5O1xuXG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSAoYSAqIHgxKSArIChjICogeTApICsgdHg7XG4gICAgICAgIHkgPSAoYiAqIHgxKSArIChkICogeTApICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSAoYSAqIHgwKSArIChjICogeTEpICsgdHg7XG4gICAgICAgIHkgPSAoYiAqIHgwKSArIChkICogeTEpICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSAoYSAqIHgxKSArIChjICogeTEpICsgdHg7XG4gICAgICAgIHkgPSAoYiAqIHgxKSArIChkICogeTEpICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBzY3JlZW4gdmVydGljZXMgZnJvbSBhcnJheVxuICAgICAqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRleERhdGEgLSBjYWxjdWxhdGVkIHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICovXG4gICAgYWRkVmVydGV4RGF0YSh2ZXJ0ZXhEYXRhLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KVxuICAgIHtcbiAgICAgICAgbGV0IG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIGxldCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICBsZXQgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgbGV0IG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGJlZ2luT2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgY29uc3QgeSA9IHZlcnRleERhdGFbaSArIDFdO1xuXG4gICAgICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGFuIGFycmF5IG9mIG1lc2ggdmVydGljZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIG1lc2ggdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gbWVzaCBjb29yZGluYXRlcyBpbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICAgICAqL1xuICAgIGFkZFZlcnRpY2VzKHRyYW5zZm9ybSwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSB0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGEgPSBtYXRyaXguYTtcbiAgICAgICAgY29uc3QgYiA9IG1hdHJpeC5iO1xuICAgICAgICBjb25zdCBjID0gbWF0cml4LmM7XG4gICAgICAgIGNvbnN0IGQgPSBtYXRyaXguZDtcbiAgICAgICAgY29uc3QgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIGNvbnN0IHR5ID0gbWF0cml4LnR5O1xuXG4gICAgICAgIGxldCBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICBsZXQgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgbGV0IG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIGxldCBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByYXdYID0gdmVydGljZXNbaV07XG4gICAgICAgICAgICBjb25zdCByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgICAgICAgY29uc3QgeCA9IChhICogcmF3WCkgKyAoYyAqIHJhd1kpICsgdHg7XG4gICAgICAgICAgICBjb25zdCB5ID0gKGQgKiByYXdZKSArIChiICogcmF3WCkgKyB0eTtcblxuICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICovXG4gICAgYWRkQm91bmRzKGJvdW5kcylcbiAgICB7XG4gICAgICAgIGNvbnN0IG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIGNvbnN0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIGNvbnN0IG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIGNvbnN0IG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gYm91bmRzLm1pblggPCBtaW5YID8gYm91bmRzLm1pblggOiBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBib3VuZHMubWluWSA8IG1pblkgPyBib3VuZHMubWluWSA6IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IGJvdW5kcy5tYXhYID4gbWF4WCA/IGJvdW5kcy5tYXhYIDogbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gYm91bmRzLm1heFkgPiBtYXhZID8gYm91bmRzLm1heFkgOiBtYXhZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBCb3VuZHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBtYXNrIC0gVE9ET1xuICAgICAqL1xuICAgIGFkZEJvdW5kc01hc2soYm91bmRzLCBtYXNrKVxuICAgIHtcbiAgICAgICAgY29uc3QgX21pblggPSBib3VuZHMubWluWCA+IG1hc2subWluWCA/IGJvdW5kcy5taW5YIDogbWFzay5taW5YO1xuICAgICAgICBjb25zdCBfbWluWSA9IGJvdW5kcy5taW5ZID4gbWFzay5taW5ZID8gYm91bmRzLm1pblkgOiBtYXNrLm1pblk7XG4gICAgICAgIGNvbnN0IF9tYXhYID0gYm91bmRzLm1heFggPCBtYXNrLm1heFggPyBib3VuZHMubWF4WCA6IG1hc2subWF4WDtcbiAgICAgICAgY29uc3QgX21heFkgPSBib3VuZHMubWF4WSA8IG1hc2subWF4WSA/IGJvdW5kcy5tYXhZIDogbWFzay5tYXhZO1xuXG4gICAgICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIGNvbnN0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICBjb25zdCBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICAgICAgY29uc3QgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGFyZWEgLSBUT0RPXG4gICAgICovXG4gICAgYWRkQm91bmRzQXJlYShib3VuZHMsIGFyZWEpXG4gICAge1xuICAgICAgICBjb25zdCBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgICAgIGNvbnN0IF9taW5ZID0gYm91bmRzLm1pblkgPiBhcmVhLnkgPyBib3VuZHMubWluWSA6IGFyZWEueTtcbiAgICAgICAgY29uc3QgX21heFggPSBib3VuZHMubWF4WCA8IGFyZWEueCArIGFyZWEud2lkdGggPyBib3VuZHMubWF4WCA6IChhcmVhLnggKyBhcmVhLndpZHRoKTtcbiAgICAgICAgY29uc3QgX21heFkgPSBib3VuZHMubWF4WSA8IGFyZWEueSArIGFyZWEuaGVpZ2h0ID8gYm91bmRzLm1heFkgOiAoYXJlYS55ICsgYXJlYS5oZWlnaHQpO1xuXG4gICAgICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIGNvbnN0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICBjb25zdCBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICAgICAgY29uc3QgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlLCBUcmFuc2Zvcm0sIFJBRF9UT19ERUcsIERFR19UT19SQUQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCBCb3VuZHMgZnJvbSAnLi9Cb3VuZHMnO1xuLy8gX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IERpc3BsYXlPYmplY3QoKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgb24gdGhlIHNjcmVlbi5cbiAqXG4gKiBUaGlzIGlzIGFuIGFic3RyYWN0IGNsYXNzIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgb24gaXRzIG93bjsgcmF0aGVyIGl0IHNob3VsZCBiZSBleHRlbmRlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNwbGF5T2JqZWN0IGV4dGVuZHMgRXZlbnRFbWl0dGVyXG57XG4gICAgLyoqXG4gICAgICogTWl4ZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9mIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdG8gbWl4IGluLlxuICAgICAqL1xuICAgIHN0YXRpYyBtaXhpbihzb3VyY2UpXG4gICAge1xuICAgICAgICAvLyBpbiBFUzgvRVMyMDE3LCB0aGlzIHdvdWxkIGJlIHJlYWxseSBlYXN5OlxuICAgICAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuXG4gICAgICAgIC8vIGdldCBhbGwgdGhlIGVudW1lcmFibGUgcHJvcGVydHkga2V5c1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgICAgICAvLyBsb29wIHRocm91Z2ggcHJvcGVydGllc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IGtleXNbaV07XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgcHJvcGVydHkgdXNpbmcgdGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgLSB0aGlzIHdvcmtzIGZvciBhY2Nlc3NvcnMgYW5kIG5vcm1hbCB2YWx1ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4gICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lLFxuICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBwcm9wZXJ0eU5hbWUpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcblxuICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIGNyZWF0ZSBUcmFuc2Zvcm0gZnJvbSBmYWN0b3J5XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXb3JsZCB0cmFuc2Zvcm0gYW5kIGxvY2FsIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICogVGhpcyB3aWxsIGJlY29tZSByZWFkLW9ubHkgbGF0ZXIsIHBsZWFzZSBkbyBub3QgYXNzaWduIGFueXRoaW5nIHRoZXJlIHVubGVzcyB5b3Uga25vdyB3aGF0IGFyZSB5b3UgZG9pbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmlzaWJpbGl0eSBvZiB0aGUgb2JqZWN0LiBJZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduLCBhbmRcbiAgICAgICAgICogdGhlIHVwZGF0ZVRyYW5zZm9ybSBmdW5jdGlvbiB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgb3IgY2FsbCB1cGRhdGVUcmFuc2Zvcm0gbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW4gdGhpcyBvYmplY3QgYmUgcmVuZGVyZWQsIGlmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24gYnV0IHRoZSB1cGRhdGVUcmFuc2Zvcm1cbiAgICAgICAgICogbWV0aG9kcyB3aWxsIHN0aWxsIGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyYWJsZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXIgdGhhdCBjb250YWlucyB0aGlzIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBsaWVkIGFscGhhIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hpY2ggaW5kZXggaW4gdGhlIGNoaWxkcmVuIGFycmF5IHRoZSBkaXNwbGF5IGNvbXBvbmVudCB3YXMgYmVmb3JlIHRoZSBwcmV2aW91cyB6SW5kZXggc29ydC5cbiAgICAgICAgICogVXNlZCBieSBjb250YWluZXJzIHRvIGhlbHAgc29ydCBvYmplY3RzIHdpdGggdGhlIHNhbWUgekluZGV4LCBieSB1c2luZyBwcmV2aW91cyBhcnJheSBpbmRleCBhcyB0aGUgZGVjaWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0U29ydGVkSW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgekluZGV4IG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiBBIGhpZ2hlciB2YWx1ZSB3aWxsIG1lYW4gaXQgd2lsbCBiZSByZW5kZXJlZCBvbiB0b3Agb2Ygb3RoZXIgZGlzcGxheU9iamVjdHMgd2l0aGluIHRoZSBzYW1lIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl96SW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJlYSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQgdG8uIFRoaXMgaXMgdXNlZCBhcyBtb3JlIG9mIGFuIG9wdGltaXphdGlvblxuICAgICAgICAgKiByYXRoZXIgdGhhbiBmaWd1cmluZyBvdXQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGRpc3BsYXlPYmplY3QgZWFjaCBmcmFtZSB5b3UgY2FuIHNldCB0aGlzIHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyB3b3JrcyBhcyBhbiBpbnRlcmFjdGlvbiBtYXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHs/UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBmaWx0ZXJzIGZvciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBUbyByZW1vdmUgZmlsdGVycyBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gYCdudWxsJ2AuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIgez9QSVhJLkZpbHRlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIG9iamVjdCwgdGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSBhbmQgc3RvcmUgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgICAgdGhpcy5fYm91bmRzSUQgPSAwO1xuICAgICAgICB0aGlzLl9sYXN0Qm91bmRzSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcmlnaW5hbCwgY2FjaGVkIG1hc2sgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc3xQSVhJLlNwcml0ZXxudWxsfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXNrID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgYWRkZWQgdG8gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjYWRkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciBhZGRlZCB0by5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgcmVtb3ZlZCBmcm9tLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIG9iamVjdCBoYXMgYmVlbiBkZXN0cm95ZWQgdmlhIGRlc3Ryb3koKS4gSWYgdHJ1ZSwgaXQgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU3ByaXRlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICBnZXQgX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIFRPRE8gLSBPcHRpbWl6YXRpb24gcGFzcyFcbiAgICAgKi9cbiAgICB1cGRhdGVUcmFuc2Zvcm0oKVxuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIG11bHRpcGx5IHRoZSBhbHBoYXMuLlxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSB1cGRhdGVzIHRyYW5zZm9ybSBvZiBhbGwgb2JqZWN0cyBmcm9tIHRoZSByb290IHRvIHRoaXMgb25lXG4gICAgICogaW50ZXJuYWwgZnVuY3Rpb24gZm9yIHRvTG9jYWwoKVxuICAgICAqL1xuICAgIF9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlXSAtIFNldHRpbmcgdG8gYHRydWVgIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICAgICAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICAgICAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhLlxuICAgICAqL1xuICAgIGdldEJvdW5kcyhza2lwVXBkYXRlLCByZWN0KVxuICAgIHtcbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm91bmRzSUQgIT09IHRoaXMuX2xhc3RCb3VuZHNJRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2JvdW5kc1JlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2JvdW5kc1JlY3Q7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYS5cbiAgICAgKi9cbiAgICBnZXRMb2NhbEJvdW5kcyhyZWN0KVxuICAgIHtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtUmVmID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IHBhcmVudFJlZiA9IHRoaXMucGFyZW50O1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLmdldEJvdW5kcyhmYWxzZSwgcmVjdCk7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtUmVmO1xuXG4gICAgICAgIHJldHVybiBib3VuZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHdvcmxkIG9yaWdpbiB0byBjYWxjdWxhdGUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm4ge1BJWEkuSVBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIHRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZSBsb3RcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHkocG9zaXRpb24sIHBvaW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBsb2NhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QgcmVsYXRpdmUgdG8gYW5vdGhlciBwb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHdvcmxkIG9yaWdpbiB0byBjYWxjdWxhdGUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gW2Zyb21dIC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2FsY3VsYXRlIHRoZSBnbG9iYWwgcG9zaXRpb24gZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtXG4gICAgICogQHJldHVybiB7UElYSS5JUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cbiAgICB0b0xvY2FsKHBvc2l0aW9uLCBmcm9tLCBwb2ludCwgc2tpcFVwZGF0ZSlcbiAgICB7XG4gICAgICAgIGlmIChmcm9tKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGZyb20udG9HbG9iYWwocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaW1wbHkgYXBwbHkgdGhlIG1hdHJpeC4uXG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIHJlbmRlcihyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgLy8gT1ZFUldSSVRFO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFyZW50IENvbnRhaW5lciBvZiB0aGlzIERpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgQ29udGFpbmVyIHRvIGFkZCB0aGlzIERpc3BsYXlPYmplY3QgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5Db250YWluZXJ9IFRoZSBDb250YWluZXIgdGhhdCB0aGlzIERpc3BsYXlPYmplY3Qgd2FzIGFkZGVkIHRvLlxuICAgICAqL1xuICAgIHNldFBhcmVudChjb250YWluZXIpXG4gICAge1xuICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCAhY29udGFpbmVyLmFkZENoaWxkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFBhcmVudDogQXJndW1lbnQgbXVzdCBiZSBhIENvbnRhaW5lcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2V0IHRoZSBwb3NpdGlvbiwgc2NhbGUsIHNrZXcgYW5kIHBpdm90IGF0IG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVg9MV0gLSBUaGUgWCBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVZPTFdIC0gVGhlIFkgc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WD0wXSAtIFRoZSBYIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdZPTBdIC0gVGhlIFkgc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RYPTBdIC0gVGhlIFggcGl2b3QgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WT0wXSAtIFRoZSBZIHBpdm90IHZhbHVlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqL1xuICAgIHNldFRyYW5zZm9ybSh4ID0gMCwgeSA9IDAsIHNjYWxlWCA9IDEsIHNjYWxlWSA9IDEsIHJvdGF0aW9uID0gMCwgc2tld1ggPSAwLCBza2V3WSA9IDAsIHBpdm90WCA9IDAsIHBpdm90WSA9IDApXG4gICAge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xuICAgICAgICB0aGlzLnNjYWxlLnggPSAhc2NhbGVYID8gMSA6IHNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gIXNjYWxlWSA/IDEgOiBzY2FsZVk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5za2V3LnggPSBza2V3WDtcbiAgICAgICAgdGhpcy5za2V3LnkgPSBza2V3WTtcbiAgICAgICAgdGhpcy5waXZvdC54ID0gcGl2b3RYO1xuICAgICAgICB0aGlzLnBpdm90LnkgPSBwaXZvdFk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmFzZSBkZXN0cm95IG1ldGhvZCBmb3IgZ2VuZXJpYyBkaXNwbGF5IG9iamVjdHMuIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogcmVtb3ZlIHRoZSBkaXNwbGF5IG9iamVjdCBmcm9tIGl0cyBwYXJlbnQgQ29udGFpbmVyIGFzIHdlbGwgYXMgcmVtb3ZlXG4gICAgICogYWxsIGN1cnJlbnQgZXZlbnQgbGlzdGVuZXJzIGFuZCBpbnRlcm5hbCByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGEgRGlzcGxheU9iamVjdFxuICAgICAqIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3koKWAuXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9jdXJyZW50Qm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB4KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLng7XG4gICAgfVxuXG4gICAgc2V0IHgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeSBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgeSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xuICAgIH1cblxuICAgIHNldCB5KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIHdvcmxkIChwYXJlbnQpIGZhY3RvcnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgd29ybGRUcmFuc2Zvcm0oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgdHJhbnNmb3JtIG9mIHRoZSBvYmplY3QgYmFzZWQgb24gbG9jYWwgZmFjdG9yczogcG9zaXRpb24sIHNjYWxlLCBvdGhlciBzdHVmZi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBsb2NhbFRyYW5zZm9ybSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklQb2ludH1cbiAgICAgKi9cbiAgICBnZXQgcG9zaXRpb24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgIH1cblxuICAgIHNldCBwb3NpdGlvbih2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuSVBvaW50fVxuICAgICAqL1xuICAgIGdldCBzY2FsZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2NhbGU7XG4gICAgfVxuXG4gICAgc2V0IHNjYWxlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklQb2ludH1cbiAgICAgKi9cbiAgICBnZXQgcGl2b3QoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdm90O1xuICAgIH1cblxuICAgIHNldCBwaXZvdCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5waXZvdC5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHNrZXcgZmFjdG9yIGZvciB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgZ2V0IHNrZXcoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNrZXc7XG4gICAgfVxuXG4gICAgc2V0IHNrZXcodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2tldy5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgKiAncm90YXRpb24nIGFuZCAnYW5nbGUnIGhhdmUgdGhlIHNhbWUgZWZmZWN0IG9uIGEgZGlzcGxheSBvYmplY3Q7IHJvdGF0aW9uIGlzIGluIHJhZGlhbnMsIGFuZ2xlIGlzIGluIGRlZ3JlZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHJvdGF0aW9uKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgcm90YXRpb24odmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5nbGUgb2YgdGhlIG9iamVjdCBpbiBkZWdyZWVzLlxuICAgICAqICdyb3RhdGlvbicgYW5kICdhbmdsZScgaGF2ZSB0aGUgc2FtZSBlZmZlY3Qgb24gYSBkaXNwbGF5IG9iamVjdDsgcm90YXRpb24gaXMgaW4gcmFkaWFucywgYW5nbGUgaXMgaW4gZGVncmVlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgYW5nbGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uICogUkFEX1RPX0RFRztcbiAgICB9XG5cbiAgICBzZXQgYW5nbGUodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZSAqIERFR19UT19SQUQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHpJbmRleCBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKiBJZiBhIGNvbnRhaW5lciBoYXMgdGhlIHNvcnRhYmxlQ2hpbGRyZW4gcHJvcGVydHkgc2V0IHRvIHRydWUsIGNoaWxkcmVuIHdpbGwgYmUgYXV0b21hdGljYWxseVxuICAgICAqIHNvcnRlZCBieSB6SW5kZXggdmFsdWU7IGEgaGlnaGVyIHZhbHVlIHdpbGwgbWVhbiBpdCB3aWxsIGJlIG1vdmVkIHRvd2FyZHMgdGhlIGVuZCBvZiB0aGUgYXJyYXksXG4gICAgICogYW5kIHRodXMgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGRpc3BsYXlPYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHpJbmRleCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fekluZGV4O1xuICAgIH1cblxuICAgIHNldCB6SW5kZXgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fekluZGV4ID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuc29ydERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0IGlzIGdsb2JhbGx5IHZpc2libGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCB3b3JsZFZpc2libGUoKVxuICAgIHtcbiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzO1xuXG4gICAgICAgIGRvXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghaXRlbS52aXNpYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXRlbSA9IGl0ZW0ucGFyZW50O1xuICAgICAgICB9IHdoaWxlIChpdGVtKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbWFzayBmb3IgdGhlIGRpc3BsYXlPYmplY3QuIEEgbWFzayBpcyBhbiBvYmplY3QgdGhhdCBsaW1pdHMgdGhlIHZpc2liaWxpdHkgb2YgYW5cbiAgICAgKiBvYmplY3QgdG8gdGhlIHNoYXBlIG9mIHRoZSBtYXNrIGFwcGxpZWQgdG8gaXQuIEluIFBpeGlKUyBhIHJlZ3VsYXIgbWFzayBtdXN0IGJlIGFcbiAgICAgKiB7QGxpbmsgUElYSS5HcmFwaGljc30gb3IgYSB7QGxpbmsgUElYSS5TcHJpdGV9IG9iamVjdC4gVGhpcyBhbGxvd3MgZm9yIG11Y2ggZmFzdGVyIG1hc2tpbmcgaW4gY2FudmFzIGFzIGl0XG4gICAgICogdXRpbGl0aWVzIHNoYXBlIGNsaXBwaW5nLiBUbyByZW1vdmUgYSBtYXNrLCBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBGb3Igc3ByaXRlIG1hc2sgYm90aCBhbHBoYSBhbmQgcmVkIGNoYW5uZWwgYXJlIHVzZWQuIEJsYWNrIG1hc2sgaXMgdGhlIHNhbWUgYXMgdHJhbnNwYXJlbnQgbWFzay5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgKiBncmFwaGljcy5iZWdpbkZpbGwoMHhGRjMzMDApO1xuICAgICAqIGdyYXBoaWNzLmRyYXdSZWN0KDUwLCAyNTAsIDEwMCwgMTAwKTtcbiAgICAgKiBncmFwaGljcy5lbmRGaWxsKCk7XG4gICAgICpcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLm1hc2sgPSBncmFwaGljcztcbiAgICAgKiBAdG9kbyBBdCB0aGUgbW9tZW50LCBQSVhJLkNhbnZhc1JlbmRlcmVyIGRvZXNuJ3Qgc3VwcG9ydCBQSVhJLlNwcml0ZSBhcyBtYXNrLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc3xQSVhJLlNwcml0ZXxudWxsfVxuICAgICAqL1xuICAgIGdldCBtYXNrKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXNrO1xuICAgIH1cblxuICAgIHNldCBtYXNrKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9tYXNrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9tYXNrLnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbWFzay5pc01hc2sgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21hc2sgPSB2YWx1ZTtcblxuICAgICAgICBpZiAodGhpcy5fbWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbWFzay5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9tYXNrLmlzTWFzayA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogRGlzcGxheU9iamVjdCBkZWZhdWx0IHVwZGF0ZVRyYW5zZm9ybSwgZG9lcyBub3QgdXBkYXRlIGNoaWxkcmVuIG9mIGNvbnRhaW5lci5cbiAqIFdpbGwgY3Jhc2ggaWYgdGhlcmUncyBubyBwYXJlbnQgZWxlbWVudC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQGZ1bmN0aW9uIGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm1cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSA9IERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgRGlzcGxheU9iamVjdCBmcm9tICcuL0Rpc3BsYXlPYmplY3QnO1xuXG5mdW5jdGlvbiBzb3J0Q2hpbGRyZW4oYSwgYilcbntcbiAgICBpZiAoYS56SW5kZXggPT09IGIuekluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGEuX2xhc3RTb3J0ZWRJbmRleCAtIGIuX2xhc3RTb3J0ZWRJbmRleDtcbiAgICB9XG5cbiAgICByZXR1cm4gYS56SW5kZXggLSBiLnpJbmRleDtcbn1cblxuLyoqXG4gKiBBIENvbnRhaW5lciByZXByZXNlbnRzIGEgY29sbGVjdGlvbiBvZiBkaXNwbGF5IG9iamVjdHMuXG4gKlxuICogSXQgaXMgdGhlIGJhc2UgY2xhc3Mgb2YgYWxsIGRpc3BsYXkgb2JqZWN0cyB0aGF0IGFjdCBhcyBhIGNvbnRhaW5lciBmb3Igb3RoZXIgb2JqZWN0cyAobGlrZSBTcHJpdGVzKS5cbiAqXG4gKmBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5EaXNwbGF5T2JqZWN0XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250YWluZXIgZXh0ZW5kcyBEaXNwbGF5T2JqZWN0XG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3RbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHNldCB0byB0cnVlLCB0aGUgY29udGFpbmVyIHdpbGwgc29ydCBpdHMgY2hpbGRyZW4gYnkgekluZGV4IHZhbHVlXG4gICAgICAgICAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgYWN0dWFsbHkgY2hhbmdlcyB0aGUgb3JkZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LCBzbyBzaG91bGQgYmUgdHJlYXRlZFxuICAgICAgICAgKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICAgICAgICAgKiBzdWNoIGFzIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1kaXNwbGF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICAgICAgICAgKiBhcyB0aGUgekluZGV4IHNvcnRpbmcgbWF5IGNhdXNlIHRoZSBjaGlsZCB0byBhdXRvbWF0aWNhbGx5IHNvcnRlZCB0byBhbm90aGVyIHBvc2l0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc29ydGFibGVDaGlsZHJlbiA9IHNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgY2hpbGRyZW4gYmUgc29ydGVkIGJ5IHpJbmRleCBhdCB0aGUgbmV4dCB1cGRhdGVUcmFuc2Zvcm0gY2FsbC5cbiAgICAgICAgICogV2lsbCBnZXQgYXV0b21hdGljYWxseSBzZXQgdG8gdHJ1ZSBpZiBhIG5ldyBjaGlsZCBpcyBhZGRlZCwgb3IgaWYgYSBjaGlsZCdzIHpJbmRleCBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgYWRkZWQgdG8gdGhpcyBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkNvbnRhaW5lciNjaGlsZEFkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBhZGRlZCB0byB0aGUgQ29udGFpbmVyLlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRoYXQgYWRkZWQgdGhlIGNoaWxkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgYWRkZWQgY2hpbGQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgRGlzcGxheU9iamVjdCBpcyByZW1vdmVkIGZyb20gdGhpcyBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmVtb3ZlZEZyb21cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIHJlbW92ZWQgZnJvbSB0aGUgQ29udGFpbmVyLlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRoYXQgcmVtb3ZlZCByZW1vdmVkIHRoZSBjaGlsZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGZvcm1lciBjaGlsZHJlbidzIGluZGV4IG9mIHRoZSByZW1vdmVkIGNoaWxkXG4gICAgICAgICAqL1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIG1ldGhvZCB0aGF0IGNhbiBiZSB1c2VkIGJ5IENvbnRhaW5lciBzdWJjbGFzc2VzIHdoZW5ldmVyIHRoZSBjaGlsZHJlbiBhcnJheSBpcyBtb2RpZmllZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uQ2hpbGRyZW5DaGFuZ2UoKVxuICAgIHtcbiAgICAgICAgLyogZW1wdHkgKi9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG9uZSBvciBtb3JlIGNoaWxkcmVuIHRvIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBNdWx0aXBsZSBpdGVtcyBjYW4gYmUgYWRkZWQgbGlrZSBzbzogYG15Q29udGFpbmVyLmFkZENoaWxkKHRoaW5nT25lLCB0aGluZ1R3bywgdGhpbmdUaHJlZSlgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIGFkZENoaWxkKGNoaWxkKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pemVkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjaGlsZCBoYXMgYSBwYXJlbnQgdGhlbiBsZXRzIHJlbW92ZSBpdCBhcyBQaXhpSlMgb2JqZWN0cyBjYW4gb25seSBleGlzdCBpbiBvbmUgcGxhY2VcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuc29ydERpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2hpbGQgdG8gdGhlIGNvbnRhaW5lciBhdCBhIHNwZWNpZmllZCBpbmRleC4gSWYgdGhlIGluZGV4IGlzIG91dCBvZiBib3VuZHMgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gcGxhY2UgdGhlIGNoaWxkIGluXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgYWRkQ2hpbGRBdChjaGlsZCwgaW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtjaGlsZH1hZGRDaGlsZEF0OiBUaGUgaW5kZXggJHtpbmRleH0gc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyAke3RoaXMuY2hpbGRyZW4ubGVuZ3RofWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBwb3NpdGlvbiBvZiAyIERpc3BsYXkgT2JqZWN0cyB3aXRoaW4gdGhpcyBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG4gICAgc3dhcENoaWxkcmVuKGNoaWxkLCBjaGlsZDIpXG4gICAge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5kZXgxID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICAgICAgY29uc3QgaW5kZXgyID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkMik7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDFdID0gY2hpbGQyO1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4Ml0gPSBjaGlsZDtcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4MSA8IGluZGV4MiA/IGluZGV4MSA6IGluZGV4Mik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZSB0byBpZGVudGlmeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IHBvc2l0aW9uIG9mIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdCB0byBpZGVudGlmeVxuICAgICAqL1xuICAgIGdldENoaWxkSW5kZXgoY2hpbGQpXG4gICAge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHBvc2l0aW9uIG9mIGFuIGV4aXN0aW5nIGNoaWxkIGluIHRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlIGZvciB3aGljaCB5b3Ugd2FudCB0byBjaGFuZ2UgdGhlIGluZGV4IG51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSByZXN1bHRpbmcgaW5kZXggbnVtYmVyIGZvciB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBzZXRDaGlsZEluZGV4KGNoaWxkLCBpbmRleClcbiAgICB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGluZGV4ICR7aW5kZXh9IHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgJHt0aGlzLmNoaWxkcmVuLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG5cbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgY3VycmVudEluZGV4LCAxKTsgLy8gcmVtb3ZlIGZyb20gb2xkIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7IC8vIGFkZCBhdCBuZXcgcG9zaXRpb25cblxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNoaWxkIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBnZXQgdGhlIGNoaWxkIGF0XG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgYXQgdGhlIGdpdmVuIGluZGV4LCBpZiBhbnkuXG4gICAgICovXG4gICAgZ2V0Q2hpbGRBdChpbmRleClcbiAgICB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZ2V0Q2hpbGRBdDogSW5kZXggKCR7aW5kZXh9KSBkb2VzIG5vdCBleGlzdC5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIG9uZSBvciBtb3JlIGNoaWxkcmVuIGZyb20gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgcmVtb3ZlQ2hpbGQoY2hpbGQpXG4gICAge1xuICAgICAgICBjb25zdCBhcmd1bWVudHNMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIGFyZ3VtZW50IHdlIGNhbiBieXBhc3MgbG9vcGluZyB0aHJvdWdoIHRoZSB0aGVtXG4gICAgICAgIGlmIChhcmd1bWVudHNMZW5ndGggPiAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGFyZ3VtZW50cyBwcm9wZXJ0eSBhbmQgYWRkIGFsbCBjaGlsZHJlblxuICAgICAgICAgICAgLy8gdXNlIGl0IHRoZSByaWdodCB3YXkgKC5sZW5ndGggYW5kIFtpXSkgc28gdGhhdCB0aGlzIGZ1bmN0aW9uIGNhbiBzdGlsbCBiZSBvcHRpbWl6ZWQgYnkgSlMgcnVudGltZXNcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJndW1lbnRzTGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChhcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcblxuICAgICAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgZnJvbSB0aGUgc3BlY2lmaWVkIGluZGV4IHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgcmVtb3ZlQ2hpbGRBdChpbmRleClcbiAgICB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGluZGV4KTtcblxuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkLi5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkUmVtb3ZlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGZyb20gdGhpcyBjb250YWluZXIgdGhhdCBhcmUgd2l0aGluIHRoZSBiZWdpbiBhbmQgZW5kIGluZGV4ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luSW5kZXg9MF0gLSBUaGUgYmVnaW5uaW5nIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kSW5kZXg9dGhpcy5jaGlsZHJlbi5sZW5ndGhdIC0gVGhlIGVuZGluZyBwb3NpdGlvbi4gRGVmYXVsdCB2YWx1ZSBpcyBzaXplIG9mIHRoZSBjb250YWluZXIuXG4gICAgICogQHJldHVybnMge1BJWEkuRGlzcGxheU9iamVjdFtdfSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cbiAgICByZW1vdmVDaGlsZHJlbihiZWdpbkluZGV4ID0gMCwgZW5kSW5kZXgpXG4gICAge1xuICAgICAgICBjb25zdCBiZWdpbiA9IGJlZ2luSW5kZXg7XG4gICAgICAgIGNvbnN0IGVuZCA9IHR5cGVvZiBlbmRJbmRleCA9PT0gJ251bWJlcicgPyBlbmRJbmRleCA6IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBjb25zdCByYW5nZSA9IGVuZCAtIGJlZ2luO1xuICAgICAgICBsZXQgcmVtb3ZlZDtcblxuICAgICAgICBpZiAocmFuZ2UgPiAwICYmIHJhbmdlIDw9IGVuZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVtb3ZlZCA9IHRoaXMuY2hpbGRyZW4uc3BsaWNlKGJlZ2luLCByYW5nZSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRbaV0udHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoYmVnaW5JbmRleCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2ldLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkUmVtb3ZlZCcsIHJlbW92ZWRbaV0sIHRoaXMsIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyYW5nZSA9PT0gMCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTb3J0cyBjaGlsZHJlbiBieSB6SW5kZXguIFByZXZpb3VzIG9yZGVyIGlzIG1hbnRhaW5lZCBmb3IgMiBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIHpJbmRleC5cbiAgICAgKi9cbiAgICBzb3J0Q2hpbGRyZW4oKVxuICAgIHtcbiAgICAgICAgbGV0IHNvcnRSZXF1aXJlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgY2hpbGQuX2xhc3RTb3J0ZWRJbmRleCA9IGk7XG5cbiAgICAgICAgICAgIGlmICghc29ydFJlcXVpcmVkICYmIGNoaWxkLnpJbmRleCAhPT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3J0UmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvcnRSZXF1aXJlZCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc29ydChzb3J0Q2hpbGRyZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb24gYWxsIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyIGZvciByZW5kZXJpbmdcbiAgICAgKi9cbiAgICB1cGRhdGVUcmFuc2Zvcm0oKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc29ydGFibGVDaGlsZHJlbiAmJiB0aGlzLnNvcnREaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zb3J0Q2hpbGRyZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG5cbiAgICAgICAgLy8gVE9ETzogY2hlY2sgcmVuZGVyIGZsYWdzLCBob3cgdG8gcHJvY2VzcyBzdHVmZiBoZXJlXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLnZpc2libGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICovXG4gICAgY2FsY3VsYXRlQm91bmRzKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBmaWx0ZXIrbWFzaywgbmVlZCB0byBtYXNrIGJvdGggc29tZWhvd1xuICAgICAgICAgICAgaWYgKGNoaWxkLl9tYXNrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9tYXNrLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNNYXNrKGNoaWxkLl9ib3VuZHMsIGNoaWxkLl9tYXNrLl9ib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQuZmlsdGVyQXJlYSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzKGNoaWxkLl9ib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdC4gT3ZlcnJpZGUgdGhpcyB0b1xuICAgICAqIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBzcGVjaWZpYyBvYmplY3QgKG5vdCBpbmNsdWRpbmcgY2hpbGRyZW4pLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgLy8gRklMTCBJTi8vXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIHJlbmRlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgbm90IHZpc2libGUgb3IgdGhlIGFscGhhIGlzIDAgdGhlbiBubyBuZWVkIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG8gYSBxdWljayBjaGVjayB0byBzZWUgaWYgdGhpcyBlbGVtZW50IGhhcyBhIG1hc2sgb3IgYSBmaWx0ZXIuXG4gICAgICAgIGlmICh0aGlzLl9tYXNrIHx8ICh0aGlzLmZpbHRlcnMgJiYgdGhpcy5maWx0ZXJzLmxlbmd0aCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAgICAgLy8gc2ltcGxlIHJlbmRlciBjaGlsZHJlbiFcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIGFuZCBhZHZhbmNlZCBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgcmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpXG4gICAge1xuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgIGNvbnN0IGZpbHRlcnMgPSB0aGlzLmZpbHRlcnM7XG4gICAgICAgIGNvbnN0IG1hc2sgPSB0aGlzLl9tYXNrO1xuXG4gICAgICAgIC8vIHB1c2ggZmlsdGVyIGZpcnN0IGFzIHdlIG5lZWQgdG8gZW5zdXJlIHRoZSBzdGVuY2lsIGJ1ZmZlciBpcyBjb3JyZWN0IGZvciBhbnkgbWFza2luZ1xuICAgICAgICBpZiAoZmlsdGVycylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkRmlsdGVycylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbaV0uZW5hYmxlZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLnB1c2goZmlsdGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlci5wdXNoKHRoaXMsIHRoaXMuX2VuYWJsZWRGaWx0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXNrKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrLnB1c2godGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhpcyBvYmplY3QgdG8gdGhlIGJhdGNoLCBvbmx5IHJlbmRlcmVkIGlmIGl0IGhhcyBhIHRleHR1cmUuXG4gICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLy8gbm93IGxvb3AgdGhyb3VnaCB0aGUgY2hpbGRyZW4gYW5kIG1ha2Ugc3VyZSB0aGV5IGdldCByZW5kZXJlZFxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChtYXNrKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrLnBvcCh0aGlzLCB0aGlzLl9tYXNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgX3JlbmRlcihyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgLy8gdGhpcyBpcyB3aGVyZSBjb250ZW50IGl0c2VsZiBnZXRzIHJlbmRlcmVkLi4uXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgaW50ZXJuYWwgcmVmZXJlbmNlcyBhbmQgbGlzdGVuZXJzIGFzIHdlbGwgYXMgcmVtb3ZlcyBjaGlsZHJlbiBmcm9tIHRoZSBkaXNwbGF5IGxpc3QuXG4gICAgICogRG8gbm90IHVzZSBhIENvbnRhaW5lciBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgZGVzdHJveShvcHRpb25zKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgZGVzdHJveUNoaWxkcmVuID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuY2hpbGRyZW47XG5cbiAgICAgICAgY29uc3Qgb2xkQ2hpbGRyZW4gPSB0aGlzLnJlbW92ZUNoaWxkcmVuKDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcblxuICAgICAgICBpZiAoZGVzdHJveUNoaWxkcmVuKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZENoaWxkcmVuLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueCAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcbiAgICB9XG5cbiAgICBzZXQgd2lkdGgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG5cbiAgICAgICAgaWYgKHdpZHRoICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSB2YWx1ZSAvIHdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBoZWlnaHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueSAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IGhlaWdodCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChoZWlnaHQgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHZhbHVlIC8gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgIH1cbn1cblxuLy8gcGVyZm9ybWFuY2UgaW5jcmVhc2UgdG8gYXZvaWQgdXNpbmcgY2FsbC4uICgxMHggZmFzdGVyKVxuQ29udGFpbmVyLnByb3RvdHlwZS5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0gPSBDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcbiIsIi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYWNjZXNzaWJsZSBvYmplY3RzXG4gKiB1c2VkIGJ5IHtAbGluayBQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXJ9LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gYWNjZXNzaWJsZVRhcmdldFxuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICogQHR5cGUge09iamVjdH1cbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBNeU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmFjY2Vzc2liaWxpdHkuYWNjZXNzaWJsZVRhcmdldFxuICogICAgICApO1xuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogIEZsYWcgZm9yIGlmIHRoZSBvYmplY3QgaXMgYWNjZXNzaWJsZS4gSWYgdHJ1ZSBBY2Nlc3NpYmlsaXR5TWFuYWdlciB3aWxsIG92ZXJsYXkgYVxuICAgICAqICAgc2hhZG93IGRpdiB3aXRoIGF0dHJpYnV0ZXMgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICAgKiBJZiBhY2Nlc3NpYmxlVGl0bGUgQU5EIGFjY2Vzc2libGVIaW50IGhhcyBub3QgYmVlbiB0aGlzIHdpbGwgZGVmYXVsdCB0byAnZGlzcGxheU9iamVjdCBbdGFiSW5kZXhdJ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7P3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUaXRsZTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFyaWEtbGFiZWwgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlSGludDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICB0YWJJbmRleDogMCxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlQWN0aXZlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlRGl2OiBmYWxzZSxcbn07XG4iLCJpbXBvcnQgYWNjZXNzaWJsZVRhcmdldCBmcm9tICcuL2FjY2Vzc2libGVUYXJnZXQnO1xuaW1wb3J0IHsgcmVtb3ZlSXRlbXMsIGlzTW9iaWxlIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vLyBhZGQgc29tZSBleHRyYSB2YXJpYWJsZXMgdG8gdGhlIGNvbnRhaW5lci4uXG5EaXNwbGF5T2JqZWN0Lm1peGluKGFjY2Vzc2libGVUYXJnZXQpO1xuXG5jb25zdCBLRVlfQ09ERV9UQUIgPSA5O1xuXG5jb25zdCBESVZfVE9VQ0hfU0laRSA9IDEwMDtcbmNvbnN0IERJVl9UT1VDSF9QT1NfWCA9IDA7XG5jb25zdCBESVZfVE9VQ0hfUE9TX1kgPSAwO1xuY29uc3QgRElWX1RPVUNIX1pJTkRFWCA9IDI7XG5cbmNvbnN0IERJVl9IT09LX1NJWkUgPSAxO1xuY29uc3QgRElWX0hPT0tfUE9TX1ggPSAtMTAwMDtcbmNvbnN0IERJVl9IT09LX1BPU19ZID0gLTEwMDA7XG5jb25zdCBESVZfSE9PS19aSU5ERVggPSAyO1xuXG4vKipcbiAqIFRoZSBBY2Nlc3NpYmlsaXR5IG1hbmFnZXIgcmVjcmVhdGVzIHRoZSBhYmlsaXR5IHRvIHRhYiBhbmQgaGF2ZSBjb250ZW50IHJlYWQgYnkgc2NyZWVuIHJlYWRlcnMuXG4gKiBUaGlzIGlzIHZlcnkgaW1wb3J0YW50IGFzIGl0IGNhbiBwb3NzaWJseSBoZWxwIHBlb3BsZSB3aXRoIGRpc2FiaWxpdGllcyBhY2Nlc3MgUGl4aUpTIGNvbnRlbnQuXG4gKlxuICogQSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBtYWRlIGFjY2Vzc2libGUganVzdCBsaWtlIGl0IGNhbiBiZSBtYWRlIGludGVyYWN0aXZlLiBUaGlzIG1hbmFnZXIgd2lsbCBtYXAgdGhlXG4gKiBldmVudHMgYXMgaWYgdGhlIG1vdXNlIHdhcyBiZWluZyB1c2VkLCBtaW5pbWl6aW5nIHRoZSBlZmZvcnQgcmVxdWlyZWQgdG8gaW1wbGVtZW50LlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuYWNjZXNzaWJpbGl0eWBcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmFjY2Vzc2liaWxpdHlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWNjZXNzaWJpbGl0eU1hbmFnZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHs/SFRNTEVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbiAgICAgICAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVUb3VjaEhvb2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpcnN0IHdlIGNyZWF0ZSBhIGRpdiB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7RElWX1RPVUNIX1NJWkV9cHhgO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7RElWX1RPVUNIX1NJWkV9cHhgO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gYCR7RElWX1RPVUNIX1BPU19YfXB4YDtcbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBgJHtESVZfVE9VQ0hfUE9TX1l9cHhgO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgZG9tIGVsZW1lbnQgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGl2ID0gZGl2O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNpbXBsZSBwb29sIGZvciBzdG9yaW5nIGRpdnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgYSB0aWNrIHVzZWQgdG8gY2hlY2sgaWYgYW4gb2JqZWN0IGlzIG5vIGxvbmdlciBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVySWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR0aW5nIHRoaXMgdG8gdHJ1ZSB3aWxsIHZpc3VhbGx5IHNob3cgdGhlIGRpdnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBhY2Nlc3NpYmlsaXR5IG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjdXJyZW50bHkgYWN0aXZlIGFjY2Vzc2libGUgaXRlbXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uS2V5RG93biA9IHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbGFnXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbGFnXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gZmFsc2U7XG5cbiAgICAgICAgLy8gbGV0IGxpc3RlbiBmb3IgdGFiLi4gb25jZSBwcmVzc2VkIHdlIGNhbiBmaXJlIHVwIGFuZCBzaG93IHRoZSBhY2Nlc3NpYmlsaXR5IGxheWVyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgdG91Y2ggaG9va3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNyZWF0ZVRvdWNoSG9vaygpXG4gICAge1xuICAgICAgICBjb25zdCBob29rRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICAgICAgaG9va0Rpdi5zdHlsZS53aWR0aCA9IGAke0RJVl9IT09LX1NJWkV9cHhgO1xuICAgICAgICBob29rRGl2LnN0eWxlLmhlaWdodCA9IGAke0RJVl9IT09LX1NJWkV9cHhgO1xuICAgICAgICBob29rRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS50b3AgPSBgJHtESVZfSE9PS19QT1NfWH1weGA7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IGAke0RJVl9IT09LX1BPU19ZfXB4YDtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS56SW5kZXggPSBESVZfSE9PS19aSU5ERVg7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGRjAwMDAnO1xuICAgICAgICBob29rRGl2LnRpdGxlID0gJ0hPT0sgRElWJztcblxuICAgICAgICBob29rRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaG9va0Rpdik7XG4gICAgICAgIHRoaXMuX2hvb2tEaXYgPSBob29rRGl2O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGVzdHJveVRvdWNoSG9vaygpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2hvb2tEaXYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX2hvb2tEaXYpO1xuICAgICAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0aW5nIHdpbGwgY2F1c2UgdGhlIEFjY2Vzc2liaWxpdHkgbGF5ZXIgdG8gYmUgc2hvd24uXG4gICAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgcHJlc3NlcyB0aGUgdGFiIGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYWN0aXZhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlLCB0aGlzKTtcblxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBtb3ZlcyB0aGUgbW91c2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRlYWN0aXZhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlIHx8IHRoaXMuaXNNb2JpbGVBY2Nlc3NpYmlsaXR5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlKTtcblxuICAgICAgICBpZiAodGhpcy5kaXYucGFyZW50Tm9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHJlY3Vyc2l2ZSBmdW5jdGlvbiB3aWxsIHJ1biB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgYWRkIGFueSBuZXcgYWNjZXNzaWJsZSBvYmplY3RzIHRvIHRoZSBET00gbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0byBjaGVjay5cbiAgICAgKi9cbiAgICB1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhkaXNwbGF5T2JqZWN0KVxuICAgIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LnZpc2libGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGUgJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoZGlzcGxheU9iamVjdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVySWQgPSB0aGlzLnJlbmRlcklkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmVmb3JlIGVhY2ggcmVuZGVyIHRoaXMgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCBhbGwgZGl2cyBhcmUgbWFwcGVkIGNvcnJlY3RseSB0byB0aGVpciBEaXNwbGF5T2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXBkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIGNoaWxkcmVuLi4uXG4gICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHModGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkKTtcblxuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5yZW5kZXJlci52aWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBzeCA9IHJlY3Qud2lkdGggLyB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgICAgICBjb25zdCBzeSA9IHJlY3QuaGVpZ2h0IC8gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgbGV0IGRpdiA9IHRoaXMuZGl2O1xuXG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gYCR7cmVjdC5sZWZ0fXB4YDtcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGAke3JlY3QudG9wfXB4YDtcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7dGhpcy5yZW5kZXJlci53aWR0aH1weGA7XG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLnJlbmRlcmVyLmhlaWdodH1weGA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC5yZW5kZXJJZCAhPT0gdGhpcy5yZW5kZXJJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZUFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaSwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXYucmVtb3ZlQ2hpbGQoY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9vbC5wdXNoKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZURpdiA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpLS07XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gbWFwIGRpdiB0byBkaXNwbGF5Li5cbiAgICAgICAgICAgICAgICBkaXYgPSBjaGlsZC5fYWNjZXNzaWJsZURpdjtcbiAgICAgICAgICAgICAgICBsZXQgaGl0QXJlYSA9IGNoaWxkLmhpdEFyZWE7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3QgPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5oaXRBcmVhKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBgJHsod3QudHggKyAoaGl0QXJlYS54ICogd3QuYSkpICogc3h9cHhgO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gYCR7KHd0LnR5ICsgKGhpdEFyZWEueSAqIHd0LmQpKSAqIHN5fXB4YDtcblxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBgJHtoaXRBcmVhLndpZHRoICogd3QuYSAqIHN4fXB4YDtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke2hpdEFyZWEuaGVpZ2h0ICogd3QuZCAqIHN5fXB4YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0QXJlYSA9IGNoaWxkLmdldEJvdW5kcygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FwSGl0QXJlYShoaXRBcmVhKTtcblxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGAke2hpdEFyZWEueCAqIHN4fXB4YDtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGAke2hpdEFyZWEueSAqIHN5fXB4YDtcblxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBgJHtoaXRBcmVhLndpZHRoICogc3h9cHhgO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7aGl0QXJlYS5oZWlnaHQgKiBzeX1weGA7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJ1dHRvbiB0aXRsZXMgYW5kIGhpbnRzIGlmIHRoZXkgZXhpc3QgYW5kIHRoZXkndmUgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoZGl2LnRpdGxlICE9PSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgJiYgY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpdi5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSAhPT0gY2hpbGQuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGNoaWxkLmFjY2Vzc2libGVIaW50ICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgY2hpbGQuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSByZW5kZXIgaWQuLlxuICAgICAgICB0aGlzLnJlbmRlcklkKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRqdXN0IHRoZSBoaXQgYXJlYSBiYXNlZCBvbiB0aGUgYm91bmRzIG9mIGEgZGlzcGxheSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGhpdEFyZWEgLSBCb3VuZHMgb2YgdGhlIGNoaWxkXG4gICAgICovXG4gICAgY2FwSGl0QXJlYShoaXRBcmVhKVxuICAgIHtcbiAgICAgICAgaWYgKGhpdEFyZWEueCA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggKz0gaGl0QXJlYS54O1xuICAgICAgICAgICAgaGl0QXJlYS54ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaXRBcmVhLnkgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBoaXRBcmVhLmhlaWdodCArPSBoaXRBcmVhLnk7XG4gICAgICAgICAgICBoaXRBcmVhLnkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpdEFyZWEueCArIGhpdEFyZWEud2lkdGggPiB0aGlzLnJlbmRlcmVyLndpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aCAtIGhpdEFyZWEueDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaXRBcmVhLnkgKyBoaXRBcmVhLmhlaWdodCA+IHRoaXMucmVuZGVyZXIuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBoaXRBcmVhLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0IC0gaGl0QXJlYS55O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIERpc3BsYXlPYmplY3QgdG8gdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBjaGlsZCB0byBtYWtlIGFjY2Vzc2libGUuXG4gICAgICovXG4gICAgYWRkQ2hpbGQoZGlzcGxheU9iamVjdClcbiAgICB7XG4gICAgICAgIC8vICAgIHRoaXMuYWN0aXZhdGUoKTtcblxuICAgICAgICBsZXQgZGl2ID0gdGhpcy5wb29sLnBvcCgpO1xuXG4gICAgICAgIGlmICghZGl2KVxuICAgICAgICB7XG4gICAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7RElWX1RPVUNIX1NJWkV9cHhgO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gJ3JnYmEoMjU1LDAsMCwwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVg7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgIC8vIEFSSUEgYXR0cmlidXRlcyBlbnN1cmUgdGhhdCBidXR0b24gdGl0bGUgYW5kIGhpbnQgdXBkYXRlcyBhcmUgYW5ub3VuY2VkIHByb3Blcmx5XG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gQ2hyb21lIGRvZXNuJ3QgbmVlZCBhcmlhLWxpdmUgdG8gd29yayBhcyBpbnRlbmRlZDsgaW4gZmFjdCBpdCBqdXN0IGdldHMgbW9yZSBjb25mdXNlZC5cbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvcnY6LipHZWNrb1xcLy8pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIEZpcmVGb3ggbmVlZHMgdGhpcyB0byBhbm5vdW5jZSBvbmx5IHRoZSBuZXcgYnV0dG9uIG5hbWVcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ2FkZGl0aW9ucycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkIGJ5IElFLCBvdGhlciBicm93c2VycyBkb24ndCBtdWNoIGNhcmVcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ3RleHQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX29uRm9jdXMuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLl9vbkZvY3VzT3V0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAgICAgICAgICB8fCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSBgZGlzcGxheU9iamVjdCAke2Rpc3BsYXlPYmplY3QudGFiSW5kZXh9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL1xuXG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUgPSB0cnVlO1xuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2ID0gZGl2O1xuICAgICAgICBkaXYuZGlzcGxheU9iamVjdCA9IGRpc3BsYXlPYmplY3Q7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZChkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdi50YWJJbmRleCA9IGRpc3BsYXlPYmplY3QudGFiSW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGJ1dHRvbiBwcmVzcyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChjbGljaylcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIGNsaWNrIGV2ZW50LlxuICAgICAqL1xuICAgIF9vbkNsaWNrKGUpXG4gICAge1xuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ2NsaWNrJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdwb2ludGVydGFwJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3ZlcilcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3VzIGV2ZW50LlxuICAgICAqL1xuICAgIF9vbkZvY3VzKGUpXG4gICAge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpKVxuICAgICAgICB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdXQpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1c291dCBldmVudC5cbiAgICAgKi9cbiAgICBfb25Gb2N1c091dChlKVxuICAgIHtcbiAgICAgICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gVGhlIGtleWRvd24gZXZlbnQuXG4gICAgICovXG4gICAgX29uS2V5RG93bihlKVxuICAgIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSAhPT0gS0VZX0NPREVfVEFCKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIG1vdXNlIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgbW91c2UgZXZlbnQuXG4gICAgICovXG4gICAgX29uTW91c2VNb3ZlKGUpXG4gICAge1xuICAgICAgICBpZiAoZS5tb3ZlbWVudFggPT09IDAgJiYgZS5tb3ZlbWVudFkgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIHRoaXMuZGl2ID0gbnVsbDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZGl2ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcblxuICAgICAgICB0aGlzLnBvb2wgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBBIFJ1bm5lciBpcyBhIGhpZ2hseSBwZXJmb3JtYW50IGFuZCBzaW1wbGUgYWx0ZXJuYXRpdmUgdG8gc2lnbmFscy4gQmVzdCB1c2VkIGluIHNpdHVhdGlvbnNcbiAqIHdoZXJlIGV2ZW50cyBhcmUgZGlzcGF0Y2hlZCB0byBtYW55IG9iamVjdHMgYXQgaGlnaCBmcmVxdWVuY3kgKHNheSBldmVyeSBmcmFtZSEpXG4gKlxuICpcbiAqIGxpa2UgYSBzaWduYWwuLlxuICogYGBgXG4gKiBjb25zdCBteU9iamVjdCA9IHtcbiAqICAgICBsb2FkZWQ6IG5ldyBQSVhJLlJ1bm5lcignbG9hZGVkJylcbiAqIH1cbiAqXG4gKiBjb25zdCBsaXN0ZW5lciA9IHtcbiAqICAgICBsb2FkZWQ6IGZ1bmN0aW9uKCl7XG4gKiAgICAgICAgIC8vIHRoaW5cbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlPYmplY3QudXBkYXRlLmFkZChsaXN0ZW5lcik7XG4gKlxuICogbXlPYmplY3QubG9hZGVkLmVtaXQoKTtcbiAqIGBgYFxuICpcbiAqIE9yIGZvciBoYW5kbGluZyBjYWxsaW5nIHRoZSBzYW1lIGZ1bmN0aW9uIG9uIG1hbnkgaXRlbXNcbiAqIGBgYFxuICogY29uc3QgbXlHYW1lID0ge1xuICogICAgIHVwZGF0ZTogbmV3IFBJWEkuUnVubmVyKCd1cGRhdGUnKVxuICogfVxuICpcbiAqIGNvbnN0IGdhbWVPYmplY3QgPSB7XG4gKiAgICAgdXBkYXRlOiBmdW5jdGlvbih0aW1lKXtcbiAqICAgICAgICAgLy8gdXBkYXRlIG15IGdhbWV5IHN0YXRlXG4gKiAgICAgfVxuICogfVxuICpcbiAqIG15R2FtZS51cGRhdGUuYWRkKGdhbWVPYmplY3QxKTtcbiAqXG4gKiBteUdhbWUudXBkYXRlLmVtaXQodGltZSk7XG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVubmVyXG57XG4gICAgLyoqXG4gICAgICogIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRoZSBmdW5jdGlvbiBuYW1lIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBvbiB0aGUgbGlzdGVuZXJzIGFkZGVkIHRvIHRoaXMgUnVubmVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpXG4gICAge1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLl9hbGlhc0NvdW50ID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaC9Ccm9hZGNhc3QgUnVubmVyIHRvIGFsbCBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhlIHF1ZXVlLlxuICAgICAqIEBwYXJhbSB7Li4uYW55fSBwYXJhbXMgLSBvcHRpb25hbCBwYXJhbWV0ZXJzIHRvIHBhc3MgdG8gZWFjaCBsaXN0ZW5lclxuICAgICAqL1xuICAgIGVtaXQoYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KVxuICAgIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiA4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21heCBhcmd1bWVudHMgcmVhY2hlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBuYW1lLCBpdGVtcyB9ID0gdGhpcztcblxuICAgICAgICB0aGlzLl9hbGlhc0NvdW50Kys7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpdGVtc1tpXVtuYW1lXShhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW1zID09PSB0aGlzLml0ZW1zKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbGlhc0NvdW50LS07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBlbnN1cmVOb25BbGlhc2VkSXRlbXMoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2FsaWFzQ291bnQgPiAwICYmIHRoaXMuaXRlbXMubGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5zbGljZSgwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGxpc3RlbmVyIHRvIHRoZSBSdW5uZXJcbiAgICAgKlxuICAgICAqIFJ1bm5lcnMgZG8gbm90IG5lZWQgdG8gaGF2ZSBzY29wZSBvciBmdW5jdGlvbnMgcGFzc2VkIHRvIHRoZW0uXG4gICAgICogQWxsIHRoYXQgaXMgcmVxdWlyZWQgaXMgdG8gcGFzcyB0aGUgbGlzdGVuaW5nIG9iamVjdCBhbmQgZW5zdXJlIHRoYXQgaXQgaGFzIGNvbnRhaW5zIGEgZnVuY3Rpb24gdGhhdCBoYXMgdGhlIHNhbWUgbmFtZVxuICAgICAqIGFzIHRoZSBuYW1lIHByb3ZpZGVkIHRvIHRoZSBSdW5uZXIgd2hlbiBpdCB3YXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEVnIEEgbGlzdGVuZXIgcGFzc2VkIHRvIHRoaXMgUnVubmVyIHdpbGwgcmVxdWlyZSBhICdjb21wbGV0ZScgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBjb21wbGV0ZSA9IG5ldyBQSVhJLlJ1bm5lcignY29tcGxldGUnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoZSBzY29wZSB1c2VkIHdpbGwgYmUgdGhlIG9iamVjdCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIGxpc3RlbmluZy5cbiAgICAgKi9cbiAgICBhZGQoaXRlbSlcbiAgICB7XG4gICAgICAgIGlmIChpdGVtW3RoaXMuX25hbWVdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoaXRlbSk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzaW5nbGUgbGlzdGVuZXIgZnJvbSB0aGUgZGlzcGF0Y2ggcXVldWUuXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgbGlzdGVuciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIHJlbW92ZS5cbiAgICAgKi9cbiAgICByZW1vdmUoaXRlbSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pO1xuXG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgdGhlIGxpc3RlbmVyIGlzIGFscmVhZHkgaW4gdGhlIFJ1bm5lclxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIGxpc3RlbmVyIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gY2hlY2suXG4gICAgICovXG4gICAgY29udGFpbnMoaXRlbSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSkgIT09IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGZyb20gdGhlIFJ1bm5lclxuICAgICAqL1xuICAgIHJlbW92ZUFsbCgpXG4gICAge1xuICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICB0aGlzLml0ZW1zLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCByZWZlcmVuY2VzLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9uYW1lID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgdGhlcmUgYXJlIG5vIHRoaXMgUnVubmVyIGNvbnRhaW5zIG5vIGxpc3RlbmVyc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgZW1wdHkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoID09PSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBydW5uZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IG5hbWUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxufVxuXG4vKipcbiAqIEFsaWFzIGZvciBgZW1pdGBcbiAqIEBtZW1iZXJvZiBQSVhJLlJ1bm5lciNcbiAqIEBtZXRob2QgZGlzcGF0Y2hcbiAqIEBzZWUgUElYSS5SdW5uZXIjZW1pdFxuICovXG5SdW5uZXIucHJvdG90eXBlLmRpc3BhdGNoID0gUnVubmVyLnByb3RvdHlwZS5lbWl0O1xuXG4vKipcbiAqIEFsaWFzIGZvciBgZW1pdGBcbiAqIEBtZW1iZXJvZiBQSVhJLlJ1bm5lciNcbiAqIEBtZXRob2QgcnVuXG4gKiBAc2VlIFBJWEkuUnVubmVyI2VtaXRcbiAqL1xuUnVubmVyLnByb3RvdHlwZS5ydW4gPSBSdW5uZXIucHJvdG90eXBlLmVtaXQ7XG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuLyoqXG4gKiBUYXJnZXQgZnJhbWVzIHBlciBtaWxsaXNlY29uZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRfRlBNU1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAwLjA2XG4gKi9cbnNldHRpbmdzLlRBUkdFVF9GUE1TID0gMC4wNjtcblxuZXhwb3J0IHsgc2V0dGluZ3MgfTtcbiIsIi8qKlxuICogUmVwcmVzZW50cyB0aGUgdXBkYXRlIHByaW9yaXRpZXMgdXNlZCBieSBpbnRlcm5hbCBQSVhJIGNsYXNzZXMgd2hlbiByZWdpc3RlcmVkIHdpdGhcbiAqIHRoZSB7QGxpbmsgUElYSS5UaWNrZXJ9IG9iamVjdC4gSGlnaGVyIHByaW9yaXR5IGl0ZW1zIGFyZSB1cGRhdGVkIGZpcnN0IGFuZCBsb3dlclxuICogcHJpb3JpdHkgaXRlbXMsIHN1Y2ggYXMgcmVuZGVyLCBzaG91bGQgZ28gbGF0ZXIuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBVUERBVEVfUFJJT1JJVFlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IElOVEVSQUNUSU9OPTUwIEhpZ2hlc3QgcHJpb3JpdHksIHVzZWQgZm9yIHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIPTI1IEhpZ2ggcHJpb3JpdHkgdXBkYXRpbmcsIHtAbGluayBQSVhJLlZpZGVvQmFzZVRleHR1cmV9IGFuZCB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUw9MCBEZWZhdWx0IHByaW9yaXR5IGZvciB0aWNrZXIgZXZlbnRzLCBzZWUge0BsaW5rIFBJWEkuVGlja2VyI2FkZH0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XPS0yNSBMb3cgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkuQXBwbGljYXRpb259IHJlbmRlcmluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVVElMSVRZPS01MCBMb3dlc3QgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gdXRpbGl0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVQREFURV9QUklPUklUWSA9IHtcbiAgICBJTlRFUkFDVElPTjogNTAsXG4gICAgSElHSDogMjUsXG4gICAgTk9STUFMOiAwLFxuICAgIExPVzogLTI1LFxuICAgIFVUSUxJVFk6IC01MCxcbn07XG4iLCIvKipcbiAqIEludGVybmFsIGNsYXNzIGZvciBoYW5kbGluZyB0aGUgcHJpb3JpdHkgc29ydGluZyBvZiB0aWNrZXIgaGFuZGxlcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlja2VyTGlzdGVuZXJcbntcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0PW51bGxdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTBdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29uY2U9ZmFsc2VdIC0gSWYgdGhlIGhhbmRsZXIgc2hvdWxkIGZpcmUgb25jZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGZuLCBjb250ZXh0ID0gbnVsbCwgcHJpb3JpdHkgPSAwLCBvbmNlID0gZmFsc2UpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhhbmRsZXIgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZuID0gZm47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsaW5nIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIgeyp9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBwcmlvcml0eS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIHNob3VsZCBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuZXh0IGl0ZW0gaW4gY2hhaW4uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByZXZpb3VzIGl0ZW0gaW4gY2hhaW4uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGlzIGxpc3RlbmVyIGhhcyBiZWVuIGRlc3Ryb3llZCBhbHJlYWR5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2ltcGxlIGNvbXBhcmUgZnVuY3Rpb24gdG8gZmlndXJlIG91dCBpZiBhIGZ1bmN0aW9uIGFuZCBjb250ZXh0IG1hdGNoLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb250ZXh0IC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGxpc3RlbmVyIG1hdGNoIHRoZSBhcmd1bWVudHNcbiAgICAgKi9cbiAgICBtYXRjaChmbiwgY29udGV4dClcbiAgICB7XG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm4gPT09IGZuICYmIHRoaXMuY29udGV4dCA9PT0gY29udGV4dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbWl0IGJ5IGNhbGxpbmcgdGhlIGN1cnJlbnQgZnVuY3Rpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBzaW5jZSB0aGUgbGFzdCBlbWl0LlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBOZXh0IHRpY2tlclxuICAgICAqL1xuICAgIGVtaXQoZGVsdGFUaW1lKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZm4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZuKGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWRpcmVjdCA9IHRoaXMubmV4dDtcblxuICAgICAgICBpZiAodGhpcy5vbmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTb2Z0LWRlc3Ryb3lpbmcgc2hvdWxkIHJlbW92ZVxuICAgICAgICAvLyB0aGUgbmV4dCByZWZlcmVuY2VcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBsaXN0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gcHJldmlvdXMgLSBJbnB1dCBub2RlLCBwcmV2aW91cyBsaXN0ZW5lclxuICAgICAqL1xuICAgIGNvbm5lY3QocHJldmlvdXMpXG4gICAge1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG4gICAgICAgIGlmIChwcmV2aW91cy5uZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICBwcmV2aW91cy5uZXh0LnByZXZpb3VzID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHQgPSBwcmV2aW91cy5uZXh0O1xuICAgICAgICBwcmV2aW91cy5uZXh0ID0gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hhcmQgPSBmYWxzZV0gYHRydWVgIHRvIHJlbW92ZSB0aGUgYG5leHRgIHJlZmVyZW5jZSwgdGhpc1xuICAgICAqICAgICAgICBpcyBjb25zaWRlcmVkIGEgaGFyZCBkZXN0cm95LiBTb2Z0IGRlc3Ryb3kgbWFpbnRhaW5zIHRoZSBuZXh0IHJlZmVyZW5jZS5cbiAgICAgKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gVGhlIGxpc3RlbmVyIHRvIHJlZGlyZWN0IHdoaWxlIGVtaXR0aW5nIG9yIHJlbW92aW5nLlxuICAgICAqL1xuICAgIGRlc3Ryb3koaGFyZCA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mbiA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG5cbiAgICAgICAgLy8gRGlzY29ubmVjdCwgaG9vayB1cCBuZXh0IGFuZCBwcmV2aW91c1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5uZXh0LnByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIHRoZSBuZXh0IGl0ZW1cbiAgICAgICAgY29uc3QgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXNcbiAgICAgICAgdGhpcy5uZXh0ID0gaGFyZCA/IG51bGwgOiByZWRpcmVjdDtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICcuL2NvbnN0JztcbmltcG9ydCBUaWNrZXJMaXN0ZW5lciBmcm9tICcuL1RpY2tlckxpc3RlbmVyJztcblxuLyoqXG4gKiBBIFRpY2tlciBjbGFzcyB0aGF0IHJ1bnMgYW4gdXBkYXRlIGxvb3AgdGhhdCBvdGhlciBvYmplY3RzIGxpc3RlbiB0by5cbiAqXG4gKiBUaGlzIGNsYXNzIGlzIGNvbXBvc2VkIGFyb3VuZCBsaXN0ZW5lcnMgbWVhbnQgZm9yIGV4ZWN1dGlvbiBvbiB0aGUgbmV4dCByZXF1ZXN0ZWQgYW5pbWF0aW9uIGZyYW1lLlxuICogQW5pbWF0aW9uIGZyYW1lcyBhcmUgcmVxdWVzdGVkIG9ubHkgd2hlbiBuZWNlc3NhcnksIGUuZy4gV2hlbiB0aGUgdGlja2VyIGlzIHN0YXJ0ZWQgYW5kIHRoZSBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWNrZXJcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZpcnN0IGxpc3RlbmVyLiBBbGwgbmV3IGxpc3RlbmVycyBhZGRlZCBhcmUgY2hhaW5lZCBvbiB0aGlzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWFkID0gbmV3IFRpY2tlckxpc3RlbmVyKG51bGwsIG51bGwsIEluZmluaXR5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY3VycmVudCBmcmFtZSByZXF1ZXN0IElEXG4gICAgICAgICAqIEB0eXBlIHs/bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtaW5GUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1heGltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMTAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB2YWx1ZSBtYW5hZ2VkIGJ5IG1heEZQUyBwcm9wZXJ0eSBzZXR0ZXIgYW5kIGdldHRlci5cbiAgICAgICAgICogVGhpcyBpcyB0aGUgbWluaW11bSBhbGxvd2VkIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBzaG91bGQgaW52b2tlIHRoZSBtZXRob2RcbiAgICAgICAgICoge0BsaW5rIFBJWEkuVGlja2VyI3N0YXJ0fSBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAqIHdoZW4gYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1N0YXJ0ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxhciB0aW1lIHZhbHVlIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGNhcHBlZCBieSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNtaW5GUFN9XG4gICAgICAgICAqIGFuZCBpcyBzY2FsZWQgd2l0aCB7QGxpbmsgUElYSS5UaWNrZXIjc3BlZWR9LlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhlIGNhcCBtYXkgYmUgZXhjZWVkZWQgYnkgc2NhbGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxlciB0aW1lIGVsYXBzZWQgaW4gbWlsbGlzZWNvbmRzIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGNhcHBlZCBieSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNtaW5GUFN9XG4gICAgICAgICAqIGFuZCBpcyBzY2FsZWQgd2l0aCB7QGxpbmsgUElYSS5UaWNrZXIjc3BlZWR9LlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhlIGNhcCBtYXkgYmUgZXhjZWVkZWQgYnkgc2NhbGluZy5cbiAgICAgICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAgICAgKiBEZWZhdWx0cyB0byB0YXJnZXQgZnJhbWUgdGltZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDE2LjY2XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhTVMgPSAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIE9wcG9zZWQgdG8gd2hhdCB0aGUgc2NhbGFyIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9XG4gICAgICAgICAqIGlzIGJhc2VkLCB0aGlzIHZhbHVlIGlzIG5laXRoZXIgY2FwcGVkIG5vciBzY2FsZWQuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICogRGVmYXVsdHMgdG8gdGFyZ2V0IGZyYW1lIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNi42NlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGFwc2VkTVMgPSAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHRpbWUge0BsaW5rIFBJWEkuVGlja2VyI3VwZGF0ZX0gd2FzIGludm9rZWQuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgYWxzbyByZXNldCBpbnRlcm5hbGx5IG91dHNpZGUgb2YgaW52b2tpbmdcbiAgICAgICAgICogdXBkYXRlLCBidXQgb25seSB3aGVuIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGYWN0b3Igb2YgY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU2NhbGVzIHRpY2tlci5kZWx0YVRpbWUgdG8gd2hhdCB3b3VsZCBiZVxuICAgICAgICAgKiAvLyB0aGUgZXF1aXZhbGVudCBvZiBhcHByb3hpbWF0ZWx5IDEyMCBGUFNcbiAgICAgICAgICogdGlja2VyLnNwZWVkID0gMjtcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNwZWVkID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZC5cbiAgICAgICAgICogYHRydWVgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBgZmFsc2VgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdG9wfSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIFdoaWxlIGBmYWxzZWAsIHRoaXMgdmFsdWUgbWF5IGNoYW5nZSB0byBgdHJ1ZWAgaW4gdGhlXG4gICAgICAgICAqIGV2ZW50IG9mIHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGJlaW5nIGB0cnVlYFxuICAgICAgICAgKiBhbmQgYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkLCBkZWxldGluZyBpcyBkaXNhYmxlZC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Byb3RlY3RlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIGtleWZyYW1lIHdhcyBleGVjdXRlZC5cbiAgICAgICAgICogTWFpbnRhaW5zIGEgcmVsYXRpdmVseSBmaXhlZCBpbnRlcnZhbCB3aXRoIHRoZSBwcmV2aW91cyB2YWx1ZS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHRpY2sgbWV0aG9kIGJvdW5kIHRvIHRpY2tlciBpbnN0YW5jZS5cbiAgICAgICAgICogVGhpcyBpcyBiZWNhdXNlIGluIGVhcmx5IDIwMTUsIEZ1bmN0aW9uLmJpbmRcbiAgICAgICAgICogaXMgc3RpbGwgNjAlIHNsb3dlciBpbiBoaWdoIHBlcmZvcm1hbmNlIHNjZW5hcmlvcy5cbiAgICAgICAgICogQWxzbyBzZXBhcmF0aW5nIGZyYW1lIHJlcXVlc3RzIGZyb20gdXBkYXRlIG1ldGhvZFxuICAgICAgICAgKiBzbyBsaXN0ZW5lcnMgbWF5IGJlIGNhbGxlZCBhdCBhbnkgdGltZSBhbmQgd2l0aFxuICAgICAgICAgKiBhbnkgYW5pbWF0aW9uIEFQSSwganVzdCBpbnZva2UgdGlja2VyLnVwZGF0ZSh0aW1lKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpY2sgPSAodGltZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIG5vd1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKHRpbWUpO1xuICAgICAgICAgICAgICAgIC8vIExpc3RlbmVyIHNpZGUgZWZmZWN0cyBtYXkgaGF2ZSBtb2RpZmllZCB0aWNrZXIgc3RhdGUuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCAmJiB0aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcy5faGVhZC5uZXh0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBJZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbFxuICAgICAqIGVtaXR0ZXIgaGFzIGxpc3RlbmVycywgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVxdWVzdElmTmVlZGVkKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcy5faGVhZC5uZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2FsbGJhY2tzIGdldCBjb3JyZWN0IGRlbHRhXG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSB0aGlzLmxhc3RUaW1lO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSBjYW5jZWxzIGEgcGVuZGluZyBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jYW5jZWxJZk5lZWRlZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0SWQpO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIElmIHRoZSB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZCBpdCBjaGVja3MgaWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHlcbiAgICAgKiBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbCBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuIElmIHRoZXNlXG4gICAgICogY29uZGl0aW9ucyBhcmUgbWV0LCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuIElmIHRoZSB0aWNrZXIgaGFzIG5vdFxuICAgICAqIGJlZW4gc3RhcnRlZCwgYnV0IGF1dG9TdGFydCBpcyBgdHJ1ZWAsIHRoZW4gdGhlIHRpY2tlciBzdGFydHMgbm93LFxuICAgICAqIGFuZCBjb250aW51ZXMgd2l0aCB0aGUgcHJldmlvdXMgY29uZGl0aW9ucyB0byByZXF1ZXN0IGEgbmV3IGZyYW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc3RhcnRJZlBvc3NpYmxlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0b1N0YXJ0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGhhbmRsZXIgZm9yIHRpY2sgZXZlbnRzLiBDYWxscyBjb250aW51b3VzbHkgdW5sZXNzXG4gICAgICogaXQgaXMgcmVtb3ZlZCBvciB0aGUgdGlja2VyIGlzIHN0b3BwZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3IgdXBkYXRlc1xuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgYWRkKGZuLCBjb250ZXh0LCBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUwpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGhhbmRsZXIgZm9yIHRoZSB0aWNrIGV2ZW50IHdoaWNoIGlzIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIGFkZE9uY2UoZm4sIGNvbnRleHQsIHByaW9yaXR5ID0gVVBEQVRFX1BSSU9SSVRZLk5PUk1BTClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgVGlja2VyTGlzdGVuZXIoZm4sIGNvbnRleHQsIHByaW9yaXR5LCB0cnVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWxseSBhZGRzIHRoZSBldmVudCBoYW5kbGVyIHNvIHRoYXQgaXQgY2FuIGJlIHNvcnRlZCBieSBwcmlvcml0eS5cbiAgICAgKiBQcmlvcml0eSBhbGxvd3MgY2VydGFpbiBoYW5kbGVyICh1c2VyLCBBbmltYXRlZFNwcml0ZSwgSW50ZXJhY3Rpb24pIHRvIGJlIHJ1blxuICAgICAqIGJlZm9yZSB0aGUgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RpY2tlckxpc3RlbmVyfSBsaXN0ZW5lciAtIEN1cnJlbnQgbGlzdGVuZXIgYmVpbmcgYWRkZWQuXG4gICAgICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgX2FkZExpc3RlbmVyKGxpc3RlbmVyKVxuICAgIHtcbiAgICAgICAgLy8gRm9yIGF0dGFjaGluZyB0byBoZWFkXG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICBsZXQgcHJldmlvdXMgPSB0aGlzLl9oZWFkO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgZmlyc3QgaXRlbVxuICAgICAgICBpZiAoIWN1cnJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gR28gZnJvbSBoaWdoZXN0IHRvIGxvd2VzdCBwcmlvcml0eVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLnByaW9yaXR5ID4gY3VycmVudC5wcmlvcml0eSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdCB5ZXQgY29ubmVjdGVkXG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyLnByZXZpb3VzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RhcnRJZlBvc3NpYmxlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbnkgaGFuZGxlcnMgbWF0Y2hpbmcgdGhlIGZ1bmN0aW9uIGFuZCBjb250ZXh0IHBhcmFtZXRlcnMuXG4gICAgICogSWYgbm8gaGFuZGxlcnMgYXJlIGxlZnQgYWZ0ZXIgcmVtb3ZpbmcsIHRoZW4gaXQgY2FuY2VscyB0aGUgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHQgdG8gYmUgcmVtb3ZlZFxuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIHJlbW92ZShmbiwgY29udGV4dClcbiAgICB7XG4gICAgICAgIGxldCBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcblxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2gsIGxldHMgcmVtb3ZlIGl0XG4gICAgICAgICAgICAvLyBubyBicmVhayB0byBkZWxldGUgYWxsIHBvc3NpYmxlIG1hdGNoZXNcbiAgICAgICAgICAgIC8vIGluY2FzZSBhIGxpc3RlbmVyIHdhcyBhZGRlZCAyKyB0aW1lc1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm1hdGNoKGZuLCBjb250ZXh0KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2hlYWQubmV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyBsaXN0ZW5lcnNcbiAgICAgKiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkIGF0IHRoaXMgcG9pbnQuXG4gICAgICovXG4gICAgc3RhcnQoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIHJlcXVlc3RlZFxuICAgICAqIGFuIGFuaW1hdGlvbiBmcmFtZSBpdCBpcyBjYW5jZWxlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIHN0b3AoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgdGlja2VyIGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy4gQ2FsbGluZ1xuICAgICAqIHRoaXMgbWV0aG9kIHJlbW92ZXMgYWxsIHJlZmVyZW5jZXMgdG8gaW50ZXJuYWwgZXZlbnRzLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm90ZWN0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgICAgICBsZXQgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG5cbiAgICAgICAgICAgIHdoaWxlIChsaXN0ZW5lcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2hlYWQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5faGVhZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBhbiB1cGRhdGUuIEFuIHVwZGF0ZSBlbnRhaWxzIHNldHRpbmcgdGhlXG4gICAgICogY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZWxhcHNlZE1TfSxcbiAgICAgKiB0aGUgY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgKiBpbnZva2luZyBhbGwgbGlzdGVuZXJzIHdpdGggY3VycmVudCBkZWx0YVRpbWUsXG4gICAgICogYW5kIHRoZW4gZmluYWxseSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNsYXN0VGltZX1cbiAgICAgKiB3aXRoIHRoZSB2YWx1ZSBvZiBjdXJyZW50VGltZSB0aGF0IHdhcyBwcm92aWRlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IGFuaW1hdGlvblxuICAgICAqIGZyYW1lIGNhbGxiYWNrcyBpZiB0aGUgdGlja2VyIGluc3RhbmNlIGhhcyBiZWVuIHN0YXJ0ZWRcbiAgICAgKiBhbmQgbGlzdGVuZXJzIGFyZSBhZGRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY3VycmVudFRpbWU9cGVyZm9ybWFuY2Uubm93KCldIC0gdGhlIGN1cnJlbnQgdGltZSBvZiBleGVjdXRpb25cbiAgICAgKi9cbiAgICB1cGRhdGUoY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSlcbiAgICB7XG4gICAgICAgIGxldCBlbGFwc2VkTVM7XG5cbiAgICAgICAgLy8gSWYgdGhlIGRpZmZlcmVuY2UgaW4gdGltZSBpcyB6ZXJvIG9yIG5lZ2F0aXZlLCB3ZSBpZ25vcmUgbW9zdCBvZiB0aGUgd29yayBkb25lIGhlcmUuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHZhbGlkIGRpZmZlcmVuY2UsIHRoZW4gc2hvdWxkIGJlIG5vIHJlYXNvbiB0byBsZXQgYW55b25lIGtub3cgYWJvdXQgaXQuXG4gICAgICAgIC8vIEEgemVybyBkZWx0YSwgaXMgZXhhY3RseSB0aGF0LCBub3RoaW5nIHNob3VsZCB1cGRhdGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBkaWZmZXJlbmNlIGluIHRpbWUgY2FuIGJlIG5lZ2F0aXZlLCBhbmQgbm8gdGhpcyBkb2VzIG5vdCBtZWFuIHRpbWUgdHJhdmVsaW5nLlxuICAgICAgICAvLyBUaGlzIGNhbiBiZSB0aGUgcmVzdWx0IG9mIGEgcmFjZSBjb25kaXRpb24gYmV0d2VlbiB3aGVuIGFuIGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWRcbiAgICAgICAgLy8gb24gdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBlbmdpbmUgZXZlbnQgbG9vcCwgYW5kIHdoZW4gdGhlIHRpY2tlcidzIHN0YXJ0IG1ldGhvZCBpcyBpbnZva2VkXG4gICAgICAgIC8vICh3aGljaCBpbnZva2VzIHRoZSBpbnRlcm5hbCBfcmVxdWVzdElmTmVlZGVkIG1ldGhvZCkuIElmIGEgZnJhbWUgaXMgcmVxdWVzdGVkIGJlZm9yZVxuICAgICAgICAvLyBfcmVxdWVzdElmTmVlZGVkIGlzIGludm9rZWQsIHRoZW4gdGhlIGNhbGxiYWNrIGZvciB0aGUgYW5pbWF0aW9uIGZyYW1lIHRoZSB0aWNrZXIgcmVxdWVzdHMsXG4gICAgICAgIC8vIGNhbiByZWNlaXZlIGEgdGltZSBhcmd1bWVudCB0aGF0IGNhbiBiZSBsZXNzIHRoYW4gdGhlIGxhc3RUaW1lIHZhbHVlIHRoYXQgd2FzIHNldCB3aXRoaW5cbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZC4gVGhpcyBkaWZmZXJlbmNlIGlzIGluIG1pY3Jvc2Vjb25kcywgYnV0IHRoaXMgaXMgZW5vdWdoIHRvIGNhdXNlIHByb2JsZW1zLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGNvdmVycyB0aGlzIGJyb3dzZXIgZW5naW5lIHRpbWluZyBpc3N1ZSwgYXMgd2VsbCBhcyBpZiBjb25zdW1lcnMgcGFzcyBhbiBpbnZhbGlkXG4gICAgICAgIC8vIGN1cnJlbnRUaW1lIHZhbHVlLiBUaGlzIG1heSBoYXBwZW4gaWYgY29uc3VtZXJzIG9wdC1vdXQgb2YgdGhlIGF1dG9TdGFydCwgYW5kIHVwZGF0ZSB0aGVtc2VsdmVzLlxuXG4gICAgICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdFRpbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdW5jYXBwZWQgZWxhcHNlZE1TIGZvciBtZWFzdXJlbWVudFxuICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5lbGFwc2VkTVMgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWU7XG5cbiAgICAgICAgICAgIC8vIGNhcCB0aGUgbWlsbGlzZWNvbmRzIGVsYXBzZWQgdXNlZCBmb3IgZGVsdGFUaW1lXG4gICAgICAgICAgICBpZiAoZWxhcHNlZE1TID4gdGhpcy5fbWF4RWxhcHNlZE1TKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuX21heEVsYXBzZWRNUztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxhcHNlZE1TICo9IHRoaXMuc3BlZWQ7XG5cbiAgICAgICAgICAgIC8vIElmIG5vdCBlbm91Z2ggdGltZSBoYXMgcGFzc2VkLCBleGl0IHRoZSBmdW5jdGlvbi5cbiAgICAgICAgICAgIC8vIEdldCByZWFkeSBmb3IgbmV4dCBmcmFtZSBieSBzZXR0aW5nIF9sYXN0RnJhbWUsIGJ1dCBiYXNlZCBvbiBfbWluRWxhcHNlZE1TXG4gICAgICAgICAgICAvLyBhZGp1c3RtZW50IHRvIGVuc3VyZSBhIHJlbGF0aXZlbHkgc3RhYmxlIGludGVydmFsLlxuICAgICAgICAgICAgaWYgKHRoaXMuX21pbkVsYXBzZWRNUylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5fbGFzdEZyYW1lIHwgMDtcblxuICAgICAgICAgICAgICAgIGlmIChkZWx0YSA8IHRoaXMuX21pbkVsYXBzZWRNUylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSBjdXJyZW50VGltZSAtIChkZWx0YSAlIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZGVsdGFNUyA9IGVsYXBzZWRNUztcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5kZWx0YU1TICogc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG5cbiAgICAgICAgICAgIC8vIENhY2hlIGEgbG9jYWwgcmVmZXJlbmNlLCBpbi1jYXNlIHRpY2tlciBpcyBkZXN0cm95ZWRcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgZW1pdCwgd2UgY2FuIHN0aWxsIGNoZWNrIGZvciBoZWFkLm5leHRcbiAgICAgICAgICAgIGNvbnN0IGhlYWQgPSB0aGlzLl9oZWFkO1xuXG4gICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIGFkZGVkIHRvIGludGVybmFsIGVtaXR0ZXJcbiAgICAgICAgICAgIGxldCBsaXN0ZW5lciA9IGhlYWQubmV4dDtcblxuICAgICAgICAgICAgd2hpbGUgKGxpc3RlbmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZW1pdCh0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaGVhZC5uZXh0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZGVsdGFNUyA9IHRoaXMuZWxhcHNlZE1TID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWVzIHBlciBzZWNvbmQgYXQgd2hpY2ggdGhpcyB0aWNrZXIgaXMgcnVubmluZy5cbiAgICAgKiBUaGUgZGVmYXVsdCBpcyBhcHByb3hpbWF0ZWx5IDYwIGluIG1vc3QgbW9kZXJuIGJyb3dzZXJzLlxuICAgICAqICoqTm90ZToqKiBUaGlzIGRvZXMgbm90IGZhY3RvciBpbiB0aGUgdmFsdWUgb2ZcbiAgICAgKiB7QGxpbmsgUElYSS5UaWNrZXIjc3BlZWR9LCB3aGljaCBpcyBzcGVjaWZpY1xuICAgICAqIHRvIHNjYWxpbmcge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IEZQUygpXG4gICAge1xuICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuZWxhcHNlZE1TO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hbmFnZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyBhbGxvd2VkIHRvXG4gICAgICogZWxhcHNlIGJldHdlZW4gaW52b2tpbmcge0BsaW5rIFBJWEkuVGlja2VyI3VwZGF0ZX0uXG4gICAgICogVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIGNhcCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgKiBidXQgZG9lcyBub3QgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgKiBXaGVuIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSBpdCBpcyBjbGFtcGVkIHRvIGEgdmFsdWUgYmV0d2VlblxuICAgICAqIGAwYCBhbmQgYFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgKiAxMDAwYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAqL1xuICAgIGdldCBtaW5GUFMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIDEwMDAgLyB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgfVxuXG4gICAgc2V0IG1pbkZQUyhmcHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgLy8gTWluaW11bSBtdXN0IGJlIGJlbG93IHRoZSBtYXhGUFNcbiAgICAgICAgY29uc3QgbWluRlBTID0gTWF0aC5taW4odGhpcy5tYXhGUFMsIGZwcyk7XG5cbiAgICAgICAgLy8gTXVzdCBiZSBhdCBsZWFzdCAwLCBidXQgYmVsb3cgMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TXG4gICAgICAgIGNvbnN0IG1pbkZQTVMgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBtaW5GUFMpIC8gMTAwMCwgc2V0dGluZ3MuVEFSR0VUX0ZQTVMpO1xuXG4gICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEgLyBtaW5GUE1TO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hbmFnZXMgdGhlIG1pbmltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyByZXF1aXJlZCB0b1xuICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICAgICAqIFRoaXMgd2lsbCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLlRpY2tlciNGUFN9LlxuICAgICAqIElmIGl0IGlzIHNldCB0byBgMGAsIHRoZW4gdGhlcmUgaXMgbm8gbGltaXQ7IFBpeGlKUyB3aWxsIHJlbmRlciBhcyBtYW55IGZyYW1lcyBhcyBpdCBjYW4uXG4gICAgICogT3RoZXJ3aXNlIGl0IHdpbGwgYmUgYXQgbGVhc3QgYG1pbkZQU2BcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgZ2V0IG1heEZQUygpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbWluRWxhcHNlZE1TKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgxMDAwIC8gdGhpcy5fbWluRWxhcHNlZE1TKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHNldCBtYXhGUFMoZnBzKVxuICAgIHtcbiAgICAgICAgaWYgKGZwcyA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIE1heCBtdXN0IGJlIGF0IGxlYXN0IHRoZSBtaW5GUFNcbiAgICAgICAgICAgIGNvbnN0IG1heEZQUyA9IE1hdGgubWF4KHRoaXMubWluRlBTLCBmcHMpO1xuXG4gICAgICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAxIC8gKG1heEZQUyAvIDEwMDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX0gYW5kIGJ5XG4gICAgICoge0BsaW5rIFBJWEkuVmlkZW9SZXNvdXJjZX0gdG8gdXBkYXRlIGFuaW1hdGlvbiBmcmFtZXMgLyB2aWRlbyB0ZXh0dXJlcy5cbiAgICAgKlxuICAgICAqIEl0IG1heSBhbHNvIGJlIHVzZWQgYnkge0BsaW5rIFBJWEkuQXBwbGljYXRpb259IGlmIGNyZWF0ZWQgd2l0aCB0aGUgYHNoYXJlZFRpY2tlcmAgb3B0aW9uIHByb3BlcnR5IHNldCB0byB0cnVlLlxuICAgICAqXG4gICAgICogVGhlIHByb3BlcnR5IHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWAgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICogUGxlYXNlIGZvbGxvdyB0aGUgZXhhbXBsZXMgZm9yIHVzYWdlLCBpbmNsdWRpbmcgaG93IHRvIG9wdC1vdXQgb2YgYXV0by1zdGFydGluZyB0aGUgc2hhcmVkIHRpY2tlci5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbGV0IHRpY2tlciA9IFBJWEkuVGlja2VyLnNoYXJlZDtcbiAgICAgKiAvLyBTZXQgdGhpcyB0byBwcmV2ZW50IHN0YXJ0aW5nIHRoaXMgdGlja2VyIHdoZW4gbGlzdGVuZXJzIGFyZSBhZGRlZC5cbiAgICAgKiAvLyBCeSBkZWZhdWx0IHRoaXMgaXMgdHJ1ZSBvbmx5IGZvciB0aGUgUElYSS5UaWNrZXIuc2hhcmVkIGluc3RhbmNlLlxuICAgICAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgKiAvLyBGWUksIGNhbGwgdGhpcyB0byBlbnN1cmUgdGhlIHRpY2tlciBpcyBzdG9wcGVkLiBJdCBzaG91bGQgYmUgc3RvcHBlZFxuICAgICAqIC8vIGlmIHlvdSBoYXZlIG5vdCBhdHRlbXB0ZWQgdG8gcmVuZGVyIGFueXRoaW5nIHlldC5cbiAgICAgKiB0aWNrZXIuc3RvcCgpO1xuICAgICAqIC8vIENhbGwgdGhpcyB3aGVuIHlvdSBhcmUgcmVhZHkgZm9yIGEgcnVubmluZyBzaGFyZWQgdGlja2VyLlxuICAgICAqIHRpY2tlci5zdGFydCgpO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBZb3UgbWF5IHVzZSB0aGUgc2hhcmVkIHRpY2tlciB0byByZW5kZXIuLi5cbiAgICAgKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICAgICAqIGxldCBzdGFnZSA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIudmlldyk7XG4gICAgICogdGlja2VyLmFkZChmdW5jdGlvbiAodGltZSkge1xuICAgICAqICAgICByZW5kZXJlci5yZW5kZXIoc3RhZ2UpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBPciB5b3UgY2FuIGp1c3QgdXBkYXRlIGl0IG1hbnVhbGx5LlxuICAgICAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgKiB0aWNrZXIuc3RvcCgpO1xuICAgICAqIGZ1bmN0aW9uIGFuaW1hdGUodGltZSkge1xuICAgICAqICAgICB0aWNrZXIudXBkYXRlKHRpbWUpO1xuICAgICAqICAgICByZW5kZXJlci5yZW5kZXIoc3RhZ2UpO1xuICAgICAqICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICogfVxuICAgICAqIGFuaW1hdGUocGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc2hhcmVkKClcbiAgICB7XG4gICAgICAgIGlmICghVGlja2VyLl9zaGFyZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZCA9IFRpY2tlci5fc2hhcmVkID0gbmV3IFRpY2tlcigpO1xuXG4gICAgICAgICAgICBzaGFyZWQuYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHNoYXJlZC5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBUaWNrZXIuX3NoYXJlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3lzdGVtIHRpY2tlciBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0gYW5kIGJ5XG4gICAgICoge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IGZvciBjb3JlIHRpbWluZyBmdW5jdGlvbmFsaXR5IHRoYXQgc2hvdWxkbid0IHVzdWFsbHkgbmVlZCB0byBiZSBwYXVzZWQsXG4gICAgICogdW5saWtlIHRoZSBgc2hhcmVkYCB0aWNrZXIgd2hpY2ggZHJpdmVzIHZpc3VhbCBhbmltYXRpb25zIGFuZCByZW5kZXJpbmcgd2hpY2ggbWF5IHdhbnQgdG8gYmUgcGF1c2VkLlxuICAgICAqXG4gICAgICogVGhlIHByb3BlcnR5IHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWAgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRpY2tlcn1cbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgc3RhdGljIGdldCBzeXN0ZW0oKVxuICAgIHtcbiAgICAgICAgaWYgKCFUaWNrZXIuX3N5c3RlbSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3lzdGVtID0gVGlja2VyLl9zeXN0ZW0gPSBuZXcgVGlja2VyKCk7XG5cbiAgICAgICAgICAgIHN5c3RlbS5hdXRvU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgc3lzdGVtLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFRpY2tlci5fc3lzdGVtO1xuICAgIH1cbn1cbiIsImltcG9ydCBUaWNrZXIgZnJvbSAnLi9UaWNrZXInO1xuaW1wb3J0IHsgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnLi9jb25zdCc7XG5cbi8qKlxuICogTWlkZGxld2FyZSBmb3IgZm9yIEFwcGxpY2F0aW9uIFRpY2tlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtUaWNrZXJQbHVnaW59IGZyb20gJ0BwaXhpL3RpY2tlcic7XG4gKiBpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICdAcGl4aS9hcHAnO1xuICogQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oVGlja2VyUGx1Z2luKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpY2tlclBsdWdpblxue1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbiB3aXRoIHNjb3BlIG9mIGFwcGxpY2F0aW9uIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBzdGF0aWMgaW5pdChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRpY2tlciBzZXR0ZXJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0aWNrZXInLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldCh0aWNrZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGlja2VyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIgPSB0aWNrZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aWNrZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIFVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tlcjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RvcHBpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3N0b3BcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcCA9ICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpY2tlci5zdG9wKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RhcnRpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3N0YXJ0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGlja2VyLnN0YXJ0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJlZmVyZW5jZSB0byB0aGUgdGlja2VyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBuYW1lIF90aWNrZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWNrZXIgZm9yIGRvaW5nIHJlbmRlciB1cGRhdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBuYW1lIHRpY2tlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpY2tlciA9IG9wdGlvbnMuc2hhcmVkVGlja2VyID8gVGlja2VyLnNoYXJlZCA6IG5ldyBUaWNrZXIoKTtcblxuICAgICAgICAvLyBTdGFydCB0aGUgcmVuZGVyaW5nXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9TdGFydClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhdGljIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpY2tlcilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgb2xkVGlja2VyID0gdGhpcy5fdGlja2VyO1xuXG4gICAgICAgICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICAgICAgICBvbGRUaWNrZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcblxuLyoqXG4gKiBCYXNlIHJlc291cmNlIGNsYXNzIGZvciB0ZXh0dXJlcyB0aGF0IG1hbmFnZXMgdmFsaWRhdGlvbiBhbmQgdXBsb2FkaW5nLCBkZXBlbmRpbmcgb24gaXRzIHR5cGUuXG4gKlxuICogVXBsb2FkaW5nIG9mIGEgYmFzZSB0ZXh0dXJlIHRvIHRoZSBHUFUgaXMgcmVxdWlyZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzb3VyY2VcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDAsIGhlaWdodCA9IDApXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgd2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgcmVzb3VyY2UgaGFzIGJlZW4gZGVzdHJveWVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHJlc291cmNlIGlzIGNyZWF0ZWQgYnkgQmFzZVRleHR1cmVcbiAgICAgICAgICogdXNlZnVsIGZvciBkb2luZyBjbGVhbnVwIHdpdGggQmFzZVRleHR1cmUgZGVzdHJveVxuICAgICAgICAgKiBhbmQgbm90IGNsZWFuaW5nIHVwIHJlc291cmNlcyB0aGF0IHdlcmUgY3JlYXRlZFxuICAgICAgICAgKiBleHRlcm5hbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVybmFsID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmktcnVubmVyIGZvciBoYW5kbGluZyByZXNpemUgZXZlbnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25SZXNpemUgPSBuZXcgUnVubmVyKCdzZXRSZWFsU2l6ZScsIDIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pLXJ1bm5lciBmb3IgaGFuZGxpbmcgdXBkYXRlIGV2ZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uVXBkYXRlID0gbmV3IFJ1bm5lcigndXBkYXRlJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSBpbnRlcm5hbCBlcnJvcnMsIHN1Y2ggYXMgbG9hZGluZyBlcnJvcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UnVubmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkVycm9yID0gbmV3IFJ1bm5lcignb25FcnJvcicsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICAgICAqL1xuICAgIGJpbmQoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICB0aGlzLm9uUmVzaXplLmFkZChiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25VcGRhdGUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLmFkZChiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gQ2FsbCBhIHJlc2l6ZSBpbW1lZGlhdGUgaWYgd2UgYWxyZWFkeVxuICAgICAgICAvLyBoYXZlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5fd2lkdGggfHwgdGhpcy5faGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLnJ1bih0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVuYmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gICAgICovXG4gICAgdW5iaW5kKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdGhpcy5vblJlc2l6ZS5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25FcnJvci5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgYSByZXNpemUgZXZlbnRcbiAgICAgKi9cbiAgICByZXNpemUod2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIGlmICh3aWR0aCAhPT0gdGhpcy5fd2lkdGggfHwgaGVpZ2h0ICE9PSB0aGlzLl9oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLnJ1bih3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhcyBiZWVuIHZhbGlkYXRlZFxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHZhbGlkKClcbiAgICB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhcyBiZWVuIHVwZGF0ZWQgdHJpZ2dlciBldmVudFxuICAgICAqL1xuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlLnJ1bigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB0byBzdGFydCBwcmVsb2FkaW5nIGEgcmVzb3VyY2VcbiAgICAgKiBvciBkbyBhbnkgb3RoZXIgcHJlcGFyZSBzdGVwLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBIYW5kbGUgdGhlIHZhbGlkYXRlIGV2ZW50XG4gICAgICovXG4gICAgbG9hZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBoZWlnaHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB0ZXh0dXJlIG9yIHJldHVybnMgZmFsc2UgaWYgaXQgY2FudCBmb3Igc29tZSByZWFzb24uIE92ZXJyaWRlIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0geWVhaCwgcmVuZGVyZXIhXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gdGV4dHVyZSBpbnN0YW5jZSBmb3IgdGhpcyB3ZWJnbCBjb250ZXh0XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUsIG9wdGlvbmFsIHRvIG92ZXJyaWRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0geWVhaCwgcmVuZGVyZXIhXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gdGV4dHVyZSBpbnN0YW5jZSBmb3IgdGhpcyB3ZWJnbCBjb250ZXh0XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgc3R5bGUocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCBhbnl0aGluZywgdGhpcyBoYXBwZW5zIHdoZW4gZGVzdHJveWluZyBpcyByZWFkeS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIC8vIG92ZXJyaWRlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbCB3aGVuIGRlc3Ryb3lpbmcgcmVzb3VyY2UsIHVuYmluZCBhbnkgQmFzZVRleHR1cmUgb2JqZWN0XG4gICAgICogYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2QsIGFzIHJlZmVyZW5jZSBjb3VudHMgYXJlIG1haW50YWluZWRcbiAgICAgKiBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlc291cmNlIGZyb20gJy4vUmVzb3VyY2UnO1xuaW1wb3J0IHsgZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogQmFzZSBmb3IgYWxsIHRoZSBpbWFnZS9jYW52YXMgcmVzb3VyY2VzXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZUltYWdlUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9IHNvdXJjZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gc291cmNlLm5hdHVyYWxXaWR0aCB8fCBzb3VyY2UudmlkZW9XaWR0aCB8fCBzb3VyY2Uud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHNvdXJjZS5uYXR1cmFsSGVpZ2h0IHx8IHNvdXJjZS52aWRlb0hlaWdodCB8fCBzb3VyY2UuaGVpZ2h0O1xuXG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc291cmNlIGVsZW1lbnRcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGNyb3NzIG9yaWdpbiBiYXNlZCBkZXRlY3RpbmcgdGhlIHVybCBhbmQgdGhlIGNyb3Nzb3JpZ2luXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IGNyb3NzT3JpZ2luXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFVSTCB0byBjaGVja1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxzdHJpbmd9IFtjcm9zc29yaWdpbj10cnVlXSAtIENyb3NzIG9yaWdpbiB2YWx1ZSB0byB1c2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY3Jvc3NPcmlnaW4oZWxlbWVudCwgdXJsLCBjcm9zc29yaWdpbilcbiAgICB7XG4gICAgICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkICYmIHVybC5pbmRleE9mKCdkYXRhOicpICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjcm9zc29yaWdpbiAhPT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSB0eXBlb2YgY3Jvc3NvcmlnaW4gPT09ICdzdHJpbmcnID8gY3Jvc3NvcmlnaW4gOiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH0gW3NvdXJjZV0gKG9wdGlvbmFsKVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUsIHNvdXJjZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0O1xuXG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZSB8fCB0aGlzLnNvdXJjZTtcblxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpO1xuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS50YXJnZXQgPT09IGdsLlRFWFRVUkVfMkQgJiYgZ2xUZXh0dXJlLndpZHRoID09PSB3aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBoZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgc291cmNlIHdpZHRoL2hlaWdodCB3YXMgY2hhbmdlZCwgcmVzaXplIGNhbiBjYXVzZSBleHRyYSBiYXNlVGV4dHVyZSB1cGRhdGUuXG4gICAgICogVHJpZ2dlcnMgb25lIHVwZGF0ZSBpbiBhbnkgY2FzZS5cbiAgICAgKi9cbiAgICB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuc291cmNlLm5hdHVyYWxXaWR0aCB8fCB0aGlzLnNvdXJjZS52aWRlb1dpZHRoIHx8IHRoaXMuc291cmNlLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnNvdXJjZS5uYXR1cmFsSGVpZ2h0IHx8IHRoaXMuc291cmNlLnZpZGVvSGVpZ2h0IHx8IHRoaXMuc291cmNlLmhlaWdodDtcblxuICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBzdXBlci51cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoaXMgQmFzZUltYWdlUmVzb3VyY2VcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IFtmcm9tVGV4dHVyZV0gT3B0aW9uYWwgYmFzZSB0ZXh0dXJlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gRGVzdHJveSB3YXMgc3VjY2Vzc2Z1bFxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCBCYXNlSW1hZ2VSZXNvdXJjZSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxJbWFnZUVsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VSZXNvdXJjZSBleHRlbmRzIEJhc2VJbWFnZVJlc291cmNlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fHN0cmluZ30gc291cmNlIC0gaW1hZ2Ugc291cmNlIG9yIFVSTFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gc3RhcnQgbG9hZGluZyBwcm9jZXNzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcmVhdGVCaXRtYXA9UElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXSB3aGV0aGVyIGl0cyByZXF1aXJlZCB0byBjcmVhdGVcbiAgICAgKiAgICAgICAgYSBiaXRtYXAgYmVmb3JlIHVwbG9hZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBMb2FkIGltYWdlIHVzaW5nIGNyb3NzIG9yaWdpblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlbXVsdGlwbHlBbHBoYT10cnVlXSAtIFByZW11bHRpcGx5IGltYWdlIGFscGhhIGluIGJpdG1hcFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4oaW1hZ2VFbGVtZW50LCBzb3VyY2UsIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuXG4gICAgICAgICAgICBpbWFnZUVsZW1lbnQuc3JjID0gc291cmNlO1xuICAgICAgICAgICAgc291cmNlID0gaW1hZ2VFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIoc291cmNlKTtcblxuICAgICAgICAvLyBGaXJlRm94IDY4LCBhbmQgcG9zc2libHkgb3RoZXIgdmVyc2lvbnMsIHNlZW1zIGxpa2Ugc2V0dGluZyB0aGUgSFRNTEltYWdlRWxlbWVudCN3aWR0aCBhbmQgI2hlaWdodFxuICAgICAgICAvLyB0byBub24temVybyB2YWx1ZXMgYmVmb3JlIGl0cyBsb2FkaW5nIGNvbXBsZXRlcyBpZiBpbWFnZXMgYXJlIGluIGEgY2FjaGUuXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhpcywgbmVlZCB0byBzZXQgdGhlIGBfd2lkdGhgIGFuZCB0aGUgYF9oZWlnaHRgIHRvIHplcm8gdG8gYXZvaWQgdXBsb2FkaW5nIGluY29tcGxldGUgaW1hZ2VzLlxuICAgICAgICAvLyBQbGVhc2UgcmVmZXIgdG8gdGhlIGlzc3VlICM1OTY4IChodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5NjgpLlxuICAgICAgICBpZiAoIXNvdXJjZS5jb21wbGV0ZSAmJiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVSTCBvZiB0aGUgaW1hZ2Ugc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXJsID0gc291cmNlLnNyYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBwcm9jZXNzIGlzIGNvbXBsZXRlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBpbWFnZSBzaG91bGQgYmUgZGlzcG9zZWQgYWZ0ZXIgdXBsb2FkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXNlcnZlQml0bWFwID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGNhcGFibGUsIGNvbnZlcnQgdGhlIGltYWdlIHVzaW5nIGNyZWF0ZUltYWdlQml0bWFwIEFQSVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3JlYXRlQml0bWFwID0gKG9wdGlvbnMuY3JlYXRlQml0bWFwICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5jcmVhdGVCaXRtYXAgOiBzZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQKSAmJiAhIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udHJvbHMgdGV4dHVyZSBwcmVtdWx0aXBseUFscGhhIGZpZWxkXG4gICAgICAgICAqIENvcGllcyBmcm9tIG9wdGlvbnNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbnxudWxsfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJlbXVsdGlwbHlBbHBoYSA9IG9wdGlvbnMucHJlbXVsdGlwbHlBbHBoYSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBJbWFnZUJpdG1hcCBlbGVtZW50IGNyZWF0ZWQgZm9yIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgICAgICogQG1lbWJlciB7SW1hZ2VCaXRtYXB9XG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgYSBwcm9taXNlIHdoZW4gaW1hZ2Ugd2lsbCBiZSBsb2FkZWQgYW5kIHByb2Nlc3NlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3JlYXRlQml0bWFwPXRydWVdIHdoZXRoZXIgcHJvY2VzcyBpbWFnZSBpbnRvIGJpdG1hcFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIGxvYWQoY3JlYXRlQml0bWFwKVxuICAgIHtcbiAgICAgICAgaWYgKGNyZWF0ZUJpdG1hcCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJpdG1hcCA9IGNyZWF0ZUJpdG1hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cmwgPSB0aGlzLnNvdXJjZS5zcmM7XG4gICAgICAgICAgICBjb25zdCB7IHNvdXJjZSB9ID0gdGhpcztcblxuICAgICAgICAgICAgY29uc3QgY29tcGxldGVkID0gKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jcmVhdGVCaXRtYXApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMucHJvY2VzcygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoc291cmNlLmNvbXBsZXRlICYmIHNvdXJjZS5zcmMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IGNvbXBsZXRlZDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IChldmVudCkgPT4gdGhpcy5vbkVycm9yLnJ1bihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHdlIG5lZWQgdG8gY29udmVydCBpbWFnZSBpbnRvIEJpdG1hcEltYWdlLlxuICAgICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHJlYWwgcHJvbWlzZSBpcyBjYWNoZWQgaW5zaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IGNhY2hlZCBwcm9taXNlIHRvIGZpbGwgdGhhdCBiaXRtYXBcbiAgICAgKi9cbiAgICBwcm9jZXNzKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9wcm9jZXNzICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iaXRtYXAgIT09IG51bGwgfHwgIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSB3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXAodGhpcy5zb3VyY2UsXG4gICAgICAgICAgICAwLCAwLCB0aGlzLnNvdXJjZS53aWR0aCwgdGhpcy5zb3VyY2UuaGVpZ2h0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHRoaXMucHJlbXVsdGlwbHlBbHBoYSA/ICdwcmVtdWx0aXBseScgOiAnbm9uZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKGJpdG1hcCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBiaXRtYXA7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIGltYWdlIHJlc291cmNlIHRvIEdQVS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBSZW5kZXJlciB0byB1cGxvYWQgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gQmFzZVRleHR1cmUgZm9yIHRoaXMgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSBHTFRleHR1cmUgdG8gdXNlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPSB0aGlzLnByZW11bHRpcGx5QWxwaGE7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNyZWF0ZUJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8geWVhaCwgaWdub3JlIHRoZSBvdXRwdXRcbiAgICAgICAgICAgIHRoaXMucHJvY2VzcygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJpdG1hcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci51cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUsIHRoaXMuYml0bWFwKTtcblxuICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVCaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGNoZWNrcyBpZiB0aGVyZSBhcmUgb3RoZXIgcmVuZGVyZXJzIHRoYXQgcG9zc2libHkgbmVlZCB0aGlzIGJpdG1hcFxuXG4gICAgICAgICAgICBsZXQgZmxhZyA9IHRydWU7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyVGV4ID0gYmFzZVRleHR1cmUuX2dsVGV4dHVyZXNba2V5XTtcblxuICAgICAgICAgICAgICAgIGlmIChvdGhlclRleCAhPT0gZ2xUZXh0dXJlICYmIG90aGVyVGV4LmRpcnR5SWQgIT09IGJhc2VUZXh0dXJlLmRpcnR5SWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZsYWcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0bWFwLmNsb3NlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIHRoaXMuc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcblxuICAgICAgICBpZiAodGhpcy5iaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCBJbWFnZVJlc291cmNlIGZyb20gJy4vSW1hZ2VSZXNvdXJjZSc7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcmVzb3VyY2UgdHlwZXMsIGNsYXNzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0uXG4gKiBAZXhhbXBsZVxuICogY2xhc3MgQ3VzdG9tUmVzb3VyY2UgZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZSB7XG4gKiAgIC8vIE1VU1QgaGF2ZSBzb3VyY2UsIG9wdGlvbnMgY29uc3RydWN0b3Igc2lnbmF0dXJlXG4gKiAgIC8vIGZvciBhdXRvLWRldGVjdGVkIHJlc291cmNlcyB0byBiZSBjcmVhdGVkLlxuICogICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpIHtcbiAqICAgICBzdXBlcigpO1xuICogICB9XG4gKiAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICogICAgIC8vIHVwbG9hZCB3aXRoIEdMXG4gKiAgICAgcmV0dXJuIHRydWU7XG4gKiAgIH1cbiAqICAgLy8gdXNlZCB0byBhdXRvLWRldGVjdCByZXNvdXJjZVxuICogICBzdGF0aWMgdGVzdChzb3VyY2UsIGV4dGVuc2lvbikge1xuICogICAgIHJldHVybiBleHRlbnNpb24gPT09ICd4eXonfHwgc291cmNlIGluc3RhbmNlb2YgU29tZUNsYXNzO1xuICogICB9XG4gKiB9XG4gKiAvLyBJbnN0YWxsIHRoZSBuZXcgcmVzb3VyY2UgdHlwZVxuICogUElYSS5yZXNvdXJjZXMuSU5TVEFMTEVELnB1c2goQ3VzdG9tUmVzb3VyY2UpO1xuICpcbiAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLklOU1RBTExFRFxuICogQHR5cGUge0FycmF5PCo+fVxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKi9cbmV4cG9ydCBjb25zdCBJTlNUQUxMRUQgPSBbXTtcblxuLyoqXG4gKiBDcmVhdGUgYSByZXNvdXJjZSBlbGVtZW50IGZyb20gYSBzaW5nbGUgc291cmNlIGVsZW1lbnQuIFRoaXNcbiAqIGF1dG8tZGV0ZWN0cyB3aGljaCB0eXBlIG9mIHJlc291cmNlIHRvIGNyZWF0ZS4gQWxsIHJlc291cmNlcyB0aGF0XG4gKiBhcmUgYXV0by1kZXRlY3RhYmxlIG11c3QgaGF2ZSBhIHN0YXRpYyBgdGVzdGAgbWV0aG9kIGFuZCBhIGNvbnN0cnVjdG9yXG4gKiB3aXRoIHRoZSBhcmd1bWVudHMgYChzb3VyY2UsIG9wdGlvbnM/KWAuIEN1cnJlbnRseSwgdGhlIHN1cHBvcnRlZFxuICogcmVzb3VyY2VzIGZvciBhdXRvLWRldGVjdGlvbiBpbmNsdWRlOlxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuQ2FudmFzUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuVmlkZW9SZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5CdWZmZXJSZXNvdXJjZX1cbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfCp9IHNvdXJjZSAtIFJlc291cmNlIHNvdXJjZSwgdGhpcyBjYW4gYmUgdGhlIFVSTCB0byB0aGUgcmVzb3VyY2UsXG4gKiAgICAgICAgYSB0eXBlZC1hcnJheSAoZm9yIEJ1ZmZlclJlc291cmNlKSwgSFRNTFZpZGVvRWxlbWVudCwgU1ZHIGRhdGEtdXJpXG4gKiAgICAgICAgb3IgYW55IG90aGVyIHJlc291cmNlIHRoYXQgY2FuIGJlIGF1dG8tZGV0ZWN0ZWQuIElmIG5vdCByZXNvdXJjZSBpc1xuICogICAgICAgIGRldGVjdGVkLCBpdCdzIGFzc3VtZWQgdG8gYmUgYW4gSW1hZ2VSZXNvdXJjZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBQYXNzLXRocm91Z2ggb3B0aW9ucyB0byB1c2UgZm9yIFJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgQnVmZmVyUmVzb3VyY2Ugb3IgU1ZHIHJhc3Rlcml6YXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gSW1hZ2UsIFNWRyBhbmQgVmlkZW8gZmxhZyB0byBzdGFydCBsb2FkaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gLSBTVkcgc291cmNlIHNjYWxlLiBPdmVycmlkZGVuIGJ5IHdpZHRoLCBoZWlnaHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3JlYXRlQml0bWFwPVBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUF0gLSBJbWFnZSBvcHRpb24gdG8gY3JlYXRlIEJpdG1hcCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBJbWFnZSBhbmQgVmlkZW8gb3B0aW9uIHRvIHNldCBjcm9zc09yaWdpblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFZpZGVvIG9wdGlvbiB0byBzdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gVmlkZW8gb3B0aW9uIHRvIHVwZGF0ZSBob3cgbWFueSB0aW1lcyBhIHNlY29uZCB0aGVcbiAqICAgICAgICB0ZXh0dXJlIHNob3VsZCBiZSB1cGRhdGVkIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXJcbiAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSBUaGUgY3JlYXRlZCByZXNvdXJjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF1dG9EZXRlY3RSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpXG57XG4gICAgaWYgKCFzb3VyY2UpXG4gICAge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBsZXQgZXh0ZW5zaW9uID0gJyc7XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICAvLyBzZWFyY2ggZm9yIGZpbGUgZXh0ZW5zaW9uOiBwZXJpb2QsIDMtNCBjaGFycywgdGhlbiA/LCAjIG9yIEVPTFxuICAgICAgICBjb25zdCByZXN1bHQgPSAoL1xcLihcXHd7Myw0fSkoPzokfFxcP3wjKS9pKS5leGVjKHNvdXJjZSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAge1xuICAgICAgICAgICAgZXh0ZW5zaW9uID0gcmVzdWx0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gSU5TVEFMTEVELmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKVxuICAgIHtcbiAgICAgICAgY29uc3QgUmVzb3VyY2VQbHVnaW4gPSBJTlNUQUxMRURbaV07XG5cbiAgICAgICAgaWYgKFJlc291cmNlUGx1Z2luLnRlc3QgJiYgUmVzb3VyY2VQbHVnaW4udGVzdChzb3VyY2UsIGV4dGVuc2lvbikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzb3VyY2VQbHVnaW4oc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdoZW4gaW4gZG91YnQ6IHByb2JhYmx5IGFuIGltYWdlXG4gICAgLy8gbWlnaHQgYmUgYXBwcm9wcmlhdGUgdG8gdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gbmV3IEltYWdlUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKTtcbn1cbiIsImltcG9ydCBSZXNvdXJjZSBmcm9tICcuL1Jlc291cmNlJztcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFNoYXJlZEFycmF5QnVmZmVyXG4gKi9cblxuLyoqXG4gKiBCdWZmZXIgcmVzb3VyY2Ugd2l0aCBkYXRhIG9mIHR5cGVkIGFycmF5LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1ZmZlclJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2VcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5fSBzb3VyY2UgLSBTb3VyY2UgYnVmZmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMud2lkdGggLSBXaWR0aCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmhlaWdodCAtIEhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnVmZmVyUmVzb3VyY2Ugd2lkdGggb3IgaGVpZ2h0IGludmFsaWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgYXJyYXlcbiAgICAgICAgICogQ2Fubm90IGJlIENsYW1wZWRVaW50OEFycmF5IGJlY2F1c2UgaXQgY2FudCBiZSB1cGxvYWRlZCB0byBXZWJHTFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheXxVaW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IHNvdXJjZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgdXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggPT09IGJhc2VUZXh0dXJlLndpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGJhc2VUZXh0dXJlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUud2lkdGgsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUud2lkdGgsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiA8Y2FudmFzPlxuICAgICAqL1xuICAgIHN0YXRpYyB0ZXN0KHNvdXJjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXlcbiAgICAgICAgICAgIHx8IHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXlcbiAgICAgICAgICAgIHx8IHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VUZXh0dXJlQ2FjaGUsIEV2ZW50RW1pdHRlciwgaXNQb3cyLCBUZXh0dXJlQ2FjaGUsIHVpZCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEZPUk1BVFMsIFNDQUxFX01PREVTLCBUQVJHRVRTLCBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmltcG9ydCBSZXNvdXJjZSBmcm9tICcuL3Jlc291cmNlcy9SZXNvdXJjZSc7XG5pbXBvcnQgQnVmZmVyUmVzb3VyY2UgZnJvbSAnLi9yZXNvdXJjZXMvQnVmZmVyUmVzb3VyY2UnO1xuaW1wb3J0IHsgYXV0b0RldGVjdFJlc291cmNlIH0gZnJvbSAnLi9yZXNvdXJjZXMvYXV0b0RldGVjdFJlc291cmNlJztcblxuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmNvbnN0IGRlZmF1bHRCdWZmZXJPcHRpb25zID0ge1xuICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICBmb3JtYXQ6IEZPUk1BVFMuUkdCQSxcbiAgICBwcmVtdWx0aXBseUFscGhhOiBmYWxzZSxcbn07XG5cbi8qKlxuICogQSBUZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLlxuICogQWxsIHRleHR1cmVzIGhhdmUgYSBiYXNlIHRleHR1cmUsIHdoaWNoIGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzb3VyY2UuXG4gKiBUaGVyZWZvcmUgeW91IGNhbiBoYXZlIG1hbnkgdGV4dHVyZXMgYWxsIHVzaW5nIGEgc2luZ2xlIEJhc2VUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V8c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW3Jlc291cmNlPW51bGxdXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgcmVzb3VyY2UgdG8gdXNlLCBmb3IgdGhpbmdzIHRoYXQgYXJlbid0IFJlc291cmNlIG9iamVjdHMsIHdpbGwgYmUgY29udmVydGVkXG4gKiAgICAgICAgaW50byBhIFJlc291cmNlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9uc1xuICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW29wdGlvbnMubWlwbWFwPVBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXSAtIElmIG1pcG1hcHBpbmcgaXMgZW5hYmxlZCBmb3IgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWw9UElYSS5zZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTF0gLSBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICogQHBhcmFtIHtQSVhJLldSQVBfTU9ERVN9IFtvcHRpb25zLndyYXBNb2RlPVBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFXSAtIFdyYXAgbW9kZSBmb3IgdGV4dHVyZXNcbiAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBEZWZhdWx0IHNjYWxlIG1vZGUsIGxpbmVhciwgbmVhcmVzdFxuICogQHBhcmFtIHtQSVhJLkZPUk1BVFN9IFtvcHRpb25zLmZvcm1hdD1QSVhJLkZPUk1BVFMuUkdCQV0gLSBHTCBmb3JtYXQgdHlwZVxuICogQHBhcmFtIHtQSVhJLlRZUEVTfSBbb3B0aW9ucy50eXBlPVBJWEkuVFlQRVMuVU5TSUdORURfQllURV0gLSBHTCBkYXRhIHR5cGVcbiAqIEBwYXJhbSB7UElYSS5UQVJHRVRTfSBbb3B0aW9ucy50YXJnZXQ9UElYSS5UQVJHRVRTLlRFWFRVUkVfMkRdIC0gR0wgdGV4dHVyZSB0YXJnZXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlbXVsdGlwbHlBbHBoYT10cnVlXSAtIFByZSBtdWx0aXBseSB0aGUgaW1hZ2UgYWxwaGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIFdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTBdIC0gSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbl0gLSBSZXNvbHV0aW9uIG9mIHRoZSBiYXNlIHRleHR1cmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnNdIC0gT3B0aW9uYWwgcmVzb3VyY2Ugb3B0aW9ucyxcbiAqICAgICAgICBzZWUge0BsaW5rIFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZSBhdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VUZXh0dXJlIGV4dGVuZHMgRXZlbnRFbWl0dGVyXG57XG4gICAgY29uc3RydWN0b3IocmVzb3VyY2UgPSBudWxsLCBvcHRpb25zID0gbnVsbClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgY29uc3QgeyBwcmVtdWx0aXBseUFscGhhLCBtaXBtYXAsIGFuaXNvdHJvcGljTGV2ZWwsIHNjYWxlTW9kZSwgd2lkdGgsIGhlaWdodCxcbiAgICAgICAgICAgIHdyYXBNb2RlLCBmb3JtYXQsIHR5cGUsIHRhcmdldCwgcmVzb2x1dGlvbiwgcmVzb3VyY2VPcHRpb25zIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIHJlc291cmNlIHRvIGEgUmVzb3VyY2Ugb2JqZWN0XG4gICAgICAgIGlmIChyZXNvdXJjZSAmJiAhKHJlc291cmNlIGluc3RhbmNlb2YgUmVzb3VyY2UpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvdXJjZSA9IGF1dG9EZXRlY3RSZXNvdXJjZShyZXNvdXJjZSwgcmVzb3VyY2VPcHRpb25zKTtcbiAgICAgICAgICAgIHJlc291cmNlLmludGVybmFsID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoIHx8IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgfHwgMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJFU09MVVRJT05cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWlwbWFwIG1vZGUgb2YgdGhlIHRleHR1cmUsIGFmZmVjdHMgZG93bnNjYWxlZCBpbWFnZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NSVBNQVBfTU9ERVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pcG1hcCA9IG1pcG1hcCAhPT0gdW5kZWZpbmVkID8gbWlwbWFwIDogc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5pc290cm9waWNMZXZlbCA9IGFuaXNvdHJvcGljTGV2ZWwgIT09IHVuZGVmaW5lZCA/IGFuaXNvdHJvcGljTGV2ZWwgOiBzZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG93IHRoZSB0ZXh0dXJlIHdyYXBzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud3JhcE1vZGUgPSB3cmFwTW9kZSB8fCBzZXR0aW5ncy5XUkFQX01PREU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBtb2RlIHRvIGFwcGx5IHdoZW4gc2NhbGluZyB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TQ0FMRV9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkID8gc2NhbGVNb2RlIDogc2V0dGluZ3MuU0NBTEVfTU9ERTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZPUk1BVFN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuRk9STUFUUy5SR0JBXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdCB8fCBGT1JNQVRTLlJHQkE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHJlc291cmNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UWVBFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UWVBFUy5VTlNJR05FRF9CWVRFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlIHx8IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0YXJnZXQgdHlwZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRBUkdFVFN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVEFSR0VUUy5URVhUVVJFXzJEXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldCB8fCBUQVJHRVRTLlRFWFRVUkVfMkQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byB0cnVlIHRvIGVuYWJsZSBwcmUtbXVsdGlwbGllZCBhbHBoYVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBwcmVtdWx0aXBseUFscGhhICE9PSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2xvYmFsIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIEJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51aWQgPSB1aWQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBhdXRvbWF0aWMgdGV4dHVyZSBHYXJiYWdlIENvbGxlY3Rpb24sIHN0b3JlcyBsYXN0IEdDIHRpY2sgd2hlbiBpdCB3YXMgYm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRvdWNoZWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgdGV4dHVyZSBpcyBhIHBvd2VyIG9mIHR3bywgdHJ5IHRvIHVzZSBwb3dlciBvZiB0d28gdGV4dHVyZXMgYXMgbXVjaFxuICAgICAgICAgKiBhcyB5b3UgY2FuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1Bvd2VyT2ZUd28gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIG9mIHJlbmRlciBjb250ZXh0IHRleHR1cmVzIHdoZXJlIHRoaXMgaXMgYm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2xUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IFRleHR1cmVTeXN0ZW0gdG8gb25seSB1cGRhdGUgdGV4dHVyZSB0byB0aGUgR1BVIHdoZW4gbmVlZGVkLlxuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlKClgIHRvIGluY3JlbWVudCBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgVGV4dHVyZVN5c3RlbSB0byBvbmx5IHVwZGF0ZSB0ZXh0dXJlIHN0eWxlIHdoZW4gbmVlZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlTdHlsZUlkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudGx5IGRlZmF1bHQgY2FjaGUgSUQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGVJZCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdlbmVyYWxseSBzcGVha2luZyBtZWFucyB3aGVuIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZhbGlkID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGFsdGVybmF0aXZlIGNhY2hlIGlkcywgc2luY2Ugc29tZSBCYXNlVGV4dHVyZXNcbiAgICAgICAgICogY2FuIGhhdmUgbW9yZSB0aGFuIG9uZSBJRCwgc2hvcnQgbmFtZSBhbmQgbG9uZ2VyIGZ1bGwgVVJMXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PHN0cmluZz59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiBCYXNlVGV4dHVyZSBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlIHVzZWQgYnkgdGhpcyBCYXNlVGV4dHVyZSwgdGhlcmUgY2FuIG9ubHlcbiAgICAgICAgICogYmUgb25lIHJlc291cmNlIHBlciBCYXNlVGV4dHVyZSwgYnV0IHRleHR1cmVzIGNhbiBzaGFyZVxuICAgICAgICAgKiByZXNvdXJjZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgdGhlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmF0Y2hFbmFibGVkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmFpbHMgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNlcnJvclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgZXJyb3JlZC5cbiAgICAgICAgICogQHBhcmFtIHtFcnJvckV2ZW50fSBldmVudCAtIExvYWQgZXJyb3IgZXZlbnQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjdXBkYXRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIHVwZGF0ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIGRlc3Ryb3llZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLy8gU2V0IHRoZSByZXNvdXJjZVxuICAgICAgICB0aGlzLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQaXhlbCB3aWR0aCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByZWFsV2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbikgLSAxZS00KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQaXhlbCBoZWlnaHQgb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcmVhbEhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKCh0aGlzLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbikgLSAxZS00KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHN0eWxlIG9wdGlvbnMgb2YgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW3NjYWxlTW9kZV0gLSBQaXhpIHNjYWxlbW9kZVxuICAgICAqIEBwYXJhbSB7UElYSS5NSVBNQVBfTU9ERVN9IFttaXBtYXBdIC0gZW5hYmxlIG1pcG1hcHNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIHNldFN0eWxlKHNjYWxlTW9kZSwgbWlwbWFwKVxuICAgIHtcbiAgICAgICAgbGV0IGRpcnR5O1xuXG4gICAgICAgIGlmIChzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCAmJiBzY2FsZU1vZGUgIT09IHRoaXMuc2NhbGVNb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZTtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaXBtYXAgIT09IHVuZGVmaW5lZCAmJiBtaXBtYXAgIT09IHRoaXMubWlwbWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1pcG1hcCA9IG1pcG1hcDtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdy9oL3Jlc29sdXRpb24uIFRleHR1cmUgYmVjb21lcyB2YWxpZCBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBncmVhdGVyIHRoYW4gemVyby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBWaXN1YWwgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IFZpc3VhbCBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIE9wdGlvbmFsbHkgc2V0IHJlc29sdXRpb25cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIHNldFNpemUod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyByZWFsIHNpemUgb2YgYmFzZVRleHR1cmUsIHByZXNlcnZlcyBjdXJyZW50IHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIEZ1bGwgcmVuZGVyZWQgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCBGdWxsIHJlbmRlcmVkIGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gT3B0aW9uYWxseSBzZXQgcmVzb2x1dGlvblxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgc2V0UmVhbFNpemUocmVhbFdpZHRoLCByZWFsSGVpZ2h0LCByZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSByZWFsV2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVhbEhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2ggY2hlY2sgZm9yIGlzUG93ZXJPZlR3byB0ZXh0dXJlIGJhc2VkIG9uIHNpemVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlZnJlc2hQT1QoKVxuICAgIHtcbiAgICAgICAgdGhpcy5pc1Bvd2VyT2ZUd28gPSBpc1BvdzIodGhpcy5yZWFsV2lkdGgpICYmIGlzUG93Mih0aGlzLnJlYWxIZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgcmVzb2x1dGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSByZXNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIHNldFJlc29sdXRpb24ocmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIGNvbnN0IG9sZFJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKG9sZFJlc29sdXRpb24gPT09IHJlc29sdXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVzb3VyY2UgaWYgaXQgd2Fzbid0IHNldC4gVGhyb3dzIGVycm9yIGlmIHJlc291cmNlIGFscmVhZHkgcHJlc2VudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gcmVzb3VyY2UgLSB0aGF0IGlzIG1hbmFnaW5nIHRoaXMgQmFzZVRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIHNldFJlc291cmNlKHJlc291cmNlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UgPT09IHJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc291cmNlIGNhbiBiZSBzZXQgb25seSBvbmNlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvdXJjZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByZXNvdXJjZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZhbGlkYXRlcyB0aGUgb2JqZWN0LiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICovXG4gICAgdXBkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggPiAwICYmIHRoaXMuaGVpZ2h0ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIGVycm9ycyB3aXRoIHJlc291cmNlcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXJyb3JFdmVudH0gZXZlbnQgLSBFcnJvciBldmVudCBlbWl0dGVkLlxuICAgICAqL1xuICAgIG9uRXJyb3IoZXZlbnQpXG4gICAge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgdGhpcywgZXZlbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYmFzZSB0ZXh0dXJlLlxuICAgICAqIFRoZSBtZXRob2Qgc3RvcHMgaWYgcmVzb3VyY2UgZG9lc24ndCB3YW50IHRoaXMgdGV4dHVyZSB0byBiZSBkZXN0cm95ZWQuXG4gICAgICogUmVtb3ZlcyB0ZXh0dXJlIGZyb20gYWxsIGNhY2hlcy5cbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIC8vIHJlbW92ZSBhbmQgZGVzdHJveSB0aGUgcmVzb3VyY2VcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UudW5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgLy8gb25seSBkZXN0cm95IHJlc291cmNlZCBjcmVhdGVkIGludGVybmFsbHlcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlLmludGVybmFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jYWNoZUlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVt0aGlzLmNhY2hlSWRdO1xuICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0aGlzLmNhY2hlSWRdO1xuXG4gICAgICAgICAgICB0aGlzLmNhY2hlSWQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluYWxseSBsZXQgdGhlIFdlYkdMIHJlbmRlcmVyIGtub3cuLlxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgICAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcblxuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICB0aGlzLmVtaXQoJ2Rpc3Bvc2UnLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYmFzZSB0ZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBpbWFnZSB1cmwsIGltYWdlIGVsZW1lbnQsIGNhbnZhcyBlbGVtZW50LiBJZiB0aGVcbiAgICAgKiBzb3VyY2UgaXMgYW4gaW1hZ2UgdXJsIG9yIGFuIGltYWdlIGVsZW1lbnQgYW5kIG5vdCBpbiB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogY2FjaGUsIGl0IHdpbGwgYmUgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8U1ZHRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBUaGVcbiAgICAgKiAgICAgICAgc291cmNlIHRvIGNyZWF0ZSBiYXNlIHRleHR1cmUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIG5ldyBiYXNlIHRleHR1cmUuXG4gICAgICovXG4gICAgc3RhdGljIGZyb20oc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgbGV0IGNhY2hlSWQgPSBudWxsO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLl9waXhpSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlLl9waXhpSWQgPSBgcGl4aWlkXyR7dWlkKCl9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJhc2VUZXh0dXJlID0gQmFzZVRleHR1cmVDYWNoZVtjYWNoZUlkXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYmFzZVRleHR1cmUuY2FjaGVJZCA9IGNhY2hlSWQ7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQmFzZVRleHR1cmUgd2l0aCBhIEJ1ZmZlclJlc291cmNlIGZyb20gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogUkdCQSB2YWx1ZXMgYXJlIGZsb2F0cyBmcm9tIDAgdG8gMS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheX0gYnVmZmVyIFRoZSBvcHRpb25hbCBhcnJheSB0byB1c2UsIGlmIG5vIGRhdGFcbiAgICAgKiAgICAgICAgaXMgcHJvdmlkZWQsIGEgbmV3IEZsb2F0MzJBcnJheSBpcyBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUJ1ZmZlcihidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBidWZmZXIgPSBidWZmZXIgfHwgbmV3IEZsb2F0MzJBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuXG4gICAgICAgIGNvbnN0IHJlc291cmNlID0gbmV3IEJ1ZmZlclJlc291cmNlKGJ1ZmZlciwgeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgICAgICBjb25zdCB0eXBlID0gYnVmZmVyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5ID8gVFlQRVMuRkxPQVQgOiBUWVBFUy5VTlNJR05FRF9CWVRFO1xuXG4gICAgICAgIHJldHVybiBuZXcgQmFzZVRleHR1cmUocmVzb3VyY2UsIE9iamVjdC5hc3NpZ24oZGVmYXVsdEJ1ZmZlck9wdGlvbnMsIG9wdGlvbnMgfHwgeyB3aWR0aCwgaGVpZ2h0LCB0eXBlIH0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgQmFzZVRleHR1cmUgdG8gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgQmFzZVRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgQmFzZVRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgaWQpXG4gICAge1xuICAgICAgICBpZiAoaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKEJhc2VUZXh0dXJlQ2FjaGVbaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBCYXNlVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbJHtpZH1dIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnlgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQmFzZVRleHR1cmVDYWNoZVtpZF0gPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIEJhc2VUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gaWQgb2YgYSBCYXNlVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIEJhc2VUZXh0dXJlIGluc3RhbmNlIGl0c2VsZi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfG51bGx9IFRoZSBCYXNlVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmVGcm9tQ2FjaGUoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGJhc2VUZXh0dXJlID09PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYmFzZVRleHR1cmVGcm9tQ2FjaGUgPSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcblxuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlRnJvbUNhY2hlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYmFzZVRleHR1cmUgJiYgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEdsb2JhbCBudW1iZXIgb2YgdGhlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbkJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IDA7XG4iLCJpbXBvcnQgUmVzb3VyY2UgZnJvbSAnLi9SZXNvdXJjZSc7XG5pbXBvcnQgQmFzZVRleHR1cmUgZnJvbSAnLi4vQmFzZVRleHR1cmUnO1xuaW1wb3J0IHsgVEFSR0VUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhdXRvRGV0ZWN0UmVzb3VyY2UgfSBmcm9tICcuL2F1dG9EZXRlY3RSZXNvdXJjZSc7XG5cbi8qKlxuICogQSByZXNvdXJjZSB0aGF0IGNvbnRhaW5zIGEgbnVtYmVyIG9mIHNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge251bWJlcnxBcnJheTwqPn0gc291cmNlIC0gTnVtYmVyIG9mIGl0ZW1zIGluIGFycmF5IG9yIHRoZSBjb2xsZWN0aW9uXG4gKiAgICAgICAgb2YgaW1hZ2UgVVJMcyB0byB1c2UuIENhbiBhbHNvIGJlIHJlc291cmNlcywgaW1hZ2UgZWxlbWVudHMsIGNhbnZhcywgZXRjLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGFwcGx5IHRvIHtAbGluayBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXJyYXlSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlXG57XG4gICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgbGV0IHVybHM7XG4gICAgICAgIGxldCBsZW5ndGggPSBzb3VyY2U7XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdXJscyA9IHNvdXJjZTtcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgcmVzb3VyY2VzLlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxQSVhJLkJhc2VUZXh0dXJlPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpcnR5IElEcyBmb3IgZWFjaCBwYXJ0XG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pdGVtRGlydHlJZHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0VGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuXG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2gocGFydFRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5pdGVtRGlydHlJZHMucHVzaCgtMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIGluIGFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHVybHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGF1dG9EZXRlY3RSZXNvdXJjZSh1cmxzW2ldLCBvcHRpb25zKSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoaXMgQmFzZUltYWdlUmVzb3VyY2VcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5pdGVtRGlydHlJZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSByZXNvdXJjZSBieSBJRFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBaZXJvLWJhc2VkIGluZGV4IG9mIHJlc291cmNlIHRvIHNldFxuICAgICAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLkFycmF5UmVzb3VyY2V9IEluc3RhbmNlIGZvciBjaGFpbmluZ1xuICAgICAqL1xuICAgIGFkZFJlc291cmNlQXQocmVzb3VyY2UsIGluZGV4KVxuICAgIHtcbiAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSB0aGlzLml0ZW1zW2luZGV4XTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluZGV4ICR7aW5kZXh9IGlzIG91dCBvZiBib3VuZHNgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaGVyaXQgdGhlIGZpcnN0IHJlc291cmNlIGRpbWVuc2lvbnNcbiAgICAgICAgaWYgKHJlc291cmNlLnZhbGlkICYmICF0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZShyZXNvdXJjZS53aWR0aCwgcmVzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdLnNldFJlc291cmNlKHJlc291cmNlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGJpbmQoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBzdXBlci5iaW5kKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfMkRfQVJSQVk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLm9uKCd1cGRhdGUnLCBiYXNlVGV4dHVyZS51cGRhdGUsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVuc2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICB1bmJpbmQoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBzdXBlci51bmJpbmQoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5vZmYoJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZCBhbGwgdGhlIHJlc291cmNlcyBzaW11bHRhbmVvdXNseVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IFdoZW4gbG9hZCBpcyByZXNvbHZlZFxuICAgICAqL1xuICAgIGxvYWQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzb3VyY2VzID0gdGhpcy5pdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0ucmVzb3VyY2UpO1xuXG4gICAgICAgIC8vIFRPRE86IGFsc28gaW1wbGVtZW50IGxvYWQgcGFydC1ieS1wYXJ0IHN0cmF0ZWd5XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gcmVzb3VyY2VzLm1hcCgoaXRlbSkgPT4gaXRlbS5sb2FkKCkpO1xuXG4gICAgICAgIHRoaXMuX2xvYWQgPSBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgICAgIC50aGVuKCgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSByZXNvdXJjZXNbMF07XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VzIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHRleHR1cmUgd2FzIHVwbG9hZGVkXG4gICAgICovXG4gICAgdXBsb2FkKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpXG4gICAge1xuICAgICAgICBjb25zdCB7IGxlbmd0aCwgaXRlbURpcnR5SWRzLCBpdGVtcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gcmVuZGVyZXI7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UzRChcbiAgICAgICAgICAgICAgICBnbC5URVhUVVJFXzJEX0FSUkFZLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgdGhpcy5fd2lkdGgsXG4gICAgICAgICAgICAgICAgdGhpcy5faGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIHRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xuXG4gICAgICAgICAgICBpZiAoaXRlbURpcnR5SWRzW2ldIDwgaXRlbS5kaXJ0eUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGl0ZW1EaXJ0eUlkc1tpXSA9IGl0ZW0uZGlydHlJZDtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS52YWxpZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLnRleFN1YkltYWdlM0QoXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5URVhUVVJFXzJEX0FSUkFZLFxuICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIC8vIHhvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIC8vIHlvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGksIC8vIHpvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2Uud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc291cmNlLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2Uuc291cmNlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJhc2VJbWFnZVJlc291cmNlIGZyb20gJy4vQmFzZUltYWdlUmVzb3VyY2UnO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgT2Zmc2NyZWVuQ2FudmFzXG4gKi9cblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MQ2FudmFzRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gQ2FudmFzIGVsZW1lbnQgdG8gdXNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhc1Jlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2VcbntcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR8T2Zmc2NyZWVuQ2FudmFzfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzb3VyY2UgaXMgSFRNTENhbnZhc0VsZW1lbnQgb3IgT2Zmc2NyZWVuQ2FudmFzXG4gICAgICovXG4gICAgc3RhdGljIHRlc3Qoc291cmNlKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBPZmZzY3JlZW5DYW52YXMgfSA9IHdpbmRvdztcblxuICAgICAgICAvLyBDaGVjayBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCB5ZXQgc3VwcG9ydCBPZmZzY3JlZW5DYW52YXNcbiAgICAgICAgaWYgKE9mZnNjcmVlbkNhbnZhcyAmJiBzb3VyY2UgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50O1xuICAgIH1cbn1cbiIsImltcG9ydCBBcnJheVJlc291cmNlIGZyb20gJy4vQXJyYXlSZXNvdXJjZSc7XG5pbXBvcnQgeyBUQVJHRVRTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyoqXG4gKiBSZXNvdXJjZSBmb3IgYSBDdWJlVGV4dHVyZSB3aGljaCBjb250YWlucyBzaXggcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQXJyYXlSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZ3xQSVhJLnJlc291cmNlcy5SZXNvdXJjZT59IFtzb3VyY2VdIENvbGxlY3Rpb24gb2YgVVJMcyBvciByZXNvdXJjZXNcbiAqICAgICAgICB0byB1c2UgYXMgdGhlIHNpZGVzIG9mIHRoZSBjdWJlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIEltYWdlUmVzb3VyY2Ugb3B0aW9uc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiByZXNvdXJjZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdWJlUmVzb3VyY2UgZXh0ZW5kcyBBcnJheVJlc291cmNlXG57XG4gICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IEN1YmVSZXNvdXJjZS5TSURFUylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGxlbmd0aC4gR290ICR7dGhpcy5sZW5ndGh9LCBleHBlY3RlZCA2YCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IEN1YmVSZXNvdXJjZS5TSURFUzsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYmluZGluZ1xuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKi9cbiAgICBiaW5kKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgc3VwZXIuYmluZChiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpXG4gICAge1xuICAgICAgICBjb25zdCBkaXJ0eSA9IHRoaXMuaXRlbURpcnR5SWRzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQ3ViZVJlc291cmNlLlNJREVTOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNpZGUgPSB0aGlzLml0ZW1zW2ldO1xuXG4gICAgICAgICAgICBpZiAoZGlydHlbaV0gPCBzaWRlLmRpcnR5SWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlydHlbaV0gPSBzaWRlLmRpcnR5SWQ7XG4gICAgICAgICAgICAgICAgaWYgKHNpZGUudmFsaWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzaWRlLnJlc291cmNlLnVwbG9hZChyZW5kZXJlciwgc2lkZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdXBsb2FkIHplcm8gYnVmZmVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuXG4vKipcbiAqIE51bWJlciBvZiB0ZXh0dXJlIHNpZGVzIHRvIHN0b3JlIGZvciBDdWJlUmVzb3VyY2VzXG4gKlxuICogQG5hbWUgUElYSS5yZXNvdXJjZXMuQ3ViZVJlc291cmNlLlNJREVTXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCA2XG4gKi9cbkN1YmVSZXNvdXJjZS5TSURFUyA9IDY7XG4iLCJpbXBvcnQgeyB1aWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgQmFzZUltYWdlUmVzb3VyY2UgZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZSc7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgU1ZHIGVsZW1lbnRzIGFuZCBncmFwaGljcy5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSAtIEJhc2U2NCBlbmNvZGVkIFNWRyBlbGVtZW50IG9yIFVSTCBmb3IgU1ZHIGZpbGUuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byB1c2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZT0xXSBTY2FsZSB0byBhcHBseSB0byBTVkcuIE92ZXJyaWRkZW4gYnkuLi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gUmFzdGVyaXplIFNWRyB0aGlzIHdpZGUuIEFzcGVjdCByYXRpbyBwcmVzZXJ2ZWQgaWYgaGVpZ2h0IG5vdCBzcGVjaWZpZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSBSYXN0ZXJpemUgU1ZHIHRoaXMgaGlnaC4gQXNwZWN0IHJhdGlvIHByZXNlcnZlZCBpZiB3aWR0aCBub3Qgc3BlY2lmaWVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSBTdGFydCBsb2FkaW5nIHJpZ2h0IGF3YXkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNWR1Jlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2VcbntcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBzdXBlcihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdmcgPSBzb3VyY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2Ugc2NhbGUgdG8gYXBwbHkgd2hlbiByYXN0ZXJpemluZyBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHdpZHRoIG92ZXJyaWRlIGZvciByYXN0ZXJpemF0aW9uIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX292ZXJyaWRlV2lkdGggPSBvcHRpb25zLndpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGhlaWdodCBvdmVycmlkZSBmb3IgcmFzdGVyaXphdGlvbiBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vdmVycmlkZUhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsIHdoZW4gY29tcGxldGVseSBsb2FkZWRcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3Jvc3Mgb3JpZ2luIHZhbHVlIHRvIHVzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufHN0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Nyb3Nzb3JpZ2luID0gb3B0aW9ucy5jcm9zc29yaWdpbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBTYXZlIHRoaXMgdW50aWwgYWZ0ZXIgbG9hZCBpcyBmaW5pc2hlZFxuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9ICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemUodGhpcy5zb3VyY2Uud2lkdGgsIHRoaXMuc291cmNlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgU1ZHIGlubGluZSBzdHJpbmcgdG8gZGF0YS11cmlcbiAgICAgICAgICAgIGlmICgoL15cXDxzdmcvKS50ZXN0KHRoaXMuc3ZnLnRyaW0oKSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFidG9hKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgYmFzZTY0IGNvbnZlcnNpb25zLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnN2ZyA9IGBkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCR7YnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodGhpcy5zdmcpKSl9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fbG9hZFN2ZygpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhbiBTVkcgaW1hZ2UgZnJvbSBgaW1hZ2VVcmxgIG9yIGBkYXRhIFVSTGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9sb2FkU3ZnKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRlbXBJbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHRlbXBJbWFnZSwgdGhpcy5zdmcsIHRoaXMuX2Nyb3Nzb3JpZ2luKTtcbiAgICAgICAgdGVtcEltYWdlLnNyYyA9IHRoaXMuc3ZnO1xuXG4gICAgICAgIHRlbXBJbWFnZS5vbmVycm9yID0gKGV2ZW50KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IucnVuKGV2ZW50KTtcbiAgICAgICAgfTtcblxuICAgICAgICB0ZW1wSW1hZ2Uub25sb2FkID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3ZnV2lkdGggPSB0ZW1wSW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBzdmdIZWlnaHQgPSB0ZW1wSW1hZ2UuaGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAoIXN2Z1dpZHRoIHx8ICFzdmdIZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgU1ZHIGltYWdlIG11c3QgaGF2ZSB3aWR0aCBhbmQgaGVpZ2h0IGRlZmluZWQgKGluIHBpeGVscyksIGNhbnZhcyBBUEkgbmVlZHMgdGhlbS4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2V0IHJlbmRlciBzaXplXG4gICAgICAgICAgICBsZXQgd2lkdGggPSBzdmdXaWR0aCAqIHRoaXMuc2NhbGU7XG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gc3ZnSGVpZ2h0ICogdGhpcy5zY2FsZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX292ZXJyaWRlV2lkdGggfHwgdGhpcy5fb3ZlcnJpZGVIZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSB0aGlzLl9vdmVycmlkZVdpZHRoIHx8IHRoaXMuX292ZXJyaWRlSGVpZ2h0IC8gc3ZnSGVpZ2h0ICogc3ZnV2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5fb3ZlcnJpZGVIZWlnaHQgfHwgdGhpcy5fb3ZlcnJpZGVXaWR0aCAvIHN2Z1dpZHRoICogc3ZnSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICAgICAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0KTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgY2FudmFzIGVsZW1lbnRcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuc291cmNlO1xuXG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBjYW52YXMuX3BpeGlJZCA9IGBjYW52YXNfJHt1aWQoKX1gO1xuXG4gICAgICAgICAgICAvLyBEcmF3IHRoZSBTdmcgdG8gdGhlIGNhbnZhc1xuICAgICAgICAgICAgY2FudmFzXG4gICAgICAgICAgICAgICAgLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgICAgICAgICAuZHJhd0ltYWdlKHRlbXBJbWFnZSwgMCwgMCwgc3ZnV2lkdGgsIHN2Z0hlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUoKTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBzaXplIGZyb20gYW4gc3ZnIHN0cmluZyB1c2luZyByZWdleHAuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN2Z1N0cmluZyAtIGEgc2VyaWFsaXplZCBzdmcgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuSVNpemV9IGltYWdlIGV4dGVuc2lvblxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRTaXplKHN2Z1N0cmluZylcbiAgICB7XG4gICAgICAgIGNvbnN0IHNpemVNYXRjaCA9IFNWR1Jlc291cmNlLlNWR19TSVpFLmV4ZWMoc3ZnU3RyaW5nKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHt9O1xuXG4gICAgICAgIGlmIChzaXplTWF0Y2gpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzFdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbM10pKTtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzVdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbN10pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3Jvc3NvcmlnaW4gPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gLSBUaGUgZXh0ZW5zaW9uIG9mIHNvdXJjZSwgaWYgc2V0XG4gICAgICovXG4gICAgc3RhdGljIHRlc3Qoc291cmNlLCBleHRlbnNpb24pXG4gICAge1xuICAgICAgICAvLyB1cmwgZmlsZSBleHRlbnNpb24gaXMgU1ZHXG4gICAgICAgIHJldHVybiBleHRlbnNpb24gPT09ICdzdmcnXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMgU1ZHIGRhdGEtdXJpXG4gICAgICAgICAgICB8fCAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgc291cmNlLmluZGV4T2YoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQnKSA9PT0gMClcbiAgICAgICAgICAgIC8vIHNvdXJjZSBpcyBTVkcgaW5saW5lXG4gICAgICAgICAgICB8fCAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgc291cmNlLmluZGV4T2YoJzxzdmcnKSA9PT0gMCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlZ0V4cCBmb3IgU1ZHIHNpemUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBTVkdfU0laRVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlXG4gKiBAZXhhbXBsZSAmbHQ7c3ZnIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCImZ3Q7Jmx0Oy9zdmcmZ3Q7XG4gKi9cblNWR1Jlc291cmNlLlNWR19TSVpFID0gLzxzdmdbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qPi9pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cbiIsImltcG9ydCBCYXNlSW1hZ2VSZXNvdXJjZSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlJztcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fG9iamVjdHxzdHJpbmd8QXJyYXk8c3RyaW5nfG9iamVjdD59IHNvdXJjZSAtIFZpZGVvIGVsZW1lbnQgdG8gdXNlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gdXNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gU3RhcnQgbG9hZGluZyB0aGUgdmlkZW8gaW1tZWRpYXRlbHlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1BsYXk9dHJ1ZV0gLSBTdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLlxuICogTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIExvYWQgaW1hZ2UgdXNpbmcgY3Jvc3Mgb3JpZ2luXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZGVvUmVzb3VyY2UgZXh0ZW5kcyBCYXNlSW1hZ2VSZXNvdXJjZVxue1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXG4gICAgICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5OTZcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ByZWxvYWQnLCAnYXV0bycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSBbc291cmNlXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4odmlkZW9FbGVtZW50LCAoc291cmNlWzBdLnNyYyB8fCBzb3VyY2VbMF0pLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcblxuICAgICAgICAgICAgLy8gYXJyYXkgb2Ygb2JqZWN0cyBvciBzdHJpbmdzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG5cbiAgICAgICAgICAgICAgICBsZXQgeyBzcmMsIG1pbWUgfSA9IHNvdXJjZVtpXTtcblxuICAgICAgICAgICAgICAgIHNyYyA9IHNyYyB8fCBzb3VyY2VbaV07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlU3JjID0gc3JjLnNwbGl0KCc/Jykuc2hpZnQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9IGJhc2VTcmMuc3Vic3RyKGJhc2VTcmMubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuXG4gICAgICAgICAgICAgICAgbWltZSA9IG1pbWUgfHwgYHZpZGVvLyR7ZXh0fWA7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VFbGVtZW50LnNyYyA9IHNyYztcbiAgICAgICAgICAgICAgICBzb3VyY2VFbGVtZW50LnR5cGUgPSBtaW1lO1xuXG4gICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LmFwcGVuZENoaWxkKHNvdXJjZUVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBPdmVycmlkZSB0aGUgc291cmNlXG4gICAgICAgICAgICBzb3VyY2UgPSB2aWRlb0VsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihzb3VyY2UpO1xuXG4gICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl91cGRhdGVGUFMgPSBvcHRpb25zLnVwZGF0ZUZQUyB8fCAwO1xuICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gc2V0IHRvIHRydWUgd2lsbCBhdXRvbWF0aWNhbGx5IHBsYXkgdmlkZW9zIHVzZWQgYnkgdGhpcyB0ZXh0dXJlIG9uY2VcbiAgICAgICAgICogdGhleSBhcmUgbG9hZGVkLiBJZiBmYWxzZSwgaXQgd2lsbCBub3QgbW9kaWZ5IHRoZSBwbGF5aW5nIHN0YXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9QbGF5ID0gb3B0aW9ucy5hdXRvUGxheSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB3aGVuIGNvbXBsZXRlZCB3aXRoIGxvYWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG5cbiAgICAgICAgLy8gQmluZCBmb3IgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMuX29uQ2FuUGxheSA9IHRoaXMuX29uQ2FuUGxheS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9vbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHVwZGF0aW5nIG9mIHRoZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlbHRhVGltZT0wXSAtIHRpbWUgZGVsdGEgc2luY2UgbGFzdCB0aWNrXG4gICAgICovXG4gICAgdXBkYXRlKGRlbHRhVGltZSA9IDApXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBhY2NvdW50IGZvciBpZiB2aWRlbyBoYXMgaGFkIGl0cyBwbGF5YmFja1JhdGUgY2hhbmdlZFxuICAgICAgICAgICAgY29uc3QgZWxhcHNlZE1TID0gVGlja2VyLnNoYXJlZC5lbGFwc2VkTVMgKiB0aGlzLnNvdXJjZS5wbGF5YmFja1JhdGU7XG5cbiAgICAgICAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gTWF0aC5mbG9vcih0aGlzLl9tc1RvTmV4dFVwZGF0ZSAtIGVsYXBzZWRNUyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3VwZGF0ZUZQUyB8fCB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA8PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZShkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gdGhpcy5fdXBkYXRlRlBTID8gTWF0aC5mbG9vcigxMDAwIC8gdGhpcy5fdXBkYXRlRlBTKSA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydCBwcmVsb2FkaW5nIHRoZSB2aWRlbyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBIYW5kbGUgdGhlIHZhbGlkYXRlIGV2ZW50XG4gICAgICovXG4gICAgbG9hZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICBpZiAoKHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9FTk9VR0hfREFUQSB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRlVUVVJFX0RBVEEpXG4gICAgICAgICAgICAmJiBzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgc291cmNlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgdGhpcy5fb25QbGF5U3RhcnQuYmluZCh0aGlzKSk7XG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIHRoaXMuX29uUGxheVN0b3AuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc1NvdXJjZVJlYWR5KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuXG4gICAgICAgICAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHZpZGVvIGVycm9yIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uRXJyb3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLnJ1bihldmVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHBsYXlpbmcuXG4gICAgICovXG4gICAgX2lzU291cmNlUGxheWluZygpXG4gICAge1xuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICByZXR1cm4gKHNvdXJjZS5jdXJyZW50VGltZSA+IDAgJiYgc291cmNlLnBhdXNlZCA9PT0gZmFsc2UgJiYgc291cmNlLmVuZGVkID09PSBmYWxzZSAmJiBzb3VyY2UucmVhZHlTdGF0ZSA+IDIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcmVhZHkgZm9yIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVhZHkuXG4gICAgICovXG4gICAgX2lzU291cmNlUmVhZHkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDMgfHwgdGhpcy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW5zIHRoZSB1cGRhdGUgbG9vcCB3aGVuIHRoZSB2aWRlbyBpcyByZWFkeSB0byBwbGF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vblBsYXlTdGFydCgpXG4gICAge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5faXNBdXRvVXBkYXRpbmcgJiYgdGhpcy5hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcGF1c2UgZXZlbnQgaXMgdHJpZ2dlcmVkLCBzdG9wcyB0aGUgdXBkYXRlIGxvb3BcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uUGxheVN0b3AoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgdmlkZW8gaXMgbG9hZGVkIGFuZCByZWFkeSB0byBwbGF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkNhblBsYXkoKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBzb3VyY2UgfSA9IHRoaXM7XG5cbiAgICAgICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9vbkNhblBsYXkpO1xuXG4gICAgICAgIGNvbnN0IHZhbGlkID0gdGhpcy52YWxpZDtcblxuICAgICAgICB0aGlzLnJlc2l6ZShzb3VyY2UudmlkZW9XaWR0aCwgc291cmNlLnZpZGVvSGVpZ2h0KTtcblxuICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGxvYWRlZCBkaXNwYXRjaGVzLi5cbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0aGlzLl9yZXNvbHZlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faXNTb3VyY2VQbGF5aW5nKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uUGxheVN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdXRvUGxheSlcbiAgICAgICAge1xuICAgICAgICAgICAgc291cmNlLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zb3VyY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2Uuc3JjID0gJyc7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3VsZCB0aGUgYmFzZSB0ZXh0dXJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlIGl0c2VsZiwgc2V0IHRvIHRydWUgYnkgZGVmYXVsdFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgYXV0b1VwZGF0ZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZTtcbiAgICB9XG5cbiAgICBzZXQgYXV0b1VwZGF0ZSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX2F1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNBdXRvVXBkYXRpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhvdyBtYW55IHRpbWVzIGEgc2Vjb25kIHRvIHVwZGF0ZSB0aGUgdGV4dHVyZSBmcm9tIHRoZSB2aWRlby4gTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyLlxuICAgICAqIEEgbG93ZXIgZnBzIGNhbiBoZWxwIHBlcmZvcm1hbmNlLCBhcyB1cGRhdGluZyB0aGUgdGV4dHVyZSBhdCA2MGZwcyBvbiBhIDMwcHMgdmlkZW8gbWF5IG5vdCBiZSBlZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHVwZGF0ZUZQUygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlRlBTO1xuICAgIH1cblxuICAgIHNldCB1cGRhdGVGUFModmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl91cGRhdGVGUFMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUZQUyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdmlkZW8gc291cmNlXG4gICAgICovXG4gICAgc3RhdGljIHRlc3Qoc291cmNlLCBleHRlbnNpb24pXG4gICAge1xuICAgICAgICByZXR1cm4gKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpXG4gICAgICAgICAgICB8fCBWaWRlb1Jlc291cmNlLlRZUEVTLmluZGV4T2YoZXh0ZW5zaW9uKSA+IC0xO1xuICAgIH1cbn1cblxuLyoqXG4gKiBMaXN0IG9mIGNvbW1vbiB2aWRlbyBmaWxlIGV4dGVuc2lvbnMgc3VwcG9ydGVkIGJ5IFZpZGVvUmVzb3VyY2UuXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge0FycmF5PHN0cmluZz59XG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqL1xuVmlkZW9SZXNvdXJjZS5UWVBFUyA9IFsnbXA0JywgJ200dicsICd3ZWJtJywgJ29nZycsICdvZ3YnLCAnaDI2NCcsICdhdmknLCAnbW92J107XG4iLCJpbXBvcnQgQmFzZUltYWdlUmVzb3VyY2UgZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZSc7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSW1hZ2VCaXRtYXAuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SW1hZ2VCaXRtYXB9IHNvdXJjZSAtIEltYWdlIGVsZW1lbnQgdG8gdXNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlQml0bWFwUmVzb3VyY2UgZXh0ZW5kcyBCYXNlSW1hZ2VSZXNvdXJjZVxue1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtJbWFnZUJpdG1hcH0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIGFuIEltYWdlQml0bWFwXG4gICAgICovXG4gICAgc3RhdGljIHRlc3Qoc291cmNlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwICYmIHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IElOU1RBTExFRCwgYXV0b0RldGVjdFJlc291cmNlIH0gZnJvbSAnLi9hdXRvRGV0ZWN0UmVzb3VyY2UnO1xuaW1wb3J0IEFycmF5UmVzb3VyY2UgZnJvbSAnLi9BcnJheVJlc291cmNlJztcbmltcG9ydCBCdWZmZXJSZXNvdXJjZSBmcm9tICcuL0J1ZmZlclJlc291cmNlJztcbmltcG9ydCBDYW52YXNSZXNvdXJjZSBmcm9tICcuL0NhbnZhc1Jlc291cmNlJztcbmltcG9ydCBDdWJlUmVzb3VyY2UgZnJvbSAnLi9DdWJlUmVzb3VyY2UnO1xuaW1wb3J0IEltYWdlUmVzb3VyY2UgZnJvbSAnLi9JbWFnZVJlc291cmNlJztcbmltcG9ydCBTVkdSZXNvdXJjZSBmcm9tICcuL1NWR1Jlc291cmNlJztcbmltcG9ydCBWaWRlb1Jlc291cmNlIGZyb20gJy4vVmlkZW9SZXNvdXJjZSc7XG5pbXBvcnQgSW1hZ2VCaXRtYXBSZXNvdXJjZSBmcm9tICcuL0ltYWdlQml0bWFwUmVzb3VyY2UnO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgYmFzZSByZXNvdXJjZSB0eXBlcyBzdXBwb3J0ZWQgYnkgUGl4aUpTLlxuICpcbiAqIFJlc291cmNlcyBhcmUgdXNlZCBieSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0gdG8gaGFuZGxlIGRpZmZlcmVudCBtZWRpYSB0eXBlc1xuICogc3VjaCBhcyBpbWFnZXMsIHZpZGVvLCBTVkcgZ3JhcGhpY3MsIGV0Yy4gSW4gbW9zdCB1c2UtY2FzZXMsIHlvdSBzaG91bGQgbm90XG4gKiBpbnN0YW50aWF0ZSB0aGUgcmVzb3VyY2VzIGRpcmVjdGx5LiBUaGUgZWFzeSB0aGluZyBpcyB0byB1c2VcbiAqIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlLmZyb219LlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGJhc2VUZXh0dXJlID0gUElYSS5CYXNlVGV4dHVyZS5mcm9tKCdwYXRoL3RvL2ltYWdlLmpwZycpO1xuICogQG5hbWVzcGFjZSBQSVhJLnJlc291cmNlc1xuICovXG5leHBvcnQgeyBkZWZhdWx0IGFzIFJlc291cmNlIH0gZnJvbSAnLi9SZXNvdXJjZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhc2VJbWFnZVJlc291cmNlIH0gZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZSc7XG5cbklOU1RBTExFRC5wdXNoKFxuICAgIEltYWdlUmVzb3VyY2UsXG4gICAgSW1hZ2VCaXRtYXBSZXNvdXJjZSxcbiAgICBDYW52YXNSZXNvdXJjZSxcbiAgICBWaWRlb1Jlc291cmNlLFxuICAgIFNWR1Jlc291cmNlLFxuICAgIEJ1ZmZlclJlc291cmNlLFxuICAgIEN1YmVSZXNvdXJjZSxcbiAgICBBcnJheVJlc291cmNlXG4pO1xuXG5leHBvcnQge1xuICAgIElOU1RBTExFRCxcbiAgICBhdXRvRGV0ZWN0UmVzb3VyY2UsXG4gICAgQXJyYXlSZXNvdXJjZSxcbiAgICBCdWZmZXJSZXNvdXJjZSxcbiAgICBDYW52YXNSZXNvdXJjZSxcbiAgICBDdWJlUmVzb3VyY2UsXG4gICAgSW1hZ2VSZXNvdXJjZSxcbiAgICBJbWFnZUJpdG1hcFJlc291cmNlLFxuICAgIFNWR1Jlc291cmNlLFxuICAgIFZpZGVvUmVzb3VyY2UgfTtcbiIsIi8qKlxuICogU3lzdGVtIGlzIGEgYmFzZSBjbGFzcyB1c2VkIGZvciBleHRlbmRpbmcgc3lzdGVtcyB1c2VkIGJ5IHRoZSB7QGxpbmsgUElYSS5SZW5kZXJlcn1cbiAqXG4gKiBAc2VlIFBJWEkuUmVuZGVyZXIjYWRkU3lzdGVtXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmljIGRlc3Ryb3kgbWV0aG9kcyB0byBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc1xuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJ1ZmZlclJlc291cmNlIGZyb20gJy4vQnVmZmVyUmVzb3VyY2UnO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIERlcHRoVGV4dHVyZS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQnVmZmVyUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXB0aFJlc291cmNlIGV4dGVuZHMgQnVmZmVyUmVzb3VyY2VcbntcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgdXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggPT09IGJhc2VUZXh0dXJlLndpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGJhc2VUZXh0dXJlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUud2lkdGgsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBnbC5ERVBUSF9DT01QT05FTlQxNiwgLy8gTmVlZGVkIGZvciBkZXB0aCB0byByZW5kZXIgcHJvcGVybHkgaW4gd2ViZ2wyLjBcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS53aWR0aCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vdGV4dHVyZXMvQmFzZVRleHR1cmUnO1xuaW1wb3J0IERlcHRoUmVzb3VyY2UgZnJvbSAnLi4vdGV4dHVyZXMvcmVzb3VyY2VzL0RlcHRoUmVzb3VyY2UnO1xuaW1wb3J0IHsgRk9STUFUUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIEZyYW1lIGJ1ZmZlciB1c2VkIGJ5IHRoZSBCYXNlUmVuZGVyVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnJhbWVidWZmZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGggfHwgMTAwKTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IHx8IDEwMCk7XG5cbiAgICAgICAgdGhpcy5zdGVuY2lsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVwdGggPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICAgICAgdGhpcy5kaXJ0eVNpemUgPSAwO1xuXG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzID0gW107XG5cbiAgICAgICAgdGhpcy5nbEZyYW1lYnVmZmVycyA9IHt9O1xuXG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VGcmFtZWJ1ZmZlcicsIDIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byB0aGUgY29sb3JUZXh0dXJlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlW119XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGNvbG9yVGV4dHVyZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmVzWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIHRvIHRoZSBjb2xvclRleHR1cmUgYXJyYXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9MF0gLSBJbmRleCBvZiB0aGUgYXJyYXkgdG8gYWRkIHRoZSB0ZXh0dXJlIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlXSAtIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBhcnJheVxuICAgICAqL1xuICAgIGFkZENvbG9yVGV4dHVyZShpbmRleCA9IDAsIHRleHR1cmUpXG4gICAge1xuICAgICAgICAvLyBUT0RPIGFkZCBzb21lIHZhbGlkYXRpb24gdG8gdGhlIHRleHR1cmUgLSBzYW1lIHdpZHRoIC8gaGVpZ2h0IGV0Yz9cbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzW2luZGV4XSA9IHRleHR1cmUgfHwgbmV3IFRleHR1cmUobnVsbCwgeyBzY2FsZU1vZGU6IDAsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICAgICAgbWlwbWFwOiBmYWxzZSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCB9KTsvLyB8fCBuZXcgVGV4dHVyZSgpO1xuXG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgZGVwdGggdGV4dHVyZSB0byB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmVdIC0gVGV4dHVyZSB0byBhZGRcbiAgICAgKi9cbiAgICBhZGREZXB0aFRleHR1cmUodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBUZXh0dXJlKG5ldyBEZXB0aFJlc291cmNlKG51bGwsIHsgd2lkdGg6IHRoaXMud2lkdGgsIGhlaWdodDogdGhpcy5oZWlnaHQgfSksIHsgc2NhbGVNb2RlOiAwLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG1pcG1hcDogZmFsc2UsXG4gICAgICAgICAgICBmb3JtYXQ6IEZPUk1BVFMuREVQVEhfQ09NUE9ORU5ULFxuICAgICAgICAgICAgdHlwZTogVFlQRVMuVU5TSUdORURfU0hPUlQgfSk7Ly8gVU5TSUdORURfU0hPUlQ7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgZGVwdGggb24gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIGVuYWJsZURlcHRoKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGVwdGggPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIHN0ZW5jaWwgb24gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIGVuYWJsZVN0ZW5jaWwoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGVuY2lsID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgZnJhbWUgYnVmZmVyIHRvIHJlc2l6ZSB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAgICAgKi9cbiAgICByZXNpemUod2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLndpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5oZWlnaHQpIHJldHVybjtcblxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5U2l6ZSsrO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgLy8gdGFrZSBpbnRvIGFjb3VudCB0aGUgZmFjdCB0aGUgdGV4dHVyZSBtYXkgaGF2ZSBhIGRpZmZlcmVudCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGVwdGhUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5kZXB0aFRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIucnVuKHRoaXMsIGZhbHNlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQmFzZVRleHR1cmUgZnJvbSAnLi4vdGV4dHVyZXMvQmFzZVRleHR1cmUnO1xuaW1wb3J0IEZyYW1lYnVmZmVyIGZyb20gJy4uL2ZyYW1lYnVmZmVyL0ZyYW1lYnVmZmVyJztcblxuLyoqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIEJhc2VSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBUaGUgcG9zaXRpb25cbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgZ2l2ZW4gRGlzcGxheSBPYmplY3RzIGlzIGlnbm9yZWQuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlUmVuZGVyVGV4dHVyZSBleHRlbmRzIEJhc2VUZXh0dXJlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MTAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbb3B0aW9ucy5zY2FsZU1vZGVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgb2Ygc2lnbmF0dXJlXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBhcmd1bWVudHNbM107XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbiB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKG51bGwsIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCkgfHwgMTAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpIHx8IDEwMDtcbiAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgcmVuZGVyIHRhcmdldCAod2Ugb25seSBuZWVkIG9uZSBhcyB0aGlzIGNhbiBiZSBzaGFyZWQgYWNyb3NzIHJlbmRlcmVycylcbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYW52YXNSZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuY2xlYXJDb2xvciA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKHRoaXMud2lkdGggKiB0aGlzLnJlc29sdXRpb24sIHRoaXMuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKVxuICAgICAgICAgICAgLmFkZENvbG9yVGV4dHVyZSgwLCB0aGlzKVxuICAgICAgICAgICAgLmVuYWJsZVN0ZW5jaWwoKTtcblxuICAgICAgICAvLyBUT0RPIC0gY291bGQgdGhpcyBiZSBhZGRlZCB0aGUgc3lzdGVtcz9cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgc3RlbmNpbCBtYXNrcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHN0cnVjdHVyZSBmb3IgdGhlIGZpbHRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2sgPSBbe31dO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIEJhc2VSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICovXG4gICAgcmVzaXplKHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLnJlc2l6ZSh3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiwgaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBhbmQgZnJhbWVidWZmZXIgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmRpc3Bvc2UoKTtcblxuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlLlxuICAgICAqXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KHRydWUpO1xuXG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdyb3VwRDggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBTdG9yZXMgYSB0ZXh0dXJlJ3MgZnJhbWUgaW4gVVYgY29vcmRpbmF0ZXMsIGluXG4gKiB3aGljaCBldmVyeXRoaW5nIGxpZXMgaW4gdGhlIHJlY3RhbmdsZSBgWygwLDApLCAoMSwwKSxcbiAqICgxLDEpLCAoMCwxKV1gLlxuICpcbiAqIHwgQ29ybmVyICAgICAgIHwgQ29vcmRpbmF0ZXMgfFxuICogfC0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS18XG4gKiB8IFRvcC1MZWZ0ICAgICB8IGAoeDAseTApYCAgIHxcbiAqIHwgVG9wLVJpZ2h0ICAgIHwgYCh4MSx5MSlgICAgfFxuICogfCBCb3R0b20tUmlnaHQgfCBgKHgyLHkyKWAgICB8XG4gKiB8IEJvdHRvbS1MZWZ0ICB8IGAoeDMseTMpYCAgIHxcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmVVdnNcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgdG9wLWxlZnQgY29ybmVyIGAoeDAseTApYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFktY29tcG9uZW50IG9mIHRvcC1sZWZ0IGNvcm5lciBgKHgwLHkwKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTAgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiB0b3AtcmlnaHQgY29ybmVyIGAoeDEseTEpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFktY29tcG9uZW50IG9mIHRvcC1yaWdodCBjb3JuZXIgYCh4MSx5MSlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkxID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDIgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDIseTIpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MiA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFgtY29tcG9uZW50IG9mIGJvdHRvbS1sZWZ0IGNvcm5lciBgKHgzLHkzKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDMgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MyA9IDE7XG5cbiAgICAgICAgdGhpcy51dnNGbG9hdDMyID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0ZXh0dXJlIFV2cyBiYXNlZCBvbiB0aGUgZ2l2ZW4gZnJhbWUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZnJhbWUgLSBUaGUgZnJhbWUgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBiYXNlRnJhbWUgLSBUaGUgYmFzZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGUgLSBSb3RhdGlvbiBvZiBmcmFtZSwgc2VlIHtAbGluayBQSVhJLkdyb3VwRDh9XG4gICAgICovXG4gICAgc2V0KGZyYW1lLCBiYXNlRnJhbWUsIHJvdGF0ZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHR3ID0gYmFzZUZyYW1lLndpZHRoO1xuICAgICAgICBjb25zdCB0aCA9IGJhc2VGcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHJvdGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBkaXYgMiBkaXYgYmFzZUZyYW1lIHNpemVcbiAgICAgICAgICAgIGNvbnN0IHcyID0gZnJhbWUud2lkdGggLyAyIC8gdHc7XG4gICAgICAgICAgICBjb25zdCBoMiA9IGZyYW1lLmhlaWdodCAvIDIgLyB0aDtcblxuICAgICAgICAgICAgLy8gY29vcmRpbmF0ZXMgb2YgY2VudGVyXG4gICAgICAgICAgICBjb25zdCBjWCA9IChmcmFtZS54IC8gdHcpICsgdzI7XG4gICAgICAgICAgICBjb25zdCBjWSA9IChmcmFtZS55IC8gdGgpICsgaDI7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IEdyb3VwRDguYWRkKHJvdGF0ZSwgR3JvdXBEOC5OVyk7IC8vIE5XIGlzIHRvcC1sZWZ0IGNvcm5lclxuICAgICAgICAgICAgdGhpcy54MCA9IGNYICsgKHcyICogR3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTAgPSBjWSArIChoMiAqIEdyb3VwRDgudVkocm90YXRlKSk7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IEdyb3VwRDguYWRkKHJvdGF0ZSwgMik7IC8vIHJvdGF0ZSA5MCBkZWdyZWVzIGNsb2Nrd2lzZVxuICAgICAgICAgICAgdGhpcy54MSA9IGNYICsgKHcyICogR3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTEgPSBjWSArIChoMiAqIEdyb3VwRDgudVkocm90YXRlKSk7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IEdyb3VwRDguYWRkKHJvdGF0ZSwgMik7XG4gICAgICAgICAgICB0aGlzLngyID0gY1ggKyAodzIgKiBHcm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICAgICAgdGhpcy55MiA9IGNZICsgKGgyICogR3JvdXBEOC51WShyb3RhdGUpKTtcblxuICAgICAgICAgICAgcm90YXRlID0gR3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDMgPSBjWCArICh3MiAqIEdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkzID0gY1kgKyAoaDIgKiBHcm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy54MCA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTAgPSBmcmFtZS55IC8gdGg7XG5cbiAgICAgICAgICAgIHRoaXMueDEgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MSA9IGZyYW1lLnkgLyB0aDtcblxuICAgICAgICAgICAgdGhpcy54MiA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkyID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG5cbiAgICAgICAgICAgIHRoaXMueDMgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkzID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbMF0gPSB0aGlzLngwO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbMV0gPSB0aGlzLnkwO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbMl0gPSB0aGlzLngxO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbM10gPSB0aGlzLnkxO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbNF0gPSB0aGlzLngyO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbNV0gPSB0aGlzLnkyO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbNl0gPSB0aGlzLngzO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbN10gPSB0aGlzLnkzO1xuICAgIH1cbn1cbiIsImltcG9ydCBCYXNlVGV4dHVyZSBmcm9tICcuL0Jhc2VUZXh0dXJlJztcbmltcG9ydCBJbWFnZVJlc291cmNlIGZyb20gJy4vcmVzb3VyY2VzL0ltYWdlUmVzb3VyY2UnO1xuaW1wb3J0IENhbnZhc1Jlc291cmNlIGZyb20gJy4vcmVzb3VyY2VzL0NhbnZhc1Jlc291cmNlJztcbmltcG9ydCBUZXh0dXJlVXZzIGZyb20gJy4vVGV4dHVyZVV2cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFJlY3RhbmdsZSwgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHVpZCwgVGV4dHVyZUNhY2hlLCBnZXRSZXNvbHV0aW9uT2ZVcmwsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuY29uc3QgREVGQVVMVF9VVlMgPSBuZXcgVGV4dHVyZVV2cygpO1xuXG4vKipcbiAqIEEgdGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZSBvciBwYXJ0IG9mIGFuIGltYWdlLlxuICpcbiAqIEl0IGNhbm5vdCBiZSBhZGRlZCB0byB0aGUgZGlzcGxheSBsaXN0IGRpcmVjdGx5OyBpbnN0ZWFkIHVzZSBpdCBhcyB0aGUgdGV4dHVyZSBmb3IgYSBTcHJpdGUuXG4gKiBJZiBubyBmcmFtZSBpcyBwcm92aWRlZCBmb3IgYSB0ZXh0dXJlLCB0aGVuIHRoZSB3aG9sZSBpbWFnZSBpcyB1c2VkLlxuICpcbiAqIFlvdSBjYW4gZGlyZWN0bHkgY3JlYXRlIGEgdGV4dHVyZSBmcm9tIGFuIGltYWdlIGFuZCB0aGVuIHJldXNlIGl0IG11bHRpcGxlIHRpbWVzIGxpa2UgdGhpcyA6XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oJ2Fzc2V0cy9pbWFnZS5wbmcnKTtcbiAqIGxldCBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogbGV0IHNwcml0ZTIgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBJZiB5b3UgZGlkbnQgcGFzcyB0aGUgdGV4dHVyZSBmcmFtZSB0byBjb25zdHJ1Y3RvciwgaXQgZW5hYmxlcyBgbm9GcmFtZWAgbW9kZTpcbiAqIGl0IHN1YnNjcmliZXMgb24gYmFzZVRleHR1cmUgZXZlbnRzLCBpdCBhdXRvbWF0aWNhbGx5IHJlc2l6ZXMgYXQgdGhlIHNhbWUgdGltZSBhcyBiYXNlVGV4dHVyZS5cbiAqXG4gKiBUZXh0dXJlcyBtYWRlIGZyb20gU1ZHcywgbG9hZGVkIG9yIG5vdCwgY2Fubm90IGJlIHVzZWQgYmVmb3JlIHRoZSBmaWxlIGZpbmlzaGVzIHByb2Nlc3NpbmcuXG4gKiBZb3UgY2FuIGNoZWNrIGZvciB0aGlzIGJ5IGNoZWNraW5nIHRoZSBzcHJpdGUncyBfdGV4dHVyZUlEIHByb3BlcnR5LlxuICogYGBganNcbiAqIHZhciB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oJ2Fzc2V0cy9pbWFnZS5zdmcnKTtcbiAqIHZhciBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogLy9zcHJpdGUxLl90ZXh0dXJlSUQgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQgaWYgdGhlIHRleHR1cmUgaGFzIGZpbmlzaGVkIHByb2Nlc3NpbmcgdGhlIFNWRyBmaWxlXG4gKiBgYGBcbiAqIFlvdSBjYW4gdXNlIGEgdGlja2VyIG9yIHJBRiB0byBlbnN1cmUgeW91ciBzcHJpdGVzIGxvYWQgdGhlIGZpbmlzaGVkIHRleHR1cmVzIGFmdGVyIHByb2Nlc3NpbmcuIFNlZSBpc3N1ZSAjMzA2OC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0dXJlIGV4dGVuZHMgRXZlbnRFbWl0dGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUgc291cmNlIHRvIGNyZWF0ZSB0aGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2ZyYW1lXSAtIFRoZSByZWN0YW5nbGUgZnJhbWUgb2YgdGhlIHRleHR1cmUgdG8gc2hvd1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtvcmlnXSAtIFRoZSBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbdHJpbV0gLSBUcmltbWVkIHJlY3RhbmdsZSBvZiBvcmlnaW5hbCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGVdIC0gaW5kaWNhdGVzIGhvdyB0aGUgdGV4dHVyZSB3YXMgcm90YXRlZCBieSB0ZXh0dXJlIHBhY2tlci4gU2VlIHtAbGluayBQSVhJLkdyb3VwRDh9XG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbYW5jaG9yXSAtIERlZmF1bHQgYW5jaG9yIHBvaW50IHVzZWQgZm9yIHNwcml0ZSBwbGFjZW1lbnQgLyByb3RhdGlvblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJhc2VUZXh0dXJlLCBmcmFtZSwgb3JpZywgdHJpbSwgcm90YXRlLCBhbmNob3IpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoaXMgVGV4dHVyZSBoYXZlIGFueSBmcmFtZSBkYXRhIGFzc2lnbmVkIHRvIGl0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1vZGUgaXMgZW5hYmxlZCBhdXRvbWF0aWNhbGx5IGlmIG5vIGZyYW1lIHdhcyBwYXNzZWQgaW5zaWRlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJbiB0aGlzIG1vZGUgdGV4dHVyZSBpcyBzdWJzY3JpYmVkIHRvIGJhc2VUZXh0dXJlIGV2ZW50cywgYW5kIGZpcmVzIGB1cGRhdGVgIG9uIGFueSBjaGFuZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJld2FyZSwgYWZ0ZXIgbG9hZGluZyBvciByZXNpemUgb2YgYmFzZVRleHR1cmUgZXZlbnQgY2FuIGZpcmVkIHR3byB0aW1lcyFcbiAgICAgICAgICogSWYgeW91IHdhbnQgbW9yZSBjb250cm9sLCBzdWJzY3JpYmUgb24gYmFzZVRleHR1cmUgaXRzZWxmLlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiB0ZXh0dXJlLm9uKCd1cGRhdGUnLCAoKSA9PiB7fSk7XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKlxuICAgICAgICAgKiBBbnkgYXNzaWdubWVudCBvZiBgZnJhbWVgIHN3aXRjaGVzIG9mZiBgbm9GcmFtZWAgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubm9GcmFtZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghZnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubm9GcmFtZSA9IHRydWU7XG4gICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFzZVRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiB0aGUgQmFzZVRleHR1cmUgaW1hZ2UgdG8gYWN0dWFsbHkgY29weSB0byB0aGUgQ2FudmFzIC8gV2ViR0wgd2hlbiByZW5kZXJpbmcsXG4gICAgICAgICAqIGlycmVzcGVjdGl2ZSBvZiB0aGUgYWN0dWFsIGZyYW1lIHNpemUgb3IgcGxhY2VtZW50ICh3aGljaCBjYW4gYmUgaW5mbHVlbmNlZCBieSB0cmltbWVkIHRleHR1cmUgYXRsYXNlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSB0cmltbWVkIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGB0cmltYCBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyaW0gPSB0cmltO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCBhIHJlbmRlcmVyIGtub3cgdGhhdCBhIHRleHR1cmUgaGFzIGJlZW4gdXBkYXRlZCAodXNlZCBtYWlubHkgZm9yIFdlYkdMIHV2IHVwZGF0ZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlcXVpcmVzVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBVViBkYXRhIGNhY2hlLiBDYW4gYmUgdXNlZCBhcyBxdWFkIFVWXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVV2c31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXZzID0gREVGQVVMVF9VVlM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqIEJ5IGRlZmF1bHQgdGhhdCBvYmplY3QgaXMgbm90IGNyZWF0ZWQgYmVjYXVzZSBpdHMgaGVhdnlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9yaWcgPSBvcmlnIHx8IGZyYW1lOy8vIG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG5cbiAgICAgICAgdGhpcy5fcm90YXRlID0gTnVtYmVyKHJvdGF0ZSB8fCAwKTtcblxuICAgICAgICBpZiAocm90YXRlID09PSB0cnVlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9sZCB0ZXh0dXJlcGFja2VyIGxlZ2FjeSwgc29tZSBnYW1lcy9saWJyYXJpZXMgYXJlIHBhc3NpbmcgXCJ0cnVlXCIgZm9yIHJvdGF0ZWQgdGV4dHVyZXNcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZSA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fcm90YXRlICUgMiAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdHRlbXB0IHRvIHVzZSBkaWFtb25kLXNoYXBlZCBVVnMuIElmIHlvdSBhcmUgc3VyZSwgc2V0IHJvdGF0aW9uIG1hbnVhbGx5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQW5jaG9yIHBvaW50IHRoYXQgaXMgdXNlZCBhcyBkZWZhdWx0IGlmIHNwcml0ZSBpcyBjcmVhdGVkIHdpdGggdGhpcyB0ZXh0dXJlLlxuICAgICAgICAgKiBDaGFuZ2luZyB0aGUgYGRlZmF1bHRBbmNob3JgIGF0IGEgbGF0ZXIgcG9pbnQgb2YgdGltZSB3aWxsIG5vdCB1cGRhdGUgU3ByaXRlJ3MgYW5jaG9yIHBvaW50LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKiBAZGVmYXVsdCB7MCwwfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0QW5jaG9yID0gYW5jaG9yID8gbmV3IFBvaW50KGFuY2hvci54LCBhbmNob3IueSkgOiBuZXcgUG9pbnQoMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBJRCBpcyBvYnNlcnZlZCBieSBzcHJpdGVzIGFuZCBUZXh0dXJlTWF0cml4IGluc3RhbmNlcy5cbiAgICAgICAgICogQ2FsbCB1cGRhdGVVdnMoKSB0byBpbmNyZW1lbnQgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cblxuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBUZXh0dXJlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgVGV4dHVyZS5hZGRUb0NhY2hlIGlzIHVzZWQsIGJ1dCBtYXkgbm90IGJlIHNldCBpZiBhXG4gICAgICAgICAqIFRleHR1cmUgaXMgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIFRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uY2UoJ2xvYWRlZCcsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubm9GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gZnJhbWUgd2Ugc2hvdWxkIG1vbml0b3IgZm9yIGFueSBiYXNlIHRleHR1cmUgY2hhbmdlcy4uXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ub0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5vbigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoaXMgdGV4dHVyZSBvbiB0aGUgZ3B1LlxuICAgICAqXG4gICAgICogQ2FsbHMgdGhlIFRleHR1cmVSZXNvdXJjZSB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgYWRqdXN0ZWQgYGZyYW1lYCBtYW51YWxseSwgcGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBpbnN0ZWFkLlxuICAgICAqXG4gICAgICovXG4gICAgdXBkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGJhc2UgdGV4dHVyZSBpcyB1cGRhdGVkXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUuXG4gICAgICovXG4gICAgb25CYXNlVGV4dHVyZVVwZGF0ZWQoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ub0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyB0aGlzIGNvZGUgbG9va3MgY29uZnVzaW5nLi4gYm9vIHRvIGFidXNpbmcgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAgICAgICAgIC8vIGlmIHVzZXIgZ2F2ZSB1cyBmcmFtZSB0aGF0IGhhcyBiaWdnZXIgc2l6ZSB0aGFuIHJlc2l6ZWQgdGV4dHVyZSBpdCBjYW4gYmUgYSBwcm9ibGVtXG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gdGhpcy5fZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBkZXN0cm95KGRlc3Ryb3lCYXNlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChkZXN0cm95QmFzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHJlc291cmNlIH0gPSB0aGlzLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSB0ZXh0dXJlIGlmIGl0IGV4aXN0cyBpbiB0aGUgdGV4dHVyZSBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBvbmx5IG5lZWRzIHRvIGJlIHJlbW92ZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSBpcyBhY3R1YWxseSBkZXN0cm95ZWQgdG9vLi5cbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2UgJiYgVGV4dHVyZUNhY2hlW3Jlc291cmNlLnVybF0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZShyZXNvdXJjZS51cmwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl91dnMgPSBudWxsO1xuICAgICAgICB0aGlzLnRyaW0gPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWcgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcblxuICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSBvYmplY3QgdGhhdCBhY3RzIHRoZSBzYW1lIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3IHRleHR1cmVcbiAgICAgKi9cbiAgICBjbG9uZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5mcmFtZSwgdGhpcy5vcmlnLCB0aGlzLnRyaW0sIHRoaXMucm90YXRlLCB0aGlzLmRlZmF1bHRBbmNob3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIFdlYkdMIFVWIGNhY2hlLiBVc2UgaXQgYWZ0ZXIgeW91IGNoYW5nZSBgZnJhbWVgIG9yIGB0cmltYCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBDYWxsIGl0IGFmdGVyIGNoYW5naW5nIHRoZSBmcmFtZVxuICAgICAqL1xuICAgIHVwZGF0ZVV2cygpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdXZzID09PSBERUZBVUxUX1VWUylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdXZzID0gbmV3IFRleHR1cmVVdnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3V2cy5zZXQodGhpcy5fZnJhbWUsIHRoaXMuYmFzZVRleHR1cmUsIHRoaXMucm90YXRlKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxQSVhJLkJhc2VUZXh0dXJlfSBzb3VyY2VcbiAgICAgKiAgICAgICAgU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShzb3VyY2UsIG9wdGlvbnMgPSB7fSlcbiAgICB7XG4gICAgICAgIGxldCBjYWNoZUlkID0gbnVsbDtcblxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS5fcGl4aUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5fcGl4aUlkID0gYHBpeGlpZF8ke3VpZCgpfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2UuX3BpeGlJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0ZXh0dXJlID0gVGV4dHVyZUNhY2hlW2NhY2hlSWRdO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnJlc29sdXRpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRleHR1cmUgPSBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUoc291cmNlLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLmNhY2hlSWQgPSBjYWNoZUlkO1xuXG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGNhY2hlSWQpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGNhY2hlSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBhc3N1bWUgaXRzIGEgYmFzZSB0ZXh0dXJlIVxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fSBidWZmZXIgVGhlIG9wdGlvbmFsIGFycmF5IHRvIHVzZSwgaWYgbm8gZGF0YVxuICAgICAqICAgICAgICBpcyBwcm92aWRlZCwgYSBuZXcgRmxvYXQzMkFycmF5IGlzIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSByZXN1bHRpbmcgbmV3IEJhc2VUZXh0dXJlXG4gICAgICovXG4gICAgc3RhdGljIGZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKEJhc2VUZXh0dXJlLmZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdGV4dHVyZSBmcm9tIGEgc291cmNlIGFuZCBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gVGhlIGlucHV0IHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW1hZ2VVcmwgLSBGaWxlIG5hbWUgb2YgdGV4dHVyZSwgZm9yIGNhY2hlIGFuZCByZXNvbHZpbmcgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gSHVtYW4gcmVhZGFibGUgbmFtZSBmb3IgdGhlIHRleHR1cmUgY2FjaGUuIElmIG5vIG5hbWUgaXNcbiAgICAgKiAgICAgICAgc3BlY2lmaWVkLCBvbmx5IGBpbWFnZVVybGAgd2lsbCBiZSB1c2VkIGFzIHRoZSBjYWNoZSBJRC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IE91dHB1dCB0ZXh0dXJlXG4gICAgICovXG4gICAgc3RhdGljIGZyb21Mb2FkZXIoc291cmNlLCBpbWFnZVVybCwgbmFtZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlc291cmNlID0gbmV3IEltYWdlUmVzb3VyY2Uoc291cmNlKTtcblxuICAgICAgICByZXNvdXJjZS51cmwgPSBpbWFnZVVybDtcblxuICAgICAgICBjb25zdCBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBzZXR0aW5ncy5TQ0FMRV9NT0RFLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogZ2V0UmVzb2x1dGlvbk9mVXJsKGltYWdlVXJsKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAvLyBObyBuYW1lLCB1c2UgaW1hZ2VVcmwgaW5zdGVhZFxuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBpbWFnZVVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tTG9hZGVyJyBmdW5jdGlvblxuICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgbmFtZSk7XG5cbiAgICAgICAgLy8gYWxzbyBhZGQgcmVmZXJlbmNlcyBieSB1cmwgaWYgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgICBpZiAobmFtZSAhPT0gaW1hZ2VVcmwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBUZXh0dXJlIHRvIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhZGRUb0NhY2hlKHRleHR1cmUsIGlkKVxuICAgIHtcbiAgICAgICAgaWYgKGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW2lkXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbJHtpZH1dIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnlgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgVGV4dHVyZUNhY2hlW2lkXSA9IHRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gaWQgb2YgYSBUZXh0dXJlIHRvIGJlIHJlbW92ZWQsIG9yIGEgVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV8bnVsbH0gVGhlIFRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZFxuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmVGcm9tQ2FjaGUodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dHVyZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVGcm9tQ2FjaGUgPSBUZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlRnJvbUNhY2hlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZih0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGV4dHVyZSAmJiB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRleHR1cmUgbWF0Y2hlcyB0aGUgb25lIGJlaW5nIHBhc3NlZCBpbiBiZWZvcmUgZGVsZXRpbmcgaXQgZnJvbSB0aGUgY2FjaGUuXG4gICAgICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV0gPT09IHRleHR1cmUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHJlc29sdXRpb24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUgc3BlY2lmaWVzIHRoZSByZWdpb24gb2YgdGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgZnJhbWVgIG1hbnVhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICovXG4gICAgZ2V0IGZyYW1lKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICB9XG5cbiAgICBzZXQgZnJhbWUoZnJhbWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fZnJhbWUgPSBmcmFtZTtcblxuICAgICAgICB0aGlzLm5vRnJhbWUgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IGZyYW1lO1xuICAgICAgICBjb25zdCB4Tm90Rml0ID0geCArIHdpZHRoID4gdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgY29uc3QgeU5vdEZpdCA9IHkgKyBoZWlnaHQgPiB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICBpZiAoeE5vdEZpdCB8fCB5Tm90Rml0KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbnNoaXAgPSB4Tm90Rml0ICYmIHlOb3RGaXQgPyAnYW5kJyA6ICdvcic7XG4gICAgICAgICAgICBjb25zdCBlcnJvclggPSBgWDogJHt4fSArICR7d2lkdGh9ID0gJHt4ICsgd2lkdGh9ID4gJHt0aGlzLmJhc2VUZXh0dXJlLndpZHRofWA7XG4gICAgICAgICAgICBjb25zdCBlcnJvclkgPSBgWTogJHt5fSArICR7aGVpZ2h0fSA9ICR7eSArIGhlaWdodH0gPiAke3RoaXMuYmFzZVRleHR1cmUuaGVpZ2h0fWA7XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6ICdcbiAgICAgICAgICAgICAgICArIGAke2Vycm9yWH0gJHtyZWxhdGlvbnNoaXB9ICR7ZXJyb3JZfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoICYmIGhlaWdodCAmJiB0aGlzLmJhc2VUZXh0dXJlLnZhbGlkO1xuXG4gICAgICAgIGlmICghdGhpcy50cmltICYmICF0aGlzLnJvdGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vcmlnID0gZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0ZXh0dXJlIGlzIHJvdGF0ZWQgaW5zaWRlIHRoZSBhdGxhc1xuICAgICAqIHNldCB0byAyIHRvIGNvbXBlbnNhdGUgZm9yIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICogc2V0IHRvIDYgdG8gY29tcGVuc2F0ZSBmb3Igc3BpbmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICogY2FuIGJlIHVzZWQgdG8gcm90YXRlIG9yIG1pcnJvciBzcHJpdGVzXG4gICAgICogU2VlIHtAbGluayBQSVhJLkdyb3VwRDh9IGZvciBleHBsYW5hdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByb3RhdGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0ZTtcbiAgICB9XG5cbiAgICBzZXQgcm90YXRlKHJvdGF0ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9yb3RhdGUgPSByb3RhdGU7XG4gICAgICAgIGlmICh0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZy53aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWcuaGVpZ2h0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlV2hpdGVUZXh0dXJlKClcbntcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IDE2O1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxNjtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDE2LCAxNik7XG5cbiAgICByZXR1cm4gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKG5ldyBDYW52YXNSZXNvdXJjZShjYW52YXMpKSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUFsbEhhbmRsZXJzKHRleClcbntcbiAgICB0ZXguZGVzdHJveSA9IGZ1bmN0aW9uIF9lbXB0eURlc3Ryb3koKSB7IC8qIGVtcHR5ICovIH07XG4gICAgdGV4Lm9uID0gZnVuY3Rpb24gX2VtcHR5T24oKSB7IC8qIGVtcHR5ICovIH07XG4gICAgdGV4Lm9uY2UgPSBmdW5jdGlvbiBfZW1wdHlPbmNlKCkgeyAvKiBlbXB0eSAqLyB9O1xuICAgIHRleC5lbWl0ID0gZnVuY3Rpb24gX2VtcHR5RW1pdCgpIHsgLyogZW1wdHkgKi8gfTtcbn1cblxuLyoqXG4gKiBBbiBlbXB0eSB0ZXh0dXJlLCB1c2VkIG9mdGVuIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBtdWx0aXBsZSBlbXB0eSB0ZXh0dXJlcy5cbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLkVNUFRZID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKCkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKTtcblxuLyoqXG4gKiBBIHdoaXRlIHRleHR1cmUgb2YgMTZ4MTYgc2l6ZSwgdXNlZCBmb3IgZ3JhcGhpY3MgYW5kIG90aGVyIHRoaW5nc1xuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gKi9cblRleHR1cmUuV0hJVEUgPSBjcmVhdGVXaGl0ZVRleHR1cmUoKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURS5iYXNlVGV4dHVyZSk7XG4iLCJpbXBvcnQgQmFzZVJlbmRlclRleHR1cmUgZnJvbSAnLi9CYXNlUmVuZGVyVGV4dHVyZSc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi90ZXh0dXJlcy9UZXh0dXJlJztcblxuLyoqXG4gKiBBIFJlbmRlclRleHR1cmUgaXMgYSBzcGVjaWFsIHRleHR1cmUgdGhhdCBhbGxvd3MgYW55IFBpeGlKUyBkaXNwbGF5IG9iamVjdCB0byBiZSByZW5kZXJlZCB0byBpdC5cbiAqXG4gKiBfX0hpbnRfXzogQWxsIERpc3BsYXlPYmplY3RzIChpLmUuIFNwcml0ZXMpIHRoYXQgcmVuZGVyIHRvIGEgUmVuZGVyVGV4dHVyZSBzaG91bGQgYmUgcHJlbG9hZGVkXG4gKiBvdGhlcndpc2UgYmxhY2sgcmVjdGFuZ2xlcyB3aWxsIGJlIGRyYXduIGluc3RlYWQuXG4gKlxuICogX19IaW50LTJfXzogVGhlIGFjdHVhbCBtZW1vcnkgYWxsb2NhdGlvbiB3aWxsIGhhcHBlbiBvbiBmaXJzdCByZW5kZXIuXG4gKiBZb3Ugc2hvdWxkbid0IGNyZWF0ZSByZW5kZXJUZXh0dXJlcyBlYWNoIGZyYW1lIGp1c3QgdG8gZGVsZXRlIHRoZW0gYWZ0ZXIsIHRyeSB0byByZXVzZSB0aGVtLlxuICpcbiAqIEEgUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKCk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IFBJWEkuUmVuZGVyVGV4dHVyZS5jcmVhdGUoODAwLCA2MDApO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBTcHJpdGUgaW4gdGhpcyBjYXNlIHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgaXRzIGxvY2FsIHRyYW5zZm9ybS4gVG8gcmVuZGVyIHRoaXMgc3ByaXRlIGF0IDAsMFxuICogeW91IGNhbiBjbGVhciB0aGUgdHJhbnNmb3JtXG4gKlxuICogYGBganNcbiAqXG4gKiBzcHJpdGUuc2V0VHJhbnNmb3JtKClcbiAqXG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKDEwMCwgMTAwKTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTsgIC8vIFJlbmRlcnMgdG8gY2VudGVyIG9mIFJlbmRlclRleHR1cmVcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5UZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJUZXh0dXJlIGV4dGVuZHMgVGV4dHVyZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlUmVuZGVyVGV4dHVyZX0gYmFzZVJlbmRlclRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2ZyYW1lXSAtIFRoZSByZWN0YW5nbGUgZnJhbWUgb2YgdGhlIHRleHR1cmUgdG8gc2hvd1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSlcbiAgICB7XG4gICAgICAgIC8vIHN1cHBvcnQgZm9yIGxlZ2FjeS4uXG4gICAgICAgIGxldCBfbGVnYWN5UmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICghKGJhc2VSZW5kZXJUZXh0dXJlIGluc3RhbmNlb2YgQmFzZVJlbmRlclRleHR1cmUpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMsIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGVNb2RlID0gYXJndW1lbnRzWzNdO1xuICAgICAgICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IGFyZ3VtZW50c1s0XTtcblxuICAgICAgICAgICAgLy8gd2UgaGF2ZSBhbiBvbGQgcmVuZGVyIHRleHR1cmUuLlxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBQbGVhc2UgdXNlIFJlbmRlclRleHR1cmUuY3JlYXRlKCR7d2lkdGh9LCAke2hlaWdodH0pIGluc3RlYWQgb2YgdGhlIGN0b3IgZGlyZWN0bHkuYCk7XG4gICAgICAgICAgICBfbGVnYWN5UmVuZGVyZXIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuXG4gICAgICAgICAgICBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBCYXNlUmVuZGVyVGV4dHVyZSh7XG4gICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdGV4dHVyZSBvYmplY3QgdGhhdCB0aGlzIHRleHR1cmUgdXNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgc3VwZXIoYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKTtcblxuICAgICAgICB0aGlzLmxlZ2FjeVJlbmRlcmVyID0gX2xlZ2FjeVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9yZXMgYHNvdXJjZUZyYW1lYCB3aGVuIHRoaXMgdGV4dHVyZSBpcyBpbnNpZGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICAgICAqIFlvdSBjYW4gcmVhZCBpdCBpbnNpZGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJGcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBrZXkgZm9yIHBvb2xlZCB0ZXh0dXJlIG9mIEZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyUG9vbEtleSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVzaXplQmFzZVRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgdGhlIGJhc2VUZXh0dXJlLndpZHRoIGFuZCBoZWlnaHQgdmFsdWVzIGJlIHJlc2l6ZWQgYXMgd2VsbD9cbiAgICAgKi9cbiAgICByZXNpemUod2lkdGgsIGhlaWdodCwgcmVzaXplQmFzZVRleHR1cmUgPSB0cnVlKVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcblxuICAgICAgICAvLyBUT0RPIC0gY291bGQgYmUgbm90IHJlcXVpcmVkLi5cbiAgICAgICAgdGhpcy52YWxpZCA9ICh3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCk7XG5cbiAgICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSB0aGlzLm9yaWcud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gdGhpcy5vcmlnLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlLCBidXQgZG9lcyBub3QgY2hhbmdlIGZyYW1lYnVmZmVyIHNpemUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSBuZXcgcmVzb2x1dGlvbiB0byBhcHBseSB0byBSZW5kZXJUZXh0dXJlXG4gICAgICovXG4gICAgc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBiYXNlVGV4dHVyZSB9ID0gdGhpcztcblxuICAgICAgICBpZiAoYmFzZVRleHR1cmUucmVzb2x1dGlvbiA9PT0gcmVzb2x1dGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5yZXNpemUoYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTEwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD0xMDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUob3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8vIGZhbGxiYWNrLCBvbGQtc3R5bGU6IGNyZWF0ZSh3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24pXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGFyZ3VtZW50c1sxXSxcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGFyZ3VtZW50c1syXSxcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBhcmd1bWVudHNbM10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShuZXcgQmFzZVJlbmRlclRleHR1cmUob3B0aW9ucykpO1xuICAgIH1cbn1cbiIsImltcG9ydCBSZW5kZXJUZXh0dXJlIGZyb20gJy4vUmVuZGVyVGV4dHVyZSc7XG5pbXBvcnQgQmFzZVJlbmRlclRleHR1cmUgZnJvbSAnLi9CYXNlUmVuZGVyVGV4dHVyZSc7XG5pbXBvcnQgeyBuZXh0UG93MiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBFeHBlcmltZW50YWwhXG4gKlxuICogVGV4dHVyZSBwb29sLCB1c2VkIGJ5IEZpbHRlclN5c3RlbSBhbmQgcGx1Z2luc1xuICogU3RvcmVzIGNvbGxlY3Rpb24gb2YgdGVtcG9yYXJ5IHBvdzIgb3Igc2NyZWVuLXNpemVkIHJlbmRlclRleHR1cmVzXG4gKlxuICogSWYgeW91IHVzZSBjdXN0b20gUmVuZGVyVGV4dHVyZVBvb2wgZm9yIHlvdXIgZmlsdGVycywgeW91IGNhbiB1c2UgbWV0aG9kc1xuICogYGdldEZpbHRlclRleHR1cmVgIGFuZCBgcmV0dXJuRmlsdGVyVGV4dHVyZWAgc2FtZSBhcyBpblxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyVGV4dHVyZVBvb2xcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3RleHR1cmVPcHRpb25zXSAtIG9wdGlvbnMgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byBCYXNlUmVuZGVyVGV4dHVyZSBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW3RleHR1cmVPcHRpb25zLnNjYWxlTW9kZV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dHVyZU9wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sID0ge307XG4gICAgICAgIHRoaXMudGV4dHVyZU9wdGlvbnMgPSB0ZXh0dXJlT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbG93IHJlbmRlclRleHR1cmVzIG9mIHRoZSBzYW1lIHNpemUgYXMgc2NyZWVuLCBub3QganVzdCBwb3cyXG4gICAgICAgICAqXG4gICAgICAgICAqIEF1dG9tYXRpY2FsbHkgc2V0cyB0byB0cnVlIGFmdGVyIGBzZXRTY3JlZW5TaXplYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbmFibGVGdWxsU2NyZWVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSAwO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNyZWF0ZXMgb2YgdGV4dHVyZSB3aXRoIHBhcmFtcyB0aGF0IHdlcmUgc3BlY2lmaWVkIGluIHBvb2wgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsV2lkdGggd2lkdGggb2YgdGV4dHVyZSBpbiBwaXhlbHNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCBoZWlnaHQgb2YgdGV4dHVyZSBpbiBwaXhlbHNcbiAgICAgKiBAcmV0dXJucyB7UmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBjcmVhdGVUZXh0dXJlKHJlYWxXaWR0aCwgcmVhbEhlaWdodClcbiAgICB7XG4gICAgICAgIGNvbnN0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IEJhc2VSZW5kZXJUZXh0dXJlKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgd2lkdGg6IHJlYWxXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogcmVhbEhlaWdodCxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgIH0sIHRoaXMudGV4dHVyZU9wdGlvbnMpKTtcblxuICAgICAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUgb3IgZnVsbFNjcmVlbiB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5IZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmUuXG4gICAgICovXG4gICAgZ2V0T3B0aW1hbFRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbiA9IDEpXG4gICAge1xuICAgICAgICBsZXQga2V5ID0gUmVuZGVyVGV4dHVyZVBvb2wuU0NSRUVOX0tFWTtcblxuICAgICAgICBtaW5XaWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBtaW5IZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRnVsbFNjcmVlbiB8fCBtaW5XaWR0aCAhPT0gdGhpcy5fcGl4ZWxzV2lkdGggfHwgbWluSGVpZ2h0ICE9PSB0aGlzLl9waXhlbHNIZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1pbldpZHRoID0gbmV4dFBvdzIobWluV2lkdGgpO1xuICAgICAgICAgICAgbWluSGVpZ2h0ID0gbmV4dFBvdzIobWluSGVpZ2h0KTtcbiAgICAgICAgICAgIGtleSA9ICgobWluV2lkdGggJiAweEZGRkYpIDw8IDE2KSB8IChtaW5IZWlnaHQgJiAweEZGRkYpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmVQb29sW2tleV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlbmRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sW2tleV0ucG9wKCk7XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5jcmVhdGVUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5ID0ga2V5O1xuICAgICAgICByZW5kZXJUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBleHRyYSB0ZXh0dXJlIG9mIHRoZSBzYW1lIHNpemUgYXMgaW5wdXQgcmVuZGVyVGV4dHVyZVxuICAgICAqXG4gICAgICogYGdldEZpbHRlclRleHR1cmUoaW5wdXQsIDAuNSlgIG9yIGBnZXRGaWx0ZXJUZXh0dXJlKDAuNSwgaW5wdXQpYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IHJlbmRlclRleHR1cmUgZnJvbSB3aGljaCBzaXplIGFuZCByZXNvbHV0aW9uIHdpbGwgYmUgY29waWVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBvdmVycmlkZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogIEl0IG92ZXJyaWRlcywgaXQgZG9lcyBub3QgbXVsdGlwbHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIGdldEZpbHRlclRleHR1cmUoaW5wdXQsIHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICBjb25zdCBmaWx0ZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24pO1xuXG4gICAgICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBpbnB1dC5maWx0ZXJGcmFtZTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQbGFjZSBhIHJlbmRlciB0ZXh0dXJlIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUZXh0dXJlIHRvIGZyZWVcbiAgICAgKi9cbiAgICByZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpXG4gICAge1xuICAgICAgICBjb25zdCBrZXkgPSByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXk7XG5cbiAgICAgICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XS5wdXNoKHJlbmRlclRleHR1cmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciByZXR1cm5UZXh0dXJlLCB0byBiZSBjb21wbGlhbnQgd2l0aCBGaWx0ZXJTeXN0ZW0gaW50ZXJmYWNlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGV4dHVyZSB0byBmcmVlXG4gICAgICovXG4gICAgcmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgcG9vbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveVRleHR1cmVzPXRydWVdIGRlc3Ryb3kgYWxsIHN0b3JlZCB0ZXh0dXJlc1xuICAgICAqL1xuICAgIGNsZWFyKGRlc3Ryb3lUZXh0dXJlcylcbiAgICB7XG4gICAgICAgIGRlc3Ryb3lUZXh0dXJlcyA9IGRlc3Ryb3lUZXh0dXJlcyAhPT0gZmFsc2U7XG4gICAgICAgIGlmIChkZXN0cm95VGV4dHVyZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnRleHR1cmVQb29sKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtpXTtcblxuICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRleHR1cmVQb29sID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgc2NyZWVuIHNpemUgd2FzIGNoYW5nZWQsIGRyb3BzIGFsbCBzY3JlZW4tc2l6ZWQgdGV4dHVyZXMsXG4gICAgICogc2V0cyBuZXcgc2NyZWVuIHNpemUsIHNldHMgYGVuYWJsZUZ1bGxTY3JlZW5gIHRvIHRydWVcbiAgICAgKlxuICAgICAqIFNpemUgaXMgbWVhc3VyZWQgaW4gcGl4ZWxzLCBgcmVuZGVyZXIudmlld2AgY2FuIGJlIHBhc3NlZCBoZXJlLCBub3QgYHJlbmRlcmVyLnNjcmVlbmBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JU2l6ZX0gc2l6ZSAtIEluaXRpYWwgc2l6ZSBvZiBzY3JlZW5cbiAgICAgKi9cbiAgICBzZXRTY3JlZW5TaXplKHNpemUpXG4gICAge1xuICAgICAgICBpZiAoc2l6ZS53aWR0aCA9PT0gdGhpcy5fcGl4ZWxzV2lkdGhcbiAgICAgICAgICAgICYmIHNpemUuaGVpZ2h0ID09PSB0aGlzLl9waXhlbHNIZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNjcmVlbktleSA9IFJlbmRlclRleHR1cmVQb29sLlNDUkVFTl9LRVk7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtzY3JlZW5LZXldO1xuXG4gICAgICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IHNpemUud2lkdGggPiAwICYmIHNpemUuaGVpZ2h0ID4gMDtcblxuICAgICAgICBpZiAodGV4dHVyZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV0gPSBbXTtcblxuICAgICAgICB0aGlzLl9waXhlbHNXaWR0aCA9IHNpemUud2lkdGg7XG4gICAgICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgIH1cbn1cblxuLyoqXG4gKiBLZXkgdGhhdCBpcyB1c2VkIHRvIHN0b3JlIGZ1bGxzY3JlZW4gcmVuZGVyVGV4dHVyZXMgaW4gYSBwb29sXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cblJlbmRlclRleHR1cmVQb29sLlNDUkVFTl9LRVkgPSAnc2NyZWVuJztcbiIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuLyoqXG4gKiBIb2xkcyB0aGUgaW5mb3JtYXRpb24gZm9yIGEgc2luZ2xlIGF0dHJpYnV0ZSBzdHJ1Y3R1cmUgcmVxdWlyZWQgdG8gcmVuZGVyIGdlb21ldHJ5LlxuICpcbiAqIFRoaXMgZG9lcyBub3QgY29udGFpbiB0aGUgYWN0dWFsIGRhdGEsIGJ1dCBpbnN0ZWFkIGhhcyBhIGJ1ZmZlciBpZCB0aGF0IG1hcHMgdG8gYSB7QGxpbmsgUElYSS5CdWZmZXJ9XG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdHRyaWJ1dGVcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnVmZmVyICB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdHJpZGU9MF0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkID0gZmFsc2UsIHR5cGUgPSA1MTI2LCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSlcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLm5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnN0cmlkZSA9IHN0cmlkZTtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEF0dHJpYnV0ZS5cbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGFuIEF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gcHJvdmlkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnVmZmVyICB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9Ml0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdHJpZGU9MF0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5BdHRyaWJ1dGV9IEEgbmV3IHtAbGluayBQSVhJLkF0dHJpYnV0ZX0gYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkXG4gICAgICovXG4gICAgc3RhdGljIGZyb20oYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZShidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcblxubGV0IFVJRCA9IDA7XG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbi8qKlxuICogQSB3cmFwcGVyIGZvciBkYXRhIHNvIHRoYXQgaXQgY2FuIGJlIHVzZWQgYW5kIHVwbG9hZGVkIGJ5IFdlYkdMXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWZmZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGRhdGEgdGhlIGRhdGEgdG8gc3RvcmUgaW4gdGhlIGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtfc3RhdGljPXRydWVdIGB0cnVlYCBmb3Igc3RhdGljIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luZGV4PWZhbHNlXSBgdHJ1ZWAgZm9yIGluZGV4IGJ1ZmZlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIF9zdGF0aWMgPSB0cnVlLCBpbmRleCA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIGluIHRoZSBidWZmZXIsIGFzIGEgdHlwZWQgYXJyYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgbmV3IEZsb2F0MzJBcnJheSgxKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIGJ1ZmZlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBHTEJ1ZmZlcj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9nbEJ1ZmZlcnMgPSB7fTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuXG4gICAgICAgIHRoaXMuc3RhdGljID0gX3N0YXRpYztcblxuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUJ1ZmZlcicsIDIpO1xuICAgIH1cblxuICAgIC8vIFRPRE8gY291bGQgZXhwbG9yZSBmbGFnZ2luZyBvbmx5IGEgcGFydGlhbCB1cGxvYWQ/XG4gICAgLyoqXG4gICAgICogZmxhZ3MgdGhpcyBidWZmZXIgYXMgcmVxdWlyaW5nIGFuIHVwbG9hZCB0byB0aGUgR1BVXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcnxTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IFtkYXRhXSB0aGUgZGF0YSB0byB1cGRhdGUgaW4gdGhlIGJ1ZmZlci5cbiAgICAgKi9cbiAgICB1cGRhdGUoZGF0YSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgdGhpcy5kYXRhO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLnJ1bih0aGlzLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGJ1ZmZlclxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYnVmZmVyIGJhc2VkIG9uIGFuIGFycmF5IG9yIFR5cGVkQXJyYXlcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyVmlldyB8IG51bWJlcltdfSBkYXRhIHRoZSBUeXBlZEFycmF5IHRoYXQgdGhlIGJ1ZmZlciB3aWxsIHN0b3JlLiBJZiB0aGlzIGlzIGEgcmVndWxhciBBcnJheSBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gQSBuZXcgQnVmZmVyIGJhc2VkIG9uIHRoZSBkYXRhIHByb3ZpZGVkLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKGRhdGEpXG4gICAge1xuICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICBkYXRhID0gbmV3IEZsb2F0MzJBcnJheShkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQnVmZmVyKGRhdGEpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpXG57XG4gICAgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSA0KVxuICAgIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ0Zsb2F0MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MzJBcnJheSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ0ludDMyQXJyYXknO1xuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMilcbiAgICB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQxNkFycmF5JztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMSlcbiAgICB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDhBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPIG1hcCBvdXQgdGhlIHJlc3Qgb2YgdGhlIGFycmF5IGVsZW1lbnRzIVxuICAgIHJldHVybiBudWxsO1xufVxuIiwiaW1wb3J0IGdldEJ1ZmZlclR5cGUgZnJvbSAnLi9nZXRCdWZmZXJUeXBlJztcblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xuY29uc3QgbWFwID0ge1xuICAgIEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LFxuICAgIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSxcbiAgICBJbnQzMkFycmF5OiBJbnQzMkFycmF5LFxuICAgIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXksXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcylcbntcbiAgICBsZXQgb3V0U2l6ZSA9IDA7XG4gICAgbGV0IHN0cmlkZSA9IDA7XG4gICAgY29uc3Qgdmlld3MgPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgc3RyaWRlICs9IHNpemVzW2ldO1xuICAgICAgICBvdXRTaXplICs9IGFycmF5c1tpXS5sZW5ndGg7XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcblxuICAgIGxldCBvdXQgPSBudWxsO1xuICAgIGxldCBsaXR0bGVPZmZzZXQgPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBjb25zdCBzaXplID0gc2l6ZXNbaV07XG4gICAgICAgIGNvbnN0IGFycmF5ID0gYXJyYXlzW2ldO1xuXG4gICAgICAgIGNvbnN0IHR5cGUgPSBnZXRCdWZmZXJUeXBlKGFycmF5KTtcblxuICAgICAgICBpZiAoIXZpZXdzW3R5cGVdKVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3c1t0eXBlXSA9IG5ldyBtYXBbdHlwZV0oYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJyYXkubGVuZ3RoOyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4U3RhcnQgPSAoKGogLyBzaXplIHwgMCkgKiBzdHJpZGUpICsgbGl0dGxlT2Zmc2V0O1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBqICUgc2l6ZTtcblxuICAgICAgICAgICAgb3V0W2luZGV4U3RhcnQgKyBpbmRleF0gPSBhcnJheVtqXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpdHRsZU9mZnNldCArPSBzaXplO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG4iLCJpbXBvcnQgQXR0cmlidXRlIGZyb20gJy4vQXR0cmlidXRlJztcbmltcG9ydCBCdWZmZXIgZnJvbSAnLi9CdWZmZXInO1xuaW1wb3J0IGludGVybGVhdmVUeXBlZEFycmF5cyBmcm9tICcuL3V0aWxzL2ludGVybGVhdmVUeXBlZEFycmF5cyc7XG5pbXBvcnQgZ2V0QnVmZmVyVHlwZSBmcm9tICcuL3V0aWxzL2dldEJ1ZmZlclR5cGUnO1xuaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcblxuY29uc3QgYnl0ZVNpemVNYXAgPSB7IDUxMjY6IDQsIDUxMjM6IDIsIDUxMjE6IDEgfTtcbmxldCBVSUQgPSAwO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG5jb25zdCBtYXAgPSB7XG4gICAgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksXG4gICAgVWludDMyQXJyYXk6IFVpbnQzMkFycmF5LFxuICAgIEludDMyQXJyYXk6IEludDMyQXJyYXksXG4gICAgVWludDhBcnJheTogVWludDhBcnJheSxcbiAgICBVaW50MTZBcnJheTogVWludDE2QXJyYXksXG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbi8qKlxuICogVGhlIEdlb21ldHJ5IHJlcHJlc2VudHMgYSBtb2RlbC4gSXQgY29uc2lzdHMgb2YgdHdvIGNvbXBvbmVudHM6XG4gKiAtIEdlb21ldHJ5U3R5bGUgLSBUaGUgc3RydWN0dXJlIG9mIHRoZSBtb2RlbCBzdWNoIGFzIHRoZSBhdHRyaWJ1dGVzIGxheW91dFxuICogLSBHZW9tZXRyeURhdGEgLSB0aGUgZGF0YSBvZiB0aGUgbW9kZWwgLSB0aGlzIGNvbnNpc3RzIG9mIGJ1ZmZlcnMuXG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKlxuICogR2VvbWV0cnkgY2FuIGJlIGRlZmluZWQgd2l0aG91dCBwYXNzaW5nIGluIGEgc3R5bGUgb3IgZGF0YSBpZiByZXF1aXJlZCAodGhhdHMgaG93IEkgcHJlZmVyISlcbiAqXG4gKiBgYGBqc1xuICogbGV0IGdlb21ldHJ5ID0gbmV3IFBJWEkuR2VvbWV0cnkoKTtcbiAqXG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9ucycsIFswLCAwLCAxMDAsIDAsIDEwMCwgMTAwLCAwLCAxMDBdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgndXZzJywgWzAsMCwxLDAsMSwxLDAsMV0sMilcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pXG4gKlxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdlb21ldHJ5XG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcltdfSBbYnVmZmVyc10gIGFuIGFycmF5IG9mIGJ1ZmZlcnMuIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbYXR0cmlidXRlc10gb2YgdGhlIGdlb21ldHJ5LCBvcHRpb25hbCBzdHJ1Y3R1cmUgb2YgdGhlIGF0dHJpYnV0ZXMgbGF5b3V0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYnVmZmVycyA9IFtdLCBhdHRyaWJ1dGVzID0ge30pXG4gICAge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBidWZmZXJzO1xuXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBWQU9zXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xWZXJ0ZXhBcnJheU9iamVjdHMgPSB7fTtcblxuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG5cbiAgICAgICAgdGhpcy5pbnN0YW5jZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGluc3RhbmNlcyBpbiB0aGlzIGdlb21ldHJ5LCBwYXNzIGl0IHRvIGBHZW9tZXRyeVN5c3RlbS5kcmF3KClgXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnN0YW5jZUNvdW50ID0gMTtcblxuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlR2VvbWV0cnknLCAyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ291bnQgb2YgZXhpc3RpbmcgKG5vdCBkZXN0cm95ZWQpIG1lc2hlcyB0aGF0IHJlZmVyZW5jZSB0aGlzIGdlb21ldHJ5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVmQ291bnQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICpcbiAgICAqIEFkZHMgYW4gYXR0cmlidXRlIHRvIHRoZSBnZW9tZXRyeVxuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgKG1hdGNoaW5nIHVwIHRvIGEgc2hhZGVyKVxuICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gW2J1ZmZlcl0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBhdHRyaWJ1dGUgLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyXG4gICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtub3JtYWxpemVkPWZhbHNlXSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZT0wXSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0PTBdIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICpcbiAgICAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAqL1xuICAgIGFkZEF0dHJpYnV0ZShpZCwgYnVmZmVyLCBzaXplLCBub3JtYWxpemVkID0gZmFsc2UsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlID0gZmFsc2UpXG4gICAge1xuICAgICAgICBpZiAoIWJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwYXNzIGEgYnVmZmVyIHdoZW4gY3JlYXRpbmcgYW4gYXR0cmlidXRlJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiB0aGlzIGlzIGEgYnVmZmVyIVxuICAgICAgICBpZiAoIWJ1ZmZlci5kYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpdHMgYW4gYXJyYXkhXG4gICAgICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpZHMgPSBpZC5zcGxpdCgnfCcpO1xuXG4gICAgICAgIGlmIChpZHMubGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoaWRzW2ldLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcik7XG5cbiAgICAgICAgaWYgKGJ1ZmZlckluZGV4ID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgICAgIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXNbaWRdID0gbmV3IEF0dHJpYnV0ZShidWZmZXJJbmRleCwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlLCBzdGFydCwgaW5zdGFuY2UpO1xuXG4gICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgaWYgdGhlcmUgaXMgaW5zdGFuY2VkIGRhdGEgdGhlbiB0aGlzIHdpbGwgYmUgZHJhd24gd2l0aCBpbnN0YW5jaW5nIVxuICAgICAgICB0aGlzLmluc3RhbmNlZCA9IHRoaXMuaW5zdGFuY2VkIHx8IGluc3RhbmNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHJlcXVlc3RlZCBhdHRyaWJ1dGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuQXR0cmlidXRlfSB0aGUgYXR0cmlidXRlIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBnZXRBdHRyaWJ1dGUoaWQpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2lkXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSByZXF1ZXN0ZWQgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgIHRoZSBuYW1lIG9mIHRoZSBidWZmZXIgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGJ1ZmZlciByZXF1ZXN0ZWQuXG4gICAgICovXG4gICAgZ2V0QnVmZmVyKGlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1t0aGlzLmdldEF0dHJpYnV0ZShpZCkuYnVmZmVyXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBBZGRzIGFuIGluZGV4IGJ1ZmZlciB0byB0aGUgZ2VvbWV0cnlcbiAgICAqIFRoZSBpbmRleCBidWZmZXIgY29udGFpbnMgaW50ZWdlcnMsIHRocmVlIGZvciBlYWNoIHRyaWFuZ2xlIGluIHRoZSBnZW9tZXRyeSwgd2hpY2ggcmVmZXJlbmNlIHRoZSB2YXJpb3VzIGF0dHJpYnV0ZSBidWZmZXJzIChwb3NpdGlvbiwgY29sb3VyLCBVViBjb29yZGluYXRlcywgb3RoZXIgVVYgY29vcmRpbmF0ZXMsIG5vcm1hbCwg4oCmKS4gVGhlcmUgaXMgb25seSBPTkUgaW5kZXggYnVmZmVyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ9IFtidWZmZXJdIHRoZSBidWZmZXIgdGhhdCBob2xkcyB0aGUgZGF0YSBvZiB0aGUgaW5kZXggYnVmZmVyLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4gICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgKi9cbiAgICBhZGRJbmRleChidWZmZXIpXG4gICAge1xuICAgICAgICBpZiAoIWJ1ZmZlci5kYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpdHMgYW4gYXJyYXkhXG4gICAgICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBidWZmZXI7XG5cbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcikgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgaW5kZXggYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGluZGV4IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBnZXRJbmRleCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleEJ1ZmZlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIG1vZGlmaWVzIHRoZSBzdHJ1Y3R1cmUgc28gdGhhdCBhbGwgY3VycmVudCBhdHRyaWJ1dGVzIGJlY29tZSBpbnRlcmxlYXZlZCBpbnRvIGEgc2luZ2xlIGJ1ZmZlclxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBpZiB5b3VyIG1vZGVsIHJlbWFpbnMgc3RhdGljIGFzIGl0IG9mZmVycyBhIGxpdHRsZSBwZXJmb3JtYW5jZSBib29zdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGludGVybGVhdmUoKVxuICAgIHtcbiAgICAgICAgLy8gYSBzaW1wbGUgY2hlY2sgdG8gc2VlIGlmIGJ1ZmZlcnMgYXJlIGFscmVhZHkgaW50ZXJsZWF2ZWQuLlxuICAgICAgICBpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMSB8fCAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMiAmJiB0aGlzLmluZGV4QnVmZmVyKSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgLy8gYXNzdW1lIGFscmVhZHkgdGhhdCBubyBidWZmZXJzIGFyZSBpbnRlcmxlYXZlZFxuICAgICAgICBjb25zdCBhcnJheXMgPSBbXTtcbiAgICAgICAgY29uc3Qgc2l6ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgaW50ZXJsZWF2ZWRCdWZmZXIgPSBuZXcgQnVmZmVyKCk7XG4gICAgICAgIGxldCBpO1xuXG4gICAgICAgIGZvciAoaSBpbiB0aGlzLmF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcblxuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5idWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuXG4gICAgICAgICAgICBhcnJheXMucHVzaChidWZmZXIuZGF0YSk7XG5cbiAgICAgICAgICAgIHNpemVzLnB1c2goKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKSAvIDQpO1xuXG4gICAgICAgICAgICBhdHRyaWJ1dGUuYnVmZmVyID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGludGVybGVhdmVkQnVmZmVyLmRhdGEgPSBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcyk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyc1tpXSAhPT0gdGhpcy5pbmRleEJ1ZmZlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5idWZmZXJzID0gW2ludGVybGVhdmVkQnVmZmVyXTtcblxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2godGhpcy5pbmRleEJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRTaXplKClcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcblxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5kYXRhLmxlbmd0aCAvICgoYXR0cmlidXRlLnN0cmlkZSAvIDQpIHx8IGF0dHJpYnV0ZS5zaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLnJ1bih0aGlzLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgdGhpcy5idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgY2xvbmUgb2YgdGhlIGdlb21ldHJ5XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gYSBuZXcgY2xvbmUgb2YgdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LmJ1ZmZlcnNbaV0gPSBuZXcgQnVmZmVyKHRoaXMuYnVmZmVyc1tpXS5kYXRhLnNsaWNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMuYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuXG4gICAgICAgICAgICBnZW9tZXRyeS5hdHRyaWJ1dGVzW2ldID0gbmV3IEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICBhdHRyaWIuYnVmZmVyLFxuICAgICAgICAgICAgICAgIGF0dHJpYi5zaXplLFxuICAgICAgICAgICAgICAgIGF0dHJpYi5ub3JtYWxpemVkLFxuICAgICAgICAgICAgICAgIGF0dHJpYi50eXBlLFxuICAgICAgICAgICAgICAgIGF0dHJpYi5zdHJpZGUsXG4gICAgICAgICAgICAgICAgYXR0cmliLnN0YXJ0LFxuICAgICAgICAgICAgICAgIGF0dHJpYi5pbnN0YW5jZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbdGhpcy5idWZmZXJzLmluZGV4T2YodGhpcy5pbmRleEJ1ZmZlcildO1xuICAgICAgICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG1lcmdlcyBhbiBhcnJheSBvZiBnZW9tZXRyaWVzIGludG8gYSBuZXcgc2luZ2xlIG9uZVxuICAgICAqIGdlb21ldHJ5IGF0dHJpYnV0ZSBzdHlsZXMgbXVzdCBtYXRjaCBmb3IgdGhpcyBvcGVyYXRpb24gdG8gd29ya1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5W119IGdlb21ldHJpZXMgYXJyYXkgb2YgZ2VvbWV0cmllcyB0byBtZXJnZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdlb21ldHJ5fSBzaGlueSBuZXcgZ2VvbWV0cnkhXG4gICAgICovXG4gICAgc3RhdGljIG1lcmdlKGdlb21ldHJpZXMpXG4gICAge1xuICAgICAgICAvLyB0b2RvIGFkZCBhIGdlb21ldHJ5IGNoZWNrIVxuICAgICAgICAvLyBhbHNvIGEgc2l6ZSBjaGVjay4uIGNhbnQgYmUgdG9vIGJpZyFdXG5cbiAgICAgICAgY29uc3QgZ2VvbWV0cnlPdXQgPSBuZXcgR2VvbWV0cnkoKTtcblxuICAgICAgICBjb25zdCBhcnJheXMgPSBbXTtcbiAgICAgICAgY29uc3Qgc2l6ZXMgPSBbXTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0cyA9IFtdO1xuXG4gICAgICAgIGxldCBnZW9tZXRyeTtcblxuICAgICAgICAvLyBwYXNzIG9uZS4uIGdldCBzaXplcy4uXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2l6ZXNbal0gPSBzaXplc1tqXSB8fCAwO1xuICAgICAgICAgICAgICAgIHNpemVzW2pdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgb2Zmc2V0c1tqXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBidWlsZCB0aGUgY29ycmVjdCBzaXplIGFycmF5cy4uXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyB0eXBlcyFcbiAgICAgICAgICAgIGFycmF5c1tpXSA9IG5ldyBtYXBbZ2V0QnVmZmVyVHlwZShnZW9tZXRyeS5idWZmZXJzW2ldLmRhdGEpXShzaXplc1tpXSk7XG4gICAgICAgICAgICBnZW9tZXRyeU91dC5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcihhcnJheXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFzcyB0byBzZXQgZGF0YS4uXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXJyYXlzW2pdLnNldChnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEsIG9mZnNldHNbal0pO1xuICAgICAgICAgICAgICAgIG9mZnNldHNbal0gKz0gZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdlb21ldHJ5T3V0LmF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuXG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIgPSBnZW9tZXRyeU91dC5idWZmZXJzW2dlb21ldHJ5LmJ1ZmZlcnMuaW5kZXhPZihnZW9tZXRyeS5pbmRleEJ1ZmZlcildO1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGxldCBzdHJpZGUgPSAwO1xuICAgICAgICAgICAgbGV0IG9mZnNldDIgPSAwO1xuICAgICAgICAgICAgbGV0IGJ1ZmZlckluZGV4VG9Db3VudCA9IDA7XG5cbiAgICAgICAgICAgIC8vIGdldCBhIGJ1ZmZlclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChnZW9tZXRyeS5idWZmZXJzW2ldICE9PSBnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlckluZGV4VG9Db3VudCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZmlndXJlIG91dCB0aGUgc3RyaWRlIG9mIG9uZSBidWZmZXIuLlxuICAgICAgICAgICAgZm9yIChjb25zdCBpIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1tpXTtcblxuICAgICAgICAgICAgICAgIGlmICgoYXR0cmlidXRlLmJ1ZmZlciB8IDApID09PSBidWZmZXJJbmRleFRvQ291bnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdHJpZGUgKz0gKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkgLyA0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRpbWUgdG8gb2ZmIHNldCBhbGwgaW5kZXhlcy4uXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXhCdWZmZXJEYXRhID0gZ2VvbWV0cmllc1tpXS5pbmRleEJ1ZmZlci5kYXRhO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlci5kYXRhW2ogKyBvZmZzZXQyXSArPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGdlb21ldHJ5LmJ1ZmZlcnNbYnVmZmVySW5kZXhUb0NvdW50XS5kYXRhLmxlbmd0aCAvIChzdHJpZGUpO1xuICAgICAgICAgICAgICAgIG9mZnNldDIgKz0gaW5kZXhCdWZmZXJEYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZW9tZXRyeU91dDtcbiAgICB9XG59XG4iLCJpbXBvcnQgR2VvbWV0cnkgZnJvbSAnLi4vZ2VvbWV0cnkvR2VvbWV0cnknO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWFkIGV4dGVuZHMgR2VvbWV0cnlcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxLFxuICAgICAgICBdKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAzLCAyXSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IEdlb21ldHJ5IGZyb20gJy4uL2dlb21ldHJ5L0dlb21ldHJ5JztcbmltcG9ydCBCdWZmZXIgZnJvbSAnLi4vZ2VvbWV0cnkvQnVmZmVyJztcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZCB3aXRoIHV2cyBsaWtlIGluIHY0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWFkVXYgZXh0ZW5kcyBHZW9tZXRyeVxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0xLCAtMSxcbiAgICAgICAgICAgIDEsIC0xLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIC0xLCAxLFxuICAgICAgICBdKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFV2cyBvZiB0aGUgcXVhZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgMCwgMSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMudmVydGljZXMpO1xuICAgICAgICB0aGlzLnV2QnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnV2cyk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHRoaXMudmVydGV4QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHRoaXMudXZCdWZmZXIpXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDIsIDAsIDIsIDNdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHR3byBSZWN0YW5nbGUgdG8gdGhlIHF1YWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSB0YXJnZXRUZXh0dXJlRnJhbWUgLSB0aGUgZmlyc3QgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIHRoZSBzZWNvbmQgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5RdWFkfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBtYXAodGFyZ2V0VGV4dHVyZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKVxuICAgIHtcbiAgICAgICAgbGV0IHggPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGg7XG4gICAgICAgIGxldCB5ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS55IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcblxuICAgICAgICB0aGlzLnV2c1swXSA9IHg7XG4gICAgICAgIHRoaXMudXZzWzFdID0geTtcblxuICAgICAgICB0aGlzLnV2c1syXSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzNdID0geTtcblxuICAgICAgICB0aGlzLnV2c1s0XSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzVdID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMudXZzWzZdID0geDtcbiAgICAgICAgdGhpcy51dnNbN10gPSB5ICsgKGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgeCA9IGRlc3RpbmF0aW9uRnJhbWUueDtcbiAgICAgICAgeSA9IGRlc3RpbmF0aW9uRnJhbWUueTtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWzBdID0geDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1sxXSA9IHk7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1syXSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzNdID0geTtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWzRdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMudmVydGljZXNbNV0gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s2XSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbGVnYWN5IHVwbG9hZCBtZXRob2QsIGp1c3QgbWFya3MgYnVmZmVycyBkaXJ0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlF1YWRVdn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgaW52YWxpZGF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5fdXBkYXRlSUQrKztcbiAgICAgICAgdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4iLCJsZXQgVUlEID0gMDtcblxuLyoqXG4gKiBVbmlmb3JtIGdyb3VwIGhvbGRzIHVuaWZvcm0gbWFwIGFuZCBzb21lIElEJ3MgZm9yIHdvcmtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmNsYXNzIFVuaWZvcm1Hcm91cFxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW19zdGF0aWNdIC0gVW5pZm9ybXMgd29udCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodW5pZm9ybXMsIF9zdGF0aWMpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogdW5pZm9ybSB2YWx1ZXNcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybXMgPSB1bmlmb3JtcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogSXRzIGEgZ3JvdXAgYW5kIG5vdCBhIHNpbmdsZSB1bmlmb3Jtc1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ncm91cCA9IHRydWU7XG5cbiAgICAgICAgLy8gbGV0cyBnZW5lcmF0ZSB0aGlzIHdoZW4gdGhlIHNoYWRlciA/XG4gICAgICAgIHRoaXMuc3luY1VuaWZvcm1zID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRpcnR5IHZlcnNpb25cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlxdWUgaWRcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaWZvcm1zIHdvbnQgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWMgPSAhIV9zdGF0aWM7XG4gICAgfVxuXG4gICAgdXBkYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIH1cblxuICAgIGFkZChuYW1lLCB1bmlmb3JtcywgX3N0YXRpYylcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXNbbmFtZV0gPSBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbSh1bmlmb3JtcywgX3N0YXRpYylcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVuaWZvcm1Hcm91cDtcbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcblxuaW1wb3J0IFJlbmRlclRleHR1cmVQb29sIGZyb20gJy4uL3JlbmRlclRleHR1cmUvUmVuZGVyVGV4dHVyZVBvb2wnO1xuaW1wb3J0IFF1YWQgZnJvbSAnLi4vdXRpbHMvUXVhZCc7XG5pbXBvcnQgUXVhZFV2IGZyb20gJy4uL3V0aWxzL1F1YWRVdic7XG5pbXBvcnQgeyBSZWN0YW5nbGUsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IFVuaWZvcm1Hcm91cCBmcm9tICcuLi9zaGFkZXIvVW5pZm9ybUdyb3VwJztcbmltcG9ydCB7IERSQVdfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBmaWx0ZXIgc3RhdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgRmlsdGVyU3RhdGVcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYXJnZXQgb2YgdGhlIGZpbHRlcnNcbiAgICAgICAgICogV2Ugc3RvcmUgZm9yIGNhc2Ugd2hlbiBjdXN0b20gZmlsdGVyIHdhbnRzIHRvIGtub3cgdGhlIGVsZW1lbnQgaXQgd2FzIGFwcGxpZWQgb25cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wYXRpYmlsaXR5IHdpdGggUGl4aUpTIHY0IGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVnYWN5ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc29sdXRpb24gb2YgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG5cbiAgICAgICAgLy8gbmV4dCB0aHJlZSBmaWVsZHMgYXJlIGNyZWF0ZWQgb25seSBmb3Igcm9vdFxuICAgICAgICAvLyByZS1hc3NpZ25lZCBmb3IgZXZlcnl0aGluZyBlbHNlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVycyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNsZWFycyB0aGUgc3RhdGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNsZWFyKClcbiAgICB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcbiAgICB9XG59XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBmaWx0ZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmlsdGVyU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgZmlsdGVycyBmb3IgdGhlIEZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjayA9IFt7fV07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHN0b3JlcyBhIGJ1bmNoIG9mIFBPMiB0ZXh0dXJlcyB1c2VkIGZvciBmaWx0ZXJpbmdcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbCA9IG5ldyBSZW5kZXJUZXh0dXJlUG9vbCgpO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuc2V0U2NyZWVuU2l6ZShyZW5kZXJlci52aWV3KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYSBwb29sIGZvciBzdG9yaW5nIGZpbHRlciBzdGF0ZXMsIHNhdmUgdXMgY3JlYXRpbmcgbmV3IG9uZXMgZWFjaCB0aWNrXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZVBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB2ZXJ5IHNpbXBsZSBnZW9tZXRyeSB1c2VkIHdoZW4gZHJhd2luZyBhIGZpbHRlciBlZmZlY3QgdG8gdGhlIHNjcmVlblxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlF1YWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnF1YWQgPSBuZXcgUXVhZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBRdWFkIFVWc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlF1YWRVdn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVhZFV2ID0gbmV3IFF1YWRVdigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZW1wb3JhcnkgcmVjdCBmb3IgbWF0aHNcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZlIHN0YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB1bmlmb3JtIGdyb3VwIGlzIGF0dGFjaGVkIHRvIGZpbHRlciB1bmlmb3JtcyB3aGVuIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SZWN0YW5nbGV9IG91dHB1dEZyYW1lXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dFNpemVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0UGl4ZWxcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0Q2xhbXBcbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHJlc29sdXRpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGZpbHRlckFyZWFcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hZDMyQXJyYXl9IGZpbHRlckNsYW1wXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICAgICAgICBvdXRwdXRGcmFtZTogdGhpcy50ZW1wUmVjdCxcbiAgICAgICAgICAgIGlucHV0U2l6ZTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0UGl4ZWw6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBpbnB1dENsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcblxuICAgICAgICAgICAgLy8gbGVnYWN5IHZhcmlhYmxlc1xuICAgICAgICAgICAgZmlsdGVyQXJlYTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGZpbHRlckNsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICB0aGlzLl9waXhlbHNXaWR0aCA9IHJlbmRlcmVyLnZpZXcud2lkdGg7XG4gICAgICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IHJlbmRlcmVyLnZpZXcuaGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgZmlsdGVyIHRvIHRoZSBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gVGhlIHRhcmdldCBvZiB0aGUgZmlsdGVyIHRvIHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyW119IGZpbHRlcnMgLSBUaGUgZmlsdGVycyB0byBhcHBseS5cbiAgICAgKi9cbiAgICBwdXNoKHRhcmdldCwgZmlsdGVycylcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgY29uc3QgZmlsdGVyU3RhY2sgPSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjaztcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlUG9vbC5wb3AoKSB8fCBuZXcgRmlsdGVyU3RhdGUoKTtcblxuICAgICAgICBsZXQgcmVzb2x1dGlvbiA9IGZpbHRlcnNbMF0ucmVzb2x1dGlvbjtcbiAgICAgICAgbGV0IHBhZGRpbmcgPSBmaWx0ZXJzWzBdLnBhZGRpbmc7XG4gICAgICAgIGxldCBhdXRvRml0ID0gZmlsdGVyc1swXS5hdXRvRml0O1xuICAgICAgICBsZXQgbGVnYWN5ID0gZmlsdGVyc1swXS5sZWdhY3k7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXIgPSAgZmlsdGVyc1tpXTtcblxuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGxvd2VzdCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBNYXRoLm1pbihyZXNvbHV0aW9uLCBmaWx0ZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAvLyBhbmQgdGhlIGxhcmdlc3QgYW1vdW50IG9mIHBhZGRpbmchXG4gICAgICAgICAgICBwYWRkaW5nID0gTWF0aC5tYXgocGFkZGluZywgZmlsdGVyLnBhZGRpbmcpO1xuICAgICAgICAgICAgLy8gb25seSBhdXRvIGZpdCBpZiBhbGwgZmlsdGVycyBhcmUgYXV0b2ZpdFxuICAgICAgICAgICAgYXV0b0ZpdCA9IGF1dG9GaXQgfHwgZmlsdGVyLmF1dG9GaXQ7XG5cbiAgICAgICAgICAgIGxlZ2FjeSA9IGxlZ2FjeSB8fCBmaWx0ZXIubGVnYWN5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlclN0YWNrLmxlbmd0aCA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2tbMF0ucmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpbHRlclN0YWNrLnB1c2goc3RhdGUpO1xuXG4gICAgICAgIHN0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIHN0YXRlLmxlZ2FjeSA9IGxlZ2FjeTtcblxuICAgICAgICBzdGF0ZS50YXJnZXQgPSB0YXJnZXQ7XG5cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY29weUZyb20odGFyZ2V0LmZpbHRlckFyZWEgfHwgdGFyZ2V0LmdldEJvdW5kcyh0cnVlKSk7XG5cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUucGFkKHBhZGRpbmcpO1xuICAgICAgICBpZiAoYXV0b0ZpdClcbiAgICAgICAge1xuICAgICAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuZml0KHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByb3VuZCB0byB3aG9sZSBudW1iZXIgYmFzZWQgb24gcmVzb2x1dGlvblxuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5jZWlsKHJlc29sdXRpb24pO1xuXG4gICAgICAgIHN0YXRlLnJlbmRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoLCBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24pO1xuICAgICAgICBzdGF0ZS5maWx0ZXJzID0gZmlsdGVycztcblxuICAgICAgICBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc3RhdGUucmVuZGVyVGV4dHVyZS53aWR0aDtcbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICBzdGF0ZS5yZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gc3RhdGUuc291cmNlRnJhbWU7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHN0YXRlLnJlbmRlclRleHR1cmUsIHN0YXRlLnNvdXJjZUZyYW1lKTsvLyAvLCBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBvcHMgb2ZmIHRoZSBmaWx0ZXIgYW5kIGFwcGxpZXMgaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBwb3AoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZmlsdGVyU3RhY2sgPSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjaztcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBmaWx0ZXJTdGFjay5wb3AoKTtcbiAgICAgICAgY29uc3QgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnM7XG5cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZSA9IHN0YXRlO1xuXG4gICAgICAgIGNvbnN0IGdsb2JhbFVuaWZvcm1zID0gdGhpcy5nbG9iYWxVbmlmb3Jtcy51bmlmb3JtcztcblxuICAgICAgICBnbG9iYWxVbmlmb3Jtcy5vdXRwdXRGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICBnbG9iYWxVbmlmb3Jtcy5yZXNvbHV0aW9uID0gc3RhdGUucmVzb2x1dGlvbjtcblxuICAgICAgICBjb25zdCBpbnB1dFNpemUgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFNpemU7XG4gICAgICAgIGNvbnN0IGlucHV0UGl4ZWwgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFBpeGVsO1xuICAgICAgICBjb25zdCBpbnB1dENsYW1wID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRDbGFtcDtcblxuICAgICAgICBpbnB1dFNpemVbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICBpbnB1dFNpemVbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgaW5wdXRTaXplWzJdID0gMS4wIC8gaW5wdXRTaXplWzBdO1xuICAgICAgICBpbnB1dFNpemVbM10gPSAxLjAgLyBpbnB1dFNpemVbMV07XG5cbiAgICAgICAgaW5wdXRQaXhlbFswXSA9IGlucHV0U2l6ZVswXSAqIHN0YXRlLnJlc29sdXRpb247XG4gICAgICAgIGlucHV0UGl4ZWxbMV0gPSBpbnB1dFNpemVbMV0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzJdID0gMS4wIC8gaW5wdXRQaXhlbFswXTtcbiAgICAgICAgaW5wdXRQaXhlbFszXSA9IDEuMCAvIGlucHV0UGl4ZWxbMV07XG5cbiAgICAgICAgaW5wdXRDbGFtcFswXSA9IDAuNSAqIGlucHV0UGl4ZWxbMl07XG4gICAgICAgIGlucHV0Q2xhbXBbMV0gPSAwLjUgKiBpbnB1dFBpeGVsWzNdO1xuICAgICAgICBpbnB1dENsYW1wWzJdID0gKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoICogaW5wdXRTaXplWzJdKSAtICgwLjUgKiBpbnB1dFBpeGVsWzJdKTtcbiAgICAgICAgaW5wdXRDbGFtcFszXSA9IChzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQgKiBpbnB1dFNpemVbM10pIC0gKDAuNSAqIGlucHV0UGl4ZWxbM10pO1xuXG4gICAgICAgIC8vIG9ubHkgdXBkYXRlIHRoZSByZWN0IGlmIGl0cyBsZWdhY3kuLlxuICAgICAgICBpZiAoc3RhdGUubGVnYWN5KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJBcmVhID0gZ2xvYmFsVW5pZm9ybXMuZmlsdGVyQXJlYTtcblxuICAgICAgICAgICAgZmlsdGVyQXJlYVswXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzJdID0gc3RhdGUuc291cmNlRnJhbWUueDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbM10gPSBzdGF0ZS5zb3VyY2VGcmFtZS55O1xuXG4gICAgICAgICAgICBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zLnVwZGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGxhc3RTdGF0ZSA9IGZpbHRlclN0YWNrW2ZpbHRlclN0YWNrLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBzdGF0ZS5yZW5kZXJUZXh0dXJlLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgZmFsc2UsIHN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKHN0YXRlLnJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGZsaXAgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlO1xuICAgICAgICAgICAgbGV0IGZsb3AgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKFxuICAgICAgICAgICAgICAgIGZsaXAud2lkdGgsXG4gICAgICAgICAgICAgICAgZmxpcC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgc3RhdGUucmVzb2x1dGlvblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZmxvcC5maWx0ZXJGcmFtZSA9IGZsaXAuZmlsdGVyRnJhbWU7XG5cbiAgICAgICAgICAgIGxldCBpID0gMDtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoIC0gMTsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgZmxvcCwgdHJ1ZSwgc3RhdGUpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGZsaXA7XG5cbiAgICAgICAgICAgICAgICBmbGlwID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgZmFsc2UsIHN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsaXApO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZVBvb2wucHVzaChzdGF0ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICAgKi9cbiAgICBhcHBseUZpbHRlcihmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChvdXRwdXQsIG91dHB1dCA/IG91dHB1dC5maWx0ZXJGcmFtZSA6IG51bGwpO1xuXG4gICAgICAgIGlmIChjbGVhcilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgICAgICAgICAgLy8gZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIHVuaWZvcm1zLi5cbiAgICAgICAgZmlsdGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gaW5wdXQ7XG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy5maWx0ZXJHbG9iYWxzID0gdGhpcy5nbG9iYWxVbmlmb3JtcztcblxuICAgICAgICAvLyBUT0RPIG1ha2UgaXQgc28gdGhhdCB0aGUgb3JkZXIgb2YgdGhpcyBkb2VzIG5vdCBtYXR0ZXIuLlxuICAgICAgICAvLyBiZWNhdXNlIGl0IGRvZXMgYXQgdGhlIG1vbWVudCBjb3Mgb2YgZ2xvYmFsIHVuaWZvcm1zLlxuICAgICAgICAvLyB0aGV5IG5lZWQgdG8gZ2V0IHJlc3luY2VkXG5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KGZpbHRlci5zdGF0ZSk7XG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKGZpbHRlcik7XG5cbiAgICAgICAgaWYgKGZpbHRlci5sZWdhY3kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucXVhZFV2Lm1hcChpbnB1dC5fZnJhbWUsIGlucHV0LmZpbHRlckZyYW1lKTtcblxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWRVdik7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5xdWFkKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRV9TVFJJUCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSBfaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlc18gdG8gdGhpcyBtYXRyaXggdG8gZ2V0IF9zcHJpdGUgdGV4dHVyZSBub3JtYWxpemVkIGNvb3JkaW5hdGVzXy5cbiAgICAgKlxuICAgICAqIFVzZSBgb3V0cHV0TWF0cml4ICogdlRleHR1cmVDb29yZGAgaW4gdGhlIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIFRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIFRoZSBzcHJpdGUgdG8gbWFwIHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgKi9cbiAgICBjYWxjdWxhdGVTcHJpdGVNYXRyaXgob3V0cHV0TWF0cml4LCBzcHJpdGUpXG4gICAge1xuICAgICAgICBjb25zdCB7IHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lIH0gPSB0aGlzLmFjdGl2ZVN0YXRlO1xuICAgICAgICBjb25zdCB7IG9yaWcgfSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgY29uc3QgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LnNldChkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCAwLCAwLFxuICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQsIHNvdXJjZUZyYW1lLngsIHNvdXJjZUZyYW1lLnkpO1xuICAgICAgICBjb25zdCB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LlRFTVBfTUFUUklYKTtcblxuICAgICAgICB3b3JsZFRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUoMS4wIC8gb3JpZy53aWR0aCwgMS4wIC8gb3JpZy5oZWlnaHQpO1xuICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNwcml0ZS5hbmNob3IueCwgc3ByaXRlLmFuY2hvci55KTtcblxuICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgRmlsdGVyIFN5c3RlbS5cbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIC8vIFRob3NlIHRleHR1cmVzIGhhcyB0byBiZSBkZXN0cm95ZWQgYnkgUmVuZGVyVGV4dHVyZVN5c3RlbSBvciBGcmFtZWJ1ZmZlclN5c3RlbVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICAgICAqL1xuICAgIGdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24gPSAxKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBleHRyYSByZW5kZXIgdGV4dHVyZSB0byB1c2UgaW5zaWRlIGN1cnJlbnQgZmlsdGVyXG4gICAgICogVG8gYmUgY29tcGxpYW50IHdpdGggb2xkZXIgZmlsdGVycywgeW91IGNhbiB1c2UgcGFyYW1zIGluIGFueSBvcmRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtpbnB1dF0gcmVuZGVyVGV4dHVyZSBmcm9tIHdoaWNoIHNpemUgYW5kIHJlc29sdXRpb24gd2lsbCBiZSBjb3BpZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIG92ZXJyaWRlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlclRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIGdldEZpbHRlclRleHR1cmUoaW5wdXQsIHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3dhcCA9IGlucHV0O1xuXG4gICAgICAgICAgICBpbnB1dCA9IHJlc29sdXRpb247XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc3dhcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0ID0gaW5wdXQgfHwgdGhpcy5hY3RpdmVTdGF0ZS5yZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIGNvbnN0IGZpbHRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQsIHJlc29sdXRpb24gfHwgaW5wdXQucmVzb2x1dGlvbik7XG5cbiAgICAgICAgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IGlucHV0LmZpbHRlckZyYW1lO1xuXG4gICAgICAgIHJldHVybiBmaWx0ZXJUZXh0dXJlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZyZWVzIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGFyZ2V0IHRvIGZyZWVcbiAgICAgKi9cbiAgICByZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRleHR1cmUpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnJldHVyblRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW1wdGllcyB0aGUgdGV4dHVyZSBwb29sLlxuICAgICAqL1xuICAgIGVtcHR5UG9vbCgpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNhbGxzIGB0ZXh0dXJlUG9vbC5yZXNpemUoKWAsIGFmZmVjdHMgZnVsbFNjcmVlbiByZW5kZXJUZXh0dXJlc1xuICAgICAqL1xuICAgIHJlc2l6ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUodGhpcy5yZW5kZXJlci52aWV3KTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEJhc2UgZm9yIGEgY29tbW9uIG9iamVjdCByZW5kZXJlciB0aGF0IGNhbiBiZSB1c2VkIGFzIGFcbiAqIHN5c3RlbSByZW5kZXJlciBwbHVnaW4uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JqZWN0UmVuZGVyZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3R1YiBtZXRob2QgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBlbXB0eSB0aGUgY3VycmVudFxuICAgICAqIGJhdGNoIGJ5IHJlbmRlcmluZyBvYmplY3RzIG5vdy5cbiAgICAgKi9cbiAgICBmbHVzaCgpXG4gICAge1xuICAgICAgICAvLyBmbHVzaCFcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmljIGRlc3RydWN0aW9uIG1ldGhvZCB0aGF0IGZyZWVzIGFsbCByZXNvdXJjZXMuIFRoaXNcbiAgICAgKiBzaG91bGQgYmUgY2FsbGVkIGJ5IHN1YmNsYXNzZXMuXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdHViIG1ldGhvZCB0aGF0IGluaXRpYWxpemVzIGFueSBzdGF0ZSByZXF1aXJlZCBiZWZvcmVcbiAgICAgKiByZW5kZXJpbmcgc3RhcnRzLiBJdCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYHByZXJlbmRlcmBcbiAgICAgKiBzaWduYWwsIHdoaWNoIG9jY3VycyBldmVyeSBmcmFtZSwgaW4gdGhhdCBpdCBpcyBjYWxsZWRcbiAgICAgKiB3aGVuZXZlciBhbiBvYmplY3QgcmVxdWVzdHMgX3RoaXNfIHJlbmRlcmVyIHNwZWNpZmljYWxseS5cbiAgICAgKi9cbiAgICBzdGFydCgpXG4gICAge1xuICAgICAgICAvLyBzZXQgdGhlIHNoYWRlci4uXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIHJlbmRlcmVyLiBJdCBzaG91bGQgZnJlZSB1cCBhbnkgc3RhdGUgYW5kXG4gICAgICogYmVjb21lIGRvcm1hbnQuXG4gICAgICovXG4gICAgc3RvcCgpXG4gICAge1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogS2VlcHMgdGhlIG9iamVjdCB0byByZW5kZXIuIEl0IGRvZXNuJ3QgaGF2ZSB0byBiZVxuICAgICAqIHJlbmRlcmVkIGltbWVkaWF0ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgICAqL1xuICAgIHJlbmRlcihvYmplY3QpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIC8vIHJlbmRlciB0aGUgb2JqZWN0XG4gICAgfVxufVxuIiwiaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IE9iamVjdFJlbmRlcmVyIGZyb20gJy4vT2JqZWN0UmVuZGVyZXInO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBiYXRjaGluZy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhdGNoU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGVtcHR5IHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9iamVjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbXB0eVJlbmRlcmVyID0gbmV3IE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IHRoaXMuZW1wdHlSZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuT2JqZWN0UmVuZGVyZXJ9IG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG4gICAgc2V0T2JqZWN0UmVuZGVyZXIob2JqZWN0UmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UmVuZGVyZXIgPT09IG9iamVjdFJlbmRlcmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gb2JqZWN0UmVuZGVyZXI7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgaWYgeW91IHdpc2ggdG8gZG8gc29tZSBjdXN0b20gcmVuZGVyaW5nXG4gICAgICogSXQgd2lsbCBiYXNpY2FsbHkgcmVuZGVyIGFueXRoaW5nIHRoYXQgbWF5IGJlIGJhdGNoZWQgdXAgc3VjaCBhcyBzcHJpdGVzXG4gICAgICovXG4gICAgZmx1c2goKVxuICAgIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBzeXN0ZW0gdG8gYW4gZW1wdHkgcmVuZGVyZXJcbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNNb2JpbGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogVGhlIG1heGltdW0gc3VwcG9ydCBmb3IgdXNpbmcgV2ViR0wuIElmIGEgZGV2aWNlIGRvZXMgbm90XG4gKiBzdXBwb3J0IFdlYkdMIHZlcnNpb24sIGZvciBpbnN0YW5jZSBXZWJHTCAyLCBpdCB3aWxsIHN0aWxsXG4gKiBhdHRlbXB0IHRvIGZhbGxiYWNrIHN1cHBvcnQgdG8gV2ViR0wgMS4gSWYgeW91IHdhbnQgdG9cbiAqIGV4cGxpY2l0bHkgcmVtb3ZlIGZlYXR1cmUgc3VwcG9ydCB0byB0YXJnZXQgYSBtb3JlIHN0YWJsZVxuICogYmFzZWxpbmUsIHByZWZlciBhIGxvd2VyIGVudmlyb25tZW50LlxuICpcbiAqIER1ZSB0byB7QGxpbmsgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9OTM0ODIzfGJ1ZyBpbiBjaHJvbWl1bX1cbiAqIHdlIGRpc2FibGUgd2ViZ2wyIGJ5IGRlZmF1bHQgZm9yIGFsbCBub24tYXBwbGUgbW9iaWxlIGRldmljZXMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUFJFRkVSX0VOVlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCBQSVhJLkVOVi5XRUJHTDJcbiAqL1xuc2V0dGluZ3MuUFJFRkVSX0VOViA9IGlzTW9iaWxlLmFueSA/IEVOVi5XRUJHTCA6IEVOVi5XRUJHTDI7XG5cbmV4cG9ydCB7IHNldHRpbmdzIH07XG4iLCJpbXBvcnQgU3lzdGVtIGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJy4uL3NldHRpbmdzJztcbmltcG9ydCB7IEVOViB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmxldCBDT05URVhUX1VJRCA9IDA7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBjb250ZXh0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udGV4dFN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFaXRoZXIgMSBvciAyIHRvIHJlZmxlY3QgdGhlIFdlYkdMIHZlcnNpb24gYmVpbmcgdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbnNpb25zIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9kcmF3X2J1ZmZlcnN9IGRyYXdCdWZmZXJzIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZGVwdGhfdGV4dHVyZX0gZGVwdGhUZXh0dXJlIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T0VTX3RleHR1cmVfZmxvYXR9IGZsb2F0VGV4dHVyZSAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2xvc2VfY29udGV4dH0gbG9zZUNvbnRleHQgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtPRVNfdmVydGV4X2FycmF5X29iamVjdH0gdmVydGV4QXJyYXlPYmplY3QgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWN9IGFuaXNvdHJvcGljRmlsdGVyaW5nIC0gV2ViR0wgdjEgYW5kIHYyIGV4dGVuc2lvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5leHRlbnNpb25zID0ge307XG5cbiAgICAgICAgLy8gQmluZCBmdW5jdGlvbnNcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCA9IHRoaXMuaGFuZGxlQ29udGV4dExvc3QuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QsIGZhbHNlKTtcbiAgICAgICAgcmVuZGVyZXIudmlldy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIHRoZSBjb250ZXh0IGlzIGxvc3RcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBpc0xvc3QoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICghdGhpcy5nbCB8fCB0aGlzLmdsLmlzQ29udGV4dExvc3QoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBjb250ZXh0IGNoYW5nZSBldmVudFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBuZXcgd2ViZ2wgY29udGV4dFxuICAgICAqL1xuICAgIGNvbnRleHRDaGFuZ2UoZ2wpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEKys7XG5cbiAgICAgICAgLy8gcmVzdG9yZSBhIGNvbnRleHQgaWYgaXQgd2FzIHByZXZpb3VzbHkgbG9zdFxuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpICYmIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgaW5pdEZyb21Db250ZXh0KGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQ29udGV4dChnbCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEKys7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLnJ1bihnbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbnRleHQgb3B0aW9uc1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIGluaXRGcm9tT3B0aW9ucyhvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNyZWF0ZUNvbnRleHQodGhpcy5yZW5kZXJlci52aWV3LCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmluaXRGcm9tQ29udGV4dChnbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIFdlYkdMIENvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYW52YXMge0hUTUxDYW52YXNFbGVtZW50fSB0aGUgY2FudmFzIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGdldCB0aGUgY29udGV4dCBmcm9tXG4gICAgICogQHBhcmFtIG9wdGlvbnMge29iamVjdH0gQW4gb3B0aW9ucyBvYmplY3QgdGhhdCBnZXRzIHBhc3NlZCBpbiB0byB0aGUgY2FudmFzIGVsZW1lbnQgY29udGFpbmluZyB0aGUgY29udGV4dCBhdHRyaWJ1dGVzXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dFxuICAgICAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBjcmVhdGVDb250ZXh0KGNhbnZhcywgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGxldCBnbDtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuXG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIG9wdGlvbnMpXG4gICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmICghZ2wpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR0wuIFRyeSB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgdGhpcy5nZXRFeHRlbnNpb25zKCk7XG5cbiAgICAgICAgcmV0dXJuIGdsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF1dG8tcG9wdWxhdGUgdGhlIGV4dGVuc2lvbnNcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBnZXRFeHRlbnNpb25zKClcbiAgICB7XG4gICAgICAgIC8vIHRpbWUgdG8gc2V0IHVwIGRlZmF1bHQgZXh0ZW5zaW9ucyB0aGF0IFBpeGkgdXNlcy5cbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5leHRlbnNpb25zLCB7XG4gICAgICAgICAgICAgICAgZHJhd0J1ZmZlcnM6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfZHJhd19idWZmZXJzJyksXG4gICAgICAgICAgICAgICAgZGVwdGhUZXh0dXJlOiBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9XRUJHTF9kZXB0aF90ZXh0dXJlJyksXG4gICAgICAgICAgICAgICAgbG9zZUNvbnRleHQ6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JyksXG4gICAgICAgICAgICAgICAgdmVydGV4QXJyYXlPYmplY3Q6IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ01PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JyksXG4gICAgICAgICAgICAgICAgYW5pc290cm9waWNGaWx0ZXJpbmc6IGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyksXG4gICAgICAgICAgICAgICAgdWludDMyRWxlbWVudEluZGV4OiBnbC5nZXRFeHRlbnNpb24oJ09FU19lbGVtZW50X2luZGV4X3VpbnQnKSxcbiAgICAgICAgICAgICAgICAvLyBGbG9hdHMgYW5kIGhhbGYtZmxvYXRzXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXRMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywge1xuICAgICAgICAgICAgICAgIGFuaXNvdHJvcGljRmlsdGVyaW5nOiBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpLFxuICAgICAgICAgICAgICAgIC8vIEZsb2F0cyBhbmQgaGFsZi1mbG9hdHNcbiAgICAgICAgICAgICAgICBjb2xvckJ1ZmZlckZsb2F0OiBnbC5nZXRFeHRlbnNpb24oJ0VYVF9jb2xvcl9idWZmZXJfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICBmbG9hdFRleHR1cmVMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBsb3N0IHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMQ29udGV4dEV2ZW50fSBldmVudCAtIFRoZSBjb250ZXh0IGxvc3QgZXZlbnQuXG4gICAgICovXG4gICAgaGFuZGxlQ29udGV4dExvc3QoZXZlbnQpXG4gICAge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSByZXN0b3JlZCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgaGFuZGxlQ29udGV4dFJlc3RvcmVkKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLnJ1bih0aGlzLmdsKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnJlbmRlcmVyLnZpZXc7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkKTtcblxuICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0obnVsbCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZXh0ZW5zaW9ucy5sb3NlQ29udGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0Lmxvc2VDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIHBvc3QtcmVuZGVyIHJ1bm5lciBldmVudFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHBvc3RyZW5kZXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5mbHVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBSZW5kZXIgY29udGV4dFxuICAgICAqL1xuICAgIHZhbGlkYXRlQ29udGV4dChnbClcbiAgICB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO1xuXG4gICAgICAgIC8vIHRoaXMgaXMgZ29pbmcgdG8gYmUgZmFpcmx5IHNpbXBsZSBmb3Igbm93Li4gYnV0IGF0IGxlYXN0IHdlIGhhdmUgcm9vbSB0byBncm93IVxuICAgICAgICBpZiAoIWF0dHJpYnV0ZXMuc3RlbmNpbClcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHknKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRU5WIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnLi4vc2V0dGluZ3MnO1xuaW1wb3J0IEZyYW1lYnVmZmVyIGZyb20gJy4vRnJhbWVidWZmZXInO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBmcmFtZWJ1ZmZlcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGcmFtZWJ1ZmZlclN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgbWFuYWdlZCBmcmFtZWJ1ZmZlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GcmFtZWJ1ZmZlcltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGcmFtZWJ1ZmZlciB2YWx1ZSB0aGF0IHNob3dzIHRoYXQgd2UgZG9uJ3Qga25vdyB3aGF0IGlzIGJvdW5kXG4gICAgICAgICAqIEBtZW1iZXIge0ZyYW1lYnVmZmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5rbm93bkZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKDEwLCAxMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICovXG4gICAgY29udGV4dENoYW5nZSgpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGhpcy5oYXNNUlQgPSB0cnVlO1xuICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG5cbiAgICAgICAgLy8gd2ViZ2wyXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3ZWJnbCAxIVxuICAgICAgICAgICAgbGV0IG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZHJhd0J1ZmZlcnM7XG4gICAgICAgICAgICBsZXQgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZGVwdGhUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzID0gKGFjdGl2ZVRleHR1cmVzKSA9PlxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbi5kcmF3QnVmZmVyc1dFQkdMKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc01SVCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzID0gKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZURlcHRoVGV4dHVyZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmluZCBhIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2ZyYW1lXSBmcmFtZSwgZGVmYXVsdCBpcyBmcmFtZWJ1ZmZlciBzaXplXG4gICAgICovXG4gICAgYmluZChmcmFtZWJ1ZmZlciwgZnJhbWUpXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyBjYWNoaW5nIGxheWVyIVxuXG4gICAgICAgICAgICBjb25zdCBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IGZyYW1lYnVmZmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBhbGwgdGV4dHVyZXMgYXJlIHVuYm91bmQuLlxuXG4gICAgICAgICAgICAvLyBub3cgY2hlY2sgZm9yIHVwZGF0ZXMuLi5cbiAgICAgICAgICAgIGlmIChmYm8uZGlydHlJZCAhPT0gZnJhbWVidWZmZXIuZGlydHlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmYm8uZGlydHlJZCA9IGZyYW1lYnVmZmVyLmRpcnR5SWQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoZmJvLmRpcnR5Rm9ybWF0ICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZiby5kaXJ0eUZvcm1hdCA9IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmJvLmRpcnR5U2l6ZSAhPT0gZnJhbWVidWZmZXIuZGlydHlTaXplKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmJvLmRpcnR5U2l6ZSA9IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV0udGV4dHVyZVBhcnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydCgwLCAwLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydChmcmFtZS54LCBmcmFtZS55LCBmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIHRoaXMucmVuZGVyZXIud2lkdGgsIHRoaXMucmVuZGVyZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0J3Mgdmlld3BvcnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCAtIFggcG9zaXRpb24gb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSAtIFkgcG9zaXRpb24gb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2Ygdmlld3BvcnRcbiAgICAgKi9cbiAgICBzZXRWaWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgY29uc3QgdiA9IHRoaXMudmlld3BvcnQ7XG5cbiAgICAgICAgaWYgKHYud2lkdGggIT09IHdpZHRoIHx8IHYuaGVpZ2h0ICE9PSBoZWlnaHQgfHwgdi54ICE9PSB4IHx8IHYueSAhPT0geSlcbiAgICAgICAge1xuICAgICAgICAgICAgdi54ID0geDtcbiAgICAgICAgICAgIHYueSA9IHk7XG4gICAgICAgICAgICB2LndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB2LmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5nbC52aWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgY3VycmVudCB3aWR0aCBhbmQgaGVpZ2h0LiBSZXR1cm5zIG9iamVjdCB3aXRoIGB3aWR0aGAgYW5kIGBoZWlnaHRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgc2l6ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIHN0b3JlIHRlbXBcbiAgICAgICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLmN1cnJlbnQud2lkdGgsIGhlaWdodDogdGhpcy5jdXJyZW50LmhlaWdodCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IHRoaXMucmVuZGVyZXIud2lkdGgsIGhlaWdodDogdGhpcy5yZW5kZXJlci5oZWlnaHQgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgY29sb3Igb2YgdGhlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByIC0gUmVkIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGcgLSBHcmVlbiB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiIC0gQmx1ZSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIC0gQWxwaGEgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKi9cbiAgICBjbGVhcihyLCBnLCBiLCBhKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcblxuICAgICAgICAvLyBUT0RPIGNsZWFyIGNvbG9yIGNhbiBiZSBzZXQgb25seSBvbmUgcmlnaHQ/XG4gICAgICAgIGdsLmNsZWFyQ29sb3IociwgZywgYiwgYSk7XG4gICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIGluaXRGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG5cbiAgICAgICAgLy8gVE9ETyAtIG1ha2UgdGhpcyBhIGNsYXNzP1xuICAgICAgICBjb25zdCBmYm8gPSB7XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlcjogZ2wuY3JlYXRlRnJhbWVidWZmZXIoKSxcbiAgICAgICAgICAgIHN0ZW5jaWw6IG51bGwsXG4gICAgICAgICAgICBkaXJ0eUlkOiAwLFxuICAgICAgICAgICAgZGlydHlGb3JtYXQ6IDAsXG4gICAgICAgICAgICBkaXJ0eVNpemU6IDAsXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gPSBmYm87XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLnB1c2goZnJhbWVidWZmZXIpO1xuICAgICAgICBmcmFtZWJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gZmJvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgcmVzaXplRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmIChmYm8uc3RlbmNpbClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbG9yVGV4dHVyZXMgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoY29sb3JUZXh0dXJlc1tpXSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUsIDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICB1cGRhdGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG5cbiAgICAgICAgY29uc3QgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgLy8gYmluZCB0aGUgY29sb3IgdGV4dHVyZVxuICAgICAgICBjb25zdCBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcblxuICAgICAgICBsZXQgY291bnQgPSBjb2xvclRleHR1cmVzLmxlbmd0aDtcblxuICAgICAgICBpZiAoIWdsLmRyYXdCdWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb3VudCA9IE1hdGgubWluKGNvdW50LCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFjdGl2ZVRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmUudGV4dHVyZVBhcnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQodGV4dHVyZS50ZXh0dXJlLCAwKTtcblxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLFxuICAgICAgICAgICAgICAgICAgICBnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGksXG4gICAgICAgICAgICAgICAgICAgIGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCArIHRleHR1cmUuc2lkZSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleHR1cmUsIDApO1xuXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgICAgICAgICAgIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSxcbiAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWN0aXZlVGV4dHVyZXMucHVzaChnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFjdGl2ZVRleHR1cmVzLmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHdyaXRlRGVwdGhUZXh0dXJlID0gdGhpcy53cml0ZURlcHRoVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKHdyaXRlRGVwdGhUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlcHRoVGV4dHVyZSA9IGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGRlcHRoVGV4dHVyZSwgMCk7XG5cbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixcbiAgICAgICAgICAgICAgICAgICAgZ2wuREVQVEhfQVRUQUNITUVOVCxcbiAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhUZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmYm8uc3RlbmNpbCAmJiAoZnJhbWVidWZmZXIuc3RlbmNpbCB8fCBmcmFtZWJ1ZmZlci5kZXB0aCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZiby5zdGVuY2lsID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG5cbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE8uLiB0aGlzIGlzIGRlcHRoIEFORCBzdGVuY2lsP1xuICAgICAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpXG4gICAgICAgICAgICB7IC8vIHlvdSBjYW4ndCBoYXZlIGJvdGgsIHNvIG9uZSBzaG91bGQgdGFrZSBwcmlvcml0eSBpZiBlbmFibGVkXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICAvLyBmYm8uZW5hYmxlU3RlbmNpbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyIGZyYW1lYnVmZmVyIHRoYXQgaGFzIHRvIGJlIGRpc3Bvc2VkIG9mXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGFsbCBkZWxldGUgZnVuY3Rpb24gY2FsbHNcbiAgICAgKi9cbiAgICBkaXNwb3NlRnJhbWVidWZmZXIoZnJhbWVidWZmZXIsIGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgY29uc3QgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcblxuICAgICAgICBpZiAoIWZibylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLmluZGV4T2YoZnJhbWVidWZmZXIpO1xuXG4gICAgICAgIGlmIChpbmRleCA+PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuXG4gICAgICAgIGlmICghY29udGV4dExvc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICBpZiAoZmJvLnN0ZW5jaWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGFsbCBmcmFtZWJ1ZmZlcnMsIGJ1dCBub3QgdGV4dHVyZXMgYm91bmQgdG8gdGhlbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgZGlzcG9zZUFsbChjb250ZXh0TG9zdClcbiAgICB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnM7XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VGcmFtZWJ1ZmZlcihsaXN0W2ldLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXNldHMgZnJhbWVidWZmZXIgc3RvcmVkIHN0YXRlLCBiaW5kcyBzY3JlZW4gZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIHNob3VsZCBiZSBjYWxsZWQgYmVmb3JlIHJlbmRlclRleHR1cmUgcmVzZXQoKVxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMudW5rbm93bkZyYW1lYnVmZmVyO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdMQnVmZmVyXG57XG4gICAgY29uc3RydWN0b3IoYnVmZmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHRoaXMudXBkYXRlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gLTE7XG4gICAgICAgIHRoaXMucmVmQ291bnQgPSAwO1xuICAgIH1cbn1cbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCBHTEJ1ZmZlciBmcm9tICcuL0dMQnVmZmVyJztcbmltcG9ydCB7IEVOViB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJy4uL3NldHRpbmdzJztcblxuY29uc3QgYnl0ZVNpemVNYXAgPSB7IDUxMjY6IDQsIDUxMjM6IDIsIDUxMjE6IDEgfTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZ2VvbWV0cnkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW9tZXRyeVN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHdlIGhhcyBgKl92ZXJ0ZXhfYXJyYXlfb2JqZWN0YCBleHRlbnNpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhc1ZhbyA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBoYXMgYEFOR0xFX2luc3RhbmNlZF9hcnJheXNgIGV4dGVuc2lvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgc3VwcG9ydCBgZ2wuVU5TSUdORURfSU5UYCBpbiBgZ2wuZHJhd0VsZW1lbnRzYCBvciBgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkYFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FjaGUgb2YgY3VycmVudGx5IGJvdW5kIGJ1ZmZlcixcbiAgICAgICAgICogY29udGFpbnMgb25seSB0d28gbWVtYmVycyB3aXRoIGtleXMgQVJSQVlfQlVGRkVSIGFuZCBFTEVNRU5UX0FSUkFZX0JVRkZFUlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlciwgUElYSS5CdWZmZXI+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm91bmRCdWZmZXJzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIGZvciBhbGwgZ2VvbWV0cmllcyBieSBpZCwgdXNlZCBpbiBjYXNlIHJlbmRlcmVyIGdldHMgZGVzdHJveWVkIG9yIGZvciBwcm9maWxpbmdcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgZm9yIGFsbCBidWZmZXJzIGJ5IGlkLCB1c2VkIGluIGNhc2UgcmVuZGVyZXIgZ2V0cyBkZXN0cm95ZWQgb3IgZm9yIHByb2ZpbGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVycyA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIGNvbnRleHRDaGFuZ2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgLy8gd2ViZ2wyXG4gICAgICAgIGlmICghZ2wuY3JlYXRlVmVydGV4QXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICBsZXQgbmF0aXZlVmFvRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMudmVydGV4QXJyYXlPYmplY3Q7XG5cbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuYXRpdmVWYW9FeHRlbnNpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuY3JlYXRlVmVydGV4QXJyYXkgPSAoKSA9PlxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVWYW9FeHRlbnNpb24uY3JlYXRlVmVydGV4QXJyYXlPRVMoKTtcblxuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9ICh2YW8pID0+XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVModmFvKTtcblxuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gKHZhbykgPT5cbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlVmFvRXh0ZW5zaW9uLmRlbGV0ZVZlcnRleEFycmF5T0VTKHZhbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNWYW8gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC5jcmVhdGVWZXJ0ZXhBcnJheSA9ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkgPSAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkgPSAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZUV4dCA9IGdsLmdldEV4dGVuc2lvbignQU5HTEVfaW5zdGFuY2VkX2FycmF5cycpO1xuXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2VFeHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvciA9IChhLCBiKSA9PlxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUV4dC52ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUoYSwgYik7XG5cbiAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQgPSAoYSwgYiwgYywgZCwgZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VFeHQuZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCwgZSk7XG5cbiAgICAgICAgICAgICAgICBnbC5kcmF3QXJyYXlzSW5zdGFuY2VkID0gKGEsIGIsIGMsIGQpID0+XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlRXh0LmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0luc3RhbmNlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCA9IGNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyIHx8ICEhY29udGV4dC5leHRlbnNpb25zLnVpbnQzMkVsZW1lbnRJbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBnZW9tZXRyeSBzbyB0aGF0IGlzIGNhbiBiZSBkcmF3bi4gQ3JlYXRpbmcgYSBWYW8gaWYgcmVxdWlyZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgaW5zdGFuY2Ugb2YgZ2VvbWV0cnkgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IFtzaGFkZXJdIGluc3RhbmNlIG9mIHNoYWRlciB0byB1c2UgdmFvIGZvclxuICAgICAqL1xuICAgIGJpbmQoZ2VvbWV0cnksIHNoYWRlcilcbiAgICB7XG4gICAgICAgIHNoYWRlciA9IHNoYWRlciB8fCB0aGlzLnJlbmRlcmVyLnNoYWRlci5zaGFkZXI7XG5cbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcblxuICAgICAgICAvLyBub3Qgc3VyZSB0aGUgYmVzdCB3YXkgdG8gYWRkcmVzcyB0aGlzLi5cbiAgICAgICAgLy8gY3VycmVudGx5IGRpZmZlcmVudCBzaGFkZXJzIHJlcXVpcmUgZGlmZmVyZW50IFZBT3MgZm9yIHRoZSBzYW1lIGdlb21ldHJ5XG4gICAgICAgIC8vIFN0aWxsIG11bGxpbmcgb3ZlciB0aGUgYmVzdCB3YXkgdG8gc29sdmUgdGhpcyBvbmUuLlxuICAgICAgICAvLyB3aWxsIGxpa2VseSBuZWVkIHRvIG1vZGlmeSB0aGUgc2hhZGVyIGF0dHJpYnV0ZSBsb2NhdGlvbnMgYXQgcnVuIHRpbWUhXG4gICAgICAgIGxldCB2YW9zID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCF2YW9zKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSA9IGdlb21ldHJ5O1xuICAgICAgICAgICAgZ2VvbWV0cnkuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgICAgICAgICBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXSA9IHZhb3MgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbyA9IHZhb3Nbc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuaW5pdEdlb21ldHJ5VmFvKGdlb21ldHJ5LCBzaGFkZXIucHJvZ3JhbSk7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBnZW9tZXRyeTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvICE9PSB2YW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcblxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzVmFvKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gLSBvcHRpbWlzZSBsYXRlciFcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBsb29wIHRocm91Z2ggaWYgbm90aGluZyBjaGFuZ2VkIVxuICAgICAgICAvLyBtYXliZSBsb29rIHRvIGFkZCBhbiAnYXV0b3VwZGF0ZScgdG8gZ2VvbWV0cnk/XG4gICAgICAgIHRoaXMudXBkYXRlQnVmZmVycygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0IGFuZCB1bmJpbmQgYW55IGFjdGl2ZSBWQU8gYW5kIGdlb21ldHJ5XG4gICAgICovXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYnVmZmVyc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB1cGRhdGVCdWZmZXJzKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBnZW9tZXRyeS5idWZmZXJzW2ldO1xuXG4gICAgICAgICAgICBjb25zdCBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAoYnVmZmVyLl91cGRhdGVJRCAhPT0gZ2xCdWZmZXIudXBkYXRlSUQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xCdWZmZXIudXBkYXRlSUQgPSBidWZmZXIuX3VwZGF0ZUlEO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBjYW4gY2FjaGUgdGhpcyBvbiBidWZmZXIhIG1heWJlIGFkZGVkIGEgZ2V0dGVyIC8gc2V0dGVyP1xuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBidWZmZXIuaW5kZXggPyBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiA6IGdsLkFSUkFZX0JVRkZFUjtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBjb3VsZCBjaGFuZ2UgaWYgdGhlIFZBTyBjaGFuZ2VzLi4uXG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byBjb21lIHVwIHdpdGggYSBiZXR0ZXIgd2F5IHRvIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyBpZiAodGhpcy5ib3VuZEJ1ZmZlcnNbdHlwZV0gIT09IGdsQnVmZmVyKVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmJvdW5kQnVmZmVyc1t0eXBlXSA9IGdsQnVmZmVyO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIodHlwZSwgZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZEJ1ZmZlciA9IGdsQnVmZmVyO1xuXG4gICAgICAgICAgICAgICAgaWYgKGdsQnVmZmVyLmJ5dGVMZW5ndGggPj0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldCBpcyBhbHdheXMgemVybyBmb3Igbm93IVxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJTdWJEYXRhKHR5cGUsIDAsIGJ1ZmZlci5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJhd1R5cGUgPSBidWZmZXIuc3RhdGljID8gZ2wuU1RBVElDX0RSQVcgOiBnbC5EWU5BTUlDX0RSQVc7XG5cbiAgICAgICAgICAgICAgICAgICAgZ2xCdWZmZXIuYnl0ZUxlbmd0aCA9IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEodHlwZSwgYnVmZmVyLmRhdGEsIGRyYXdUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBjb21wYWJpbGl0eSBiZXR3ZWVuIGEgZ2VvbWV0cnkgYW5kIGEgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBjaGVja0NvbXBhdGliaWxpdHkoZ2VvbWV0cnksIHByb2dyYW0pXG4gICAge1xuICAgICAgICAvLyBnZW9tZXRyeSBtdXN0IGhhdmUgYXQgbGVhc3QgYWxsIHRoZSBhdHRyaWJ1dGVzIHRoYXQgdGhlIHNoYWRlciByZXF1aXJlcy5cbiAgICAgICAgY29uc3QgZ2VvbWV0cnlBdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgY29uc3Qgc2hhZGVyQXR0cmlidXRlcyA9IHByb2dyYW0uYXR0cmlidXRlRGF0YTtcblxuICAgICAgICBmb3IgKGNvbnN0IGogaW4gc2hhZGVyQXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFnZW9tZXRyeUF0dHJpYnV0ZXNbal0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzaGFkZXIgYW5kIGdlb21ldHJ5IGluY29tcGF0aWJsZSwgZ2VvbWV0cnkgbWlzc2luZyB0aGUgXCIke2p9XCIgYXR0cmlidXRlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGdlb21ldHJ5IGFuZCBwcm9ncmFtIGFuZCBnZW5lcmF0ZXMgYSB1bmlxdWUgc2lnbmF0dXJlIGZvciB0aGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSB0byBnZXQgc2lnbmF0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSB0byB0ZXN0IGdlb21ldHJ5IGFnYWluc3RcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSBnZW9tZXRyeSBhbmQgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBnZXRTaWduYXR1cmUoZ2VvbWV0cnksIHByb2dyYW0pXG4gICAge1xuICAgICAgICBjb25zdCBhdHRyaWJzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgY29uc3Qgc2hhZGVyQXR0cmlidXRlcyA9IHByb2dyYW0uYXR0cmlidXRlRGF0YTtcblxuICAgICAgICBjb25zdCBzdHJpbmdzID0gWydnJywgZ2VvbWV0cnkuaWRdO1xuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBhdHRyaWJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc2hhZGVyQXR0cmlidXRlc1tpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvciBnZXRzIFZhbyB3aXRoIHRoZSBzYW1lIHN0cnVjdHVyZSBhcyB0aGUgZ2VvbWV0cnkgYW5kIHN0b3JlcyBpdCBvbiB0aGUgZ2VvbWV0cnkuXG4gICAgICogSWYgdmFvIGlzIGNyZWF0ZWQsIGl0IGlzIGJvdW5kIGF1dG9tYXRpY2FsbHkuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIHRvIGdlbmVyYXRlIFZhbyBmb3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIEluc3RhbmNlIG9mIHByb2dyYW1cbiAgICAgKi9cbiAgICBpbml0R2VvbWV0cnlWYW8oZ2VvbWV0cnksIHByb2dyYW0pXG4gICAge1xuICAgICAgICB0aGlzLmNoZWNrQ29tcGF0aWJpbGl0eShnZW9tZXRyeSwgcHJvZ3JhbSk7XG5cbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBjb25zdCBDT05URVhUX1VJRCA9IHRoaXMuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gdGhpcy5nZXRTaWduYXR1cmUoZ2VvbWV0cnksIHByb2dyYW0pO1xuXG4gICAgICAgIGNvbnN0IHZhb09iamVjdEhhc2ggPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBsZXQgdmFvID0gdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdO1xuXG4gICAgICAgIGlmICh2YW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBnaXZlIHVzIGVhc3kgYWNjZXNzIHRvIHRoZSB2YW9cbiAgICAgICAgICAgIHZhb09iamVjdEhhc2hbcHJvZ3JhbS5pZF0gPSB2YW87XG5cbiAgICAgICAgICAgIHJldHVybiB2YW87XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIGNvbnN0IHRlbXBTdHJpZGUgPSB7fTtcbiAgICAgICAgY29uc3QgdGVtcFN0YXJ0ID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBqIGluIGJ1ZmZlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBTdHJpZGVbal0gPSAwO1xuICAgICAgICAgICAgdGVtcFN0YXJ0W2pdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaiBpbiBhdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbal0uc2l6ZSAmJiBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1tqXS5zaXplID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdLnNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghYXR0cmlidXRlc1tqXS5zaXplKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgUElYSSBHZW9tZXRyeSBhdHRyaWJ1dGUgJyR7an0nIHNpemUgY2Fubm90IGJlIGRldGVybWluZWQgKGxpa2VseSB0aGUgYm91bmQgc2hhZGVyIGRvZXMgbm90IGhhdmUgdGhlIGF0dHJpYnV0ZSlgKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVtcFN0cmlkZVthdHRyaWJ1dGVzW2pdLmJ1ZmZlcl0gKz0gYXR0cmlidXRlc1tqXS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlc1tqXS50eXBlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaiBpbiBhdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgY29uc3QgYXR0cmliU2l6ZSA9IGF0dHJpYnV0ZS5zaXplO1xuXG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlLnN0cmlkZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wU3RyaWRlW2F0dHJpYnV0ZS5idWZmZXJdID09PSBhdHRyaWJTaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0cmlkZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSB0ZW1wU3RyaWRlW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5zdGFydCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdGFydCA9IHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyXTtcblxuICAgICAgICAgICAgICAgIHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyXSArPSBhdHRyaWJTaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFvID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcblxuICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcblxuICAgICAgICAvLyBmaXJzdCB1cGRhdGUgLSBhbmQgY3JlYXRlIHRoZSBidWZmZXJzIVxuICAgICAgICAvLyBvbmx5IGNyZWF0ZSBhIGdsIGJ1ZmZlciBpZiBpdCBhY3R1YWxseSBnZXRzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gYnVmZmVyc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdID0gbmV3IEdMQnVmZmVyKGdsLmNyZWF0ZUJ1ZmZlcigpKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF0gPSBidWZmZXI7XG4gICAgICAgICAgICAgICAgYnVmZmVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0ucmVmQ291bnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gLSBtYXliZSBtYWtlIHRoaXMgYSBkYXRhIG9iamVjdD9cbiAgICAgICAgLy8gbGV0cyB3YWl0IHRvIHNlZSBpZiB3ZSBuZWVkIHRvIGZpcnN0IVxuXG4gICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHByb2dyYW0pO1xuXG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcblxuICAgICAgICAvLyBhZGQgaXQgdG8gdGhlIGNhY2hlIVxuICAgICAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuICAgICAgICB2YW9PYmplY3RIYXNoW3NpZ25hdHVyZV0gPSB2YW87XG5cbiAgICAgICAgcmV0dXJuIHZhbztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSBidWZmZXIgYnVmZmVyIHdpdGggZGF0YVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBkZWxldGVWZXJ0ZXhBcnJheVxuICAgICAqL1xuICAgIGRpc3Bvc2VCdWZmZXIoYnVmZmVyLCBjb250ZXh0TG9zdClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdO1xuXG4gICAgICAgIGNvbnN0IGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcblxuICAgICAgICBidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG5cbiAgICAgICAgaWYgKCFnbEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgZ2VvbWV0cnlcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IEdlb21ldHJ5IHdpdGggYnVmZmVycy4gT25seSBWQU8gd2lsbCBiZSBkaXNwb3NlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBkZWxldGVWZXJ0ZXhBcnJheVxuICAgICAqL1xuICAgIGRpc3Bvc2VHZW9tZXRyeShnZW9tZXRyeSwgY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF07XG5cbiAgICAgICAgY29uc3QgdmFvcyA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuXG4gICAgICAgIGdlb21ldHJ5LmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuXG4gICAgICAgIGlmICghdmFvcylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBidWYgPSBidWZmZXJzW2ldLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgICAgIGJ1Zi5yZWZDb3VudC0tO1xuICAgICAgICAgICAgaWYgKGJ1Zi5yZWZDb3VudCA9PT0gMCAmJiAhY29udGV4dExvc3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlQnVmZmVyKGJ1ZmZlcnNbaV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29udGV4dExvc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFvSWQgaW4gdmFvcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgb25seSBzaWduYXR1cmVzLCBldmVyeXRoaW5nIGVsc2UgYXJlIGNvcGllc1xuICAgICAgICAgICAgICAgIGlmICh2YW9JZFswXSA9PT0gJ2cnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFvID0gdmFvc1t2YW9JZF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyA9PT0gdmFvKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5KHZhbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpc3Bvc2UgYWxsIFdlYkdMIHJlc291cmNlcyBvZiBhbGwgbWFuYWdlZCBnZW9tZXRyaWVzIGFuZCBidWZmZXJzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGBnbC5kZWxldGVgIGNhbGxzXG4gICAgICovXG4gICAgZGlzcG9zZUFsbChjb250ZXh0TG9zdClcbiAgICB7XG4gICAgICAgIGxldCBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRHZW9tZXRyaWVzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlR2VvbWV0cnkodGhpcy5tYW5hZ2VkR2VvbWV0cmllc1thbGxbaV1dLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICAgICAgYWxsID0gT2JqZWN0LmtleXModGhpcy5tYW5hZ2VkQnVmZmVycyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VCdWZmZXIodGhpcy5tYW5hZ2VkQnVmZmVyc1thbGxbaV1dLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZSB2ZXJ0ZXggYXJyYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBTaGFkZXIgcHJvZ3JhbSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGFjdGl2YXRlVmFvKGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBjb25zdCBDT05URVhUX1VJRCA9IHRoaXMuQ09OVEVYVF9VSUQ7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcblxuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IHVwZGF0ZSB0aGUgaW5kZXggYnVmZmVyIGlmIHdlIGhhdmUgb25lLi5cbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGdlb21ldHJ5LmluZGV4QnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLmJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGFzdEJ1ZmZlciA9IG51bGw7XG5cbiAgICAgICAgLy8gYWRkIGEgbmV3IG9uZSFcbiAgICAgICAgZm9yIChjb25zdCBqIGluIGF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBidWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgY29uc3QgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF07XG5cbiAgICAgICAgICAgIGlmIChwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RCdWZmZXIgIT09IGdsQnVmZmVyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGdsQnVmZmVyLmJ1ZmZlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgbGFzdEJ1ZmZlciA9IGdsQnVmZmVyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdLmxvY2F0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBpbnRyb2R1Y2Ugc3RhdGUgYWdhaW5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBmb3Igb2xkZXIgZGV2aWNlcyB0aGF0IGhhdmUgbm8gVkFPc1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcblxuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIobG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zaXplLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudHlwZSB8fCBnbC5GTE9BVCxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLm5vcm1hbGl6ZWQsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdGFydCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLmluc3RhbmNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjYWxjdWxhdGUgaW5zdGFuY2UgY291bnQgYmFzZWQgb2YgdGhpcy4uLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNJbnN0YW5jZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvcihsb2NhdGlvbiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dlb21ldHJ5IGVycm9yLCBHUFUgSW5zdGFuY2luZyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3IHRoZSBnZW9tZXRyeVxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgLSB0aGUgdHlwZSBwcmltaXRpdmUgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplXSAtIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gYmUgcmVuZGVyZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0XSAtIFN0YXJ0aW5nIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbnN0YW5jZUNvdW50XSAtIHRoZSBudW1iZXIgb2YgaW5zdGFuY2VzIG9mIHRoZSBzZXQgb2YgZWxlbWVudHMgdG8gZXhlY3V0ZVxuICAgICAqL1xuICAgIGRyYXcodHlwZSwgc2l6ZSwgc3RhcnQsIGluc3RhbmNlQ291bnQpXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuXG4gICAgICAgIC8vIFRPRE8uLiB0aGlzIHNob3VsZCBub3QgY2hhbmdlIHNvIG1heWJlIGNhY2hlIHRoZSBmdW5jdGlvbj9cblxuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVTaXplID0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgICAgIGNvbnN0IGdsVHlwZSA9IGJ5dGVTaXplID09PSAyID8gZ2wuVU5TSUdORURfU0hPUlQgOiBnbC5VTlNJR05FRF9JTlQ7XG5cbiAgICAgICAgICAgIGlmIChieXRlU2l6ZSA9PT0gMiB8fCAoYnl0ZVNpemUgPT09IDQgJiYgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZCh0eXBlLCBzaXplIHx8IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbFR5cGUsIChzdGFydCB8fCAwKSAqIGJ5dGVTaXplLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3Vuc3VwcG9ydGVkIGluZGV4IGJ1ZmZlciB0eXBlOiB1aW50MzInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gbmVlZCBhIGJldHRlciB3YXkgdG8gY2FsY3VsYXRlIHNpemUuLlxuICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCksIGluc3RhbmNlQ291bnQgfHwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKHR5cGUsIHN0YXJ0LCBzaXplIHx8IGdlb21ldHJ5LmdldFNpemUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmQvcmVzZXQgZXZlcnl0aGluZ1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB1bmJpbmQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5iaW5kVmVydGV4QXJyYXkobnVsbCk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICB9XG59XG4iLCIvKipcbiAqIEBtZXRob2QgY29tcGlsZVByb2dyYW1cbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBmcmFnbWVudFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0aW9ucyB7T2JqZWN0fSBBbiBhdHRyaWJ1dGUgbG9jYXRpb24gbWFwIHRoYXQgbGV0cyB5b3UgbWFudWFsbHkgc2V0IHRoZSBhdHRyaWJ1dGUgbG9jYXRpb25zXG4gKiBAcmV0dXJuIHtXZWJHTFByb2dyYW19IHRoZSBzaGFkZXIgcHJvZ3JhbVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgYXR0cmlidXRlTG9jYXRpb25zKVxue1xuICAgIGNvbnN0IGdsVmVydFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNyYyk7XG4gICAgY29uc3QgZ2xGcmFnU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNyYyk7XG5cbiAgICBsZXQgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcblxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbEZyYWdTaGFkZXIpO1xuXG4gICAgLy8gb3B0aW9uYWxseSwgc2V0IHRoZSBhdHRyaWJ1dGVzIG1hbnVhbGx5IGZvciB0aGUgcHJvZ3JhbSByYXRoZXIgdGhhbiBsZXR0aW5nIFdlYkdMIGRlY2lkZS4uXG4gICAgaWYgKGF0dHJpYnV0ZUxvY2F0aW9ucylcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBhdHRyaWJ1dGVMb2NhdGlvbnNbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG5cbiAgICAvLyBpZiBsaW5raW5nIGZhaWxzLCB0aGVuIGxvZyBhbmQgY2xlYW51cFxuICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQaXhpLmpzIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLlZBTElEQVRFX1NUQVRVUycsIGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuVkFMSURBVEVfU1RBVFVTKSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLmdldEVycm9yKCknLCBnbC5nZXRFcnJvcigpKTtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHByb2dyYW0gaW5mbyBsb2csIGxvZyBpdFxuICAgICAgICBpZiAoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkgIT09ICcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGkuanMgV2FybmluZzogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKScsIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHByb2dyYW0gPSBudWxsO1xuICAgIH1cblxuICAgIC8vIGNsZWFuIHVwIHNvbWUgc2hhZGVyc1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbEZyYWdTaGFkZXIpO1xuXG4gICAgcmV0dXJuIHByb2dyYW07XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdHlwZSB7TnVtYmVyfSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEByZXR1cm4ge1dlYkdMU2hhZGVyfSB0aGUgc2hhZGVyXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2wsIHR5cGUsIHNyYylcbntcbiAgICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG5cbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzcmMpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKVxuICAgIHtcbiAgICAgICAgY29uc29sZS53YXJuKHNyYyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhZGVyO1xufVxuIiwiLyoqXG4gKiBAbWV0aG9kIGRlZmF1bHRWYWx1ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ30gVHlwZSBvZiB2YWx1ZVxuICogQHBhcmFtIHNpemUge051bWJlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRWYWx1ZSh0eXBlLCBzaXplKVxue1xuICAgIHN3aXRjaCAodHlwZSlcbiAgICB7XG4gICAgICAgIGNhc2UgJ2Zsb2F0JzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyRCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyREFycmF5JzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaXZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpdmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2Jvb2wnOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWMyJzpcblxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYnZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYnZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnbWF0Mic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAxXSk7XG5cbiAgICAgICAgY2FzZSAnbWF0Myc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDFdKTtcblxuICAgICAgICBjYXNlICdtYXQ0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAwLCAxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGJvb2xlYW5BcnJheShzaXplKVxue1xuICAgIGNvbnN0IGFycmF5ID0gbmV3IEFycmF5KHNpemUpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGFycmF5W2ldID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuLi8uLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5jb25zdCB1bmtub3duQ29udGV4dCA9IHt9O1xubGV0IGNvbnRleHQgPSB1bmtub3duQ29udGV4dDtcblxuLyoqXG4gKiByZXR1cm5zIGEgbGl0dGxlIFdlYkdMIGNvbnRleHQgdG8gdXNlIGZvciBwcm9ncmFtIGluc3BlY3Rpb24uXG4gKlxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt3ZWJHTC1jb250ZXh0fSBhIGdsIGNvbnRleHQgdG8gdGVzdCB3aXRoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFRlc3RDb250ZXh0KClcbntcbiAgICBpZiAoY29udGV4dCA9PT0gdW5rbm93bkNvbnRleHQpXG4gICAge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICBsZXQgZ2w7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMilcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywge30pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFnbClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCB7fSlcbiAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCB7fSk7XG5cbiAgICAgICAgICAgIGlmICghZ2wpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICAgICAgICAgIGdsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBmb3Igc2hhZGVyIHRlc3RpbmcuLlxuICAgICAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfZHJhd19idWZmZXJzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0ID0gZ2w7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG4iLCJpbXBvcnQgZ2V0VGVzdENvbnRleHQgZnJvbSAnLi9nZXRUZXN0Q29udGV4dCc7XG5pbXBvcnQgeyBQUkVDSVNJT04gfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5sZXQgbWF4RnJhZ21lbnRQcmVjaXNpb247XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKClcbntcbiAgICBpZiAoIW1heEZyYWdtZW50UHJlY2lzaW9uKVxuICAgIHtcbiAgICAgICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICBjb25zdCBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG5cbiAgICAgICAgaWYgKGdsKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNoYWRlckZyYWdtZW50ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuSElHSF9GTE9BVCk7XG5cbiAgICAgICAgICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IHNoYWRlckZyYWdtZW50LnByZWNpc2lvbiA/IFBSRUNJU0lPTi5ISUdIIDogUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXhGcmFnbWVudFByZWNpc2lvbjtcbn1cbiIsImltcG9ydCB7IFBSRUNJU0lPTiB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogU2V0cyB0aGUgZmxvYXQgcHJlY2lzaW9uIG9uIHRoZSBzaGFkZXIsIGVuc3VyaW5nIHRoZSBkZXZpY2Ugc3VwcG9ydHMgdGhlIHJlcXVlc3QgcHJlY2lzaW9uLlxuICogSWYgdGhlIHByZWNpc2lvbiBpcyBhbHJlYWR5IHByZXNlbnQsIGl0IGp1c3QgZW5zdXJlcyB0aGF0IHRoZSBkZXZpY2UgaXMgYWJsZSB0byBoYW5kbGUgaXQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgLSBUaGUgc2hhZGVyIHNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFByZWNpc2lvbiAtIFRoZSByZXF1ZXN0IGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICogQHBhcmFtIHtzdHJpbmd9IG1heFN1cHBvcnRlZFByZWNpc2lvbiAtIFRoZSBtYXhpbXVtIHByZWNpc2lvbiB0aGUgc2hhZGVyIHN1cHBvcnRzLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gbW9kaWZpZWQgc2hhZGVyIHNvdXJjZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcmVjaXNpb24oc3JjLCByZXF1ZXN0ZWRQcmVjaXNpb24sIG1heFN1cHBvcnRlZFByZWNpc2lvbilcbntcbiAgICBpZiAoc3JjLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpXG4gICAge1xuICAgICAgICAvLyBubyBwcmVjaXNpb24gc3VwcGxpZWQsIHNvIFBpeGlKUyB3aWxsIGFkZCB0aGUgcmVxdWVzdGVkIGxldmVsLlxuICAgICAgICBsZXQgcHJlY2lzaW9uID0gcmVxdWVzdGVkUHJlY2lzaW9uO1xuXG4gICAgICAgIC8vIElmIGhpZ2hwIGlzIHJlcXVlc3RlZCBidXQgbm90IHN1cHBvcnRlZCwgZG93bmdyYWRlIHByZWNpc2lvbiB0byBhIGxldmVsIGFsbCBkZXZpY2VzIHN1cHBvcnQuXG4gICAgICAgIGlmIChyZXF1ZXN0ZWRQcmVjaXNpb24gPT09IFBSRUNJU0lPTi5ISUdIICYmIG1heFN1cHBvcnRlZFByZWNpc2lvbiAhPT0gUFJFQ0lTSU9OLkhJR0gpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByZWNpc2lvbiA9IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYHByZWNpc2lvbiAke3ByZWNpc2lvbn0gZmxvYXQ7XFxuJHtzcmN9YDtcbiAgICB9XG4gICAgZWxzZSBpZiAobWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBQUkVDSVNJT04uSElHSCAmJiBzcmMuc3Vic3RyaW5nKDAsIDE1KSA9PT0gJ3ByZWNpc2lvbiBoaWdocCcpXG4gICAge1xuICAgICAgICAvLyBwcmVjaXNpb24gd2FzIHN1cHBsaWVkLCBidXQgYXQgYSBsZXZlbCB0aGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0LCBzbyBkb3duZ3JhZGluZyB0byBtZWRpdW1wLlxuICAgICAgICByZXR1cm4gc3JjLnJlcGxhY2UoJ3ByZWNpc2lvbiBoaWdocCcsICdwcmVjaXNpb24gbWVkaXVtcCcpO1xuICAgIH1cblxuICAgIHJldHVybiBzcmM7XG59XG4iLCJjb25zdCBHTFNMX1RPX1NJWkUgPSB7XG4gICAgZmxvYXQ6ICAgIDEsXG4gICAgdmVjMjogICAgIDIsXG4gICAgdmVjMzogICAgIDMsXG4gICAgdmVjNDogICAgIDQsXG5cbiAgICBpbnQ6ICAgICAgMSxcbiAgICBpdmVjMjogICAgMixcbiAgICBpdmVjMzogICAgMyxcbiAgICBpdmVjNDogICAgNCxcblxuICAgIGJvb2w6ICAgICAxLFxuICAgIGJ2ZWMyOiAgICAyLFxuICAgIGJ2ZWMzOiAgICAzLFxuICAgIGJ2ZWM0OiAgICA0LFxuXG4gICAgbWF0MjogICAgIDQsXG4gICAgbWF0MzogICAgIDksXG4gICAgbWF0NDogICAgIDE2LFxuXG4gICAgc2FtcGxlcjJEOiAgMSxcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgbWFwU2l6ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ31cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFwU2l6ZSh0eXBlKVxue1xuICAgIHJldHVybiBHTFNMX1RPX1NJWkVbdHlwZV07XG59XG4iLCJsZXQgR0xfVEFCTEUgPSBudWxsO1xuXG5jb25zdCBHTF9UT19HTFNMX1RZUEVTID0ge1xuICAgIEZMT0FUOiAgICAgICAnZmxvYXQnLFxuICAgIEZMT0FUX1ZFQzI6ICAndmVjMicsXG4gICAgRkxPQVRfVkVDMzogICd2ZWMzJyxcbiAgICBGTE9BVF9WRUM0OiAgJ3ZlYzQnLFxuXG4gICAgSU5UOiAgICAgICAgICdpbnQnLFxuICAgIElOVF9WRUMyOiAgICAnaXZlYzInLFxuICAgIElOVF9WRUMzOiAgICAnaXZlYzMnLFxuICAgIElOVF9WRUM0OiAgICAnaXZlYzQnLFxuXG4gICAgQk9PTDogICAgICAgICdib29sJyxcbiAgICBCT09MX1ZFQzI6ICAgJ2J2ZWMyJyxcbiAgICBCT09MX1ZFQzM6ICAgJ2J2ZWMzJyxcbiAgICBCT09MX1ZFQzQ6ICAgJ2J2ZWM0JyxcblxuICAgIEZMT0FUX01BVDI6ICAnbWF0MicsXG4gICAgRkxPQVRfTUFUMzogICdtYXQzJyxcbiAgICBGTE9BVF9NQVQ0OiAgJ21hdDQnLFxuXG4gICAgU0FNUExFUl8yRDogICdzYW1wbGVyMkQnLFxuICAgIFNBTVBMRVJfQ1VCRTogICdzYW1wbGVyQ3ViZScsXG4gICAgU0FNUExFUl8yRF9BUlJBWTogICdzYW1wbGVyMkRBcnJheScsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXBUeXBlKGdsLCB0eXBlKVxue1xuICAgIGlmICghR0xfVEFCTEUpXG4gICAge1xuICAgICAgICBjb25zdCB0eXBlTmFtZXMgPSBPYmplY3Qua2V5cyhHTF9UT19HTFNMX1RZUEVTKTtcblxuICAgICAgICBHTF9UQUJMRSA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZU5hbWVzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0biA9IHR5cGVOYW1lc1tpXTtcblxuICAgICAgICAgICAgR0xfVEFCTEVbZ2xbdG5dXSA9IEdMX1RPX0dMU0xfVFlQRVNbdG5dO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIEdMX1RBQkxFW3R5cGVdO1xufVxuIiwiLy8gY3YgPSBDYWNoZWRWYWx1ZVxuLy8gdiA9IHZhbHVlXG4vLyB1ZCA9IHVuaWZvcm1EYXRhXG4vLyB1diA9IHVuaWZvcm1WYWx1ZVxuLy8gbCA9IGxvY2F0aW9uXG5jb25zdCBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA9IHtcblxuICAgIGZsb2F0OiBgXG4gICAgaWYoY3YgIT09IHYpXG4gICAge1xuICAgICAgICBjdi52ID0gdjtcbiAgICAgICAgZ2wudW5pZm9ybTFmKGxvY2F0aW9uLCB2KVxuICAgIH1gLFxuXG4gICAgdmVjMjogYFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxuICAgIHtcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xuICAgICAgICBjdlsxXSA9IHZbMV07XG4gICAgICAgIGdsLnVuaWZvcm0yZihsb2NhdGlvbiwgdlswXSwgdlsxXSlcbiAgICB9YCxcblxuICAgIHZlYzM6IGBcbiAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICBjdlsyXSA9IHZbMl07XG5cbiAgICAgICAgZ2wudW5pZm9ybTNmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKVxuICAgIH1gLFxuXG4gICAgdmVjNDogICAgICdnbC51bmlmb3JtNGYobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcblxuICAgIGludDogICAgICAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzI6ICAgICdnbC51bmlmb3JtMmkobG9jYXRpb24sIHZbMF0sIHZbMV0pJyxcbiAgICBpdmVjMzogICAgJ2dsLnVuaWZvcm0zaShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSknLFxuICAgIGl2ZWM0OiAgICAnZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG5cbiAgICBib29sOiAgICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWMyOiAgICAnZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2WzBdLCB2WzFdKScsXG4gICAgYnZlYzM6ICAgICdnbC51bmlmb3JtM2kobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pJyxcbiAgICBidmVjNDogICAgJ2dsLnVuaWZvcm00aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuXG4gICAgbWF0MjogICAgICdnbC51bmlmb3JtTWF0cml4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDM6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQ0OiAgICAgJ2dsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG5cbiAgICBzYW1wbGVyMkQ6ICAgICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXJDdWJlOiAgICAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEQXJyYXk6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbn07XG5cbmNvbnN0IEdMU0xfVE9fQVJSQVlfU0VUVEVSUyA9IHtcblxuICAgIGZsb2F0OiAgICBgZ2wudW5pZm9ybTFmdihsb2NhdGlvbiwgdilgLFxuXG4gICAgdmVjMjogICAgIGBnbC51bmlmb3JtMmZ2KGxvY2F0aW9uLCB2KWAsXG4gICAgdmVjMzogICAgIGBnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2KWAsXG4gICAgdmVjNDogICAgICdnbC51bmlmb3JtNGZ2KGxvY2F0aW9uLCB2KScsXG5cbiAgICBtYXQ0OiAgICAgJ2dsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MzogICAgICdnbC51bmlmb3JtTWF0cml4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDI6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcblxuICAgIGludDogICAgICAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAgICAnZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMzOiAgICAnZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWM0OiAgICAnZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdiknLFxuXG4gICAgYm9vbDogICAgICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzI6ICAgICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzM6ICAgICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzQ6ICAgICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG5cbiAgICBzYW1wbGVyMkQ6ICAgICAgJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyQ3ViZTogICAgJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkRBcnJheTogJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlVW5pZm9ybXNTeW5jKGdyb3VwLCB1bmlmb3JtRGF0YSlcbntcbiAgICBsZXQgdGV4dHVyZUNvdW50ID0gMDtcbiAgICBsZXQgZnVuYyA9IGB2YXIgdiA9IG51bGw7XG4gICAgdmFyIGN2ID0gbnVsbFxuICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsYDtcblxuICAgIGZvciAoY29uc3QgaSBpbiBncm91cC51bmlmb3JtcylcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB1bmlmb3JtRGF0YVtpXTtcblxuICAgICAgICBpZiAoIWRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS5ncm91cClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtR3JvdXAodXYuJHtpfSk7XG4gICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPICYmIHVuaWZvcm1EYXRhW2ldLnZhbHVlICE9PSAwIDwtLSBkbyB3ZSBzdGlsbCBuZWVkIHRoaXM/XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdmbG9hdCcgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgIGlmKHV2LiR7aX0gIT09IHVkLiR7aX0udmFsdWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdWQuJHtpfS52YWx1ZSA9IHV2LiR7aX1cbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodWQuJHtpfS5sb2NhdGlvbiwgdXYuJHtpfSlcbiAgICAgICAgICAgIH1cXG5gO1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgZWxzZSBpZiAoKGRhdGEudHlwZSA9PT0gJ3NhbXBsZXIyRCcgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlckN1YmUnIHx8IGRhdGEudHlwZSA9PT0gJ3NhbXBsZXIyREFycmF5JykgJiYgZGF0YS5zaXplID09PSAxICYmICFkYXRhLmlzQXJyYXkpXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAge1xuICAgICAgICAgICAgZnVuYyArPSBgXG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodXYuJHtpfSwgJHt0ZXh0dXJlQ291bnR9KTtcblxuICAgICAgICAgICAgaWYodWQuJHtpfS52YWx1ZSAhPT0gJHt0ZXh0dXJlQ291bnR9KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVkLiR7aX0udmFsdWUgPSAke3RleHR1cmVDb3VudH07XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVkLiR7aX0ubG9jYXRpb24sICR7dGV4dHVyZUNvdW50fSk7XFxuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cbiAgICAgICAgICAgIH1cXG5gO1xuXG4gICAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdtYXQzJyAmJiBkYXRhLnNpemUgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS5hICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBhbmQgc29tZSBzbWFydCBjYWNoaW5nIGRpcnR5IGlkcyBoZXJlIVxuICAgICAgICAgICAgICAgIGZ1bmMgKz0gYFxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWQuJHtpfS5sb2NhdGlvbiwgZmFsc2UsIHV2LiR7aX0udG9BcnJheSh0cnVlKSk7XG4gICAgICAgICAgICAgICAgXFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVkLiR7aX0ubG9jYXRpb24sIGZhbHNlLCB1di4ke2l9KTtcbiAgICAgICAgICAgICAgICBcXG5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3ZlYzInICYmIGRhdGEuc2l6ZSA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyAtIGRvIHdlIG5lZWQgYm90aCBoZXJlP1xuICAgICAgICAgICAgLy8gbWF5YmUgd2UgY2FuIGdldCBhd2F5IHdpdGggb25seSB1c2luZyBwb2ludHM/XG4gICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0ueCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gYFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuJHtpfS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2ID0gdXYuJHtpfTtcblxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkLiR7aX0ubG9jYXRpb24sIHYueCwgdi55KTtcbiAgICAgICAgICAgICAgICB9XFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkLiR7aX0udmFsdWU7XG4gICAgICAgICAgICAgICAgdiA9IHV2LiR7aX07XG5cbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWQuJHtpfS5sb2NhdGlvbiwgdlswXSwgdlsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxcbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAndmVjNCcgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gZG8gd2UgbmVlZCBib3RoIGhlcmU/XG4gICAgICAgICAgICAvLyBtYXliZSB3ZSBjYW4gZ2V0IGF3YXkgd2l0aCBvbmx5IHVzaW5nIHBvaW50cz9cbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS53aWR0aCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gYFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuJHtpfS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2ID0gdXYuJHtpfTtcblxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSB8fCBjdlsyXSAhPT0gdi53aWR0aCB8fCBjdlszXSAhPT0gdi5oZWlnaHQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XG4gICAgICAgICAgICAgICAgICAgIGN2WzJdID0gdi53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgY3ZbM10gPSB2LmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkLiR7aX0ubG9jYXRpb24sIHYueCwgdi55LCB2LndpZHRoLCB2LmhlaWdodClcbiAgICAgICAgICAgICAgICB9XFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkLiR7aX0udmFsdWU7XG4gICAgICAgICAgICAgICAgdiA9IHV2LiR7aX07XG5cbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSB8fCBjdlszXSAhPT0gdlszXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHZbMl07XG4gICAgICAgICAgICAgICAgICAgIGN2WzNdID0gdlszXTtcblxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWQuJHtpfS5sb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlVHlwZSA9IChkYXRhLnNpemUgPT09IDEpID8gR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQgOiBHTFNMX1RPX0FSUkFZX1NFVFRFUlM7XG5cbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gIHRlbXBsYXRlVHlwZVtkYXRhLnR5cGVdLnJlcGxhY2UoJ2xvY2F0aW9uJywgYHVkLiR7aX0ubG9jYXRpb25gKTtcblxuICAgICAgICAgICAgZnVuYyArPSBgXG4gICAgICAgICAgICBjdiA9IHVkLiR7aX0udmFsdWU7XG4gICAgICAgICAgICB2ID0gdXYuJHtpfTtcbiAgICAgICAgICAgICR7dGVtcGxhdGV9O1xcbmA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCd1ZCcsICd1dicsICdyZW5kZXJlcicsIGZ1bmMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy1mdW5jXG59XG4iLCJjb25zdCBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycsXG4gICAgJ3ZvaWQgbWFpbih2b2lkKXsnLFxuICAgICdmbG9hdCB0ZXN0ID0gMC4xOycsXG4gICAgJyVmb3Jsb29wJScsXG4gICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLFxuICAgICd9Jyxcbl0uam9pbignXFxuJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIobWF4SWZzLCBnbClcbntcbiAgICBpZiAobWF4SWZzID09PSAwKVxuICAgIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIG9mIGAwYCBwYXNzZWQgdG8gYGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXJgJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG5cbiAgICB3aGlsZSAodHJ1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgICB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50U3JjID0gZnJhZ1RlbXBsYXRlLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSk7XG5cbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgZnJhZ21lbnRTcmMpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1heElmcyA9IChtYXhJZnMgLyAyKSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB2YWxpZCFcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heElmcztcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKVxue1xuICAgIGxldCBzcmMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4SWZzOyArK2kpXG4gICAge1xuICAgICAgICBpZiAoaSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPCBtYXhJZnMgLSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBzcmMgKz0gYGlmKHRlc3QgPT0gJHtpfS4wKXt9YDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzcmM7XG59XG4iLCIvLyBDYWNoZSB0aGUgcmVzdWx0IHRvIHByZXZlbnQgcnVubmluZyB0aGlzIG92ZXIgYW5kIG92ZXJcbmxldCB1bnNhZmVFdmFsO1xuXG4vKipcbiAqIE5vdCBhbGwgcGxhdGZvcm1zIGFsbG93IHRvIGdlbmVyYXRlIGZ1bmN0aW9uIGNvZGUgKGUuZy4sIGBuZXcgRnVuY3Rpb25gKS5cbiAqIHRoaXMgcHJvdmlkZXMgdGhlIHBsYXRmb3JtLWxldmVsIGRldGVjdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVuc2FmZUV2YWxTdXBwb3J0ZWQoKVxue1xuICAgIGlmICh0eXBlb2YgdW5zYWZlRXZhbCA9PT0gJ2Jvb2xlYW4nKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHVuc2FmZUV2YWw7XG4gICAgfVxuXG4gICAgdHJ5XG4gICAge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1uZXctZnVuYyAqL1xuICAgICAgICBjb25zdCBmdW5jID0gbmV3IEZ1bmN0aW9uKCdwYXJhbTEnLCAncGFyYW0yJywgJ3BhcmFtMycsICdyZXR1cm4gcGFyYW0xW3BhcmFtMl0gPT09IHBhcmFtMzsnKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1uZXctZnVuYyAqL1xuXG4gICAgICAgIHVuc2FmZUV2YWwgPSBmdW5jKHsgYTogJ2InIH0sICdhJywgJ2InKSA9PT0gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpXG4gICAge1xuICAgICAgICB1bnNhZmVFdmFsID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuc2FmZUV2YWw7XG59XG4iLCIvLyBpbXBvcnQgKiBhcyBmcm9tICcuLi9zeXN0ZW1zL3NoYWRlci9zaGFkZXInO1xuaW1wb3J0IHsgc2V0UHJlY2lzaW9uLFxuICAgIGRlZmF1bHRWYWx1ZSxcbiAgICBjb21waWxlUHJvZ3JhbSxcbiAgICBtYXBTaXplLFxuICAgIG1hcFR5cGUsXG4gICAgZ2V0VGVzdENvbnRleHQsXG4gICAgZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24gfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IFByb2dyYW1DYWNoZSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCBkZWZhdWx0RnJhZ21lbnQgZnJvbSAnLi9kZWZhdWx0UHJvZ3JhbS5mcmFnJztcbmltcG9ydCBkZWZhdWx0VmVydGV4IGZyb20gJy4vZGVmYXVsdFByb2dyYW0udmVydCc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFBSRUNJU0lPTiB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmxldCBVSUQgPSAwO1xuXG5jb25zdCBuYW1lQ2FjaGUgPSB7fTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgc2hhZGVyIHByb2dyYW0uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9ncmFtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIC0gTmFtZSBmb3Igc2hhZGVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSA9ICdwaXhpLXNoYWRlcicpXG4gICAge1xuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhTcmM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRGcmFnbWVudFNyYztcblxuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHRoaXMudmVydGV4U3JjLnRyaW0oKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHRoaXMuZnJhZ21lbnRTcmMudHJpbSgpO1xuXG4gICAgICAgIGlmICh0aGlzLnZlcnRleFNyYy5zdWJzdHJpbmcoMCwgOCkgIT09ICcjdmVyc2lvbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccysvZywgJy0nKTtcblxuICAgICAgICAgICAgaWYgKG5hbWVDYWNoZVtuYW1lXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0rKztcbiAgICAgICAgICAgICAgICBuYW1lICs9IGAtJHtuYW1lQ2FjaGVbbmFtZV19YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0gPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9IGAjZGVmaW5lIFNIQURFUl9OQU1FICR7bmFtZX1cXG4ke3RoaXMudmVydGV4U3JjfWA7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gYCNkZWZpbmUgU0hBREVSX05BTUUgJHtuYW1lfVxcbiR7dGhpcy5mcmFnbWVudFNyY31gO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHNldFByZWNpc2lvbih0aGlzLnZlcnRleFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX1ZFUlRFWCwgUFJFQ0lTSU9OLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHNldFByZWNpc2lvbih0aGlzLmZyYWdtZW50U3JjLCBzZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQsIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3VycmVudGx5IHRoaXMgZG9lcyBub3QgZXh0cmFjdCBzdHJ1Y3RzIG9ubHkgZGVmYXVsdCB0eXBlc1xuICAgICAgICB0aGlzLmV4dHJhY3REYXRhKHRoaXMudmVydGV4U3JjLCB0aGlzLmZyYWdtZW50U3JjKTtcblxuICAgICAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIHN0b3JlIHNoYWRlciByZWZlcmVuY2VzLi5cbiAgICAgICAgdGhpcy5nbFByb2dyYW1zID0ge307XG5cbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSBkYXRhIGZvciBhIGJ1eSBjcmVhdGluZyBhIHNtYWxsIHRlc3QgcHJvZ3JhbVxuICAgICAqIG9yIHJlYWRpbmcgdGhlIHNyYyBkaXJlY3RseS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqL1xuICAgIGV4dHJhY3REYXRhKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG5cbiAgICAgICAgaWYgKGdsKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9ncmFtID0gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuXG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB0aGlzLmdldEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgZ2wpO1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybURhdGEocHJvZ3JhbSwgZ2wpO1xuXG4gICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVEYXRhID0ge307XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBhdHRyaWJ1dGUgZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBbcHJvZ3JhbV0gLSB0aGUgV2ViR0wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBbZ2xdIC0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSBhdHRyaWJ1dGUgZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgZ2V0QXR0cmlidXRlRGF0YShwcm9ncmFtLCBnbClcbiAgICB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlc0FycmF5ID0gW107XG5cbiAgICAgICAgY29uc3QgdG90YWxBdHRyaWJ1dGVzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbEF0dHJpYnV0ZXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYXR0cmliRGF0YSA9IGdsLmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpKTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBtYXBUeXBlKGdsLCBhdHRyaWJEYXRhLnR5cGUpO1xuXG4gICAgICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgbmFtZTogYXR0cmliRGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgIHNpemU6IG1hcFNpemUodHlwZSksXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuXG4gICAgICAgICAgICBhdHRyaWJ1dGVzW2F0dHJpYkRhdGEubmFtZV0gPSBkYXRhO1xuICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5LnB1c2goZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBhdHRyaWJ1dGVzQXJyYXkuc29ydCgoYSwgYikgPT4gKGEubmFtZSA+IGIubmFtZSkgPyAxIDogLTEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbmZ1c2luZy1hcnJvd1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlc0FycmF5Lmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzQXJyYXlbaV0ubG9jYXRpb24gPSBpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgdW5pZm9ybSBkYXRhIGZyb20gdGhlIHByb2dyYW1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHt3ZWJHTC1wcm9ncmFtfSBbcHJvZ3JhbV0gLSB0aGUgd2ViZ2wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB7Y29udGV4dH0gW2dsXSAtIHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSB0aGUgdW5pZm9ybSBkYXRhIGZvciB0aGlzIHByb2dyYW1cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtRGF0YShwcm9ncmFtLCBnbClcbiAgICB7XG4gICAgICAgIGNvbnN0IHVuaWZvcm1zID0ge307XG5cbiAgICAgICAgY29uc3QgdG90YWxVbmlmb3JtcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcblxuICAgICAgICAvLyBUT0RPIGV4cG9zZSB0aGlzIGFzIGEgcHJvcD9cbiAgICAgICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcbiAgICAgICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsVW5pZm9ybXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdW5pZm9ybURhdGEgPSBnbC5nZXRBY3RpdmVVbmlmb3JtKHByb2dyYW0sIGkpO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHVuaWZvcm1EYXRhLm5hbWUucmVwbGFjZSgvXFxbLio/XFxdLywgJycpO1xuXG4gICAgICAgICAgICBjb25zdCBpc0FycmF5ID0gdW5pZm9ybURhdGEubmFtZS5tYXRjaCgvXFxbLio/XFxdLywgJycpO1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IG1hcFR5cGUoZ2wsIHVuaWZvcm1EYXRhLnR5cGUpO1xuXG4gICAgICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgICAgICB1bmlmb3Jtc1tuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIHNpemU6IHVuaWZvcm1EYXRhLnNpemUsXG4gICAgICAgICAgICAgICAgaXNBcnJheTppc0FycmF5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUodHlwZSwgdW5pZm9ybURhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuaWZvcm1zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgZGVmYXVsdFZlcnRleFNyYygpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgZGVmYXVsdEZyYWdtZW50U3JjKClcbiAgICB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHByb2dyYW0gYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICAgICAqIHRoaXMgbWV0aG9kIHdpbGwgYWxzbyBjaGVjayB0byBzZWUgaWYgdGhlcmUgaXMgYSBjYWNoZWQgcHJvZ3JhbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5Qcm9ncmFtfSBhbiBzaGlueSBuZXcgUGl4aSBzaGFkZXIhXG4gICAgICovXG4gICAgc3RhdGljIGZyb20odmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGtleSA9IHZlcnRleFNyYyArIGZyYWdtZW50U3JjO1xuXG4gICAgICAgIGxldCBwcm9ncmFtID0gUHJvZ3JhbUNhY2hlW2tleV07XG5cbiAgICAgICAgaWYgKCFwcm9ncmFtKVxuICAgICAgICB7XG4gICAgICAgICAgICBQcm9ncmFtQ2FjaGVba2V5XSA9IHByb2dyYW0gPSBuZXcgUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwcm9ncmFtO1xuICAgIH1cbn1cbiIsImltcG9ydCBQcm9ncmFtIGZyb20gJy4vUHJvZ3JhbSc7XG5pbXBvcnQgVW5pZm9ybUdyb3VwIGZyb20gJy4vVW5pZm9ybUdyb3VwJztcblxuLyoqXG4gKiBBIGhlbHBlciBjbGFzcyBmb3Igc2hhZGVyc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuY2xhc3MgU2hhZGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IFtwcm9ncmFtXSAtIFRoZSBwcm9ncmFtIHRoZSBzaGFkZXIgd2lsbCB1c2UuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvZ3JhbSwgdW5pZm9ybXMpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvZ3JhbSB0aGF0IHRoZSBzaGFkZXIgdXNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlByb2dyYW19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuXG4gICAgICAgIC8vIGxldHMgc2VlIHdoYXRzIGJlZW4gcGFzc2VkIGluXG4gICAgICAgIC8vIHVuaWZvcm1zIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gYSB1bmlmb3JtIGdyb3VwXG4gICAgICAgIGlmICh1bmlmb3JtcylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHVuaWZvcm1zIGluc3RhbmNlb2YgVW5pZm9ybUdyb3VwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gdW5pZm9ybXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh7fSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aW1lIHRvIGJ1aWxkIHNvbWUgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAgICAgLy8gSSBndWVzcyBkb3duIHRoZSBsaW5lIHRoaXMgY291bGQgc29ydCBvZiBnZW5lcmF0ZSBhbiBpbnN0cnVjdGlvbiBsaXN0IHJhdGhlciB0aGFuIHVzZSBkaXJ0eSBpZHM/XG4gICAgICAgIC8vIGRvZXMgdGhlIHRyaWNrIGZvciBub3cgdGhvdWdoIVxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXNbaV0gPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8gbW92ZSB0byBzaGFkZXIgc3lzdGVtLi5cbiAgICBjaGVja1VuaWZvcm1FeGlzdHMobmFtZSwgZ3JvdXApXG4gICAge1xuICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbbmFtZV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIGdyb3VwLnVuaWZvcm1zKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB1bmlmb3JtID0gZ3JvdXAudW5pZm9ybXNbaV07XG5cbiAgICAgICAgICAgIGlmICh1bmlmb3JtLmdyb3VwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVW5pZm9ybUV4aXN0cyhuYW1lLCB1bmlmb3JtKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIC8vIHVzYWdlIGNvdW50IG9uIHByb2dyYW1zP1xuICAgICAgICAvLyByZW1vdmUgaWYgbm90IHVzZWQhXG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaGFkZXIgdW5pZm9ybSB2YWx1ZXMsIHNob3J0Y3V0IGZvciBgdW5pZm9ybUdyb3VwLnVuaWZvcm1zYFxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKi9cbiAgICBnZXQgdW5pZm9ybXMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBzaGFkZXIgYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLlNoYWRlcn0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcblxuICAgICAgICByZXR1cm4gbmV3IFNoYWRlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaGFkZXI7XG4iLCJpbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuY29uc3QgQkxFTkQgPSAwO1xuY29uc3QgT0ZGU0VUID0gMTtcbmNvbnN0IENVTExJTkcgPSAyO1xuY29uc3QgREVQVEhfVEVTVCA9IDM7XG5jb25zdCBXSU5ESU5HID0gNDtcblxuLyoqXG4gKiBUaGlzIGlzIGEgV2ViR0wgc3RhdGUsIGFuZCBpcyBpcyBwYXNzZWQgVGhlIFdlYkdMIFN0YXRlTWFuYWdlci5cbiAqXG4gKiBFYWNoIG1lc2ggcmVuZGVyZWQgbWF5IHJlcXVpcmUgV2ViR0wgdG8gYmUgaW4gYSBkaWZmZXJlbnQgc3RhdGUuXG4gKiBGb3IgZXhhbXBsZSB5b3UgbWF5IHdhbnQgZGlmZmVyZW50IGJsZW5kIG1vZGUgb3IgdG8gZW5hYmxlIHBvbHlnb24gb2Zmc2V0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGVcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgPSAwO1xuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuXG4gICAgICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgICAgICAvLyAgdGhpcy5kZXB0aFRlc3QgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlcyBibGVuZGluZyBvZiB0aGUgY29tcHV0ZWQgZnJhZ21lbnQgY29sb3IgdmFsdWVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBibGVuZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKTtcbiAgICB9XG5cbiAgICBzZXQgYmxlbmQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IEJMRU5EKSkgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQkxFTkQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGVzIGFkZGluZyBhbiBvZmZzZXQgdG8gZGVwdGggdmFsdWVzIG9mIHBvbHlnb24ncyBmcmFnbWVudHNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBnZXQgb2Zmc2V0cygpXG4gICAge1xuICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSk7XG4gICAgfVxuXG4gICAgc2V0IG9mZnNldHModmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCkpICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IE9GRlNFVCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZXMgY3VsbGluZyBvZiBwb2x5Z29ucy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBnZXQgY3VsbGluZygpXG4gICAge1xuICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQ1VMTElORykpO1xuICAgIH1cblxuICAgIHNldCBjdWxsaW5nKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBDVUxMSU5HKSkgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQ1VMTElORyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZXMgZGVwdGggY29tcGFyaXNvbnMgYW5kIHVwZGF0ZXMgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBnZXQgZGVwdGhUZXN0KClcbiAgICB7XG4gICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSk7XG4gICAgfVxuXG4gICAgc2V0IGRlcHRoVGVzdCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgREVQVEhfVEVTVCkpICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IERFUFRIX1RFU1QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IGZyb250IG9yIGJhY2stZmFjaW5nIHBvbHlnb25zIGNhbiBiZSBjdWxsZWQuXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGdldCBjbG9ja3dpc2VGcm9udEZhY2UoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IFdJTkRJTkcpKTtcbiAgICB9XG5cbiAgICBzZXQgY2xvY2t3aXNlRnJvbnRGYWNlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSkgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgV0lORElORyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHdoZW4gdGhpcyBzdGF0ZSBpcyBzZXQuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKiBTZXR0aW5nIHRoaXMgbW9kZSB0byBhbnl0aGluZyBvdGhlciB0aGFuIE5PX0JMRU5EIHdpbGwgYXV0b21hdGljYWxseSBzd2l0Y2ggYmxlbmRpbmcgb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgKi9cbiAgICBnZXQgYmxlbmRNb2RlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ibGVuZE1vZGU7XG4gICAgfVxuXG4gICAgc2V0IGJsZW5kTW9kZSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLmJsZW5kID0gKHZhbHVlICE9PSBCTEVORF9NT0RFUy5OT05FKTtcbiAgICAgICAgdGhpcy5fYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHBvbHlnb24gb2Zmc2V0LiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiAwIHdpbGwgYXV0b21hdGljYWxseSBlbmFibGUgcG9seWdvbiBvZmZzZXQgZmlsbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgZ2V0IHBvbHlnb25PZmZzZXQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvbHlnb25PZmZzZXQ7XG4gICAgfVxuXG4gICAgc2V0IHBvbHlnb25PZmZzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5vZmZzZXRzID0gISF2YWx1ZTtcbiAgICAgICAgdGhpcy5fcG9seWdvbk9mZnNldCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHN0YXRpYyBmb3IyZCgpXG4gICAge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuXG4gICAgICAgIHN0YXRlLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5ibGVuZCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IFNoYWRlciBmcm9tICcuLi9zaGFkZXIvU2hhZGVyJztcbmltcG9ydCBQcm9ncmFtIGZyb20gJy4uL3NoYWRlci9Qcm9ncmFtJztcbmltcG9ydCBTdGF0ZSBmcm9tICcuLi9zdGF0ZS9TdGF0ZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCBkZWZhdWx0VmVydGV4IGZyb20gJy4vZGVmYXVsdEZpbHRlci52ZXJ0JztcbmltcG9ydCBkZWZhdWx0RnJhZ21lbnQgZnJvbSAnLi9kZWZhdWx0RmlsdGVyLmZyYWcnO1xuXG4vKipcbiAqIEZpbHRlciBpcyBhIHNwZWNpYWwgdHlwZSBvZiBXZWJHTCBzaGFkZXIgdGhhdCBpcyBhcHBsaWVkIHRvIHRoZSBzY3JlZW4uXG4gKlxuICoge0BsaW5rIGh0dHA6Ly9waXhpanMuaW8vZXhhbXBsZXMvIy9maWx0ZXJzL2JsdXItZmlsdGVyLmpzIEV4YW1wbGV9IG9mIHRoZVxuICoge0BsaW5rIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyIEJsdXJGaWx0ZXJ9LlxuICpcbiAqICMjIyBVc2FnZVxuICogRmlsdGVycyBjYW4gYmUgYXBwbGllZCB0byBhbnkgRGlzcGxheU9iamVjdCBvciBDb250YWluZXIuXG4gKiBQaXhpSlMnIGBGaWx0ZXJTeXN0ZW1gIHJlbmRlcnMgdGhlIGNvbnRhaW5lciBpbnRvIHRlbXBvcmFyeSBGcmFtZWJ1ZmZlcixcbiAqIHRoZW4gZmlsdGVyIHJlbmRlcnMgaXQgdG8gdGhlIHNjcmVlbi5cbiAqIE11bHRpcGxlIGZpbHRlcnMgY2FuIGJlIGFkZGVkIHRvIHRoZSBgZmlsdGVyc2AgYXJyYXkgcHJvcGVydHkgYW5kIHN0YWNrZWQgb24gZWFjaCBvdGhlci5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0IGZpbHRlciA9IG5ldyBQSVhJLkZpbHRlcihteVNoYWRlclZlcnQsIG15U2hhZGVyRnJhZywgeyBteVVuaWZvcm06IDAuNSB9KTtcbiAqIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogY29udGFpbmVyLmZpbHRlcnMgPSBbZmlsdGVyXTtcbiAqIGBgYFxuICpcbiAqICMjIyBQcmV2aW91cyBWZXJzaW9uIERpZmZlcmVuY2VzXG4gKlxuICogSW4gUGl4aUpTICoqdjMqKiwgYSBmaWx0ZXIgd2FzIGFsd2F5cyBhcHBsaWVkIHRvIF93aG9sZSBzY3JlZW5fLlxuICpcbiAqIEluIFBpeGlKUyAqKnY0KiosIGEgZmlsdGVyIGNhbiBiZSBhcHBsaWVkIF9vbmx5IHBhcnQgb2YgdGhlIHNjcmVlbl8uXG4gKiBEZXZlbG9wZXJzIGhhZCB0byBjcmVhdGUgYSBzZXQgb2YgdW5pZm9ybXMgdG8gZGVhbCB3aXRoIGNvb3JkaW5hdGVzLlxuICpcbiAqIEluIFBpeGlKUyAqKnY1KiogY29tYmluZXMgX2JvdGggYXBwcm9hY2hlc18uXG4gKiBEZXZlbG9wZXJzIGNhbiB1c2Ugbm9ybWFsIGNvb3JkaW5hdGVzIG9mIHYzIGFuZCB0aGVuIGFsbG93IGZpbHRlciB0byB1c2UgcGFydGlhbCBGcmFtZWJ1ZmZlcnMsXG4gKiBicmluZ2luZyB0aG9zZSBleHRyYSB1bmlmb3JtcyBpbnRvIGFjY291bnQuXG4gKlxuICogQWxzbyBiZSBhd2FyZSB0aGF0IHdlIGhhdmUgY2hhbmdlZCBkZWZhdWx0IHZlcnRleCBzaGFkZXIsIHBsZWFzZSBjb25zdWx0XG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3dpa2kvdjUtQ3JlYXRpbmctZmlsdGVycyBXaWtpfS5cbiAqXG4gKiAjIyMgQnVpbHQtaW4gVW5pZm9ybXNcbiAqXG4gKiBQaXhpSlMgdmlld3BvcnQgdXNlcyBzY3JlZW4gKENTUykgY29vcmRpbmF0ZXMsIGAoMCwgMCwgcmVuZGVyZXIuc2NyZWVuLndpZHRoLCByZW5kZXJlci5zY3JlZW4uaGVpZ2h0KWAsXG4gKiBhbmQgYHByb2plY3Rpb25NYXRyaXhgIHVuaWZvcm0gbWFwcyBpdCB0byB0aGUgZ2wgdmlld3BvcnQuXG4gKlxuICogKip1U2FtcGxlcioqXG4gKlxuICogVGhlIG1vc3QgaW1wb3J0YW50IHVuaWZvcm0gaXMgdGhlIGlucHV0IHRleHR1cmUgdGhhdCBjb250YWluZXIgd2FzIHJlbmRlcmVkIGludG8uXG4gKiBfSW1wb3J0YW50IG5vdGU6IGFzIHdpdGggYWxsIEZyYW1lYnVmZmVycyBpbiBQaXhpSlMsIGJvdGggaW5wdXQgYW5kIG91dHB1dCBhcmVcbiAqIHByZW11bHRpcGxpZWQgYnkgYWxwaGEuX1xuICpcbiAqIEJ5IGRlZmF1bHQsIGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXMgYXJlIHBhc3NlZCB0byBmcmFnbWVudCBzaGFkZXIgd2l0aCBgdlRleHR1cmVDb29yZGAuXG4gKiBVc2UgaXQgdG8gc2FtcGxlIHRoZSBpbnB1dC5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0IGZyYWdtZW50ID0gYFxuICogdmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG4gKiB1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcbiAqIHZvaWQgbWFpbih2b2lkKVxuICoge1xuICogICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcbiAqIH1cbiAqIGA7XG4gKlxuICogY29uc3QgbXlGaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobnVsbCwgZnJhZ21lbnQpO1xuICogYGBgXG4gKlxuICogVGhpcyBmaWx0ZXIgaXMganVzdCBvbmUgdW5pZm9ybSBsZXNzIHRoYW4ge0BsaW5rIFBJWEkuZmlsdGVycy5BbHBoYUZpbHRlciBBbHBoYUZpbHRlcn0uXG4gKlxuICogKipvdXRwdXRGcmFtZSoqXG4gKlxuICogVGhlIGBvdXRwdXRGcmFtZWAgaG9sZHMgdGhlIHJlY3RhbmdsZSB3aGVyZSBmaWx0ZXIgaXMgYXBwbGllZCBpbiBzY3JlZW4gKENTUykgY29vcmRpbmF0ZXMuXG4gKiBJdCdzIHRoZSBzYW1lIGFzIGByZW5kZXJlci5zY3JlZW5gIGZvciBhIGZ1bGxzY3JlZW4gZmlsdGVyLlxuICogT25seSBhIHBhcnQgb2YgIGBvdXRwdXRGcmFtZS56d2Agc2l6ZSBvZiB0ZW1wb3JhcnkgRnJhbWVidWZmZXIgaXMgdXNlZCxcbiAqIGAoMCwgMCwgb3V0cHV0RnJhbWUud2lkdGgsIG91dHB1dEZyYW1lLmhlaWdodClgLFxuICpcbiAqIEZpbHRlcnMgdXNlcyB0aGlzIHF1YWQgdG8gbm9ybWFsaXplZCAoMC0xKSBzcGFjZSwgaXRzIHBhc3NlZCBpbnRvIGBhVmVydGV4UG9zaXRpb25gIGF0dHJpYnV0ZS5cbiAqIFRvIGNhbGN1bGF0ZSB2ZXJ0ZXggcG9zaXRpb24gaW4gc2NyZWVuIHNwYWNlIHVzaW5nIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2U6XG4gKlxuICogYGBgXG4gKiB2ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcbiAqIHtcbiAqICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcbiAqICAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiAqKmlucHV0U2l6ZSoqXG4gKlxuICogVGVtcG9yYXJ5IGZyYW1lYnVmZmVyIGlzIGRpZmZlcmVudCwgaXQgY2FuIGJlIGVpdGhlciB0aGUgc2l6ZSBvZiBzY3JlZW4sIGVpdGhlciBwb3dlci1vZi10d28uXG4gKiBUaGUgYGlucHV0U2l6ZS54eWAgYXJlIHNpemUgb2YgdGVtcG9yYXJ5IGZyYW1lYnVmZmVyIHRoYXQgaG9sZHMgaW5wdXQuXG4gKiBUaGUgYGlucHV0U2l6ZS56d2AgaXMgaW52ZXJ0ZWQsIGl0J3MgYSBzaG9ydGN1dCB0byBldmFkZSBkaXZpc2lvbiBpbnNpZGUgdGhlIHNoYWRlci5cbiAqXG4gKiBTZXQgYGlucHV0U2l6ZS54eSA9IG91dHB1dEZyYW1lLnp3YCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqXG4gKiBUbyBjYWxjdWxhdGUgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlLCB5b3UgaGF2ZSB0byBtYXAgaXQgdG8gZmlsdGVyIG5vcm1hbGl6ZWQgc3BhY2UuXG4gKiBNdWx0aXBseSBieSBgb3V0cHV0RnJhbWUuendgIHRvIGdldCBpbnB1dCBjb29yZGluYXRlLlxuICogRGl2aWRlIGJ5IGBpbnB1dFNpemUueHlgIHRvIGdldCBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGUuXG4gKlxuICogYGBgXG4gKiB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXG4gKiB7XG4gKiAgICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7IC8vIHNhbWUgYXMgL2lucHV0U2l6ZS54eVxuICogfVxuICogYGBgXG4gKiAqKnJlc29sdXRpb24qKlxuICpcbiAqIFRoZSBgcmVzb2x1dGlvbmAgaXMgdGhlIHJhdGlvIG9mIHNjcmVlbiAoQ1NTKSBwaXhlbHMgdG8gcmVhbCBwaXhlbHMuXG4gKlxuICogKippbnB1dFBpeGVsKipcbiAqXG4gKiBgaW5wdXRQaXhlbC54eWAgaXMgdGhlIHNpemUgb2YgZnJhbWVidWZmZXIgaW4gcmVhbCBwaXhlbHMsIHNhbWUgYXMgYGlucHV0U2l6ZS54eSAqIHJlc29sdXRpb25gXG4gKiBgaW5wdXRQaXhlbC56d2AgaXMgaW52ZXJ0ZWQgYGlucHV0UGl4ZWwueHlgLlxuICpcbiAqIEl0J3MgaGFuZHkgZm9yIGZpbHRlcnMgdGhhdCB1c2UgbmVpZ2hib3VyIHBpeGVscywgbGlrZSB7QGxpbmsgUElYSS5maWx0ZXJzLkZYQUFGaWx0ZXIgRlhBQUZpbHRlcn0uXG4gKlxuICogKippbnB1dENsYW1wKipcbiAqXG4gKiBJZiB5b3UgdHJ5IHRvIGdldCBpbmZvIGZyb20gb3V0c2lkZSBvZiB1c2VkIHBhcnQgb2YgRnJhbWVidWZmZXIgLSB5b3UnbGwgZ2V0IHVuZGVmaW5lZCBiZWhhdmlvdXIuXG4gKiBGb3IgZGlzcGxhY2VtZW50cywgY29vcmRpbmF0ZXMgaGFzIHRvIGJlIGNsYW1wZWQuXG4gKlxuICogVGhlIGBpbnB1dENsYW1wLnh5YCBpcyBsZWZ0LXRvcCBwaXhlbCBjZW50ZXIsIHlvdSBtYXkgaWdub3JlIGl0LCBiZWNhdXNlIHdlIHVzZSBsZWZ0LXRvcCBwYXJ0IG9mIEZyYW1lYnVmZmVyXG4gKiBgaW5wdXRDbGFtcC56d2AgaXMgYm90dG9tLXJpZ2h0IHBpeGVsIGNlbnRlci5cbiAqXG4gKiBgYGBcbiAqIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNsYW1wKG1vZGlmaWdlZFRleHR1cmVDb29yZCwgaW5wdXRDbGFtcC54eSwgaW5wdXRDbGFtcC56dykpXG4gKiBgYGBcbiAqIE9SXG4gKiBgYGBcbiAqIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIG1pbihtb2RpZmlnZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKlxuICogIyMjIEFkZGl0aW9uYWwgSW5mb3JtYXRpb25cbiAqXG4gKiBDb21wbGV0ZSBkb2N1bWVudGF0aW9uIG9uIEZpbHRlciB1c2FnZSBpcyBsb2NhdGVkIGluIHRoZVxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogU2luY2UgUGl4aUpTIG9ubHkgaGFkIGEgaGFuZGZ1bCBvZiBidWlsdC1pbiBmaWx0ZXJzLCBhZGRpdGlvbmFsIGZpbHRlcnMgY2FuIGJlIGRvd25sb2FkZWRcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZmlsdGVycyBoZXJlfSBmcm9tIHRoZSBQaXhpSlMgRmlsdGVycyByZXBvc2l0b3J5LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbHRlciBleHRlbmRzIFNoYWRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpXG4gICAge1xuICAgICAgICBjb25zdCBwcm9ncmFtID0gUHJvZ3JhbS5mcm9tKHZlcnRleFNyYyB8fCBGaWx0ZXIuZGVmYXVsdFZlcnRleFNyYyxcbiAgICAgICAgICAgIGZyYWdtZW50U3JjIHx8IEZpbHRlci5kZWZhdWx0RnJhZ21lbnRTcmMpO1xuXG4gICAgICAgIHN1cGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBhZGRpbmcgb2YgdGhlIGZpbHRlci4gU29tZSBmaWx0ZXJzIHJlcXVpcmUgZXh0cmEgc3BhY2UgdG8gYnJlYXRoIHN1Y2ggYXMgYSBibHVyLlxuICAgICAgICAgKiBJbmNyZWFzaW5nIHRoaXMgd2lsbCBhZGQgZXh0cmEgd2lkdGggYW5kIGhlaWdodCB0byB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgdGhhdCB0aGVcbiAgICAgICAgICogZmlsdGVyIGlzIGFwcGxpZWQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFkZGluZyA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBmaWx0ZXIuIFNldHRpbmcgdGhpcyB0byBiZSBsb3dlciB3aWxsIGxvd2VyIHRoZSBxdWFsaXR5IGJ1dFxuICAgICAgICAgKiBpbmNyZWFzZSB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGZpbHRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQgaXMgdHJ1ZSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQsIGlmIGZhbHNlIGl0IHdpbGwgbm90LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCwgUGl4aUpTIHdpbGwgZml0IHRoZSBmaWx0ZXIgYXJlYSBpbnRvIGJvdW5kYXJpZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICAgICAgICogU3dpdGNoIGl0IG9mZiBpZiBpdCBkb2VzIG5vdCB3b3JrIGZvciBzcGVjaWZpYyBzaGFkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9GaXQgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZWdhY3kgZmlsdGVycyB1c2UgcG9zaXRpb24gYW5kIHV2cyBmcm9tIGF0dHJpYnV0ZXNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxlZ2FjeSA9ICEhdGhpcy5wcm9ncmFtLmF0dHJpYnV0ZURhdGEuYVRleHR1cmVDb29yZDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIHRoZSBmaWx0ZXIgcmVxdWlyZXMgdG8gcmVuZGVyXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgcmVuZGVyZXIgdG8gcmV0cmlldmUgdGhlIGZpbHRlciBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2N1cnJlbnRTdGF0ZV0gLSBJdCdzIGN1cnJlbnQgc3RhdGUgb2YgZmlsdGVyLlxuICAgICAqICAgICAgICBUaGVyZSBhcmUgc29tZSB1c2VmdWwgcHJvcGVydGllcyBpbiB0aGUgY3VycmVudFN0YXRlIDpcbiAgICAgKiAgICAgICAgdGFyZ2V0LCBmaWx0ZXJzLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSwgcmVuZGVyVGFyZ2V0LCByZXNvbHV0aW9uXG4gICAgICovXG4gICAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIsIGN1cnJlbnRTdGF0ZSlcbiAgICB7XG4gICAgICAgIC8vIGRvIGFzIHlvdSBwbGVhc2UhXG5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhciwgY3VycmVudFN0YXRlKTtcblxuICAgICAgICAvLyBvciBqdXN0IGRvIGEgcmVndWxhciByZW5kZXIuLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgKi9cbiAgICBnZXQgYmxlbmRNb2RlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICB9XG5cbiAgICBzZXQgYmxlbmRNb2RlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgZGVmYXVsdFZlcnRleFNyYygpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRGcmFnbWVudFNyYygpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50O1xuICAgIH1cbn1cblxuLyoqXG4gKiBVc2VkIGZvciBjYWNoaW5nIHNoYWRlciBJRHNcbiAqXG4gKiBAc3RhdGljXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3RlY3RlZFxuICovXG5GaWx0ZXIuU09VUkNFX0tFWV9NQVAgPSB7fTtcblxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmNvbnN0IHRlbXBNYXQgPSBuZXcgTWF0cml4KCk7XG5cbi8qKlxuICogQ2xhc3MgY29udHJvbHMgdXYgbWFwcGluZyBmcm9tIFRleHR1cmUgbm9ybWFsIHNwYWNlIHRvIEJhc2VUZXh0dXJlIG5vcm1hbCBzcGFjZS5cbiAqXG4gKiBUYWtlcyBgdHJpbWAgYW5kIGByb3RhdGVgIGludG8gYWNjb3VudC4gTWF5IGNvbnRhaW4gY2xhbXAgc2V0dGluZ3MgZm9yIE1lc2hlcyBhbmQgVGlsaW5nU3ByaXRlLlxuICpcbiAqIENhbiBiZSB1c2VkIGluIFRleHR1cmUgYHV2TWF0cml4YCBmaWVsZCwgb3Igc2VwYXJhdGVseSwgeW91IGNhbiB1c2UgZGlmZmVyZW50IGNsYW1wIHNldHRpbmdzIG9uIHRoZSBzYW1lIHRleHR1cmUuXG4gKiBJZiB5b3Ugd2FudCB0byBhZGQgc3VwcG9ydCBmb3IgdGV4dHVyZSByZWdpb24gb2YgY2VydGFpbiBmZWF0dXJlIG9yIGZpbHRlciwgdGhhdCdzIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLlxuICpcbiAqIFRha2VzIHRyYWNrIG9mIFRleHR1cmUgY2hhbmdlcyB0aHJvdWdoIGBfbGFzdFRleHR1cmVJRGAgcHJpdmF0ZSBmaWVsZC5cbiAqIFVzZSBgdXBkYXRlKClgIG1ldGhvZCBjYWxsIHRvIHRyYWNrIGl0IGZyb20gb3V0c2lkZS5cbiAqXG4gKiBAc2VlIFBJWEkuVGV4dHVyZVxuICogQHNlZSBQSVhJLk1lc2hcbiAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZU1hdHJpeFxue1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgb2JzZXJ2ZWQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY2xhbXBNYXJnaW5dIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcsIDAuNSBieSBkZWZhdWx0LiBVc2UgLTAuNSBmb3IgZXh0cmEgYm9yZGVyLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUsIGNsYW1wTWFyZ2luKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRleHR1cmU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hdHJpeCBvcGVyYXRpb24gdGhhdCBjb252ZXJ0cyB0ZXh0dXJlIHJlZ2lvbiBjb29yZHMgdG8gdGV4dHVyZSBjb29yZHNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXBDb29yZCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2xhbXAgcmVnaW9uIGZvciBub3JtYWxpemVkIGNvb3JkcywgbGVmdC10b3AgcGl4ZWwgY2VudGVyIGluIHh5ICwgYm90dG9tLXJpZ2h0IGluIHp3LlxuICAgICAgICAgKiBDYWxjdWxhdGVkIGJhc2VkIG9uIGNsYW1wT2Zmc2V0LlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51Q2xhbXBGcmFtZSA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vcm1hbGl6ZWQgY2xhbXAgb2Zmc2V0LlxuICAgICAgICAgKiBDYWxjdWxhdGVkIGJhc2VkIG9uIGNsYW1wT2Zmc2V0LlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXQgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3MgVGV4dHVyZSBmcmFtZSBjaGFuZ2VzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAgICAgKiBXb3JrcyB3aXRoIFRpbGluZ1Nwcml0ZSBhbmQgTWVzaFxuICAgICAgICAgKiBDaGFuZ2UgdG8gMS41IGlmIHlvdSB0ZXh0dXJlIGhhcyByZXBlYXRlZCByaWdodCBhbmQgYm90dG9tIGxpbmVzLCB0aGF0IGxlYWRzIHRvIHNtb290aGVyIGJvcmRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsYW1wT2Zmc2V0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAgICAgKiBXb3JrcyB3aXRoIFRpbGluZ1Nwcml0ZSBhbmQgTWVzaFxuICAgICAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMC41XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xhbXBNYXJnaW4gPSAodHlwZW9mIGNsYW1wTWFyZ2luID09PSAndW5kZWZpbmVkJykgPyAwLjUgOiBjbGFtcE1hcmdpbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGV4dHVyZSBzaXplIGlzIHRoZSBzYW1lIGFzIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1NpbXBsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRleHR1cmUgcHJvcGVydHlcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgZ2V0IHRleHR1cmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgfVxuXG4gICAgc2V0IHRleHR1cmUodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdXZzIGFycmF5IHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB1dnMgbWVzaCB1dnNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD11dnNdIG91dHB1dFxuICAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IG91dHB1dFxuICAgICAqL1xuICAgIG11bHRpcGx5VXZzKHV2cywgb3V0KVxuICAgIHtcbiAgICAgICAgaWYgKG91dCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBvdXQgPSB1dnM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXQgPSB0aGlzLm1hcENvb3JkO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXZzLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4ID0gdXZzW2ldO1xuICAgICAgICAgICAgY29uc3QgeSA9IHV2c1tpICsgMV07XG5cbiAgICAgICAgICAgIG91dFtpXSA9ICh4ICogbWF0LmEpICsgKHkgKiBtYXQuYykgKyBtYXQudHg7XG4gICAgICAgICAgICBvdXRbaSArIDFdID0gKHggKiBtYXQuYikgKyAoeSAqIG1hdC5kKSArIG1hdC50eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlcyBtYXRyaWNlcyBpZiB0ZXh0dXJlIHdhcyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGU9ZmFsc2VdIGlmIHRydWUsIG1hdHJpY2VzIHdpbGwgYmUgdXBkYXRlZCBhbnkgY2FzZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCBpdCB3YXMgdXBkYXRlZFxuICAgICAqL1xuICAgIHVwZGF0ZShmb3JjZVVwZGF0ZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleCA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXggfHwgIXRleC52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3JjZVVwZGF0ZVxuICAgICAgICAgICAgJiYgdGhpcy5fdXBkYXRlSUQgPT09IHRleC5fdXBkYXRlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gdGV4Ll91cGRhdGVJRDtcblxuICAgICAgICBjb25zdCB1dnMgPSB0ZXguX3V2cztcblxuICAgICAgICB0aGlzLm1hcENvb3JkLnNldCh1dnMueDEgLSB1dnMueDAsIHV2cy55MSAtIHV2cy55MCwgdXZzLngzIC0gdXZzLngwLCB1dnMueTMgLSB1dnMueTAsIHV2cy54MCwgdXZzLnkwKTtcblxuICAgICAgICBjb25zdCBvcmlnID0gdGV4Lm9yaWc7XG4gICAgICAgIGNvbnN0IHRyaW0gPSB0ZXgudHJpbTtcblxuICAgICAgICBpZiAodHJpbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcE1hdC5zZXQob3JpZy53aWR0aCAvIHRyaW0ud2lkdGgsIDAsIDAsIG9yaWcuaGVpZ2h0IC8gdHJpbS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgLXRyaW0ueCAvIHRyaW0ud2lkdGgsIC10cmltLnkgLyB0cmltLmhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLm1hcENvb3JkLmFwcGVuZCh0ZW1wTWF0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRleEJhc2UgPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy51Q2xhbXBGcmFtZTtcbiAgICAgICAgY29uc3QgbWFyZ2luID0gdGhpcy5jbGFtcE1hcmdpbiAvIHRleEJhc2UucmVzb2x1dGlvbjtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5jbGFtcE9mZnNldDtcblxuICAgICAgICBmcmFtZVswXSA9ICh0ZXguX2ZyYW1lLnggKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICAgICAgZnJhbWVbMV0gPSAodGV4Ll9mcmFtZS55ICsgbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgICAgICBmcmFtZVsyXSA9ICh0ZXguX2ZyYW1lLnggKyB0ZXguX2ZyYW1lLndpZHRoIC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgICAgIGZyYW1lWzNdID0gKHRleC5fZnJhbWUueSArIHRleC5fZnJhbWUuaGVpZ2h0IC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldFswXSA9IG9mZnNldCAvIHRleEJhc2UucmVhbFdpZHRoO1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldFsxXSA9IG9mZnNldCAvIHRleEJhc2UucmVhbEhlaWdodDtcblxuICAgICAgICB0aGlzLmlzU2ltcGxlID0gdGV4Ll9mcmFtZS53aWR0aCA9PT0gdGV4QmFzZS53aWR0aFxuICAgICAgICAgICAgJiYgdGV4Ll9mcmFtZS5oZWlnaHQgPT09IHRleEJhc2UuaGVpZ2h0XG4gICAgICAgICAgICAmJiB0ZXgucm90YXRlID09PSAwO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCBGaWx0ZXIgZnJvbSAnLi4vRmlsdGVyJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL3Nwcml0ZU1hc2tGaWx0ZXIudmVydCc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9zcHJpdGVNYXNrRmlsdGVyLmZyYWcnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBUZXh0dXJlTWF0cml4IH0gZnJvbSAnLi4vLi4vdGV4dHVyZXMvVGV4dHVyZU1hdHJpeCc7XG5cbi8qKlxuICogVGhpcyBoYW5kbGVzIGEgU3ByaXRlIGFjdGluZyBhcyBhIG1hc2ssIGFzIG9wcG9zZWQgdG8gYSBHcmFwaGljLlxuICpcbiAqIFdlYkdMIG9ubHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaXRlTWFza0ZpbHRlciBleHRlbmRzIEZpbHRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSB0YXJnZXQgc3ByaXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3ByaXRlKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBzdXBlcih2ZXJ0ZXgsIGZyYWdtZW50KTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcHJpdGUgbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayBtYXRyaXhcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0LlxuICAgICAqL1xuICAgIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWFza1Nwcml0ZSA9IHRoaXMubWFza1Nwcml0ZTtcbiAgICAgICAgY29uc3QgdGV4ID0gdGhpcy5tYXNrU3ByaXRlLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXgudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRleC50cmFuc2Zvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIG1hcmdpbiA9IDAuMCwgbGV0IGl0IGJsZWVkIGEgYml0LCBzaGFkZXIgY29kZSBiZWNvbWVzIGVhc2llclxuICAgICAgICAgICAgLy8gYXNzdW1pbmcgdGhhdCBhdGxhcyB0ZXh0dXJlcyB3ZXJlIG1hZGUgd2l0aCAxLXBpeGVsIHBhZGRpbmdcbiAgICAgICAgICAgIHRleC50cmFuc2Zvcm0gPSBuZXcgVGV4dHVyZU1hdHJpeCh0ZXgsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4LnRyYW5zZm9ybS51cGRhdGUoKTtcblxuICAgICAgICB0aGlzLnVuaWZvcm1zLm5wbUFscGhhID0gdGV4LmJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPyAwLjAgOiAxLjA7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFzayA9IHRleDtcbiAgICAgICAgLy8gZ2V0IF9ub3JtYWxpemVkIHNwcml0ZSB0ZXh0dXJlIGNvb3Jkc18gYW5kIGNvbnZlcnQgdGhlbSB0byBfbm9ybWFsaXplZCBhdGxhcyB0ZXh0dXJlIGNvb3Jkc18gd2l0aCBgcHJlcGVuZGBcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5vdGhlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgbWFza1Nwcml0ZSlcbiAgICAgICAgICAgIC5wcmVwZW5kKHRleC50cmFuc2Zvcm0ubWFwQ29vcmQpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmFscGhhID0gbWFza1Nwcml0ZS53b3JsZEFscGhhO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2tDbGFtcCA9IHRleC50cmFuc2Zvcm0udUNsYW1wRnJhbWU7XG5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IFNwcml0ZU1hc2tGaWx0ZXIgZnJvbSAnLi4vZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXInO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBtYXNrcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hc2tTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBUT0RPIC0gd2UgZG9uJ3QgbmVlZCBib3RoIVxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIGN1cnJlbnQgcHVzaGVkIG1hc2tlZCBpcyBzY2lzc29yXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2lzc29yID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYXJnZXQgdG8gbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRW5hYmxlIHNjaXNzb3JcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuYWJsZVNjaXNzb3IgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1c2VkIHNwcml0ZSBtYXNrIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGVNYXNrRmlsdGVyW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYU1hc2tQb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaW5kZXggb2YgYWxwaGEgbWFzayBwb29sXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXggPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBwdXNoKHRhcmdldCwgbWFza0RhdGEpXG4gICAge1xuICAgICAgICAvLyBUT0RPIHRoZSByb290IGNoZWNrIG1lYW5zIHNjaXNzb3IgcmVjdCB3aWxsIG5vdFxuICAgICAgICAvLyBiZSB1c2VkIG9uIHJlbmRlciB0ZXh0dXJlcyBtb3JlIGluZm8gaGVyZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3B1bGwvMzU0NVxuXG4gICAgICAgIGlmIChtYXNrRGF0YS5pc1Nwcml0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmVuYWJsZVNjaXNzb3JcbiAgICAgICAgICAgICYmICF0aGlzLnNjaXNzb3JcbiAgICAgICAgICAgICYmIHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5yb290XG4gICAgICAgICAgICAmJiAhdGhpcy5yZW5kZXJlci5zdGVuY2lsLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoXG4gICAgICAgICAgICAmJiBtYXNrRGF0YS5pc0Zhc3RSZWN0KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IG1hc2tEYXRhLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICBsZXQgcm90ID0gTWF0aC5hdGFuMihtYXRyaXguYiwgbWF0cml4LmEpO1xuXG4gICAgICAgICAgICAvLyB1c2UgdGhlIG5lYXJlc3QgZGVncmVlIVxuICAgICAgICAgICAgcm90ID0gTWF0aC5yb3VuZChyb3QgKiAoMTgwIC8gTWF0aC5QSSkpO1xuXG4gICAgICAgICAgICBpZiAocm90ICUgOTApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIG1hc2sgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHBvcCB0aGUgbWFzayBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgcG9wKHRhcmdldCwgbWFza0RhdGEpXG4gICAge1xuICAgICAgICBpZiAobWFza0RhdGEuaXNTcHJpdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucG9wU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmVuYWJsZVNjaXNzb3IgJiYgIXRoaXMucmVuZGVyZXIuc3RlbmNpbC5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wb3BTY2lzc29yTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucG9wU3RlbmNpbE1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBzcHJpdGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IG1hc2tEYXRhIC0gU3ByaXRlIHRvIGJlIHVzZWQgYXMgdGhlIG1hc2tcbiAgICAgKi9cbiAgICBwdXNoU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgbGV0IGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XTtcblxuICAgICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdID0gW25ldyBTcHJpdGVNYXNrRmlsdGVyKG1hc2tEYXRhKV07XG4gICAgICAgIH1cblxuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ucmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLm1hc2tTcHJpdGUgPSBtYXNrRGF0YTtcblxuICAgICAgICBjb25zdCBzdGFzaEZpbHRlckFyZWEgPSB0YXJnZXQuZmlsdGVyQXJlYTtcblxuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IG1hc2tEYXRhLmdldEJvdW5kcyh0cnVlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXIucHVzaCh0YXJnZXQsIGFscGhhTWFza0ZpbHRlcik7XG4gICAgICAgIHRhcmdldC5maWx0ZXJBcmVhID0gc3Rhc2hGaWx0ZXJBcmVhO1xuXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgcG9wU3ByaXRlTWFzaygpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleC0tO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgcHVzaFN0ZW5jaWxNYXNrKG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucHVzaFN0ZW5jaWwobWFza0RhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBwb3BTdGVuY2lsTWFzaygpXG4gICAge1xuICAgICAgICAvLyB0aGlzLnJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5wb3BTdGVuY2lsKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuICAgIHB1c2hTY2lzc29yTWFzayh0YXJnZXQsIG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgbWFza0RhdGEucmVuZGVyYWJsZSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IG1hc2tEYXRhLmdldEJvdW5kcygpO1xuXG4gICAgICAgIGJvdW5kcy5maXQocmVuZGVyVGFyZ2V0LnNpemUpO1xuICAgICAgICBtYXNrRGF0YS5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5lbmFibGUodGhpcy5yZW5kZXJlci5nbC5TQ0lTU09SX1RFU1QpO1xuXG4gICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKFxuICAgICAgICAgICAgYm91bmRzLnggKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgKHJlbmRlclRhcmdldC5yb290ID8gcmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0IC0gYm91bmRzLnkgLSBib3VuZHMuaGVpZ2h0IDogYm91bmRzLnkpICogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIGJvdW5kcy53aWR0aCAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICBib3VuZHMuaGVpZ2h0ICogcmVzb2x1dGlvblxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgdGhpcy5zY2lzc29yRGF0YSA9IG1hc2tEYXRhO1xuICAgICAgICB0aGlzLnNjaXNzb3IgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBvcCBzY2lzc29yIG1hc2tcbiAgICAgKlxuICAgICAqL1xuICAgIHBvcFNjaXNzb3JNYXNrKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnNjaXNzb3IgPSBmYWxzZTtcblxuICAgICAgICAvLyBtdXN0IGJlIHNjaXNzb3IhXG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgIH1cbn1cbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc3RlbmNpbHMgKHVzZWQgZm9yIG1hc2tzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0ZW5jaWxTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hc2sgc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NbXX0gc3RlbmNpbE1hc2tTdGFjayAtIFRoZSBtYXNrIHN0YWNrXG4gICAgICovXG4gICAgc2V0TWFza1N0YWNrKHN0ZW5jaWxNYXNrU3RhY2spXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGNvbnN0IGN1clN0YWNrTGVuID0gdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aDtcblxuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBzdGVuY2lsTWFza1N0YWNrO1xuICAgICAgICBpZiAoc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggIT09IGN1clN0YWNrTGVuKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay4gQGFsdmluXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gVGhlIG1hc2tcbiAgICAgKi9cbiAgICBwdXNoU3RlbmNpbChncmFwaGljcylcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgY29uc3QgcHJldk1hc2tDb3VudCA9IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHByZXZNYXNrQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrLnB1c2goZ3JhcGhpY3MpO1xuXG4gICAgICAgIC8vIEluY3JlbWVudCB0aGUgcmVmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIG5ldyBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG9sZCBvbmVzLlxuICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgcHJldk1hc2tDb3VudCwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5JTkNSKTtcblxuICAgICAgICBncmFwaGljcy5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgZ3JhcGhpY3MucmVuZGVyKHRoaXMucmVuZGVyZXIpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgIGdyYXBoaWNzLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIHN0ZW5jaWwgc3RhY2suIEBhbHZpblxuICAgICAqL1xuICAgIHBvcFN0ZW5jaWwoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBjb25zdCBncmFwaGljcyA9IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5wb3AoKTtcblxuICAgICAgICBpZiAodGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhlIHN0YWNrIGlzIGVtcHR5IVxuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyU3RlbmNpbCgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIERlY3JlbWVudCB0aGUgcmVmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIHBvcHBlZCBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG90aGVyIG9uZXNcbiAgICAgICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuREVDUik7XG5cbiAgICAgICAgICAgIGdyYXBoaWNzLnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgZ3JhcGhpY3MucmVuZGVyKHRoaXMucmVuZGVyZXIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICAgICAgZ3JhcGhpY3MucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCByZW5kZXJlciB0byB1c2UgdGhlIGN1cnJlbnQgc3RlbmNpbCBkYXRhLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VzZUN1cnJlbnQoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsbCAxcyBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIGFjaXR2ZSBzdGVuY2lsIG1hc2tzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgYml0d2lzZSBtYXNrLlxuICAgICAqL1xuICAgIF9nZXRCaXR3aXNlTWFzaygpXG4gICAge1xuICAgICAgICByZXR1cm4gKDEgPDwgdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCkgLSAxO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBtYXNrIHN0YWNrLlxuICAgICAqXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvamVjdGlvblN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgZGVzdGluYXRpb24gZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0RnJhbWUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9qZWN0IG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdHJhbnNmb3JtIHRoYXQgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgICAgICogaWYgbnVsbCwgbm90aGluZyB3aWxsIGJlIGFwcGxpZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbiBtYXRyaXggYmFzZWQgb24gYSBwcm9qZWN0aW9uIGZyYW1lICh3aGljaCBpcyBhIHJlY3RhbmdsZSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgZGVzdGluYXRpb24gZnJhbWUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXNvbHV0aW9uIC0gUmVzb2x1dGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm9vdCAtIElmIGlzIHJvb3RcbiAgICAgKi9cbiAgICB1cGRhdGUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHJvb3QpXG4gICAge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlZmF1bHRGcmFtZTtcbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IHRoaXMuc291cmNlRnJhbWUgfHwgZGVzdGluYXRpb25GcmFtZTtcblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24odGhpcy5kZXN0aW5hdGlvbkZyYW1lLCB0aGlzLnNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KTtcblxuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeC5hcHBlbmQodGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSAgdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcblxuICAgICAgICAvLyB0aGlzIHdpbGwgd29yayBmb3Igbm93XG4gICAgICAgIC8vIGJ1dCB3b3VsZCBiZSBzd2VldCB0byBzdGljayBhbmQgZXZlbiBvbiB0aGUgZ2xvYmFsIHVuaWZvcm1zLi5cbiAgICAgICAgaWYgKHJlbmRlcmVyLnNoYWRlci5zaGFkZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5zeW5jVW5pZm9ybUdyb3VwKHJlbmRlcmVyLnNoYWRlci5zaGFkZXIudW5pZm9ybXMuZ2xvYmFscyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBiYXNlZCBvbiBhIHByb2plY3Rpb24gZnJhbWUgKHdoaWNoIGlzIGEgcmVjdGFuZ2xlKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc29sdXRpb24gLSBSZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb290IC0gSWYgaXMgcm9vdFxuICAgICAqL1xuICAgIGNhbGN1bGF0ZVByb2plY3Rpb24oZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHJvb3QpXG4gICAge1xuICAgICAgICBjb25zdCBwbSA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcblxuICAgICAgICAvLyBJIGRvbid0IHRoaW5rIHdlIHdpbGwgbmVlZCB0aGlzIGxpbmUuLlxuICAgICAgICAvLyBwbS5pZGVudGl0eSgpO1xuXG4gICAgICAgIGlmICghcm9vdClcbiAgICAgICAge1xuICAgICAgICAgICAgcG0uYSA9ICgxIC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCAqIDIpICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHBtLmQgPSAoMSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogMikgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBwbS50eCA9IC0xIC0gKHNvdXJjZUZyYW1lLnggKiBwbS5hKTtcbiAgICAgICAgICAgIHBtLnR5ID0gLTEgLSAoc291cmNlRnJhbWUueSAqIHBtLmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcG0uYSA9ICgxIC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCAqIDIpICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHBtLmQgPSAoLTEgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIDIpICogcmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgcG0udHggPSAtMSAtIChzb3VyY2VGcmFtZS54ICogcG0uYSk7XG4gICAgICAgICAgICBwbS50eSA9IDEgLSAoc291cmNlRnJhbWUueSAqIHBtLmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdHJhbnNmb3JtIG9mIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCB0byB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICovXG4gICAgc2V0VHJhbnNmb3JtKCkvLyBtYXRyaXgpXG4gICAge1xuICAgICAgICAvLyB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQudHJhbnNmb3JtID0gbWF0cml4O1xuICAgIH1cbn1cbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG5jb25zdCB0ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgcmVuZGVyIHRleHR1cmVzLlxuICpcbiAqIFNob3VsZCBiZSBhZGRlZCBhZnRlciBGcmFtZWJ1ZmZlclN5c3RlbVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJUZXh0dXJlU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGVhciBiYWNrZ3JvdW5kIGNvbG9yIGFzIHJnYmFcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsZWFyQ29sb3IgPSByZW5kZXJlci5fYmFja2dyb3VuZENvbG9yUmdiYTtcblxuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcyBwcm9wZXJ0eSBzb21ld2hlcmUgZWxzZSFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFza3MgZm9yIHRoZSBTdGVuY2lsU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRNYXNrU3RhY2sgPSBbXTtcblxuICAgICAgICAvLyBlbXB0eSByZW5kZXIgdGV4dHVyZT9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlciB0ZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVzdGluYXRpb24gZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmQgdGhlIGN1cnJlbnQgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW3JlbmRlclRleHR1cmVdIC0gUmVuZGVyVGV4dHVyZSB0byBiaW5kLCBieSBkZWZhdWx0IGl0cyBgbnVsbGAsIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbc291cmNlRnJhbWVdIC0gcGFydCBvZiBzY3JlZW4gdGhhdCBpcyBtYXBwZWQgdG8gdGhlIHJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZGVzdGluYXRpb25GcmFtZV0gLSBwYXJ0IG9mIHJlbmRlclRleHR1cmUsIGJ5IGRlZmF1bHQgaXQgaGFzIHRoZSBzYW1lIHNpemUgYXMgc291cmNlRnJhbWVcbiAgICAgKi9cbiAgICBiaW5kKHJlbmRlclRleHR1cmUgPSBudWxsLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSlcbiAgICB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHJlbmRlclRleHR1cmU7XG5cbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIGxldCByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBiYXNlVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcblxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmluZChiYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlciwgZGVzdGluYXRpb25GcmFtZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi51cGRhdGUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2soYmFzZVRleHR1cmUuc3RlbmNpbE1hc2tTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAvLyBUT0RPIHRoZXNlIHZhbGlkYXRpb24gY2hlY2tzIGhhcHBlbiBkZWVwZXIgZG93bi4uXG4gICAgICAgICAgICAvLyB0aGluZyB0aGV5IGNhbiBiZSBhdm9pZGVkLi5cbiAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25GcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQobnVsbCwgZGVzdGluYXRpb25GcmFtZSk7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gc3RvcmUgdGhpcy4uXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2sodGhpcy5kZWZhdWx0TWFza1N0YWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUuY29weUZyb20oc291cmNlRnJhbWUpO1xuXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS54ID0gZGVzdGluYXRpb25GcmFtZS54IC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnkgPSBkZXN0aW5hdGlvbkZyYW1lLnkgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChzb3VyY2VGcmFtZSA9PT0gZGVzdGluYXRpb25GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VGcmFtZS5jb3B5RnJvbSh0aGlzLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJhc2VzIHRoZSByZW5kZXIgdGV4dHVyZSBhbmQgZmlsbHMgdGhlIGRyYXdpbmcgYXJlYSB3aXRoIGEgY29sb3VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbY2xlYXJDb2xvcl0gLSBUaGUgY29sb3IgYXMgcmdiYSwgZGVmYXVsdCB0byB1c2UgdGhlIHJlbmRlcmVyIGJhY2tncm91bmRDb2xvclxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIGNsZWFyKGNsZWFyQ29sb3IpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmN1cnJlbnQuYmFzZVRleHR1cmUuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuY2xlYXIoY2xlYXJDb2xvclswXSwgY2xlYXJDb2xvclsxXSwgY2xlYXJDb2xvclsyXSwgY2xlYXJDb2xvclszXSk7XG4gICAgfVxuXG4gICAgcmVzaXplKCkvLyBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgLy8gcmVzaXplIHRoZSByb290IG9ubHkhXG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgcmVuZGVyVGV4dHVyZSBzdGF0ZVxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBQcm9ncmFtXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHTFByb2dyYW1cbntcbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIG5ldyBQaXhpIHByb2dyYW1cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm9ncmFtIHtXZWJHTFByb2dyYW19IHdlYmdsIHByb2dyYW1cbiAgICAgKiBAcGFyYW0gdW5pZm9ybURhdGEge09iamVjdH0gdW5pZm9ybXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9ncmFtLCB1bmlmb3JtRGF0YSlcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhZGVyIHByb2dyYW1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xQcm9ncmFtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogaG9sZHMgdGhlIHVuaWZvcm0gZGF0YSB3aGljaCBjb250YWlucyB1bmlmb3JtIGxvY2F0aW9uc1xuICAgICAgICAgKiBhbmQgY3VycmVudCB1bmlmb3JtIHZhbHVlcyB1c2VkIGZvciBjYWNoaW5nIGFuZCBwcmV2ZW50aW5nIHVubmVlZGVkIEdQVSBjb21tYW5kc1xuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gdW5pZm9ybURhdGE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVuaWZvcm1Hcm91cHMgaG9sZHMgdGhlIHZhcmlvdXMgdXBsb2FkIGZ1bmN0aW9ucyBmb3IgdGhlIHNoYWRlci4gRWFjaCB1bmlmb3JtIGdyb3VwXG4gICAgICAgICAqIGFuZCBwcm9ncmFtIGhhdmUgYSB1bmlxdWUgdXBsb2FkIGZ1bmN0aW9uIGdlbmVyYXRlZC5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXBzID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXBzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgU3lzdGVtIGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgR0xQcm9ncmFtIGZyb20gJy4vR0xQcm9ncmFtJztcbmltcG9ydCB7IGdlbmVyYXRlVW5pZm9ybXNTeW5jLFxuICAgIHVuc2FmZUV2YWxTdXBwb3J0ZWQsXG4gICAgZGVmYXVsdFZhbHVlLFxuICAgIGNvbXBpbGVQcm9ncmFtIH0gZnJvbSAnLi91dGlscyc7XG5cbmxldCBVSUQgPSAwO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzaGFkZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hhZGVyU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLy8gVmFsaWRhdGlvbiBjaGVjayB0aGF0IHRoaXMgZW52aXJvbm1lbnQgc3VwcG9ydCBgbmV3IEZ1bmN0aW9uYFxuICAgICAgICB0aGlzLnN5c3RlbUNoZWNrKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgdG8gaG9sZHMgdGhlIGdlbmVyYXRlZCBmdW5jdGlvbnMuIFN0b3JlZCBhZ2FpbnN0IFVuaWZvcm1PYmplY3RzIHVuaXF1ZSBzaWduYXR1cmVcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGUgPSB7fTtcblxuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGZ1bmN0aW9uIGJ5IGBAcGl4aS91bnNhZmUtZXZhbGAgdG8gc2lsZW5jZVxuICAgICAqIHRocm93aW5nIGFuIGVycm9yIGlmIHBsYXRmb3JtIGRvZXNuJ3Qgc3VwcG9ydCB1bnNhZmUtZXZhbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN5c3RlbUNoZWNrKClcbiAgICB7XG4gICAgICAgIGlmICghdW5zYWZlRXZhbFN1cHBvcnRlZCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0N1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3QgYWxsb3cgdW5zYWZlLWV2YWwsICdcbiAgICAgICAgICAgICAgICArICdwbGVhc2UgdXNlIEBwaXhpL3Vuc2FmZS1ldmFsIG1vZHVsZSB0byBlbmFibGUgc3VwcG9ydC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRleHRDaGFuZ2UoZ2wpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHNoYWRlciB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIG5ldyBzaGFkZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRvbnRTeW5jIC0gZmFsc2UgaWYgdGhlIHNoYWRlciBzaG91bGQgYXV0b21hdGljYWxseSBzeW5jIGl0cyB1bmlmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5HTFByb2dyYW19IHRoZSBnbFByb2dyYW0gdGhhdCBiZWxvbmdzIHRvIHRoZSBzaGFkZXIuXG4gICAgICovXG4gICAgYmluZChzaGFkZXIsIGRvbnRTeW5jKVxuICAgIHtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMgPSB0aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zO1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgY29uc3QgZ2xQcm9ncmFtID0gcHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdIHx8IHRoaXMuZ2VuZXJhdGVTaGFkZXIoc2hhZGVyKTtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IHNoYWRlcjtcblxuICAgICAgICAvLyBUT0RPIC0gc29tZSBjdXJyZW50IFBpeGkgcGx1Z2lucyBieXBhc3MgdGhpcy4uIHNvIGl0IG5vdCBzYWZlIHRvIHVzZSB5ZXQuLlxuICAgICAgICBpZiAodGhpcy5wcm9ncmFtICE9PSBwcm9ncmFtKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKGdsUHJvZ3JhbS5wcm9ncmFtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZG9udFN5bmMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1Hcm91cChzaGFkZXIudW5pZm9ybUdyb3VwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdW5pZm9ybXMgdmFsdWVzIHRvIHRoZSBjdXJyZW50bHkgYm91bmQgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHVuaWZvcm1zIC0gdGhlIHVuaWZvcm1zIHZhbHVlcyB0aGF0IGJlIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2hhZGVyXG4gICAgICovXG4gICAgc2V0VW5pZm9ybXModW5pZm9ybXMpXG4gICAge1xuICAgICAgICBjb25zdCBzaGFkZXIgPSB0aGlzLnNoYWRlci5wcm9ncmFtO1xuICAgICAgICBjb25zdCBnbFByb2dyYW0gPSBzaGFkZXIuZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBzaGFkZXIuc3luY1VuaWZvcm1zKGdsUHJvZ3JhbS51bmlmb3JtRGF0YSwgdW5pZm9ybXMsIHRoaXMucmVuZGVyZXIpO1xuICAgIH1cblxuICAgIHN5bmNVbmlmb3JtR3JvdXAoZ3JvdXApXG4gICAge1xuICAgICAgICBjb25zdCBnbFByb2dyYW0gPSB0aGlzLmdldGdsUHJvZ3JhbSgpO1xuXG4gICAgICAgIGlmICghZ3JvdXAuc3RhdGljIHx8IGdyb3VwLmRpcnR5SWQgIT09IGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdID0gZ3JvdXAuZGlydHlJZDtcblxuICAgICAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMoZ3JvdXAsIGdsUHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZWFibGUgYnkgdGhlIEBwaXhpL3Vuc2FmZS1ldmFsIHBhY2thZ2UgdG8gdXNlIHN0YXRpY1xuICAgICAqIHN5bmNVbmZvcm1zIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN5bmNVbmlmb3Jtcyhncm91cCwgZ2xQcm9ncmFtKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc3luY0Z1bmMgPSBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5jcmVhdGVTeW5jR3JvdXBzKGdyb3VwKTtcblxuICAgICAgICBzeW5jRnVuYyhnbFByb2dyYW0udW5pZm9ybURhdGEsIGdyb3VwLnVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyKTtcbiAgICB9XG5cbiAgICBjcmVhdGVTeW5jR3JvdXBzKGdyb3VwKVxuICAgIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmdldFNpZ25hdHVyZShncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2lkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYWNoZVtpZF0gPSBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gPSB0aGlzLmNhY2hlW2lkXTtcblxuICAgICAgICByZXR1cm4gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgdW5pZm9ybSBncm91cCBhbmQgZGF0YSBhbmQgZ2VuZXJhdGVzIGEgdW5pcXVlIHNpZ25hdHVyZSBmb3IgdGhlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Vbmlmb3JtR3JvdXB9IGdyb3VwIHRoZSB1bmlmb3JtIGdyb3VwIHRvIGdldCBzaWduYXR1cmUgb2ZcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybURhdGEgdW5pZm9ybSBpbmZvcm1hdGlvbiBnZW5lcmF0ZWQgYnkgdGhlIHNoYWRlclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFVuaXF1ZSBzaWduYXR1cmUgb2YgdGhlIHVuaWZvcm0gZ3JvdXBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldFNpZ25hdHVyZShncm91cCwgdW5pZm9ybURhdGEpXG4gICAge1xuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IGdyb3VwLnVuaWZvcm1zO1xuXG4gICAgICAgIGNvbnN0IHN0cmluZ3MgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdW5pZm9ybXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0cmluZ3MucHVzaChpKTtcblxuICAgICAgICAgICAgaWYgKHVuaWZvcm1EYXRhW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZ3MucHVzaCh1bmlmb3JtRGF0YVtpXS50eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB1bmRlcmx5aW5nIEdMU2hhZGUgcm9mIHRoZSBjdXJyZW50bHkgYm91bmQgc2hhZGVyLlxuICAgICAqIFRoaXMgY2FuIGJlIGhhbmR5IGZvciB3aGVuIHlvdSB0byBoYXZlIGEgbGl0dGxlIG1vcmUgY29udHJvbCBvdmVyIHRoZSBzZXR0aW5nIG9mIHlvdXIgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdMUHJvZ3JhbX0gdGhlIGdsUHJvZ3JhbSBmb3IgdGhlIGN1cnJlbnRseSBib3VuZCBTaGFkZXIgZm9yIHRoaXMgY29udGV4dFxuICAgICAqL1xuICAgIGdldGdsUHJvZ3JhbSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5zaGFkZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlci5wcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBnbFByb2dyYW0gdmVyc2lvbiBvZiB0aGUgU2hhZGVyIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgdGhlIHNoYWRlciB0aGF0IHRoZSBnbFByb2dyYW0gd2lsbCBiZSBiYXNlZCBvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdMUHJvZ3JhbX0gQSBzaGlueSBuZXcgZ2xQcm9ncmFtIVxuICAgICAqL1xuICAgIGdlbmVyYXRlU2hhZGVyKHNoYWRlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcblxuICAgICAgICBjb25zdCBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG5cbiAgICAgICAgY29uc3QgYXR0cmliTWFwID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHByb2dyYW0uYXR0cmlidXRlRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmliTWFwW2ldID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2ldLmxvY2F0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2hhZGVyUHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCBwcm9ncmFtLnZlcnRleFNyYywgcHJvZ3JhbS5mcmFnbWVudFNyYywgYXR0cmliTWFwKTtcbiAgICAgICAgY29uc3QgdW5pZm9ybURhdGEgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHByb2dyYW0udW5pZm9ybURhdGFbaV07XG5cbiAgICAgICAgICAgIHVuaWZvcm1EYXRhW2ldID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgaSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZShkYXRhLnR5cGUsIGRhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ2xQcm9ncmFtID0gbmV3IEdMUHJvZ3JhbShzaGFkZXJQcm9ncmFtLCB1bmlmb3JtRGF0YSk7XG5cbiAgICAgICAgcHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xQcm9ncmFtO1xuXG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIFNoYWRlclN5c3RlbSBzdGF0ZSwgZG9lcyBub3QgYWZmZWN0IFdlYkdMIHN0YXRlXG4gICAgICovXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgU3lzdGVtIGFuZCByZW1vdmVzIGFsbCBpdHMgdGV4dHVyZXNcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gaW1wbGVtZW50IGRlc3Ryb3kgbWV0aG9kIGZvciBTaGFkZXJTeXN0ZW1cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkgZnJvbSAnLi91dGlscy9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGknO1xuaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IFN0YXRlIGZyb20gJy4vU3RhdGUnO1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5jb25zdCBCTEVORCA9IDA7XG5jb25zdCBPRkZTRVQgPSAxO1xuY29uc3QgQ1VMTElORyA9IDI7XG5jb25zdCBERVBUSF9URVNUID0gMztcbmNvbnN0IFdJTkRJTkcgPSA0O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBXZWJHTCBzdGF0ZSBtYWNoaW5lcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXRlU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdMIGNvbnRleHRcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSBJRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZUlkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9seWdvbiBvZmZzZXRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJsZW5kIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PTkVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PTkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgY3VycmVudCBibGVuZCBlcXVhdGlvbiBpcyBkaWZmZXJlbnRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmxlbmRFcSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGNhbGxzXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXAgPSBbXTtcblxuICAgICAgICAvLyBtYXAgZnVuY3Rpb25zIGZvciB3aGVuIHdlIHNldCBzdGF0ZS4uXG4gICAgICAgIHRoaXMubWFwW0JMRU5EXSA9IHRoaXMuc2V0QmxlbmQ7XG4gICAgICAgIHRoaXMubWFwW09GRlNFVF0gPSB0aGlzLnNldE9mZnNldDtcbiAgICAgICAgdGhpcy5tYXBbQ1VMTElOR10gPSB0aGlzLnNldEN1bGxGYWNlO1xuICAgICAgICB0aGlzLm1hcFtERVBUSF9URVNUXSA9IHRoaXMuc2V0RGVwdGhUZXN0O1xuICAgICAgICB0aGlzLm1hcFtXSU5ESU5HXSA9IHRoaXMuc2V0RnJvbnRGYWNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGNoZWNrIGNhbGxzXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGVja3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBXZWJHTCBTdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIHRoaXMuZGVmYXVsdFN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUuZGVwdGggPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnRleHRDaGFuZ2UoZ2wpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgdGhpcy5ibGVuZE1vZGVzID0gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsKTtcblxuICAgICAgICB0aGlzLnNldCh0aGlzLmRlZmF1bHRTdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0LlxuICAgICAqL1xuICAgIHNldChzdGF0ZSlcbiAgICB7XG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwgdGhpcy5kZWZhdWx0U3RhdGU7XG5cbiAgICAgICAgLy8gVE9ETyBtYXliZSB0byBhbiBvYmplY3QgY2hlY2s/ICggdGhpcy5zdGF0ZSA9PT0gc3RhdGUgKT9cbiAgICAgICAgaWYgKHRoaXMuc3RhdGVJZCAhPT0gc3RhdGUuZGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGRpZmYgPSB0aGlzLnN0YXRlSWQgXiBzdGF0ZS5kYXRhO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuXG4gICAgICAgICAgICAvLyBvcmRlciBmcm9tIGxlYXN0IHRvIG1vc3QgY29tbW9uXG4gICAgICAgICAgICB3aGlsZSAoZGlmZilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlmZiAmIDEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGF0ZSBjaGFuZ2UhXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwW2ldLmNhbGwodGhpcywgISEoc3RhdGUuZGF0YSAmICgxIDw8IGkpKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGlmZiA9IGRpZmYgPj4gMTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYXNlZCBvbiB0aGUgYWJvdmUgc2V0dGluZ3Mgd2UgY2hlY2sgZm9yIHNwZWNpZmljIG1vZGVzLi5cbiAgICAgICAgLy8gZm9yIGV4YW1wbGUgaWYgYmxlbmQgaXMgYWN0aXZlIHdlIGNoZWNrIGFuZCBzZXQgdGhlIGJsZW5kIG1vZGVzXG4gICAgICAgIC8vIG9yIG9mIHBvbHlnb24gb2Zmc2V0IGlzIGFjdGl2ZSB3ZSBjaGVjayB0aGUgcG9seSBkZXB0aC5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoZWNrcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja3NbaV0odGhpcywgc3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUsIHdoZW4gcHJldmlvdXMgc3RhdGUgaXMgdW5rbm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXRcbiAgICAgKi9cbiAgICBmb3JjZVN0YXRlKHN0YXRlKVxuICAgIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1hcC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hlY2tzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZWQgYmxlbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgYmxlbmRpbmcuXG4gICAgICovXG4gICAgc2V0QmxlbmQodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZUNoZWNrKFN0YXRlU3lzdGVtLmNoZWNrQmxlbmRNb2RlLCB2YWx1ZSk7XG5cbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkJMRU5EKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIG9yIGRpc2FibGUgcG9seWdvbiBvZmZzZXQgZmlsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIHBvbHlnb24gb2Zmc2V0IHRlc3RpbmcuXG4gICAgICovXG4gICAgc2V0T2Zmc2V0KHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQsIHZhbHVlKTtcblxuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuUE9MWUdPTl9PRkZTRVRfRklMTCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGRlcHRoIHRlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgZGVwdGggdGVzdGluZy5cbiAgICAgKi9cbiAgICBzZXREZXB0aFRlc3QodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuREVQVEhfVEVTVCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGN1bGwgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBjdWxsIGZhY2UuXG4gICAgICovXG4gICAgc2V0Q3VsbEZhY2UodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnbCBmcm9udCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHRydWUgaXMgY2xvY2t3aXNlIGFuZCBmYWxzZSBpcyBjb3VudGVyLWNsb2Nrd2lzZVxuICAgICAqL1xuICAgIHNldEZyb250RmFjZSh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdmFsdWUgPyAnQ1cnIDogJ0NDVyddKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIGJsZW5kIG1vZGUgdG8gc2V0IHRvLlxuICAgICAqL1xuICAgIHNldEJsZW5kTW9kZSh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5ibGVuZE1vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gdmFsdWU7XG5cbiAgICAgICAgY29uc3QgbW9kZSA9IHRoaXMuYmxlbmRNb2Rlc1t2YWx1ZV07XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcblxuICAgICAgICBpZiAobW9kZS5sZW5ndGggPT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJsZW5kRnVuYyhtb2RlWzBdLCBtb2RlWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJsZW5kRnVuY1NlcGFyYXRlKG1vZGVbMF0sIG1vZGVbMV0sIG1vZGVbMl0sIG1vZGVbM10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gNilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRFcSA9IHRydWU7XG4gICAgICAgICAgICBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUobW9kZVs0XSwgbW9kZVs1XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYmxlbmRFcSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRFcSA9IGZhbHNlO1xuICAgICAgICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKGdsLkZVTkNfQURELCBnbC5GVU5DX0FERCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHRoZSBwb2x5Z29uIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHRoZSBwb2x5Z29uIG9mZnNldCBzY2FsZVxuICAgICAqL1xuICAgIHNldFBvbHlnb25PZmZzZXQodmFsdWUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5wb2x5Z29uT2Zmc2V0KHZhbHVlLCBzY2FsZSk7XG4gICAgfVxuXG4gICAgLy8gdXNlZFxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgdGhlIGxvZ2ljIGFuZCBkaXNhYmxlcyB0aGUgdmFvc1xuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5mb3JjZVN0YXRlKDApO1xuXG4gICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IC0xO1xuICAgICAgICB0aGlzLnNldEJsZW5kTW9kZSgwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjaGVja3MgdG8gc2VlIHdoaWNoIHVwZGF0ZXMgc2hvdWxkIGJlIGNoZWNrZWQgYmFzZWQgb24gd2hpY2ggc2V0dGluZ3MgaGF2ZSBiZWVuIGFjdGl2YXRlZC5cbiAgICAgKiBGb3IgZXhhbXBsZSwgaWYgYmxlbmQgaXMgZW5hYmxlZCB0aGVuIHdlIHNob3VsZCBjaGVjayB0aGUgYmxlbmQgbW9kZXMgZWFjaCB0aW1lIHRoZSBzdGF0ZSBpcyBjaGFuZ2VkXG4gICAgICogb3IgaWYgcG9seWdvbiBmaWxsIGlzIGFjdGl2YXRlZCB0aGVuIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHBvbHlnb24gb2Zmc2V0IGNoYW5nZXMuXG4gICAgICogVGhlIGlkZWEgaXMgdGhhdCB3ZSBvbmx5IGNoZWNrIHdoYXQgd2UgaGF2ZSB0b28uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jICB0aGUgY2hlY2tpbmcgZnVuY3Rpb24gdG8gYWRkIG9yIHJlbW92ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgIHNob3VsZCB0aGUgY2hlY2sgZnVuY3Rpb24gYmUgYWRkZWQgb3IgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICB1cGRhdGVDaGVjayhmdW5jLCB2YWx1ZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGVja3MuaW5kZXhPZihmdW5jKTtcblxuICAgICAgICBpZiAodmFsdWUgJiYgaW5kZXggPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrcy5wdXNoKGZ1bmMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF2YWx1ZSAmJiBpbmRleCAhPT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlU3lzdGVtfSBTeXN0ZW0gIHRoZSBTeXN0ZW0gdG8gcGVyZm9ybSB0aGUgc3RhdGUgY2hlY2sgb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IHN0YXRlICB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBzdGF0aWMgY2hlY2tCbGVuZE1vZGUoc3lzdGVtLCBzdGF0ZSlcbiAgICB7XG4gICAgICAgIHN5c3RlbS5zZXRCbGVuZE1vZGUoc3RhdGUuYmxlbmRNb2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZVN5c3RlbX0gU3lzdGVtICB0aGUgU3lzdGVtIHRvIHBlcmZvcm0gdGhlIHN0YXRlIGNoZWNrIG9uXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlfSBzdGF0ZSAgdGhlIHN0YXRlIHRoYXQgdGhlIGJsZW5kTW9kZSB3aWxsIHB1bGxlZCBmcm9tXG4gICAgICovXG4gICAgc3RhdGljIGNoZWNrUG9seWdvbk9mZnNldChzeXN0ZW0sIHN0YXRlKVxuICAgIHtcbiAgICAgICAgc3lzdGVtLnNldFBvbHlnb25PZmZzZXQoc3RhdGUucG9seWdvbk9mZnNldCwgMCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIE1hcHMgZ2wgYmxlbmQgY29tYmluYXRpb25zIHRvIFdlYkdMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJbXVtdfSBbYXJyYXk9W11dIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7bnVtYmVyW11bXX0gTWFwcGVkIG1vZGVzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wsIGFycmF5ID0gW10pXG57XG4gICAgLy8gVE9ETyAtIHByZW11bHRpcGx5IGFscGhhIHdvdWxkIGJlIGRpZmZlcmVudC5cbiAgICAvLyBhZGQgYSBib29sZWFuIGZvciB0aGF0IVxuICAgIGFycmF5W0JMRU5EX01PREVTLk5PUk1BTF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5BRERdID0gW2dsLk9ORSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5NVUxUSVBMWV0gPSBbZ2wuRFNUX0NPTE9SLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNDUkVFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk9WRVJMQVldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuREFSS0VOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkxJR0hURU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNPRlRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5FWENMVVNJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuSFVFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNBVFVSQVRJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT05FXSA9IFswLCAwXTtcblxuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkIGJsZW5kIG1vZGVzXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkFERF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkUsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuXG4gICAgLy8gY29tcG9zaXRlIG9wZXJhdGlvbnNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfSU5dID0gW2dsLkRTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX09VVF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0FUT1BdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09WRVJdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0lOXSA9IFtnbC5aRVJPLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVVRdID0gW2dsLlpFUk8sIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9BVE9QXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5TUkNfQUxQSEFdO1xuXG4gICAgLy8gU1VCVFJBQ1QgZnJvbSBmbGFzaFxuICAgIGFycmF5W0JMRU5EX01PREVTLlNVQlRSQUNUXSA9IFtnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5PTkUsIGdsLkZVTkNfUkVWRVJTRV9TVUJUUkFDVCwgZ2wuRlVOQ19BRERdO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IHsgR0NfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRleHR1cmUgZ2FyYmFnZSBjb2xsZWN0aW9uIG9uIHRoZSBHUFUsXG4gKiBlbnN1cmluZyB0aGF0IGl0IGRvZXMgbm90IGdldCBjbG9nZ2VkIHVwIHdpdGggdGV4dHVyZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGJlaW5nIHVzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0dXJlR0NTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ291bnRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVjayBjb3VudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBpZGxlIHRpbWUsIGluIHNlY29uZHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0lETEVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4SWRsZSA9IHNldHRpbmdzLkdDX01BWF9JRExFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIG51bWJlciBvZiBpdGVtIHRvIGNoZWNrXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01BWF9DSEVDS19DT1VOVFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGVja0NvdW50TWF4ID0gc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGdhcmFiYWdlIGNvbGxlY3Rpb24gbW9kZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdDX01PREVTfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTU9ERVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb2RlID0gc2V0dGluZ3MuR0NfTU9ERTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuICAgIHBvc3RyZW5kZXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jb3VudCsrO1xuXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IEdDX01PREVTLk1BTlVBTClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGVja0NvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcblxuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgcnVuKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuICAgICAgICBjb25zdCBtYW5hZ2VkVGV4dHVyZXMgPSAgdG0ubWFuYWdlZFRleHR1cmVzO1xuICAgICAgICBsZXQgd2FzUmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICAvLyBvbmx5IHN1cHBvcnRzIG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXMgYXQgdGhlIG1vbWVudCFcbiAgICAgICAgICAgIGlmICghdGV4dHVyZS5mcmFtZWJ1ZmZlciAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS50b3VjaGVkID4gdGhpcy5tYXhJZGxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FzUmVtb3ZlZClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGogPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobWFuYWdlZFRleHR1cmVzW2ldICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2orK10gPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoID0gajtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSB0ZXh0dXJlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGFuZCBpdHMgY2hpbGRyZW4gZnJvbSB0aGUgR1BVXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0IHRvIHJlbW92ZSB0aGUgdGV4dHVyZXMgZnJvbS5cbiAgICAgKi9cbiAgICB1bmxvYWQoZGlzcGxheU9iamVjdClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlU3lzdGVtO1xuXG4gICAgICAgIC8vIG9ubHkgZGVzdHJveSBub24gZ2VuZXJhdGVkIHRleHR1cmVzXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlICYmIGRpc3BsYXlPYmplY3QuX3RleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cylcbiAgICAgICAge1xuICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUoZGlzcGxheU9iamVjdC5fdGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmxvYWQoZGlzcGxheU9iamVjdC5jaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIEludGVybmFsIHRleHR1cmUgZm9yIFdlYkdMIGNvbnRleHRcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR0xUZXh0dXJlXG57XG4gICAgY29uc3RydWN0b3IodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgdGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaWR0aCBvZiB0ZXh0dXJlIHRoYXQgd2FzIHVzZWQgaW4gdGV4SW1hZ2UyRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhlaWdodCBvZiB0ZXh0dXJlIHRoYXQgd2FzIHVzZWQgaW4gdGV4SW1hZ2UyRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0dXJlIGNvbnRlbnRzIGRpcnR5IGZsYWdcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmUgc3R5bGUgZGlydHkgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG1pcCBsZXZlbHMgaGFzIHRvIGJlIGdlbmVyYXRlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV3JhcE1vZGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53cmFwTW9kZSA9IDMzMDcxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IDY0MDg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcm5hbEZvcm1hdCA9IDUxMjE7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IEJhc2VUZXh0dXJlIGZyb20gJy4vQmFzZVRleHR1cmUnO1xuaW1wb3J0IEdMVGV4dHVyZSBmcm9tICcuL0dMVGV4dHVyZSc7XG5pbXBvcnQgeyByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IE1JUE1BUF9NT0RFUywgV1JBUF9NT0RFUywgU0NBTEVfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGV4dHVyZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0dXJlU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLy8gVE9ETyBzZXQgdG8gbWF4IHRleHR1cmVzLi4uXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3VuZCB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxvY2F0aW9uXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIG1hbmFnZWQgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFuYWdlZFRleHR1cmVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCBzb21lb25lIHRlbXBlciB3aXRoIHRleHR1cmVzIHN0YXRlPyBXZSdsbCBvdmVyd3JpdGUgdGhlbSB3aGVuIHdlIG5lZWQgdG8gdW5iaW5kIHNvbWV0aGluZy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhc2VUZXh0dXJlIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVua25vd25UZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICovXG4gICAgY29udGV4dENoYW5nZSgpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuXG4gICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbjtcblxuICAgICAgICBjb25zdCBtYXhUZXh0dXJlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG5cbiAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aCA9IG1heFRleHR1cmVzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gbW92ZSB0aGlzLi4gdG8gYSBuaWNlIG1ha2UgZW1wdHkgdGV4dHVyZXMgY2xhc3MuLlxuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXMgPSB7fTtcblxuICAgICAgICBjb25zdCBlbXB0eVRleHR1cmUyRCA9IG5ldyBHTFRleHR1cmUoZ2wuY3JlYXRlVGV4dHVyZSgpKTtcblxuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBlbXB0eVRleHR1cmUyRC50ZXh0dXJlKTtcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCAxLCAxLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBuZXcgVWludDhBcnJheSg0KSk7XG5cbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdID0gZW1wdHlUZXh0dXJlMkQ7XG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFX0NVQkVfTUFQXSA9IG5ldyBHTFRleHR1cmUoZ2wuY3JlYXRlVGV4dHVyZSgpKTtcblxuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLCB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0udGV4dHVyZSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaSwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmluZChudWxsLCBpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmQgYSB0ZXh0dXJlIHRvIGEgc3BlY2lmaWMgbG9jYXRpb25cbiAgICAgKlxuICAgICAqIElmIHlvdSB3YW50IHRvIHVuYmluZCBzb21ldGhpbmcsIHBsZWFzZSB1c2UgYHVuYmluZCh0ZXh0dXJlKWAgaW5zdGVhZCBvZiBgYmluZChudWxsLCB0ZXh0dXJlTG9jYXRpb24pYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV8UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG9jYXRpb249MF0gLSBMb2NhdGlvbiB0byBiaW5kIGF0XG4gICAgICovXG4gICAgYmluZCh0ZXh0dXJlLCBsb2NhdGlvbiA9IDApXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZSB8fCB0ZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRvdWNoZWQgPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0VGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dICE9PSB0ZXh0dXJlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUodGV4dHVyZS50YXJnZXQsIGdsVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgIT09IHRleHR1cmUuZGlydHlJZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0ZXh0dXJlIGxvY2F0aW9uIGFuZCBib3VuZCB0ZXh0dXJlc1xuICAgICAqXG4gICAgICogQWN0dWFsIGBiaW5kKG51bGwsIGkpYCBjYWxscyB3aWxsIGJlIHBlcmZvcm1lZCBhdCBuZXh0IGB1bmJpbmQoKWAgY2FsbFxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gdGhpcy51bmtub3duVGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVuYmluZCBhIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZXxQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBiaW5kXG4gICAgICovXG4gICAgdW5iaW5kKHRleHR1cmUpXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsLCBib3VuZFRleHR1cmVzIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHNvbWVvbmUgY2hhbmdlZCB3ZWJHTCBzdGF0ZSxcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgdG8gYmUgc3VyZSB0aGF0IG91ciB0ZXh0dXJlIGRvZXMgbm90IGFwcGVhciBpbiBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyIHNhbXBsZXJzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRoaXMudW5rbm93blRleHR1cmUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgaSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gaTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmVtcHR5VGV4dHVyZXNbdGV4dHVyZS50YXJnZXRdLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBpbml0aWFsaXplXG4gICAgICovXG4gICAgaW5pdFRleHR1cmUodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsVGV4dHVyZSA9IG5ldyBHTFRleHR1cmUodGhpcy5nbC5jcmVhdGVUZXh0dXJlKCkpO1xuXG4gICAgICAgIC8vIGd1YXJhbnRlZSBhbiB1cGRhdGUuLlxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IC0xO1xuXG4gICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBnbFRleHR1cmU7XG4gICAgfVxuXG4gICAgaW5pdFRleHR1cmVUeXBlKHRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCA9IHRleHR1cmUuZm9ybWF0O1xuICAgICAgICBnbFRleHR1cmUudHlwZSA9IHRleHR1cmUudHlwZTtcbiAgICAgICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IGdsLkZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTMyRjtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGF0J3MgV2ViR0wxIEhBTEZfRkxPQVRfT0VTXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gY29udmVydCBpdCB0byBXZWJHTCBIQUxGX0ZMT0FUXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IFRZUEVTLkhBTEZfRkxPQVQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlID0gZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xUZXh0dXJlLnR5cGUgPT09IGdsLkhBTEZfRkxPQVRcbiAgICAgICAgICAgICYmIHRleHR1cmUuZm9ybWF0ID09PSBnbC5SR0JBKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBMTZGO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICB1cGRhdGVUZXh0dXJlKHRleHR1cmUpXG4gICAge1xuICAgICAgICBjb25zdCBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZ2xUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgdGhpcy5pbml0VGV4dHVyZVR5cGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcblxuICAgICAgICBpZiAodGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLnJlc291cmNlLnVwbG9hZChyZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGV4dHVyZSBpcyB1cGxvYWRlZCwgZG9udCBkbyBhbnl0aGluZyFcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQsIHJlbmRlclRleHR1cmUtbGlrZSBsb2dpY1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0ZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRleHR1cmUucmVhbEhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggIT09IHdpZHRoXG4gICAgICAgICAgICAgICAgfHwgZ2xUZXh0dXJlLmhlaWdodCAhPT0gaGVpZ2h0XG4gICAgICAgICAgICAgICAgfHwgZ2xUZXh0dXJlLmRpcnR5SWQgPCAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBnbC50ZXhJbWFnZTJEKHRleHR1cmUudGFyZ2V0LCAwLFxuICAgICAgICAgICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBnbFRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIG9ubHkgdXBkYXRlIHdoYXQgY2hhbmdlcy4uXG4gICAgICAgIGlmICh0ZXh0dXJlLmRpcnR5U3R5bGVJZCAhPT0gZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlU3R5bGUodGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5SWQgPSB0ZXh0dXJlLmRpcnR5SWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgcmVtb3ZpbmcgdGhlIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZU1hbmFnZXIuXG4gICAgICovXG4gICAgZGVzdHJveVRleHR1cmUodGV4dHVyZSwgc2tpcFJlbW92ZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG5cbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmJpbmQodGV4dHVyZSk7XG5cbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAoIXNraXBSZW1vdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IHRoaXMubWFuYWdlZFRleHR1cmVzLmluZGV4T2YodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLm1hbmFnZWRUZXh0dXJlcywgaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRleHR1cmUgc3R5bGUgc3VjaCBhcyBtaXBtYXAgZmxhZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIHVwZGF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCh0ZXh0dXJlLm1pcG1hcCA9PT0gTUlQTUFQX01PREVTLlBPVzIgfHwgdGhpcy53ZWJHTFZlcnNpb24gIT09IDIpICYmICF0ZXh0dXJlLmlzUG93ZXJPZlR3bylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLm1pcG1hcCA9IDA7XG4gICAgICAgICAgICBnbFRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLkNMQU1QO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLm1pcG1hcCA9IHRleHR1cmUubWlwbWFwID49IDE7XG4gICAgICAgICAgICBnbFRleHR1cmUud3JhcE1vZGUgPSB0ZXh0dXJlLndyYXBNb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRleHR1cmUucmVzb3VyY2UgJiYgdGV4dHVyZS5yZXNvdXJjZS5zdHlsZSh0aGlzLnJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBzdHlsZSBpcyBzZXQsIGRvbnQgZG8gYW55dGhpbmchXG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlKHRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICBnbFRleHR1cmUuZGlydHlTdHlsZUlkID0gdGV4dHVyZS5kaXJ0eVN0eWxlSWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHN0eWxlIGZvciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICovXG4gICAgc2V0U3R5bGUodGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5nZW5lcmF0ZU1pcG1hcCh0ZXh0dXJlLnRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX1dSQVBfUywgZ2xUZXh0dXJlLndyYXBNb2RlKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsVGV4dHVyZS53cmFwTW9kZSk7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZS5taXBtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPyBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiA6IGdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1QpO1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICBjb25zdCBhbmlzb3Ryb3BpY0V4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmFuaXNvdHJvcGljRmlsdGVyaW5nO1xuXG4gICAgICAgICAgICBpZiAoYW5pc290cm9waWNFeHQgJiYgdGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsID4gMCAmJiB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxldmVsID0gTWF0aC5taW4odGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsLCBnbC5nZXRQYXJhbWV0ZXIoYW5pc290cm9waWNFeHQuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSk7XG5cbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJmKHRleHR1cmUudGFyZ2V0LCBhbmlzb3Ryb3BpY0V4dC5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCwgbGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGhleDJzdHJpbmcsIGhleDJyZ2IsIGRlcHJlY2F0aW9uLCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBNYXRyaXgsIFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgUkVOREVSRVJfVFlQRSB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IFJlbmRlclRleHR1cmUgZnJvbSAnLi9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmUnO1xuXG5jb25zdCB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4vKipcbiAqIFRoZSBBYnN0cmFjdFJlbmRlcmVyIGlzIHRoZSBiYXNlIGZvciBhIFBpeGlKUyBSZW5kZXJlci4gSXQgaXMgZXh0ZW5kZWQgYnkgdGhlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICogYW5kIHtAbGluayBQSVhJLlJlbmRlcmVyfSB3aGljaCBjYW4gYmUgdXNlZCBmb3IgcmVuZGVyaW5nIGEgUGl4aUpTIHNjZW5lLlxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWJzdHJhY3RSZW5kZXJlciBleHRlbmRzIEV2ZW50RW1pdHRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzeXN0ZW0gLSBUaGUgbmFtZSBvZiB0aGUgc3lzdGVtIHRoaXMgcmVuZGVyZXIgaXMgZm9yLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiBUaGVcbiAgICAgKiAgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gRW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3lzdGVtLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvLyBBZGQgdGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHNldHRpbmdzLlJFTkRFUl9PUFRJT05TLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBEZXByZWNhdGlvbiBub3RpY2UgZm9yIHJlbmRlcmVyIHJvdW5kUGl4ZWxzIG9wdGlvblxuICAgICAgICBpZiAob3B0aW9ucy5yb3VuZFBpeGVscylcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0dGluZ3MuUk9VTkRfUElYRUxTID0gb3B0aW9ucy5yb3VuZFBpeGVscztcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjAuMCcsICdSZW5kZXJlciByb3VuZFBpeGVscyBvcHRpb24gaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMUycsIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdXBwbGllZCBjb25zdHJ1Y3RvciBvcHRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuUkVOREVSRVJfVFlQRS5VTktOT1dOXG4gICAgICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBSRU5ERVJFUl9UWVBFLlVOS05PV047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1lYXN1cmVtZW50cyBvZiB0aGUgc2NyZWVuLiAoMCwgMCwgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0cyBzYWZlIHRvIHVzZSBhcyBmaWx0ZXJBcmVhIG9yIGhpdEFyZWEgZm9yIHRoZSB3aG9sZSBzdGFnZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjcmVlbiA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmlldyA9IG9wdGlvbnMudmlldyB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNwYXJlbnQgPSBvcHRpb25zLnRyYW5zcGFyZW50O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIENTUyBkaW1lbnNpb25zIG9mIGNhbnZhcyB2aWV3IHNob3VsZCBiZSByZXNpemVkIHRvIHNjcmVlbiBkaW1lbnNpb25zIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9EZW5zaXR5ID0gb3B0aW9ucy5hdXRvRGVuc2l0eSB8fCBvcHRpb25zLmF1dG9SZXNpemUgfHwgZmFsc2U7XG4gICAgICAgIC8vIGF1dG9SZXNpemUgaXMgZGVwcmVjYXRlZCwgcHJvdmlkZXMgZmFsbGJhY2sgc3VwcG9ydFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmFsdWUgb2YgdGhlIHByZXNlcnZlRHJhd2luZ0J1ZmZlciBmbGFnIGFmZmVjdHMgd2hldGhlciBvciBub3QgdGhlIGNvbnRlbnRzIG9mXG4gICAgICAgICAqIHRoZSBzdGVuY2lsIGJ1ZmZlciBpcyByZXRhaW5lZCBhZnRlciByZW5kZXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHNldHMgaWYgdGhlIENhbnZhc1JlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICAgICAqIElmIHRoZSBzY2VuZSBpcyBOT1QgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGEgY2FudmFzIHNpemVkIGZpbGxSZWN0IG9wZXJhdGlvbiBldmVyeVxuICAgICAgICAgKiBmcmFtZSB0byBzZXQgdGhlIGNhbnZhcyBiYWNrZ3JvdW5kIGNvbG9yLiBJZiB0aGUgc2NlbmUgaXMgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGNsZWFyUmVjdFxuICAgICAgICAgKiB0byBjbGVhciB0aGUgY2FudmFzIGV2ZXJ5IGZyYW1lLiBEaXNhYmxlIHRoaXMgYnkgc2V0dGluZyB0aGlzIHRvIGZhbHNlLiBGb3IgZXhhbXBsZSwgaWZcbiAgICAgICAgICogeW91ciBnYW1lIGhhcyBhIGNhbnZhcyBmaWxsaW5nIGJhY2tncm91bmQgaW1hZ2UgeW91IG9mdGVuIGRvbid0IG5lZWQgdGhpcyBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBudW1iZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gMHgwMDAwMDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgc3RyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9ICcjMDAwMDAwJztcblxuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yIHx8IHRoaXMuX2JhY2tncm91bmRDb2xvcjsgLy8gcnVuIGJnIGNvbG9yIHNldHRlclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHRlbXBvcmFyeSBkaXNwbGF5IG9iamVjdCB1c2VkIGFzIHRoZSBwYXJlbnQgb2YgdGhlIGN1cnJlbnRseSBiZWluZyByZW5kZXJlZCBpdGVtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IENvbnRhaW5lcigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCByb290IG9iamVjdCB0aGF0IHRoZSByZW5kZXJlciB0cmllZCB0byByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgcGx1Z2lucy5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0YXRpY01hcCAtIFRoZSBkaWN0aW9uYXJ5IG9mIHN0YXRpY2FsbHkgc2F2ZWQgcGx1Z2lucy5cbiAgICAgKi9cbiAgICBpbml0UGx1Z2lucyhzdGF0aWNNYXApXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IG8gaW4gc3RhdGljTWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10gPSBuZXcgKHN0YXRpY01hcFtvXSkodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHZpZXcud2lkdGgsIGFjdHVhbCBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZSBjYW52YXMgYnkgaG9yaXpvbnRhbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCA4MDBcbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy53aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHZpZXcuaGVpZ2h0LCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IHZlcnRpY2FsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqL1xuICAgIGdldCBoZWlnaHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgc2NyZWVuIGFuZCBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqIENhbnZhcyBkaW1lbnNpb25zIGFyZSBtdWx0aXBsaWVkIGJ5IHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgcmVzaXplKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpXG4gICAge1xuICAgICAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHNjcmVlbldpZHRoO1xuICAgICAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XG5cbiAgICAgICAgdGhpcy52aWV3LndpZHRoID0gc2NyZWVuV2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMudmlldy5oZWlnaHQgPSBzY3JlZW5IZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHRoaXMuYXV0b0RlbnNpdHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IGAke3NjcmVlbldpZHRofXB4YDtcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS5oZWlnaHQgPSBgJHtzY3JlZW5IZWlnaHR9cHhgO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZnVsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRleHR1cmUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgY2FuIHRoZW4gYmUgdXNlZCB0byBjcmVhdGUgc3ByaXRlc1xuICAgICAqIFRoaXMgY2FuIGJlIHF1aXRlIHVzZWZ1bCBpZiB5b3VyIGRpc3BsYXlPYmplY3QgaXMgY29tcGxpY2F0ZWQgYW5kIG5lZWRzIHRvIGJlIHJldXNlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXlPYmplY3QgdGhlIG9iamVjdCB3aWxsIGJlIGdlbmVyYXRlZCBmcm9tLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZU1vZGUgLSBTaG91bGQgYmUgb25lIG9mIHRoZSBzY2FsZU1vZGUgY29uc3RzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWdpb25dIC0gVGhlIHJlZ2lvbiBvZiB0aGUgZGlzcGxheU9iamVjdCwgdGhhdCBzaGFsbCBiZSByZW5kZXJlZCxcbiAgICAgKiAgICAgICAgaWYgbm8gcmVnaW9uIGlzIHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IEEgdGV4dHVyZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqL1xuICAgIGdlbmVyYXRlVGV4dHVyZShkaXNwbGF5T2JqZWN0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJlZ2lvbilcbiAgICB7XG4gICAgICAgIHJlZ2lvbiA9IHJlZ2lvbiB8fCBkaXNwbGF5T2JqZWN0LmdldExvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgLy8gbWluaW11bSB0ZXh0dXJlIHNpemUgaXMgMXgxLCAweDAgd2lsbCB0aHJvdyBhbiBlcnJvclxuICAgICAgICBpZiAocmVnaW9uLndpZHRoID09PSAwKSByZWdpb24ud2lkdGggPSAxO1xuICAgICAgICBpZiAocmVnaW9uLmhlaWdodCA9PT0gMCkgcmVnaW9uLmhlaWdodCA9IDE7XG5cbiAgICAgICAgY29uc3QgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHJlZ2lvbi53aWR0aCB8IDAsIHJlZ2lvbi5oZWlnaHQgfCAwLCBzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuXG4gICAgICAgIHRlbXBNYXRyaXgudHggPSAtcmVnaW9uLng7XG4gICAgICAgIHRlbXBNYXRyaXgudHkgPSAtcmVnaW9uLnk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgZmFsc2UsIHRlbXBNYXRyaXgsICEhZGlzcGxheU9iamVjdC5wYXJlbnQpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciBhbmQgb3B0aW9uYWxseSByZW1vdmVzIHRoZSBDYW52YXMgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKi9cbiAgICBkZXN0cm95KHJlbW92ZVZpZXcpXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IG8gaW4gdGhpcy5wbHVnaW5zKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW1vdmVWaWV3ICYmIHRoaXMudmlldy5wYXJlbnROb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnZpZXcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbHVnaW5zID0gbnVsbDtcblxuICAgICAgICB0aGlzLnR5cGUgPSBSRU5ERVJFUl9UWVBFLlVOS05PV047XG5cbiAgICAgICAgdGhpcy52aWV3ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNjcmVlbiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gMDtcblxuICAgICAgICB0aGlzLnRyYW5zcGFyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5hdXRvRGVuc2l0eSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gbnVsbDtcblxuICAgICAgICB0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gMDtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIHRvIGZpbGwgaWYgbm90IHRyYW5zcGFyZW50XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGJhY2tncm91bmRDb2xvcigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgIH1cblxuICAgIHNldCBiYWNrZ3JvdW5kQ29sb3IodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IGhleDJzdHJpbmcodmFsdWUpO1xuICAgICAgICBoZXgycmdiKHZhbHVlLCB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQWJzdHJhY3RSZW5kZXJlciBmcm9tICcuL0Fic3RyYWN0UmVuZGVyZXInO1xuaW1wb3J0IHsgc2F5SGVsbG8sIGlzV2ViR0xTdXBwb3J0ZWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgTWFza1N5c3RlbSBmcm9tICcuL21hc2svTWFza1N5c3RlbSc7XG5pbXBvcnQgU3RlbmNpbFN5c3RlbSBmcm9tICcuL21hc2svU3RlbmNpbFN5c3RlbSc7XG5pbXBvcnQgRmlsdGVyU3lzdGVtIGZyb20gJy4vZmlsdGVycy9GaWx0ZXJTeXN0ZW0nO1xuaW1wb3J0IEZyYW1lYnVmZmVyU3lzdGVtIGZyb20gJy4vZnJhbWVidWZmZXIvRnJhbWVidWZmZXJTeXN0ZW0nO1xuaW1wb3J0IFJlbmRlclRleHR1cmVTeXN0ZW0gZnJvbSAnLi9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmVTeXN0ZW0nO1xuaW1wb3J0IFRleHR1cmVTeXN0ZW0gZnJvbSAnLi90ZXh0dXJlcy9UZXh0dXJlU3lzdGVtJztcbmltcG9ydCBQcm9qZWN0aW9uU3lzdGVtIGZyb20gJy4vcHJvamVjdGlvbi9Qcm9qZWN0aW9uU3lzdGVtJztcbmltcG9ydCBTdGF0ZVN5c3RlbSBmcm9tICcuL3N0YXRlL1N0YXRlU3lzdGVtJztcbmltcG9ydCBHZW9tZXRyeVN5c3RlbSBmcm9tICcuL2dlb21ldHJ5L0dlb21ldHJ5U3lzdGVtJztcbmltcG9ydCBTaGFkZXJTeXN0ZW0gZnJvbSAnLi9zaGFkZXIvU2hhZGVyU3lzdGVtJztcbmltcG9ydCBDb250ZXh0U3lzdGVtIGZyb20gJy4vY29udGV4dC9Db250ZXh0U3lzdGVtJztcbmltcG9ydCBCYXRjaFN5c3RlbSBmcm9tICcuL2JhdGNoL0JhdGNoU3lzdGVtJztcbmltcG9ydCBUZXh0dXJlR0NTeXN0ZW0gZnJvbSAnLi90ZXh0dXJlcy9UZXh0dXJlR0NTeXN0ZW0nO1xuaW1wb3J0IHsgUkVOREVSRVJfVFlQRSB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgVW5pZm9ybUdyb3VwIGZyb20gJy4vc2hhZGVyL1VuaWZvcm1Hcm91cCc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5cbi8qKlxuICogVGhlIFJlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSBXZWJHTCBlbmFibGVkIGNhbnZhcy5cbiAqXG4gKiBUaGlzIHJlbmRlcmVyIHNob3VsZCBiZSB1c2VkIGZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgV2ViR0wuXG4gKlxuICogVGhpcyByZW5kZXJlciB3b3JrcyBieSBhdXRvbWF0aWNhbGx5IG1hbmFnaW5nIFdlYkdMQmF0Y2hlc20sIHNvIG5vIG5lZWQgZm9yIFNwcml0ZSBCYXRjaGVzIG9yIFNwcml0ZSBDbG91ZHMuXG4gKiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSB2aWV3IHRvIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmchXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5BYnN0cmFjdFJlbmRlcmVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVyIGV4dGVuZHMgQWJzdHJhY3RSZW5kZXJlclxue1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSByZW5kZXJlciBpZiBXZWJHTCBpcyBhdmFpbGFibGUuIE92ZXJyaWRlYWJsZVxuICAgICAqIGJ5IHRoZSAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIHBhY2thZ2UgdG8gYWxsb3cgZmFsbGJhY2suXG4gICAgICogdGhyb3dzIGVycm9yIGlmIFdlYkdMIGlzIG5vdCBhdmFpbGFibGUuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShvcHRpb25zKVxuICAgIHtcbiAgICAgICAgaWYgKGlzV2ViR0xTdXBwb3J0ZWQoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJlcihvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wgdW5zdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLCB1c2UgXCJwaXhpLmpzLWxlZ2FjeVwiIGZvciBmYWxsYmFjayBjYW52YXMyZCBzdXBwb3J0LicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhcy4gSWYgbm90IGF2YWlsYWJsZSBuYXRpdmVseSB0aGVuIEZYQUFcbiAgICAgKiAgYW50aWFsaWFzaW5nIGlzIHVzZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gRm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gICAgICogIEZYQUEgaXMgZmFzdGVyLCBidXQgbWF5IG5vdCBhbHdheXMgbG9vayBhcyBncmVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKiAgVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlcmVyIHJldGluYSB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXJcbiAgICAgKiAgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuIElmIHlvdSB3aXNoIHRvIHNldCB0aGlzIHRvIGZhbHNlLCB5b3UgKm11c3QqIHNldFxuICAgICAqICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgdG8gYHRydWVgLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byBXZWJHTCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmNvbnRleHRdIElmIFdlYkdMIGNvbnRleHQgYWxyZWFkeSBleGlzdHMsIGFsbCBwYXJhbWV0ZXJzIG11c3QgYmUgdGFrZW4gZnJvbSBpdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pXG4gICAge1xuICAgICAgICBzdXBlcignV2ViR0wnLCBvcHRpb25zKTtcblxuICAgICAgICAvLyB0aGUgb3B0aW9ucyB3aWxsIGhhdmUgYmVlbiBtb2RpZmllZCBoZXJlIGluIHRoZSBzdXBlciBjb25zdHJ1Y3RvciB3aXRoIHBpeGkncyBkZWZhdWx0IHNldHRpbmdzLi5cbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhpcyByZW5kZXJlciBhcyBhIHN0YW5kYXJkaXplZCBjb25zdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBSRU5ERVJFUl9UWVBFLldFQkdMO1xuXG4gICAgICAgIC8vIHRoaXMgd2lsbCBiZSBzZXQgYnkgdGhlIGNvbnRleHRTeXN0ZW0gKHRoaXMuY29udGV4dClcbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSAwO1xuXG4gICAgICAgIC8vIFRPRE8gbGVnYWN5IVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBzaWduYWwgaW5zdGFuY2VzIG9mICoqcnVubmVyKiosIHRoZXNlXG4gICAgICAgICAqIGFyZSBhc3NpZ25lZCB0byBlYWNoIHN5c3RlbSBjcmVhdGVkLlxuICAgICAgICAgKiBAc2VlIFBJWEkuUnVubmVyXG4gICAgICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyZXIjcnVubmVyc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gZGVzdHJveSAtIERlc3Ryb3kgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IGNvbnRleHRDaGFuZ2UgLSBDb250ZXh0IGNoYW5nZSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcmVzZXQgLSBSZXNldCBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gdXBkYXRlIC0gVXBkYXRlIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBwb3N0cmVuZGVyIC0gUG9zdC1yZW5kZXIgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHByZXJlbmRlciAtIFByZS1yZW5kZXIgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHJlc2l6ZSAtIFJlc2l6ZSBydW5uZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucnVubmVycyA9IHtcbiAgICAgICAgICAgIGRlc3Ryb3k6IG5ldyBSdW5uZXIoJ2Rlc3Ryb3knKSxcbiAgICAgICAgICAgIGNvbnRleHRDaGFuZ2U6IG5ldyBSdW5uZXIoJ2NvbnRleHRDaGFuZ2UnLCAxKSxcbiAgICAgICAgICAgIHJlc2V0OiBuZXcgUnVubmVyKCdyZXNldCcpLFxuICAgICAgICAgICAgdXBkYXRlOiBuZXcgUnVubmVyKCd1cGRhdGUnKSxcbiAgICAgICAgICAgIHBvc3RyZW5kZXI6IG5ldyBSdW5uZXIoJ3Bvc3RyZW5kZXInKSxcbiAgICAgICAgICAgIHByZXJlbmRlcjogbmV3IFJ1bm5lcigncHJlcmVuZGVyJyksXG4gICAgICAgICAgICByZXNpemU6IG5ldyBSdW5uZXIoJ3Jlc2l6ZScsIDIpLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pZm9ybXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICAgICAgICBwcm9qZWN0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuTWFza1N5c3RlbX0gbWFza1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFkZFN5c3RlbShNYXNrU3lzdGVtLCAnbWFzaycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnRleHQgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuQ29udGV4dFN5c3RlbX0gY29udGV4dFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShDb250ZXh0U3lzdGVtLCAnY29udGV4dCcpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0YXRlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtfSBzdGF0ZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGF0ZVN5c3RlbSwgJ3N0YXRlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhZGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlNoYWRlclN5c3RlbX0gc2hhZGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFNoYWRlclN5c3RlbSwgJ3NoYWRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZVN5c3RlbX0gdGV4dHVyZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShUZXh0dXJlU3lzdGVtLCAndGV4dHVyZScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdlb21ldHJ5IHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkdlb21ldHJ5U3lzdGVtfSBnZW9tZXRyeVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShHZW9tZXRyeVN5c3RlbSwgJ2dlb21ldHJ5JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRnJhbWVidWZmZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuRnJhbWVidWZmZXJTeXN0ZW19IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZyYW1lYnVmZmVyU3lzdGVtLCAnZnJhbWVidWZmZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGVuY2lsIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0ZW5jaWxTeXN0ZW19IHN0ZW5jaWxcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU3RlbmNpbFN5c3RlbSwgJ3N0ZW5jaWwnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcm9qZWN0aW9uIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlByb2plY3Rpb25TeXN0ZW19IHByb2plY3Rpb25cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUHJvamVjdGlvblN5c3RlbSwgJ3Byb2plY3Rpb24nKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0dXJlIGdhcmJhZ2UgY29sbGVjdG9yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVHQ1N5c3RlbX0gdGV4dHVyZUdDXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVHQ1N5c3RlbSwgJ3RleHR1cmVHQycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZpbHRlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShGaWx0ZXJTeXN0ZW0sICdmaWx0ZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZW5kZXJUZXh0dXJlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlJlbmRlclRleHR1cmVTeXN0ZW19IHJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUmVuZGVyVGV4dHVyZVN5c3RlbSwgJ3JlbmRlclRleHR1cmUnKVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhdGNoIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkJhdGNoU3lzdGVtfSBiYXRjaFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShCYXRjaFN5c3RlbSwgJ2JhdGNoJyk7XG5cbiAgICAgICAgdGhpcy5pbml0UGx1Z2lucyhSZW5kZXJlci5fX3BsdWdpbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3B0aW9ucyBwYXNzZWQgaW4gdG8gY3JlYXRlIGEgbmV3IFdlYkdMIGNvbnRleHQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAob3B0aW9ucy5jb250ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuaW5pdEZyb21Db250ZXh0KG9wdGlvbnMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuaW5pdEZyb21PcHRpb25zKHtcbiAgICAgICAgICAgICAgICBhbHBoYTogdGhpcy50cmFuc3BhcmVudCxcbiAgICAgICAgICAgICAgICBhbnRpYWxpYXM6IG9wdGlvbnMuYW50aWFsaWFzLFxuICAgICAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogdGhpcy50cmFuc3BhcmVudCAmJiB0aGlzLnRyYW5zcGFyZW50ICE9PSAnbm90TXVsdGlwbGllZCcsXG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogdGhpcy5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWcgaWYgd2UgYXJlIHJlbmRlcmluZyB0byB0aGUgc2NyZWVuIHZzIHJlbmRlclRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIHNheUhlbGxvKHRoaXMuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDIgPyAnV2ViR0wgMicgOiAnV2ViR0wgMScpO1xuXG4gICAgICAgIHRoaXMucmVzaXplKHRoaXMub3B0aW9ucy53aWR0aCwgdGhpcy5vcHRpb25zLmhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbmV3IHN5c3RlbSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ2xhc3NSZWYgLSBDbGFzcyByZWZlcmVuY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIC0gUHJvcGVydHkgbmFtZSBmb3Igc3lzdGVtLCBpZiBub3Qgc3BlY2lmaWVkXG4gICAgICogICAgICAgIHdpbGwgdXNlIGEgc3RhdGljIGBuYW1lYCBwcm9wZXJ0eSBvbiB0aGUgY2xhc3MgaXRzZWxmLiBUaGlzXG4gICAgICogICAgICAgIG5hbWUgd2lsbCBiZSBhc3NpZ25lZCBhcyBzIHByb3BlcnR5IG9uIHRoZSBSZW5kZXJlciBzbyBtYWtlXG4gICAgICogICAgICAgIHN1cmUgaXQgZG9lc24ndCBjb2xsaWRlIHdpdGggcHJvcGVydGllcyBvbiBSZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm4gaW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBhZGRTeXN0ZW0oQ2xhc3NSZWYsIG5hbWUpXG4gICAge1xuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBDbGFzc1JlZi5uYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3lzdGVtID0gbmV3IENsYXNzUmVmKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzW25hbWVdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFdob29wcyEgVGhlIG5hbWUgXCIke25hbWV9XCIgaXMgYWxyZWFkeSBpbiB1c2VgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXNbbmFtZV0gPSBzeXN0ZW07XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMucnVubmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ydW5uZXJzW2ldLmFkZChzeXN0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZyBmaW5pc2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcG9zdHJlbmRlclxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYmVmb3JlIHJlbmRlcmluZyBzdGFydHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3ByZXJlbmRlclxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI2NvbnRleHRcbiAgICAgICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHRvIGl0cyBXZWJHTCB2aWV3XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBvYmplY3QgdG8gYmUgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIFRoZSByZW5kZXIgdGV4dHVyZSB0byByZW5kZXIgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2xlYXI9dHJ1ZV0gLSBTaG91bGQgdGhlIGNhbnZhcyBiZSBjbGVhcmVkIGJlZm9yZSB0aGUgbmV3IHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbdHJhbnNmb3JtXSAtIEEgdHJhbnNmb3JtIHRvIGFwcGx5IHRvIHRoZSByZW5kZXIgdGV4dHVyZSBiZWZvcmUgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVUcmFuc2Zvcm09ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0gcGFzcz9cbiAgICAgKi9cbiAgICByZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgY2xlYXIsIHRyYW5zZm9ybSwgc2tpcFVwZGF0ZVRyYW5zZm9ybSlcbiAgICB7XG4gICAgICAgIC8vIGNhbiBiZSBoYW5keSB0byBrbm93IVxuICAgICAgICB0aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gIXJlbmRlclRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5ydW5uZXJzLnByZXJlbmRlci5ydW4oKTtcbiAgICAgICAgdGhpcy5lbWl0KCdwcmVyZW5kZXInKTtcblxuICAgICAgICAvLyBhcHBseSBhIHRyYW5zZm9ybSBhdCBhIEdQVSBsZXZlbFxuICAgICAgICB0aGlzLnByb2plY3Rpb24udHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuXG4gICAgICAgIC8vIG5vIHBvaW50IHJlbmRlcmluZyBpZiBvdXIgY29udGV4dCBoYXMgYmVlbiBibG93biB1cCFcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5pc0xvc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZVRyYW5zZm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBzY2VuZSBncmFwaFxuICAgICAgICAgICAgY29uc3QgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LnBhcmVudDtcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB0aGlzLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuXG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyKHRoaXMpO1xuXG4gICAgICAgIC8vIGFwcGx5IHRyYW5zZm9ybS4uXG4gICAgICAgIHRoaXMuYmF0Y2guY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJ1bm5lcnMucG9zdHJlbmRlci5ydW4oKTtcblxuICAgICAgICAvLyByZXNldCB0cmFuc2Zvcm0gYWZ0ZXIgcmVuZGVyXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqL1xuICAgIHJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgc3VwZXIucmVzaXplKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuXG4gICAgICAgIHRoaXMucnVubmVycy5yZXNpemUucnVuKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgV2ViR0wgc3RhdGUgc28geW91IGNhbiByZW5kZXIgdGhpbmdzIGhvd2V2ZXIgeW91IGZhbmN5IVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5ydW5uZXJzLnJlc2V0LnJ1bigpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBjbGVhcigpXG4gICAge1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmJpbmQoKTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5jbGVhcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciAoZXZlbnQgbGlzdGVuZXJzLCBzcHJpdGViYXRjaCwgZXRjLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICogIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yMjMzXG4gICAgICovXG4gICAgZGVzdHJveShyZW1vdmVWaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5ydW5uZXJzLmRlc3Ryb3kucnVuKCk7XG5cbiAgICAgICAgZm9yIChjb25zdCByIGluIHRoaXMucnVubmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ydW5uZXJzW3JdLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbGwgYmFzZSBkZXN0cm95XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG5cbiAgICAgICAgLy8gVE9ETyBudWxsaWZ5IGFsbCB0aGUgbWFuYWdlcnMuLlxuICAgICAgICB0aGlzLmdsID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLiBUaGVzZSBhcmUgaW5jbHVkZWQgYnkgZGVmYXVsdCBpbiBQSVhJLCBidXQgY2FuIGJlIGV4Y2x1ZGVkXG4gICAgICogYnkgY3JlYXRpbmcgYSBjdXN0b20gYnVpbGQuIENvbnN1bHQgdGhlIFJFQURNRSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBjcmVhdGluZyBjdXN0b21cbiAgICAgKiBidWlsZHMgYW5kIGV4Y2x1ZGluZyBwbHVnaW5zLlxuICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyZXIjcGx1Z2luc1xuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHByb3BlcnR5IHtQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXJ9IGFjY2Vzc2liaWxpdHkgU3VwcG9ydCB0YWJiaW5nIGludGVyYWN0aXZlIGVsZW1lbnRzLlxuICAgICAqIEBwcm9wZXJ0eSB7UElYSS5leHRyYWN0LkV4dHJhY3R9IGV4dHJhY3QgRXh0cmFjdCBpbWFnZSBkYXRhIGZyb20gcmVuZGVyZXIuXG4gICAgICogQHByb3BlcnR5IHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0gaW50ZXJhY3Rpb24gSGFuZGxlcyBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLlxuICAgICAqIEBwcm9wZXJ0eSB7UElYSS5wcmVwYXJlLlByZXBhcmV9IHByZXBhcmUgUHJlLXJlbmRlciBkaXNwbGF5IG9iamVjdHMuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBjbGFzcyBmb3IgdGhlIHBsdWdpbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVnaXN0ZXJQbHVnaW4ocGx1Z2luTmFtZSwgY3RvcilcbiAgICB7XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2lucyA9IFJlbmRlcmVyLl9fcGx1Z2lucyB8fCB7fTtcbiAgICAgICAgUmVuZGVyZXIuX19wbHVnaW5zW3BsdWdpbk5hbWVdID0gY3RvcjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBkZWZhdWx0IGFzIFJlbmRlcmVyIH0gZnJvbSAnLi9SZW5kZXJlcic7XG5cbi8qKlxuICogVGhpcyBoZWxwZXIgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGRldGVjdCB3aGljaCByZW5kZXJlciB5b3Ugc2hvdWxkIGJlIHVzaW5nLlxuICogV2ViR0wgaXMgdGhlIHByZWZlcnJlZCByZW5kZXJlciBhcyBpdCBpcyBhIGxvdCBmYXN0ZXIuIElmIFdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQgYnlcbiAqIHRoZSBicm93c2VyIHRoZW4gdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBhIGNhbnZhcyByZW5kZXJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAqICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnQsIHRoaXNcbiAqICAgb3B0aW9uIG9ubHkgaXMgYXZhaWxhYmxlIHdoZW4gdXNpbmcgKipwaXhpLmpzLWxlZ2FjeSoqIG9yICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogbW9kdWxlcywgb3RoZXJ3aXNlXG4gKiAgIGl0IGlzIGlnbm9yZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlRlhBQT1mYWxzZV0gLSBmb3JjZXMgRlhBQSBhbnRpYWxpYXNpbmcgdG8gYmUgdXNlZCBvdmVyIG5hdGl2ZS5cbiAqICBGWEFBIGlzIGZhc3RlciwgYnV0IG1heSBub3QgYWx3YXlzIGxvb2sgYXMgZ3JlYXQgKip3ZWJnbCBvbmx5KipcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZCAqKndlYmdsIG9ubHkqKlxuICogQHJldHVybiB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfSBSZXR1cm5zIFdlYkdMIHJlbmRlcmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIENhbnZhc1JlbmRlcmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucylcbntcbiAgICByZXR1cm4gUmVuZGVyZXIuY3JlYXRlKG9wdGlvbnMpO1xufVxuIiwiaW1wb3J0IEJhc2VUZXh0dXJlIGZyb20gJy4vQmFzZVRleHR1cmUnO1xuaW1wb3J0IEN1YmVSZXNvdXJjZSBmcm9tICcuL3Jlc291cmNlcy9DdWJlUmVzb3VyY2UnO1xuXG4vKipcbiAqIEEgVGV4dHVyZSB0aGF0IGRlcGVuZHMgb24gc2l4IG90aGVyIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1YmVUZXh0dXJlIGV4dGVuZHMgQmFzZVRleHR1cmVcbntcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIG5ldyBDdWJlVGV4dHVyZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXXxQSVhJLnJlc291cmNlcy5SZXNvdXJjZVtdfSByZXNvdXJjZXMgLSBDb2xsZWN0aW9uIG9mIDYgVVJMcyBvciByZXNvdXJjZXNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9uYWwgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIHJlc291cmNlcyBiZWluZyBsb2FkZWQuXG4gICAgICogICAgICAgIFNlZSB7QFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZSBhdXRvRGV0ZWN0UmVzb3VyY2V9IGZvciBtb3JlIGluZm9cbiAgICAgKiAgICAgICAgb24gdGhlIG9wdGlvbnMgYXZhaWxhYmxlIHRvIGVhY2ggcmVzb3VyY2UuXG4gICAgICogQHJldHVybnMge1BJWEkuQ3ViZVRleHR1cmV9IG5ldyBjdWJlIHRleHR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShyZXNvdXJjZXMsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IEN1YmVUZXh0dXJlKG5ldyBDdWJlUmVzb3VyY2UocmVzb3VyY2VzLCBvcHRpb25zKSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBVc2VkIGJ5IHRoZSBiYXRjaGVyIHRvIGRyYXcgYmF0Y2hlcy5cbiAqIEVhY2ggb25lIG9mIHRoZXNlIGNvbnRhaW5zIGFsbCBpbmZvcm1hdGlvbiByZXF1aXJlZCB0byBkcmF3IGEgYm91bmQgZ2VvbWV0cnkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXRjaERyYXdDYWxsXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLmlkcyA9IFtdO1xuICAgICAgICB0aGlzLmJsZW5kID0gMDtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy50eXBlID0gNDtcbiAgICB9XG59XG4iLCIvKipcbiAqIEZsZXhpYmxlIHdyYXBwZXIgYXJvdW5kIGBBcnJheUJ1ZmZlcmAgdGhhdCBhbHNvIHByb3ZpZGVzXG4gKiB0eXBlZCBhcnJheSB2aWV3cyBvbiBkZW1hbmQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3YWJsZUJ1ZmZlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIGJ1ZmZlciBpbiBieXRlcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzaXplKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuZGVybHlpbmcgYEFycmF5QnVmZmVyYCB0aGF0IGhvbGRzIGFsbCB0aGUgZGF0YVxuICAgICAgICAgKiBhbmQgaXMgb2YgY2FwYWNpdHkgYHNpemVgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmF3QmluYXJ5RGF0YSA9IG5ldyBBcnJheUJ1ZmZlcihzaXplKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQzMkFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVpbnQzMlZpZXcgPSBuZXcgVWludDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEZsb2F0MzJBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmxvYXQzMlZpZXcgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDhBcnJheWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtJbnQ4QXJyYXl9XG4gICAgICovXG4gICAgZ2V0IGludDhWaWV3KClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faW50OFZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ludDhWaWV3ID0gbmV3IEludDhBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludDhWaWV3O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50OEFycmF5YC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1VpbnQ4QXJyYXl9XG4gICAgICovXG4gICAgZ2V0IHVpbnQ4VmlldygpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3VpbnQ4VmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdWludDhWaWV3ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl91aW50OFZpZXc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDE2QXJyYXlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7SW50MTZBcnJheX1cbiAgICAgKi9cbiAgICBnZXQgaW50MTZWaWV3KClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faW50MTZWaWV3KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pbnQxNlZpZXcgPSBuZXcgSW50MTZBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludDE2VmlldztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDE2QXJyYXlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICovXG4gICAgZ2V0IHVpbnQxNlZpZXcoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl91aW50MTZWaWV3KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl91aW50MTZWaWV3ID0gbmV3IFVpbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fdWludDE2VmlldztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgSW50MzJBcnJheWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtJbnQzMkFycmF5fVxuICAgICAqL1xuICAgIGdldCBpbnQzMlZpZXcoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbnQzMlZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ludDMyVmlldyA9IG5ldyBJbnQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5faW50MzJWaWV3O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZpZXcgb2YgdGhlIGdpdmVuIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIE9uZSBvZiBgaW50OGAsIGB1aW50OGAsIGBpbnQxNmAsXG4gICAgICogICAgYHVpbnQxNmAsIGBpbnQzMmAsIGB1aW50MzJgLCBhbmQgYGZsb2F0MzJgLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gdHlwZWQgYXJyYXkgb2YgZ2l2ZW4gdHlwZVxuICAgICAqL1xuICAgIHZpZXcodHlwZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzW2Ake3R5cGV9Vmlld2BdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGFsbCBidWZmZXIgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhZnRlciBjYWxsaW5nXG4gICAgICogdGhpcy5cbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMucmF3QmluYXJ5RGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ludDhWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdWludDhWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW50MTZWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdWludDE2VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ludDMyVmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMudWludDMyVmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuZmxvYXQzMlZpZXcgPSBudWxsO1xuICAgIH1cblxuICAgIHN0YXRpYyBzaXplT2YodHlwZSlcbiAgICB7XG4gICAgICAgIHN3aXRjaCAodHlwZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSAnaW50OCc6XG4gICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICBjYXNlICdpbnQxNic6XG4gICAgICAgICAgICBjYXNlICd1aW50MTYnOlxuICAgICAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgICAgY2FzZSAnaW50MzInOlxuICAgICAgICAgICAgY2FzZSAndWludDMyJzpcbiAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MzInOlxuICAgICAgICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dHlwZX0gaXNuJ3QgYSB2YWxpZCB2aWV3IHR5cGVgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBCYXRjaERyYXdDYWxsIGZyb20gJy4vQmF0Y2hEcmF3Q2FsbCc7XG5pbXBvcnQgQmFzZVRleHR1cmUgZnJvbSAnLi4vdGV4dHVyZXMvQmFzZVRleHR1cmUnO1xuaW1wb3J0IE9iamVjdFJlbmRlcmVyIGZyb20gJy4vT2JqZWN0UmVuZGVyZXInO1xuaW1wb3J0IFN0YXRlIGZyb20gJy4uL3N0YXRlL1N0YXRlJztcbmltcG9ydCBWaWV3YWJsZUJ1ZmZlciBmcm9tICcuLi9nZW9tZXRyeS9WaWV3YWJsZUJ1ZmZlcic7XG5cbmltcG9ydCBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIGZyb20gJy4uL3NoYWRlci91dGlscy9jaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyJztcblxuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseUJsZW5kTW9kZSwgcHJlbXVsdGlwbHlUaW50LCBuZXh0UG93MiwgbG9nMiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEVOViB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogUmVuZGVyZXIgZGVkaWNhdGVkIHRvIGRyYXdpbmcgYW5kIGJhdGNoaW5nIHNwcml0ZXMuXG4gKlxuICogVGhpcyBpcyB0aGUgZGVmYXVsdCBiYXRjaCByZW5kZXJlci4gSXQgYnVmZmVycyBvYmplY3RzXG4gKiB3aXRoIHRleHR1cmUtYmFzZWQgZ2VvbWV0cmllcyBhbmQgcmVuZGVycyB0aGVtIGluXG4gKiBiYXRjaGVzLiBJdCB1cGxvYWRzIG11bHRpcGxlIHRleHR1cmVzIHRvIHRoZSBHUFUgdG9cbiAqIHJlZHVjZSB0byB0aGUgbnVtYmVyIG9mIGRyYXcgY2FsbHMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJvdGVjdGVkXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBYnN0cmFjdEJhdGNoUmVuZGVyZXIgZXh0ZW5kcyBPYmplY3RSZW5kZXJlclxue1xuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBob29rIG9udG8gdGhlIHJlbmRlcmVyJ3MgYGNvbnRleHRDaGFuZ2VgXG4gICAgICogYW5kIGBwcmVyZW5kZXJgIHNpZ25hbHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZ2VuZXJhdGUgYSBzaGFkZXIgdGhhdCBjYW5cbiAgICAgICAgICogY29sb3IgZWFjaCB2ZXJ0ZXggYmFzZWQgb24gYSBgYVRleHR1cmVJZGBcbiAgICAgICAgICogYXR0cmlidXRlIHRoYXQgcG9pbnRzIHRvIGFuIHRleHR1cmUgaW4gYHVTYW1wbGVyYC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBlbmFibGVzIHRoZSBvYmplY3RzIHdpdGggZGlmZmVyZW50IHRleHR1cmVzXG4gICAgICAgICAqIHRvIGJlIGRyYXduIGluIHRoZSBzYW1lIGRyYXcgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogWW91IGNhbiBjdXN0b21pemUgeW91ciBzaGFkZXIgYnkgY3JlYXRpbmcgeW91clxuICAgICAgICAgKiBjdXN0b20gc2hhZGVyIGdlbmVyYXRvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXRjaFNoYWRlckdlbmVyYXRvcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFkZXJHZW5lcmF0b3IgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xhc3MgdGhhdCByZXByZXNlbnRzIHRoZSBnZW9tZXRyeSBvZiBvYmplY3RzXG4gICAgICAgICAqIHRoYXQgYXJlIGdvaW5nIHRvIGJlIGJhdGNoZWQgd2l0aCB0aGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQmF0Y2hHZW9tZXRyeVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5Q2xhc3MgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIGRhdGEgYmVpbmcgYnVmZmVyZWQgcGVyIHZlcnRleCBpbiB0aGVcbiAgICAgICAgICogYXR0cmlidXRlIGJ1ZmZlcnMgKGluIGZsb2F0cykuIEJ5IGRlZmF1bHQsIHRoZVxuICAgICAgICAgKiBiYXRjaC1yZW5kZXJlciBwbHVnaW4gdXNlcyA2OlxuICAgICAgICAgKlxuICAgICAgICAgKiB8IGFWZXJ0ZXhQb3NpdGlvbiB8IDIgfFxuICAgICAgICAgKiB8LS0tLS0tLS0tLS0tLS0tLS18LS0tfFxuICAgICAgICAgKiB8IGFUZXh0dXJlQ29vcmRzICB8IDIgfFxuICAgICAgICAgKiB8IGFDb2xvciAgICAgICAgICB8IDEgfFxuICAgICAgICAgKiB8IGFUZXh0dXJlSWQgICAgICB8IDEgfFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhTaXplID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGJ1ZmZlcmFibGUgb2JqZWN0cyBiZWZvcmUgYSBmbHVzaFxuICAgICAgICAgKiBvY2N1cnMgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBzZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSAyMDAwICogNDsvLyBzZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRSwgMjAwMCBpcyBhIG5pY2UgYmFsYW5jZSBiZXR3ZWVuIG1vYmlsZS9kZXNrdG9wXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCB2ZXJ0aWNlcyB1c2VkIGJ5IHRoZSBjdXJyZW50bHlcbiAgICAgICAgICogYnVmZmVyZWQgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb3RhbCBjb3VudCBvZiBhbGwgaW5kaWNlcyB1c2VkIGJ5IHRoZSBjdXJyZW50bHlcbiAgICAgICAgICogYnVmZmVyZWQgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faW5kZXhDb3VudCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciBvZiBvYmplY3RzIHRoYXQgYXJlIHlldCB0byBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBlbGVtZW50cyB0aGF0IGFyZSBidWZmZXJlZCBhbmQgYXJlXG4gICAgICAgICAqIHdhaXRpbmcgdG8gYmUgZmx1c2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVyU2l6ZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgc2hhZGVyIGlzIGdlbmVyYXRlZCBieSBgdGhpcy5zaGFkZXJHZW5lcmF0b3JgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdCBpcyBnZW5lcmF0ZWQgc3BlY2lmaWNhbGx5IHRvIGhhbmRsZSB0aGUgcmVxdWlyZWRcbiAgICAgICAgICogbnVtYmVyIG9mIHRleHR1cmVzIGJlaW5nIGJhdGNoZWQgdG9nZXRoZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGB0aGlzLmdlb21ldHJ5Q2xhc3NgIGdlb21ldHJ5IG9iamVjdHNcbiAgICAgICAgICogdGhhdCBzdG9yZSBidWZmZXJzLiBUaGV5IGFyZSB1c2VkIHRvIHBhc3MgZGF0YVxuICAgICAgICAgKiB0byB0aGUgc2hhZGVyIG9uIGVhY2ggZHJhdyBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLCB1bmxlc3MgYVxuICAgICAgICAgKiBjb250ZXh0IGNoYW5nZSBvY2N1cnM7IGhvd2V2ZXIsIHRoZSBwb29sIG1heVxuICAgICAgICAgKiBiZSBleHBhbmRlZCBpZiByZXF1aXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HZW9tZXRyeVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyLmNvbnRleHRDaGFuZ2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiBgdGhpcy5fcGFja2VkR2VvbWV0cmllc2AuIEl0IGNhbiBiZSBleHBhbmRlZFxuICAgICAgICAgKiBpZiBtb3JlIHRoYW4gYHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemVgIGZsdXNoZXNcbiAgICAgICAgICogb2NjdXIgaW4gYSBzaW5nbGUgZnJhbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPSAyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZsdXNoIG1heSBvY2N1ciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZVxuICAgICAgICAgKiBmcmFtZS4gT24gaU9TIGRldmljZXMgb3Igd2hlblxuICAgICAgICAgKiBgc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUmAgaXMgZmFsc2UsIHRoZVxuICAgICAgICAgKiBiYXRjaCByZW5kZXJlciBkb2VzIG5vdCB1cGxvYWQgZGF0YSB0byB0aGUgc2FtZVxuICAgICAgICAgKiBgV2ViR0xCdWZmZXJgIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBpbmRleCBpbnRvIGBwYWNrZWRHZW9tZXRyaWVzYCB0aGF0IHBvaW50cyB0b1xuICAgICAgICAgKiBnZW9tZXRyeSBob2xkaW5nIHRoZSBtb3N0IHJlY2VudCBidWZmZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mbHVzaElkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgQmF0Y2hEcmF3Q2FsbGAgb2JqZWN0cyB0aGF0IGBmbHVzaGAgdXNlZFxuICAgICAgICAgKiB0byBjcmVhdGUgXCJiYXRjaGVzXCIgb2YgdGhlIG9iamVjdHMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIgQmF0Y2hEcmF3Q2FsbFtdXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kcmF3Q2FsbHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuc2l6ZSAvIDQ7IGsrKylcbiAgICAgICAgeyAvLyBpbml0aWFsaXplIHRoZSBkcmF3LWNhbGxzIHBvb2wgdG8gbWF4IHNpemUuXG4gICAgICAgICAgICB0aGlzLl9kcmF3Q2FsbHNba10gPSBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgYFZpZXdhYmxlQnVmZmVyYCBvYmplY3RzIHRoYXQgYXJlIHNvcnRlZCBpblxuICAgICAgICAgKiBvcmRlciBvZiBpbmNyZWFzaW5nIHNpemUuIFRoZSBmbHVzaCBtZXRob2QgdXNlc1xuICAgICAgICAgKiB0aGUgYnVmZmVyIHdpdGggdGhlIGxlYXN0IHNpemUgYWJvdmUgdGhlIGFtb3VudFxuICAgICAgICAgKiBpdCByZXF1aXJlcy4gVGhlc2UgYXJlIHVzZWQgZm9yIHBhc3NpbmcgYXR0cmlidXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGZpcnN0IGJ1ZmZlciBoYXMgYSBzaXplIG9mIDg7IGVhY2ggc3Vic2VxdWVudFxuICAgICAgICAgKiBidWZmZXIgaGFzIGRvdWJsZSBjYXBhY2l0eSBvZiBpdHMgcHJldmlvdXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVmlld2FibGVCdWZmZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjZ2V0QXR0cmlidXRlQnVmZmVyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hQnVmZmVycyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGBVaW50MTZBcnJheWAgb2JqZWN0cyB0aGF0IGFyZSBzb3J0ZWQgaW5cbiAgICAgICAgICogb3JkZXIgb2YgaW5jcmVhc2luZyBzaXplLiBUaGUgZmx1c2ggbWV0aG9kIHVzZXNcbiAgICAgICAgICogdGhlIGJ1ZmZlciB3aXRoIHRoZSBsZWFzdCBzaXplIGFib3ZlIHRoZSBhbW91bnRcbiAgICAgICAgICogaXQgcmVxdWlyZXMuIFRoZXNlIGFyZSB1c2VkIGZvciBwYXNzaW5nIGluZGljZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBmaXJzdCBidWZmZXIgaGFzIGEgc2l6ZSBvZiAxMjsgZWFjaCBzdWJzZXF1ZW50XG4gICAgICAgICAqIGJ1ZmZlciBoYXMgZG91YmxlIGNhcGFjaXR5IG9mIGl0cyBwcmV2aW91cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXlbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNnZXRJbmRleEJ1ZmZlclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faUJ1ZmZlcnMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBudW1iZXIgb2YgdGV4dHVyZXMgdGhhdCBjYW4gYmUgdXBsb2FkZWQgdG9cbiAgICAgICAgICogdGhlIEdQVSB1bmRlciB0aGUgY3VycmVudCBjb250ZXh0LiBJdCBpcyBpbml0aWFsaXplZFxuICAgICAgICAgKiBwcm9wZXJseSBpbiBgdGhpcy5jb250ZXh0Q2hhbmdlYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2NvbnRleHRDaGFuZ2VcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IDE7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG4gICAgICAgIHJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5hZGQodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYGNvbnRleHRDaGFuZ2VgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGNhbGN1bGF0ZXMgYHRoaXMuTUFYX1RFWFRVUkVTYCBhbmQgYWxsb2NhdGluZyB0aGVcbiAgICAgKiBwYWNrZWQtZ2VvbWV0cnkgb2JqZWN0IHBvb2wuXG4gICAgICovXG4gICAgY29udGV4dENoYW5nZSgpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0ZXAgMTogZmlyc3QgY2hlY2sgbWF4IHRleHR1cmVzIHRoZSBHUFUgY2FuIGhhbmRsZS5cbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSxcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTKTtcblxuICAgICAgICAgICAgLy8gc3RlcCAyOiBjaGVjayB0aGUgbWF4aW11bSBudW1iZXIgb2YgaWYgc3RhdGVtZW50cyB0aGUgc2hhZGVyIGNhbiBoYXZlIHRvby4uXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIoXG4gICAgICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMsIGdsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NoYWRlciA9IHRoaXMuc2hhZGVyR2VuZXJhdG9yLmdlbmVyYXRlU2hhZGVyKHRoaXMuTUFYX1RFWFRVUkVTKTtcblxuICAgICAgICAvLyB3ZSB1c2UgdGhlIHNlY29uZCBzaGFkZXIgYXMgdGhlIGZpcnN0IG9uZSBkZXBlbmRpbmcgb24geW91ciBicm93c2VyXG4gICAgICAgIC8vIG1heSBvbWl0IGFUZXh0dXJlSWQgYXMgaXQgaXMgbm90IHVzZWQgYnkgdGhlIHNoYWRlciBzbyBpcyBvcHRpbWl6ZWQgb3V0LlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXSA9IG5ldyAodGhpcy5nZW9tZXRyeUNsYXNzKSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYHByZXJlbmRlcmAgc2lnbmFsLlxuICAgICAqXG4gICAgICogSXQgZW5zdXJlcyB0aGF0IGZsdXNoZXMgc3RhcnQgZnJvbSB0aGUgZmlyc3QgZ2VvbWV0cnlcbiAgICAgKiBvYmplY3QgYWdhaW4uXG4gICAgICovXG4gICAgb25QcmVyZW5kZXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmx1c2hJZCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVmZmVycyB0aGUgXCJiYXRjaGFibGVcIiBvYmplY3QuIEl0IG5lZWQgbm90IGJlIHJlbmRlcmVkXG4gICAgICogaW1tZWRpYXRlbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHJlbmRlciB3aGVuXG4gICAgICogICAgdXNpbmcgdGhpcyBzcHJpdGViYXRjaFxuICAgICAqL1xuICAgIHJlbmRlcihlbGVtZW50KVxuICAgIHtcbiAgICAgICAgaWYgKCFlbGVtZW50Ll90ZXh0dXJlLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdmVydGV4Q291bnQgKyAoZWxlbWVudC52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIpID4gdGhpcy5zaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl92ZXJ0ZXhDb3VudCArPSBlbGVtZW50LnZlcnRleERhdGEubGVuZ3RoIC8gMjtcbiAgICAgICAgdGhpcy5faW5kZXhDb3VudCArPSBlbGVtZW50LmluZGljZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzW3RoaXMuX2J1ZmZlclNpemUrK10gPSBlbGVtZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNvbnRlbnQgX25vd18gYW5kIGVtcHRpZXMgdGhlIGN1cnJlbnQgYmF0Y2guXG4gICAgICovXG4gICAgZmx1c2goKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRleENvdW50ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXIgPSB0aGlzLmdldEF0dHJpYnV0ZUJ1ZmZlcih0aGlzLl92ZXJ0ZXhDb3VudCk7XG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleEJ1ZmZlcih0aGlzLl9pbmRleENvdW50KTtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIF9idWZmZXJlZEVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgICAgIF9kcmF3Q2FsbHM6IGRyYXdDYWxscyxcbiAgICAgICAgICAgIE1BWF9URVhUVVJFUyxcbiAgICAgICAgICAgIF9wYWNrZWRHZW9tZXRyaWVzOiBwYWNrZWRHZW9tZXRyaWVzLFxuICAgICAgICAgICAgdmVydGV4U2l6ZSxcbiAgICAgICAgfSA9IHRoaXM7XG5cbiAgICAgICAgY29uc3QgdG91Y2ggPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcblxuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBsZXQgX2luZGV4Q291bnQgPSAwO1xuXG4gICAgICAgIGxldCBuZXh0VGV4dHVyZTtcbiAgICAgICAgbGV0IGN1cnJlbnRUZXh0dXJlO1xuICAgICAgICBsZXQgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICBsZXQgY3VycmVudEdyb3VwID0gZHJhd0NhbGxzWzBdO1xuICAgICAgICBsZXQgZ3JvdXBDb3VudCA9IDA7XG5cbiAgICAgICAgbGV0IGJsZW5kTW9kZSA9IC0xOy8vIGJsZW5kLW1vZGUgb2YgcHJldmlvdXMgZWxlbWVudC9zcHJpdGUvb2JqZWN0IVxuXG4gICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuYmxlbmQgPSBibGVuZE1vZGU7XG5cbiAgICAgICAgbGV0IFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcbiAgICAgICAgbGV0IGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuX2J1ZmZlclNpemU7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gZWxlbWVudHNbaV07XG5cbiAgICAgICAgICAgIGVsZW1lbnRzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIG5leHRUZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICBjb25zdCBzcHJpdGVCbGVuZE1vZGUgPSBwcmVtdWx0aXBseUJsZW5kTW9kZVtcbiAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5wcmVtdWx0aXBseUFscGhhID8gMSA6IDBdW3Nwcml0ZS5ibGVuZE1vZGVdO1xuXG4gICAgICAgICAgICBpZiAoYmxlbmRNb2RlICE9PSBzcHJpdGVCbGVuZE1vZGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmxlbmRNb2RlID0gc3ByaXRlQmxlbmRNb2RlO1xuXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdGhlIGJhdGNoIHRvIGJyZWFrIVxuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSBNQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFRleHR1cmUgIT09IG5leHRUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX2JhdGNoRW5hYmxlZCAhPT0gVElDSylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlQ291bnQgPT09IE1BWF9URVhUVVJFUylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgVElDSysrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IF9pbmRleENvdW50IC0gY3VycmVudEdyb3VwLnN0YXJ0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBkcmF3Q2FsbHNbZ3JvdXBDb3VudCsrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLmJsZW5kID0gYmxlbmRNb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gX2luZGV4Q291bnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS50b3VjaGVkID0gdG91Y2g7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5faWQgPSB0ZXh0dXJlQ291bnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVzW2N1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5KHNwcml0ZSwgYXR0cmlidXRlQnVmZmVyLFxuICAgICAgICAgICAgICAgIGluZGV4QnVmZmVyLCBpbmRleCwgX2luZGV4Q291bnQpO1xuXG4gICAgICAgICAgICAvLyBwdXNoIGEgZ3JhcGhpY3MuLlxuICAgICAgICAgICAgaW5kZXggKz0gKHNwcml0ZS52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIpICogdmVydGV4U2l6ZTtcbiAgICAgICAgICAgIF9pbmRleENvdW50ICs9IHNwcml0ZS5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IFRJQ0s7XG4gICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gX2luZGV4Q291bnQgLSBjdXJyZW50R3JvdXAuc3RhcnQ7XG5cbiAgICAgICAgaWYgKCFzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKVxuICAgICAgICB7IC8qIFVzdWFsbHkgb24gaU9TIGRldmljZXMsIHdoZXJlIHRoZSBicm93c2VyIGRvZXNuJ3RcbiAgICAgICAgICAgIGxpa2UgdXBsb2FkcyB0byB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWUuICovXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSA8PSB0aGlzLl9mbHVzaElkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUrKztcbiAgICAgICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2J1ZmZlci51cGRhdGUoYXR0cmlidXRlQnVmZmVyLnJhd0JpbmFyeURhdGEsIDApO1xuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5faW5kZXhCdWZmZXIudXBkYXRlKGluZGV4QnVmZmVyLCAwKTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0pO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgICAgICAgICB0aGlzLl9mbHVzaElkKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgZmFzdGVyIG9wdGlvbiwgYWx3YXlzIHVzZSBidWZmZXIgbnVtYmVyIDBcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2J1ZmZlci51cGRhdGUoYXR0cmlidXRlQnVmZmVyLnJhd0JpbmFyeURhdGEsIDApO1xuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5faW5kZXhCdWZmZXIudXBkYXRlKGluZGV4QnVmZmVyLCAwKTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXh0dXJlU3lzdGVtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuICAgICAgICBjb25zdCBzdGF0ZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIuc3RhdGU7XG5cbiAgICAgICAgLy8gVXBsb2FkIHRleHR1cmVzIGFuZCBkbyB0aGUgZHJhdyBjYWxsc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZ3JvdXBDb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IGRyYXdDYWxsc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwVGV4dHVyZUNvdW50ID0gZ3JvdXAudGV4dHVyZUNvdW50O1xuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdyb3VwVGV4dHVyZUNvdW50OyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZVN5c3RlbS5iaW5kKGdyb3VwLnRleHR1cmVzW2pdLCBqKTtcbiAgICAgICAgICAgICAgICBncm91cC50ZXh0dXJlc1tqXSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0YXRlU3lzdGVtLnNldEJsZW5kTW9kZShncm91cC5ibGVuZCk7XG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ3JvdXAudHlwZSwgZ3JvdXAuc2l6ZSwgZ2wuVU5TSUdORURfU0hPUlQsIGdyb3VwLnN0YXJ0ICogMik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCBlbGVtZW50cyBmb3IgdGhlIG5leHQgZmx1c2hcbiAgICAgICAgdGhpcy5fYnVmZmVyU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX3ZlcnRleENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5faW5kZXhDb3VudCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cbiAgICBzdGFydCgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRlci5iaW5kKHRoaXMuX3NoYWRlcik7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLkNBTl9VUExPQURfU0FNRV9CVUZGRVIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGJpbmQgYnVmZmVyICMwLCB3ZSBkb24ndCBuZWVkIG90aGVyc1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgYW5kIGZsdXNoZXMgdGhlIGN1cnJlbnQgYmF0Y2guXG4gICAgICovXG4gICAgc3RvcCgpXG4gICAge1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBgQWJzdHJhY3RCYXRjaFJlbmRlcmVyYC4gSXQgY2Fubm90IGJlIHVzZWQgYWdhaW4uXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fYUJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9pQnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9kcmF3Q2FsbHMgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLl9zaGFkZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gYXR0cmlidXRlIGJ1ZmZlciBmcm9tIGB0aGlzLl9hQnVmZmVyc2AgdGhhdFxuICAgICAqIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gbWluaW11bSBjYXBhY2l0eSByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1ZpZXdhYmxlQnVmZmVyfSAtIGJ1ZmZlciB0aGFuIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0QXR0cmlidXRlQnVmZmVyKHNpemUpXG4gICAge1xuICAgICAgICAvLyA4IHZlcnRpY2VzIGlzIGVub3VnaCBmb3IgMiBxdWFkc1xuICAgICAgICBjb25zdCByb3VuZGVkUDIgPSBuZXh0UG93MihNYXRoLmNlaWwoc2l6ZSAvIDgpKTtcbiAgICAgICAgY29uc3Qgcm91bmRlZFNpemVJbmRleCA9IGxvZzIocm91bmRlZFAyKTtcbiAgICAgICAgY29uc3Qgcm91bmRlZFNpemUgPSByb3VuZGVkUDIgKiA4O1xuXG4gICAgICAgIGlmICh0aGlzLl9hQnVmZmVycy5sZW5ndGggPD0gcm91bmRlZFNpemVJbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faUJ1ZmZlcnMubGVuZ3RoID0gcm91bmRlZFNpemVJbmRleCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYnVmZmVyID0gdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdO1xuXG4gICAgICAgIGlmICghYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hQnVmZmVyc1tyb3VuZGVkU2l6ZV0gPSBidWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIocm91bmRlZFNpemUgKiB0aGlzLnZlcnRleFNpemUgKiA0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBpbmRleCBidWZmZXIgZnJvbSBgdGhpcy5faUJ1ZmZlcnNgIHRoYXQgY2FuXG4gICAgICogaGFzIGF0bGVhc3QgYHNpemVgIGNhcGFjaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBtaW5pbXVtIHJlcXVpcmVkIGNhcGFjaXR5XG4gICAgICogQHJldHVybiB7VWludDE2QXJyYXl9IC0gYnVmZmVyIHRoYXQgY2FuIGZpdCBgc2l6ZWBcbiAgICAgKiAgICBpbmRpY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0SW5kZXhCdWZmZXIoc2l6ZSlcbiAgICB7XG4gICAgICAgIC8vIDEyIGluZGljZXMgaXMgZW5vdWdoIGZvciAyIHF1YWRzXG4gICAgICAgIGNvbnN0IHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gMTIpKTtcbiAgICAgICAgY29uc3Qgcm91bmRlZFNpemVJbmRleCA9IGxvZzIocm91bmRlZFAyKTtcbiAgICAgICAgY29uc3Qgcm91bmRlZFNpemUgPSByb3VuZGVkUDIgKiAxMjtcblxuICAgICAgICBpZiAodGhpcy5faUJ1ZmZlcnMubGVuZ3RoIDw9IHJvdW5kZWRTaXplSW5kZXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA9IHJvdW5kZWRTaXplSW5kZXggKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJ1ZmZlciA9IHRoaXMuX2lCdWZmZXJzW3JvdW5kZWRTaXplSW5kZXhdO1xuXG4gICAgICAgIGlmICghYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XSA9IGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShyb3VuZGVkU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBmb3VyIGJhdGNoaW5nIHBhcmFtZXRlcnMgb2YgYGVsZW1lbnRgLCBpbnRlcmxlYXZlc1xuICAgICAqIGFuZCBwdXNoZXMgdGhlbSBpbnRvIHRoZSBiYXRjaGluZyBhdHRyaWJ1dGUvaW5kZXggYnVmZmVycyBnaXZlbi5cbiAgICAgKlxuICAgICAqIEl0IHVzZXMgdGhlc2UgcHJvcGVydGllczogYHZlcnRleERhdGFgIGB1dnNgLCBgdGV4dHVyZUlkYCBhbmRcbiAgICAgKiBgaW5kaWNpZXNgLiBJdCBhbHNvIHVzZXMgdGhlIFwidGludFwiIG9mIHRoZSBiYXNlLXRleHR1cmUsIGlmXG4gICAgICogcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IGVsZW1lbnQgLSBlbGVtZW50IGJlaW5nIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlZpZXdhYmxlQnVmZmVyfSBhdHRyaWJ1dGVCdWZmZXIgLSBhdHRyaWJ1dGUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IGluZGV4QnVmZmVyIC0gaW5kZXggYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFJbmRleCAtIG51bWJlciBvZiBmbG9hdHMgYWxyZWFkeSBpbiB0aGUgYXR0cmlidXRlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpSW5kZXggLSBudW1iZXIgb2YgaW5kaWNlcyBhbHJlYWR5IGluIGBpbmRleEJ1ZmZlcmBcbiAgICAgKi9cbiAgICBwYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeShlbGVtZW50LCBhdHRyaWJ1dGVCdWZmZXIsIGluZGV4QnVmZmVyLCBhSW5kZXgsIGlJbmRleClcbiAgICB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHVpbnQzMlZpZXcsXG4gICAgICAgICAgICBmbG9hdDMyVmlldyxcbiAgICAgICAgfSA9IGF0dHJpYnV0ZUJ1ZmZlcjtcblxuICAgICAgICBjb25zdCBwYWNrZWRWZXJ0aWNlcyA9IGFJbmRleCAvIHRoaXMudmVydGV4U2l6ZTtcbiAgICAgICAgY29uc3QgdXZzID0gZWxlbWVudC51dnM7XG4gICAgICAgIGNvbnN0IGluZGljaWVzID0gZWxlbWVudC5pbmRpY2VzO1xuICAgICAgICBjb25zdCB2ZXJ0ZXhEYXRhID0gZWxlbWVudC52ZXJ0ZXhEYXRhO1xuICAgICAgICBjb25zdCB0ZXh0dXJlSWQgPSBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlLl9pZDtcblxuICAgICAgICBjb25zdCBhbHBoYSA9IE1hdGgubWluKGVsZW1lbnQud29ybGRBbHBoYSwgMS4wKTtcbiAgICAgICAgY29uc3QgYXJnYiA9IChhbHBoYSA8IDEuMFxuICAgICAgICAgICYmIGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSlcbiAgICAgICAgICAgID8gcHJlbXVsdGlwbHlUaW50KGVsZW1lbnQuX3RpbnRSR0IsIGFscGhhKVxuICAgICAgICAgICAgOiBlbGVtZW50Ll90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAvLyBsZXRzIG5vdCB3b3JyeSBhYm91dCB0aW50ISBmb3Igbm93Li5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpICsgMV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgdWludDMyVmlld1thSW5kZXgrK10gPSBhcmdiO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdGV4dHVyZUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRpY2llcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaW5kZXhCdWZmZXJbaUluZGV4KytdID0gcGFja2VkVmVydGljZXMgKyBpbmRpY2llc1tpXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBTaGFkZXIgZnJvbSAnLi4vc2hhZGVyL1NoYWRlcic7XG5pbXBvcnQgUHJvZ3JhbSBmcm9tICcuLi9zaGFkZXIvUHJvZ3JhbSc7XG5pbXBvcnQgVW5pZm9ybUdyb3VwIGZyb20gJy4uL3NoYWRlci9Vbmlmb3JtR3JvdXAnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogSGVscGVyIHRoYXQgZ2VuZXJhdGVzIGJhdGNoaW5nIG11bHRpLXRleHR1cmUgc2hhZGVyLiBVc2UgaXQgd2l0aCB5b3VyIG5ldyBCYXRjaFJlbmRlcmVyXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXRjaFNoYWRlckdlbmVyYXRvclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJ0ZXhTcmMgLSBWZXJ0ZXggc2hhZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZyYWdUZW1wbGF0ZSAtIEZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZlcnRleFNyYywgZnJhZ1RlbXBsYXRlKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgdmVydGV4IHNoYWRlciBzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4U3JjID0gdmVydGV4U3JjO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGZyYWdlbWVudCBzaGFkZXIgdGVtcGxhdGUuIE11c3QgY29udGFpbiBcIiVjb3VudCVcIiBhbmQgXCIlZm9ybG9vcCVcIi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFnVGVtcGxhdGUgPSBmcmFnVGVtcGxhdGU7XG5cbiAgICAgICAgdGhpcy5wcm9ncmFtQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5kZWZhdWx0R3JvdXBDYWNoZSA9IHt9O1xuXG4gICAgICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWNvdW50JScpIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcmFnbWVudCB0ZW1wbGF0ZSBtdXN0IGNvbnRhaW4gXCIlY291bnQlXCIuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJhZ1RlbXBsYXRlLmluZGV4T2YoJyVmb3Jsb29wJScpIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcmFnbWVudCB0ZW1wbGF0ZSBtdXN0IGNvbnRhaW4gXCIlZm9ybG9vcCVcIi4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdlbmVyYXRlU2hhZGVyKG1heFRleHR1cmVzKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KG1heFRleHR1cmVzKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGVbbWF4VGV4dHVyZXNdID0gVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKTtcblxuICAgICAgICAgICAgbGV0IGZyYWdtZW50U3JjID0gdGhpcy5mcmFnVGVtcGxhdGU7XG5cbiAgICAgICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgYCR7bWF4VGV4dHVyZXN9YCk7XG4gICAgICAgICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgdGhpcy5nZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykpO1xuXG4gICAgICAgICAgICB0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10gPSBuZXcgUHJvZ3JhbSh0aGlzLnZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB0aW50OiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICAgICAgZGVmYXVsdDogdGhpcy5kZWZhdWx0R3JvdXBDYWNoZVttYXhUZXh0dXJlc10sXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTaGFkZXIodGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdLCB1bmlmb3Jtcyk7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpXG4gICAge1xuICAgICAgICBsZXQgc3JjID0gJyc7XG5cbiAgICAgICAgc3JjICs9ICdcXG4nO1xuICAgICAgICBzcmMgKz0gJ1xcbic7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaSA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpIDwgbWF4VGV4dHVyZXMgLSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNyYyArPSBgaWYodlRleHR1cmVJZCA8ICR7aX0uNSlgO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzcmMgKz0gJ1xcbnsnO1xuICAgICAgICAgICAgc3JjICs9IGBcXG5cXHRjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlcnNbJHtpfV0sIHZUZXh0dXJlQ29vcmQpO2A7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbn0nO1xuICAgICAgICB9XG5cbiAgICAgICAgc3JjICs9ICdcXG4nO1xuICAgICAgICBzcmMgKz0gJ1xcbic7XG5cbiAgICAgICAgcmV0dXJuIHNyYztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgR2VvbWV0cnkgZnJvbSAnLi4vZ2VvbWV0cnkvR2VvbWV0cnknO1xuaW1wb3J0IEJ1ZmZlciBmcm9tICcuLi9nZW9tZXRyeS9CdWZmZXInO1xuXG4vKipcbiAqIEdlb21ldHJ5IHVzZWQgdG8gYmF0Y2ggc3RhbmRhcmQgUElYSSBjb250ZW50IChlLmcuIE1lc2gsIFNwcml0ZSwgR3JhcGhpY3Mgb2JqZWN0cykuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXRjaEdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnlcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtfc3RhdGljPWZhbHNlXSBPcHRpbWl6YXRpb24gZmxhZywgd2hlcmUgYGZhbHNlYFxuICAgICAqICAgICAgICBpcyB1cGRhdGVkIGV2ZXJ5IGZyYW1lLCBgdHJ1ZWAgZG9lc24ndCBjaGFuZ2UgZnJhbWUtdG8tZnJhbWUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoX3N0YXRpYyA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIHVzZWQgZm9yIHBvc2l0aW9uLCBjb2xvciwgdGV4dHVyZSBJRHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgZmFsc2UpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRleCBidWZmZXIgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKG51bGwsIF9zdGF0aWMsIHRydWUpO1xuXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCB0aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCB0aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FDb2xvcicsIHRoaXMuX2J1ZmZlciwgNCwgdHJ1ZSwgVFlQRVMuVU5TSUdORURfQllURSlcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlSWQnLCB0aGlzLl9idWZmZXIsIDEsIHRydWUsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEluZGV4KHRoaXMuX2luZGV4QnVmZmVyKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQmF0Y2hTaGFkZXJHZW5lcmF0b3IgZnJvbSAnLi9CYXRjaFNoYWRlckdlbmVyYXRvcic7XG5pbXBvcnQgQmF0Y2hHZW9tZXRyeSBmcm9tICcuL0JhdGNoR2VvbWV0cnknO1xuaW1wb3J0IEFic3RyYWN0QmF0Y2hSZW5kZXJlciBmcm9tICcuL0Fic3RyYWN0QmF0Y2hSZW5kZXJlcic7XG5cbmltcG9ydCBkZWZhdWx0VmVydGV4IGZyb20gJy4vdGV4dHVyZS52ZXJ0JztcbmltcG9ydCBkZWZhdWx0RnJhZ21lbnQgZnJvbSAnLi90ZXh0dXJlLmZyYWcnO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmF0Y2hQbHVnaW5GYWN0b3J5XG57XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJhdGNoUmVuZGVyZXIgcGx1Z2luIGZvciBSZW5kZXJlci4gdGhpcyBjb252ZW5pZW5jZSBjYW4gcHJvdmlkZSBhbiBlYXN5IHdheVxuICAgICAqIHRvIGV4dGVuZCBCYXRjaFJlbmRlcmVyIHdpdGggYWxsIHRoZSBuZWNlc3NhcnkgcGllY2VzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZnJhZ21lbnQgPSBgXG4gICAgICogdmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG4gICAgICogdmFyeWluZyB2ZWM0IHZDb2xvcjtcbiAgICAgKiB2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XG4gICAgICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJzWyVjb3VudCVdO1xuICAgICAqXG4gICAgICogdm9pZCBtYWluKHZvaWQpe1xuICAgICAqICAgICB2ZWM0IGNvbG9yO1xuICAgICAqICAgICAlZm9ybG9vcCVcbiAgICAgKiAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yICogdmVjNChjb2xvci5hIC0gY29sb3IucmdiLCBjb2xvci5hKTtcbiAgICAgKiB9XG4gICAgICogYDtcbiAgICAgKiBjb25zdCBJbnZlcnRCYXRjaFJlbmRlcmVyID0gUElYSS5CYXRjaFBsdWdpbkZhY3RvcnkuY3JlYXRlKHsgZnJhZ21lbnQgfSk7XG4gICAgICogUElYSS5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW52ZXJ0JywgSW52ZXJ0QmF0Y2hSZW5kZXJlcik7XG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKCk7XG4gICAgICogc3ByaXRlLnBsdWdpbk5hbWUgPSAnaW52ZXJ0JztcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZlcnRleD1QSVhJLkJhdGNoUGx1Z2luRmFjdG9yeS5kZWZhdWx0VmVydGV4U3JjXSAtIFZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZyYWdtZW50PVBJWEkuQmF0Y2hQbHVnaW5GYWN0b3J5LmRlZmF1bHRGcmFnbWVudFRlbXBsYXRlXSAtIEZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy52ZXJ0ZXhTaXplPTZdIC0gVmVydGV4IHNpemVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuZ2VvbWV0cnlDbGFzcz1QSVhJLkJhdGNoR2VvbWV0cnldXG4gICAgICogQHJldHVybiB7Kn0gTmV3IGJhdGNoIHJlbmRlcmVyIHBsdWdpblxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgdmVydGV4LCBmcmFnbWVudCwgdmVydGV4U2l6ZSwgZ2VvbWV0cnlDbGFzcyB9ID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB2ZXJ0ZXg6IGRlZmF1bHRWZXJ0ZXgsXG4gICAgICAgICAgICBmcmFnbWVudDogZGVmYXVsdEZyYWdtZW50LFxuICAgICAgICAgICAgZ2VvbWV0cnlDbGFzczogQmF0Y2hHZW9tZXRyeSxcbiAgICAgICAgICAgIHZlcnRleFNpemU6IDYsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiBjbGFzcyBCYXRjaFBsdWdpbiBleHRlbmRzIEFic3RyYWN0QmF0Y2hSZW5kZXJlclxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRlckdlbmVyYXRvciA9IG5ldyBCYXRjaFNoYWRlckdlbmVyYXRvcih2ZXJ0ZXgsIGZyYWdtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmdlb21ldHJ5Q2xhc3MgPSBnZW9tZXRyeUNsYXNzO1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4U2l6ZSA9IHZlcnRleFNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgZGVmYXVsdFZlcnRleFNyYygpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRGcmFnbWVudFRlbXBsYXRlKClcbiAgICB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQ7XG4gICAgfVxufVxuXG4vLyBTZXR1cCB0aGUgZGVmYXVsdCBCYXRjaFJlbmRlcmVyIHBsdWdpbiwgdGhpcyBpcyB3aGF0XG4vLyB3ZSdsbCBhY3R1YWxseSBleHBvcnQgYXQgdGhlIHJvb3QgbGV2ZWxcbmV4cG9ydCBjb25zdCBCYXRjaFJlbmRlcmVyID0gQmF0Y2hQbHVnaW5GYWN0b3J5LmNyZWF0ZSgpO1xuIiwiaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ2FudmFzUmVuZGVyVGFyZ2V0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmNvbnN0IFRFTVBfUkVDVCA9IG5ldyBSZWN0YW5nbGUoKTtcbmNvbnN0IEJZVEVTX1BFUl9QSVhFTCA9IDQ7XG5cbi8qKlxuICogVGhlIGV4dHJhY3QgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIGV4cG9ydCBjb250ZW50IGZyb20gdGhlIHJlbmRlcmVycy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmV4dHJhY3RgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4dHJhY3RcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgZXh0cmFjdGluZyBkYXRhIChpbWFnZSwgcGl4ZWxzLCBldGMuKSBmcm9tIGEgZGlzcGxheSBvYmplY3Qgb3IgcmVuZGVyIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5leHRyYWN0LkV4dHJhY3R9IGV4dHJhY3RcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYWN0LkV4dHJhY3RcbiAgICAgICAgICovXG4gICAgICAgIHJlbmRlcmVyLmV4dHJhY3QgPSB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqL1xuICAgIGltYWdlKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KVxuICAgIHtcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLmJhc2U2NCh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSk7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhpcyB0YXJnZXQuIEl0IHdvcmtzIGJ5IGNhbGxpbmdcbiAgICAgKiAgYEV4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdIC0gSW1hZ2UgZm9ybWF0LCBlLmcuIFwiaW1hZ2UvanBlZ1wiIG9yIFwiaW1hZ2Uvd2VicFwiLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eV0gLSBKUEVHIG9yIFdlYnAgY29tcHJlc3Npb24gZnJvbSAwIHRvIDEuIERlZmF1bHQgaXMgMC45Mi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIGJhc2U2NCh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTChmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGlzIHRhcmdldCB0byBpdCBhbmQgdGhlbiByZXR1cm5zIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAgICAgKi9cbiAgICBjYW52YXModGFyZ2V0KVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICBsZXQgcmVzb2x1dGlvbjtcbiAgICAgICAgbGV0IGZyYW1lO1xuICAgICAgICBsZXQgZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgbGV0IHJlbmRlclRleHR1cmU7XG4gICAgICAgIGxldCBnZW5lcmF0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGFyZ2V0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgUmVuZGVyVGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgICAgIGZsaXBZID0gZmFsc2U7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBmbGlwWSA9IHRydWU7XG5cbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5mbG9vcihmcmFtZS53aWR0aCAqIHJlc29sdXRpb24pO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmZsb29yKGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGNhbnZhc0J1ZmZlciA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgMSk7XG5cbiAgICAgICAgY29uc3Qgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG5cbiAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wucmVhZFBpeGVscyhcbiAgICAgICAgICAgIGZyYW1lLnggKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgZnJhbWUueSAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIGdsLlJHQkEsXG4gICAgICAgICAgICBnbC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgd2ViZ2xQaXhlbHNcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgICAgIGNvbnN0IGNhbnZhc0RhdGEgPSBjYW52YXNCdWZmZXIuY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUod2ViZ2xQaXhlbHMsIGNhbnZhc0RhdGEuZGF0YSk7XG5cbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuXG4gICAgICAgIC8vIHB1bGxpbmcgcGl4ZWxzXG4gICAgICAgIGlmIChmbGlwWSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQuc2NhbGUoMSwgLTEpO1xuICAgICAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQuZHJhd0ltYWdlKGNhbnZhc0J1ZmZlci5jYW52YXMsIDAsIC1oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdlbmVyYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VuZCB0aGUgY2FudmFzIGJhY2suLlxuICAgICAgICByZXR1cm4gY2FudmFzQnVmZmVyLmNhbnZhcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IE9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZVxuICAgICAqL1xuICAgIHBpeGVscyh0YXJnZXQpXG4gICAge1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIGxldCByZXNvbHV0aW9uO1xuICAgICAgICBsZXQgZnJhbWU7XG4gICAgICAgIGxldCByZW5kZXJUZXh0dXJlO1xuICAgICAgICBsZXQgZ2VuZXJhdGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRhcmdldClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG5cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSByZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSBmcmFtZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG5cbiAgICAgICAgY29uc3Qgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG5cbiAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wucmVhZFBpeGVscyhcbiAgICAgICAgICAgIGZyYW1lLnggKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgZnJhbWUueSAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIGdsLlJHQkEsXG4gICAgICAgICAgICBnbC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgd2ViZ2xQaXhlbHNcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoZ2VuZXJhdGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgd2ViZ2xQaXhlbHMpO1xuXG4gICAgICAgIHJldHVybiB3ZWJnbFBpeGVscztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICAgICAqXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmV4dHJhY3QgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBwcmVtdWx0aXBsaWVkIHBpeGVsIGRhdGEgYW5kIHByb2R1Y2VzIHJlZ3VsYXIgcGl4ZWwgZGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gcGl4ZWxzIHtudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gYXJyYXkgb2YgcGl4ZWwgZGF0YVxuICAgICAqIEBwYXJhbSBvdXQge251bWJlcltdIHwgVWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSBvdXRwdXQgYXJyYXlcbiAgICAgKi9cbiAgICBzdGF0aWMgYXJyYXlQb3N0RGl2aWRlKHBpeGVscywgb3V0KVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwaXhlbHMubGVuZ3RoOyBpICs9IDQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGFscGhhID0gb3V0W2kgKyAzXSA9IHBpeGVsc1tpICsgM107XG5cbiAgICAgICAgICAgIGlmIChhbHBoYSAhPT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvdXRbaV0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAxXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAxXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAyXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAyXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb3V0W2ldID0gcGl4ZWxzW2ldO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMV0gPSBwaXhlbHNbaSArIDFdO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMl0gPSBwaXhlbHNbaSArIDJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBIb2xkcyBhbGwgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBhbiBJbnRlcmFjdGlvbiBldmVudFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZXJhY3Rpb25EYXRhXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcG9pbnQgc3RvcmVzIHRoZSBnbG9iYWwgY29vcmRzIG9mIHdoZXJlIHRoZSB0b3VjaC9tb3VzZSBldmVudCBoYXBwZW5lZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbG9iYWwgPSBuZXcgUG9pbnQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRhcmdldCBTcHJpdGUgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHBhc3NlZCB0byBhbiBldmVudCBoYW5kbGVyLCB0aGlzIHdpbGwgYmUgdGhlIG9yaWdpbmFsIERPTSBFdmVudCB0aGF0IHdhcyBjYXB0dXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoRXZlbnRcbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50XG4gICAgICAgICAqIEBtZW1iZXIge01vdXNlRXZlbnR8VG91Y2hFdmVudHxQb2ludGVyRXZlbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBpbnRlcmFjdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdGhlIHBvaW50ZXIgZGV2aWNlIHRoYXQgY3JlYXRlZCB0aGUgZXZlbnQgaXMgdGhlIHByaW1hcnkgcG9pbnRlci5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2lzUHJpbWFyeVxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b24gd2FzIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHRvIHRyaWdnZXIgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvblxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5idXR0b24gPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9ucyBhcmUgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2Ugd2hlbiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvbnNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnV0dG9ucyA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHgtYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgICAgICogcmFkaXVzWCBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC93aWR0aFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB5LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICAgICAqIHJhZGl1c1kgb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaGVpZ2h0XG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWx0WCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWx0WSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlclR5cGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRlclR5cGUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmVzc3VyZSBhcHBsaWVkIGJ5IHRoZSBwb2ludGluZyBkZXZpY2UgZHVyaW5nIHRoZSBldmVudC4gQSBUb3VjaCdzIGZvcmNlIHByb3BlcnR5XG4gICAgICAgICAqIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3ByZXNzdXJlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnJvbSBUb3VjaEV2ZW50cyAobm90IFBvaW50ZXJFdmVudHMgdHJpZ2dlcmVkIGJ5IHRvdWNoZXMpLCB0aGUgcm90YXRpb25BbmdsZSBvZiB0aGUgVG91Y2guXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoL3JvdGF0aW9uQW5nbGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR3aXN0IG9mIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHdpc3QgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXJyZWwgcHJlc3N1cmUgb24gYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgcG9pbnRlci4gSXQgd2lsbCBiZSB0aGUgc2FtZSBhcyBgaWRlbnRpZmllcmAuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVySWRcbiAgICAgKi9cbiAgICBnZXQgcG9pbnRlcklkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkZW50aWZpZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGZvciB0aGlzIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICAgICAqICBjb29yZHMgb2ZmXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbCAob3RoZXJ3aXNlXG4gICAgICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW2dsb2JhbFBvc10gLSBBIFBvaW50IG9iamVjdCBjb250YWluaW5nIHlvdXIgY3VzdG9tIGdsb2JhbCBjb29yZHMsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCB1c2UgdGhlIGN1cnJlbnQgZ2xvYmFsIGNvb3JkcylcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IGNvbnRhaW5pbmcgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBJbnRlcmFjdGlvbkRhdGEgcG9zaXRpb24gcmVsYXRpdmVcbiAgICAgKiAgdG8gdGhlIERpc3BsYXlPYmplY3RcbiAgICAgKi9cbiAgICBnZXRMb2NhbFBvc2l0aW9uKGRpc3BsYXlPYmplY3QsIHBvaW50LCBnbG9iYWxQb3MpXG4gICAge1xuICAgICAgICByZXR1cm4gZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UoZ2xvYmFsUG9zIHx8IHRoaXMuZ2xvYmFsLCBwb2ludCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BlcnRpZXMgZnJvbSBub3JtYWxpemVkIGV2ZW50IGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RvdWNofE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCBUaGUgbm9ybWFsaXplZCBldmVudCBkYXRhXG4gICAgICovXG4gICAgY29weUV2ZW50KGV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaXNQcmltYXJ5IHNob3VsZCBvbmx5IGNoYW5nZSBvbiB0b3VjaHN0YXJ0L3BvaW50ZXJkb3duLCBzbyB3ZSBkb24ndCB3YW50IHRvIG92ZXJ3cml0ZVxuICAgICAgICAvLyBpdCB3aXRoIFwiZmFsc2VcIiBvbiBsYXRlciBldmVudHMgd2hlbiBvdXIgc2hpbSBmb3IgaXQgb24gdG91Y2ggZXZlbnRzIG1pZ2h0IG5vdCBiZVxuICAgICAgICAvLyBhY2N1cmF0ZVxuICAgICAgICBpZiAoZXZlbnQuaXNQcmltYXJ5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idXR0b24gPSBldmVudC5idXR0b247XG4gICAgICAgIC8vIGV2ZW50LmJ1dHRvbnMgaXMgbm90IGF2YWlsYWJsZSBpbiBhbGwgYnJvd3NlcnMgKGllLiBTYWZhcmkpLCBidXQgaXQgZG9lcyBoYXZlIGEgbm9uLXN0YW5kYXJkXG4gICAgICAgIC8vIGV2ZW50LndoaWNoIHByb3BlcnR5IGluc3RlYWQsIHdoaWNoIGNvbnZleXMgdGhlIHNhbWUgaW5mb3JtYXRpb24uXG4gICAgICAgIHRoaXMuYnV0dG9ucyA9IE51bWJlci5pc0ludGVnZXIoZXZlbnQuYnV0dG9ucykgPyBldmVudC5idXR0b25zIDogZXZlbnQud2hpY2g7XG4gICAgICAgIHRoaXMud2lkdGggPSBldmVudC53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBldmVudC5oZWlnaHQ7XG4gICAgICAgIHRoaXMudGlsdFggPSBldmVudC50aWx0WDtcbiAgICAgICAgdGhpcy50aWx0WSA9IGV2ZW50LnRpbHRZO1xuICAgICAgICB0aGlzLnBvaW50ZXJUeXBlID0gZXZlbnQucG9pbnRlclR5cGU7XG4gICAgICAgIHRoaXMucHJlc3N1cmUgPSBldmVudC5wcmVzc3VyZTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gZXZlbnQucm90YXRpb25BbmdsZTtcbiAgICAgICAgdGhpcy50d2lzdCA9IGV2ZW50LnR3aXN0IHx8IDA7XG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlIHx8IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBkYXRhIGZvciBwb29saW5nLlxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIC8vIGlzUHJpbWFyeSBpcyB0aGUgb25seSBwcm9wZXJ0eSB0aGF0IHdlIHJlYWxseSBuZWVkIHRvIHJlc2V0IC0gZXZlcnl0aGluZyBlbHNlIGlzXG4gICAgICAgIC8vIGd1YXJhbnRlZWQgdG8gYmUgb3ZlcndyaXR0ZW5cbiAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEV2ZW50IGNsYXNzIHRoYXQgbWltaWNzIG5hdGl2ZSBET00gZXZlbnRzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZXJhY3Rpb25FdmVudFxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgZXZlbnQgd2lsbCBjb250aW51ZSBwcm9wYWdhdGluZyBpbiB0aGUgdHJlZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvYmplY3Qgd2hpY2ggY2F1c2VkIHRoaXMgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZC5cbiAgICAgICAgICogRm9yIGxpc3RlbmVyIGNhbGxiYWNrIHNlZSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50LmN1cnJlbnRUYXJnZXR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvYmplY3Qgd2hvc2UgZXZlbnQgbGlzdGVuZXLigJlzIGNhbGxiYWNrIGlzIGN1cnJlbnRseSBiZWluZyBpbnZva2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIG9mIHRoZSBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcmFjdGlvbkRhdGEgcmVsYXRlZCB0byB0aGlzIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyBldmVudCBmcm9tIHJlYWNoaW5nIGFueSBvYmplY3RzIG90aGVyIHRoYW4gdGhlIGN1cnJlbnQgb2JqZWN0LlxuICAgICAqXG4gICAgICovXG4gICAgc3RvcFByb3BhZ2F0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgIH1cbn1cbiIsIi8qKlxuICogRGlzcGxheU9iamVjdHMgd2l0aCB0aGUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXR9IG1peGluIHVzZSB0aGlzIGNsYXNzIHRvIHRyYWNrIGludGVyYWN0aW9uc1xuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocG9pbnRlcklkKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcG9pbnRlcklkID0gcG9pbnRlcklkO1xuICAgICAgICB0aGlzLl9mbGFncyA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk5PTkU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGludGVyYWN0aW9uIGZsYWcgdG8gc2V0XG4gICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIFNob3VsZCB0aGUgZmxhZyBiZSBzZXQgb3IgdW5zZXRcbiAgICAgKi9cbiAgICBfZG9TZXQoZmxhZywgeW4pXG4gICAge1xuICAgICAgICBpZiAoeW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgfCBmbGFnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyAmICh+ZmxhZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBwb2ludGVySWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YSwgZXhwcmVzc2VkIGFzIGJpdCBmbGFnc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGZsYWdzKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mbGFncztcbiAgICB9XG5cbiAgICBzZXQgZmxhZ3MoZmxhZ3MpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSBmbGFncztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBpbmFjdGl2ZSAobm90IG92ZXIgb3IgZG93bik/XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbm9uZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmxhZ3MgPT09IHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTk9ORTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBvdmVyIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBvdmVyKClcbiAgICB7XG4gICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIpICE9PSAwO1xuICAgIH1cblxuICAgIHNldCBvdmVyKHluKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuT1ZFUiwgeW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpZCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgcmlnaHREb3duKClcbiAgICB7XG4gICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04pICE9PSAwO1xuICAgIH1cblxuICAgIHNldCByaWdodERvd24oeW4pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5SSUdIVF9ET1dOLCB5bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlkIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGxlZnREb3duKClcbiAgICB7XG4gICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLkxFRlRfRE9XTikgIT09IDA7XG4gICAgfVxuXG4gICAgc2V0IGxlZnREb3duKHluKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTEVGVF9ET1dOLCB5bik7XG4gICAgfVxufVxuXG5JbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIE5PTkU6IDAsXG4gICAgT1ZFUjogMSA8PCAwLFxuICAgIExFRlRfRE9XTjogMSA8PCAxLFxuICAgIFJJR0hUX0RPV046IDEgPDwgMixcbn0pO1xuIiwiLyoqXG4gKiBJbnRlcmZhY2UgZm9yIGNsYXNzZXMgdGhhdCByZXByZXNlbnQgYSBoaXQgYXJlYS5cbiAqXG4gKiBJdCBpcyBpbXBsZW1lbnRlZCBieSB0aGUgZm9sbG93aW5nIGNsYXNzZXM6XG4gKiAtIHtAbGluayBQSVhJLkNpcmNsZX1cbiAqIC0ge0BsaW5rIFBJWEkuRWxsaXBzZX1cbiAqIC0ge0BsaW5rIFBJWEkuUG9seWdvbn1cbiAqIC0ge0BsaW5rIFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAqXG4gKiBAaW50ZXJmYWNlIElIaXRBcmVhXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBhcmVhXG4gKlxuICogQG1ldGhvZFxuICogQG5hbWUgY29udGFpbnNcbiAqIEBtZW1iZXJvZiBQSVhJLklIaXRBcmVhI1xuICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgYXJlYVxuICovXG5cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogVXNlZCBieSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IHRvIGF1dG9tYXRpY2FsbHkgZ2l2ZSBhbGwgRGlzcGxheU9iamVjdHMgdGhlc2UgcHJvcGVydGllc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBpbnRlcmFjdGl2ZVRhcmdldFxuICogQHR5cGUge09iamVjdH1cbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBEaXNwbGF5T2JqZWN0LiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2VcbiAgICAgKiBldmVudHMgd2lsbCBub3QgYmUgZW1pdHRlZCB1bmxlc3MgYGludGVyYWN0aXZlYCBpcyBzZXQgdG8gYHRydWVgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUub24oJ3RhcCcsIChldmVudCkgPT4ge1xuICAgICAqICAgIC8vaGFuZGxlIGV2ZW50XG4gICAgICogfSk7XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGludGVyYWN0aXZlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGNoaWxkcmVuIHRvIHRoZSBkaXNwbGF5T2JqZWN0IGNhbiBiZSBjbGlja2VkL3RvdWNoZWRcbiAgICAgKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgYWxsb3dzIFBpeGlKUyB0byBieXBhc3MgYSByZWN1cnNpdmUgYGhpdFRlc3RgIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZUNoaWxkcmVuOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb24gc2hhcGUuIENoaWxkcmVuIHdpbGwgYmUgaGl0IGZpcnN0LCB0aGVuIHRoaXMgc2hhcGUgd2lsbCBiZSBjaGVja2VkLlxuICAgICAqIFNldHRpbmcgdGhpcyB3aWxsIGNhdXNlIHRoaXMgc2hhcGUgdG8gYmUgY2hlY2tlZCBpbiBoaXQgdGVzdHMgcmF0aGVyIHRoYW4gdGhlIGRpc3BsYXlPYmplY3QncyBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5oaXRBcmVhID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKTtcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklIaXRBcmVhfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgaGl0QXJlYTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIElmIGVuYWJsZWQsIHRoZSBtb3VzZSBjdXJzb3IgdXNlIHRoZSBwb2ludGVyIGJlaGF2aW9yIHdoZW4gaG92ZXJlZCBvdmVyIHRoZSBkaXNwbGF5T2JqZWN0IGlmIGl0IGlzIGludGVyYWN0aXZlXG4gICAgICogU2V0dGluZyB0aGlzIGNoYW5nZXMgdGhlICdjdXJzb3InIHByb3BlcnR5IHRvIGAncG9pbnRlcidgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuYnV0dG9uTW9kZSA9IHRydWU7XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGdldCBidXR0b25Nb2RlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInO1xuICAgIH0sXG4gICAgc2V0IGJ1dHRvbk1vZGUodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3Vyc29yID09PSAncG9pbnRlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGRlZmluZXMgd2hhdCBjdXJzb3IgbW9kZSBpcyB1c2VkIHdoZW4gdGhlIG1vdXNlIGN1cnNvclxuICAgICAqIGlzIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmN1cnNvciA9ICd3YWl0JztcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0NTUy9jdXJzb3JcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGN1cnNvcjogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHNldCBvZiBhbGwgYWN0aXZlIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtNYXA8bnVtYmVyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YT59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldCB0cmFja2VkUG9pbnRlcnMoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYWNrZWRQb2ludGVycyA9PT0gdW5kZWZpbmVkKSB0aGlzLl90cmFja2VkUG9pbnRlcnMgPSB7fTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdHJhY2tlZFBvaW50ZXJzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYXAgb2YgYWxsIHRyYWNrZWQgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXIuIFVzZSB0cmFja2VkUG9pbnRlcnMgdG8gYWNjZXNzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgICAqL1xuICAgIF90cmFja2VkUG9pbnRlcnM6IHVuZGVmaW5lZCxcbn07XG4iLCJpbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IEludGVyYWN0aW9uRGF0YSBmcm9tICcuL0ludGVyYWN0aW9uRGF0YSc7XG5pbXBvcnQgSW50ZXJhY3Rpb25FdmVudCBmcm9tICcuL0ludGVyYWN0aW9uRXZlbnQnO1xuaW1wb3J0IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhIGZyb20gJy4vSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IGludGVyYWN0aXZlVGFyZ2V0IGZyb20gJy4vaW50ZXJhY3RpdmVUYXJnZXQnO1xuXG4vLyBNaXggaW50ZXJhY3RpdmVUYXJnZXQgaW50byBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbi8vIGFmdGVyIGRlcHJlY2F0aW9uIGhhcyBiZWVuIGhhbmRsZWRcbkRpc3BsYXlPYmplY3QubWl4aW4oaW50ZXJhY3RpdmVUYXJnZXQpO1xuXG5jb25zdCBNT1VTRV9QT0lOVEVSX0lEID0gMTtcblxuLy8gaGVscGVycyBmb3IgaGl0VGVzdCgpIC0gb25seSB1c2VkIGluc2lkZSBoaXRUZXN0KClcbmNvbnN0IGhpdFRlc3RFdmVudCA9IHtcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgZGF0YToge1xuICAgICAgICBnbG9iYWw6IG51bGwsXG4gICAgfSxcbn07XG5cbi8qKlxuICogVGhlIGludGVyYWN0aW9uIG1hbmFnZXIgZGVhbHMgd2l0aCBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLlxuICpcbiAqIEFueSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBpbnRlcmFjdGl2ZSBpZiBpdHMgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZS5cbiAqXG4gKiBUaGlzIG1hbmFnZXIgYWxzbyBzdXBwb3J0cyBtdWx0aXRvdWNoLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb25gXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZXJhY3Rpb25NYW5hZ2VyIGV4dGVuZHMgRXZlbnRFbWl0dGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfFBJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0PXRydWVdIC0gU2hvdWxkIHRoZSBtYW5hZ2VyIGF1dG9tYXRpY2FsbHkgcHJldmVudCBkZWZhdWx0IGJyb3dzZXIgYWN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaW50ZXJhY3Rpb25GcmVxdWVuY3k9MTBdIC0gRnJlcXVlbmN5IGluY3JlYXNlcyB0aGUgaW50ZXJhY3Rpb24gZXZlbnRzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGludGVyYWN0aW9uIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBkZWZhdWx0IGJyb3dzZXIgYWN0aW9ucyBhdXRvbWF0aWNhbGx5IGJlIHByZXZlbnRlZC5cbiAgICAgICAgICogRG9lcyBub3QgYXBwbHkgdG8gcG9pbnRlciBldmVudHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgICAqIHByZXZlbnREZWZhdWx0IG9uIHBvaW50ZXIgZXZlbnRzIHN0b3BzIG1vdXNlIGV2ZW50cyBmcm9tIGZpcmluZ1xuICAgICAgICAgKiBUaHVzLCBmb3IgZXZlcnkgcG9pbnRlciBldmVudCwgdGhlcmUgd2lsbCBhbHdheXMgYmUgZWl0aGVyIGEgbW91c2Ugb2YgdG91Y2ggZXZlbnQgYWxvbmdzaWRlIGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCA9IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCA6IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyZXF1ZW5jeSBpbiBtaWxsaXNlY29uZHMgdGhhdCB0aGUgbW91c2Vtb3ZlLCBtb3VzZW92ZXIgJiBtb3VzZW91dCBpbnRlcmFjdGlvbiBldmVudHMgd2lsbCBiZSBjaGVja2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSB8fCAxMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vdXNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1vdXNlID0gbmV3IEludGVyYWN0aW9uRGF0YSgpO1xuICAgICAgICB0aGlzLm1vdXNlLmlkZW50aWZpZXIgPSBNT1VTRV9QT0lOVEVSX0lEO1xuXG4gICAgICAgIC8vIHNldHRpbmcgdGhlIG1vdXNlIHRvIHN0YXJ0IG9mZiBmYXIgb2ZmIHNjcmVlbiB3aWxsIG1lYW4gdGhhdCBtb3VzZSBvdmVyIGRvZXNcbiAgICAgICAgLy8gIG5vdCBnZXQgY2FsbGVkIGJlZm9yZSB3ZSBldmVuIG1vdmUgdGhlIG1vdXNlLlxuICAgICAgICB0aGlzLm1vdXNlLmdsb2JhbC5zZXQoLTk5OTk5OSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZWx5IHRyYWNrZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48bnVtYmVyLFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhID0ge307XG4gICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW01PVVNFX1BPSU5URVJfSURdID0gdGhpcy5tb3VzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZXZlbnQgZGF0YSBvYmplY3QgdG8gaGFuZGxlIGFsbCB0aGUgZXZlbnQgdHJhY2tpbmcvZGlzcGF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ldmVudERhdGEgPSBuZXcgSW50ZXJhY3Rpb25FdmVudCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgRE9NIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBwcm9wZXJ0eSBkZXRlcm1pbmVzIGlmIG1vdXNlbW92ZSBhbmQgdG91Y2htb3ZlIGV2ZW50cyBhcmUgZmlyZWQgb25seSB3aGVuIHRoZSBjdXJzb3JcbiAgICAgICAgICogaXMgb3ZlciB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBTZXR0aW5nIHRvIHRydWUgd2lsbCBtYWtlIHRoaW5ncyB3b3JrIG1vcmUgaW4gbGluZSB3aXRoIGhvdyB0aGUgRE9NIHZlcnNpb24gd29ya3MuXG4gICAgICAgICAqIFNldHRpbmcgdG8gZmFsc2UgY2FuIG1ha2UgdGhpbmdzIGVhc2llciBmb3IgdGhpbmdzIGxpa2UgZHJhZ2dpbmdcbiAgICAgICAgICogSXQgaXMgY3VycmVudGx5IHNldCB0byBmYWxzZSBhcyB0aGlzIGlzIGhvdyBQaXhpSlMgdXNlZCB0byB3b3JrLiBUaGlzIHdpbGwgYmUgc2V0IHRvIHRydWUgaW5cbiAgICAgICAgICogZnV0dXJlIHZlcnNpb25zIG9mIHBpeGkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1vdmVXaGVuSW5zaWRlID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhdmUgZXZlbnRzIGJlZW4gYXR0YWNoZWQgdG8gdGhlIGRvbSBlbGVtZW50P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSBtb3VzZSBob3ZlcmluZyBvdmVyIHRoZSByZW5kZXJlcj9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0b3VjaCBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9TdWJtaXNzaW9uL3BvaW50ZXItZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzID0gISF3aW5kb3cuUG9pbnRlckV2ZW50O1xuXG4gICAgICAgIC8vIHRoaXMgd2lsbCBtYWtlIGl0IHNvIHRoYXQgeW91IGRvbid0IGhhdmUgdG8gY2FsbCBiaW5kIGFsbCB0aGUgdGltZVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyVXAgPSB0aGlzLm9uUG9pbnRlclVwLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IHRoaXMucHJvY2Vzc1BvaW50ZXJVcC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ2FuY2VsID0gdGhpcy5vblBvaW50ZXJDYW5jZWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlckRvd24gPSB0aGlzLm9uUG9pbnRlckRvd24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSB0aGlzLnByb2Nlc3NQb2ludGVyRG93bi5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IHRoaXMub25Qb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdXQgPSB0aGlzLm9uUG9pbnRlck91dC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdmVyID0gdGhpcy5vblBvaW50ZXJPdmVyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpY3Rpb25hcnkgb2YgaG93IGRpZmZlcmVudCBjdXJzb3IgbW9kZXMgYXJlIGhhbmRsZWQuIFN0cmluZ3MgYXJlIGhhbmRsZWQgYXMgQ1NTIGN1cnNvclxuICAgICAgICAgKiB2YWx1ZXMsIG9iamVjdHMgYXJlIGhhbmRsZWQgYXMgZGljdGlvbmFyaWVzIG9mIENTUyB2YWx1ZXMgZm9yIGludGVyYWN0aW9uRE9NRWxlbWVudCxcbiAgICAgICAgICogYW5kIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluc3RlYWQgb2YgY2hhbmdpbmcgdGhlIENTUy5cbiAgICAgICAgICogRGVmYXVsdCBDU1MgY3Vyc29yIHZhbHVlcyBhcmUgcHJvdmlkZWQgZm9yICdkZWZhdWx0JyBhbmQgJ3BvaW50ZXInIG1vZGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgT2JqZWN0Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Vyc29yU3R5bGVzID0ge1xuICAgICAgICAgICAgZGVmYXVsdDogJ2luaGVyaXQnLFxuICAgICAgICAgICAgcG9pbnRlcjogJ3BvaW50ZXInLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW9kZSBvZiB0aGUgY3Vyc29yIHRoYXQgaXMgYmVpbmcgdXNlZC5cbiAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoaXMgaXMgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBjYWNoZWQgbGV0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpby5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxheWVkIHBvaW50ZXIgZXZlbnRzLiBVc2VkIHRvIGd1YXJhbnRlZSBjb3JyZWN0IG9yZGVyaW5nIG9mIG92ZXIvb3V0IGV2ZW50cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbGF5ZWRFdmVudHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIE5vdCBhbHdheXMgZmlyZWQgd2hlbiBzb21lIGJ1dHRvbnMgYXJlIGhlbGQgZG93biB3aGlsZSBvdGhlcnMgYXJlIHJlbGVhc2VkLiBJbiB0aG9zZSBjYXNlcyxcbiAgICAgICAgICogdXNlIFttb3VzZWRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0gYW5kXG4gICAgICAgICAqIFttb3VzZXVwXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZXVwfSBpbnN0ZWFkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2hcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkuXG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2guXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICB0aGlzLnNldFRhcmdldEVsZW1lbnQodGhpcy5yZW5kZXJlci52aWV3LCB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpdCB0ZXN0cyBhIHBvaW50IGFnYWluc3QgdGhlIGRpc3BsYXkgdHJlZSwgcmV0dXJuaW5nIHRoZSBmaXJzdCBpbnRlcmFjdGl2ZSBvYmplY3QgdGhhdCBpcyBoaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGdsb2JhbFBvaW50IC0gQSBwb2ludCB0byBoaXQgdGVzdCB3aXRoLCBpbiBnbG9iYWwgc3BhY2UuXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gW3Jvb3RdIC0gVGhlIHJvb3QgZGlzcGxheSBvYmplY3QgdG8gc3RhcnQgZnJvbS4gSWYgb21pdHRlZCwgZGVmYXVsdHNcbiAgICAgKiB0byB0aGUgbGFzdCByZW5kZXJlZCByb290IG9mIHRoZSBhc3NvY2lhdGVkIHJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGhpdCBkaXNwbGF5IG9iamVjdCwgaWYgYW55LlxuICAgICAqL1xuICAgIGhpdFRlc3QoZ2xvYmFsUG9pbnQsIHJvb3QpXG4gICAge1xuICAgICAgICAvLyBjbGVhciB0aGUgdGFyZ2V0IGZvciBvdXIgaGl0IHRlc3RcbiAgICAgICAgaGl0VGVzdEV2ZW50LnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIGFzc2lnbiB0aGUgZ2xvYmFsIHBvaW50XG4gICAgICAgIGhpdFRlc3RFdmVudC5kYXRhLmdsb2JhbCA9IGdsb2JhbFBvaW50O1xuICAgICAgICAvLyBlbnN1cmUgc2FmZXR5IG9mIHRoZSByb290XG4gICAgICAgIGlmICghcm9vdClcbiAgICAgICAge1xuICAgICAgICAgICAgcm9vdCA9IHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBydW4gdGhlIGhpdCB0ZXN0XG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGhpdFRlc3RFdmVudCwgcm9vdCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIHJldHVybiBvdXIgZm91bmQgb2JqZWN0IC0gaXQnbGwgYmUgbnVsbCBpZiB3ZSBkaWRuJ3QgaGl0IGFueXRoaW5nXG5cbiAgICAgICAgcmV0dXJuIGhpdFRlc3RFdmVudC50YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlL3RvdWNoIGV2ZW50cy4gVGhpcyBpcyB1c2VmdWwgZm9yIHdoZW4geW91IGhhdmVcbiAgICAgKiBvdGhlciBET00gZWxlbWVudHMgb24gdG9wIG9mIHRoZSByZW5kZXJlcnMgQ2FudmFzIGVsZW1lbnQuIFdpdGggdGhpcyB5b3UnbGwgYmUgYmFsZSB0byBkZWxlZ2F0ZVxuICAgICAqIGFub3RoZXIgRE9NIGVsZW1lbnQgdG8gcmVjZWl2ZSB0aG9zZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBuZXcgZWxlbWVudCAocmVsYXRpdmUgdG8gdGhlIGNhbnZhcykuXG4gICAgICovXG4gICAgc2V0VGFyZ2V0RWxlbWVudChlbGVtZW50LCByZXNvbHV0aW9uID0gMSlcbiAgICB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYWxsIHRoZSBET00gZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFkZEV2ZW50cygpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLklOVEVSQUNUSU9OKTtcblxuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLWNvbnRlbnQtem9vbWluZyddID0gJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy10b3VjaC1hY3Rpb24nXSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJ3RvdWNoLWFjdGlvbiddID0gJ25vbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZXNlIGV2ZW50cyBhcmUgYWRkZWQgZmlyc3QsIHNvIHRoYXQgaWYgcG9pbnRlciBldmVudHMgYXJlIG5vcm1hbGl6ZWQsIHRoZXkgYXJlIGZpcmVkXG4gICAgICAgICAqIGluIHRoZSBzYW1lIG9yZGVyIGFzIG5vbi1ub3JtYWxpemVkIGV2ZW50cy4gaWUuIHBvaW50ZXIgZXZlbnQgMXN0LCBtb3VzZSAvIHRvdWNoIDJuZFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgLy8gcG9pbnRlcm91dCBpcyBmaXJlZCBpbiBhZGRpdGlvbiB0byBwb2ludGVydXAgKGZvciB0b3VjaCBldmVudHMpIGFuZCBwb2ludGVyY2FuY2VsXG4gICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhbmRsZSB0aG9zZSwgc28gZm9yIHRoZSBwdXJwb3NlcyBvZiB3aGF0IHdlIGRvIGluIG9uUG9pbnRlck91dCwgd2Ugb25seVxuICAgICAgICAgICAgLy8gY2FyZSBhYm91dCB0aGUgcG9pbnRlcmxlYXZlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbHdheXMgbG9vayBkaXJlY3RseSBmb3IgdG91Y2ggZXZlbnRzIHNvIHRoYXQgd2UgY2FuIHByb3ZpZGUgb3JpZ2luYWwgZGF0YVxuICAgICAgICAvLyBJbiBhIGZ1dHVyZSB2ZXJzaW9uIHdlIHNob3VsZCBjaGFuZ2UgdGhpcyB0byBiZWluZyBqdXN0IGEgZmFsbGJhY2sgYW5kIHJlbHkgc29sZWx5IG9uXG4gICAgICAgIC8vIFBvaW50ZXJFdmVudHMgd2hlbmV2ZXIgYXZhaWxhYmxlXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBET00gZXZlbnRzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHJlZ2lzdGVyZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcmVtb3ZlRXZlbnRzKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcblxuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLWNvbnRlbnQtem9vbWluZyddID0gJyc7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLXRvdWNoLWFjdGlvbiddID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyd0b3VjaC1hY3Rpb24nXSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzLlxuICAgICAqIEludm9rZWQgYnkgYSB0aHJvdHRsZWQgdGlja2VyIHVwZGF0ZSBmcm9tIHtAbGluayBQSVhJLlRpY2tlci5zeXN0ZW19LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgZGVsdGEgc2luY2UgbGFzdCB0aWNrXG4gICAgICovXG4gICAgdXBkYXRlKGRlbHRhVGltZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSArPSBkZWx0YVRpbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RlbHRhVGltZSA8IHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSA9IDA7XG5cbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgbW92ZSB0aGUgbW91c2UgdGhpcyBjaGVjayBoYXMgYWxyZWFkeSBiZWVuIGRvbmUgdXNpbmcgdGhlIG1vdXNlIG1vdmUhXG4gICAgICAgIGlmICh0aGlzLmRpZE1vdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLy8gUmVzZXRzIHRoZSBmbGFnIGFzIHNldCBieSBhIHN0b3BQcm9wYWdhdGlvbiBjYWxsLiBUaGlzIGZsYWcgaXMgdXN1YWxseSByZXNldCBieSBhIHVzZXIgaW50ZXJhY3Rpb24gb2YgYW55IGtpbmQsXG4gICAgICAgIC8vIGJ1dCB0aGVyZSB3YXMgYSBzY2VuYXJpbyBvZiBhIGRpc3BsYXkgb2JqZWN0IG1vdmluZyB1bmRlciBhIHN0YXRpYyBtb3VzZSBjdXJzb3IuXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSwgbW91c2VvdmVyIGFuZCBtb3VzZWV2ZW50cyB3b3VsZCBub3QgcGFzcyB0aGUgZmxhZyB0ZXN0IGluIGRpc3BhdGNoRXZlbnQgZnVuY3Rpb25cbiAgICAgICAgZm9yIChjb25zdCBrIGluIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEuaGFzT3duUHJvcGVydHkoaykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFba107XG5cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgJiYgaW50ZXJhY3Rpb25EYXRhLnBvaW50ZXJUeXBlICE9PSAndG91Y2gnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBjdXJzb3IgbW9kZSwgaGFuZGxpbmcgYW55IGNhbGxiYWNrcyBvciBDU1Mgc3R5bGUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gY3Vyc29yIG1vZGUsIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5XG4gICAgICovXG4gICAgc2V0Q3Vyc29yTW9kZShtb2RlKVxuICAgIHtcbiAgICAgICAgbW9kZSA9IG1vZGUgfHwgJ2RlZmF1bHQnO1xuICAgICAgICAvLyBpZiB0aGUgbW9kZSBkaWRuJ3QgYWN0dWFsbHkgY2hhbmdlLCBiYWlsIGVhcmx5XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID09PSBtb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG1vZGU7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jdXJzb3JTdHlsZXNbbW9kZV07XG5cbiAgICAgICAgLy8gb25seSBkbyB0aGluZ3MgaWYgdGhlcmUgaXMgYSBjdXJzb3Igc3R5bGUgZm9yIGl0XG4gICAgICAgIGlmIChzdHlsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2Ygc3R5bGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyaW5nIHN0eWxlcyBhcmUgaGFuZGxlZCBhcyBjdXJzb3IgQ1NTXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IHN0eWxlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9ucyBhcmUganVzdCBjYWxsZWQsIGFuZCBwYXNzZWQgdGhlIGN1cnNvciBtb2RlXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlKG1vZGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBhbiBvYmplY3QsIGFzc3VtZSB0aGF0IGl0IGlzIGEgZGljdGlvbmFyeSBvZiBDU1Mgc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBpdCB0byB0aGUgaW50ZXJhY3Rpb25ET01FbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jdXJzb3JTdHlsZXMsIG1vZGUpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiBpdCBtb2RlIGlzIGEgc3RyaW5nIChub3QgYSBTeW1ib2wpIGFuZCBjdXJzb3JTdHlsZXMgZG9lc24ndCBoYXZlIGFueSBlbnRyeVxuICAgICAgICAgICAgLy8gZm9yIHRoZSBtb2RlLCB0aGVuIGFzc3VtZSB0aGF0IHRoZSBkZXYgd2FudHMgaXQgdG8gYmUgQ1NTIGZvciB0aGUgY3Vyc29yLlxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gbW9kZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgb24gdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5IG9iamVjdCBpbiBxdWVzdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBldmVudCAoZS5nLCBtb3VzZWRvd24pXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50RGF0YSAtIHRoZSBldmVudCBkYXRhIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKVxuICAgIHtcbiAgICAgICAgaWYgKCFldmVudERhdGEuc3RvcHBlZClcbiAgICAgICAge1xuICAgICAgICAgICAgZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgZXZlbnREYXRhLnR5cGUgPSBldmVudFN0cmluZztcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5lbWl0KGV2ZW50U3RyaW5nLCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10oZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1dHMgYSBldmVudCBvbiBhIHF1ZXVlIHRvIGJlIGRpc3BhdGNoZWQgbGF0ZXIuIFRoaXMgaXMgdXNlZCB0byBndWFyYW50ZWUgY29ycmVjdFxuICAgICAqIG9yZGVyaW5nIG9mIG92ZXIvb3V0IGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRlbGF5RGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzLnB1c2goeyBkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcHMgeCBhbmQgeSBjb29yZHMgZnJvbSBhIERPTSBvYmplY3QgYW5kIG1hcHMgdGhlbSBjb3JyZWN0bHkgdG8gdGhlIFBpeGlKUyB2aWV3LiBUaGVcbiAgICAgKiByZXN1bHRpbmcgdmFsdWUgaXMgc3RvcmVkIGluIHRoZSBwb2ludC4gVGhpcyB0YWtlcyBpbnRvIGFjY291bnQgdGhlIGZhY3QgdGhhdCB0aGUgRE9NXG4gICAgICogZWxlbWVudCBjb3VsZCBiZSBzY2FsZWQgYW5kIHBvc2l0aW9uZWQgYW55d2hlcmUgb24gdGhlIHNjcmVlbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRoYXQgdGhlIHJlc3VsdCB3aWxsIGJlIHN0b3JlZCBpblxuICAgICAqIEBwYXJhbSAge251bWJlcn0geCAtIHRoZSB4IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkgLSB0aGUgeSBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICovXG4gICAgbWFwUG9zaXRpb25Ub1BvaW50KHBvaW50LCB4LCB5KVxuICAgIHtcbiAgICAgICAgbGV0IHJlY3Q7XG5cbiAgICAgICAgLy8gSUUgMTEgZml4XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucGFyZW50RWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjdCA9IHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjdCA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzb2x1dGlvbk11bHRpcGxpZXIgPSAxLjAgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgcG9pbnQueCA9ICgoeCAtIHJlY3QubGVmdCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQud2lkdGggLyByZWN0LndpZHRoKSkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICAgICAgcG9pbnQueSA9ICgoeSAtIHJlY3QudG9wKSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5oZWlnaHQgLyByZWN0LmhlaWdodCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlcyBhIG5lYXQgd2F5IG9mIGNyYXdsaW5nIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBydW5uaW5nIGFcbiAgICAgKiBzcGVjaWZpZWQgZnVuY3Rpb24gb24gYWxsIGludGVyYWN0aXZlIG9iamVjdHMgaXQgZmluZHMuIEl0IHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgaGl0XG4gICAgICogdGVzdGluZyB0aGUgaW50ZXJhY3RpdmUgb2JqZWN0cyBhbmQgcGFzc2VzIHRoZSBoaXQgYWNyb3NzIGluIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVyYWN0aXZlXSAtIFdoZXRoZXIgdGhlIGRpc3BsYXlPYmplY3QgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwRGVsYXllZF0gLSBXaGV0aGVyIHRvIHByb2Nlc3MgZGVsYXllZCBldmVudHMgYmVmb3JlIHJldHVybmluZy4gVGhpcyBpc1xuICAgICAqICB1c2VkIHRvIGF2b2lkIHByb2Nlc3NpbmcgdGhlbSB0b28gZWFybHkgZHVyaW5nIHJlY3Vyc2l2ZSBjYWxscy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIHByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZSwgc2tpcERlbGF5ZWQpXG4gICAge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QgfHwgIWRpc3BsYXlPYmplY3QudmlzaWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuZ2xvYmFsO1xuXG4gICAgICAgIC8vIFRvb2sgYSBsaXR0bGUgd2hpbGUgdG8gcmV3b3JrIHRoaXMgZnVuY3Rpb24gY29ycmVjdGx5ISBCdXQgbm93IGl0IGlzIGRvbmUgYW5kIG5pY2UgYW5kIG9wdGltaXplZCEgXl9eXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBub3cgbG9vcCB0aHJvdWdoIGFsbCBvYmplY3RzIGFuZCB0aGVuIG9ubHkgaGl0IHRlc3QgdGhlIG9iamVjdHMgaXQgSEFTXG4gICAgICAgIC8vIHRvLCBub3QgYWxsIG9mIHRoZW0uIE1VQ0ggZmFzdGVyLi5cbiAgICAgICAgLy8gQW4gb2JqZWN0IHdpbGwgYmUgaGl0IHRlc3QgaWYgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxOiBJdCBpcyBpbnRlcmFjdGl2ZS5cbiAgICAgICAgLy8gMjogSXQgYmVsb25ncyB0byBhIHBhcmVudCB0aGF0IGlzIGludGVyYWN0aXZlIEFORCBvbmUgb2YgdGhlIHBhcmVudHMgY2hpbGRyZW4gaGF2ZSBub3QgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQXMgYW5vdGhlciBsaXR0bGUgb3B0aW1pemF0aW9uIG9uY2UgYW4gaW50ZXJhY3RpdmUgb2JqZWN0IGhhcyBiZWVuIGhpdCB3ZSBjYW4gY2Fycnkgb25cbiAgICAgICAgLy8gdGhyb3VnaCB0aGUgc2NlbmVncmFwaCwgYnV0IHdlIGtub3cgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgaGl0cyEgU28gd2UgY2FuIGF2b2lkIGV4dHJhIGhpdCB0ZXN0c1xuICAgICAgICAvLyBBIGZpbmFsIG9wdGltaXphdGlvbiBpcyB0aGF0IGFuIG9iamVjdCBpcyBub3QgaGl0IHRlc3QgZGlyZWN0bHkgaWYgYSBjaGlsZCBoYXMgYWxyZWFkeSBiZWVuIGhpdC5cblxuICAgICAgICBpbnRlcmFjdGl2ZSA9IGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUgfHwgaW50ZXJhY3RpdmU7XG5cbiAgICAgICAgbGV0IGhpdCA9IGZhbHNlO1xuICAgICAgICBsZXQgaW50ZXJhY3RpdmVQYXJlbnQgPSBpbnRlcmFjdGl2ZTtcblxuICAgICAgICAvLyBGbGFnIGhlcmUgY2FuIHNldCB0byBmYWxzZSBpZiB0aGUgZXZlbnQgaXMgb3V0c2lkZSB0aGUgcGFyZW50cyBoaXRBcmVhIG9yIG1hc2tcbiAgICAgICAgbGV0IGhpdFRlc3RDaGlsZHJlbiA9IHRydWU7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBoaXRBcmVhLCBubyBuZWVkIHRvIHRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIGhpdEFyZWFcbiAgICAgICAgLy8gVGhlcmUgaXMgYWxzbyBubyBsb25nZXIgYSBuZWVkIHRvIGhpdFRlc3QgY2hpbGRyZW4uXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmhpdEFyZWEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0aGlzLl90ZW1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhLmNvbnRhaW5zKHRoaXMuX3RlbXBQb2ludC54LCB0aGlzLl90ZW1wUG9pbnQueSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3RDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBtYXNrLCBubyBuZWVkIHRvIGhpdFRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIG1hc2suXG4gICAgICAgIC8vIFdlIHN0aWxsIHdhbnQgdG8gaGl0VGVzdENoaWxkcmVuLCBob3dldmVyLCB0byBlbnN1cmUgYSBtb3VzZW91dCBjYW4gc3RpbGwgYmUgZ2VuZXJhdGVkLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzUxMzVcbiAgICAgICAgZWxzZSBpZiAoZGlzcGxheU9iamVjdC5fbWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGhpdFRlc3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCEoZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50ICYmIGRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludChwb2ludCkpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vICoqIEZSRUUgVElQICoqISBJZiBhbiBvYmplY3QgaXMgbm90IGludGVyYWN0aXZlIG9yIGhhcyBubyBidXR0b25zIGluIGl0XG4gICAgICAgIC8vIChzdWNoIGFzIGEgZ2FtZSBzY2VuZSEpIHNldCBpbnRlcmFjdGl2ZUNoaWxkcmVuIHRvIGZhbHNlIGZvciB0aGF0IGRpc3BsYXlPYmplY3QuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBhbGxvdyBQaXhpSlMgdG8gY29tcGxldGVseSBpZ25vcmUgYW5kIGJ5cGFzcyBjaGVja2luZyB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW4uXG4gICAgICAgIGlmIChoaXRUZXN0Q2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZUNoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuY2hpbGRyZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICAvLyB0aW1lIHRvIGdldCByZWN1cnNpdmUuLiBpZiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGlmIHNvbWV0aGluZyBpcyBoaXQuLlxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkSGl0ID0gdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgY2hpbGQsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlUGFyZW50LCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0cyBhIGdvb2QgaWRlYSB0byBjaGVjayBpZiBhIGNoaWxkIGhhcyBsb3N0IGl0cyBwYXJlbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgaXQgaGFzIGJlZW4gcmVtb3ZlZCB3aGlsc3QgbG9vcGluZyBzbyBpdHMgYmVzdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLnBhcmVudClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnkgbW9yZSBvYmplY3RzIGluIHRoaXMgY29udGFpbmVyIGFzIHdlIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdyBrbm93IHRoZSBwYXJlbnQgaGFzIGJlZW4gaGl0XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNoaWxkIGlzIGludGVyYWN0aXZlICwgdGhhdCBtZWFucyB0aGF0IHRoZSBvYmplY3QgaGl0IHdhcyBhY3R1YWxseVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcmFjdGl2ZSBhbmQgbm90IGp1c3QgdGhlIGNoaWxkIG9mIGFuIGludGVyYWN0aXZlIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnl0aGluZyBlbHNlLiBXZSBzdGlsbCBuZWVkIHRvIHJ1blxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdWdoIGFsbCBvYmplY3RzLCBidXQgd2UgZG9uJ3QgbmVlZCB0byBwZXJmb3JtIGFueSBoaXQgdGVzdHMuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIHBvaW50IHJ1bm5pbmcgdGhpcyBpZiB0aGUgaXRlbSBpcyBub3QgaW50ZXJhY3RpdmUgb3IgZG9lcyBub3QgaGF2ZSBhbiBpbnRlcmFjdGl2ZSBwYXJlbnQuXG4gICAgICAgIGlmIChpbnRlcmFjdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGhpdCB0ZXN0aW5nIChhcyBpbiB3ZSBoYXZlIG5vIGhpdCBhbnkgb2JqZWN0cyB5ZXQpXG4gICAgICAgICAgICAvLyBXZSBhbHNvIGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaGl0IHRlc3RpbmcgaWYgb25jZSBvZiB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gaGl0IC0gYnV0IG9ubHkgaWYgaXQgd2FzIGludGVyYWN0aXZlLCBvdGhlcndpc2Ugd2UgbmVlZCB0byBrZWVwXG4gICAgICAgICAgICAvLyBsb29raW5nIGZvciBhbiBpbnRlcmFjdGl2ZSBjaGlsZCwganVzdCBpbiBjYXNlIHdlIGhpdCBvbmVcbiAgICAgICAgICAgIGlmIChoaXRUZXN0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHRlc3RlZCBhZ2FpbnN0IGhpdEFyZWEgaWYgaXQgaXMgZGVmaW5lZFxuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhICYmIGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQocG9pbnQpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoaGl0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQudGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZnVuYylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgISFoaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRlbGF5ZWRFdmVudHMgPSB0aGlzLmRlbGF5ZWRFdmVudHM7XG5cbiAgICAgICAgaWYgKGRlbGF5ZWRFdmVudHMubGVuZ3RoICYmICFza2lwRGVsYXllZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGVsYXllZExlbiA9IGRlbGF5ZWRFdmVudHMubGVuZ3RoO1xuXG4gICAgICAgICAgICB0aGlzLmRlbGF5ZWRFdmVudHMgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWxheWVkTGVuOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsYXllZCA9IGRlbGF5ZWRFdmVudHNbaV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGVsYXllZC5kaXNwbGF5T2JqZWN0LCBkZWxheWVkLmV2ZW50U3RyaW5nLCBkZWxheWVkLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGl0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBwcmVzc2VkIGRvd24gb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcHJlc3NlZCBkb3duXG4gICAgICovXG4gICAgb25Qb2ludGVyRG93bihvcmlnaW5hbEV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTm8gbmVlZCB0byBwcmV2ZW50IGRlZmF1bHQgb24gbmF0dXJhbCBwb2ludGVyIGV2ZW50cywgYXMgdGhlcmUgYXJlIG5vIHNpZGUgZWZmZWN0c1xuICAgICAgICAgKiBOb3JtYWxpemVkIGV2ZW50cywgaG93ZXZlciwgbWF5IGhhdmUgdGhlIGRvdWJsZSBtb3VzZWRvd24vdG91Y2hzdGFydCBpc3N1ZSBvbiB0aGUgbmF0aXZlIGFuZHJvaWQgYnJvd3NlcixcbiAgICAgICAgICogc28gc3RpbGwgbmVlZCB0byBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIEd1YXJhbnRlZWQgdGhhdCB0aGVyZSB3aWxsIGJlIGF0IGxlYXN0IG9uZSBldmVudCBpbiBldmVudHMsIGFuZCBhbGwgZXZlbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBwb2ludGVyIHR5cGVcblxuICAgICAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2FuY2VsYWJsZSA9IG9yaWdpbmFsRXZlbnQuY2FuY2VsYWJsZSB8fCAhKCdjYW5jZWxhYmxlJyBpbiBvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGNhbmNlbGFibGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duLCB0cnVlKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZW1pdCBhIG1vdXNlIGV2ZW50IGZvciBcInBlblwiIHBvaW50ZXJzLCB0aGUgd2F5IGEgYnJvd3NlciB3b3VsZCBlbWl0IGEgZmFsbGJhY2sgZXZlbnRcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBkb3duIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgcHJvY2Vzc1BvaW50ZXJEb3duKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIGNvbnN0IGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgaWYgKGhpdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmlnaHRCdXR0b24gPSBkYXRhLmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLnJpZ2h0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5sZWZ0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuY2VsbGVkIC0gdHJ1ZSBpZiB0aGUgcG9pbnRlciBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gRnVuY3Rpb24gcGFzc2VkIHRvIHtAbGluayBwcm9jZXNzSW50ZXJhY3RpdmV9XG4gICAgICovXG4gICAgb25Qb2ludGVyQ29tcGxldGUob3JpZ2luYWxFdmVudCwgY2FuY2VsbGVkLCBmdW5jKVxuICAgIHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIGNvbnN0IGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGUgZXZlbnQgd2Fzbid0IHRhcmdldGluZyBvdXIgY2FudmFzLCB0aGVuIGNvbnNpZGVyIGl0IHRvIGJlIHBvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgLy8gaW4gYWxsIGNhc2VzICh1bmxlc3MgaXQgd2FzIGEgcG9pbnRlcmNhbmNlbClcbiAgICAgICAgY29uc3QgZXZlbnRBcHBlbmQgPSBvcmlnaW5hbEV2ZW50LnRhcmdldCAhPT0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPyAnb3V0c2lkZScgOiAnJztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgLy8gcGVyZm9ybSBoaXQgdGVzdGluZyBmb3IgZXZlbnRzIHRhcmdldGluZyBvdXIgY2FudmFzIG9yIGNhbmNlbCBldmVudHNcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgZnVuYywgY2FuY2VsbGVkIHx8ICFldmVudEFwcGVuZCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAncG9pbnRlcmNhbmNlbCcgOiBgcG9pbnRlcnVwJHtldmVudEFwcGVuZH1gLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyBgcmlnaHR1cCR7ZXZlbnRBcHBlbmR9YCA6IGBtb3VzZXVwJHtldmVudEFwcGVuZH1gLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAndG91Y2hjYW5jZWwnIDogYHRvdWNoZW5kJHtldmVudEFwcGVuZH1gLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQucG9pbnRlcklkLCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIGNhbmNlbGxlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKi9cbiAgICBvblBvaW50ZXJDYW5jZWwoZXZlbnQpXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIHRydWUsIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGNhbmNlbCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKi9cbiAgICBwcm9jZXNzUG9pbnRlckNhbmNlbChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0KVxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICBjb25zdCBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gIT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgb25Qb2ludGVyVXAoZXZlbnQpXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIGZhbHNlLCB0aGlzLnByb2Nlc3NQb2ludGVyVXApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIHVwIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgcHJvY2Vzc1BvaW50ZXJVcChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIGNvbnN0IGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgY29uc3QgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuXG4gICAgICAgIGNvbnN0IGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIGNvbnN0IGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG4gICAgICAgIC8vIG5lZWQgdG8gdHJhY2sgbW91c2UgZG93biBzdGF0dXMgaW4gdGhlIG1vdXNlIGJsb2NrIHNvIHRoYXQgd2UgY2FuIGVtaXRcbiAgICAgICAgLy8gZXZlbnQgaW4gYSBsYXRlciBibG9ja1xuICAgICAgICBsZXQgaXNNb3VzZVRhcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIE1vdXNlIG9ubHlcbiAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGlzUmlnaHRCdXR0b24gPSBkYXRhLmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgY29uc3QgZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUztcblxuICAgICAgICAgICAgY29uc3QgdGVzdCA9IGlzUmlnaHRCdXR0b24gPyBmbGFncy5SSUdIVF9ET1dOIDogZmxhZ3MuTEVGVF9ET1dOO1xuXG4gICAgICAgICAgICBjb25zdCBpc0Rvd24gPSB0cmFja2luZ0RhdGEgIT09IHVuZGVmaW5lZCAmJiAodHJhY2tpbmdEYXRhLmZsYWdzICYgdGVzdCk7XG5cbiAgICAgICAgICAgIGlmIChoaXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cCcgOiAnbW91c2V1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRG93bilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0Y2xpY2snIDogJ2NsaWNrJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgY2FuIGNvbmZpcm0gdGhhdCB0aGUgbW91c2Vkb3duIGhhcHBlbmVkIG9uIHRoaXMgb2JqZWN0LCBmbGFnIGZvciBsYXRlciBlbWl0IG9mIHBvaW50ZXJ0YXBcbiAgICAgICAgICAgICAgICAgICAgaXNNb3VzZVRhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNEb3duKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXBvdXRzaWRlJyA6ICdtb3VzZXVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkb3duIHN0YXRlIG9mIHRoZSB0cmFja2luZyBkYXRhXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLnJpZ2h0RG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEubGVmdERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQb2ludGVycyBhbmQgVG91Y2hlcywgYW5kIE1vdXNlXG4gICAgICAgIGlmIChoaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGVtaXQgcG9pbnRlcnRhcCBpZiBub3QgYSBtb3VzZSwgb3IgaWYgdGhlIG1vdXNlIGJsb2NrIGRlY2lkZWQgaXQgd2FzIGEgdGFwXG4gICAgICAgICAgICAgICAgaWYgKCFpc01vdXNlIHx8IGlzTW91c2VUYXApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzVG91Y2gpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0b3VjaGVzIGFyZSBubyBsb25nZXIgb3ZlciAoaWYgdGhleSBldmVyIHdlcmUpIHdoZW4gd2UgZ2V0IHRoZSB0b3VjaGVuZFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBzaG91bGQgZW5zdXJlIHRoYXQgd2UgZG9uJ3Qga2VlcCBwcmV0ZW5kaW5nIHRoYXQgdGhleSBhcmVcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoZW5kb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgcmVtb3ZlIHRoZSB0cmFja2luZyBkYXRhIGlmIHRoZXJlIGlzIG5vIG92ZXIvZG93biBzdGF0ZSBzdGlsbCBhc3NvY2lhdGVkIHdpdGggaXRcbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSAmJiB0cmFja2luZ0RhdGEubm9uZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIG1vdmluZ1xuICAgICAqL1xuICAgIG9uUG9pbnRlck1vdmUob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpZE1vdmUgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUsIHRydWUpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHRoaXMuZW1pdCgndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB0aGlzLmVtaXQoJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcblxuICAgICAgICAgICAgLy8gVE9ETyBCVUcgZm9yIHBhcmVudHMgaW50ZXJhY3RpdmUgb2JqZWN0IChib3JkZXIgb3JkZXIgaXNzdWUpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBtb3ZlIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgcHJvY2Vzc1BvaW50ZXJNb3ZlKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgY29uc3QgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG5cbiAgICAgICAgY29uc3QgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcblxuICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5tb3ZlV2hlbkluc2lkZSB8fCBoaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzTW91c2UpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBvdXQgb2YgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBiZWluZyBtb3ZlZCBvdXRcbiAgICAgKi9cbiAgICBvblBvaW50ZXJPdXQob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdXQsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICBjb25zdCBldmVudCA9IGV2ZW50c1swXTtcblxuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZShudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3ZSBjYW4gZ2V0IHRvdWNobGVhdmUgZXZlbnRzIGFmdGVyIHRvdWNoZW5kLCBzbyB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gaW50cm9kdWNlIG1lbW9yeSBsZWFrc1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG92ZXIvb3V0IGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgcHJvY2Vzc1BvaW50ZXJPdmVyT3V0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgY29uc3QgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBjb25zdCBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuXG4gICAgICAgIGxldCB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG5cbiAgICAgICAgLy8gaWYgd2UganVzdCBtb3VzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byB0cmFjayB0aGF0IHN0YXRlXG4gICAgICAgIGlmIChoaXQgJiYgIXRyYWNraW5nRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChoaXQgJiYgdGhpcy5tb3VzZU92ZXJSZW5kZXJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0cmFja2luZ0RhdGEub3ZlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxheURpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGF5RGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmx5IGNoYW5nZSB0aGUgY3Vyc29yIGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGNoYW5nZWQgKGJ5IHNvbWV0aGluZyBkZWVwZXIgaW4gdGhlXG4gICAgICAgICAgICAvLyBkaXNwbGF5IHRyZWUpXG4gICAgICAgICAgICBpZiAoaXNNb3VzZSAmJiB0aGlzLmN1cnNvciA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IGRpc3BsYXlPYmplY3QuY3Vyc29yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYWNraW5nRGF0YS5vdmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3V0JywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gbW91c2UgZG93biBpbmZvcm1hdGlvbiBmb3IgdGhlIHBvaW50ZXIsIHRoZW4gaXQgaXMgc2FmZSB0byBkZWxldGVcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEubm9uZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciB2aWV3XG4gICAgICovXG4gICAgb25Qb2ludGVyT3ZlcihvcmlnaW5hbEV2ZW50KVxuICAgIHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3Zlciwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gZXZlbnRzWzBdO1xuXG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBJbnRlcmFjdGlvbkRhdGEgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkLiBTdG9yZSB0aGF0IGRhdGEgYXMgd2VsbFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBOb3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIG91dHB1dCBmcm9tIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGFcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX0gLSBJbnRlcmFjdGlvbiBkYXRhIGZvciB0aGUgZ2l2ZW4gcG9pbnRlciBpZGVudGlmaWVyXG4gICAgICovXG4gICAgZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9pbnRlcklkID0gZXZlbnQucG9pbnRlcklkO1xuXG4gICAgICAgIGxldCBpbnRlcmFjdGlvbkRhdGE7XG5cbiAgICAgICAgaWYgKHBvaW50ZXJJZCA9PT0gTU9VU0VfUE9JTlRFUl9JRCB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJylcbiAgICAgICAge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5tb3VzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnBvcCgpIHx8IG5ldyBJbnRlcmFjdGlvbkRhdGEoKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyID0gcG9pbnRlcklkO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSA9IGludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb3B5IHByb3BlcnRpZXMgZnJvbSB0aGUgZXZlbnQsIHNvIHRoYXQgd2UgY2FuIG1ha2Ugc3VyZSB0aGF0IHRvdWNoL3BvaW50ZXIgc3BlY2lmaWNcbiAgICAgICAgLy8gZGF0YSBpcyBhdmFpbGFibGVcbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmNvcHlFdmVudChldmVudCk7XG5cbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdW51c2VkIEludGVyYWN0aW9uRGF0YSB0byB0aGUgcG9vbCwgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVySWQgLSBJZGVudGlmaWVyIGZyb20gYSBwb2ludGVyIGV2ZW50XG4gICAgICovXG4gICAgcmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChwb2ludGVySWQpXG4gICAge1xuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuXG4gICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucHVzaChpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIGFuIEludGVyYWN0aW9uRXZlbnQgdG8gd3JhcCBhIERPTSBQb2ludGVyRXZlbnQgYW5kIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBldmVudCB0byBiZSBjb25maWd1cmVkXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCAtIFRoZSBET00gZXZlbnQgdGhhdCB3aWxsIGJlIHBhaXJlZCB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX0gaW50ZXJhY3Rpb25EYXRhIC0gVGhlIEludGVyYWN0aW9uRGF0YSB0aGF0IHdpbGwgYmUgcGFpcmVkXG4gICAgICogICAgICAgIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IHRoZSBpbnRlcmFjdGlvbiBldmVudCB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgKi9cbiAgICBjb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQoaW50ZXJhY3Rpb25FdmVudCwgcG9pbnRlckV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpXG4gICAge1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEgPSBpbnRlcmFjdGlvbkRhdGE7XG5cbiAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoaW50ZXJhY3Rpb25EYXRhLmdsb2JhbCwgcG9pbnRlckV2ZW50LmNsaWVudFgsIHBvaW50ZXJFdmVudC5jbGllbnRZKTtcblxuICAgICAgICAvLyBOb3QgcmVhbGx5IHN1cmUgd2h5IHRoaXMgaXMgaGFwcGVuaW5nLCBidXQgaXQncyBob3cgYSBwcmV2aW91cyB2ZXJzaW9uIGhhbmRsZWQgdGhpbmdzXG4gICAgICAgIGlmIChwb2ludGVyRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxYID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54O1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50Lmdsb2JhbFkgPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLnk7XG4gICAgICAgIH1cblxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCA9IHBvaW50ZXJFdmVudDtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkV2ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0IGNvbnRhaW5zIGFsbCBkYXRhIHRoYXQgYSByZWd1bGFyIHBvaW50ZXIgZXZlbnQgd291bGQgaGF2ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGRhdGEgZnJvbSBhIHRvdWNoIG9yIG1vdXNlIGV2ZW50XG4gICAgICogQHJldHVybiB7UG9pbnRlckV2ZW50W119IEFuIGFycmF5IGNvbnRhaW5pbmcgYSBzaW5nbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBpbiB0aGUgY2FzZSBvZiBhIHBvaW50ZXJcbiAgICAgKiAgb3IgbW91c2UgZXZlbnQsIG9yIGEgbXVsdGlwbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50cyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzXG4gICAgICovXG4gICAgbm9ybWFsaXplVG9Qb2ludGVyRGF0YShldmVudClcbiAgICB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRFdmVudHMgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxpID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpIDwgbGk7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b24gPT09ICd1bmRlZmluZWQnKSB0b3VjaC5idXR0b24gPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmJ1dHRvbnMgPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaXNQcmltYXJ5ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoLmlzUHJpbWFyeSA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxICYmIGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLndpZHRoID0gdG91Y2gucmFkaXVzWCB8fCAxO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSAndW5kZWZpbmVkJykgdG91Y2guaGVpZ2h0ID0gdG91Y2gucmFkaXVzWSB8fCAxO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFggPT09ICd1bmRlZmluZWQnKSB0b3VjaC50aWx0WCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnRpbHRZID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJykgdG91Y2gucG9pbnRlclR5cGUgPSAndG91Y2gnO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlcklkID09PSAndW5kZWZpbmVkJykgdG91Y2gucG9pbnRlcklkID0gdG91Y2guaWRlbnRpZmllciB8fCAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5wcmVzc3VyZSA9IHRvdWNoLmZvcmNlIHx8IDAuNTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnR3aXN0ID09PSAndW5kZWZpbmVkJykgdG91Y2gudHdpc3QgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID09PSAndW5kZWZpbmVkJykgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdGhlc2UsIGFzIGxheWVyWC9ZIGlzIG5vdCBhIHN0YW5kYXJkLCBpcyBkZXByZWNhdGVkLCBoYXMgdW5ldmVuXG4gICAgICAgICAgICAgICAgLy8gc3VwcG9ydCwgYW5kIHRoZSBmaWxsIGlucyBhcmUgbm90IHF1aXRlIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0WC9ZIG1pZ2h0IGJlIG9rYXksIGJ1dCBpcyBub3QgdGhlIHNhbWUgYXMgY2xpZW50WC9ZIHdoZW4gdGhlIGNhbnZhcydzIHRvcFxuICAgICAgICAgICAgICAgIC8vIGxlZnQgaXMgbm90IDAsMCBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJYID09PSAndW5kZWZpbmVkJykgdG91Y2gubGF5ZXJYID0gdG91Y2gub2Zmc2V0WCA9IHRvdWNoLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5sYXllclkgPSB0b3VjaC5vZmZzZXRZID0gdG91Y2guY2xpZW50WTtcblxuICAgICAgICAgICAgICAgIC8vIG1hcmsgdGhlIHRvdWNoIGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgICAgIHRvdWNoLmlzTm9ybWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godG91Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGFyZW50bHkgUG9pbnRlckV2ZW50IHN1YmNsYXNzZXMgTW91c2VFdmVudCwgc28geWF5XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiAoIXRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzIHx8ICEoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuUG9pbnRlckV2ZW50KSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQuaXNQcmltYXJ5ID09PSAndW5kZWZpbmVkJykgZXZlbnQuaXNQcmltYXJ5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQud2lkdGggPT09ICd1bmRlZmluZWQnKSBldmVudC53aWR0aCA9IDE7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LmhlaWdodCA9IDE7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRpbHRYID09PSAndW5kZWZpbmVkJykgZXZlbnQudGlsdFggPSAwO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnRpbHRZID0gMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKSBldmVudC5wb2ludGVyVHlwZSA9ICdtb3VzZSc7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnBvaW50ZXJJZCA9IE1PVVNFX1BPSU5URVJfSUQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnByZXNzdXJlID09PSAndW5kZWZpbmVkJykgZXZlbnQucHJlc3N1cmUgPSAwLjU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnR3aXN0ID09PSAndW5kZWZpbmVkJykgZXZlbnQudHdpc3QgPSAwO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50YW5nZW50aWFsUHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSBldmVudC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuXG4gICAgICAgICAgICAvLyBtYXJrIHRoZSBtb3VzZSBldmVudCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgIGV2ZW50LmlzTm9ybWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRFdmVudHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGludGVyYWN0aW9uIG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcblxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMubW91c2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZXZlbnREYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyVXAgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyVXAgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ2FuY2VsID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJNb3ZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3ZlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdGVtcFBvaW50ID0gbnVsbDtcbiAgICB9XG59XG4iLCIvKipcbiAqIEdyYXBoaWNzIGN1cnZlcyByZXNvbHV0aW9uIHNldHRpbmdzLiBJZiBgYWRhcHRpdmVgIGZsYWcgaXMgc2V0IHRvIGB0cnVlYCxcbiAqIHRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGN1cnZlJ3MgbGVuZ3RoIHRvIGVuc3VyZSBiZXR0ZXIgdmlzdWFsIHF1YWxpdHkuXG4gKiBBZGFwdGl2ZSBkcmF3IHdvcmtzIHdpdGggYGJlemllckN1cnZlVG9gIGFuZCBgcXVhZHJhdGljQ3VydmVUb2AuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgR1JBUEhJQ1NfQ1VSVkVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtib29sZWFufSBhZGFwdGl2ZT1mYWxzZSAtIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgcmVzb2x1dGlvbiBzaG91bGQgYmUgYWRhcHRpdmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhMZW5ndGg9MTAgLSBtYXhpbWFsIGxlbmd0aCBvZiBhIHNpbmdsZSBzZWdtZW50IG9mIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5TZWdtZW50cz04IC0gbWluaW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFNlZ21lbnRzPTIwNDggLSBtYXhpbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKi9cbmV4cG9ydCBjb25zdCBHUkFQSElDU19DVVJWRVMgPSB7XG4gICAgYWRhcHRpdmU6IHRydWUsXG4gICAgbWF4TGVuZ3RoOiAxMCxcbiAgICBtaW5TZWdtZW50czogOCxcbiAgICBtYXhTZWdtZW50czogMjA0OCxcbiAgICBfc2VnbWVudHNDb3VudChsZW5ndGgsIGRlZmF1bHRTZWdtZW50cyA9IDIwKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0aXZlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFNlZ21lbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IE1hdGguY2VpbChsZW5ndGggLyB0aGlzLm1heExlbmd0aCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCA8IHRoaXMubWluU2VnbWVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWluU2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzdWx0ID4gdGhpcy5tYXhTZWdtZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tYXhTZWdtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbn07XG4iLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogRmlsbCBzdHlsZSBvYmplY3QgZm9yIEdyYXBoaWNzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmlsbFN0eWxlXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgKi9cbiAgICBjbG9uZSgpXG4gICAge1xuICAgICAgICBjb25zdCBvYmogPSBuZXcgRmlsbFN0eWxlKCk7XG5cbiAgICAgICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgb2JqLmFscGhhID0gdGhpcy5hbHBoYTtcbiAgICAgICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICAgICAgb2JqLnZpc2libGUgPSB0aGlzLnZpc2libGU7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldFxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGV4IGNvbG9yIHZhbHVlIHVzZWQgd2hlbiBjb2xvcmluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29sb3IgPSAweEZGRkZGRjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFscGhhIHZhbHVlIHVzZWQgd2hlbiBmaWxsaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRvIGJlIHVzZWQgZm9yIHRoZSBmaWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFuc2Zvcm0gYXBscGllZCB0byB0aGUgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBjdXJyZW50IGZpbGwgaXMgdmlzaWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBBIGNsYXNzIHRvIGNvbnRhaW4gZGF0YSB1c2VmdWwgZm9yIEdyYXBoaWNzIG9iamVjdHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyYXBoaWNzRGF0YVxue1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLlJlY3RhbmdsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlfSBbZmlsbFN0eWxlXSAtIHRoZSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQHBhcmFtIHtQSVhJLkxpbmVTdHlsZX0gW2xpbmVTdHlsZV0gLSB0aGUgY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXhdIC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNoYXBlLCBmaWxsU3R5bGUgPSBudWxsLCBsaW5lU3R5bGUgPSBudWxsLCBtYXRyaXggPSBudWxsKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgbGluZS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVTdHlsZSA9IGxpbmVTdHlsZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0eWxlIG9mIHRoZSBmaWxsLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIG1hdHJpeC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG1hdHJpeDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIHNoYXBlLCBzZWUgdGhlIENvbnN0LlNoYXBlcyBmaWxlIGZvciBhbGwgdGhlIGV4aXN0aW5nIHR5cGVzLFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBzaGFwZS50eXBlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBwb2ludHMuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgaG9sZXMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhvbGVzID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljc0RhdGEgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IENsb25lZCBHcmFwaGljc0RhdGEgb2JqZWN0XG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcmFwaGljc0RhdGEoXG4gICAgICAgICAgICB0aGlzLnNoYXBlLFxuICAgICAgICAgICAgdGhpcy5maWxsU3R5bGUsXG4gICAgICAgICAgICB0aGlzLmxpbmVTdHlsZSxcbiAgICAgICAgICAgIHRoaXMubWF0cml4XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIGRhdGEuXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLnNoYXBlID0gbnVsbDtcbiAgICAgICAgdGhpcy5ob2xlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmhvbGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5wb2ludHMgPSBudWxsO1xuICAgICAgICB0aGlzLmxpbmVTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsbFN0eWxlID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTSEFQRVMgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBCdWlsZHMgYSBjaXJjbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgdG8gZHJhd1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICBjb25zdCBjaXJjbGVEYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICBjb25zdCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICBjb25zdCB4ID0gY2lyY2xlRGF0YS54O1xuICAgICAgICBjb25zdCB5ID0gY2lyY2xlRGF0YS55O1xuICAgICAgICBsZXQgd2lkdGg7XG4gICAgICAgIGxldCBoZWlnaHQ7XG5cbiAgICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgLy8gVE9ETyAtIGJpdCBoYWNreT8/XG4gICAgICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gU0hBUEVTLkNJUkMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS53aWR0aDtcbiAgICAgICAgICAgIGhlaWdodCA9IGNpcmNsZURhdGEuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRvdGFsU2VncyA9IE1hdGguZmxvb3IoMzAgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS5yYWRpdXMpKVxuICAgICAgICAgICAgfHwgTWF0aC5mbG9vcigxNSAqIE1hdGguc3FydChjaXJjbGVEYXRhLndpZHRoICsgY2lyY2xlRGF0YS5oZWlnaHQpKTtcblxuICAgICAgICB0b3RhbFNlZ3MgLz0gMi4zO1xuXG4gICAgICAgIGNvbnN0IHNlZyA9IChNYXRoLlBJICogMikgLyB0b3RhbFNlZ3M7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbFNlZ3M7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgeCArIChNYXRoLnNpbigtc2VnICogaSkgKiB3aWR0aCksXG4gICAgICAgICAgICAgICAgeSArIChNYXRoLmNvcygtc2VnICogaSkgKiBoZWlnaHQpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICBwb2ludHNbMF0sXG4gICAgICAgICAgICBwb2ludHNbMV1cbiAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgY29uc3QgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcblxuICAgICAgICBsZXQgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHZlcnRQb3M7XG5cbiAgICAgICAgdmVydHMucHVzaChncmFwaGljc0RhdGEuc2hhcGUueCwgZ3JhcGhpY3NEYXRhLnNoYXBlLnkpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSk7XG5cbiAgICAgICAgICAgIC8vIGFkZCBzb21lIHV2c1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZlcnRQb3MrKywgY2VudGVyLCB2ZXJ0UG9zKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuIiwiaW1wb3J0IHsgUG9pbnQsIFNIQVBFUyB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG57XG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lU3R5bGUubmF0aXZlKVxuICAgIHtcbiAgICAgICAgYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIHBvbHlnb24gbWV0aG9kLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG57XG4gICAgY29uc3Qgc2hhcGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgbGV0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzLnNsaWNlKCk7XG4gICAgY29uc3QgZXBzID0gZ3JhcGhpY3NHZW9tZXRyeS5jbG9zZVBvaW50RXBzO1xuXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGlmIHRoZSBsaW5lIHdpZHRoIGlzIGFuIG9kZCBudW1iZXIgYWRkIDAuNSB0byBhbGlnbiB0byBhIHdob2xlIHBpeGVsXG4gICAgLy8gY29tbWVudGluZyB0aGlzIG91dCBmaXhlcyAjNzExIGFuZCAjMTYyMFxuICAgIC8vIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoJTIpXG4gICAgLy8ge1xuICAgIC8vICAgICBmb3IgKGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgICBwb2ludHNbaV0gKz0gMC41O1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgY29uc3Qgc3R5bGUgPSBncmFwaGljc0RhdGEubGluZVN0eWxlO1xuXG4gICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgIGNvbnN0IGZpcnN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIGNvbnN0IGxhc3RQb2ludCA9IG5ldyBQb2ludChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdLCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdKTtcbiAgICBjb25zdCBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICAgIGNvbnN0IGNsb3NlZFBhdGggPSBNYXRoLmFicyhmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgPCBlcHNcbiAgICAgICAgJiYgTWF0aC5hYnMoZmlyc3RQb2ludC55IC0gbGFzdFBvaW50LnkpIDwgZXBzO1xuXG4gICAgLy8gaWYgdGhlIGZpcnN0IHBvaW50IGlzIHRoZSBsYXN0IHBvaW50IC0gZ29ubmEgaGF2ZSBpc3N1ZXMgOilcbiAgICBpZiAoY2xvc2VkU2hhcGUpXG4gICAge1xuICAgICAgICAvLyBuZWVkIHRvIGNsb25lIGFzIHdlIGFyZSBnb2luZyB0byBzbGlnaHRseSBtb2RpZnkgdGhlIHNoYXBlLi5cbiAgICAgICAgcG9pbnRzID0gcG9pbnRzLnNsaWNlKCk7XG5cbiAgICAgICAgaWYgKGNsb3NlZFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIGxhc3RQb2ludC5zZXQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtaWRQb2ludFggPSBsYXN0UG9pbnQueCArICgoZmlyc3RQb2ludC54IC0gbGFzdFBvaW50LngpICogMC41KTtcbiAgICAgICAgY29uc3QgbWlkUG9pbnRZID0gbGFzdFBvaW50LnkgKyAoKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSAqIDAuNSk7XG5cbiAgICAgICAgcG9pbnRzLnVuc2hpZnQobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICAgICAgICBwb2ludHMucHVzaChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgfVxuXG4gICAgY29uc3QgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICBjb25zdCBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcbiAgICBsZXQgaW5kZXhDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgbGV0IGluZGV4U3RhcnQgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuXG4gICAgLy8gRFJBVyB0aGUgTGluZVxuICAgIGNvbnN0IHdpZHRoID0gc3R5bGUud2lkdGggLyAyO1xuXG4gICAgLy8gc29ydCBjb2xvclxuICAgIGxldCBwMXggPSBwb2ludHNbMF07XG4gICAgbGV0IHAxeSA9IHBvaW50c1sxXTtcbiAgICBsZXQgcDJ4ID0gcG9pbnRzWzJdO1xuICAgIGxldCBwMnkgPSBwb2ludHNbM107XG4gICAgbGV0IHAzeCA9IDA7XG4gICAgbGV0IHAzeSA9IDA7XG5cbiAgICBsZXQgcGVycHggPSAtKHAxeSAtIHAyeSk7XG4gICAgbGV0IHBlcnB5ID0gcDF4IC0gcDJ4O1xuICAgIGxldCBwZXJwMnggPSAwO1xuICAgIGxldCBwZXJwMnkgPSAwO1xuICAgIGxldCBwZXJwM3ggPSAwO1xuICAgIGxldCBwZXJwM3kgPSAwO1xuXG4gICAgbGV0IGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcblxuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIGNvbnN0IHJhdGlvID0gc3R5bGUuYWxpZ25tZW50Oy8vIDAuNTtcbiAgICBjb25zdCByMSA9ICgxIC0gcmF0aW8pICogMjtcbiAgICBjb25zdCByMiA9IHJhdGlvICogMjtcblxuICAgIC8vIHN0YXJ0XG4gICAgdmVydHMucHVzaChcbiAgICAgICAgcDF4IC0gKHBlcnB4ICogcjEpLFxuICAgICAgICBwMXkgLSAocGVycHkgKiByMSkpO1xuXG4gICAgdmVydHMucHVzaChcbiAgICAgICAgcDF4ICsgKHBlcnB4ICogcjIpLFxuICAgICAgICBwMXkgKyAocGVycHkgKiByMikpO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGggLSAxOyArK2kpXG4gICAge1xuICAgICAgICBwMXggPSBwb2ludHNbKGkgLSAxKSAqIDJdO1xuICAgICAgICBwMXkgPSBwb2ludHNbKChpIC0gMSkgKiAyKSArIDFdO1xuXG4gICAgICAgIHAyeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHAyeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgcDN4ID0gcG9pbnRzWyhpICsgMSkgKiAyXTtcbiAgICAgICAgcDN5ID0gcG9pbnRzWygoaSArIDEpICogMikgKyAxXTtcblxuICAgICAgICBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICAgICAgcGVycHkgPSBwMXggLSBwMng7XG5cbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgICAgICBwZXJweCAvPSBkaXN0O1xuICAgICAgICBwZXJweSAvPSBkaXN0O1xuICAgICAgICBwZXJweCAqPSB3aWR0aDtcbiAgICAgICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICAgICAgcGVycDJ4ID0gLShwMnkgLSBwM3kpO1xuICAgICAgICBwZXJwMnkgPSBwMnggLSBwM3g7XG5cbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDJ4ICogcGVycDJ4KSArIChwZXJwMnkgKiBwZXJwMnkpKTtcbiAgICAgICAgcGVycDJ4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAyeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMnggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAyeSAqPSB3aWR0aDtcblxuICAgICAgICBjb25zdCBhMSA9ICgtcGVycHkgKyBwMXkpIC0gKC1wZXJweSArIHAyeSk7XG4gICAgICAgIGNvbnN0IGIxID0gKC1wZXJweCArIHAyeCkgLSAoLXBlcnB4ICsgcDF4KTtcbiAgICAgICAgY29uc3QgYzEgPSAoKC1wZXJweCArIHAxeCkgKiAoLXBlcnB5ICsgcDJ5KSkgLSAoKC1wZXJweCArIHAyeCkgKiAoLXBlcnB5ICsgcDF5KSk7XG4gICAgICAgIGNvbnN0IGEyID0gKC1wZXJwMnkgKyBwM3kpIC0gKC1wZXJwMnkgKyBwMnkpO1xuICAgICAgICBjb25zdCBiMiA9ICgtcGVycDJ4ICsgcDJ4KSAtICgtcGVycDJ4ICsgcDN4KTtcbiAgICAgICAgY29uc3QgYzIgPSAoKC1wZXJwMnggKyBwM3gpICogKC1wZXJwMnkgKyBwMnkpKSAtICgoLXBlcnAyeCArIHAyeCkgKiAoLXBlcnAyeSArIHAzeSkpO1xuXG4gICAgICAgIGxldCBkZW5vbSA9IChhMSAqIGIyKSAtIChhMiAqIGIxKTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoZGVub20pIDwgMC4xKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZW5vbSArPSAxMC4xO1xuICAgICAgICAgICAgdmVydHMucHVzaChcbiAgICAgICAgICAgICAgICBwMnggLSAocGVycHggKiByMSksXG4gICAgICAgICAgICAgICAgcDJ5IC0gKHBlcnB5ICogcjEpKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChcbiAgICAgICAgICAgICAgICBwMnggKyAocGVycHggKiByMiksXG4gICAgICAgICAgICAgICAgcDJ5ICsgKHBlcnB5ICogcjIpKTtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBweCA9ICgoYjEgKiBjMikgLSAoYjIgKiBjMSkpIC8gZGVub207XG4gICAgICAgIGNvbnN0IHB5ID0gKChhMiAqIGMxKSAtIChhMSAqIGMyKSkgLyBkZW5vbTtcbiAgICAgICAgY29uc3QgcGRpc3QgPSAoKHB4IC0gcDJ4KSAqIChweCAtIHAyeCkpICsgKChweSAtIHAyeSkgKiAocHkgLSBwMnkpKTtcblxuICAgICAgICBpZiAocGRpc3QgPiAoMTk2ICogd2lkdGggKiB3aWR0aCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBlcnAzeCA9IHBlcnB4IC0gcGVycDJ4O1xuICAgICAgICAgICAgcGVycDN5ID0gcGVycHkgLSBwZXJwMnk7XG5cbiAgICAgICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnAzeCAqIHBlcnAzeCkgKyAocGVycDN5ICogcGVycDN5KSk7XG4gICAgICAgICAgICBwZXJwM3ggLz0gZGlzdDtcbiAgICAgICAgICAgIHBlcnAzeSAvPSBkaXN0O1xuICAgICAgICAgICAgcGVycDN4ICo9IHdpZHRoO1xuICAgICAgICAgICAgcGVycDN5ICo9IHdpZHRoO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIChwZXJwM3ggKiByMSksIHAyeSAtIChwZXJwM3kgKiByMSkpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCArIChwZXJwM3ggKiByMiksIHAyeSArIChwZXJwM3kgKiByMikpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIChwZXJwM3ggKiByMiAqIHIxKSwgcDJ5IC0gKHBlcnAzeSAqIHIxKSk7XG5cbiAgICAgICAgICAgIGluZGV4Q291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4ICsgKChweCAtIHAyeCkgKiByMSksIHAyeSArICgocHkgLSBwMnkpICogcjEpKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSAoKHB4IC0gcDJ4KSAqIHIyKSwgcDJ5IC0gKChweSAtIHAyeSkgKiByMikpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcDF4ID0gcG9pbnRzWyhsZW5ndGggLSAyKSAqIDJdO1xuICAgIHAxeSA9IHBvaW50c1soKGxlbmd0aCAtIDIpICogMikgKyAxXTtcblxuICAgIHAyeCA9IHBvaW50c1sobGVuZ3RoIC0gMSkgKiAyXTtcbiAgICBwMnkgPSBwb2ludHNbKChsZW5ndGggLSAxKSAqIDIpICsgMV07XG5cbiAgICBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICB2ZXJ0cy5wdXNoKHAyeCAtIChwZXJweCAqIHIxKSwgcDJ5IC0gKHBlcnB5ICogcjEpKTtcblxuICAgIHZlcnRzLnB1c2gocDJ4ICsgKHBlcnB4ICogcjIpLCBwMnkgKyAocGVycHkgKiByMikpO1xuXG4gICAgY29uc3QgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcblxuICAgIC8vIGluZGljZXMucHVzaChpbmRleFN0YXJ0KTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXhDb3VudCAtIDI7ICsraSlcbiAgICB7XG4gICAgICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0LCBpbmRleFN0YXJ0ICsgMSwgaW5kZXhTdGFydCArIDIpO1xuXG4gICAgICAgIGluZGV4U3RhcnQrKztcbiAgICB9XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTKSBtZXRob2RcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxue1xuICAgIGxldCBpID0gMDtcblxuICAgIGNvbnN0IHNoYXBlID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIGNvbnN0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzO1xuICAgIGNvbnN0IGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICBjb25zdCBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IHN0YXJ0SW5kZXg7XG5cbiAgICB2ZXJ0cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcblxuICAgIGZvciAoaSA9IDE7IGkgPCBsZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2kgKiAyXSwgcG9pbnRzWyhpICogMikgKyAxXSk7XG4gICAgICAgIGluZGljZXMucHVzaChjdXJyZW50SW5kZXgsIGN1cnJlbnRJbmRleCArIDEpO1xuXG4gICAgICAgIGN1cnJlbnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChjbG9zZWRTaGFwZSlcbiAgICB7XG4gICAgICAgIGluZGljZXMucHVzaChjdXJyZW50SW5kZXgsIHN0YXJ0SW5kZXgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGVhcmN1dCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBCdWlsZHMgYSBwb2x5Z29uIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBncmFwaGljc0RhdGEuc2hhcGUucG9pbnRzLnNsaWNlKCk7XG4gICAgfSxcblxuICAgIHRyaWFuZ3VsYXRlKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbiAgICB7XG4gICAgICAgIGxldCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICBjb25zdCBob2xlcyA9IGdyYXBoaWNzRGF0YS5ob2xlcztcbiAgICAgICAgY29uc3QgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+PSA2KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBob2xlQXJyYXkgPSBbXTtcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgaG9sZXMuLlxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhvbGUgPSBob2xlc1tpXTtcblxuICAgICAgICAgICAgICAgIGhvbGVBcnJheS5wdXNoKHBvaW50cy5sZW5ndGggLyAyKTtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc29ydCBjb2xvclxuICAgICAgICAgICAgY29uc3QgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgaG9sZUFycmF5LCAyKTtcblxuICAgICAgICAgICAgaWYgKCF0cmlhbmdsZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpICs9IDMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDFdICsgdmVydFBvcyk7XG4gICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChwb2ludHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbn07XG4iLCJpbXBvcnQgeyBlYXJjdXQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogQnVpbGRzIGEgcm91bmRlZCByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuXG4gICAgYnVpbGQoZ3JhcGhpY3NEYXRhKVxuICAgIHtcbiAgICAgICAgY29uc3QgcnJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICBjb25zdCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICBjb25zdCB4ID0gcnJlY3REYXRhLng7XG4gICAgICAgIGNvbnN0IHkgPSBycmVjdERhdGEueTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBycmVjdERhdGEud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHJyZWN0RGF0YS5oZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgcmFkaXVzID0gcnJlY3REYXRhLnJhZGl1cztcblxuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcblxuICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4LCB5ICsgcmFkaXVzLFxuICAgICAgICAgICAgeCwgeSxcbiAgICAgICAgICAgIHggKyByYWRpdXMsIHksXG4gICAgICAgICAgICBwb2ludHMpO1xuICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGggLSByYWRpdXMsXG4gICAgICAgICAgICB5LCB4ICsgd2lkdGgsIHksXG4gICAgICAgICAgICB4ICsgd2lkdGgsIHkgKyByYWRpdXMsXG4gICAgICAgICAgICBwb2ludHMpO1xuICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMsXG4gICAgICAgICAgICB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICB4ICsgd2lkdGggLSByYWRpdXMsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICBwb2ludHMpO1xuICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgcmFkaXVzLCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgeCwgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHgsIHkgKyBoZWlnaHQgLSByYWRpdXMsXG4gICAgICAgICAgICBwb2ludHMpO1xuXG4gICAgICAgIC8vIHRoaXMgdGlueSBudW1iZXIgZGVhbHMgd2l0aCB0aGUgaXNzdWUgdGhhdCBvY2N1cnMgd2hlbiBwb2ludHMgb3ZlcmxhcCBhbmQgZWFyY3V0IGZhaWxzIHRvIHRyaWFuZ3VsYXRlIHRoZSBpdGVtLlxuICAgICAgICAvLyBUT0RPIC0gZml4IHRoaXMgcHJvcGVybHksIHRoaXMgaXMgbm90IHZlcnkgZWxlZ2FudC4uIGJ1dCBpdCB3b3JrcyBmb3Igbm93LlxuICAgIH0sXG5cbiAgICB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG4gICAge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAgICAgY29uc3QgdmVjUG9zID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgICAgICBjb25zdCB0cmlhbmdsZXMgPSBlYXJjdXQocG9pbnRzLCBudWxsLCAyKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHRyaWFuZ2xlcy5sZW5ndGg7IGkgPCBqOyBpICs9IDMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgLy8gICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgLy8gICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHBvaW50cy5sZW5ndGg7IGkgPCBqOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldLCBwb2ludHNbKytpXSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBDYWxjdWxhdGUgYSBzaW5nbGUgcG9pbnQgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZS5cbiAqIFV0aWxpdHkgZnVuY3Rpb24gdXNlZCBieSBxdWFkcmF0aWNCZXppZXJDdXJ2ZS5cbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbjEgLSBmaXJzdCBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuMiAtIHNlY29uZCBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjIC0gcGVyY2VudGFnZVxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgcmVzdWx0XG4gKlxuICovXG5mdW5jdGlvbiBnZXRQdChuMSwgbjIsIHBlcmMpXG57XG4gICAgY29uc3QgZGlmZiA9IG4yIC0gbjE7XG5cbiAgICByZXR1cm4gbjEgKyAoZGlmZiAqIHBlcmMpO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuIChoZWxwZXIgZnVuY3Rpb24uLilcbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtvdXQ9W11dIC0gVGhlIG91dHB1dCBhcnJheSB0byBhZGQgcG9pbnRzIGludG8uIElmIG5vdCBwYXNzZWQsIGEgbmV3IGFycmF5IGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gYW4gYXJyYXkgb2YgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHF1YWRyYXRpY0JlemllckN1cnZlKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZLCBvdXQgPSBbXSlcbntcbiAgICBjb25zdCBuID0gMjA7XG4gICAgY29uc3QgcG9pbnRzID0gb3V0O1xuXG4gICAgbGV0IHhhID0gMDtcbiAgICBsZXQgeWEgPSAwO1xuICAgIGxldCB4YiA9IDA7XG4gICAgbGV0IHliID0gMDtcbiAgICBsZXQgeCA9IDA7XG4gICAgbGV0IHkgPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDw9IG47ICsraSlcbiAgICB7XG4gICAgICAgIGogPSBpIC8gbjtcblxuICAgICAgICAvLyBUaGUgR3JlZW4gTGluZVxuICAgICAgICB4YSA9IGdldFB0KGZyb21YLCBjcFgsIGopO1xuICAgICAgICB5YSA9IGdldFB0KGZyb21ZLCBjcFksIGopO1xuICAgICAgICB4YiA9IGdldFB0KGNwWCwgdG9YLCBqKTtcbiAgICAgICAgeWIgPSBnZXRQdChjcFksIHRvWSwgaik7XG5cbiAgICAgICAgLy8gVGhlIEJsYWNrIERvdFxuICAgICAgICB4ID0gZ2V0UHQoeGEsIHhiLCBqKTtcbiAgICAgICAgeSA9IGdldFB0KHlhLCB5Yiwgaik7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50cztcbn1cbiIsImltcG9ydCB7IFNIQVBFUywgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgQmF0Y2hHZW9tZXRyeSwgQmF0Y2hEcmF3Q2FsbCwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IERSQVdfTU9ERVMsIFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5pbXBvcnQgR3JhcGhpY3NEYXRhIGZyb20gJy4vR3JhcGhpY3NEYXRhJztcbmltcG9ydCBidWlsZENpcmNsZSBmcm9tICcuL3V0aWxzL2J1aWxkQ2lyY2xlJztcbmltcG9ydCBidWlsZExpbmUgZnJvbSAnLi91dGlscy9idWlsZExpbmUnO1xuaW1wb3J0IGJ1aWxkUG9seSBmcm9tICcuL3V0aWxzL2J1aWxkUG9seSc7XG5pbXBvcnQgYnVpbGRSZWN0YW5nbGUgZnJvbSAnLi91dGlscy9idWlsZFJlY3RhbmdsZSc7XG5pbXBvcnQgYnVpbGRSb3VuZGVkUmVjdGFuZ2xlIGZyb20gJy4vdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlJztcbmltcG9ydCB7IHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuY29uc3QgQkFUQ0hfUE9PTCA9IFtdO1xuY29uc3QgRFJBV19DQUxMX1BPT0wgPSBbXTtcbmNvbnN0IHRtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5cbi8qKlxuICogTWFwIG9mIGZpbGwgY29tbWFuZHMgZm9yIGVhY2ggc2hhcGUgdHlwZS5cbiAqXG4gKiBAbWVtYmVyIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBmaWxsQ29tbWFuZHMgPSB7fTtcblxuZmlsbENvbW1hbmRzW1NIQVBFUy5QT0xZXSA9IGJ1aWxkUG9seTtcbmZpbGxDb21tYW5kc1tTSEFQRVMuQ0lSQ10gPSBidWlsZENpcmNsZTtcbmZpbGxDb21tYW5kc1tTSEFQRVMuRUxJUF0gPSBidWlsZENpcmNsZTtcbmZpbGxDb21tYW5kc1tTSEFQRVMuUkVDVF0gPSBidWlsZFJlY3RhbmdsZTtcbmZpbGxDb21tYW5kc1tTSEFQRVMuUlJFQ10gPSBidWlsZFJvdW5kZWRSZWN0YW5nbGU7XG5cbi8qKlxuICogQSBsaXR0bGUgaW50ZXJuYWwgc3RydWN0dXJlIHRvIGhvbGQgaW50ZXJpbSBiYXRjaCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIEJhdGNoUGFydFxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5hdHRyaWJTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuYXR0cmliU2l6ZSA9IDA7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBHcmFwaGljc0dlb21ldHJ5IGlzIGRlc2lnbmVkIHRvIG5vdCBiZSBjb250aW51YWxseSB1cGRhdGluZyB0aGUgZ2VvbWV0cnkgc2luY2UgaXQncyBleHBlbnNpdmVcbiAqIHRvIHJlLXRlc3NlbGF0ZSB1c2luZyAqKmVhcmN1dCoqLiBDb25zaWRlciB1c2luZyB7QGxpbmsgUElYSS5NZXNofSBmb3IgdGhpcyB1c2UtY2FzZSwgaXQncyBtdWNoIGZhc3Rlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmF0Y2hHZW9tZXRyeVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JhcGhpY3NHZW9tZXRyeSBleHRlbmRzIEJhdGNoR2VvbWV0cnlcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdG8gZHJhdywgMiBudW1iZXJzIHBlciBwb2ludFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgY29sb3JzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbG9ycyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVVZzIGNvbGxlY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgdGV4dHVyZSBJRHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVJZHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgZHJhd24gc2hhcGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0IGhhcyBjaGFuZ2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXRjaGVzIG5lZWQgdG8gcmVnZW5lcmF0ZWQgaWYgdGhlIGdlb21ldHJ5IGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaERpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgdGhlIGNhY2hlIGlzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGVEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSBjbGVhcmVkIHRoZSBncmFwaGljc0RhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsZWFyRGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIGN1cnJlbnQgZHJhdyBjYWxscyBkcml2ZWQgZnJvbSB0aGUgYmF0Y2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybWVkaWF0ZSBhYnN0cmFjdCBmb3JtYXQgc2VudCB0byBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqIENhbiBiZSBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzIG9yIHRvIGJhdGNoYWJsZSBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaGVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGV4IG9mIHRoZSBsYXN0IGJhdGNoZWQgc2hhcGUgaW4gdGhlIHN0YWNrIG9mIGNhbGxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCBib3VuZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgZGlydHkgZmxhZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZGRpbmcgdG8gYWRkIHRvIHRoZSBib3VuZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ib3VuZHNQYWRkaW5nID0gMDtcblxuICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy51dnNGbG9hdDMyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWluaW1hbCBkaXN0YW5jZSBiZXR3ZWVuIHBvaW50cyB0aGF0IGFyZSBjb25zaWRlcmVkIGRpZmZlcmVudC5cbiAgICAgICAgICogQWZmZWN0cyBsaW5lIHRlc3NlbGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsb3NlUG9pbnRFcHMgPSAxZS00O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBib3VuZHMgb2YgdGhlIGdyYXBoaWMgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgYm91bmRzKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJvdW5kc0RpcnR5ICE9PSB0aGlzLmRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgaWYgeW91IGNoYW5nZWQgZ3JhcGhpY3NEYXRhIG1hbnVhbGx5LlxuICAgICAqIEVtcHRpZXMgYWxsIGJhdGNoIGJ1ZmZlcnMuXG4gICAgICovXG4gICAgaW52YWxpZGF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG5cbiAgICAgICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5jb2xvcnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudGV4dHVyZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzW2ldLnRleHR1cmVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBEUkFXX0NBTExfUE9PTC5wdXNoKHRoaXMuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gIHRoaXMuYmF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgYmF0Y2guc3RhcnQgPSAwO1xuICAgICAgICAgICAgYmF0Y2guYXR0cmliU3RhcnQgPSAwO1xuICAgICAgICAgICAgYmF0Y2guc3R5bGUgPSBudWxsO1xuICAgICAgICAgICAgQkFUQ0hfUE9PTC5wdXNoKGJhdGNoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JhcGhpY3MgdGhhdCB3ZXJlIGRyYXduIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LCBhbmQgcmVzZXRzIGZpbGwgYW5kIGxpbmUgc3R5bGUgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFRoaXMgR3JhcGhpY3NHZW9tZXRyeSBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGNsZWFyKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJEaXJ0eSsrO1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZX0gZmlsbFN0eWxlIC0gRGVmaW5lcyBzdHlsZSBvZiB0aGUgZmlsbC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTGluZVN0eWxlfSBsaW5lU3R5bGUgLSBEZWZpbmVzIHN0eWxlIG9mIHRoZSBsaW5lcy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gYXBwbGllZCB0byB0aGUgcG9pbnRzIG9mIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFJldHVybnMgZ2VvbWV0cnkgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGRyYXdTaGFwZShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KTtcblxuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKGRhdGEpO1xuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gYXBwbGllZCB0byB0aGUgcG9pbnRzIG9mIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFJldHVybnMgZ2VvbWV0cnkgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGRyYXdIb2xlKHNoYXBlLCBtYXRyaXgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0gbmV3IEdyYXBoaWNzRGF0YShzaGFwZSwgbnVsbCwgbnVsbCwgbWF0cml4KTtcblxuICAgICAgICBjb25zdCBsYXN0U2hhcGUgPSB0aGlzLmdyYXBoaWNzRGF0YVt0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICBkYXRhLmxpbmVTdHlsZSA9IGxhc3RTaGFwZS5saW5lU3R5bGU7XG5cbiAgICAgICAgbGFzdFNoYXBlLmhvbGVzLnB1c2goZGF0YSk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3kob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG5cbiAgICAgICAgLy8gZGVzdHJveSBlYWNoIG9mIHRoZSBHcmFwaGljc0RhdGEgb2JqZWN0c1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVtpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIGEgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIGdlb21ldHJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIFBvaW50IHRvIGNoZWNrIGlmIGl0J3MgY29udGFpbmVkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBjb250YWluc1BvaW50KHBvaW50KVxuICAgIHtcbiAgICAgICAgY29uc3QgZ3JhcGhpY3NEYXRhID0gdGhpcy5ncmFwaGljc0RhdGE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgIGlmICghZGF0YS5maWxsU3R5bGUudmlzaWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSBkZWFsIHdpdGggZmlsbHMuLlxuICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubWF0cml4KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5tYXRyaXguYXBwbHlJbnZlcnNlKHBvaW50LCB0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRtcFBvaW50LmNvcHlGcm9tKHBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zaGFwZS5jb250YWlucyh0bXBQb2ludC54LCB0bXBQb2ludC55KSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhvbGVzKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9sZSA9IGRhdGEuaG9sZXNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9sZS5zaGFwZS5jb250YWlucyh0bXBQb2ludC54LCB0bXBQb2ludC55KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGludGVybWVkaWF0ZSBiYXRjaCBkYXRhLiBFaXRoZXIgZ2V0cyBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzXG4gICAgICogb3IgdXNlZCB0byBjb252ZXJ0IHRvIGJhdGNoIG9iamVjdHMgZGlyZWN0bHkgYnkgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKi9cbiAgICB1cGRhdGVCYXRjaGVzKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5ID09PSB0aGlzLmNhY2hlRGlydHkpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iYXRjaGFibGUgPSB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kaXJ0eSAhPT0gdGhpcy5jYWNoZURpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGxTdHlsZSAmJiAhZGF0YS5maWxsU3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmVTdHlsZSAmJiAhZGF0YS5saW5lU3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZCkgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWNoZURpcnR5ID0gdGhpcy5kaXJ0eTtcblxuICAgICAgICBjb25zdCB1dnMgPSB0aGlzLnV2cztcblxuICAgICAgICBsZXQgYmF0Y2hQYXJ0ID0gbnVsbDtcbiAgICAgICAgbGV0IGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgbGV0IGN1cnJlbnRDb2xvciA9IDA7XG4gICAgICAgIGxldCBjdXJyZW50TmF0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hlcy5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXRjaFBhcnQgPSB0aGlzLmJhdGNoZXNbdGhpcy5iYXRjaGVzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IGJhdGNoUGFydC5zdHlsZTtcblxuICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBzdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgY3VycmVudENvbG9yID0gc3R5bGUuY29sb3IgKyBzdHlsZS5hbHBoYTtcbiAgICAgICAgICAgIGN1cnJlbnROYXRpdmUgPSAhIXN0eWxlLm5hdGl2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnNoYXBlSW5kZXg7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFwZUluZGV4Kys7XG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBmaWxsQ29tbWFuZHNbZGF0YS50eXBlXTtcblxuICAgICAgICAgICAgY29uc3QgZmlsbFN0eWxlID0gZGF0YS5maWxsU3R5bGU7XG4gICAgICAgICAgICBjb25zdCBsaW5lU3R5bGUgPSBkYXRhLmxpbmVTdHlsZTtcblxuICAgICAgICAgICAgLy8gYnVpbGQgb3V0IHRoZSBzaGFwZXMgcG9pbnRzLi5cbiAgICAgICAgICAgIGNvbW1hbmQuYnVpbGQoZGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybVBvaW50cyhkYXRhLnBvaW50cywgZGF0YS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDI7IGorKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IChqID09PSAwKSA/IGZpbGxTdHlsZSA6IGxpbmVTdHlsZTtcblxuICAgICAgICAgICAgICAgIGlmICghc3R5bGUudmlzaWJsZSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cmliSW5kZXggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgICAgICAgICAgLy8gY2xvc2UgYmF0Y2ggaWYgc3R5bGUgaXMgZGlmZmVyZW50XG4gICAgICAgICAgICAgICAgaWYgKGJhdGNoUGFydFxuICAgICAgICAgICAgICAgICAgICAmJiAoY3VycmVudFRleHR1cmUgIT09IG5leHRUZXh0dXJlXG4gICAgICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDb2xvciAhPT0gKHN0eWxlLmNvbG9yICsgc3R5bGUuYWxwaGEpXG4gICAgICAgICAgICAgICAgICAgIHx8IGN1cnJlbnROYXRpdmUgIT09ICEhc3R5bGUubmF0aXZlKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5zaXplID0gaW5kZXggLSBiYXRjaFBhcnQuc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5hdHRyaWJTaXplID0gYXR0cmliSW5kZXggLSBiYXRjaFBhcnQuYXR0cmliU3RhcnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhdGNoUGFydC5zaXplID4gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzcGF3biBuZXcgYmF0Y2ggaWYgaXRzIGZpcnN0IGJhdGNoIG9yIHByZXZpb3VzIHdhcyBjbG9zZWRcbiAgICAgICAgICAgICAgICBpZiAoIWJhdGNoUGFydClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydCA9IEJBVENIX1BPT0wucG9wKCkgfHwgbmV3IEJhdGNoUGFydCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhdGNoZXMucHVzaChiYXRjaFBhcnQpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29sb3IgPSBzdHlsZS5jb2xvciArIHN0eWxlLmFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TmF0aXZlID0gc3R5bGUubmF0aXZlO1xuXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5zdHlsZSA9IHN0eWxlO1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQuc3RhcnQgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LmF0dHJpYlN0YXJ0ID0gYXR0cmliSW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgICAgICAgICAgaWYgKGogPT09IDApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob2xlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0hvbGVzKGRhdGEuaG9sZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZFBvbHkudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kLnRyaWFuZ3VsYXRlKGRhdGEsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkTGluZShkYXRhLCB0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkTGluZShkYXRhLmhvbGVzW2ldLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSAodGhpcy5wb2ludHMubGVuZ3RoIC8gMikgLSBzdGFydDtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWRkVXZzKHRoaXMucG9pbnRzLCB1dnMsIHN0eWxlLnRleHR1cmUsIHN0YXJ0LCBzaXplLCBzdHlsZS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBhdHRyaWIgPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIGlmICghYmF0Y2hQYXJ0KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGVyZSBhcmUgbm8gdmlzaWJsZSBzdHlsZXMgaW4gR3JhcGhpY3NEYXRhXG4gICAgICAgICAgICAvLyBpdHMgcG9zc2libGUgdGhhdCBzb21lb25lIHdhbnRzIEdyYXBoaWNzIGp1c3QgZm9yIHRoZSBib3VuZHNcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYmF0Y2hQYXJ0LnNpemUgPSBpbmRleCAtIGJhdGNoUGFydC5zdGFydDtcbiAgICAgICAgYmF0Y2hQYXJ0LmF0dHJpYlNpemUgPSBhdHRyaWIgLSBiYXRjaFBhcnQuYXR0cmliU3RhcnQ7XG4gICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG5ldyBVaW50MTZBcnJheSh0aGlzLmluZGljZXMpO1xuXG4gICAgICAgIC8vIFRPRE8gbWFrZSB0aGlzIGEgY29uc3QuLlxuICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRoaXMuaXNCYXRjaGFibGUoKTtcblxuICAgICAgICBpZiAodGhpcy5iYXRjaGFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSsrO1xuXG4gICAgICAgICAgICB0aGlzLnV2c0Zsb2F0MzIgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudXZzKTtcblxuICAgICAgICAgICAgLy8gb2Zmc2V0IHRoZSBpbmRpY2VzIHNvIHRoYXQgaXQgd29ya3Mgd2l0aCB0aGUgYmF0Y2hlci4uLlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJhdGNoLnNpemU7IGorKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gYmF0Y2guc3RhcnQgKyBqO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleF0gPSB0aGlzLmluZGljZXNVaW50MTZbaW5kZXhdIC0gYmF0Y2guYXR0cmliU3RhcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiB0aGlzIGdyYXBoaWNzIGdlb21ldHJ5IGNhbiBiZSBiYXRjaGVkLlxuICAgICAqIEN1cnJlbnRseSBpdCBuZWVkcyB0byBiZSBzbWFsbCBlbm91Z2ggYW5kIG5vdCBjb250YWluIGFueSBuYXRpdmUgbGluZXMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGlzQmF0Y2hhYmxlKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGJhdGNoZXMgPSB0aGlzLmJhdGNoZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hlc1tpXS5zdHlsZS5uYXRpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLnBvaW50cy5sZW5ndGggPCBHcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFICogMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgaW50ZXJtZWRpYXRlIGJhdGNoZXMgZGF0YSB0byBkcmF3Q2FsbHMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGJ1aWxkRHJhd0NhbGxzKClcbiAgICB7XG4gICAgICAgIGxldCBUSUNLID0gKytCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2g7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4dHVyZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcblxuICAgICAgICBjb25zdCB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgY29uc3QgY29sb3JzID0gdGhpcy5jb2xvcnM7XG4gICAgICAgIGNvbnN0IHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG5cbiAgICAgICAgbGV0IGN1cnJlbnRHcm91cCA9ICBEUkFXX0NBTExfUE9PTC5wb3AoKSB8fCBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuXG4gICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG5cbiAgICAgICAgbGV0IHRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIGxldCBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIGxldCB0ZXh0dXJlSWQgPSAwO1xuICAgICAgICBsZXQgbmF0aXZlID0gZmFsc2U7XG4gICAgICAgIGxldCBkcmF3TW9kZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuXG4gICAgICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuXG4gICAgICAgIC8vIFRPRE8gLSB0aGlzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5iYXRjaGVzW2ldO1xuXG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBzb21lIGZ1bGwgb24gTUFYX1RFWFRVUkUgQ09ERS4uXG4gICAgICAgICAgICBjb25zdCBNQVhfVEVYVFVSRVMgPSA4O1xuXG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IGRhdGEuc3R5bGU7XG5cbiAgICAgICAgICAgIGNvbnN0IG5leHRUZXh0dXJlID0gc3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKG5hdGl2ZSAhPT0gISFzdHlsZS5uYXRpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmF0aXZlID0gc3R5bGUubmF0aXZlO1xuICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gbmF0aXZlID8gRFJBV19NT0RFUy5MSU5FUyA6IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdGhlIGJhdGNoIHRvIGJyZWFrIVxuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSBNQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFRleHR1cmUgIT09IG5leHRUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX2JhdGNoRW5hYmxlZCAhPT0gVElDSylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlQ291bnQgPT09IE1BWF9URVhUVVJFUylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgVElDSysrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEdyb3VwLnNpemUgPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IERSQVdfQ0FMTF9QT09MLnBvcCgpIHx8IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnR5cGUgPSBkcmF3TW9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gYWRkIHRoaXMgdG8gdGhlIHJlbmRlciBwYXJ0Li5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUudG91Y2hlZCA9IDE7Ly8gdG91Y2g7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5faWQgPSB0ZXh0dXJlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gMTA0OTc7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVzW2N1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSArPSBkYXRhLnNpemU7XG4gICAgICAgICAgICBpbmRleCArPSBkYXRhLnNpemU7XG5cbiAgICAgICAgICAgIHRleHR1cmVJZCA9IG5leHRUZXh0dXJlLl9pZDtcblxuICAgICAgICAgICAgdGhpcy5hZGRDb2xvcnMoY29sb3JzLCBzdHlsZS5jb2xvciwgc3R5bGUuYWxwaGEsIGRhdGEuYXR0cmliU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmFkZFRleHR1cmVJZHModGV4dHVyZUlkcywgdGV4dHVyZUlkLCBkYXRhLmF0dHJpYlNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcblxuICAgICAgICAvLyB1cGxvYWQuLlxuICAgICAgICAvLyBtZXJnZSBmb3Igbm93IVxuICAgICAgICBjb25zdCB2ZXJ0cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIC8vIHZlcnRzIGFyZSAyIHBvc2l0aW9ucy4uIHNvIHdlICogYnkgMyBhcyB0aGVyZSBhcmUgNiBwcm9wZXJ0aWVzLi4gdGhlbiA0IGNvcyBpdHMgYnl0ZXNcbiAgICAgICAgY29uc3QgZ2xQb2ludHMgPSBuZXcgQXJyYXlCdWZmZXIodmVydHMubGVuZ3RoICogMyAqIDQpO1xuICAgICAgICBjb25zdCBmMzIgPSBuZXcgRmxvYXQzMkFycmF5KGdsUG9pbnRzKTtcbiAgICAgICAgY29uc3QgdTMyID0gbmV3IFVpbnQzMkFycmF5KGdsUG9pbnRzKTtcblxuICAgICAgICBsZXQgcCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0cy5sZW5ndGggLyAyOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGYzMltwKytdID0gdmVydHNbaSAqIDJdO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB2ZXJ0c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIGYzMltwKytdID0gdXZzW2kgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdXZzWyhpICogMikgKyAxXTtcblxuICAgICAgICAgICAgdTMyW3ArK10gPSBjb2xvcnNbaV07XG5cbiAgICAgICAgICAgIGYzMltwKytdID0gdGV4dHVyZUlkc1tpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmZlci51cGRhdGUoZ2xQb2ludHMpO1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlci51cGRhdGUodGhpcy5pbmRpY2VzVWludDE2KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRoZSBob2xlcyBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YVtdfSBob2xlcyAtIEhvbGVzIHRvIHJlbmRlclxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm9jZXNzSG9sZXMoaG9sZXMpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBob2xlID0gaG9sZXNbaV07XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBmaWxsQ29tbWFuZHNbaG9sZS50eXBlXTtcblxuICAgICAgICAgICAgY29tbWFuZC5idWlsZChob2xlKTtcblxuICAgICAgICAgICAgaWYgKGhvbGUubWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGhvbGUucG9pbnRzLCBob2xlLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBFeHBlbnNpdmUgdG8gdXNlIHBlcmZvcm1hbmNlLXdpc2UuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNhbGN1bGF0ZUJvdW5kcygpXG4gICAge1xuICAgICAgICBsZXQgbWluWCA9IEluZmluaXR5O1xuICAgICAgICBsZXQgbWF4WCA9IC1JbmZpbml0eTtcblxuICAgICAgICBsZXQgbWluWSA9IEluZmluaXR5O1xuICAgICAgICBsZXQgbWF4WSA9IC1JbmZpbml0eTtcblxuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc2hhcGUgPSBudWxsO1xuICAgICAgICAgICAgbGV0IHggPSAwO1xuICAgICAgICAgICAgbGV0IHkgPSAwO1xuICAgICAgICAgICAgbGV0IHcgPSAwO1xuICAgICAgICAgICAgbGV0IGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZVdpZHRoID0gZGF0YS5saW5lU3R5bGUgPyBkYXRhLmxpbmVTdHlsZS53aWR0aCA6IDA7XG5cbiAgICAgICAgICAgICAgICBzaGFwZSA9IGRhdGEuc2hhcGU7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gU0hBUEVTLlJFQ1QgfHwgdHlwZSA9PT0gU0hBUEVTLlJSRUMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueCAtIChsaW5lV2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnkgLSAobGluZVdpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIHcgPSBzaGFwZS53aWR0aCArIGxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLmhlaWdodCArIGxpbmVXaWR0aDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkNJUkMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgICAgIHcgPSBzaGFwZS5yYWRpdXMgKyAobGluZVdpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5yYWRpdXMgKyAobGluZVdpZHRoIC8gMik7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggLSB3IDwgbWluWCA/IHggLSB3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSAtIGggPCBtaW5ZID8geSAtIGggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIGggPiBtYXhZID8geSArIGggOiBtYXhZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBTSEFQRVMuRUxJUClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgICAgICB5ID0gc2hhcGUueTtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHNoYXBlLndpZHRoICsgKGxpbmVXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBoID0gc2hhcGUuaGVpZ2h0ICsgKGxpbmVXaWR0aCAvIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSB4IC0gdyA8IG1pblggPyB4IC0gdyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgLSBoIDwgbWluWSA/IHkgLSBoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUE9MWVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludHMgPSBzaGFwZS5wb2ludHM7XG4gICAgICAgICAgICAgICAgICAgIGxldCB4MiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCB5MiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkeSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBydyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCByaCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjeSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogKyAyIDwgcG9pbnRzLmxlbmd0aDsgaiArPSAyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gcG9pbnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHBvaW50c1tqICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB4MiA9IHBvaW50c1tqICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB5MiA9IHBvaW50c1tqICsgM107XG4gICAgICAgICAgICAgICAgICAgICAgICBkeCA9IE1hdGguYWJzKHgyIC0geCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkeSA9IE1hdGguYWJzKHkyIC0geSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gbGluZVdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdyA9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodyA8IDFlLTkpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ3ID0gKChoIC8gdyAqIGR5KSArIGR4KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICByaCA9ICgoaCAvIHcgKiBkeCkgKyBkeSkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ggPSAoeDIgKyB4KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeSA9ICh5MiArIHkpIC8gMjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWluWCA9IGN4IC0gcncgPCBtaW5YID8gY3ggLSBydyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhYID0gY3ggKyBydyA+IG1heFggPyBjeCArIHJ3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWluWSA9IGN5IC0gcmggPCBtaW5ZID8gY3kgLSByaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhZID0gY3kgKyByaCA+IG1heFkgPyBjeSArIHJoIDogbWF4WTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1pblggPSAwO1xuICAgICAgICAgICAgbWF4WCA9IDA7XG4gICAgICAgICAgICBtaW5ZID0gMDtcbiAgICAgICAgICAgIG1heFkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRoaXMuYm91bmRzUGFkZGluZztcblxuICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IG1pblggLSBwYWRkaW5nO1xuICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IG1heFggKyBwYWRkaW5nO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gbWluWSAtIHBhZGRpbmc7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gbWF4WSArIHBhZGRpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIHBvaW50cyB1c2luZyBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gUG9pbnRzIHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1Qb2ludHMocG9pbnRzLCBtYXRyaXgpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGggLyAyOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBwb2ludHNbKGkgKiAyKV07XG4gICAgICAgICAgICBjb25zdCB5ID0gcG9pbnRzWyhpICogMikgKyAxXTtcblxuICAgICAgICAgICAgcG9pbnRzWyhpICogMildID0gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eDtcbiAgICAgICAgICAgIHBvaW50c1soaSAqIDIpICsgMV0gPSAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGNvbG9ycy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcnMgLSBMaXN0IG9mIGNvbG9ycyB0byBhZGQgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSBDb2xvciB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBBbHBoYSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBjb2xvcnMgdG8gYWRkXG4gICAgICovXG4gICAgYWRkQ29sb3JzKGNvbG9ycywgY29sb3IsIGFscGhhLCBzaXplKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyB1c2UgdGhlIHByZW11bHRpcGx5IGJpdHMgSXZhbiBhZGRlZFxuICAgICAgICBjb25zdCByZ2IgPSAoY29sb3IgPj4gMTYpICsgKGNvbG9yICYgMHhmZjAwKSArICgoY29sb3IgJiAweGZmKSA8PCAxNik7XG5cbiAgICAgICAgY29uc3QgcmdiYSA9ICBwcmVtdWx0aXBseVRpbnQocmdiLCBhbHBoYSk7XG5cbiAgICAgICAgd2hpbGUgKHNpemUtLSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbG9ycy5wdXNoKHJnYmEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIHRleHR1cmUgaWQgdGhhdCB0aGUgc2hhZGVyL2ZyYWdtZW50IHdhbnRzIHRvIHVzZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB0ZXh0dXJlSWRzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcbiAgICAgKi9cbiAgICBhZGRUZXh0dXJlSWRzKHRleHR1cmVJZHMsIGlkLCBzaXplKVxuICAgIHtcbiAgICAgICAgd2hpbGUgKHNpemUtLSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVJZHMucHVzaChpZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIFVWcyBmb3IgYSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB2ZXJ0cyAtIFZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdXZzIC0gVVZzXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBSZWZlcmVuY2UgdG8gVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIEluZGV4IGJ1ZmZlciBzdGFydCBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplL2xlbmd0aCBmb3IgaW5kZXggYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXhdIC0gT3B0aW9uYWwgdHJhbnNmb3JtIGZvciBhbGwgcG9pbnRzLlxuICAgICAqL1xuICAgIGFkZFV2cyh2ZXJ0cywgdXZzLCB0ZXh0dXJlLCBzdGFydCwgc2l6ZSwgbWF0cml4KVxuICAgIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgdXZzU3RhcnQgPSB1dnMubGVuZ3RoO1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgc2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHggPSB2ZXJ0c1soc3RhcnQgKyBpbmRleCkgKiAyXTtcbiAgICAgICAgICAgIGxldCB5ID0gdmVydHNbKChzdGFydCArIGluZGV4KSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIGlmIChtYXRyaXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgbnggPSAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4O1xuXG4gICAgICAgICAgICAgICAgeSA9IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHk7XG4gICAgICAgICAgICAgICAgeCA9IG54O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbmRleCsrO1xuXG4gICAgICAgICAgICB1dnMucHVzaCh4IC8gZnJhbWUud2lkdGgsIHkgLyBmcmFtZS5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChmcmFtZS53aWR0aCA8IGJhc2VUZXh0dXJlLndpZHRoXG4gICAgICAgICAgICB8fCBmcmFtZS5oZWlnaHQgPCBiYXNlVGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0VXZzKHV2cywgdGV4dHVyZSwgdXZzU3RhcnQsIHNpemUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW9kaWZ5IHV2cyBhcnJheSBhY2NvcmRpbmcgdG8gcG9zaXRpb24gb2YgdGV4dHVyZSByZWdpb25cbiAgICAgKiBEb2VzIG5vdCB3b3JrIHdpdGggcm90YXRlZCBvciB0cmltbWVkIHRleHR1cmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdXZzIGFycmF5XG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgcmVnaW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IHN0YXJ0aW5nIGluZGV4IGZvciB1dnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBob3cgbWFueSBwb2ludHMgdG8gYWRqdXN0XG4gICAgICovXG4gICAgYWRqdXN0VXZzKHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUpXG4gICAge1xuICAgICAgICBjb25zdCBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIGNvbnN0IGVwcyA9IDFlLTY7XG4gICAgICAgIGNvbnN0IGZpbmlzaCA9IHN0YXJ0ICsgKHNpemUgKiAyKTtcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICBjb25zdCBzY2FsZVggPSBmcmFtZS53aWR0aCAvIGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICBjb25zdCBzY2FsZVkgPSBmcmFtZS5oZWlnaHQgLyBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIGxldCBvZmZzZXRYID0gZnJhbWUueCAvIGZyYW1lLndpZHRoO1xuICAgICAgICBsZXQgb2Zmc2V0WSA9IGZyYW1lLnkgLyBmcmFtZS5oZWlnaHQ7XG4gICAgICAgIGxldCBtaW5YID0gTWF0aC5mbG9vcih1dnNbc3RhcnRdICsgZXBzKTtcbiAgICAgICAgbGV0IG1pblkgPSBNYXRoLmZsb29yKHV2c1tzdGFydCArIDFdICsgZXBzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQgKyAyOyBpIDwgZmluaXNoOyBpICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBNYXRoLmZsb29yKHV2c1tpXSArIGVwcykpO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIE1hdGguZmxvb3IodXZzW2kgKyAxXSArIGVwcykpO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldFggLT0gbWluWDtcbiAgICAgICAgb2Zmc2V0WSAtPSBtaW5ZO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBmaW5pc2g7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgdXZzW2ldID0gKHV2c1tpXSArIG9mZnNldFgpICogc2NhbGVYO1xuICAgICAgICAgICAgdXZzW2kgKyAxXSA9ICh1dnNbaSArIDFdICsgb2Zmc2V0WSkgKiBzY2FsZVk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHBvaW50cyB0byBjb25zaWRlciBhbiBvYmplY3QgXCJiYXRjaGFibGVcIixcbiAqIGFibGUgdG8gYmUgYmF0Y2hlZCBieSB0aGUgcmVuZGVyZXIncyBiYXRjaCBzeXN0ZW0uXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3NHZW9tZXRyeVxuICogQHN0YXRpY1xuICogQG1lbWJlciB7bnVtYmVyfSBCQVRDSEFCTEVfU0laRVxuICogQGRlZmF1bHQgMTAwXG4gKi9cbkdyYXBoaWNzR2VvbWV0cnkuQkFUQ0hBQkxFX1NJWkUgPSAxMDA7XG4iLCIvKipcbiAqIEJ1aWxkcyBhIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICBidWlsZChncmFwaGljc0RhdGEpXG4gICAge1xuICAgICAgICAvLyAtLS0gLy9cbiAgICAgICAgLy8gbmVlZCB0byBjb252ZXJ0IHBvaW50cyB0byBhIG5pY2UgcmVndWxhciBkYXRhXG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IHJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICBjb25zdCB4ID0gcmVjdERhdGEueDtcbiAgICAgICAgY29uc3QgeSA9IHJlY3REYXRhLnk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gcmVjdERhdGEud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHJlY3REYXRhLmhlaWdodDtcblxuICAgICAgICBjb25zdCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKHgsIHksXG4gICAgICAgICAgICB4ICsgd2lkdGgsIHksXG4gICAgICAgICAgICB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICB4LCB5ICsgaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgY29uc3QgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcblxuICAgICAgICBjb25zdCB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdLFxuICAgICAgICAgICAgcG9pbnRzWzJdLCBwb2ludHNbM10sXG4gICAgICAgICAgICBwb2ludHNbNl0sIHBvaW50c1s3XSxcbiAgICAgICAgICAgIHBvaW50c1s0XSwgcG9pbnRzWzVdKTtcblxuICAgICAgICBncmFwaGljc0dlb21ldHJ5LmluZGljZXMucHVzaCh2ZXJ0UG9zLCB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsXG4gICAgICAgICAgICB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsIHZlcnRQb3MgKyAzKTtcbiAgICB9LFxufTtcbiIsImltcG9ydCBGaWxsU3R5bGUgZnJvbSAnLi9GaWxsU3R5bGUnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGxpbmUgc3R5bGUgZm9yIEdyYXBoaWNzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWxsU3R5bGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGluZVN0eWxlIGV4dGVuZHMgRmlsbFN0eWxlXG57XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTGluZVN0eWxlfVxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIGNvbnN0IG9iaiA9IG5ldyBMaW5lU3R5bGUoKTtcblxuICAgICAgICBvYmouY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICBvYmouYWxwaGEgPSB0aGlzLmFscGhhO1xuICAgICAgICBvYmoudGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICAgICAgb2JqLm1hdHJpeCA9IHRoaXMubWF0cml4O1xuICAgICAgICBvYmoudmlzaWJsZSA9IHRoaXMudmlzaWJsZTtcbiAgICAgICAgb2JqLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgb2JqLmFsaWdubWVudCA9IHRoaXMuYWxpZ25tZW50O1xuICAgICAgICBvYmoubmF0aXZlID0gdGhpcy5uYXRpdmU7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGxpbmUgc3R5bGUgdG8gZGVmYXVsdC5cbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgICAgIC8vIE92ZXJyaWRlIGRlZmF1bHQgbGluZSBzdHlsZSBjb2xvclxuICAgICAgICB0aGlzLmNvbG9yID0gMHgwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKHRoaWNrbmVzcykgb2YgYW55IGxpbmVzIGRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIGFueSBsaW5lcyBkcmF3biAoMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyLCAwID0gaW5uZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxpZ25tZW50ID0gMC41O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHUkFQSElDU19DVVJWRVMgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBiZXppZXIgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJlemllclV0aWxzXG57XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGxlbmd0aCBvZiBiZXppZXIgY3VydmUuXG4gICAgICogQW5hbHl0aWNhbCBzb2x1dGlvbiBpcyBpbXBvc3NpYmxlLCBzaW5jZSBpdCBpbnZvbHZlcyBhbiBpbnRlZ3JhbCB0aGF0IGRvZXMgbm90IGludGVncmF0ZSBpbiBnZW5lcmFsLlxuICAgICAqIFRoZXJlZm9yZSBudW1lcmljYWwgc29sdXRpb24gaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gU3RhcnRpbmcgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIFN0YXJ0aW5nIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IExlbmd0aCBvZiBiZXppZXIgY3VydmVcbiAgICAgKi9cbiAgICBzdGF0aWMgY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpXG4gICAge1xuICAgICAgICBjb25zdCBuID0gMTA7XG4gICAgICAgIGxldCByZXN1bHQgPSAwLjA7XG4gICAgICAgIGxldCB0ID0gMC4wO1xuICAgICAgICBsZXQgdDIgPSAwLjA7XG4gICAgICAgIGxldCB0MyA9IDAuMDtcbiAgICAgICAgbGV0IG50ID0gMC4wO1xuICAgICAgICBsZXQgbnQyID0gMC4wO1xuICAgICAgICBsZXQgbnQzID0gMC4wO1xuICAgICAgICBsZXQgeCA9IDAuMDtcbiAgICAgICAgbGV0IHkgPSAwLjA7XG4gICAgICAgIGxldCBkeCA9IDAuMDtcbiAgICAgICAgbGV0IGR5ID0gMC4wO1xuICAgICAgICBsZXQgcHJldlggPSBmcm9tWDtcbiAgICAgICAgbGV0IHByZXZZID0gZnJvbVk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gbjsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ID0gaSAvIG47XG4gICAgICAgICAgICB0MiA9IHQgKiB0O1xuICAgICAgICAgICAgdDMgPSB0MiAqIHQ7XG4gICAgICAgICAgICBudCA9ICgxLjAgLSB0KTtcbiAgICAgICAgICAgIG50MiA9IG50ICogbnQ7XG4gICAgICAgICAgICBudDMgPSBudDIgKiBudDtcblxuICAgICAgICAgICAgeCA9IChudDMgKiBmcm9tWCkgKyAoMy4wICogbnQyICogdCAqIGNwWCkgKyAoMy4wICogbnQgKiB0MiAqIGNwWDIpICsgKHQzICogdG9YKTtcbiAgICAgICAgICAgIHkgPSAobnQzICogZnJvbVkpICsgKDMuMCAqIG50MiAqIHQgKiBjcFkpICsgKDMgKiBudCAqIHQyICogY3BZMikgKyAodDMgKiB0b1kpO1xuICAgICAgICAgICAgZHggPSBwcmV2WCAtIHg7XG4gICAgICAgICAgICBkeSA9IHByZXZZIC0geTtcbiAgICAgICAgICAgIHByZXZYID0geDtcbiAgICAgICAgICAgIHByZXZZID0geTtcblxuICAgICAgICAgICAgcmVzdWx0ICs9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICpcbiAgICAgKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAgICAgKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQYXRoIGFycmF5IHRvIHB1c2ggcG9pbnRzIGludG9cbiAgICAgKi9cbiAgICBzdGF0aWMgY3VydmVUbyhjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIHBvaW50cylcbiAgICB7XG4gICAgICAgIGNvbnN0IGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgY29uc3QgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggLT0gMjtcblxuICAgICAgICBjb25zdCBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFxuICAgICAgICAgICAgQmV6aWVyVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpXG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IGR0ID0gMDtcbiAgICAgICAgbGV0IGR0MiA9IDA7XG4gICAgICAgIGxldCBkdDMgPSAwO1xuICAgICAgICBsZXQgdDIgPSAwO1xuICAgICAgICBsZXQgdDMgPSAwO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKGZyb21YLCBmcm9tWSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDEsIGogPSAwOyBpIDw9IG47ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgICAgICBkdCA9ICgxIC0gaik7XG4gICAgICAgICAgICBkdDIgPSBkdCAqIGR0O1xuICAgICAgICAgICAgZHQzID0gZHQyICogZHQ7XG5cbiAgICAgICAgICAgIHQyID0gaiAqIGo7XG4gICAgICAgICAgICB0MyA9IHQyICogajtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgKGR0MyAqIGZyb21YKSArICgzICogZHQyICogaiAqIGNwWCkgKyAoMyAqIGR0ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCksXG4gICAgICAgICAgICAgICAgKGR0MyAqIGZyb21ZKSArICgzICogZHQyICogaiAqIGNwWSkgKyAoMyAqIGR0ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHUkFQSElDU19DVVJWRVMgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBxdWFkcmF0aWMgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1YWRyYXRpY1V0aWxzXG57XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGxlbmd0aCBvZiBxdWFkcmF0aWMgY3VydmVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vd3d3Lm1hbGN6YWsubGludXhwbC5jb20vYmxvZy9xdWFkcmF0aWMtYmV6aWVyLWN1cnZlLWxlbmd0aC99XG4gICAgICogZm9yIHRoZSBkZXRhaWxlZCBleHBsYW5hdGlvbiBvZiBtYXRoIGJlaGluZCB0aGlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgc3RhcnQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgc3RhcnQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIGVuZCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgZW5kIHBvaW50XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBMZW5ndGggb2YgcXVhZHJhdGljIGN1cnZlXG4gICAgICovXG4gICAgc3RhdGljIGN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXggPSBmcm9tWCAtICgyLjAgKiBjcFgpICsgdG9YO1xuICAgICAgICBjb25zdCBheSA9IGZyb21ZIC0gKDIuMCAqIGNwWSkgKyB0b1k7XG4gICAgICAgIGNvbnN0IGJ4ID0gKDIuMCAqIGNwWCkgLSAoMi4wICogZnJvbVgpO1xuICAgICAgICBjb25zdCBieSA9ICgyLjAgKiBjcFkpIC0gKDIuMCAqIGZyb21ZKTtcbiAgICAgICAgY29uc3QgYSA9IDQuMCAqICgoYXggKiBheCkgKyAoYXkgKiBheSkpO1xuICAgICAgICBjb25zdCBiID0gNC4wICogKChheCAqIGJ4KSArIChheSAqIGJ5KSk7XG4gICAgICAgIGNvbnN0IGMgPSAoYnggKiBieCkgKyAoYnkgKiBieSk7XG5cbiAgICAgICAgY29uc3QgcyA9IDIuMCAqIE1hdGguc3FydChhICsgYiArIGMpO1xuICAgICAgICBjb25zdCBhMiA9IE1hdGguc3FydChhKTtcbiAgICAgICAgY29uc3QgYTMyID0gMi4wICogYSAqIGEyO1xuICAgICAgICBjb25zdCBjMiA9IDIuMCAqIE1hdGguc3FydChjKTtcbiAgICAgICAgY29uc3QgYmEgPSBiIC8gYTI7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChhMzIgKiBzKVxuICAgICAgICAgICAgICAgICsgKGEyICogYiAqIChzIC0gYzIpKVxuICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAoKDQuMCAqIGMgKiBhKSAtIChiICogYikpXG4gICAgICAgICAgICAgICAgICAgKiBNYXRoLmxvZygoKDIuMCAqIGEyKSArIGJhICsgcykgLyAoYmEgKyBjMikpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICApIC8gKDQuMCAqIGEzMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byBhZGQgc2VnbWVudHMgdG8uXG4gICAgICovXG4gICAgc3RhdGljIGN1cnZlVG8oY3BYLCBjcFksIHRvWCwgdG9ZLCBwb2ludHMpXG4gICAge1xuICAgICAgICBjb25zdCBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIGNvbnN0IGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBjb25zdCBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFxuICAgICAgICAgICAgUXVhZHJhdGljVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpXG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IHhhID0gMDtcbiAgICAgICAgbGV0IHlhID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBuOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGogPSBpIC8gbjtcblxuICAgICAgICAgICAgeGEgPSBmcm9tWCArICgoY3BYIC0gZnJvbVgpICogaik7XG4gICAgICAgICAgICB5YSA9IGZyb21ZICsgKChjcFkgLSBmcm9tWSkgKiBqKTtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goeGEgKyAoKChjcFggKyAoKHRvWCAtIGNwWCkgKiBqKSkgLSB4YSkgKiBqKSxcbiAgICAgICAgICAgICAgICB5YSArICgoKGNwWSArICgodG9ZIC0gY3BZKSAqIGopKSAtIHlhKSAqIGopKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEdSQVBISUNTX0NVUlZFUyB9IGZyb20gJy4uL2NvbnN0JztcbmltcG9ydCB7IFBJXzIgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIGFyYyBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXJjVXRpbHNcbntcbiAgICAvKipcbiAgICAgKiBUaGUgYXJjVG8oKSBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgYmV0d2VlbiB0d28gdGFuZ2VudHMgb24gdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIFwiYm9ycm93ZWRcIiBmcm9tIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvZnhjYW52YXMvIC0gdGhhbmtzIGdvb2dsZSFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MiAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkyIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYXJjXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBJZiB0aGUgYXJjIGxlbmd0aCBpcyB2YWxpZCwgcmV0dXJuIGNlbnRlciBvZiBjaXJjbGUsIHJhZGl1cyBhbmQgb3RoZXIgaW5mbyBvdGhlcndpc2UgYG51bGxgLlxuICAgICAqL1xuICAgIHN0YXRpYyBjdXJ2ZVRvKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMsIHBvaW50cylcbiAgICB7XG4gICAgICAgIGNvbnN0IGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgY29uc3QgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGNvbnN0IGExID0gZnJvbVkgLSB5MTtcbiAgICAgICAgY29uc3QgYjEgPSBmcm9tWCAtIHgxO1xuICAgICAgICBjb25zdCBhMiA9IHkyIC0geTE7XG4gICAgICAgIGNvbnN0IGIyID0geDIgLSB4MTtcbiAgICAgICAgY29uc3QgbW0gPSBNYXRoLmFicygoYTEgKiBiMikgLSAoYjEgKiBhMikpO1xuXG4gICAgICAgIGlmIChtbSA8IDEuMGUtOCB8fCByYWRpdXMgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICE9PSB4MSB8fCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdICE9PSB5MSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaCh4MSwgeTEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRkID0gKGExICogYTEpICsgKGIxICogYjEpO1xuICAgICAgICBjb25zdCBjYyA9IChhMiAqIGEyKSArIChiMiAqIGIyKTtcbiAgICAgICAgY29uc3QgdHQgPSAoYTEgKiBhMikgKyAoYjEgKiBiMik7XG4gICAgICAgIGNvbnN0IGsxID0gcmFkaXVzICogTWF0aC5zcXJ0KGRkKSAvIG1tO1xuICAgICAgICBjb25zdCBrMiA9IHJhZGl1cyAqIE1hdGguc3FydChjYykgLyBtbTtcbiAgICAgICAgY29uc3QgajEgPSBrMSAqIHR0IC8gZGQ7XG4gICAgICAgIGNvbnN0IGoyID0gazIgKiB0dCAvIGNjO1xuICAgICAgICBjb25zdCBjeCA9IChrMSAqIGIyKSArIChrMiAqIGIxKTtcbiAgICAgICAgY29uc3QgY3kgPSAoazEgKiBhMikgKyAoazIgKiBhMSk7XG4gICAgICAgIGNvbnN0IHB4ID0gYjEgKiAoazIgKyBqMSk7XG4gICAgICAgIGNvbnN0IHB5ID0gYTEgKiAoazIgKyBqMSk7XG4gICAgICAgIGNvbnN0IHF4ID0gYjIgKiAoazEgKyBqMik7XG4gICAgICAgIGNvbnN0IHF5ID0gYTIgKiAoazEgKyBqMik7XG4gICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKHB5IC0gY3ksIHB4IC0gY3gpO1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IE1hdGguYXRhbjIocXkgLSBjeSwgcXggLSBjeCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGN4OiAoY3ggKyB4MSksXG4gICAgICAgICAgICBjeTogKGN5ICsgeTEpLFxuICAgICAgICAgICAgcmFkaXVzLFxuICAgICAgICAgICAgc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlLFxuICAgICAgICAgICAgYW50aWNsb2Nrd2lzZTogKGIxICogYTIgPiBiMiAqIGExKSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFggLSBTdGFydCB4IGxvY2F0aW9uIG9mIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFkgLSBTdGFydCB5IGxvY2F0aW9uIG9mIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICAgICAqICBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBbmdsZSAtIFRoZSBlbmRpbmcgYW5nbGUsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFudGljbG9ja3dpc2UgLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gLSBOdW1iZXIgb2Ygc2VnbWVudHNcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBDb2xsZWN0aW9uIG9mIHBvaW50cyB0byBhZGQgdG9cbiAgICAgKi9cbiAgICBzdGF0aWMgYXJjKHN0YXJ0WCwgc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UsIHBvaW50cylcbiAgICB7XG4gICAgICAgIGNvbnN0IHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICBjb25zdCBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFxuICAgICAgICAgICAgTWF0aC5hYnMoc3dlZXApICogcmFkaXVzLFxuICAgICAgICAgICAgTWF0aC5jZWlsKE1hdGguYWJzKHN3ZWVwKSAvIFBJXzIpICogNDBcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCB0aGV0YSA9IChzd2VlcCkgLyAobiAqIDIpO1xuICAgICAgICBjb25zdCB0aGV0YTIgPSB0aGV0YSAqIDI7XG4gICAgICAgIGNvbnN0IGNUaGV0YSA9IE1hdGguY29zKHRoZXRhKTtcbiAgICAgICAgY29uc3Qgc1RoZXRhID0gTWF0aC5zaW4odGhldGEpO1xuICAgICAgICBjb25zdCBzZWdNaW51cyA9IG4gLSAxO1xuICAgICAgICBjb25zdCByZW1haW5kZXIgPSAoc2VnTWludXMgJSAxKSAvIHNlZ01pbnVzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHNlZ01pbnVzOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWwgPSBpICsgKHJlbWFpbmRlciAqIGkpO1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSAoKHRoZXRhKSArIHN0YXJ0QW5nbGUgKyAodGhldGEyICogcmVhbCkpO1xuICAgICAgICAgICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSAtTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgICAgICAoKChjVGhldGEgKiBjKSArIChzVGhldGEgKiBzKSkgKiByYWRpdXMpICsgY3gsXG4gICAgICAgICAgICAgICAgKCgoY1RoZXRhICogLXMpICsgKHNUaGV0YSAqIGMpKSAqIHJhZGl1cykgKyBjeVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFBvbHlnb24sIFBJXzIgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBEcmF3IGEgc3RhciBzaGFwZSB3aXRoIGFuIGFyYml0cmFyeSBudW1iZXIgb2YgcG9pbnRzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Qb2x5Z29uXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBDZW50ZXIgWCBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBDZW50ZXIgWSBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICogQHBhcmFtIHtudW1iZXJ9IHBvaW50cyAtIFRoZSBudW1iZXIgb2YgcG9pbnRzIG9mIHRoZSBzdGFyLCBtdXN0IGJlID4gMVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaW5uZXJSYWRpdXNdIC0gVGhlIGlubmVyIHJhZGl1cyBiZXR3ZWVuIHBvaW50cywgZGVmYXVsdCBoYWxmIGByYWRpdXNgXG4gKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBzdGFyIGluIHJhZGlhbnMsIHdoZXJlIDAgaXMgdmVydGljYWxcbiAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhciBleHRlbmRzIFBvbHlnb25cbntcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBwb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMsIHJvdGF0aW9uKVxuICAgIHtcbiAgICAgICAgaW5uZXJSYWRpdXMgPSBpbm5lclJhZGl1cyB8fCByYWRpdXMgLyAyO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSAoLTEgKiBNYXRoLlBJIC8gMikgKyByb3RhdGlvbjtcbiAgICAgICAgY29uc3QgbGVuID0gcG9pbnRzICogMjtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBQSV8yIC8gbGVuO1xuICAgICAgICBjb25zdCBwb2x5Z29uID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgciA9IGkgJSAyID8gaW5uZXJSYWRpdXMgOiByYWRpdXM7XG4gICAgICAgICAgICBjb25zdCBhbmdsZSA9IChpICogZGVsdGEpICsgc3RhcnRBbmdsZTtcblxuICAgICAgICAgICAgcG9seWdvbi5wdXNoKFxuICAgICAgICAgICAgICAgIHggKyAociAqIE1hdGguY29zKGFuZ2xlKSksXG4gICAgICAgICAgICAgICAgeSArIChyICogTWF0aC5zaW4oYW5nbGUpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKHBvbHlnb24pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgQ2lyY2xlLFxuICAgIEVsbGlwc2UsXG4gICAgUElfMixcbiAgICBQb2ludCxcbiAgICBQb2x5Z29uLFxuICAgIFJlY3RhbmdsZSxcbiAgICBSb3VuZGVkUmVjdGFuZ2xlLFxuICAgIE1hdHJpeCxcbn0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBoZXgycmdiIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBUZXh0dXJlLFxuICAgIFNoYWRlcixcbiAgICBVbmlmb3JtR3JvdXAsIFN0YXRlLFxufSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCBGaWxsU3R5bGUgZnJvbSAnLi9zdHlsZXMvRmlsbFN0eWxlJztcbmltcG9ydCBHcmFwaGljc0dlb21ldHJ5IGZyb20gJy4vR3JhcGhpY3NHZW9tZXRyeSc7XG5pbXBvcnQgTGluZVN0eWxlIGZyb20gJy4vc3R5bGVzL0xpbmVTdHlsZSc7XG5pbXBvcnQgQmV6aWVyVXRpbHMgZnJvbSAnLi91dGlscy9CZXppZXJVdGlscyc7XG5pbXBvcnQgUXVhZHJhdGljVXRpbHMgZnJvbSAnLi91dGlscy9RdWFkcmF0aWNVdGlscyc7XG5pbXBvcnQgQXJjVXRpbHMgZnJvbSAnLi91dGlscy9BcmNVdGlscyc7XG5pbXBvcnQgU3RhciBmcm9tICcuL3V0aWxzL1N0YXInO1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbmNvbnN0IHRlbXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuXG4vLyBhIGRlZmF1bHQgc2hhZGVyIHVzZWQgYnkgZ3JhcGhpY3MuLlxubGV0IGRlZmF1bHRTaGFkZXIgPSBudWxsO1xuXG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBOb3RlIHRoYXQgYmVjYXVzZSBHcmFwaGljcyBjYW4gc2hhcmUgYSBHcmFwaGljc0dlb21ldHJ5IHdpdGggb3RoZXIgaW5zdGFuY2VzLFxuICogaXQgaXMgbmVjZXNzYXJ5IHRvIGNhbGwgYGRlc3Ryb3koKWAgdG8gcHJvcGVybHkgZGVyZWZlcmVuY2UgdGhlIHVuZGVybHlpbmdcbiAqIEdyYXBoaWNzR2VvbWV0cnkgYW5kIGF2b2lkIGEgbWVtb3J5IGxlYWsuIEFsdGVybmF0aXZlbHksIGtlZXAgdXNpbmcgdGhlIHNhbWVcbiAqIEdyYXBoaWNzIGluc3RhbmNlIGFuZCBjYWxsIGBjbGVhcigpYCBiZXR3ZWVuIHJlZHJhd3MuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JhcGhpY3MgZXh0ZW5kcyBDb250YWluZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gW2dlb21ldHJ5PW51bGxdIC0gR2VvbWV0cnkgdG8gdXNlLCBpZiBvbWl0dGVkXG4gICAgICogICAgICAgIHdpbGwgY3JlYXRlIGEgbmV3IEdyYXBoaWNzR2VvbWV0cnkgaW5zdGFuY2UuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ2VvbWV0cnkgPSBudWxsKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluY2x1ZGVzIHZlcnRleCBwb3NpdGlvbnMsIGZhY2UgaW5kaWNlcywgbm9ybWFscywgY29sb3JzLCBVVnMsIGFuZFxuICAgICAgICAgKiBjdXN0b20gYXR0cmlidXRlcyB3aXRoaW4gYnVmZmVycywgcmVkdWNpbmcgdGhlIGNvc3Qgb2YgcGFzc2luZyBhbGxcbiAgICAgICAgICogdGhpcyBkYXRhIHRvIHRoZSBHUFUuIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9yIEdyYXBoaWNzIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gZ2VvbWV0cnkgfHwgbmV3IEdyYXBoaWNzR2VvbWV0cnkoKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LnJlZkNvdW50Kys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycyB0aGF0IHByb2Nlc3NlcyB0aGUgZ2VvbWV0cnkgYW5kIHJ1bnMgb24gdGhlIEdQVS5cbiAgICAgICAgICogQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIEdyYXBoaWNzIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSBXZWJHTCBzdGF0ZSB0aGUgR3JhcGhpY3MgcmVxdWlyZWQgdG8gcmVuZGVyLCBleGNsdWRlcyBzaGFkZXIgYW5kIGdlb21ldHJ5LiBFLmcuLFxuICAgICAgICAgKiBibGVuZCBtb2RlLCBjdWxsaW5nLCBkZXB0aCB0ZXN0aW5nLCBkaXJlY3Rpb24gb2YgcmVuZGVyaW5nIHRyaWFuZ2xlcywgYmFja2ZhY2UsIGV0Yy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGZpbGwgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZSA9IG5ldyBGaWxsU3R5bGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBsaW5lIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUgPSBuZXcgTGluZVN0eWxlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgc2hhcGUgdHJhbnNmb3JtIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaG9sZSBtb2RlIGlzIGVuYWJsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgcGF0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvbHlnb259XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGNhY2hlQXNCaXRtYXAgaXMgc2V0IHRvIHRydWUgdGhlIGdyYXBoaWNzIG9iamVjdCB3aWxsIGJlIHJlbmRlcmVkIGFzIGlmIGl0IHdhcyBhIHNwcml0ZS5cbiAgICAgICAgICogVGhpcyBpcyB1c2VmdWwgaWYgeW91ciBncmFwaGljcyBlbGVtZW50IGRvZXMgbm90IGNoYW5nZSBvZnRlbiwgYXMgaXQgd2lsbCBzcGVlZCB1cCB0aGUgcmVuZGVyaW5nXG4gICAgICAgICAqIG9mIHRoZSBvYmplY3QgaW4gZXhjaGFuZ2UgZm9yIHRha2luZyB1cCB0ZXh0dXJlIG1lbW9yeS4gSXQgaXMgYWxzbyB1c2VmdWwgaWYgeW91IG5lZWQgdGhlIGdyYXBoaWNzXG4gICAgICAgICAqIG9iamVjdCB0byBiZSBhbnRpLWFsaWFzZWQsIGJlY2F1c2UgaXQgd2lsbCBiZSByZW5kZXJlZCB1c2luZyBjYW52YXMuIFRoaXMgaXMgbm90IHJlY29tbWVuZGVkIGlmXG4gICAgICAgICAqIHlvdSBhcmUgY29uc3RhbnRseSByZWRyYXdpbmcgdGhlIGdyYXBoaWNzIGVsZW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIGNhY2hlQXNCaXRtYXBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3MjXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbGxlY3Rpb25zIG9mIGJhdGNoZXMhIFRoZXNlIGNhbiBiZSBkcmF3biBieSB0aGUgcmVuZGVyZXIgYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaGVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBkaXJ0eSBmb3IgbGltaXRpbmcgY2FsY3VsYXRpbmcgdGludHMgZm9yIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaFRpbnQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29weSBvZiB0aGUgb2JqZWN0IHZlcnRleCBkYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlcmVyIHBsdWdpbiBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnYmF0Y2gnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsdWdpbk5hbWUgPSAnYmF0Y2gnO1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0XG4gICAgICAgIHRoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLCBub3QgaXRzIHRyYW5zZm9ybSAocG9zaXRpb24sc2NhbGUsZXRjKVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gQSBjbG9uZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBHcmFwaGljcyh0aGlzLmdlb21ldHJ5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgKi9cbiAgICBzZXQgYmxlbmRNb2RlKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgYmxlbmRNb2RlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mXG4gICAgICogMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG4gICAgZ2V0IHRpbnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgfVxuICAgIHNldCB0aW50KHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGZpbGwgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgZmlsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbFN0eWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGxpbmUgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgbGluZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZVN0eWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgbGluZSBzdHlsZSB1c2VkIGZvciBzdWJzZXF1ZW50IGNhbGxzIHRvIEdyYXBoaWNzIG1ldGhvZHMgc3VjaCBhcyB0aGUgbGluZVRvKClcbiAgICAgKiBtZXRob2Qgb3IgdGhlIGRyYXdDaXJjbGUoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FsaWdubWVudD0wLjVdIC0gYWxpZ25tZW50IG9mIHRoZSBsaW5lIHRvIGRyYXcsICgwID0gaW5uZXIsIDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlcilcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgbGluZVN0eWxlKHdpZHRoID0gMCwgY29sb3IgPSAwLCBhbHBoYSA9IDEsIGFsaWdubWVudCA9IDAuNSwgbmF0aXZlID0gZmFsc2UpXG4gICAge1xuICAgICAgICB0aGlzLmxpbmVUZXh0dXJlU3R5bGUod2lkdGgsIFRleHR1cmUuV0hJVEUsIGNvbG9yLCBhbHBoYSwgbnVsbCwgYWxpZ25tZW50LCBuYXRpdmUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpa2UgbGluZSBzdHlsZSBidXQgc3VwcG9ydCB0ZXh0dXJlIGZvciBsaW5lIGZpbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW21hdHJpeD1udWxsXSBUZXh0dXJlIG1hdHJpeCB0byB0cmFuc2Zvcm0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxpZ25tZW50PTAuNV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW25hdGl2ZT1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBsaW5lVGV4dHVyZVN0eWxlKHdpZHRoID0gMCwgdGV4dHVyZSA9IFRleHR1cmUuV0hJVEUsIGNvbG9yID0gMHhGRkZGRkYsIGFscGhhID0gMSxcbiAgICAgICAgbWF0cml4ID0gbnVsbCwgYWxpZ25tZW50ID0gMC41LCBuYXRpdmUgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmlzaWJsZSA9IHdpZHRoID4gMCAmJiBhbHBoYSA+IDA7XG5cbiAgICAgICAgaWYgKCF2aXNpYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9saW5lU3R5bGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChtYXRyaXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWF0cml4ID0gbWF0cml4LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgbWF0cml4LmludmVydCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2xpbmVTdHlsZSwge1xuICAgICAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgIGFscGhhLFxuICAgICAgICAgICAgICAgIG1hdHJpeCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLFxuICAgICAgICAgICAgICAgIGFsaWdubWVudCxcbiAgICAgICAgICAgICAgICBuYXRpdmUsXG4gICAgICAgICAgICAgICAgdmlzaWJsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnQgYSBwb2x5Z29uIG9iamVjdCBpbnRlcm5hbGx5XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHN0YXJ0UG9seSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgICAgICBjb25zdCBsZW4gPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChsZW4gPiAyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBuZXcgUG9seWdvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5wdXNoKHBvaW50c1tsZW4gLSAyXSwgcG9pbnRzW2xlbiAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBuZXcgUG9seWdvbigpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBwb2x5Z29uIG9iamVjdC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZmluaXNoUG9seSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aCA+IDIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUodGhpcy5jdXJyZW50UGF0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8geCwgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgbW92ZVRvKHgsIHkpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50c1swXSA9IHg7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzWzFdID0geTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGxpbmUgdXNpbmcgdGhlIGN1cnJlbnQgbGluZSBzdHlsZSBmcm9tIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8gKHgsIHkpO1xuICAgICAqIFRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gaXMgdGhlbiBzZXQgdG8gKHgsIHkpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBsaW5lVG8oeCwgeSlcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgZHVwbGljYXRlcy4uXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICBjb25zdCBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIGNvbnN0IGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoZnJvbVggIT09IHggfHwgZnJvbVkgIT09IHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHgsIHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgY3VydmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF1cbiAgICAgKi9cbiAgICBfaW5pdEN1cnZlKHggPSAwLCB5ID0gMClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzID0gW3gsIHldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBxdWFkcmF0aWNDdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFF1YWRyYXRpY1V0aWxzLmN1cnZlVG8oY3BYLCBjcFksIHRvWCwgdG9ZLCBwb2ludHMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBiZXppZXJDdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuXG4gICAgICAgIEJlemllclV0aWxzLmN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFyY1RvKCkgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlIGJldHdlZW4gdHdvIHRhbmdlbnRzIG9uIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBcImJvcnJvd2VkXCIgZnJvbSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Z4Y2FudmFzLyAtIHRoYW5rcyBnb29nbGUhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBmaXJzdCB0YW5nZW50IHBvaW50IG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBmaXJzdCB0YW5nZW50IHBvaW50IG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGFyY1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBhcmNUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKVxuICAgIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKHgxLCB5MSk7XG5cbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gQXJjVXRpbHMuY3VydmVUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpO1xuXG4gICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlIH0gPSByZXN1bHQ7XG5cbiAgICAgICAgICAgIHRoaXMuYXJjKGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW50aWNsb2Nrd2lzZT1mYWxzZV0gLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGFyYyhjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFudGljbG9ja3dpc2UgJiYgZW5kQW5nbGUgPD0gc3RhcnRBbmdsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZW5kQW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbnRpY2xvY2t3aXNlICYmIHN0YXJ0QW5nbGUgPD0gZW5kQW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuXG4gICAgICAgIGlmIChzd2VlcCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGFydFggPSBjeCArIChNYXRoLmNvcyhzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IGN5ICsgKE1hdGguc2luKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcbiAgICAgICAgY29uc3QgZXBzID0gdGhpcy5nZW9tZXRyeS5jbG9zZVBvaW50RXBzO1xuXG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50UGF0aCBleGlzdHMsIHRha2UgaXRzIHBvaW50cy4gT3RoZXJ3aXNlIGNhbGwgYG1vdmVUb2AgdG8gc3RhcnQgYSBwYXRoLlxuICAgICAgICBsZXQgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aCA/IHRoaXMuY3VycmVudFBhdGgucG9pbnRzIDogbnVsbDtcblxuICAgICAgICBpZiAocG9pbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPOiBtYWtlIGEgYmV0dGVyIGZpeC5cblxuICAgICAgICAgICAgLy8gV2UgY2hlY2sgaG93IGZhciBvdXIgc3RhcnQgaXMgZnJvbSB0aGUgbGFzdCBleGlzdGluZyBwb2ludFxuICAgICAgICAgICAgY29uc3QgeERpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdIC0gc3RhcnRYKTtcbiAgICAgICAgICAgIGNvbnN0IHlEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSAtIHN0YXJ0WSk7XG5cbiAgICAgICAgICAgIGlmICh4RGlmZiA8IGVwcyAmJiB5RGlmZiA8IGVwcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcG9pbnQgaXMgdmVyeSBjbG9zZSwgd2UgZG9uJ3QgYWRkIGl0LCBzaW5jZSB0aGlzIHdvdWxkIGxlYWQgdG8gYXJ0aWZhY3RzXG4gICAgICAgICAgICAgICAgLy8gZHVyaW5nIHRlc3NlbGxhdGlvbiBkdWUgdG8gZmxvYXRpbmcgcG9pbnQgaW1wcmVjaXNpb24uXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIH1cblxuICAgICAgICBBcmNVdGlscy5hcmMoc3RhcnRYLCBzdGFydFksIGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSwgcG9pbnRzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgYSBzaW1wbGUgb25lLWNvbG9yIGZpbGwgdGhhdCBzdWJzZXF1ZW50IGNhbGxzIHRvIG90aGVyIEdyYXBoaWNzIG1ldGhvZHNcbiAgICAgKiAoc3VjaCBhcyBsaW5lVG8oKSBvciBkcmF3Q2lyY2xlKCkpIHVzZSB3aGVuIGRyYXdpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTBdIC0gdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBiZWdpbkZpbGwoY29sb3IgPSAwLCBhbHBoYSA9IDEpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5iZWdpblRleHR1cmVGaWxsKFRleHR1cmUuV0hJVEUsIGNvbG9yLCBhbHBoYSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmVnaW4gdGhlIHRleHR1cmUgZmlsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIGZpbGxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTB4ZmZmZmZmXSAtIEJhY2tncm91bmQgdG8gZmlsbCBiZWhpbmQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSBBbHBoYSBvZiBmaWxsXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW21hdHJpeD1udWxsXSAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgYmVnaW5UZXh0dXJlRmlsbCh0ZXh0dXJlID0gVGV4dHVyZS5XSElURSwgY29sb3IgPSAweEZGRkZGRiwgYWxwaGEgPSAxLCBtYXRyaXggPSBudWxsKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2aXNpYmxlID0gYWxwaGEgPiAwO1xuXG4gICAgICAgIGlmICghdmlzaWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1hdHJpeCA9IG1hdHJpeC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIG1hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9maWxsU3R5bGUsIHtcbiAgICAgICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgICAgICBhbHBoYSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLFxuICAgICAgICAgICAgICAgIG1hdHJpeCxcbiAgICAgICAgICAgICAgICB2aXNpYmxlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgZmlsbCB0byB0aGUgbGluZXMgYW5kIHNoYXBlcyB0aGF0IHdlcmUgYWRkZWQgc2luY2UgdGhlIGxhc3QgY2FsbCB0byB0aGUgYmVnaW5GaWxsKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGVuZEZpbGwoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG5cbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSByZWN0YW5nbGUgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBkcmF3UmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXcgYSByZWN0YW5nbGUgc2hhcGUgd2l0aCByb3VuZGVkL2JldmVsZWQgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFJhZGl1cyBvZiB0aGUgcmVjdGFuZ2xlIGNvcm5lcnNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgZHJhd1JvdW5kZWRSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cylcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUm91bmRlZFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGNpcmNsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBkcmF3Q2lyY2xlKHgsIHksIHJhZGl1cylcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgQ2lyY2xlKHgsIHksIHJhZGl1cykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIGFuIGVsbGlwc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGRyYXdFbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IEVsbGlwc2UoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcG9seWdvbiB1c2luZyB0aGUgZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW118UElYSS5Qb2ludFtdfFBJWEkuUG9seWdvbn0gcGF0aCAtIFRoZSBwYXRoIGRhdGEgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHBvbHlnb24uXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGRyYXdQb2x5Z29uKHBhdGgpXG4gICAge1xuICAgICAgICAvLyBwcmV2ZW50cyBhbiBhcmd1bWVudCBhc3NpZ25tZW50IGRlb3B0XG4gICAgICAgIC8vIHNlZSBzZWN0aW9uIDMuMTogaHR0cHM6Ly9naXRodWIuY29tL3BldGthYW50b25vdi9ibHVlYmlyZC93aWtpL09wdGltaXphdGlvbi1raWxsZXJzIzMtbWFuYWdpbmctYXJndW1lbnRzXG4gICAgICAgIGxldCBwb2ludHMgPSBwYXRoO1xuXG4gICAgICAgIGxldCBjbG9zZVN0cm9rZSA9IHRydWU7Ly8gISF0aGlzLl9maWxsU3R5bGU7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgZGF0YSBoYXMgcG9pbnRzLi5cbiAgICAgICAgaWYgKHBvaW50cy5wb2ludHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsb3NlU3Ryb2tlID0gcG9pbnRzLmNsb3NlU3Ryb2tlO1xuICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzLnBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwb2ludHMpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBwcmV2ZW50cyBhbiBhcmd1bWVudCBsZWFrIGRlb3B0XG4gICAgICAgICAgICAvLyBzZWUgc2VjdGlvbiAzLjI6IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICAgICAgcG9pbnRzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb2ludHNbaV0gPSBhcmd1bWVudHNbaV07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG5cbiAgICAgICAgc2hhcGUuY2xvc2VTdHJva2UgPSBjbG9zZVN0cm9rZTtcblxuICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhdyBhbnkgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFNoYXBlIHRvIGRyYXdcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgZHJhd1NoYXBlKHNoYXBlKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ob2xlTW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kcmF3U2hhcGUoXG4gICAgICAgICAgICAgICAgc2hhcGUsXG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbFN0eWxlLmNsb25lKCksXG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZVN0eWxlLmNsb25lKCksXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0cml4XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kcmF3SG9sZShzaGFwZSwgdGhpcy5fbWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBwb2ludHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIENlbnRlciBYIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBDZW50ZXIgWSBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludHMgLSBUaGUgbnVtYmVyIG9mIHBvaW50cyBvZiB0aGUgc3RhciwgbXVzdCBiZSA+IDFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIG91dGVyIHJhZGl1cyBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5uZXJSYWRpdXNdIC0gVGhlIGlubmVyIHJhZGl1cyBiZXR3ZWVuIHBvaW50cywgZGVmYXVsdCBoYWxmIGByYWRpdXNgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc3RhciBpbiByYWRpYW5zLCB3aGVyZSAwIGlzIHZlcnRpY2FsXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGRyYXdTdGFyKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cywgcm90YXRpb24gPSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1BvbHlnb24obmV3IFN0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JhcGhpY3MgdGhhdCB3ZXJlIGRyYXduIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LCBhbmQgcmVzZXRzIGZpbGwgYW5kIGxpbmUgc3R5bGUgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgY2xlYXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5jbGVhcigpO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG5cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBncmFwaGljcyBjb25zaXN0cyBvZiBvbmUgcmVjdGFuZ2xlLCBhbmQgdGh1cywgY2FuIGJlIGRyYXduIGxpa2UgYSBTcHJpdGUgYW5kXG4gICAgICogbWFza2VkIHdpdGggZ2wuc2Npc3Nvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9ubHkgMSByZWN0LlxuICAgICAqL1xuICAgIGlzRmFzdFJlY3QoKVxuICAgIHtcbiAgICAgICAgLy8gd2lsbCBmaXggdGhpcyFcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPT09IDFcbiAgICAgICAgLy8gICYmIHRoaXMuZ3JhcGhpY3NEYXRhWzBdLnNoYXBlLnR5cGUgPT09IFNIQVBFUy5SRUNUXG4gICAgICAgIC8vICYmICF0aGlzLmdyYXBoaWNzRGF0YVswXS5saW5lV2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBfcmVuZGVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG5cbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXG4gICAgICAgIC8vIGJhdGNoIHBhcnQuLlxuICAgICAgICAvLyBiYXRjaCBpdCFcbiAgICAgICAgZ2VvbWV0cnkudXBkYXRlQmF0Y2hlcygpO1xuXG4gICAgICAgIGlmIChnZW9tZXRyeS5iYXRjaGFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJhdGNoRGlydHkgIT09IGdlb21ldHJ5LmJhdGNoRGlydHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaGVzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaFRpbnQgPSAtMTtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IGdlb21ldHJ5LmJhdGNoRGlydHk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnBvaW50cyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cnkuYmF0Y2hlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdJID0gZ2VvbWV0cnkuYmF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IGdJLnN0eWxlLmNvbG9yO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy52ZXJ0ZXhEYXRhLmJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdJLmF0dHJpYlN0YXJ0ICogNCAqIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnSS5hdHRyaWJTaXplICogMik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXZzID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS51dnNGbG9hdDMyLmJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdJLmF0dHJpYlN0YXJ0ICogNCAqIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnSS5hdHRyaWJTaXplICogMik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShnZW9tZXRyeS5pbmRpY2VzVWludDE2LmJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdJLnN0YXJ0ICogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdJLnNpemUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGV4RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsZW5kTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB1dnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBfYmF0Y2hSR0I6IGhleDJyZ2IoY29sb3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3RpbnRSR0I6IGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3RleHR1cmU6IGdJLnN0eWxlLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTogZ0kuc3R5bGUuYWxwaGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JsZEFscGhhOiAxIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXRjaGVzW2ldID0gYmF0Y2g7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5iYXRjaGVzLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVGludHMoKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgYmF0Y2gud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYSAqIGJhdGNoLmFscGhhO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIoYmF0Y2gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIG5vIGJhdGNoaW5nLi4uXG4gICAgICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hhZGVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHNoYWRlciBoZXJlLCB3ZSBjYW4gdXNlIHRoZSBkZWZhdWx0IHNoYWRlci5cbiAgICAgICAgICAgICAgICAvLyBhbmQgdGhhdCBvbmx5IGdldHMgY3JlYXRlZCBpZiB3ZSBhY3R1YWxseSBuZWVkIGl0Li5cbiAgICAgICAgICAgICAgICBpZiAoIWRlZmF1bHRTaGFkZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzYW1wbGVWYWx1ZXMgPSBuZXcgSW50MzJBcnJheSgxNik7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW50OiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gYmJhc2UgZGVmYXVsdCBzaGFkZXIgb2YgdGhlIGJhdGNoIHJlbmRlcmVycyBwcm9ncmFtXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyYW0gPSAgcmVuZGVyZXIucGx1Z2lucy5iYXRjaC5fc2hhZGVyLnByb2dyYW07XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNoYWRlciA9IG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyID0gZGVmYXVsdFNoYWRlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdW5pZm9ybXMgPSB0aGlzLnNoYWRlci51bmlmb3JtcztcblxuICAgICAgICAgICAgLy8gbGV0cyBzZXQgdGhlIHRyYW5zZm9tclxuICAgICAgICAgICAgdW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgY29uc3QgdGludCA9IHRoaXMudGludDtcbiAgICAgICAgICAgIGNvbnN0IHdhID0gdGhpcy53b3JsZEFscGhhO1xuXG4gICAgICAgICAgICAvLyBhbmQgdGhlbiBsZXRzIHNldCB0aGUgdGludC4uXG4gICAgICAgICAgICB1bmlmb3Jtcy50aW50WzBdID0gKCgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NSkgKiB3YTtcbiAgICAgICAgICAgIHVuaWZvcm1zLnRpbnRbMV0gPSAoKCh0aW50ID4+IDgpICYgMHhGRikgLyAyNTUpICogd2E7XG4gICAgICAgICAgICB1bmlmb3Jtcy50aW50WzJdID0gKCh0aW50ICYgMHhGRikgLyAyNTUpICogd2E7XG4gICAgICAgICAgICB1bmlmb3Jtcy50aW50WzNdID0gd2E7XG5cbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCBkcmF3IGNhbGwsIHdlIGNhbiBzZXQgdGhlIHVuaWZvcm1zIG9mIHRoZSBzaGFkZXIgZGlyZWN0bHkgaGVyZS5cblxuICAgICAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHdlIGNhbiB0YWNrIGFkdmFudGFnZSBvZiB0aGUgc3luYyBmdW5jdGlvbiBvZiBwaXhpIVxuICAgICAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBhIHdheSB0byBvcHRpbWlzZSB0aGlzLi5cbiAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHRoaXMuc2hhZGVyKTtcblxuICAgICAgICAgICAgLy8gdGhlbiByZW5kZXIgaXRcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQoZ2VvbWV0cnksIHRoaXMuc2hhZGVyKTtcblxuICAgICAgICAgICAgLy8gc2V0IHN0YXRlLi5cbiAgICAgICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcblxuICAgICAgICAgICAgLy8gdGhlbiByZW5kZXIgdGhlIHJlc3Qgb2YgdGhlbS4uLlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW9tZXRyeS5kcmF3Q2FsbHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHJhd0NhbGwgPSBnZW9tZXRyeS5kcmF3Q2FsbHNbaV07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBncm91cFRleHR1cmVDb3VudCA9IGRyYXdDYWxsLnRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ3JvdXBUZXh0dXJlQ291bnQ7IGorKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZChkcmF3Q2FsbC50ZXh0dXJlc1tqXSwgaik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYmluZCB0aGUgZ2VvbWV0cnkuLi5cbiAgICAgICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KGRyYXdDYWxsLnR5cGUsIGRyYXdDYWxsLnNpemUsIGRyYXdDYWxsLnN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBncmFwaGljIHNoYXBlIGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIGNvbnN0IGxiID0gdGhpcy5nZW9tZXRyeS5ib3VuZHM7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBsYi5taW5YLCBsYi5taW5ZLCBsYi5tYXhYLCBsYi5tYXhZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIGdyYXBoaWNzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQocG9pbnQpXG4gICAge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgR3JhcGhpY3MuX1RFTVBfUE9JTlQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmNvbnRhaW5zUG9pbnQoR3JhcGhpY3MuX1RFTVBfUE9JTlQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VhdGUgdGhlIHRpbnQgYnkgYXBwbHlpbmcgdGluIHRvIGJhdGNoZXMgdXNpbmcgR3JhcGhpY3MgdGludC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY2FsY3VsYXRlVGludHMoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hUaW50ICE9PSB0aGlzLnRpbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gdGhpcy50aW50O1xuXG4gICAgICAgICAgICBjb25zdCB0aW50UkdCID0gaGV4MnJnYih0aGlzLnRpbnQsIHRlbXApO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXRjaCA9IHRoaXMuYmF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoVGludCA9IGJhdGNoLl9iYXRjaFJHQjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSAodGludFJHQlswXSAqIGJhdGNoVGludFswXSkgKiAyNTU7XG4gICAgICAgICAgICAgICAgY29uc3QgZyA9ICh0aW50UkdCWzFdICogYmF0Y2hUaW50WzFdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICBjb25zdCBiID0gKHRpbnRSR0JbMl0gKiBiYXRjaFRpbnRbMl0pICogMjU1O1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBJdmFuLCBjYW4gdGhpcyBiZSBkb25lIGluIG9uZSBnbz9cbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IChyIDw8IDE2KSArIChnIDw8IDgpICsgKGIgfCAwKTtcblxuICAgICAgICAgICAgICAgIGJhdGNoLl90aW50UkdCID0gKGNvbG9yID4+IDE2KVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoY29sb3IgJiAweGZmMDApXG4gICAgICAgICAgICAgICAgICAgICAgICArICgoY29sb3IgJiAweGZmKSA8PCAxNik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGVyZSdzIGEgdHJhbnNmb3JtIHVwZGF0ZSBvciBhIGNoYW5nZSB0byB0aGUgc2hhcGUgb2YgdGhlXG4gICAgICogZ2VvbWV0cnksIHJlY2FjdWxhdGUgdGhlIHZlcnRpY2VzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVWZXJ0aWNlcygpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuXG4gICAgICAgIGNvbnN0IHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgICAgICBjb25zdCBiID0gd3QuYjtcbiAgICAgICAgY29uc3QgYyA9IHd0LmM7XG4gICAgICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgICAgICBjb25zdCB0eCA9IHd0LnR4O1xuICAgICAgICBjb25zdCB0eSA9IHd0LnR5O1xuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdlb21ldHJ5LnBvaW50czsvLyBiYXRjaC52ZXJ0ZXhEYXRhT3JpZ2luYWw7XG4gICAgICAgIGNvbnN0IHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG5cbiAgICAgICAgbGV0IGNvdW50ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBkYXRhW2ldO1xuICAgICAgICAgICAgY29uc3QgeSA9IGRhdGFbaSArIDFdO1xuXG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGEgKiB4KSArIChjICogeSkgKyB0eDtcbiAgICAgICAgICAgIHZlcnRleERhdGFbY291bnQrK10gPSAoZCAqIHkpICsgKGIgKiB4KSArIHR5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBjbG9zZVBhdGgoKVxuICAgIHtcbiAgICAgICAgY29uc3QgY3VycmVudFBhdGggPSB0aGlzLmN1cnJlbnRQYXRoO1xuXG4gICAgICAgIGlmIChjdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBhZGQgZXh0cmEgcG9pbnQgaW4gdGhlIGVuZCBiZWNhdXNlIGJ1aWxkTGluZSB3aWxsIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgICAgICBjdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBseSBhIG1hdHJpeCB0byB0aGUgcG9zaXRpb25hbCBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gTWF0cml4IHRvIHVzZSBmb3IgdHJhbnNmb3JtIGN1cnJlbnQgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgc2V0TWF0cml4KG1hdHJpeClcbiAgICB7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCZWdpbiBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZVxuICAgICAqIElNUE9SVEFOVDogaG9sZXMgbXVzdCBiZSBmdWxseSBpbnNpZGUgYSBzaGFwZSB0byB3b3JrXG4gICAgICogQWxzbyB3ZWlyZG5lc3MgZW5zdWVzIGlmIGhvbGVzIG92ZXJsYXAhXG4gICAgICogRWxsaXBzZXMsIENpcmNsZXMsIFJlY3RhbmdsZXMgYW5kIFJvdW5kZWQgUmVjdGFuZ2xlcyBjYW5ub3QgYmUgaG9sZXMgb3IgaG9zdCBmb3IgaG9sZXMgaW4gQ2FudmFzUmVuZGVyZXIsXG4gICAgICogcGxlYXNlIHVzZSBgbW92ZVRvYCBgbGluZVRvYCwgYHF1YWRyYXRpY0N1cnZlVG9gIGlmIHlvdSByZWx5IG9uIHBpeGktbGVnYWN5IGJ1bmRsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBiZWdpbkhvbGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmQgYWRkaW5nIGhvbGVzIHRvIHRoZSBsYXN0IGRyYXcgc2hhcGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBlbmRIb2xlKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3kob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS5yZWZDb3VudC0tO1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeS5yZWZDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYXRyaXggPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG5cbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGVtcG9yYXJ5IHBvaW50IHRvIHVzZSBmb3IgY29udGFpbnNQb2ludFxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICovXG5HcmFwaGljcy5fVEVNUF9QT0lOVCA9IG5ldyBQb2ludCgpO1xuIiwiaW1wb3J0IHsgUG9pbnQsIE9ic2VydmFibGVQb2ludCwgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzaWduIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuY29uc3QgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5jb25zdCBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSk7XG5cbi8qKlxuICogVGhlIFNwcml0ZSBvYmplY3QgaXMgdGhlIGJhc2UgZm9yIGFsbCB0ZXh0dXJlZCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIHRvIHRoZSBzY3JlZW5cbipcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IHdheSB0byBjcmVhdGUgc3ByaXRlcyBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fSxcbiAqIGFzIHN3YXBwaW5nIGJhc2UgdGV4dHVyZXMgd2hlbiByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiBpcyBpbmVmZmljaWVudC5cbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwcml0ZSBleHRlbmRzIENvbnRhaW5lclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZV0gLSBUaGUgdGV4dHVyZSBmb3IgdGhpcyBzcHJpdGUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3IgcG9pbnQgZGVmaW5lcyB0aGUgbm9ybWFsaXplZCBjb29yZGluYXRlc1xuICAgICAgICAgKiBpbiB0aGUgdGV4dHVyZSB0aGF0IG1hcCB0byB0aGUgcG9zaXRpb24gb2YgdGhpc1xuICAgICAgICAgKiBzcHJpdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJ5IGRlZmF1bHQsIHRoaXMgaXMgYCgwLDApYCAob3IgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmBcbiAgICAgICAgICogaWYgeW91IGhhdmUgbW9kaWZpZWQgdGhhdCksIHdoaWNoIG1lYW5zIHRoZSBwb3NpdGlvblxuICAgICAgICAgKiBgKHgseSlgIG9mIHRoaXMgYFNwcml0ZWAgd2lsbCBiZSB0aGUgdG9wLWxlZnQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBVcGRhdGluZyBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYCBhZnRlclxuICAgICAgICAgKiBjb25zdHJ1Y3RpbmcgYSBgU3ByaXRlYCBkb2VzIF9ub3RfIHVwZGF0ZSBpdHMgYW5jaG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kb2NzLmNvY29zMmQteC5vcmcvY29jb3MyZC14L2VuL3Nwcml0ZXMvbWFuaXB1bGF0aW9uLmh0bWx9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludChcbiAgICAgICAgICAgIHRoaXMuX29uQW5jaG9yVXBkYXRlLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnggOiAwKSxcbiAgICAgICAgICAgICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnkgOiAwKVxuICAgICAgICApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gbnVsbDtcbiAgICAgICAgdGhpcy50aW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFkZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVuZGVyIHRoZSBzcHJpdGUuIFNldCB0byBudWxsIHRvIHJlbW92ZSBhIGN1cnJlbnQgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcnxQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGVkIHRpbnQgdmFsdWUgc28gd2UgY2FuIHRlbGwgd2hlbiB0aGUgdGludCBpcyBjaGFuZ2VkLlxuICAgICAgICAgKiBWYWx1ZSBpcyB1c2VkIGZvciAyZCBDYW52YXNSZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuXG4gICAgICAgIC8vIGNhbGwgdGV4dHVyZSBzZXR0ZXJcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZSB8fCBUZXh0dXJlLkVNUFRZO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIHZlcnRleCBkYXRhIG9mIHRoZSBzcHJpdGUgKGJhc2ljYWxseSBhIHF1YWQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IElGIGl0IGlzIGEgdHJpbW1lZCBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcblxuICAgICAgICAvLyBCYXRjaGFibGUgc3R1ZmYuLlxuICAgICAgICAvLyBUT0RPIGNvdWxkIG1ha2UgdGhpcyBhIG1peGluP1xuICAgICAgICB0aGlzLmluZGljZXMgPSBpbmRpY2VzO1xuICAgICAgICB0aGlzLnNpemUgPSA0O1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcicgJiAnX3JlbmRlckNhbnZhcycgbWV0aG9kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnYmF0Y2gnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsdWdpbk5hbWUgPSAnYmF0Y2gnO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1c2VkIHRvIGZhc3QgY2hlY2sgaWYgYSBzcHJpdGUgaXMuLiBhIHNwcml0ZSFcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTcHJpdGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByb3VuZFBpeGVscyBmaWVsZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLCB0aGlzIGV2ZW50IHdpbGwgZmlyZSB0byB1cGRhdGUgdGhlIHNjYWxlIGFuZCBmcmFtZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25UZXh0dXJlVXBkYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuICAgICAgICAvLyBzbyBpZiBfd2lkdGggaXMgMCB0aGVuIHdpZHRoIHdhcyBub3Qgc2V0Li5cbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzaWduKHRoaXMuc2NhbGUueCkgKiB0aGlzLl93aWR0aCAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHNpZ24odGhpcy5zY2FsZS55KSAqIHRoaXMuX2hlaWdodCAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYW5jaG9yIHBvc2l0aW9uIHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkFuY2hvclVwZGF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMsIHN0b3JlIGl0IGluIHZlcnRleERhdGFcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVWZXJ0aWNlcygpXG4gICAge1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVJRCA9PT0gdGV4dHVyZS5fdXBkYXRlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIHNldCB0aGUgdmVydGV4IGRhdGFcblxuICAgICAgICBjb25zdCB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICBjb25zdCBhID0gd3QuYTtcbiAgICAgICAgY29uc3QgYiA9IHd0LmI7XG4gICAgICAgIGNvbnN0IGMgPSB3dC5jO1xuICAgICAgICBjb25zdCBkID0gd3QuZDtcbiAgICAgICAgY29uc3QgdHggPSB3dC50eDtcbiAgICAgICAgY29uc3QgdHkgPSB3dC50eTtcbiAgICAgICAgY29uc3QgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgY29uc3QgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgY29uc3Qgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuXG4gICAgICAgIGxldCB3MCA9IDA7XG4gICAgICAgIGxldCB3MSA9IDA7XG4gICAgICAgIGxldCBoMCA9IDA7XG4gICAgICAgIGxldCBoMSA9IDA7XG5cbiAgICAgICAgaWYgKHRyaW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZCBhbmQgaXMgbm90IGEgdGlsaW5nc3ByaXRlIHRoZW4gd2UgbmVlZCB0byBhZGQgdGhlIGV4dHJhXG4gICAgICAgICAgICAvLyBzcGFjZSBiZWZvcmUgdHJhbnNmb3JtaW5nIHRoZSBzcHJpdGUgY29vcmRzLlxuICAgICAgICAgICAgdzEgPSB0cmltLnggLSAoYW5jaG9yLl94ICogb3JpZy53aWR0aCk7XG4gICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoYW5jaG9yLl95ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgICAgIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuXG4gICAgICAgICAgICBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSAoYSAqIHcxKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSAoZCAqIGgxKSArIChiICogdzEpICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IChhICogdzApICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IChkICogaDEpICsgKGIgKiB3MCkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gKGEgKiB3MCkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzVdID0gKGQgKiBoMCkgKyAoYiAqIHcwKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSAoYSAqIHcxKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSAoZCAqIGgwKSArIChiICogdzEpICsgdHk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2ldID0gTWF0aC5yb3VuZCh2ZXJ0ZXhEYXRhW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcyBmb3IgYSBub24gdGV4dHVyZSB3aXRoIGEgdHJpbS4gc3RvcmUgaXQgaW4gdmVydGV4VHJpbW1lZERhdGFcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIHRydWUgd2lkdGggYW5kIGhlaWdodCBvZiBhIHRyaW1tZWQgdGV4dHVyZSBpcyByZXNwZWN0ZWRcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVUcmltbWVkVmVydGljZXMoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnZlcnRleFRyaW1tZWREYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIGxldHMgZG8gc29tZSBzcGVjaWFsIHRyaW0gY29kZSFcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGNvbnN0IHZlcnRleERhdGEgPSB0aGlzLnZlcnRleFRyaW1tZWREYXRhO1xuICAgICAgICBjb25zdCBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICBjb25zdCBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgdGhlIG5ldyB1bnRyaW1tZWQgYm91bmRzLi5cbiAgICAgICAgY29uc3Qgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgYSA9IHd0LmE7XG4gICAgICAgIGNvbnN0IGIgPSB3dC5iO1xuICAgICAgICBjb25zdCBjID0gd3QuYztcbiAgICAgICAgY29uc3QgZCA9IHd0LmQ7XG4gICAgICAgIGNvbnN0IHR4ID0gd3QudHg7XG4gICAgICAgIGNvbnN0IHR5ID0gd3QudHk7XG5cbiAgICAgICAgY29uc3QgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgY29uc3QgdzAgPSB3MSArIG9yaWcud2lkdGg7XG5cbiAgICAgICAgY29uc3QgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IGgwID0gaDEgKyBvcmlnLmhlaWdodDtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gKGEgKiB3MSkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gKGQgKiBoMSkgKyAoYiAqIHcxKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSAoYSAqIHcwKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSAoZCAqIGgxKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gKGEgKiB3MSkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gKGQgKiBoMCkgKyAoYiAqIHcxKSArIHR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICpcbiAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAqXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyIHRvIHVzZS5cbiAgICAqL1xuICAgIF9yZW5kZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY2FsY3VsYXRlQm91bmRzKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRyaW0gPSB0aGlzLl90ZXh0dXJlLnRyaW07XG4gICAgICAgIGNvbnN0IG9yaWcgPSB0aGlzLl90ZXh0dXJlLm9yaWc7XG5cbiAgICAgICAgLy8gRmlyc3QgbGV0cyBjaGVjayB0byBzZWUgaWYgdGhlIGN1cnJlbnQgdGV4dHVyZSBoYXMgYSB0cmltLi5cbiAgICAgICAgaWYgKCF0cmltIHx8ICh0cmltLndpZHRoID09PSBvcmlnLndpZHRoICYmIHRyaW0uaGVpZ2h0ID09PSBvcmlnLmhlaWdodCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIG5vIHRyaW0hIGxldHMgdXNlIHRoZSB1c3VhbCBjYWxjdWxhdGlvbnMuLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIGEgc3BlY2lhbCB0cmltbWVkIGJvdW5kcy4uLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4VHJpbW1lZERhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgZ2V0TG9jYWxCb3VuZHMocmVjdClcbiAgICB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBzcHJpdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBjb250YWluc1BvaW50KHBvaW50KVxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgbGV0IHkxID0gMDtcblxuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIGRlc3Ryb3kob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbnVsbDtcblxuICAgICAgICBjb25zdCBkZXN0cm95VGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkZXN0cm95QmFzZVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5kZXN0cm95KCEhZGVzdHJveUJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gc29tZSBoZWxwZXIgZnVuY3Rpb25zLi5cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gKHNvdXJjZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgICAgICA/IHNvdXJjZVxuICAgICAgICAgICAgOiBUZXh0dXJlLmZyb20oc291cmNlLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgc2V0IHJvdW5kUGl4ZWxzKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCByb3VuZFBpeGVscygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgIH1cblxuICAgIHNldCB3aWR0aCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBjb25zdCBzID0gc2lnbih0aGlzLnNjYWxlLngpIHx8IDE7XG5cbiAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICB9XG5cbiAgICBzZXQgaGVpZ2h0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGNvbnN0IHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdGFrZW4gZnJvbSB0aGUge0BsaW5rIFBJWEkuVGV4dHVyZXxUZXh0dXJlfVxuICAgICAqIGFuZCBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgxLDEpYCB3b3VsZCBtZWFuIHRoZSB0ZXh0J3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgcGFzcyBvbmx5IHNpbmdsZSBwYXJhbWV0ZXIsIGl0IHdpbGwgc2V0IGJvdGggeCBhbmQgeSB0byB0aGUgc2FtZSB2YWx1ZSBhcyBzaG93biBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5hbmNob3Iuc2V0KDAuNSk7IC8vIFRoaXMgd2lsbCBzZXQgdGhlIG9yaWdpbiB0byBjZW50ZXIuICgwLjUpIGlzIHNhbWUgYXMgKDAuNSwgMC41KS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIGdldCBhbmNob3IoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICB9XG5cbiAgICBzZXQgYW5jaG9yKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG4gICAgZ2V0IHRpbnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgfVxuXG4gICAgc2V0IHRpbnQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gKHZhbHVlID4+IDE2KSArICh2YWx1ZSAmIDB4ZmYwMCkgKyAoKHZhbHVlICYgMHhmZikgPDwgMTYpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIGdldCB0ZXh0dXJlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgIH1cblxuICAgIHNldCB0ZXh0dXJlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2FpdCBmb3IgdGhlIHRleHR1cmUgdG8gbG9hZFxuICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIENvbnN0YW50cyB0aGF0IGRlZmluZSB0aGUgdHlwZSBvZiBncmFkaWVudCBvbiB0ZXh0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVEVYVF9HUkFESUVOVFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX1ZFUlRJQ0FMIFZlcnRpY2FsIGdyYWRpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX0hPUklaT05UQUwgTGluZWFyIGdyYWRpZW50XG4gKi9cbmV4cG9ydCBjb25zdCBURVhUX0dSQURJRU5UID0ge1xuICAgIExJTkVBUl9WRVJUSUNBTDogMCxcbiAgICBMSU5FQVJfSE9SSVpPTlRBTDogMSxcbn07XG4iLCIvLyBkaXNhYmxpbmcgZXNsaW50IGZvciBub3csIGdvaW5nIHRvIHJld3JpdGUgdGhpcyBpbiB2NVxuLyogZXNsaW50LWRpc2FibGUgKi9cblxuaW1wb3J0IHsgVEVYVF9HUkFESUVOVCB9IGZyb20gJy4vY29uc3QnO1xuaW1wb3J0IHsgaGV4MnN0cmluZyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuY29uc3QgZGVmYXVsdFN0eWxlID0ge1xuICAgIGFsaWduOiAnbGVmdCcsXG4gICAgYnJlYWtXb3JkczogZmFsc2UsXG4gICAgZHJvcFNoYWRvdzogZmFsc2UsXG4gICAgZHJvcFNoYWRvd0FscGhhOiAxLFxuICAgIGRyb3BTaGFkb3dBbmdsZTogTWF0aC5QSSAvIDYsXG4gICAgZHJvcFNoYWRvd0JsdXI6IDAsXG4gICAgZHJvcFNoYWRvd0NvbG9yOiAnYmxhY2snLFxuICAgIGRyb3BTaGFkb3dEaXN0YW5jZTogNSxcbiAgICBmaWxsOiAnYmxhY2snLFxuICAgIGZpbGxHcmFkaWVudFR5cGU6IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMLFxuICAgIGZpbGxHcmFkaWVudFN0b3BzOiBbXSxcbiAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgIGZvbnRTaXplOiAyNixcbiAgICBmb250U3R5bGU6ICdub3JtYWwnLFxuICAgIGZvbnRWYXJpYW50OiAnbm9ybWFsJyxcbiAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgIGxpbmVIZWlnaHQ6IDAsXG4gICAgbGluZUpvaW46ICdtaXRlcicsXG4gICAgbWl0ZXJMaW1pdDogMTAsXG4gICAgcGFkZGluZzogMCxcbiAgICBzdHJva2U6ICdibGFjaycsXG4gICAgc3Ryb2tlVGhpY2tuZXNzOiAwLFxuICAgIHRleHRCYXNlbGluZTogJ2FscGhhYmV0aWMnLFxuICAgIHRyaW06IGZhbHNlLFxuICAgIHdoaXRlU3BhY2U6ICdwcmUnLFxuICAgIHdvcmRXcmFwOiBmYWxzZSxcbiAgICB3b3JkV3JhcFdpZHRoOiAxMDAsXG4gICAgbGVhZGluZzogMCxcbn07XG5cbmNvbnN0IGdlbmVyaWNGb250RmFtaWxpZXMgPSBbXG4gICAgJ3NlcmlmJyxcbiAgICAnc2Fucy1zZXJpZicsXG4gICAgJ21vbm9zcGFjZScsXG4gICAgJ2N1cnNpdmUnLFxuICAgICdmYW50YXN5JyxcbiAgICAnc3lzdGVtLXVpJyxcbl1cblxuLyoqXG4gKiBBIFRleHRTdHlsZSBPYmplY3QgY29udGFpbnMgaW5mb3JtYXRpb24gdG8gZGVjb3JhdGUgYSBUZXh0IG9iamVjdHMuXG4gKlxuICogQW4gaW5zdGFuY2UgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIFRleHQgb2JqZWN0czsgdGhlbiBjaGFuZ2luZyB0aGUgc3R5bGUgd2lsbCB1cGRhdGUgYWxsIHRleHQgb2JqZWN0cyB1c2luZyBpdC5cbiAqXG4gKiBBIHRvb2wgY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgYSB0ZXh0IHN0eWxlIFtoZXJlXShodHRwczovL3BpeGlqcy5pby9waXhpLXRleHQtc3R5bGUpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dFN0eWxlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtzdHlsZV0gLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuYWxpZ249J2xlZnQnXSAtIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksXG4gICAgICogIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUuYnJlYWtXb3Jkcz1mYWxzZV0gLSBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdFxuICAgICAqICBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmRyb3BTaGFkb3c9ZmFsc2VdIC0gU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93QWxwaGE9MV0gLSBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FuZ2xlPU1hdGguUEkvNl0gLSBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dCbHVyPTBdIC0gU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0NvbG9yPSdibGFjayddIC0gQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlIGRyb3BzaGFkb3cgZS5nICdyZWQnLCAnIzAwRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZT01XSAtIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfG51bWJlcnxudW1iZXJbXXxDYW52YXNHcmFkaWVudHxDYW52YXNQYXR0ZXJufSBbc3R5bGUuZmlsbD0nYmxhY2snXSAtIEEgY2FudmFzXG4gICAgICogIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy4gQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50XG4gICAgICogIGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxTdHlsZXxNRE59XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5maWxsR3JhZGllbnRUeXBlPVBJWEkuVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUxdIC0gSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzXG4gICAgICogIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGNhbiBjaGFuZ2UgdGhlIHR5cGUvZGlyZWN0aW9uIG9mIHRoZSBncmFkaWVudC4gU2VlIHtAbGluayBQSVhJLlRFWFRfR1JBRElFTlR9XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW3N0eWxlLmZpbGxHcmFkaWVudFN0b3BzXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0XG4gICAgICogdGhlIHN0b3AgcG9pbnRzIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gW3N0eWxlLmZvbnRGYW1pbHk9J0FyaWFsJ10gLSBUaGUgZm9udCBmYW1pbHlcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IFtzdHlsZS5mb250U2l6ZT0yNl0gLSBUaGUgZm9udCBzaXplIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLFxuICAgICAqICBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnRTdHlsZT0nbm9ybWFsJ10gLSBUaGUgZm9udCBzdHlsZSAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnRWYXJpYW50PSdub3JtYWwnXSAtIFRoZSBmb250IHZhcmlhbnQgKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnRXZWlnaHQ9J25vcm1hbCddIC0gVGhlIGZvbnQgd2VpZ2h0ICgnbm9ybWFsJywgJ2JvbGQnLCAnYm9sZGVyJywgJ2xpZ2h0ZXInIGFuZCAnMTAwJyxcbiAgICAgKiAgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLCAnNzAwJywgODAwJyBvciAnOTAwJylcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxlYWRpbmc9MF0gLSBUaGUgc3BhY2UgYmV0d2VlbiBsaW5lc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGV0dGVyU3BhY2luZz0wXSAtIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMsIGRlZmF1bHQgaXMgMFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGluZUhlaWdodF0gLSBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5saW5lSm9pbj0nbWl0ZXInXSAtIFRoZSBsaW5lSm9pbiBwcm9wZXJ0eSBzZXRzIHRoZSB0eXBlIG9mIGNvcm5lciBjcmVhdGVkLCBpdCBjYW4gcmVzb2x2ZVxuICAgICAqICAgICAgc3Bpa2VkIHRleHQgaXNzdWVzLiBQb3NzaWJsZSB2YWx1ZXMgXCJtaXRlclwiIChjcmVhdGVzIGEgc2hhcnAgY29ybmVyKSwgXCJyb3VuZFwiIChjcmVhdGVzIGEgcm91bmQgY29ybmVyKSBvciBcImJldmVsXCJcbiAgICAgKiAgICAgIChjcmVhdGVzIGEgc3F1YXJlZCBjb3JuZXIpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubWl0ZXJMaW1pdD0xMF0gLSBUaGUgbWl0ZXIgbGltaXQgdG8gdXNlIHdoZW4gdXNpbmcgdGhlICdtaXRlcicgbGluZUpvaW4gbW9kZS4gVGhpcyBjYW4gcmVkdWNlXG4gICAgICogICAgICBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5wYWRkaW5nPTBdIC0gT2NjYXNpb25hbGx5IHNvbWUgZm9udHMgYXJlIGNyb3BwZWQuIEFkZGluZyBzb21lIHBhZGRpbmcgd2lsbCBwcmV2ZW50IHRoaXMgZnJvbVxuICAgICAqICAgICBoYXBwZW5pbmcgYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLnN0cm9rZT0nYmxhY2snXSAtIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBzdHJva2VcbiAgICAgKiAgZS5nICdibHVlJywgJyNGQ0ZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5zdHJva2VUaGlja25lc3M9MF0gLSBBIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlLlxuICAgICAqICBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS50cmltPWZhbHNlXSAtIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUudGV4dEJhc2VsaW5lPSdhbHBoYWJldGljJ10gLSBUaGUgYmFzZWxpbmUgb2YgdGhlIHRleHQgdGhhdCBpcyByZW5kZXJlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLndoaXRlU3BhY2U9J3ByZSddIC0gRGV0ZXJtaW5lcyB3aGV0aGVyIG5ld2xpbmVzICYgc3BhY2VzIGFyZSBjb2xsYXBzZWQgb3IgcHJlc2VydmVkIFwibm9ybWFsXCJcbiAgICAgKiAgICAgIChjb2xsYXBzZSwgY29sbGFwc2UpLCBcInByZVwiIChwcmVzZXJ2ZSwgcHJlc2VydmUpIHwgXCJwcmUtbGluZVwiIChwcmVzZXJ2ZSwgY29sbGFwc2UpLiBJdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLndvcmRXcmFwPWZhbHNlXSAtIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLndvcmRXcmFwV2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzdHlsZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc3R5bGVJRCA9IDA7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBzdHlsZSwgc3R5bGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVGV4dFN0eWxlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0U3R5bGV9IE5ldyBjbG9uZWQgVGV4dFN0eWxlIG9iamVjdFxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGNsb25lZFByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXMoY2xvbmVkUHJvcGVydGllcywgdGhpcywgZGVmYXVsdFN0eWxlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFRleHRTdHlsZShjbG9uZWRQcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHByb3BlcnRpZXMgdG8gdGhlIGRlZmF1bHRzIHNwZWNpZmllZCBpbiBUZXh0U3R5bGUucHJvdG90eXBlLl9kZWZhdWx0XG4gICAgICovXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLCBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBhbGlnbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gICAgfVxuICAgIHNldCBhbGlnbihhbGlnbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYWxpZ24gIT09IGFsaWduKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgYnJlYWtXb3JkcygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnJlYWtXb3JkcztcbiAgICB9XG4gICAgc2V0IGJyZWFrV29yZHMoYnJlYWtXb3JkcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYnJlYWtXb3JkcyAhPT0gYnJlYWtXb3JkcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYnJlYWtXb3JkcyA9IGJyZWFrV29yZHM7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgZHJvcFNoYWRvdygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvdztcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3coZHJvcFNoYWRvdykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvdyAhPT0gZHJvcFNoYWRvdylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IGRyb3BTaGFkb3c7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGRyb3BTaGFkb3dBbHBoYSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FscGhhO1xuICAgIH1cbiAgICBzZXQgZHJvcFNoYWRvd0FscGhhKGRyb3BTaGFkb3dBbHBoYSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FscGhhICE9PSBkcm9wU2hhZG93QWxwaGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSA9IGRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGRyb3BTaGFkb3dBbmdsZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICAgIH1cbiAgICBzZXQgZHJvcFNoYWRvd0FuZ2xlKGRyb3BTaGFkb3dBbmdsZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FuZ2xlICE9PSBkcm9wU2hhZG93QW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSA9IGRyb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGRyb3BTaGFkb3dCbHVyKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cjtcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3dCbHVyKGRyb3BTaGFkb3dCbHVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Qmx1ciAhPT0gZHJvcFNoYWRvd0JsdXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBkcm9wU2hhZG93Q29sb3IoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dDb2xvcjtcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3dDb2xvcihkcm9wU2hhZG93Q29sb3IpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihkcm9wU2hhZG93Q29sb3IpO1xuICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0NvbG9yICE9PSBvdXRwdXRDb2xvcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBkcm9wU2hhZG93RGlzdGFuY2UoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3dEaXN0YW5jZShkcm9wU2hhZG93RGlzdGFuY2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSAhPT0gZHJvcFNoYWRvd0Rpc3RhbmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgPSBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy5cbiAgICAgKiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnQgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn1cbiAgICAgKi9cbiAgICBnZXQgZmlsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbDtcbiAgICB9XG4gICAgc2V0IGZpbGwoZmlsbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBjb25zdCBvdXRwdXRDb2xvciA9IGdldENvbG9yKGZpbGwpO1xuICAgICAgICBpZiAodGhpcy5fZmlsbCAhPT0gb3V0cHV0Q29sb3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGwgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGNhbiBjaGFuZ2UgdGhlIHR5cGUvZGlyZWN0aW9uIG9mIHRoZSBncmFkaWVudC5cbiAgICAgKiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgZmlsbEdyYWRpZW50VHlwZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50VHlwZTtcbiAgICB9XG4gICAgc2V0IGZpbGxHcmFkaWVudFR5cGUoZmlsbEdyYWRpZW50VHlwZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZmlsbEdyYWRpZW50VHlwZSAhPT0gZmlsbEdyYWRpZW50VHlwZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50VHlwZSA9IGZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0IHRoZSBzdG9wIHBvaW50c1xuICAgICAqIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqL1xuICAgIGdldCBmaWxsR3JhZGllbnRTdG9wcygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgfVxuICAgIHNldCBmaWxsR3JhZGllbnRTdG9wcyhmaWxsR3JhZGllbnRTdG9wcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAoIWFyZUFycmF5c0VxdWFsKHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzLGZpbGxHcmFkaWVudFN0b3BzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50U3RvcHMgPSBmaWxsR3JhZGllbnRTdG9wcztcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGZvbnQgZmFtaWx5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW119XG4gICAgICovXG4gICAgZ2V0IGZvbnRGYW1pbHkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRGYW1pbHk7XG4gICAgfVxuICAgIHNldCBmb250RmFtaWx5KGZvbnRGYW1pbHkpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IHNpemVcbiAgICAgKiAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZywgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ8c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBmb250U2l6ZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gICAgfVxuICAgIHNldCBmb250U2l6ZShmb250U2l6ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IGZvbnRTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZm9udCBzdHlsZVxuICAgICAqICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBmb250U3R5bGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZTtcbiAgICB9XG4gICAgc2V0IGZvbnRTdHlsZShmb250U3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZvbnRTdHlsZSAhPT0gZm9udFN0eWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IHZhcmlhbnRcbiAgICAgKiAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBmb250VmFyaWFudCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udFZhcmlhbnQ7XG4gICAgfVxuICAgIHNldCBmb250VmFyaWFudChmb250VmFyaWFudCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZm9udFZhcmlhbnQgIT09IGZvbnRWYXJpYW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9IGZvbnRWYXJpYW50O1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZm9udCB3ZWlnaHRcbiAgICAgKiAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IGZvbnRXZWlnaHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHQ7XG4gICAgfVxuICAgIHNldCBmb250V2VpZ2h0KGZvbnRXZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZvbnRXZWlnaHQgIT09IGZvbnRXZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSBmb250V2VpZ2h0O1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbGV0dGVyU3BhY2luZygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICB9XG4gICAgc2V0IGxldHRlclNwYWNpbmcobGV0dGVyU3BhY2luZykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbGluZUhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZUhlaWdodDtcbiAgICB9XG4gICAgc2V0IGxpbmVIZWlnaHQobGluZUhlaWdodCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbGluZUhlaWdodCAhPT0gbGluZUhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGxlYWRpbmcoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xlYWRpbmc7XG4gICAgfVxuICAgIHNldCBsZWFkaW5nKGxlYWRpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2xlYWRpbmcgIT09IGxlYWRpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xlYWRpbmcgPSBsZWFkaW5nO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmUgc3Bpa2VkIHRleHQgaXNzdWVzLlxuICAgICAqIERlZmF1bHQgaXMgJ21pdGVyJyAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lcikuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IGxpbmVKb2luKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lSm9pbjtcbiAgICB9XG4gICAgc2V0IGxpbmVKb2luKGxpbmVKb2luKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9saW5lSm9pbiAhPT0gbGluZUpvaW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVKb2luID0gbGluZUpvaW47XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlXG4gICAgICogVGhpcyBjYW4gcmVkdWNlIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbWl0ZXJMaW1pdCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWl0ZXJMaW1pdDtcbiAgICB9XG4gICAgc2V0IG1pdGVyTGltaXQobWl0ZXJMaW1pdCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbWl0ZXJMaW1pdCAhPT0gbWl0ZXJMaW1pdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbWl0ZXJMaW1pdCA9IG1pdGVyTGltaXQ7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nXG4gICAgICogYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBwYWRkaW5nKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xuICAgIH1cbiAgICBzZXQgcGFkZGluZyhwYWRkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9wYWRkaW5nICE9PSBwYWRkaW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgc3Ryb2tlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJva2U7XG4gICAgfVxuICAgIHNldCBzdHJva2Uoc3Ryb2tlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGNvbnN0IG91dHB1dENvbG9yID0gZ2V0Q29sb3Ioc3Ryb2tlKTtcbiAgICAgICAgaWYgKHRoaXMuX3N0cm9rZSAhPT0gb3V0cHV0Q29sb3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3N0cm9rZSA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlLlxuICAgICAqIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBzdHJva2VUaGlja25lc3MoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZVRoaWNrbmVzcztcbiAgICB9XG4gICAgc2V0IHN0cm9rZVRoaWNrbmVzcyhzdHJva2VUaGlja25lc3MpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0cm9rZVRoaWNrbmVzcyAhPT0gc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zdHJva2VUaGlja25lc3MgPSBzdHJva2VUaGlja25lc3M7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCB0ZXh0QmFzZWxpbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRCYXNlbGluZTtcbiAgICB9XG4gICAgc2V0IHRleHRCYXNlbGluZSh0ZXh0QmFzZWxpbmUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHRCYXNlbGluZSAhPT0gdGV4dEJhc2VsaW5lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0QmFzZWxpbmUgPSB0ZXh0QmFzZWxpbmU7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVyc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgdHJpbSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJpbTtcbiAgICB9XG4gICAgc2V0IHRyaW0odHJpbSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdHJpbSAhPT0gdHJpbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdHJpbSA9IHRyaW07XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhvdyBuZXdsaW5lcyBhbmQgc3BhY2VzIHNob3VsZCBiZSBoYW5kbGVkLlxuICAgICAqIERlZmF1bHQgaXMgJ3ByZScgKHByZXNlcnZlLCBwcmVzZXJ2ZSkuXG4gICAgICpcbiAgICAgKiAgdmFsdWUgICAgICAgfCBOZXcgbGluZXMgICAgIHwgICBTcGFjZXNcbiAgICAgKiAgLS0tICAgICAgICAgfCAtLS0gICAgICAgICAgIHwgICAtLS1cbiAgICAgKiAnbm9ybWFsJyAgICAgfCBDb2xsYXBzZSAgICAgIHwgICBDb2xsYXBzZVxuICAgICAqICdwcmUnICAgICAgICB8IFByZXNlcnZlICAgICAgfCAgIFByZXNlcnZlXG4gICAgICogJ3ByZS1saW5lJyAgIHwgUHJlc2VydmUgICAgICB8ICAgQ29sbGFwc2VcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgd2hpdGVTcGFjZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2hpdGVTcGFjZTtcbiAgICB9XG4gICAgc2V0IHdoaXRlU3BhY2Uod2hpdGVTcGFjZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fd2hpdGVTcGFjZSAhPT0gd2hpdGVTcGFjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHdvcmRXcmFwKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbiAgICB9XG4gICAgc2V0IHdvcmRXcmFwKHdvcmRXcmFwKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl93b3JkV3JhcCAhPT0gd29yZFdyYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwID0gd29yZFdyYXA7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd29yZFdyYXBXaWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXBXaWR0aDtcbiAgICB9XG4gICAgc2V0IHdvcmRXcmFwV2lkdGgod29yZFdyYXBXaWR0aCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fd29yZFdyYXBXaWR0aCAhPT0gd29yZFdyYXBXaWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGZvbnQgc3R5bGUgc3RyaW5nIHRvIHVzZSBmb3IgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBGb250IHN0eWxlIHN0cmluZywgZm9yIHBhc3NpbmcgdG8gYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgXG4gICAgICovXG4gICAgdG9Gb250U3RyaW5nKClcbiAgICB7XG4gICAgICAgIC8vIGJ1aWxkIGNhbnZhcyBhcGkgZm9udCBzZXR0aW5nIGZyb20gaW5kaXZpZHVhbCBjb21wb25lbnRzLiBDb252ZXJ0IGEgbnVtZXJpYyB0aGlzLmZvbnRTaXplIHRvIHB4XG4gICAgICAgIGNvbnN0IGZvbnRTaXplU3RyaW5nID0gKHR5cGVvZiB0aGlzLmZvbnRTaXplID09PSAnbnVtYmVyJykgPyBgJHt0aGlzLmZvbnRTaXplfXB4YCA6IHRoaXMuZm9udFNpemU7XG5cbiAgICAgICAgLy8gQ2xlYW4tdXAgZm9udEZhbWlseSBwcm9wZXJ0eSBieSBxdW90aW5nIGVhY2ggZm9udCBuYW1lXG4gICAgICAgIC8vIHRoaXMgd2lsbCBzdXBwb3J0IGZvbnQgbmFtZXMgd2l0aCBzcGFjZXNcbiAgICAgICAgbGV0IGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseTtcblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5mb250RmFtaWx5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5LnNwbGl0KCcsJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gZm9udEZhbWlsaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUcmltIGFueSBleHRyYSB3aGl0ZS1zcGFjZVxuICAgICAgICAgICAgbGV0IGZvbnRGYW1pbHkgPSBmb250RmFtaWxpZXNbaV0udHJpbSgpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBmb250IGFscmVhZHkgY29udGFpbnMgc3RyaW5nc1xuICAgICAgICAgICAgaWYgKCEoLyhbXFxcIlxcJ10pW15cXCdcXFwiXStcXDEvKS50ZXN0KGZvbnRGYW1pbHkpICYmIGdlbmVyaWNGb250RmFtaWxpZXMuaW5kZXhPZihmb250RmFtaWx5KSA8IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSA9IGBcIiR7Zm9udEZhbWlseX1cImA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb250RmFtaWxpZXNbaV0gPSBmb250RmFtaWx5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGAke3RoaXMuZm9udFN0eWxlfSAke3RoaXMuZm9udFZhcmlhbnR9ICR7dGhpcy5mb250V2VpZ2h0fSAke2ZvbnRTaXplU3RyaW5nfSAke2ZvbnRGYW1pbGllcy5qb2luKCcsJyl9YDtcbiAgICB9XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcnxudW1iZXJbXX0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRTaW5nbGVDb2xvcihjb2xvcilcbntcbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJylcbiAgICB7XG4gICAgICAgIHJldHVybiBoZXgyc3RyaW5nKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycgKVxuICAgIHtcbiAgICAgICAgaWYgKCBjb2xvci5pbmRleE9mKCcweCcpID09PSAwIClcbiAgICAgICAge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKCcweCcsICcjJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yKVxue1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb2xvcikpXG4gICAge1xuICAgICAgICByZXR1cm4gZ2V0U2luZ2xlQ29sb3IoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbG9yLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb2xvcltpXSA9IGdldFNpbmdsZUNvbG9yKGNvbG9yW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MSBGaXJzdCBhcnJheSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTIgU2Vjb25kIGFycmF5IHRvIGNvbXBhcmVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IERvIHRoZSBhcnJheXMgY29udGFpbiB0aGUgc2FtZSB2YWx1ZXMgaW4gdGhlIHNhbWUgb3JkZXJcbiAqL1xuZnVuY3Rpb24gYXJlQXJyYXlzRXF1YWwoYXJyYXkxLCBhcnJheTIpXG57XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5MSkgfHwgIUFycmF5LmlzQXJyYXkoYXJyYXkyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYXJyYXkxLmxlbmd0aCAhPT0gYXJyYXkyLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7ICsraSlcbiAgICB7XG4gICAgICAgIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBlbnN1cmUgdGhhdCBvYmplY3QgcHJvcGVydGllcyBhcmUgY29waWVkIGJ5IHZhbHVlLCBhbmQgbm90IGJ5IHJlZmVyZW5jZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGFyZ2V0IG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgaW50b1xuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBTb3VyY2Ugb2JqZWN0IGZvciB0aGUgcHJvcGVydGllcyB0byBjb3B5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlPYmogT2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBuYW1lcyB3ZSB3YW50IHRvIGxvb3Agb3ZlclxuICovXG5mdW5jdGlvbiBkZWVwQ29weVByb3BlcnRpZXModGFyZ2V0LCBzb3VyY2UsIHByb3BlcnR5T2JqKSB7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHByb3BlcnR5T2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXS5zbGljZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUaGUgVGV4dE1ldHJpY3Mgb2JqZWN0IHJlcHJlc2VudHMgdGhlIG1lYXN1cmVtZW50IG9mIGEgYmxvY2sgb2YgdGV4dCB3aXRoIGEgc3BlY2lmaWVkIHN0eWxlLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pXG4gKiBsZXQgdGV4dE1ldHJpY3MgPSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KCdZb3VyIHRleHQnLCBzdHlsZSlcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dE1ldHJpY3NcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSB0ZXh0IHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGhlaWdodCBvZiB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmVzIG9mIHRleHQgYnJva2VuIGJ5IG5ldyBsaW5lcyBhbmQgd3JhcHBpbmcgaWYgc3BlY2lmaWVkIGluIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbGluZVdpZHRocyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lSGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGxpbmUgaGVpZ2h0IGZvciB0aGlzIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heExpbmVXaWR0aCAtIHRoZSBtYXhpbXVtIGxpbmUgd2lkdGggZm9yIGFsbCBtZWFzdXJlZCBsaW5lc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmb250UHJvcGVydGllcyAtIHRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dFN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBsaW5lcyBvZiB0aGUgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpcyBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVzID0gbGluZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZVdpZHRocyA9IGxpbmVXaWR0aHM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JRm9udE1ldHJpY3N9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzID0gZm9udFByb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0byBtZWFzdXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHRleHQgc3R5bGUgdG8gdXNlIGZvciBtZWFzdXJpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt3b3JkV3JhcF0gLSBvcHRpb25hbCBvdmVycmlkZSBmb3IgaWYgd29yZC13cmFwIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dE1ldHJpY3N9IG1lYXN1cmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gICAgICovXG4gICAgc3RhdGljIG1lYXN1cmVUZXh0KHRleHQsIHN0eWxlLCB3b3JkV3JhcCwgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcylcbiAgICB7XG4gICAgICAgIHdvcmRXcmFwID0gKHdvcmRXcmFwID09PSB1bmRlZmluZWQgfHwgd29yZFdyYXAgPT09IG51bGwpID8gc3R5bGUud29yZFdyYXAgOiB3b3JkV3JhcDtcbiAgICAgICAgY29uc3QgZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgICAgICBjb25zdCBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuXG4gICAgICAgIC8vIGZhbGxiYWNrIGluIGNhc2UgVUEgZGlzYWxsb3cgY2FudmFzIGRhdGEgZXh0cmFjdGlvblxuICAgICAgICAvLyAodG9EYXRhVVJJLCBnZXRJbWFnZURhdGEgZnVuY3Rpb25zKVxuICAgICAgICBpZiAoZm9udFByb3BlcnRpZXMuZm9udFNpemUgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgICAgICBmb250UHJvcGVydGllcy5hc2NlbnQgPSBzdHlsZS5mb250U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgICAgIGNvbnN0IG91dHB1dFRleHQgPSB3b3JkV3JhcCA/IFRleHRNZXRyaWNzLndvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMpIDogdGV4dDtcbiAgICAgICAgY29uc3QgbGluZXMgPSBvdXRwdXRUZXh0LnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKTtcbiAgICAgICAgY29uc3QgbGluZVdpZHRocyA9IG5ldyBBcnJheShsaW5lcy5sZW5ndGgpO1xuICAgICAgICBsZXQgbWF4TGluZVdpZHRoID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBsaW5lV2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGxpbmVzW2ldKS53aWR0aCArICgobGluZXNbaV0ubGVuZ3RoIC0gMSkgKiBzdHlsZS5sZXR0ZXJTcGFjaW5nKTtcblxuICAgICAgICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd2lkdGggPSBtYXhMaW5lV2lkdGggKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0IHx8IGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5tYXgobGluZUhlaWdodCwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3MpXG4gICAgICAgICAgICArICgobGluZXMubGVuZ3RoIC0gMSkgKiAobGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcpKTtcblxuICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdylcbiAgICAgICAge1xuICAgICAgICAgICAgaGVpZ2h0ICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dE1ldHJpY3MoXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIGxpbmVzLFxuICAgICAgICAgICAgbGluZVdpZHRocyxcbiAgICAgICAgICAgIGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nLFxuICAgICAgICAgICAgbWF4TGluZVdpZHRoLFxuICAgICAgICAgICAgZm9udFByb3BlcnRpZXNcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIG5ld2xpbmVzIHRvIGEgc3RyaW5nIHRvIGhhdmUgaXQgb3B0aW1hbGx5IGZpdCBpbnRvIHRoZSBob3Jpem9udGFsXG4gICAgICogYm91bmRzIHNldCBieSB0aGUgVGV4dCBvYmplY3QncyB3b3JkV3JhcFdpZHRoIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFN0cmluZyB0byBhcHBseSB3b3JkIHdyYXBwaW5nIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdG8gdXNlIHdoZW4gd3JhcHBpbmdcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IE5ldyBzdHJpbmcgd2l0aCBuZXcgbGluZXMgYXBwbGllZCB3aGVyZSByZXF1aXJlZFxuICAgICAqL1xuICAgIHN0YXRpYyB3b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcylcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICBsZXQgd2lkdGggPSAwO1xuICAgICAgICBsZXQgbGluZSA9ICcnO1xuICAgICAgICBsZXQgbGluZXMgPSAnJztcblxuICAgICAgICBjb25zdCBjYWNoZSA9IHt9O1xuICAgICAgICBjb25zdCB7IGxldHRlclNwYWNpbmcsIHdoaXRlU3BhY2UgfSA9IHN0eWxlO1xuXG4gICAgICAgIC8vIEhvdyB0byBoYW5kbGUgd2hpdGVzcGFjZXNcbiAgICAgICAgY29uc3QgY29sbGFwc2VTcGFjZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyh3aGl0ZVNwYWNlKTtcbiAgICAgICAgY29uc3QgY29sbGFwc2VOZXdsaW5lcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG5cbiAgICAgICAgLy8gd2hldGhlciBvciBub3Qgc3BhY2VzIG1heSBiZSBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgIGxldCBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuXG4gICAgICAgIC8vIFRoZXJlIGlzIGxldHRlclNwYWNpbmcgYWZ0ZXIgZXZlcnkgY2hhciBleGNlcHQgdGhlIGxhc3Qgb25lXG4gICAgICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hXG4gICAgICAgIC8vIHNvIGZvciBjb252ZW5pZW5jZSB0aGUgYWJvdmUgbmVlZHMgdG8gYmUgY29tcGFyZWQgdG8gd2lkdGggKyAxIGV4dHJhIGxldHRlclNwYWNlXG4gICAgICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hX1xuICAgICAgICAvLyBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbiAgICAgICAgLy8gQW5kIHRoZW4gdGhlIGZpbmFsIHNwYWNlIGlzIHNpbXBseSBubyBhcHBlbmRlZCB0byBlYWNoIGxpbmVcbiAgICAgICAgY29uc3Qgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuXG4gICAgICAgIC8vIGJyZWFrIHRleHQgaW50byB3b3Jkcywgc3BhY2VzIGFuZCBuZXdsaW5lIGNoYXJzXG4gICAgICAgIGNvbnN0IHRva2VucyA9IFRleHRNZXRyaWNzLnRva2VuaXplKHRleHQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHdvcmQsIHNwYWNlIG9yIG5ld2xpbmVDaGFyXG4gICAgICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICAgICAgICAgIC8vIGlmIHdvcmQgaXMgYSBuZXcgbGluZVxuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzTmV3bGluZSh0b2tlbikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCB0aGUgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICBpZiAoIWNvbGxhcHNlTmV3bGluZXMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIGNvbGxhcHNlIG5ldyBsaW5lc1xuICAgICAgICAgICAgICAgIC8vIHdlIHNpbXBseSBjb252ZXJ0IGl0IGludG8gYSBzcGFjZVxuICAgICAgICAgICAgICAgIHRva2VuID0gJyAnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgcmVwZWF0ZWQgd2hpdGVzcGFjZXNcbiAgICAgICAgICAgIGlmIChjb2xsYXBzZVNwYWNlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBib3RoIHRoaXMgYW5kIHRoZSBsYXN0IHRva2VucyBmb3Igc3BhY2VzXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycklzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdElzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShsaW5lW2xpbmUubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJJc0JyZWFraW5nU3BhY2UgJiYgbGFzdElzQnJlYWtpbmdTcGFjZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZ2V0IHdvcmQgd2lkdGggZnJvbSBjYWNoZSBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgY29uc3QgdG9rZW5XaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZSh0b2tlbiwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAvLyB3b3JkIGlzIGxvbmdlciB0aGFuIGRlc2lyZWQgYm91bmRzXG4gICAgICAgICAgICBpZiAodG9rZW5XaWR0aCA+IHdvcmRXcmFwV2lkdGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBhbHJlYWR5IGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUgIT09ICcnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgbmV3bGluZXMgZm9yIG92ZXJmbG93IHdvcmRzXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGJyZWFrIGxhcmdlIHdvcmQgb3ZlciBtdWx0aXBsZSBsaW5lc1xuICAgICAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5jYW5CcmVha1dvcmRzKHRva2VuLCBzdHlsZS5icmVha1dvcmRzKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJyZWFrIHdvcmQgaW50byBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcnMgPSB0b2tlbi5zcGxpdCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoYXJhY3RlcnMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGFyID0gY2hhcmFjdGVyc1tqXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGsgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIG5vdCBhdCB0aGUgZW5kIG9mIHRoZSB0b2tlblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY2hhcmFjdGVyc1tqICsga10pXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dENoYXIgPSBjaGFyYWN0ZXJzW2ogKyBrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q2hhciA9IGNoYXJbY2hhci5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBub3Qgc3BsaXQgY2hhcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmNhbkJyZWFrQ2hhcnMobGFzdENoYXIsIG5leHRDaGFyLCB0b2tlbiwgaiwgc3R5bGUuYnJlYWtXb3JkcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21iaW5lIGNoYXJzICYgbW92ZSBmb3J3YXJkIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICs9IG5leHRDaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gY2hhci5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJXaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZShjaGFyLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJXaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lICs9IGNoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHJ1biB3b3JkIG91dCBvZiB0aGUgYm91bmRzXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHdvcmRzIGluIHRoaXMgbGluZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaCB0aGF0IGxpbmUgYW5kIHN0YXJ0IGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNMYXN0VG9rZW4gPSBpID09PSB0b2tlbnMubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBnaXZlIGl0IGl0cyBvd24gbGluZSBpZiBpdCdzIG5vdCB0aGUgZW5kXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUodG9rZW4sICFpc0xhc3RUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3b3JkIGNvdWxkIGZpdFxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHdvcmQgd29uJ3QgZml0IGJlY2F1c2Ugb2YgZXhpc3Rpbmcgd29yZHNcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdHMgYSBzcGFjZSB3ZSBkb24ndCB3YW50IGl0XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIHNwYWNlcyB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCB8fCAhVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKHRva2VuKSB8fCBjYW5QcmVwZW5kU3BhY2VzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZSArPSB0b2tlbjtcblxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgd2lkdGggY291bnRlclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSB0b2tlbldpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSwgZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252aWVuaWVuY2UgZnVuY3Rpb24gZm9yIGxvZ2dpbmcgZWFjaCBsaW5lIGFkZGVkIGR1cmluZyB0aGUgd29yZFdyYXBcbiAgICAgKiBtZXRob2RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIGxpbmUgICAgICAgIC0gVGhlIGxpbmUgb2YgdGV4dCB0byBhZGRcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgbmV3TGluZSAgICAgLSBBZGQgbmV3IGxpbmUgY2hhcmFjdGVyIHRvIGVuZFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gICBBIGZvcm1hdHRlZCBsaW5lXG4gICAgICovXG4gICAgc3RhdGljIGFkZExpbmUobGluZSwgbmV3TGluZSA9IHRydWUpXG4gICAge1xuICAgICAgICBsaW5lID0gVGV4dE1ldHJpY3MudHJpbVJpZ2h0KGxpbmUpO1xuXG4gICAgICAgIGxpbmUgPSAobmV3TGluZSkgPyBgJHtsaW5lfVxcbmAgOiBsaW5lO1xuXG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgJiBzZXRzIHRoZSB3aWR0aHMgb2YgY2FsY3VsYXRlZCBjaGFyYWN0ZXJzIGluIGEgY2FjaGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgICAgICAgIGtleSAgICAgICAgICAgIFRoZSBrZXlcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nICBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgICBjYWNoZSAgICAgICAgICBUaGUgY2FjaGVcbiAgICAgKiBAcGFyYW0gIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICBjb250ZXh0ICAgICAgICBUaGUgY2FudmFzIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBUaGUgZnJvbSBjYWNoZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0RnJvbUNhY2hlKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpXG4gICAge1xuICAgICAgICBsZXQgd2lkdGggPSBjYWNoZVtrZXldO1xuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzcGFjaW5nID0gKChrZXkubGVuZ3RoKSAqIGxldHRlclNwYWNpbmcpO1xuXG4gICAgICAgICAgICB3aWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQoa2V5KS53aWR0aCArIHNwYWNpbmc7XG4gICAgICAgICAgICBjYWNoZVtrZXldID0gd2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBicmVha2luZyBzcGFjZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHdoaXRlU3BhY2UgIFRoZSBUZXh0U3R5bGUgcHJvcGVydHkgd2hpdGVTcGFjZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY29sbGFwc2VTcGFjZXMod2hpdGVTcGFjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiAod2hpdGVTcGFjZSA9PT0gJ25vcm1hbCcgfHwgd2hpdGVTcGFjZSA9PT0gJ3ByZS1saW5lJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBuZXdMaW5lIGNoYXJzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlICBUaGUgd2hpdGUgc3BhY2VcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgc2hvdWxkIGNvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiAod2hpdGVTcGFjZSA9PT0gJ25vcm1hbCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRyaW1zIGJyZWFraW5nIHdoaXRlc3BhY2VzIGZyb20gc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgIFRoZSB0ZXh0XG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgdHJpbW1lZCBzdHJpbmdcbiAgICAgKi9cbiAgICBzdGF0aWMgdHJpbVJpZ2h0KHRleHQpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hhciA9IHRleHRbaV07XG5cbiAgICAgICAgICAgIGlmICghVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZSgwLCAtMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBuZXdsaW5lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICBUaGUgY2hhcmFjdGVyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgbmV3bGluZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIHN0YXRpYyBpc05ld2xpbmUoY2hhcilcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX25ld2xpbmVzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBicmVha2luZyB3aGl0ZXNwYWNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICBUaGUgY2hhcmFjdGVyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgd2hpdGVzcGFjZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIHN0YXRpYyBpc0JyZWFraW5nU3BhY2UoY2hhcilcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYSBzdHJpbmcgaW50byB3b3JkcywgYnJlYWtpbmctc3BhY2VzIGFuZCBuZXdMaW5lIGNoYXJhY3RlcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAgICAgICBUaGUgdGV4dFxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSAgQSB0b2tlbml6ZWQgYXJyYXlcbiAgICAgKi9cbiAgICBzdGF0aWMgdG9rZW5pemUodGV4dClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IFtdO1xuICAgICAgICBsZXQgdG9rZW4gPSAnJztcblxuICAgICAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gdGV4dFtpXTtcblxuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSB8fCBUZXh0TWV0cmljcy5pc05ld2xpbmUoY2hhcikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuICE9PSAnJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSAnJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaChjaGFyKTtcblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0b2tlbiArPSBjaGFyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRva2VuICE9PSAnJylcbiAgICAgICAge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBleGlzdHMgdG8gYmUgZWFzaWx5IG92ZXJyaWRkZW5cbiAgICAgKiBJdCBhbGxvd3Mgb25lIHRvIGN1c3RvbWlzZSB3aGljaCB3b3JkcyBzaG91bGQgYnJlYWtcbiAgICAgKiBFeGFtcGxlcyBhcmUgaWYgdGhlIHRva2VuIGlzIENKSyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICAgICAgVGhlIHRva2VuXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gIGJyZWFrV29yZHMgIFRoZSBzdHlsZSBhdHRyIGJyZWFrIHdvcmRzXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0byBicmVhayB3b3JkIG9yIG5vdFxuICAgICAqL1xuICAgIHN0YXRpYyBjYW5CcmVha1dvcmRzKHRva2VuLCBicmVha1dvcmRzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGJyZWFrV29yZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgZXhpc3RzIHRvIGJlIGVhc2lseSBvdmVycmlkZGVuXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBkZXRlcm1pbmUgd2hldGhlciBhIHBhaXIgb2YgY2hhcmFjdGVyc1xuICAgICAqIHNob3VsZCBiZSBicm9rZW4gYnkgbmV3bGluZXNcbiAgICAgKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gICAgICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICAgICAgVGhlIGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIG5leHRDaGFyICBUaGUgbmV4dCBjaGFyYWN0ZXJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgICAgVGhlIHRva2VuL3dvcmQgdGhlIGNoYXJhY3RlcnMgYXJlIGZyb21cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICBpbmRleCAgICAgVGhlIGluZGV4IGluIHRoZSB0b2tlbiBvZiB0aGUgY2hhclxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzICBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAgICAgKi9cbiAgICBzdGF0aWMgY2FuQnJlYWtDaGFycyhjaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGluZGV4LCBicmVha1dvcmRzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLklGb250TWV0cmljc30gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuICAgIHN0YXRpYyBtZWFzdXJlRm9udChmb250KVxuICAgIHtcbiAgICAgICAgLy8gYXMgdGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgcHJlcGFyaW5nIGFzc2V0cywgZG9uJ3QgcmVjYWxjdWxhdGUgdGhpbmdzIGlmIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLl9mb250c1tmb250XSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICBjb25zdCBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICBjb25zdCBtZXRyaWNzU3RyaW5nID0gVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgKyBUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0w7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQobWV0cmljc1N0cmluZykud2lkdGgpO1xuICAgICAgICBsZXQgYmFzZWxpbmUgPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wpLndpZHRoKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gMiAqIGJhc2VsaW5lO1xuXG4gICAgICAgIGJhc2VsaW5lID0gYmFzZWxpbmUgKiBUZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSIHwgMDtcblxuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZjAwJztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ2FscGhhYmV0aWMnO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMDAwJztcbiAgICAgICAgY29udGV4dC5maWxsVGV4dChtZXRyaWNzU3RyaW5nLCAwLCBiYXNlbGluZSk7XG5cbiAgICAgICAgY29uc3QgaW1hZ2VkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICAgICAgY29uc3QgcGl4ZWxzID0gaW1hZ2VkYXRhLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbGluZSA9IHdpZHRoICogNDtcblxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICBsZXQgc3RvcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGFzY2VudC4gc2NhbiBmcm9tIHRvcCB0byBib3R0b20gdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJhc2VsaW5lOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZTsgaiArPSA0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0b3ApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWR4ICs9IGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wZXJ0aWVzLmFzY2VudCA9IGJhc2VsaW5lIC0gaTtcblxuICAgICAgICBpZHggPSBwaXhlbHMgLSBsaW5lO1xuICAgICAgICBzdG9wID0gZmFsc2U7XG5cbiAgICAgICAgLy8gZGVzY2VudC4gc2NhbiBmcm9tIGJvdHRvbSB0byB0b3AgdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gaGVpZ2h0OyBpID4gYmFzZWxpbmU7IC0taSlcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqXSAhPT0gMjU1KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzdG9wKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkeCAtPSBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5kZXNjZW50ID0gaSAtIGJhc2VsaW5lO1xuICAgICAgICBwcm9wZXJ0aWVzLmZvbnRTaXplID0gcHJvcGVydGllcy5hc2NlbnQgKyBwcm9wZXJ0aWVzLmRlc2NlbnQ7XG5cbiAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdID0gcHJvcGVydGllcztcblxuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBmb250IG1ldHJpY3MgaW4gbWV0cmljcyBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZvbnRdIC0gZm9udCBuYW1lLiBJZiBmb250IG5hbWUgbm90IHNldCB0aGVuIGNsZWFyIGNhY2hlIGZvciBhbGwgZm9udHMuXG4gICAgICovXG4gICAgc3RhdGljIGNsZWFyTWV0cmljcyhmb250ID0gJycpXG4gICAge1xuICAgICAgICBpZiAoZm9udClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIHJldHVybiBvYmplY3QgZm9yIHtAbGluayBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVGb250IGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udGB9LlxuICpcbiAqIEB0eXBlZGVmIHtvYmplY3R9IEZvbnRNZXRyaWNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gVGhlIGFzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBUaGUgZGVzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvbnRTaXplIC0gRm9udCBzaXplIGZyb20gYXNjZW50IHRvIGRlc2NlbnRcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAcHJpdmF0ZVxuICovXG5cbmNvbnN0IGNhbnZhcyA9ICgoKSA9Plxue1xuICAgIHRyeVxuICAgIHtcbiAgICAgICAgLy8gT2Zmc2NyZWVuQ2FudmFzMkQgbWVhc3VyZVRleHQgY2FuIGJlIHVwIHRvIDQwJSBmYXN0ZXIuXG4gICAgICAgIGNvbnN0IGMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsIDApO1xuXG4gICAgICAgIHJldHVybiBjLmdldENvbnRleHQoJzJkJykgPyBjIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgfVxuICAgIGNhdGNoIChleClcbiAgICB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9XG59KSgpO1xuXG5jYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gMTA7XG5cbi8qKlxuICogQ2FjaGVkIGNhbnZhcyBlbGVtZW50IGZvciBtZWFzdXJpbmcgdGV4dFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY2FudmFzID0gY2FudmFzO1xuXG4vKipcbiAqIENhY2hlIGZvciBjb250ZXh0IHRvIHVzZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbi8qKlxuICogQ2FjaGUgb2Yge0BzZWUgUElYSS5UZXh0TWV0cmljcy5Gb250TWV0cmljc30gb2JqZWN0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuXG4vKipcbiAqIFN0cmluZyB1c2VkIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICogVGhlc2UgY2hhcmFjdGVycyBhcmUgYWxsIHRhbGwgdG8gaGVscCBjYWxjdWxhdGUgdGhlIGhlaWdodCByZXF1aXJlZCBmb3IgdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgTUVUUklDU19TVFJJTkdcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCB8w4lxw4VcbiAqL1xuVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgPSAnfMOJccOFJztcblxuLyoqXG4gKiBCYXNlbGluZSBzeW1ib2wgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEJBU0VMSU5FX1NZTUJPTFxuICogQHR5cGUge3N0cmluZ31cbiAqIEBkZWZhdWx0IE1cbiAqL1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MID0gJ00nO1xuXG4vKipcbiAqIEJhc2VsaW5lIG11bHRpcGxpZXIgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEJBU0VMSU5FX01VTFRJUExJRVJcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAxLjRcbiAqL1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiA9IDEuNDtcblxuLyoqXG4gKiBDYWNoZSBvZiBuZXcgbGluZSBjaGFycy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX25ld2xpbmVzID0gW1xuICAgIDB4MDAwQSwgLy8gbGluZSBmZWVkXG4gICAgMHgwMDBELCAvLyBjYXJyaWFnZSByZXR1cm5cbl07XG5cbi8qKlxuICogQ2FjaGUgb2YgYnJlYWtpbmcgc3BhY2VzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMgPSBbXG4gICAgMHgwMDA5LCAvLyBjaGFyYWN0ZXIgdGFidWxhdGlvblxuICAgIDB4MDAyMCwgLy8gc3BhY2VcbiAgICAweDIwMDAsIC8vIGVuIHF1YWRcbiAgICAweDIwMDEsIC8vIGVtIHF1YWRcbiAgICAweDIwMDIsIC8vIGVuIHNwYWNlXG4gICAgMHgyMDAzLCAvLyBlbSBzcGFjZVxuICAgIDB4MjAwNCwgLy8gdGhyZWUtcGVyLWVtIHNwYWNlXG4gICAgMHgyMDA1LCAvLyBmb3VyLXBlci1lbSBzcGFjZVxuICAgIDB4MjAwNiwgLy8gc2l4LXBlci1lbSBzcGFjZVxuICAgIDB4MjAwOCwgLy8gcHVuY3R1YXRpb24gc3BhY2VcbiAgICAweDIwMDksIC8vIHRoaW4gc3BhY2VcbiAgICAweDIwMEEsIC8vIGhhaXIgc3BhY2VcbiAgICAweDIwNUYsIC8vIG1lZGl1bSBtYXRoZW1hdGljYWwgc3BhY2VcbiAgICAweDMwMDAsIC8vIGlkZW9ncmFwaGljIHNwYWNlXG5dO1xuXG4vKipcbiAqIEEgbnVtYmVyLCBvciBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiBJRm9udE1ldHJpY3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBGb250IGFzY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBGb250IGRlc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZVxuICovXG5cbiIsIi8qIGVzbGludCBtYXgtZGVwdGg6IFsyLCA4XSAqL1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzaWduLCB0cmltQ2FudmFzLCBoZXgycmdiLCBzdHJpbmcyaGV4IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgVEVYVF9HUkFESUVOVCB9IGZyb20gJy4vY29uc3QnO1xuaW1wb3J0IFRleHRTdHlsZSBmcm9tICcuL1RleHRTdHlsZSc7XG5pbXBvcnQgVGV4dE1ldHJpY3MgZnJvbSAnLi9UZXh0TWV0cmljcyc7XG5cbmNvbnN0IGRlZmF1bHREZXN0cm95T3B0aW9ucyA9IHtcbiAgICB0ZXh0dXJlOiB0cnVlLFxuICAgIGNoaWxkcmVuOiBmYWxzZSxcbiAgICBiYXNlVGV4dHVyZTogdHJ1ZSxcbn07XG5cbi8qKlxuICogQSBUZXh0IE9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dC5cbiAqXG4gKiBUaGUgdGV4dCBpcyBjcmVhdGVkIHVzaW5nIHRoZSBbQ2FudmFzIEFQSV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc19BUEkpLlxuICpcbiAqIFRoZSBwcmltYXJ5IGFkdmFudGFnZSBvZiB0aGlzIGNsYXNzIG92ZXIgQml0bWFwVGV4dCBpcyB0aGF0IHlvdSBoYXZlIGdyZWF0IGNvbnRyb2wgb3ZlciB0aGUgc3R5bGUgb2YgdGhlIG5leHQsXG4gKiB3aGljaCB5b3UgY2FuIGNoYW5nZSBhdCBydW50aW1lLlxuICpcbiAqIFRoZSBwcmltYXJ5IGRpc2FkdmFudGFnZXMgaXMgdGhhdCBlYWNoIHBpZWNlIG9mIHRleHQgaGFzIGl0J3Mgb3duIHRleHR1cmUsIHdoaWNoIGNhbiB1c2UgbW9yZSBtZW1vcnkuXG4gKiBXaGVuIHRleHQgY2hhbmdlcywgdGhpcyB0ZXh0dXJlIGhhcyB0byBiZSByZS1nZW5lcmF0ZWQgYW5kIHJlLXVwbG9hZGVkIHRvIHRoZSBHUFUsIHRha2luZyB1cCB0aW1lLlxuICpcbiAqIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJyBpbiB5b3VyIHRleHQgc3RyaW5nLCBvciwgb24gdGhlIGBzdHlsZWAgb2JqZWN0LFxuICogY2hhbmdlIGl0cyBgd29yZFdyYXBgIHByb3BlcnR5IHRvIHRydWUgYW5kIGFuZCBnaXZlIHRoZSBgd29yZFdyYXBXaWR0aGAgcHJvcGVydHkgYSB2YWx1ZS5cbiAqXG4gKiBBIFRleHQgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhIHN0cmluZyBhbmQgYSBzdHlsZSBvYmplY3QsXG4gKiB3aGljaCBjYW4gYmUgZ2VuZXJhdGVkIFtoZXJlXShodHRwczovL3BpeGlqcy5pby9waXhpLXRleHQtc3R5bGUpLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dCA9IG5ldyBQSVhJLlRleHQoJ1RoaXMgaXMgYSBQaXhpSlMgdGV4dCcse2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dCBleHRlbmRzIFNwcml0ZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBUaGUgY2FudmFzIGVsZW1lbnQgZm9yIGRyYXdpbmcgdGV4dFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHQsIHN0eWxlLCBjYW52YXMpXG4gICAge1xuICAgICAgICBjYW52YXMgPSBjYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gMztcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDM7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IFRleHR1cmUuZnJvbShjYW52YXMpO1xuXG4gICAgICAgIHRleHR1cmUub3JpZyA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGV4dHVyZS50cmltID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIHN1cGVyKHRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aFxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLlxuICAgICAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICB0aGlzLl9hdXRvUmVzb2x1dGlvbiA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgbGlzdGVuZXIgdG8gdHJhY2sgc3R5bGUgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdHlsZUxpc3RlbmVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mb250ID0gJyc7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3BlY3REaXJ0eSAtIFdoZXRoZXIgdG8gYWJvcnQgdXBkYXRpbmcgdGhlIHRleHQgaWYgdGhlIFRleHQgaXNuJ3QgZGlydHkgYW5kIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgdXBkYXRlVGV4dChyZXNwZWN0RGlydHkpXG4gICAge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIHN0eWxlIGhhcyBjaGFuZ2VkLi5cbiAgICAgICAgaWYgKHRoaXMubG9jYWxTdHlsZUlEICE9PSBzdHlsZS5zdHlsZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gc3R5bGUuc3R5bGVJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5kaXJ0eSAmJiByZXNwZWN0RGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZvbnQgPSB0aGlzLl9zdHlsZS50b0ZvbnRTdHJpbmcoKTtcblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBjb25zdCBtZWFzdXJlZCA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRoaXMuX3RleHQgfHwgJyAnLCB0aGlzLl9zdHlsZSwgdGhpcy5fc3R5bGUud29yZFdyYXAsIHRoaXMuY2FudmFzKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gbWVhc3VyZWQuaGVpZ2h0O1xuICAgICAgICBjb25zdCBsaW5lcyA9IG1lYXN1cmVkLmxpbmVzO1xuICAgICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICAgICAgY29uc3QgbGluZVdpZHRocyA9IG1lYXN1cmVkLmxpbmVXaWR0aHM7XG4gICAgICAgIGNvbnN0IG1heExpbmVXaWR0aCA9IG1lYXN1cmVkLm1heExpbmVXaWR0aDtcbiAgICAgICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcblxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgd2lkdGgpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCBoZWlnaHQpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMuX3Jlc29sdXRpb24sIHRoaXMuX3Jlc29sdXRpb24pO1xuXG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IHRoaXMuX2ZvbnQ7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuXG4gICAgICAgIGxldCBsaW5lUG9zaXRpb25YO1xuICAgICAgICBsZXQgbGluZVBvc2l0aW9uWTtcblxuICAgICAgICAvLyByZXF1aXJlIDIgcGFzc2VzIGlmIGEgc2hhZG93OyB0aGUgZmlyc3QgdG8gZHJhdyB0aGUgZHJvcCBzaGFkb3csIHRoZSBzZWNvbmQgdG8gZHJhdyB0aGUgdGV4dFxuICAgICAgICBjb25zdCBwYXNzZXNDb3VudCA9IHN0eWxlLmRyb3BTaGFkb3cgPyAyIDogMTtcblxuICAgICAgICAvLyBGb3IgdjQsIHdlIGRyZXcgdGV4dCBhdCB0aGUgY29sb3VycyBvZiB0aGUgZHJvcCBzaGFkb3cgdW5kZXJuZWF0aCB0aGUgbm9ybWFsIHRleHQuIFRoaXMgZ2F2ZSB0aGUgY29ycmVjdCB6SW5kZXgsXG4gICAgICAgIC8vIGJ1dCBmZWF0dXJlcyBzdWNoIGFzIGFscGhhIGFuZCBzaGFkb3dibHVyIGRpZCBub3QgbG9vayByaWdodCBhdCBhbGwsIHNpbmNlIHdlIHdlcmUgdXNpbmcgYWN0dWFsIHRleHQgYXMgYSBzaGFkb3cuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZvciB2NS4wLjAsIHdlIG1vdmVkIG92ZXIgdG8ganVzdCB1c2UgdGhlIGNhbnZhcyBBUEkgZm9yIGRyb3Agc2hhZG93cywgd2hpY2ggbWFkZSB0aGVtIGxvb2sgbXVjaCBuaWNlciBhbmQgbW9yZVxuICAgICAgICAvLyB2aXN1YWxseSBwbGVhc2UsIGJ1dCBub3cgYmVjYXVzZSB0aGUgc3Ryb2tlIGlzIGRyYXduIGFuZCB0aGVuIHRoZSBmaWxsLCBkcm9wIHNoYWRvd3Mgd291bGQgYXBwZWFyIG9uIGJvdGggdGhlIGZpbGxcbiAgICAgICAgLy8gYW5kIHRoZSBzdHJva2U7IGFuZCBmaWxsIGRyb3Agc2hhZG93cyB3b3VsZCBhcHBlYXIgb3ZlciB0aGUgdG9wIG9mIHRoZSBzdHJva2UuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZvciB2NS4xLjEsIHRoZSBuZXcgcm91dGUgaXMgdG8gcmV2ZXJ0IHRvIHY0IHN0eWxlIG9mIGRyYXdpbmcgdGV4dCBmaXJzdCB0byBnZXQgdGhlIGRyb3Agc2hhZG93cyB1bmRlcm5lYXRoIG5vcm1hbFxuICAgICAgICAvLyB0ZXh0LCBidXQgaW5zdGVhZCBkcmF3aW5nIHRleHQgaW4gdGhlIGNvcnJlY3QgbG9jYXRpb24sIHdlJ2xsIGRyYXcgaXQgb2ZmIHNjcmVlbiAoLXBhZGRpbmdZKSwgYW5kIHRoZW4gYWRqdXN0IHRoZVxuICAgICAgICAvLyBkcm9wIHNoYWRvdyBzbyBvbmx5IHRoYXQgYXBwZWFycyBvbiBzY3JlZW4gKCtwYWRkaW5nWSkuIE5vdyB3ZSdsbCBoYXZlIHRoZSBjb3JyZWN0IGRyYXcgb3JkZXIgb2YgdGhlIHNoYWRvd1xuICAgICAgICAvLyBiZW5lYXRoIHRoZSB0ZXh0LCB3aGlsc3QgYWxzbyBoYXZpbmcgdGhlIHByb3BlciB0ZXh0IHNoYWRvdyBzdHlsaW5nLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3Nlc0NvdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGlzU2hhZG93UGFzcyA9IHN0eWxlLmRyb3BTaGFkb3cgJiYgaSA9PT0gMDtcbiAgICAgICAgICAgIGNvbnN0IGRzT2Zmc2V0VGV4dCA9IGlzU2hhZG93UGFzcyA/IGhlaWdodCAqIDIgOiAwOyAvLyB3ZSBvbmx5IHdhbnQgdGhlIGRyb3Agc2hhZG93LCBzbyBwdXQgdGV4dCB3YXkgb2ZmLXNjcmVlblxuICAgICAgICAgICAgY29uc3QgZHNPZmZzZXRTaGFkb3cgPSBkc09mZnNldFRleHQgKiB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGlmIChpc1NoYWRvd1Bhc3MpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gT24gU2FmYXJpLCB0ZXh0IHdpdGggZ3JhZGllbnQgYW5kIGRyb3Agc2hhZG93cyB0b2dldGhlciBkbyBub3QgcG9zaXRpb24gY29ycmVjdGx5XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNjYWxlIG9mIHRoZSBjYW52YXMgaXMgbm90IDE6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xOTc2ODlcbiAgICAgICAgICAgICAgICAvLyBUaGVyZWZvcmUgd2UnbGwgc2V0IHRoZSBzdHlsZXMgdG8gYmUgYSBwbGFpbiBibGFjayB3aGlsc3QgZ2VuZXJhdGluZyB0aGlzIGRyb3Agc2hhZG93XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZHJvcFNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJnYiA9IGhleDJyZ2IodHlwZW9mIGRyb3BTaGFkb3dDb2xvciA9PT0gJ251bWJlcicgPyBkcm9wU2hhZG93Q29sb3IgOiBzdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IGByZ2JhKCR7cmdiWzBdICogMjU1fSwke3JnYlsxXSAqIDI1NX0sJHtyZ2JbMl0gKiAyNTV9LCR7c3R5bGUuZHJvcFNoYWRvd0FscGhhfSlgO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gKE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UpICsgZHNPZmZzZXRTaGFkb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gc2V0IGNhbnZhcyB0ZXh0IHN0eWxlc1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGRyYXcgbGluZXMgbGluZSBieSBsaW5lXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSAoKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpICsgKGkgKiBsaW5lSGVpZ2h0KSkgKyBmb250UHJvcGVydGllcy5hc2NlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSAnY2VudGVyJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV0pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmZpbGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSB0ZXh0IHdpdGggbGV0dGVyLXNwYWNpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBkcmF3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBIb3Jpem9udGFsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFZlcnRpY2FsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cm9rZT1mYWxzZV0gLSBJcyB0aGlzIGRyYXdpbmcgZm9yIHRoZSBvdXRzaWRlIHN0cm9rZSBvZiB0aGVcbiAgICAgKiAgdGV4dD8gSWYgbm90LCBpdCdzIGZvciB0aGUgaW5zaWRlIGZpbGxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRyYXdMZXR0ZXJTcGFjaW5nKHRleHQsIHgsIHksIGlzU3Ryb2tlID0gZmFsc2UpXG4gICAge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuXG4gICAgICAgIC8vIGxldHRlclNwYWNpbmcgb2YgMCBtZWFucyBub3JtYWxcbiAgICAgICAgY29uc3QgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgaWYgKGxldHRlclNwYWNpbmcgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50UG9zaXRpb24gPSB4O1xuXG4gICAgICAgIC8vIFVzaW5nIEFycmF5LmZyb20gY29ycmVjdGx5IHNwbGl0cyBjaGFyYWN0ZXJzIHdoaWxzdCBrZWVwaW5nIGVtb2ppIHRvZ2V0aGVyLlxuICAgICAgICAvLyBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgb24gSUUgYXMgaXQgcmVxdWlyZXMgRVM2LCBzbyByZWd1bGFyIHRleHQgc3BsaXR0aW5nIG9jY3Vycy5cbiAgICAgICAgLy8gVGhpcyBhbHNvIGRvZXNuJ3QgYWNjb3VudCBmb3IgZW1vamkgdGhhdCBhcmUgbXVsdGlwbGUgZW1vamkgcHV0IHRvZ2V0aGVyIHRvIG1ha2Ugc29tZXRoaW5nIGVsc2UuXG4gICAgICAgIC8vIEhhbmRsaW5nIGFsbCBvZiB0aGlzIHdvdWxkIHJlcXVpcmUgYSBiaWcgbGlicmFyeSBpdHNlbGYuXG4gICAgICAgIC8vIGh0dHBzOi8vbWVkaXVtLmNvbS9AZ2lsdGF5YXIvaXRlcmF0aW5nLW92ZXItZW1vamktY2hhcmFjdGVycy10aGUtZXM2LXdheS1mMDZlNDU4OTUxNlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vb3JsaW5nL2dyYXBoZW1lLXNwbGl0dGVyXG4gICAgICAgIGNvbnN0IHN0cmluZ0FycmF5ID0gQXJyYXkuZnJvbSA/IEFycmF5LmZyb20odGV4dCkgOiB0ZXh0LnNwbGl0KCcnKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ0FycmF5Lmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q2hhciA9IHN0cmluZ0FycmF5W2ldO1xuXG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQoY3VycmVudENoYXIsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uICs9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChjdXJyZW50Q2hhcikud2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0dXJlIHNpemUgYmFzZWQgb24gY2FudmFzIHNpemVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXBkYXRlVGV4dHVyZSgpXG4gICAge1xuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmNhbnZhcztcblxuICAgICAgICBpZiAodGhpcy5fc3R5bGUudHJpbSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdHJpbW1lZCA9IHRyaW1DYW52YXMoY2FudmFzKTtcblxuICAgICAgICAgICAgaWYgKHRyaW1tZWQuZGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0cmltbWVkLndpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0cmltbWVkLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRyaW1tZWQuZGF0YSwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHN0eWxlLnRyaW0gPyAwIDogc3R5bGUucGFkZGluZztcbiAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIHRleHR1cmUudHJpbS53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gTWF0aC5jZWlsKGNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcblxuICAgICAgICB0ZXh0dXJlLm9yaWcud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAtIChwYWRkaW5nICogMik7XG4gICAgICAgIHRleHR1cmUub3JpZy5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgLSAocGFkZGluZyAqIDIpO1xuXG4gICAgICAgIC8vIGNhbGwgc3ByaXRlIG9uVGV4dHVyZVVwZGF0ZSB0byB1cGRhdGUgc2NhbGUgaWYgX3dpZHRoIG9yIF9oZWlnaHQgd2VyZSBzZXRcbiAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVhbFNpemUoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0LCB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgX3JlbmRlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvUmVzb2x1dGlvbiAmJiB0aGlzLl9yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHN1cGVyLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgZ2V0TG9jYWxCb3VuZHMocmVjdClcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIFRleHQgYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NhbGN1bGF0ZUJvdW5kcygpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IGRvbmUgdGhpcyBvbiBUSElTIGZyYW1lLlxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBiZSBjYWxsZWQgdXBvbiBhIFRleHRTdHlsZSBjaGFuZ2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25TdHlsZUNoYW5nZSgpXG4gICAge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAgICAgKi9cbiAgICBfZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzKVxuICAgIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN0eWxlLmZpbGwpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGUuZmlsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZS5maWxsLmxlbmd0aCA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmZpbGxbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGxldCBncmFkaWVudDtcbiAgICAgICAgbGV0IHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgbGV0IGN1cnJlbnRJdGVyYXRpb247XG4gICAgICAgIGxldCBzdG9wO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgc3R5bGUgc2V0dGluZ3MsIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHRoZW0gbGF0ZXJcbiAgICAgICAgY29uc3QgZmlsbCA9IHN0eWxlLmZpbGwuc2xpY2UoKTtcbiAgICAgICAgY29uc3QgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuXG4gICAgICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGhQbHVzMTsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgICAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICAgICAgZmlsbC51bnNoaWZ0KHN0eWxlLmZpbGxbMF0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy51bnNoaWZ0KDApO1xuXG4gICAgICAgIGZpbGwucHVzaChzdHlsZS5maWxsW3N0eWxlLmZpbGwubGVuZ3RoIC0gMV0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuXG4gICAgICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSB0b3AgY2VudGVyIG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGJvdHRvbSBtaWRkbGUgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgICAgZ3JhZGllbnQgPSB0aGlzLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQod2lkdGggLyAyLCAwLCB3aWR0aCAvIDIsIGhlaWdodCk7XG5cbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVwZWF0IHRoZSBncmFkaWVudCBzbyB0aGF0IGVhY2ggaW5kaXZpZHVhbCBsaW5lIG9mIHRleHQgaGFzIHRoZSBzYW1lIHZlcnRpY2FsIGdyYWRpZW50IGVmZmVjdFxuICAgICAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcbiAgICAgICAgICAgIHRvdGFsSXRlcmF0aW9ucyA9IChmaWxsLmxlbmd0aCArIDEpICogbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gKz0gMTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcCA9IChmaWxsR3JhZGllbnRTdG9wc1tqXSAvIGxpbmVzLmxlbmd0aCkgKyAoaSAvIGxpbmVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIGNlbnRlciBsZWZ0IG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGNlbnRlciByaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCBoZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIC8vIHRvIGFuIGV2ZW4gbGVmdCB0byByaWdodCBncmFkaWVudFxuICAgICAgICAgICAgdG90YWxJdGVyYXRpb25zID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsbC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2ldID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2ldKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ3JhZGllbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0IG9iamVjdC5cbiAgICAgKiBOb3RlKiBVbmxpa2UgYSBTcHJpdGUsIGEgVGV4dCBvYmplY3Qgd2lsbCBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgaXRzIGJhc2VUZXh0dXJlIGFuZCB0ZXh0dXJlIGFzXG4gICAgICogdGhlIG1ham9yaXR5IG9mIHRoZSB0aW1lIHRoZSB0ZXh0dXJlIHdpbGwgbm90IGJlIHNoYXJlZCB3aXRoIGFueSBvdGhlciBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgZGVzdHJveShvcHRpb25zKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdERlc3Ryb3lPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byByZXNldCB0aGUgdGhlIGNvbnRleHQgYW5kIGNhbnZhcy4uIGRvbnQgd2FudCB0aGlzIGhhbmdpbmcgYXJvdW5kIGluIG1lbW9yeSFcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHdpZHRoKClcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICB9XG5cbiAgICBzZXQgd2lkdGgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIGNvbnN0IHMgPSBzaWduKHRoaXMuc2NhbGUueCkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS55KSAqIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IGhlaWdodCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgY29uc3QgcyA9IHNpZ24odGhpcy5zY2FsZS55KSB8fCAxO1xuXG4gICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUgb2YgdGhlIHRleHQuIFNldCB1cCBhbiBldmVudCBsaXN0ZW5lciB0byBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhlIHN0eWxlXG4gICAgICogb2JqZWN0IGFuZCBtYXJrIHRoZSB0ZXh0IGFzIGRpcnR5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfVxuICAgICAqL1xuICAgIGdldCBzdHlsZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgfVxuXG4gICAgc2V0IHN0eWxlKHN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHN0eWxlID0gc3R5bGUgfHwge307XG5cbiAgICAgICAgaWYgKHN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBuZXcgVGV4dFN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29weSBmb3IgdGhlIHRleHQgb2JqZWN0LiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IHRleHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgfVxuXG4gICAgc2V0IHRleHQodGV4dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcblxuICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLlxuICAgICAqIFRoaXMgaXMgc2V0IHRvIGF1dG9tYXRpY2FsbHkgbWF0Y2ggdGhlIHJlbmRlcmVyIHJlc29sdXRpb24gYnkgZGVmYXVsdCwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgbWFudWFsbHkuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBnZXQgcmVzb2x1dGlvbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvbjtcbiAgICB9XG5cbiAgICBzZXQgcmVzb2x1dGlvbih2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9hdXRvUmVzb2x1dGlvbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLl9yZXNvbHV0aW9uID09PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHZhbHVlO1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuLyoqXG4gKiBEZWZhdWx0IG51bWJlciBvZiB1cGxvYWRzIHBlciBmcmFtZSB1c2luZyBwcmVwYXJlIHBsdWdpbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQG5hbWUgVVBMT0FEU19QRVJfRlJBTUVcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCA0XG4gKi9cbnNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FID0gNDtcblxuZXhwb3J0IHsgc2V0dGluZ3MgfTtcbiIsIi8qKlxuICogQ291bnRMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIGl0ZW1zIHBlciBmcmFtZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ291bnRMaW1pdGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heEl0ZW1zUGVyRnJhbWUgLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXhJdGVtc1BlckZyYW1lKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBlYWNoIGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhJdGVtc1BlckZyYW1lID0gbWF4SXRlbXNQZXJGcmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLml0ZW1zTGVmdCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICAgICAqL1xuICAgIGJlZ2luRnJhbWUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5pdGVtc0xlZnQgPSB0aGlzLm1heEl0ZW1zUGVyRnJhbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAgICovXG4gICAgYWxsb3dlZFRvVXBsb2FkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFRleHQsIFRleHRTdHlsZSwgVGV4dE1ldHJpY3MgfSBmcm9tICdAcGl4aS90ZXh0JztcbmltcG9ydCBDb3VudExpbWl0ZXIgZnJvbSAnLi9Db3VudExpbWl0ZXInO1xuXG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVLlxuICpcbiAqIEJhc2VQcmVwYXJlIGhhbmRsZXMgYmFzaWMgcXVldWluZyBmdW5jdGlvbmFsaXR5IGFuZCBpcyBleHRlbmRlZCBieVxuICoge0BsaW5rIFBJWEkucHJlcGFyZS5QcmVwYXJlfSBhbmQge0BsaW5rIFBJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfVxuICogdG8gcHJvdmlkZSBwcmVwYXJhdGlvbiBjYXBhYmlsaXRpZXMgc3BlY2lmaWMgdG8gdGhlaXIgcmVzcGVjdGl2ZSByZW5kZXJlcnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIHNwcml0ZVxuICogY29uc3Qgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbSgnc29tZXRoaW5nLnBuZycpO1xuICpcbiAqIC8vIExvYWQgb2JqZWN0IGludG8gR1BVXG4gKiBhcHAucmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnVwbG9hZChzcHJpdGUsICgpID0+IHtcbiAqXG4gKiAgICAgLy9UZXh0dXJlKHMpIGhhcyBiZWVuIHVwbG9hZGVkIHRvIEdQVVxuICogICAgIGFwcC5zdGFnZS5hZGRDaGlsZChzcHJpdGUpO1xuICpcbiAqIH0pXG4gKlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVByZXBhcmVcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW1pdGVyIHRvIGJlIHVzZWQgdG8gY29udHJvbCBob3cgcXVpY2tseSBpdGVtcyBhcmUgcHJlcGFyZWQuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLnByZXBhcmUuQ291bnRMaW1pdGVyfFBJWEkucHJlcGFyZS5UaW1lTGltaXRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGltaXRlciA9IG5ldyBDb3VudExpbWl0ZXIoc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvbmx5IHJlYWwgZGlmZmVyZW5jZSBiZXR3ZWVuIENhbnZhc1ByZXBhcmUgYW5kIFByZXBhcmUgaXMgd2hhdCB0aGV5IHBhc3NcbiAgICAgICAgICogdG8gdXBsb2FkIGhvb2tzLiBUaGF0IGRpZmZlcmVudCBwYXJhbWV0ZXIgaXMgc3RvcmVkIGhlcmUuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZXxQSVhJLlJlbmRlcmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZHMgYXQgb25jZS5cbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgYXNzZXRzLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hZGRIb29rcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIHByb2Nlc3NpbmcgYXNzZXRzLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB0byBjYWxsIGFmdGVyIGNvbXBsZXRlZC5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHByZXBhcmUgaXMgdGlja2luZyAocnVubmluZykuXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqICdib3VuZCcgY2FsbCBmb3IgcHJlcGFyZUl0ZW1zKCkuXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsYXllZFRpY2sgPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB1bmxpa2VseSwgYnV0IGluIGNhc2Ugd2Ugd2VyZSBkZXN0cm95ZWQgYmV0d2VlbiB0aWNrKCkgYW5kIGRlbGF5ZWRUaWNrKClcbiAgICAgICAgICAgIGlmICghdGhpcy5xdWV1ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnByZXBhcmVJdGVtcygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGhvb2tzIHRvIGZpbmQgdGhlIGNvcnJlY3QgdGV4dHVyZVxuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHRTdHlsZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0dXJlKTtcblxuICAgICAgICAvLyB1cGxvYWQgaG9va3NcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soZHJhd1RleHQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhjYWxjdWxhdGVUZXh0U3R5bGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCBhbGwgdGhlIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB0aGUgR1BVLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR9IGl0ZW0gLVxuICAgICAqICAgICAgICBFaXRoZXIgdGhlIGNvbnRhaW5lciBvciBkaXNwbGF5IG9iamVjdCB0byBzZWFyY2ggZm9yIGl0ZW1zIHRvIHVwbG9hZCwgdGhlIGl0ZW1zIHRvIHVwbG9hZCB0aGVtc2VsdmVzLFxuICAgICAqICAgICAgICBvciB0aGUgY2FsbGJhY2sgZnVuY3Rpb24sIGlmIGl0ZW1zIGhhdmUgYmVlbiBhZGRlZCB1c2luZyBgcHJlcGFyZS5hZGRgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtkb25lXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHdoZW4gYWxsIHF1ZXVlZCB1cGxvYWRzIGhhdmUgY29tcGxldGVkXG4gICAgICovXG4gICAgdXBsb2FkKGl0ZW0sIGRvbmUpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvbmUgPSBpdGVtO1xuICAgICAgICAgICAgaXRlbSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBhIGRpc3BsYXkgb2JqZWN0LCBzZWFyY2ggZm9yIGl0ZW1zXG4gICAgICAgIC8vIHRoYXQgd2UgY291bGQgdXBsb2FkXG4gICAgICAgIGlmIChpdGVtKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFkZChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgaXRlbXMgZm9yIHVwbG9hZCBmcm9tIHRoZSBkaXNwbGF5XG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMucHVzaChkb25lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLnRpY2tpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9uZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRpY2sgdXBkYXRlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRpY2soKVxuICAgIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmRlbGF5ZWRUaWNrLCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY3R1YWxseSBwcmVwYXJlIGl0ZW1zLiBUaGlzIGlzIGhhbmRsZWQgb3V0c2lkZSBvZiB0aGUgdGljayBiZWNhdXNlIGl0IHdpbGwgdGFrZSBhIHdoaWxlXG4gICAgICogYW5kIHdlIGRvIE5PVCB3YW50IHRvIGJsb2NrIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZSBmcm9tIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJlcGFyZUl0ZW1zKClcbiAgICB7XG4gICAgICAgIHRoaXMubGltaXRlci5iZWdpbkZyYW1lKCk7XG4gICAgICAgIC8vIFVwbG9hZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoICYmIHRoaXMubGltaXRlci5hbGxvd2VkVG9VcGxvYWQoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMucXVldWVbMF07XG4gICAgICAgICAgICBsZXQgdXBsb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uX2Rlc3Ryb3llZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy51cGxvYWRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwbG9hZEhvb2tzW2ldKHRoaXMudXBsb2FkSG9va0hlbHBlciwgaXRlbSkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXVwbG9hZGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlJ3JlIGZpbmlzaGVkXG4gICAgICAgIGlmICghdGhpcy5xdWV1ZS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZXMgPSB0aGlzLmNvbXBsZXRlcy5zbGljZSgwKTtcblxuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNvbXBsZXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZXNbaV0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgZmluaXNoZWQsIG9uIHRoZSBuZXh0IHJBRiBkbyB0aGlzIGFnYWluXG4gICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciBmaW5kaW5nIGl0ZW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWRkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYGl0ZW06KiwgcXVldWU6QXJyYXlgXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcmVnaXN0ZXJGaW5kSG9vayhhZGRIb29rKVxuICAgIHtcbiAgICAgICAgaWYgKGFkZEhvb2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWRkSG9va3MucHVzaChhZGRIb29rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIHVwbG9hZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwbG9hZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBwcmVwYXJlOkNhbnZhc1ByZXBhcmUsIGl0ZW06KmAgYW5kXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGhhbmRsZSB1cGxvYWQgb2YgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEhvb2spXG4gICAge1xuICAgICAgICBpZiAodXBsb2FkSG9vaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGxvYWRIb29rcy5wdXNoKHVwbG9hZEhvb2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFudWFsbHkgYWRkIGFuIGl0ZW0gdG8gdGhlIHVwbG9hZGluZyBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fCp9IGl0ZW0gLSBPYmplY3QgdG9cbiAgICAgKiAgICAgICAgYWRkIHRvIHRoZSBxdWV1ZVxuICAgICAqIEByZXR1cm4ge1BJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBhZGQoaXRlbSlcbiAgICB7XG4gICAgICAgIC8vIEFkZCBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGVsZW1lbnRzIG9uIHNwZWNpYWxcbiAgICAgICAgLy8gdHlwZXMgb2Ygb2JqZWN0cyB0aGF0XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmFkZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5hZGRIb29rc1tpXShpdGVtLCB0aGlzLnF1ZXVlKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBjaGlsZHJlbiByZWN1cnNpdmVseVxuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIENvbnRhaW5lcilcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGl0ZW0uY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoaXRlbS5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudGlja2luZylcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnN5c3RlbS5yZW1vdmUodGhpcy50aWNrLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hZGRIb29rcyA9IG51bGw7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb21wbGV0ZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnF1ZXVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW1pdGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcbiAgICB9XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIG11bHRpcGxlIHRleHR1cmVzIGZyb20gb2JqZWN0cyBsaWtlIEFuaW1hdGVkU3ByaXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKGl0ZW0sIHF1ZXVlKVxue1xuICAgIGxldCByZXN1bHQgPSBmYWxzZTtcblxuICAgIC8vIE9iamVjdHMgd2l0aCBtdWx0aXBsZSB0ZXh0dXJlc1xuICAgIGlmIChpdGVtICYmIGl0ZW0uX3RleHR1cmVzICYmIGl0ZW0uX3RleHR1cmVzLmxlbmd0aClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbS5fdGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpdGVtLl90ZXh0dXJlc1tpXSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSBpdGVtLl90ZXh0dXJlc1tpXS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGJhc2VUZXh0dXJlKSA9PT0gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBCYXNlVGV4dHVyZXMgZnJvbSBTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kQmFzZVRleHR1cmUoaXRlbSwgcXVldWUpXG57XG4gICAgLy8gT2JqZWN0cyB3aXRoIHRleHR1cmVzLCBsaWtlIFNwcml0ZXMvVGV4dFxuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIHRleHR1cmVzIGZyb20gb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHR1cmUoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0uX3RleHR1cmUgJiYgaXRlbS5fdGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAge1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBkcmF3IFBJWEkuVGV4dCB0byBpdHMgdGV4dHVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfFBJWEkuQ2FudmFzUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gZHJhd1RleHQoaGVscGVyLCBpdGVtKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dClcbiAgICB7XG4gICAgICAgIC8vIHVwZGF0aW5nIHRleHQgd2lsbCByZXR1cm4gZWFybHkgaWYgaXQgaXMgbm90IGRpcnR5XG4gICAgICAgIGl0ZW0udXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBjYWxjdWxhdGUgYSB0ZXh0IHN0eWxlIGZvciBhIFBJWEkuVGV4dCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1ByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVRleHRTdHlsZShoZWxwZXIsIGl0ZW0pXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0U3R5bGUpXG4gICAge1xuICAgICAgICBjb25zdCBmb250ID0gaXRlbS50b0ZvbnRTdHJpbmcoKTtcblxuICAgICAgICBUZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHQgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHQoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0KVxuICAgIHtcbiAgICAgICAgLy8gcHVzaCB0aGUgdGV4dCBzdHlsZSB0byBwcmVwYXJlIGl0IC0gdGhpcyBjYW4gYmUgcmVhbGx5IGV4cGVuc2l2ZVxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtLnN0eWxlKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbS5zdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSB0ZXh0IG9iamVjdCBzbyB0aGF0IHdlIGNhbiByZW5kZXIgaXQgKHRvIGNhbnZhcy90ZXh0dXJlKSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgVGV4dCdzIHRleHR1cmUgZm9yIHVwbG9hZCB0byBHUFVcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0U3R5bGUgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dFN0eWxlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0U3R5bGUoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0U3R5bGUpXG4gICAge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iLCJpbXBvcnQgeyBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG5pbXBvcnQgQmFzZVByZXBhcmUgZnJvbSAnLi9CYXNlUHJlcGFyZSc7XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZXBhcmUgZXh0ZW5kcyBCYXNlUHJlcGFyZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgLy8gQWRkIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB1cGxvYWRcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRHcmFwaGljcyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEJhc2VUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEdyYXBoaWNzKTtcbiAgICB9XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuVGV4dHVyZSBvYmplY3RzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgaXRlbSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgLy8gaWYgdGhlIHRleHR1cmUgYWxyZWFkeSBoYXMgYSBHTCB0ZXh0dXJlLCB0aGVuIHRoZSB0ZXh0dXJlIGhhcyBiZWVuIHByZXBhcmVkIG9yIHJlbmRlcmVkXG4gICAgICAgIC8vIGJlZm9yZSBub3cuIElmIHRoZSB0ZXh0dXJlIGNoYW5nZWQsIHRoZW4gdGhlIGNoYW5nZXIgc2hvdWxkIGJlIGNhbGxpbmcgdGV4dHVyZS51cGRhdGUoKSB3aGljaFxuICAgICAgICAvLyByZXVwbG9hZHMgdGhlIHRleHR1cmUgd2l0aG91dCBuZWVkIGZvciBwcmVwYXJpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKCFpdGVtLl9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuR3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkR3JhcGhpY3MocmVuZGVyZXIsIGl0ZW0pXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcylcbiAgICB7XG4gICAgICAgIC8vIGlmIHRoZSBpdGVtIGlzIG5vdCBkaXJ0eSBhbmQgYWxyZWFkeSBoYXMgd2ViZ2wgZGF0YSwgdGhlbiBpdCBnb3QgcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdyBhbmQgd2Ugc2hvdWxkbid0IHdhc3RlIHRpbWUgdXBkYXRpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKGl0ZW0uZGlydHkgfHwgaXRlbS5jbGVhckRpcnR5IHx8ICFpdGVtLl93ZWJHTFtyZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLkNPTlRFWFRfVUlEXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy51cGRhdGVHcmFwaGljcyhpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgZ3JhcGhpY3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5HcmFwaGljcyBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kR3JhcGhpY3MoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcylcbiAgICB7XG4gICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuIiwiLyoqXG4gKiBUaW1lTGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHBlciBmcmFtZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZUxpbWl0ZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TWlsbGlzZWNvbmRzIC0gVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1heE1pbGxpc2Vjb25kcylcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heE1pbGxpc2Vjb25kcyA9IG1heE1pbGxpc2Vjb25kcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAgICovXG4gICAgYmVnaW5GcmFtZSgpXG4gICAge1xuICAgICAgICB0aGlzLmZyYW1lU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgICAqL1xuICAgIGFsbG93ZWRUb1VwbG9hZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuZnJhbWVTdGFydCA8IHRoaXMubWF4TWlsbGlzZWNvbmRzO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgYXV0b0RldGVjdFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogQ29udmVuaWVuY2UgY2xhc3MgdG8gY3JlYXRlIGEgbmV3IFBJWEkgYXBwbGljYXRpb24uXG4gKlxuICogVGhpcyBjbGFzcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgdGhlIHJlbmRlcmVyLCB0aWNrZXIgYW5kIHJvb3QgY29udGFpbmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIEFkZCB0aGUgdmlldyB0byB0aGUgRE9NXG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBleCwgYWRkIGRpc3BsYXkgb2JqZWN0c1xuICogYXBwLnN0YWdlLmFkZENoaWxkKFBJWEkuU3ByaXRlLmZyb20oJ3NvbWV0aGluZy5wbmcnKSk7XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBsaWNhdGlvblxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9TdGFydD10cnVlXSAtIEF1dG9tYXRpY2FsbHkgc3RhcnRzIHRoZSByZW5kZXJpbmcgYWZ0ZXIgdGhlIGNvbnN0cnVjdGlvbi5cbiAgICAgKiAgICAgKipOb3RlKio6IFNldHRpbmcgdGhpcyBwYXJhbWV0ZXIgdG8gZmFsc2UgZG9lcyBOT1Qgc3RvcCB0aGUgc2hhcmVkIHRpY2tlciBldmVuIGlmIHlvdSBzZXRcbiAgICAgKiAgICAgb3B0aW9ucy5zaGFyZWRUaWNrZXIgdG8gdHJ1ZSBpbiBjYXNlIHRoYXQgaXQgaXMgYWxyZWFkeSBzdGFydGVkLiBTdG9wIGl0IGJ5IHlvdXIgb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlldy5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAgICAgKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlciwgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gICAgICogICBvcHRpb24gb25seSBpcyBhdmFpbGFibGUgd2hlbiB1c2luZyAqKnBpeGkuanMtbGVnYWN5Kiogb3IgKipAcGl4aS9jYW52YXMtcmVuZGVyZXIqKiBtb2R1bGVzLCBvdGhlcndpc2VcbiAgICAgKiAgIGl0IGlzIGlnbm9yZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICAgKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlRlhBQT1mYWxzZV0gLSBGb3JjZXMgRlhBQSBhbnRpYWxpYXNpbmcgdG8gYmUgdXNlZCBvdmVyIG5hdGl2ZS5cbiAgICAgKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0LiAqKihXZWJHTCBvbmx5KSoqLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQuICoqKFdlYkdMIG9ubHkpKiouXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaGFyZWRUaWNrZXI9ZmFsc2VdIC0gYHRydWVgIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQsIGBmYWxzZWAgdG8gY3JlYXRlIG5ldyB0aWNrZXIuXG4gICAgICogIElmIHNldCB0byBmYWxzZSwgeW91IGNhbm5vdCByZWdpc3RlciBhIGhhbmRsZXIgdG8gb2NjdXIgYmVmb3JlIGFueXRoaW5nIHRoYXQgcnVucyBvbiB0aGUgc2hhcmVkIHRpY2tlci5cbiAgICAgKiAgVGhlIHN5c3RlbSB0aWNrZXIgd2lsbCBhbHdheXMgcnVuIGJlZm9yZSBib3RoIHRoZSBzaGFyZWQgdGlja2VyIGFuZCB0aGUgYXBwIHRpY2tlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNoYXJlZExvYWRlcj1mYWxzZV0gLSBgdHJ1ZWAgdG8gdXNlIFBJWEkuTG9hZGVyLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IExvYWRlci5cbiAgICAgKiBAcGFyYW0ge1dpbmRvd3xIVE1MRWxlbWVudH0gW29wdGlvbnMucmVzaXplVG9dIC0gRWxlbWVudCB0byBhdXRvbWF0aWNhbGx5IHJlc2l6ZSBzdGFnZSB0by5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gVGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBmb3JjZUNhbnZhczogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlci5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvb3QgZGlzcGxheSBjb250YWluZXIgdGhhdCdzIHJlbmRlcmVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhZ2UgPSBuZXcgQ29udGFpbmVyKCk7XG5cbiAgICAgICAgLy8gaW5zdGFsbCBwbHVnaW5zIGhlcmVcbiAgICAgICAgQXBwbGljYXRpb24uX3BsdWdpbnMuZm9yRWFjaCgocGx1Z2luKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBwbHVnaW4uaW5pdC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG1pZGRsZXdhcmUgcGx1Z2luIGZvciB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLkFwcGxpY2F0aW9uLlBsdWdpbn0gcGx1Z2luIC0gUGx1Z2luIGJlaW5nIGluc3RhbGxlZFxuICAgICAqL1xuICAgIHN0YXRpYyByZWdpc3RlclBsdWdpbihwbHVnaW4pXG4gICAge1xuICAgICAgICBBcHBsaWNhdGlvbi5fcGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBjdXJyZW50IHN0YWdlLlxuICAgICAqL1xuICAgIHJlbmRlcigpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnN0YWdlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3MgY2FudmFzIGVsZW1lbnQuXG4gICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHZpZXcoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIudmlldztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3Mgc2NyZWVuIHJlY3RhbmdsZS4gSXRzIHNhZmUgdG8gdXNlIGFzIGBmaWx0ZXJBcmVhYCBvciBgaGl0QXJlYWAgZm9yIHRoZSB3aG9sZSBzY3JlZW4uXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHNjcmVlbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5zY3JlZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gQXV0b21hdGljYWxseSByZW1vdmUgY2FudmFzIGZyb20gRE9NLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtzdGFnZU9wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnc3RhZ2VPcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICAgICAqICB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3kocmVtb3ZlVmlldywgc3RhZ2VPcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gRGVzdHJveSBwbHVnaW5zIGluIHRoZSBvcHBvc2l0ZSBvcmRlclxuICAgICAgICAvLyB3aGljaCB0aGV5IHdlcmUgY29uc3RydWN0ZWRcbiAgICAgICAgY29uc3QgcGx1Z2lucyA9IEFwcGxpY2F0aW9uLl9wbHVnaW5zLnNsaWNlKDApO1xuXG4gICAgICAgIHBsdWdpbnMucmV2ZXJzZSgpO1xuICAgICAgICBwbHVnaW5zLmZvckVhY2goKHBsdWdpbikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcGx1Z2luLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zdGFnZS5kZXN0cm95KHN0YWdlT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc3RhZ2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZGVzdHJveShyZW1vdmVWaWV3KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBQbHVnaW5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGluaXQgLSBDYWxsZWQgd2hlbiBBcHBsaWNhdGlvbiBpcyBjb25zdHJ1Y3RlZCwgc2NvcGVkIHRvIEFwcGxpY2F0aW9uIGluc3RhbmNlLlxuICogIFBhc3NlcyBpbiBgb3B0aW9uc2AgYXMgdGhlIG9ubHkgYXJndW1lbnQsIHdoaWNoIGFyZSBBcHBsaWNhdGlvbiBjb25zdHJ1Y3RvciBvcHRpb25zLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gZGVzdHJveSAtIENhbGxlZCB3aGVuIGRlc3Ryb3lpbmcgQXBwbGljYXRpb24sIHNjb3BlZCB0byBBcHBsaWNhdGlvbiBpbnN0YW5jZVxuICovXG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcGx1Z2lucy5cbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7UElYSS5BcHBsaWNhdGlvbi5QbHVnaW5bXX1cbiAqL1xuQXBwbGljYXRpb24uX3BsdWdpbnMgPSBbXTtcbiIsIi8qKlxuICogTWlkZGxld2FyZSBmb3IgZm9yIEFwcGxpY2F0aW9uJ3MgcmVzaXplIGZ1bmN0aW9uYWxpdHlcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzaXplUGx1Z2luXG57XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2luIHdpdGggc2NvcGUgb2YgYXBwbGljYXRpb24gaW5zdGFuY2VcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBzdGF0aWMgaW5pdChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBlbGVtZW50IG9yIHdpbmRvdyB0byByZXNpemUgdGhlIGFwcGxpY2F0aW9uIHRvLlxuICAgICAgICAgKiBAdHlwZSB7V2luZG93fEhUTUxFbGVtZW50fVxuICAgICAgICAgKiBAbmFtZSByZXNpemVUb1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVzaXplVG8nLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldChkb20pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNpemVUbyA9IGRvbTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzaXplVG87XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBgcmVzaXplVG9gIGlzIHNldCwgY2FsbGluZyB0aGlzIGZ1bmN0aW9uXG4gICAgICAgICAqIHdpbGwgcmVzaXplIHRvIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoYXQgZWxlbWVudC5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3Jlc2l6ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNpemUgPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVzaXplVG8pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gUmVzaXplIHRvIHRoZSB3aW5kb3dcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVzaXplVG8gPT09IHdpbmRvdylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVzaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVzaXplIHRvIG90aGVyIEhUTUwgZW50aXRpZXNcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlc2l6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplVG8uY2xpZW50SGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIE9uIHJlc2l6ZVxuICAgICAgICB0aGlzLl9yZXNpemVUbyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplVG8gPSBvcHRpb25zLnJlc2l6ZVRvIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhdGljIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZXNpemVUbyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgQXBwbGljYXRpb24gZnJvbSAnLi9BcHBsaWNhdGlvbic7XG5pbXBvcnQgUmVzaXplUGx1Z2luIGZyb20gJy4vUmVzaXplUGx1Z2luJztcblxuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oUmVzaXplUGx1Z2luKTtcblxuZXhwb3J0IHsgQXBwbGljYXRpb24gfTtcbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlVVJJIChzdHIsIG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge31cblxuICB2YXIgbyA9IHtcbiAgICBrZXk6IFsnc291cmNlJywgJ3Byb3RvY29sJywgJ2F1dGhvcml0eScsICd1c2VySW5mbycsICd1c2VyJywgJ3Bhc3N3b3JkJywgJ2hvc3QnLCAncG9ydCcsICdyZWxhdGl2ZScsICdwYXRoJywgJ2RpcmVjdG9yeScsICdmaWxlJywgJ3F1ZXJ5JywgJ2FuY2hvciddLFxuICAgIHE6IHtcbiAgICAgIG5hbWU6ICdxdWVyeUtleScsXG4gICAgICBwYXJzZXI6IC8oPzpefCYpKFteJj1dKik9PyhbXiZdKikvZ1xuICAgIH0sXG4gICAgcGFyc2VyOiB7XG4gICAgICBzdHJpY3Q6IC9eKD86KFteOlxcLz8jXSspOik/KD86XFwvXFwvKCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKT8oKCgoPzpbXj8jXFwvXSpcXC8pKikoW14/I10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS8sXG4gICAgICBsb29zZTogL14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvXG4gICAgfVxuICB9XG5cbiAgdmFyIG0gPSBvLnBhcnNlcltvcHRzLnN0cmljdE1vZGUgPyAnc3RyaWN0JyA6ICdsb29zZSddLmV4ZWMoc3RyKVxuICB2YXIgdXJpID0ge31cbiAgdmFyIGkgPSAxNFxuXG4gIHdoaWxlIChpLS0pIHVyaVtvLmtleVtpXV0gPSBtW2ldIHx8ICcnXG5cbiAgdXJpW28ucS5uYW1lXSA9IHt9XG4gIHVyaVtvLmtleVsxMl1dLnJlcGxhY2Uoby5xLnBhcnNlciwgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICBpZiAoJDEpIHVyaVtvLnEubmFtZV1bJDFdID0gJDJcbiAgfSlcblxuICByZXR1cm4gdXJpXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIE1pbmlTaWduYWxCaW5kaW5nID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbEJpbmRpbmcoZm4sIG9uY2UsIHRoaXNBcmcpIHtcbiAgICBpZiAob25jZSA9PT0gdW5kZWZpbmVkKSBvbmNlID0gZmFsc2U7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbEJpbmRpbmcpO1xuXG4gICAgdGhpcy5fZm4gPSBmbjtcbiAgICB0aGlzLl9vbmNlID0gb25jZTtcbiAgICB0aGlzLl90aGlzQXJnID0gdGhpc0FyZztcbiAgICB0aGlzLl9uZXh0ID0gdGhpcy5fcHJldiA9IHRoaXMuX293bmVyID0gbnVsbDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsQmluZGluZywgW3tcbiAgICBrZXk6ICdkZXRhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgICBpZiAodGhpcy5fb3duZXIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICAgIHRoaXMuX293bmVyLmRldGFjaCh0aGlzKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsQmluZGluZztcbn0pKCk7XG5cbmZ1bmN0aW9uIF9hZGRNaW5pU2lnbmFsQmluZGluZyhzZWxmLCBub2RlKSB7XG4gIGlmICghc2VsZi5faGVhZCkge1xuICAgIHNlbGYuX2hlYWQgPSBub2RlO1xuICAgIHNlbGYuX3RhaWwgPSBub2RlO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuX3RhaWwuX25leHQgPSBub2RlO1xuICAgIG5vZGUuX3ByZXYgPSBzZWxmLl90YWlsO1xuICAgIHNlbGYuX3RhaWwgPSBub2RlO1xuICB9XG5cbiAgbm9kZS5fb3duZXIgPSBzZWxmO1xuXG4gIHJldHVybiBub2RlO1xufVxuXG52YXIgTWluaVNpZ25hbCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWwpO1xuXG4gICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbCwgW3tcbiAgICBrZXk6ICdoYW5kbGVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZXJzKCkge1xuICAgICAgdmFyIGV4aXN0cyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzBdO1xuXG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmIChleGlzdHMpIHJldHVybiAhIW5vZGU7XG5cbiAgICAgIHZhciBlZSA9IFtdO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBlZS5wdXNoKG5vZGUpO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhcyhub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNoYXMoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlLl9vd25lciA9PT0gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkaXNwYXRjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoIW5vZGUpIHJldHVybiBmYWxzZTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuX29uY2UpIHRoaXMuZGV0YWNoKG5vZGUpO1xuICAgICAgICBub2RlLl9mbi5hcHBseShub2RlLl90aGlzQXJnLCBhcmd1bWVudHMpO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2FkZCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIEZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9hZGRNaW5pU2lnbmFsQmluZGluZyh0aGlzLCBuZXcgTWluaVNpZ25hbEJpbmRpbmcoZm4sIGZhbHNlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25jZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjb25jZSgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIEZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9hZGRNaW5pU2lnbmFsQmluZGluZyh0aGlzLCBuZXcgTWluaVNpZ25hbEJpbmRpbmcoZm4sIHRydWUsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjZGV0YWNoKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuX293bmVyICE9PSB0aGlzKSByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKG5vZGUuX3ByZXYpIG5vZGUuX3ByZXYuX25leHQgPSBub2RlLl9uZXh0O1xuICAgICAgaWYgKG5vZGUuX25leHQpIG5vZGUuX25leHQuX3ByZXYgPSBub2RlLl9wcmV2O1xuXG4gICAgICBpZiAobm9kZSA9PT0gdGhpcy5faGVhZCkge1xuICAgICAgICB0aGlzLl9oZWFkID0gbm9kZS5fbmV4dDtcbiAgICAgICAgaWYgKG5vZGUuX25leHQgPT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLl90YWlsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlID09PSB0aGlzLl90YWlsKSB7XG4gICAgICAgIHRoaXMuX3RhaWwgPSBub2RlLl9wcmV2O1xuICAgICAgICB0aGlzLl90YWlsLl9uZXh0ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoQWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoQWxsKCkge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgaWYgKCFub2RlKSByZXR1cm4gdGhpcztcblxuICAgICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSBudWxsO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWw7XG59KSgpO1xuXG5NaW5pU2lnbmFsLk1pbmlTaWduYWxCaW5kaW5nID0gTWluaVNpZ25hbEJpbmRpbmc7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IE1pbmlTaWduYWw7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbiIsIi8qKlxuICogU21hbGxlciB2ZXJzaW9uIG9mIHRoZSBhc3luYyBsaWJyYXJ5IGNvbnN0cnVjdHMuXG4gKlxuICogQG5hbWVzcGFjZSBhc3luY1xuICovXG5cbi8qKlxuICogTm9vcCBmdW5jdGlvblxuICpcbiAqIEBpZ25vcmVcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIGFzeW5jXG4gKi9cbmZ1bmN0aW9uIF9ub29wKCkgeyAvKiBlbXB0eSAqLyB9XG5cbi8qKlxuICogSXRlcmF0ZXMgYW4gYXJyYXkgaW4gc2VyaWVzLlxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQGZ1bmN0aW9uIGVhY2hTZXJpZXNcbiAqIEBwYXJhbSB7QXJyYXkuPCo+fSBhcnJheSAtIEFycmF5IHRvIGl0ZXJhdGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRvciAtIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggZWxlbWVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGRvbmUsIG9yIG9uIGVycm9yLlxuICogQHBhcmFtIHtib29sZWFufSBbZGVmZXJOZXh0PWZhbHNlXSAtIEJyZWFrIHN5bmNocm9ub3VzIGVhY2ggbG9vcCBieSBjYWxsaW5nIG5leHQgd2l0aCBhIHNldFRpbWVvdXQgb2YgMS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhY2hTZXJpZXMoYXJyYXksIGl0ZXJhdG9yLCBjYWxsYmFjaywgZGVmZXJOZXh0KSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGxlbiA9IGFycmF5Lmxlbmd0aDtcblxuICAgIChmdW5jdGlvbiBuZXh0KGVycikge1xuICAgICAgICBpZiAoZXJyIHx8IGkgPT09IGxlbikge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZmVyTmV4dCkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgICAgICB9XG4gICAgfSkoKTtcbn1cblxuLyoqXG4gKiBFbnN1cmVzIGEgZnVuY3Rpb24gaXMgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIHdyYXBwaW5nIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvbmx5T25jZShmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgICAgICAgaWYgKGZuID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhbGxGbiA9IGZuO1xuXG4gICAgICAgIGZuID0gbnVsbDtcbiAgICAgICAgY2FsbEZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBBc3luYyBxdWV1ZSBpbXBsZW1lbnRhdGlvbixcbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBxdWV1ZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gd29ya2VyIC0gVGhlIHdvcmtlciBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHRhc2suXG4gKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gKiBAcmV0dXJuIHsqfSBUaGUgYXN5bmMgcXVldWUgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVldWUod29ya2VyLCBjb25jdXJyZW5jeSkge1xuICAgIGlmIChjb25jdXJyZW5jeSA9PSBudWxsKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgY29uY3VycmVuY3kgPSAxO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgICB9XG5cbiAgICBsZXQgd29ya2VycyA9IDA7XG4gICAgY29uc3QgcSA9IHtcbiAgICAgICAgX3Rhc2tzOiBbXSxcbiAgICAgICAgY29uY3VycmVuY3ksXG4gICAgICAgIHNhdHVyYXRlZDogX25vb3AsXG4gICAgICAgIHVuc2F0dXJhdGVkOiBfbm9vcCxcbiAgICAgICAgYnVmZmVyOiBjb25jdXJyZW5jeSAvIDQsXG4gICAgICAgIGVtcHR5OiBfbm9vcCxcbiAgICAgICAgZHJhaW46IF9ub29wLFxuICAgICAgICBlcnJvcjogX25vb3AsXG4gICAgICAgIHN0YXJ0ZWQ6IGZhbHNlLFxuICAgICAgICBwYXVzZWQ6IGZhbHNlLFxuICAgICAgICBwdXNoKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBfaW5zZXJ0KGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIGtpbGwoKSB7XG4gICAgICAgICAgICB3b3JrZXJzID0gMDtcbiAgICAgICAgICAgIHEuZHJhaW4gPSBfbm9vcDtcbiAgICAgICAgICAgIHEuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcS5fdGFza3MgPSBbXTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zaGlmdChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgX2luc2VydChkYXRhLCB0cnVlLCBjYWxsYmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIHByb2Nlc3MoKSB7XG4gICAgICAgICAgICB3aGlsZSAoIXEucGF1c2VkICYmIHdvcmtlcnMgPCBxLmNvbmN1cnJlbmN5ICYmIHEuX3Rhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBxLl90YXNrcy5zaGlmdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHEuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBxLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd29ya2VycyArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtlcnMgPT09IHEuY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBvbmx5T25jZShfbmV4dCh0YXNrKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsZW5ndGgoKSB7XG4gICAgICAgICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBydW5uaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGlkbGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoICsgd29ya2VycyA9PT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgcGF1c2UoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdW1lKCkge1xuICAgICAgICAgICAgaWYgKHEucGF1c2VkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcS5wYXVzZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gTmVlZCB0byBjYWxsIHEucHJvY2VzcyBvbmNlIHBlciBjb25jdXJyZW50XG4gICAgICAgICAgICAvLyB3b3JrZXIgdG8gcHJlc2VydmUgZnVsbCBjb25jdXJyZW5jeSBhZnRlciBwYXVzZVxuICAgICAgICAgICAgZm9yIChsZXQgdyA9IDE7IHcgPD0gcS5jb25jdXJyZW5jeTsgdysrKSB7XG4gICAgICAgICAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9pbnNlcnQoZGF0YSwgaW5zZXJ0QXRGcm9udCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHEuc3RhcnRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGRhdGEgPT0gbnVsbCAmJiBxLmlkbGUoKSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBxLmRyYWluKCksIDEpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpdGVtID0ge1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgPyBjYWxsYmFjayA6IF9ub29wLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpbnNlcnRBdEZyb250KSB7XG4gICAgICAgICAgICBxLl90YXNrcy51bnNoaWZ0KGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcS5fdGFza3MucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcS5wcm9jZXNzKCksIDEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9uZXh0KHRhc2spIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICB3b3JrZXJzIC09IDE7XG5cbiAgICAgICAgICAgIHRhc2suY2FsbGJhY2suYXBwbHkodGFzaywgYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1swXSAhPSBudWxsKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgICAgICBxLmVycm9yKGFyZ3VtZW50c1swXSwgdGFzay5kYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdvcmtlcnMgPD0gKHEuY29uY3VycmVuY3kgLSBxLmJ1ZmZlcikpIHtcbiAgICAgICAgICAgICAgICBxLnVuc2F0dXJhdGVkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChxLmlkbGUoKSkge1xuICAgICAgICAgICAgICAgIHEuZHJhaW4oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHE7XG59XG4iLCIvLyBhIHNpbXBsZSBpbi1tZW1vcnkgY2FjaGUgZm9yIHJlc291cmNlc1xuY29uc3QgY2FjaGUgPSB7fTtcblxuLyoqXG4gKiBBIHNpbXBsZSBpbi1tZW1vcnkgY2FjaGUgZm9yIHJlc291cmNlLlxuICpcbiAqIEBtZW1iZXJvZiBtaWRkbGV3YXJlXG4gKiBAZnVuY3Rpb24gY2FjaGluZ1xuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IExvYWRlciwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gKiBsb2FkZXIudXNlKG1pZGRsZXdhcmUuY2FjaGluZyk7XG4gKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIEN1cnJlbnQgUmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHQgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWNoaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gICAgLy8gaWYgY2FjaGVkLCB0aGVuIHNldCBkYXRhIGFuZCBjb21wbGV0ZSB0aGUgcmVzb3VyY2VcbiAgICBpZiAoY2FjaGVbcmVzb3VyY2UudXJsXSkge1xuICAgICAgICByZXNvdXJjZS5kYXRhID0gY2FjaGVbcmVzb3VyY2UudXJsXTtcbiAgICAgICAgcmVzb3VyY2UuY29tcGxldGUoKTsgLy8gbWFya3MgcmVzb3VyY2UgbG9hZCBjb21wbGV0ZSBhbmQgc3RvcHMgcHJvY2Vzc2luZyBiZWZvcmUgbWlkZGxld2FyZXNcbiAgICB9XG4gICAgLy8gaWYgbm90IGNhY2hlZCwgd2FpdCBmb3IgY29tcGxldGUgYW5kIHN0b3JlIGl0IGluIHRoZSBjYWNoZS5cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKCgpID0+IChjYWNoZVt0aGlzLnVybF0gPSB0aGlzLmRhdGEpKTtcbiAgICB9XG5cbiAgICBuZXh0KCk7XG59XG4iLCJpbXBvcnQgcGFyc2VVcmkgZnJvbSAncGFyc2UtdXJpJztcbmltcG9ydCBTaWduYWwgZnJvbSAnbWluaS1zaWduYWxzJztcblxuLy8gdGVzdHMgaWYgQ09SUyBpcyBzdXBwb3J0ZWQgaW4gWEhSLCBpZiBub3Qgd2UgbmVlZCB0byB1c2UgWERSXG5jb25zdCB1c2VYZHIgPSAhISh3aW5kb3cuWERvbWFpblJlcXVlc3QgJiYgISgnd2l0aENyZWRlbnRpYWxzJyBpbiAobmV3IFhNTEh0dHBSZXF1ZXN0KCkpKSk7XG5sZXQgdGVtcEFuY2hvciA9IG51bGw7XG5cbi8vIHNvbWUgc3RhdHVzIGNvbnN0YW50c1xuY29uc3QgU1RBVFVTX05PTkUgPSAwO1xuY29uc3QgU1RBVFVTX09LID0gMjAwO1xuY29uc3QgU1RBVFVTX0VNUFRZID0gMjA0O1xuY29uc3QgU1RBVFVTX0lFX0JVR19FTVBUWSA9IDEyMjM7XG5jb25zdCBTVEFUVVNfVFlQRV9PSyA9IDI7XG5cbi8vIG5vb3BcbmZ1bmN0aW9uIF9ub29wKCkgeyAvKiBlbXB0eSAqLyB9XG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gbG9hZFR5cGUgLSBUaGUgbG9hZCB0eXBlIHRvIHNldCBpdCB0by5cbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl9sb2FkVHlwZU1hcCwgZXh0bmFtZSwgbG9hZFR5cGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB4aHJUeXBlIC0gVGhlIHhociB0eXBlIHRvIHNldCBpdCB0by5cbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0RXh0ZW5zaW9uWGhyVHlwZShleHRuYW1lLCB4aHJUeXBlKSB7XG4gICAgICAgIHNldEV4dE1hcChSZXNvdXJjZS5feGhyVHlwZU1hcCwgZXh0bmFtZSwgeGhyVHlwZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgZm9yIGF1ZGlvL3ZpZGVvIGxvYWRzIHlvdSBjYW4gcGFzc1xuICAgICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtvcHRpb25zLmxvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAgICogICAgICBiZSBsb2FkZWQ/XG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW29wdGlvbnMueGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgICAqICAgICAgc2hvdWxkIHRoZSBkYXRhIGJlaW5nIGxvYWRlZCBiZSBpbnRlcnByZXRlZCB3aGVuIHVzaW5nIFhIUj9cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLklNZXRhZGF0YX0gW29wdGlvbnMubWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mbGFncyA9IDA7XG5cbiAgICAgICAgLy8gc2V0IGRhdGEgdXJsIGZsYWcsIG5lZWRzIHRvIGJlIHNldCBlYXJseSBmb3Igc29tZSBfZGV0ZXJtaW5lWCBjaGVja3MgdG8gd29yay5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV4dGVuc2lvbiB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gdGhpcy5fZ2V0RXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2FueX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJ2Fub255bW91cycgOiBvcHRpb25zLmNyb3NzT3JpZ2luO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXMgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lXG4gICAgICAgICAqIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXMgc2V0IHRvIGAwYFxuICAgICAgICAgKiB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWV0aG9kIG9mIGxvYWRpbmcgdG8gdXNlIGZvciB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSB1c2VkIHRvIGxvYWQgdGhlIHJlc291cmNlIHZpYSBYSFIuIElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0cmEgaW5mbyBmb3IgbWlkZGxld2FyZSwgYW5kIGNvbnRyb2xsaW5nIHNwZWNpZmljcyBhYm91dCBob3cgdGhlIHJlc291cmNlIGxvYWRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAgICAgKiBNZWFuaW5nIGl0IHdpbGwgbW9kaWZ5IGl0IGFzIGl0IHNlZXMgZml0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5JTWV0YWRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSB8fCB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGVycm9yIHRoYXQgb2NjdXJyZWQgd2hpbGUgbG9hZGluZyAoaWYgYW55KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge0Vycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYSFIgb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLiBUaGlzIGlzIG9ubHkgc2V0XG4gICAgICAgICAqIHdoZW4gYGxvYWRUeXBlYCBpcyBgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtYTUxIdHRwUmVxdWVzdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNoaWxkIHJlc291cmNlcyB0aGlzIHJlc291cmNlIG93bnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2UgdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlLlRZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlVOS05PV047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm9ncmVzcyBjaHVuayBvd25lZCBieSB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9ncmVzc0NodW5rID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBkZXF1ZXVlYCBtZXRob2QgdGhhdCB3aWxsIGJlIHVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgYXN5bmMgcXVldWUgZGVxdWV1ZSBtZXRob2RcbiAgICAgICAgICogdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXF1ZXVlID0gX25vb3A7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgb24gbG9hZCBiaW5kaW5nIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25Mb2FkQmluZGluZyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lciBmb3IgZWxlbWVudCBsb2FkcyB0byBjaGVjayBpZiB0aGV5IHRpbWVvdXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgY29tcGxldGVgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kQ29tcGxldGUgPSB0aGlzLmNvbXBsZXRlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX29uRXJyb3JgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25FcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25Qcm9ncmVzc2AgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPblByb2dyZXNzID0gdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vblRpbWVvdXRgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25UaW1lb3V0ID0gdGhpcy5fb25UaW1lb3V0LmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8geGhyIGNhbGxiYWNrc1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uRXJyb3IgPSB0aGlzLl94aHJPbkVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0ID0gdGhpcy5feGhyT25UaW1lb3V0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkxvYWQgPSB0aGlzLl94aHJPbkxvYWQuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uU3RhcnRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25TdGFydFNpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgZWFjaCB0aW1lIHByb2dyZXNzIG9mIHRoaXMgcmVzb3VyY2UgbG9hZCB1cGRhdGVzLlxuICAgICAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBpcyBiZWluZyBsb2FkZWQgb24gYSBtb2Rlcm4gYnJvd3NlciwgdXNpbmcgWEhSLCBhbmQgdGhlIHJlbW90ZSBzZXJ2ZXJcbiAgICAgICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgdGhpcyByZXNvdXJjZSBoYXMgbG9hZGVkLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgaXQgd2lsbFxuICAgICAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgdGhpcyByZXNvdXJjZSBoYXMgaGFkIGFsbCB0aGUgKmFmdGVyKiBtaWRkbGV3YXJlIHJ1biBvbiBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IFNpZ25hbCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyB0byBsb2FkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICogQGNhbGxiYWNrIE9uU3RhcnRTaWduYWxcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlc291cmNlIHJlcG9ydHMgbG9hZGluZyBwcm9ncmVzcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgICAqIEBjYWxsYmFjayBPblByb2dyZXNzU2lnbmFsXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnRhZ2UgLSBUaGUgcHJvZ3Jlc3Mgb2YgdGhlIGxvYWQgaW4gdGhlIHJhbmdlIFswLCAxXS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICogQHR5cGVkZWYge29iamVjdH0gSU1ldGFkYXRhXG4gICAgICogQHByb3BlcnR5IHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW2xvYWRFbGVtZW50PW51bGxdIC0gVGhlXG4gICAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2tpcFNvdXJjZT1mYWxzZV0gLSBTa2lwcyBhZGRpbmcgc291cmNlKHMpIHRvIHRoZSBsb2FkIGVsZW1lbnQuIFRoaXNcbiAgICAgKiAgICAgIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBwYXNzIGluIGEgYGxvYWRFbGVtZW50YCB0aGF0IHlvdSBhbHJlYWR5IGFkZGVkIGxvYWQgc291cmNlcyB0by5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xzdHJpbmdbXX0gW21pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnRcbiAgICAgKiAgICAgIG9mIGEgdmlkZW8vYXVkaW8gZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGxcbiAgICAgKiAgICAgIHdoZXJlIGVhY2ggaW5kZXggaXMgdGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBjb3JyZXNwb25kaW5nIHVybCBpbmRleC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyB3aGV0aGVyIG9yIG5vdCB0aGlzIHVybCBpcyBhIGRhdGEgdXJsLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgaXNEYXRhVXJsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICogbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgaXNDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBzdGFydHMgbG9hZGluZyxcbiAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGlzTG9hZGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIGNvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLl9jbGVhckV2ZW50cygpO1xuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhlIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZSwgd2l0aCBhbiBvcHRpb25hbCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byB1c2UgZm9yIHRoZSBlcnJvclxuICAgICAqL1xuICAgIGFib3J0KG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gYWJvcnQgY2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgaWdub3JlIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9yZSBlcnJvclxuICAgICAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuXG4gICAgICAgIC8vIGNsZWFyIGV2ZW50cyBiZWZvcmUgY2FsbGluZyBhYm9ydHNcbiAgICAgICAgdGhpcy5fY2xlYXJFdmVudHMoKTtcblxuICAgICAgICAvLyBhYm9ydCB0aGUgYWN0dWFsIGxvYWRpbmdcbiAgICAgICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICAgICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMueGRyKSB7XG4gICAgICAgICAgICB0aGlzLnhkci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgLy8gc2luZ2xlIHNvdXJjZVxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5zcmMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gUmVzb3VyY2UuRU1QVFlfR0lGO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbXVsdGktc291cmNlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5kYXRhLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb25lIG5vdy5cbiAgICAgICAgdGhpcy5fZmluaXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogS2lja3Mgb2ZmIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZS4gVGhpcyBtZXRob2QgaXMgYXN5bmNocm9ub3VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdG8gY2FsbCBvbmNlIHRoZSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICovXG4gICAgbG9hZChjYikge1xuICAgICAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gY2IodGhpcyksIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2IpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIHRydWUpO1xuXG4gICAgICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTtcblxuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpbiA9PT0gZmFsc2UgfHwgdHlwZW9mIHRoaXMuY3Jvc3NPcmlnaW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLmNyb3NzT3JpZ2luID0gdGhpcy5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odGhpcy51cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLmxvYWRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRTpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRFbGVtZW50KCdpbWFnZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5BVURJTzpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkFVRElPO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5WSURFTzpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlZJREVPO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5YSFI6XG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhocigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gY2hlY2suXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICovXG4gICAgX2hhc0ZsYWcoZmxhZykge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgZmxhZykgIT09IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICAgKi9cbiAgICBfc2V0RmxhZyhmbGFnLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9mbGFncyA9IHZhbHVlID8gKHRoaXMuX2ZsYWdzIHwgZmxhZykgOiAodGhpcy5fZmxhZ3MgJiB+ZmxhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCB0aGUgZXZlbnRzIGZyb20gdGhlIHVuZGVybHlpbmcgbG9hZGluZyBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbGVhckV2ZW50cygpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2VsZW1lbnRUaW1lcik7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub250aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluYWxpemVzIHRoZSBsb2FkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmluaXNoKCkge1xuICAgICAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBsZXRlIGNhbGxlZCBhZ2FpbiBmb3IgYW4gYWxyZWFkeSBjb21wbGV0ZWQgcmVzb3VyY2UuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHNpbmdsZSBzb3VyY2UsXG4gICAgICogbGlrZSBhbiBIVE1MSW1hZ2VFbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgICAqL1xuICAgIF9sb2FkRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG5cbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgbXVsdGlwbGUgc291cmNlcyxcbiAgICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cbiAgICBfbG9hZFNvdXJjZUVsZW1lbnQodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnYXVkaW8nICYmIHR5cGVvZiB3aW5kb3cuQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KGBVbnN1cHBvcnRlZCBlbGVtZW50OiAke3R5cGV9YCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSBBcnJheS5pc0FycmF5KHRoaXMudXJsKSA/IHRoaXMudXJsWzBdIDogdGhpcy51cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXJsKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybFtpXSwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzW2ldIDogbWltZVR5cGVzKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzWzBdIDogbWltZVR5cGVzKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5kYXRhLmxvYWQoKTtcblxuICAgICAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9sb2FkWGhyKCkge1xuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgLy8gc2V0IHRoZSByZXF1ZXN0IHR5cGUgYW5kIHVybFxuICAgICAgICB4aHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuXG4gICAgICAgIHhoci50aW1lb3V0ID0gdGhpcy50aW1lb3V0O1xuXG4gICAgICAgIC8vIGxvYWQganNvbiBhcyB0ZXh0IGFuZCBwYXJzZSBpdCBvdXJzZWx2ZXMuIFdlIGRvIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzXG4gICAgICAgIC8vICpjb3VnaCogc2FmYXJpICpjb3VnaCogY2FuJ3QgZGVhbCB3aXRoIGl0LlxuICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OIHx8IHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHRoaXMueGhyVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuXG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWERvbWFpblJlcXVlc3QuIFRoaXMgaXMgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gc3VwcG9ydCBJRTkgKGdyb3NzKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2xvYWRYZHIoKSB7XG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeGRyID0gdGhpcy54aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gICAgICAgIC8vIFhEb21haW5SZXF1ZXN0IGhhcyBhIGZldyBxdWlya3MuIE9jY2FzaW9uYWxseSBpdCB3aWxsIGFib3J0IHJlcXVlc3RzXG4gICAgICAgIC8vIEEgd2F5IHRvIGF2b2lkIHRoaXMgaXMgdG8gbWFrZSBzdXJlIEFMTCBjYWxsYmFja3MgYXJlIHNldCBldmVuIGlmIG5vdCB1c2VkXG4gICAgICAgIC8vIE1vcmUgaW5mbyBoZXJlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1Nzg2OTY2L3hkb21haW5yZXF1ZXN0LWFib3J0cy1wb3N0LW9uLWllLTlcbiAgICAgICAgeGRyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQgfHwgNTAwMDsgLy8gWERSIG5lZWRzIGEgdGltZW91dCB2YWx1ZSBvciBpdCBicmVha3MgaW4gSUU5XG5cbiAgICAgICAgeGRyLm9uZXJyb3IgPSB0aGlzLl9ib3VuZFhock9uRXJyb3I7XG4gICAgICAgIHhkci5vbnRpbWVvdXQgPSB0aGlzLl9ib3VuZFhock9uVGltZW91dDtcbiAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3M7XG4gICAgICAgIHhkci5vbmxvYWQgPSB0aGlzLl9ib3VuZFhock9uTG9hZDtcblxuICAgICAgICB4ZHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuXG4gICAgICAgIC8vIE5vdGU6IFRoZSB4ZHIuc2VuZCgpIGNhbGwgaXMgd3JhcHBlZCBpbiBhIHRpbWVvdXQgdG8gcHJldmVudCBhblxuICAgICAgICAvLyBpc3N1ZSB3aXRoIHRoZSBpbnRlcmZhY2Ugd2hlcmUgc29tZSByZXF1ZXN0cyBhcmUgbG9zdCBpZiBtdWx0aXBsZVxuICAgICAgICAvLyBYRG9tYWluUmVxdWVzdHMgYXJlIGJlaW5nIHNlbnQgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAgICAgLy8gU29tZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b25zdG9ybS9waGFzZXIvaXNzdWVzLzEyNDhcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB4ZHIuc2VuZCgpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc291cmNlIHVzZWQgaW4gbG9hZGluZyB2aWEgYW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgZWxlbWVudCB0eXBlICh2aWRlbyBvciBhdWRpbykuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBzb3VyY2UgVVJMIHRvIGxvYWQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW21pbWVdIC0gVGhlIG1pbWUgdHlwZSBvZiB0aGUgdmlkZW9cbiAgICAgKiBAcmV0dXJuIHtIVE1MU291cmNlRWxlbWVudH0gVGhlIHNvdXJjZSBlbGVtZW50LlxuICAgICAqL1xuICAgIF9jcmVhdGVTb3VyY2UodHlwZSwgdXJsLCBtaW1lKSB7XG4gICAgICAgIGlmICghbWltZSkge1xuICAgICAgICAgICAgbWltZSA9IGAke3R5cGV9LyR7dGhpcy5fZ2V0RXh0ZW5zaW9uKHVybCl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXG4gICAgICAgIHNvdXJjZS5zcmMgPSB1cmw7XG4gICAgICAgIHNvdXJjZS50eXBlID0gbWltZTtcblxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgZXJyb3JzIG91dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkVycm9yKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuYWJvcnQoYEZhaWxlZCB0byBsb2FkIGVsZW1lbnQgdXNpbmc6ICR7ZXZlbnQudGFyZ2V0Lm5vZGVOYW1lfWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgcHJvZ3Jlc3MgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQgb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAgICovXG4gICAgX29uUHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMub25Qcm9ncmVzcy5kaXNwYXRjaCh0aGlzLCBldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25UaW1lb3V0KCkge1xuICAgICAgICB0aGlzLmFib3J0KGBMb2FkIHRpbWVkIG91dC5gKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF94aHJPbkVycm9yKCkge1xuICAgICAgICBjb25zdCB4aHIgPSB0aGlzLnhocjtcblxuICAgICAgICB0aGlzLmFib3J0KGAke3JlcVR5cGUoeGhyKX0gUmVxdWVzdCBmYWlsZWQuIFN0YXR1czogJHt4aHIuc3RhdHVzfSwgdGV4dDogXCIke3hoci5zdGF0dXNUZXh0fVwiYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGVycm9yIGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfeGhyT25UaW1lb3V0KCkge1xuICAgICAgICBjb25zdCB4aHIgPSB0aGlzLnhocjtcblxuICAgICAgICB0aGlzLmFib3J0KGAke3JlcVR5cGUoeGhyKX0gUmVxdWVzdCB0aW1lZCBvdXQuYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfeGhyT25BYm9ydCgpIHtcbiAgICAgICAgY29uc3QgeGhyID0gdGhpcy54aHI7XG5cbiAgICAgICAgdGhpcy5hYm9ydChgJHtyZXFUeXBlKHhocil9IFJlcXVlc3Qgd2FzIGFib3J0ZWQgYnkgdGhlIHVzZXIuYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gZGF0YSBzdWNjZXNzZnVsbHkgbG9hZHMgZnJvbSBhbiB4aHIveGRyIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RMb2FkRXZlbnR8RXZlbnR9IGV2ZW50IC0gTG9hZCBldmVudFxuICAgICAqL1xuICAgIF94aHJPbkxvYWQoKSB7XG4gICAgICAgIGNvbnN0IHhociA9IHRoaXMueGhyO1xuICAgICAgICBsZXQgdGV4dCA9ICcnO1xuICAgICAgICBsZXQgc3RhdHVzID0gdHlwZW9mIHhoci5zdGF0dXMgPT09ICd1bmRlZmluZWQnID8gU1RBVFVTX09LIDogeGhyLnN0YXR1czsgLy8gWERSIGhhcyBubyBgLnN0YXR1c2AsIGFzc3VtZSAyMDAuXG5cbiAgICAgICAgLy8gcmVzcG9uc2VUZXh0IGlzIGFjY2Vzc2libGUgb25seSBpZiByZXNwb25zZVR5cGUgaXMgJycgb3IgJ3RleHQnIGFuZCBvbiBvbGRlciBicm93c2Vyc1xuICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHR5cGVvZiB4aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdGF0dXMgY2FuIGJlIDAgd2hlbiB1c2luZyB0aGUgYGZpbGU6Ly9gIHByb3RvY29sIHNvIHdlIGFsc28gY2hlY2sgaWYgYSByZXNwb25zZSBpcyBzZXQuXG4gICAgICAgIC8vIElmIGl0IGhhcyBhIHJlc3BvbnNlLCB3ZSBhc3N1bWUgMjAwOyBvdGhlcndpc2UgYSAwIHN0YXR1cyBjb2RlIHdpdGggbm8gY29udGVudHMgaXMgYW4gYWJvcnRlZCByZXF1ZXN0LlxuICAgICAgICBpZiAoc3RhdHVzID09PSBTVEFUVVNfTk9ORSAmJiAodGV4dC5sZW5ndGggPiAwIHx8IHhoci5yZXNwb25zZVR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUikpIHtcbiAgICAgICAgICAgIHN0YXR1cyA9IFNUQVRVU19PSztcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0lFX0JVR19FTVBUWSkge1xuICAgICAgICAgICAgc3RhdHVzID0gU1RBVFVTX0VNUFRZO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdHVzVHlwZSA9IChzdGF0dXMgLyAxMDApIHwgMDtcblxuICAgICAgICBpZiAoc3RhdHVzVHlwZSA9PT0gU1RBVFVTX1RZUEVfT0spIHtcbiAgICAgICAgICAgIC8vIGlmIHRleHQsIGp1c3QgcmV0dXJuIGl0XG4gICAgICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlRFWFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBqc29uLCBwYXJzZSBpbnRvIGpzb24gb2JqZWN0XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkpTT047XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoYEVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQganNvbjogJHtlfWApO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5ET01QYXJzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvbXBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9tcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGV4dDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGl2O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5YTUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoYEVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQgeG1sOiAke2V9YCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG90aGVyIHR5cGVzIGp1c3QgcmV0dXJuIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0geGhyLnJlc3BvbnNlIHx8IHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KGBbJHt4aHIuc3RhdHVzfV0gJHt4aHIuc3RhdHVzVGV4dH06ICR7eGhyLnJlc3BvbnNlVVJMfWApO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gICAgICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gICAgICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gICAgICovXG4gICAgX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQSBzYW5kYm94ZWQgaWZyYW1lIHdpdGhvdXQgdGhlICdhbGxvdy1zYW1lLW9yaWdpbicgYXR0cmlidXRlIHdpbGwgaGF2ZSBhIHNwZWNpYWxcbiAgICAgICAgLy8gb3JpZ2luIGRlc2lnbmVkIG5vdCB0byBtYXRjaCB3aW5kb3cubG9jYXRpb24ub3JpZ2luLCBhbmQgd2lsbCBhbHdheXMgcmVxdWlyZVxuICAgICAgICAvLyBjcm9zc09yaWdpbiByZXF1ZXN0cyByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlIGxvY2F0aW9uIG1hdGNoZXMuXG4gICAgICAgIGlmICh3aW5kb3cub3JpZ2luICE9PSB3aW5kb3cubG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgICAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuXG4gICAgICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgICAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcbiAgICAgICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgICAgICB1cmwgPSBwYXJzZVVyaSh0ZW1wQW5jaG9yLmhyZWYsIHsgc3RyaWN0TW9kZTogdHJ1ZSB9KTtcblxuICAgICAgICBjb25zdCBzYW1lUG9ydCA9ICghdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnKSB8fCAodXJsLnBvcnQgPT09IGxvYy5wb3J0KTtcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2wgPyBgJHt1cmwucHJvdG9jb2x9OmAgOiAnJztcblxuICAgICAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICAgICAgaWYgKHVybC5ob3N0ICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICAgICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSByZXNwb25zZVR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBUaGUgcmVzcG9uc2VUeXBlIHRvIHVzZS5cbiAgICAgKi9cbiAgICBfZGV0ZXJtaW5lWGhyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJlc291cmNlLl94aHJUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIGxvYWRUeXBlIG9mIGEgcmVzb3VyY2UgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLkxPQURfVFlQRX0gVGhlIGxvYWRUeXBlIHRvIHVzZS5cbiAgICAgKi9cbiAgICBfZGV0ZXJtaW5lTG9hZFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSZXNvdXJjZS5fbG9hZFR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLkxPQURfVFlQRS5YSFI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIGV4dGVuc2lvbiAoc2FucyAnLicpIG9mIHRoZSBmaWxlIGJlaW5nIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGV4dGVuc2lvbi5cbiAgICAgKi9cbiAgICBfZ2V0RXh0ZW5zaW9uKCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy51cmw7XG4gICAgICAgIGxldCBleHQgPSAnJztcblxuICAgICAgICBpZiAodGhpcy5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIGNvbnN0IHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuXG4gICAgICAgICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHNsYXNoSW5kZXggKyAxLCB1cmwuaW5kZXhPZignOycsIHNsYXNoSW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5U3RhcnQgPSB1cmwuaW5kZXhPZignPycpO1xuICAgICAgICAgICAgY29uc3QgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgcXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaGFzaFN0YXJ0ID4gLTEgPyBoYXNoU3RhcnQgOiB1cmwubGVuZ3RoXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHQudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgbWltZSB0eXBlIHRvIHVzZS5cbiAgICAgKi9cbiAgICBfZ2V0TWltZUZyb21YaHJUeXBlKHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LWJpbmFyeSc7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2Jsb2InO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAndGV4dC9wbGFpbic7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblJlc291cmNlLlNUQVRVU19GTEFHUyA9IHtcbiAgICBOT05FOiAgICAgICAwLFxuICAgIERBVEFfVVJMOiAgICgxIDw8IDApLFxuICAgIENPTVBMRVRFOiAgICgxIDw8IDEpLFxuICAgIExPQURJTkc6ICAgICgxIDw8IDIpLFxufTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuVFlQRSA9IHtcbiAgICBVTktOT1dOOiAgICAwLFxuICAgIEpTT046ICAgICAgIDEsXG4gICAgWE1MOiAgICAgICAgMixcbiAgICBJTUFHRTogICAgICAzLFxuICAgIEFVRElPOiAgICAgIDQsXG4gICAgVklERU86ICAgICAgNSxcbiAgICBURVhUOiAgICAgICA2LFxufTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgbG9hZGluZyBhIHJlc291cmNlIGNhbiB1c2UuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5SZXNvdXJjZS5MT0FEX1RZUEUgPSB7XG4gICAgLyoqIFVzZXMgWE1MSHR0cFJlcXVlc3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgWEhSOiAgICAxLFxuICAgIC8qKiBVc2VzIGFuIGBJbWFnZWAgb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIElNQUdFOiAgMixcbiAgICAvKiogVXNlcyBhbiBgQXVkaW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBBVURJTzogIDMsXG4gICAgLyoqIFVzZXMgYSBgVmlkZW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBWSURFTzogIDQsXG59O1xuXG4vKipcbiAqIFRoZSBYSFIgcmVhZHkgc3RhdGVzLCB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgICAvKiogc3RyaW5nICovXG4gICAgREVGQVVMVDogICAgJ3RleHQnLFxuICAgIC8qKiBBcnJheUJ1ZmZlciAqL1xuICAgIEJVRkZFUjogICAgICdhcnJheWJ1ZmZlcicsXG4gICAgLyoqIEJsb2IgKi9cbiAgICBCTE9COiAgICAgICAnYmxvYicsXG4gICAgLyoqIERvY3VtZW50ICovXG4gICAgRE9DVU1FTlQ6ICAgJ2RvY3VtZW50JyxcbiAgICAvKiogT2JqZWN0ICovXG4gICAgSlNPTjogICAgICAgJ2pzb24nLFxuICAgIC8qKiBTdHJpbmcgKi9cbiAgICBURVhUOiAgICAgICAndGV4dCcsXG59O1xuXG5SZXNvdXJjZS5fbG9hZFR5cGVNYXAgPSB7XG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHBuZzogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBibXA6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAganBnOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIGpwZWc6ICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0aWY6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmZjogICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHdlYnA6ICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0Z2E6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgc3ZnOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICdzdmcreG1sJzogIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSwgLy8gZm9yIFNWRyBkYXRhIHVybHNcblxuICAgIC8vIGF1ZGlvXG4gICAgbXAzOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAgIG9nZzogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgICB3YXY6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG5cbiAgICAvLyB2aWRlb3NcbiAgICBtcDQ6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU8sXG4gICAgd2VibTogICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPLFxufTtcblxuUmVzb3VyY2UuX3hoclR5cGVNYXAgPSB7XG4gICAgLy8geG1sXG4gICAgeGh0bWw6ICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgaHRtbDogICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgaHRtOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgeG1sOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgdG14OiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgc3ZnOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG5cbiAgICAvLyBUaGlzIHdhcyBhZGRlZCB0byBoYW5kbGUgVGlsZWQgVGlsZXNldCBYTUwsIGJ1dCAudHN4IGlzIGFsc28gYSBUeXBlU2NyaXB0IFJlYWN0IENvbXBvbmVudC5cbiAgICAvLyBTaW5jZSBpdCBpcyB3YXkgbGVzcyBsaWtlbHkgZm9yIHBlb3BsZSB0byBiZSBsb2FkaW5nIFR5cGVTY3JpcHQgZmlsZXMgaW5zdGVhZCBvZiBUaWxlZCBmaWxlcyxcbiAgICAvLyB0aGlzIHNob3VsZCBwcm9iYWJseSBiZSBmaW5lLlxuICAgIHRzeDogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBwbmc6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGJtcDogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAganBnOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBqcGVnOiAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRpZjogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGlmZjogICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB3ZWJwOiAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRnYTogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG5cbiAgICAvLyBqc29uXG4gICAganNvbjogICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcblxuICAgIC8vIHRleHRcbiAgICB0ZXh0OiAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICAgIHR4dDogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG5cbiAgICAvLyBmb250c1xuICAgIHR0ZjogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUixcbiAgICBvdGY6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG59O1xuXG4vLyBXZSBjYW4ndCBzZXQgdGhlIGBzcmNgIGF0dHJpYnV0ZSB0byBlbXB0eSBzdHJpbmcsIHNvIG9uIGFib3J0IHdlIHNldCBpdCB0byB0aGlzIDFweCB0cmFuc3BhcmVudCBnaWZcblJlc291cmNlLkVNUFRZX0dJRiA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09JztcblxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gc2V0IGEgdmFsdWUgb24gb25lIG9mIHRoZSBleHRlbnNpb24gbWFwcy4gRW5zdXJlcyB0aGVyZSBpcyBub1xuICogZG90IGF0IHRoZSBzdGFydCBvZiB0aGUgZXh0ZW5zaW9uLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBtYXAgLSBUaGUgbWFwIHRvIHNldCBvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiAob3Iga2V5KSB0byBzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0RXh0TWFwKG1hcCwgZXh0bmFtZSwgdmFsKSB7XG4gICAgaWYgKGV4dG5hbWUgJiYgZXh0bmFtZS5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICAgICAgZXh0bmFtZSA9IGV4dG5hbWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIGlmICghZXh0bmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuXG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBnZXQgc3RyaW5nIHhociB0eXBlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9IHhociAtIFRoZSByZXF1ZXN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHlwZS5cbiAqL1xuZnVuY3Rpb24gcmVxVHlwZSh4aHIpIHtcbiAgICByZXR1cm4geGhyLnRvU3RyaW5nKCkucmVwbGFjZSgnb2JqZWN0ICcsICcnKTtcbn1cblxuZXhwb3J0IHsgUmVzb3VyY2UgfTtcbiIsImNvbnN0IF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG4vKipcbiAqIEVuY29kZXMgYmluYXJ5IGludG8gYmFzZTY0LlxuICpcbiAqIEBmdW5jdGlvbiBlbmNvZGVCaW5hcnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBUaGUgaW5wdXQgZGF0YSB0byBlbmNvZGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBiYXNlNjQgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVCaW5hcnkoaW5wdXQpIHtcbiAgICBsZXQgb3V0cHV0ID0gJyc7XG4gICAgbGV0IGlueCA9IDA7XG5cbiAgICB3aGlsZSAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICAgICAgY29uc3QgYnl0ZWJ1ZmZlciA9IFswLCAwLCAwXTtcbiAgICAgICAgY29uc3QgZW5jb2RlZENoYXJJbmRleGVzID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgICAgIGZvciAobGV0IGpueCA9IDA7IGpueCA8IGJ5dGVidWZmZXIubGVuZ3RoOyArK2pueCkge1xuICAgICAgICAgICAgaWYgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIHRocm93IGF3YXkgaGlnaC1vcmRlciBieXRlLCBhcyBkb2N1bWVudGVkIGF0OlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL0VuL1VzaW5nX1hNTEh0dHBSZXF1ZXN0I0hhbmRsaW5nX2JpbmFyeV9kYXRhXG4gICAgICAgICAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gaW5wdXQuY2hhckNvZGVBdChpbngrKykgJiAweGZmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBlYWNoIGVuY29kZWQgY2hhcmFjdGVyLCA2IGJpdHMgYXQgYSB0aW1lXG4gICAgICAgIC8vIGluZGV4IDE6IGZpcnN0IDYgYml0c1xuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMF0gPSBieXRlYnVmZmVyWzBdID4+IDI7XG5cbiAgICAgICAgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9ICgoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCkgfCAoYnl0ZWJ1ZmZlclsxXSA+PiA0KTtcblxuICAgICAgICAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSAoKGJ5dGVidWZmZXJbMV0gJiAweDBmKSA8PCAyKSB8IChieXRlYnVmZmVyWzJdID4+IDYpO1xuXG4gICAgICAgIC8vIGluZGV4IDM6IGZvcnRoIDYgYml0cyAoNiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAzKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSBieXRlYnVmZmVyWzJdICYgMHgzZjtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciBwYWRkaW5nIGhhcHBlbmVkLCBhbmQgYWRqdXN0IGFjY29yZGluZ2x5XG4gICAgICAgIGNvbnN0IHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgICAgICBzd2l0Y2ggKHBhZGRpbmdCeXRlcykge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gTm8gcGFkZGluZyAtIHByb2NlZWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdyB3ZSB3aWxsIGdyYWIgZWFjaCBhcHByb3ByaWF0ZSBjaGFyYWN0ZXIgb3V0IG9mIG91ciBrZXlzdHJpbmdcbiAgICAgICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcbiAgICAgICAgZm9yIChsZXQgam54ID0gMDsgam54IDwgZW5jb2RlZENoYXJJbmRleGVzLmxlbmd0aDsgKytqbngpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbam54XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuIiwiaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tICcuLi9SZXNvdXJjZSc7XG5pbXBvcnQgeyBlbmNvZGVCaW5hcnkgfSBmcm9tICcuLi9lbmNvZGVCaW5hcnknO1xuXG5jb25zdCBVcmwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG5cbi8qKlxuICogQSBtaWRkbGV3YXJlIGZvciB0cmFuc2Zvcm1pbmcgWEhSIGxvYWRlZCBCbG9icyBpbnRvIG1vcmUgdXNlZnVsIG9iamVjdHNcbiAqXG4gKiBAbWVtYmVyb2YgbWlkZGxld2FyZVxuICogQGZ1bmN0aW9uIHBhcnNpbmdcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBMb2FkZXIsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICogbG9hZGVyLnVzZShtaWRkbGV3YXJlLnBhcnNpbmcpO1xuICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBDdXJyZW50IFJlc291cmNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0IC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2luZyhyZXNvdXJjZSwgbmV4dCkge1xuICAgIGlmICghcmVzb3VyY2UuZGF0YSkge1xuICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIHRoaXMgd2FzIGFuIFhIUiBsb2FkIG9mIGEgYmxvYlxuICAgIGlmIChyZXNvdXJjZS54aHIgJiYgcmVzb3VyY2UueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQikge1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgICAgIGlmICghd2luZG93LkJsb2IgfHwgdHlwZW9mIHJlc291cmNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcblxuICAgICAgICAgICAgLy8gdGhpcyBpcyBhbiBpbWFnZSwgY29udmVydCB0aGUgYmluYXJ5IHN0cmluZyBpbnRvIGEgZGF0YSB1cmxcbiAgICAgICAgICAgIGlmICh0eXBlICYmIHR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9IGBkYXRhOiR7dHlwZX07YmFzZTY0LCR7ZW5jb2RlQmluYXJ5KHJlc291cmNlLnhoci5yZXNwb25zZVRleHQpfWA7XG5cbiAgICAgICAgICAgICAgICByZXNvdXJjZS50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTtcblxuICAgICAgICAgICAgICAgIC8vIHdhaXQgdW50aWwgdGhlIGltYWdlIGxvYWRzIGFuZCB0aGVuIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBjb250ZW50IHR5cGUgc2F5cyB0aGlzIGlzIGFuIGltYWdlLCB0aGVuIHdlIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGJsb2IgaW50byBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgZWxzZSBpZiAocmVzb3VyY2UuZGF0YS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNyYyA9IFVybC5jcmVhdGVPYmplY3RVUkwocmVzb3VyY2UuZGF0YSk7XG5cbiAgICAgICAgICAgIHJlc291cmNlLmJsb2IgPSByZXNvdXJjZS5kYXRhO1xuICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBzcmM7XG5cbiAgICAgICAgICAgIHJlc291cmNlLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuXG4gICAgICAgICAgICAvLyBjbGVhbnVwIHRoZSBubyBsb25nZXIgdXNlZCBibG9iIGFmdGVyIHRoZSBpbWFnZSBsb2Fkc1xuICAgICAgICAgICAgLy8gVE9ETzogSXMgdGhpcyBjb3JyZWN0PyBXaWxsIHRoZSBpbWFnZSBiZSBpbnZhbGlkIGFmdGVyIHJldm9raW5nP1xuICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgVXJsLnJldm9rZU9iamVjdFVSTChzcmMpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHQoKTtcbn1cbiIsImltcG9ydCBTaWduYWwgZnJvbSAnbWluaS1zaWduYWxzJztcbmltcG9ydCBwYXJzZVVyaSBmcm9tICdwYXJzZS11cmknO1xuaW1wb3J0ICogYXMgYXN5bmMgZnJvbSAnLi9hc3luYyc7XG5pbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJy4vUmVzb3VyY2UnO1xuXG4vLyBzb21lIGNvbnN0YW50c1xuY29uc3QgTUFYX1BST0dSRVNTID0gMTAwO1xuY29uc3Qgcmd4RXh0cmFjdFVybEhhc2ggPSAvKCNbXFx3LV0rKT8kLztcblxuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBtdWx0aXBsZSByZXNvdXJjZXMgdG8gbG9hZC5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgTG9hZGVyIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJhc2VVcmwgPSAnJywgY29uY3VycmVuY3kgPSAxMCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByb2dyZXNzIHBlcmNlbnQgb2YgdGhlIGxvYWRlciBnb2luZyB0aHJvdWdoIHRoZSBxdWV1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZGluZyBzdGF0ZSBvZiB0aGUgbG9hZGVyLCB0cnVlIGlmIGl0IGlzIGN1cnJlbnRseSBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHF1ZXJ5c3RyaW5nIHRvIGFwcGVuZCB0byBldmVyeSBVUkwgYWRkZWQgdG8gdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBzaG91bGQgYmUgYSB2YWxpZCBxdWVyeSBzdHJpbmcgKndpdGhvdXQqIHRoZSBxdWVzdGlvbi1tYXJrIChgP2ApLiBUaGUgbG9hZGVyIHdpbGxcbiAgICAgICAgICogYWxzbyAqbm90KiBlc2NhcGUgdmFsdWVzIGZvciB5b3UuIE1ha2Ugc3VyZSB0byBlc2NhcGUgeW91ciBwYXJhbWV0ZXJzIHdpdGhcbiAgICAgICAgICogW2BlbmNvZGVVUklDb21wb25lbnRgXShodHRwczovL21kbi5pby9lbmNvZGVVUklDb21wb25lbnQpIGJlZm9yZSBhc3NpZ25pbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBsb2FkZXIuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJ3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0JztcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz91c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgICAgICogbG9hZGVyLmFkZCgnaW1hZ2UucG5nJykubG9hZCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBsb2FkZXIucmVzZXQoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz92PTEmdXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICAgICAqIGxvYWRlci5hZGQoJ2lhbWdlLnBuZz92PTEnKS5sb2FkKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJydcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJyc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX2xvYWRSZXNvdXJjZWAgZnVuY3Rpb24gYm91bmQgd2l0aCB0aGlzIG9iamVjdCBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGQgLSBUaGUgZGVxdWV1ZSBmdW5jdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSA9IChyLCBkKSA9PiB0aGlzLl9sb2FkUmVzb3VyY2UociwgZCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZXMgd2FpdGluZyB0byBiZSBsb2FkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IGFzeW5jLnF1ZXVlKHRoaXMuX2JvdW5kTG9hZFJlc291cmNlLCBjb25jdXJyZW5jeSk7XG5cbiAgICAgICAgdGhpcy5fcXVldWUucGF1c2UoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIHRoZSByZXNvdXJjZXMgZm9yIHRoaXMgbG9hZGVyIGtleWVkIGJ5IG5hbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdDxzdHJpbmcsIFJlc291cmNlPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIG9yIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgZXJyb3JlZCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkVycm9yU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkVycm9yU2lnbmFsPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBTaWduYWwoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Mb2FkU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkxvYWRTaWduYWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkxvYWQgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBwcm9jZXNzIHRoZSBxdWV1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblN0YXJ0U2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PblN0YXJ0U2lnbmFsPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSBxdWV1ZWQgcmVzb3VyY2VzIGFsbCBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IFNpZ25hbCgpO1xuXG4gICAgICAgIC8vIEFkZCBkZWZhdWx0IGJlZm9yZSBtaWRkbGV3YXJlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5wcmUoTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZVtpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZGVmYXVsdCBhZnRlciBtaWRkbGV3YXJlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTG9hZGVyLl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLnVzZShMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmVbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgcHJvZ3Jlc3MgY2hhbmdlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBwcm9ncmVzcyBpcyBhZHZhbmNpbmcgb24uXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIG9yIGZhaWxlZCB0byBjYXVzZSB0aGUgcHJvZ3Jlc3MgdG8gYWR2YW5jZS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gYW4gZXJyb3Igb2NjdXJycyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgKiBAY2FsbGJhY2sgT25FcnJvclNpZ25hbFxuICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBlcnJvciBoYXBwZW5lZCBpbi5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGNhdXNlZCB0aGUgZXJyb3IuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGEgbG9hZCBjb21wbGV0ZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICogQGNhbGxiYWNrIE9uTG9hZFNpZ25hbFxuICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgbGFvZGVkIHRoZSByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgbG9hZGluZy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGxvYWRlciBzdGFydHMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBoYXMgc3RhcnRlZCBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGxvYWRlciBjb21wbGV0ZXMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAqIEBjYWxsYmFjayBPbkNvbXBsZXRlU2lnbmFsXG4gICAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBoYXMgZmluaXNoZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25zIGZvciBhIGNhbGwgdG8gYC5hZGQoKWAuXG4gICAgICpcbiAgICAgKiBAc2VlIExvYWRlciNhZGRcbiAgICAgKlxuICAgICAqIEB0eXBlZGVmIHtvYmplY3R9IElBZGRPcHRpb25zXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtuYW1lXSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLCBpZiBub3QgcGFzc2VkIHRoZSB1cmwgaXMgdXNlZC5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2tleV0gLSBBbGlhcyBmb3IgYG5hbWVgLlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfGJvb2xlYW59IFtjcm9zc09yaWdpbl0gLSBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBEZWZhdWx0IGlzIHRvXG4gICAgICogICAgICBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gW3RpbWVvdXQ9MF0gLSBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXNcbiAgICAgKiAgICAgIGxvbmdlciB0aGFuIHRoaXMgdGltZSBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzXG4gICAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICAgKiBAcHJvcGVydHkge1Jlc291cmNlLkxPQURfVFlQRX0gW2xvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAgICogICAgICBiZSBsb2FkZWQ/XG4gICAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW3hoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbb25Db21wbGV0ZV0gLSBDYWxsYmFjayB0byBhZGQgYW4gYW4gb25Db21wbGV0ZSBzaWduYWwgaXN0ZW5lci5cbiAgICAgKiBAcHJvcGVydHkge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBBbGlhcyBmb3IgYG9uQ29tcGxldGVgLlxuICAgICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbbWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICAgKi9cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcmVzb3VyY2UgKG9yIG11bHRpcGxlIHJlc291cmNlcykgdG8gdGhlIGxvYWRlciBxdWV1ZS5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuIHRha2UgYSB3aWRlIHZhcmlldHkgb2YgZGlmZmVyZW50IHBhcmFtZXRlcnMuIFRoZSBvbmx5IHRoaW5nIHRoYXQgaXMgYWx3YXlzXG4gICAgICogcmVxdWlyZWQgdGhlIHVybCB0byBsb2FkLiBBbGwgdGhlIGZvbGxvd2luZyB3aWxsIHdvcms6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGxvYWRlclxuICAgICAqICAgICAvLyBub3JtYWwgcGFyYW0gc3ludGF4XG4gICAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicpXG4gICAgICpcbiAgICAgKiAgICAgLy8gb2JqZWN0IHN5bnRheFxuICAgICAqICAgICAuYWRkKHtcbiAgICAgKiAgICAgICAgIG5hbWU6ICdrZXkyJyxcbiAgICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAgICogICAgIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKHtcbiAgICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAgICogICAgIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKHtcbiAgICAgKiAgICAgICAgIG5hbWU6ICdrZXkzJyxcbiAgICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fVxuICAgICAqICAgICB9KVxuICAgICAqICAgICAuYWRkKHtcbiAgICAgKiAgICAgICAgIHVybDogJ2h0dHBzOi8vLi4uJyxcbiAgICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAqICAgICAgICAgY3Jvc3NPcmlnaW46IHRydWVcbiAgICAgKiAgICAgfSlcbiAgICAgKlxuICAgICAqICAgICAvLyB5b3UgY2FuIGFsc28gcGFzcyBhbiBhcnJheSBvZiBvYmplY3RzIG9yIHVybHMgb3IgYm90aFxuICAgICAqICAgICAuYWRkKFtcbiAgICAgKiAgICAgICAgIHsgbmFtZTogJ2tleTQnLCB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICAgKiAgICAgICAgIHsgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAgICogICAgICAgICAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgXSlcbiAgICAgKlxuICAgICAqICAgICAvLyBhbmQgeW91IGNhbiB1c2UgYm90aCBwYXJhbXMgYW5kIG9wdGlvbnNcbiAgICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAdmFyaWF0aW9uIDFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi8vKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAdmFyaWF0aW9uIDJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge0lBZGRPcHRpb25zfSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHZhcmlhdGlvbiAzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqLy8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEB2YXJpYXRpb24gNFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge0lBZGRPcHRpb25zfSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHZhcmlhdGlvbiA1XG4gICAgICogQHBhcmFtIHtJQWRkT3B0aW9uc30gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC4gVGhpcyBvYmplY3QgbXVzdCBjb250YWluIGEgYHVybGAgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHZhcmlhdGlvbiA2XG4gICAgICogQHBhcmFtIHtBcnJheTxJQWRkT3B0aW9uc3xzdHJpbmc+fSByZXNvdXJjZXMgLSBBbiBhcnJheSBvZiByZXNvdXJjZXMgdG8gbG9hZCwgd2hlcmUgZWFjaCBpc1xuICAgICAqICAgICAgZWl0aGVyIGFuIG9iamVjdCB3aXRoIHRoZSBvcHRpb25zIG9yIGEgc3RyaW5nIHVybC4gSWYgeW91IHBhc3MgYW4gb2JqZWN0LCBpdCBtdXN0IGNvbnRhaW4gYSBgdXJsYCBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBhZGQobmFtZSwgdXJsLCBvcHRpb25zLCBjYikge1xuICAgICAgICAvLyBzcGVjaWFsIGNhc2Ugb2YgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChuYW1lW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluc3RlYWQgb2YgcGFyYW1zXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNiID0gdXJsIHx8IG5hbWUuY2FsbGJhY2sgfHwgbmFtZS5vbkNvbXBsZXRlO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG5hbWU7XG4gICAgICAgICAgICB1cmwgPSBuYW1lLnVybDtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLm5hbWUgfHwgbmFtZS5rZXkgfHwgbmFtZS51cmw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYXNlIHdoZXJlIG5vIG5hbWUgaXMgcGFzc2VkIHNoaWZ0IGFsbCBhcmdzIG92ZXIgYnkgb25lLlxuICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB1cmw7XG4gICAgICAgICAgICB1cmwgPSBuYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm93IHRoYXQgd2Ugc2hpZnRlZCBtYWtlIHN1cmUgd2UgaGF2ZSBhIHByb3BlciB1cmwuXG4gICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1cmwgcGFzc2VkIHRvIGFkZCByZXNvdXJjZSB0byBsb2FkZXIuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvcHRpb25zIGFyZSBvcHRpb25hbCBzbyBwZW9wbGUgbWlnaHQgcGFzcyBhIGZ1bmN0aW9uIGFuZCBubyBvcHRpb25zXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBsb2FkaW5nIGFscmVhZHkgeW91IGNhbiBvbmx5IGFkZCByZXNvdXJjZXMgdGhhdCBoYXZlIGEgcGFyZW50LlxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nICYmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5wYXJlbnRSZXNvdXJjZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCByZXNvdXJjZXMgd2hpbGUgdGhlIGxvYWRlciBpcyBydW5uaW5nLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXNvdXJjZSBuYW1lZCBcIiR7bmFtZX1cIiBhbHJlYWR5IGV4aXN0cy5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBiYXNlIHVybCBpZiB0aGlzIGlzbid0IGFuIGFic29sdXRlIHVybFxuICAgICAgICB1cmwgPSB0aGlzLl9wcmVwYXJlVXJsKHVybCk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5vbkFmdGVyTWlkZGxld2FyZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGFjdGl2ZWx5IGxvYWRpbmcsIG1ha2Ugc3VyZSB0byBhZGp1c3QgcHJvZ3Jlc3MgY2h1bmtzIGZvciB0aGF0IHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG9wdGlvbnMucGFyZW50UmVzb3VyY2U7XG4gICAgICAgICAgICBjb25zdCBpbmNvbXBsZXRlQ2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudC5jaGlsZHJlbltpXS5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbi5wdXNoKHBhcmVudC5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmdWxsQ2h1bmsgPSBwYXJlbnQucHJvZ3Jlc3NDaHVuayAqIChpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoICsgMSk7IC8vICsxIGZvciBwYXJlbnRcbiAgICAgICAgICAgIGNvbnN0IGVhY2hDaHVuayA9IGZ1bGxDaHVuayAvIChpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoICsgMik7IC8vICsyIGZvciBwYXJlbnQgJiBuZXcgY2hpbGRcblxuICAgICAgICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2godGhpcy5yZXNvdXJjZXNbbmFtZV0pO1xuICAgICAgICAgICAgcGFyZW50LnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaW5jb21wbGV0ZUNoaWxkcmVuW2ldLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhlIHJlc291cmNlIHRvIHRoZSBxdWV1ZVxuICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSByZXF1aXJlLWpzZG9jLHZhbGlkLWpzZG9jICovXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICAgICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgcHJlKGZuKSB7XG4gICAgICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgdXNlKGZuKSB7XG4gICAgICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIHF1ZXVlIG9mIHRoZSBsb2FkZXIgdG8gcHJlcGFyZSBmb3IgYSBuZXcgbG9hZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcXVldWUua2lsbCgpO1xuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuXG4gICAgICAgIC8vIGFib3J0IGFsbCByZXNvdXJjZSBsb2Fkc1xuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gdGhpcy5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMucmVzb3VyY2VzW2tdO1xuXG4gICAgICAgICAgICBpZiAocmVzLl9vbkxvYWRCaW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzLl9vbkxvYWRCaW5kaW5nLmRldGFjaCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzLmlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgIHJlcy5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgbG9hZGluZyB0aGUgcXVldWVkIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgbG9hZChjYikge1xuICAgICAgICAvLyByZWdpc3RlciBjb21wbGV0ZSBjYWxsYmFjayBpZiB0aGV5IHBhc3Mgb25lXG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBxdWV1ZSBoYXMgYWxyZWFkeSBzdGFydGVkIHdlIGFyZSBkb25lIGhlcmVcbiAgICAgICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9vblN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBkaXN0cmlidXRlIHByb2dyZXNzIGNodW5rc1xuICAgICAgICAgICAgY29uc3QgbnVtVGFza3MgPSB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBNQVhfUFJPR1JFU1MgLyBudW1UYXNrcztcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5fdGFza3NbaV0uZGF0YS5wcm9ncmVzc0NodW5rID0gY2h1bms7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vdGlmeSB3ZSBhcmUgc3RhcnRpbmdcbiAgICAgICAgICAgIHRoaXMuX29uU3RhcnQoKTtcblxuICAgICAgICAgICAgLy8gc3RhcnQgbG9hZGluZ1xuICAgICAgICAgICAgdGhpcy5fcXVldWUucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAqL1xuICAgIGdldCBjb25jdXJyZW5jeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXVlLmNvbmN1cnJlbmN5O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHNldCBjb25jdXJyZW5jeShjb25jdXJyZW5jeSkge1xuICAgICAgICB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeSA9IGNvbmN1cnJlbmN5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXBhcmVzIGEgdXJsIGZvciB1c2FnZSBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byBwcmVwYXJlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHByZXBhcmVkIHVybC5cbiAgICAgKi9cbiAgICBfcHJlcGFyZVVybCh1cmwpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVXJsID0gcGFyc2VVcmkodXJsLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgLy8gYWJzb2x1dGUgdXJsLCBqdXN0IHVzZSBpdCBhcyBpcy5cbiAgICAgICAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCB8fCAhcGFyc2VkVXJsLnBhdGggfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBiYXNlVXJsIGRvZXNuJ3QgZW5kIGluIHNsYXNoIGFuZCB1cmwgZG9lc24ndCBzdGFydCB3aXRoIHNsYXNoLCB0aGVuIGFkZCBhIHNsYXNoIGluYmV0d2VlblxuICAgICAgICBlbHNlIGlmICh0aGlzLmJhc2VVcmwubGVuZ3RoXG4gICAgICAgICAgICAmJiB0aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoJy8nKSAhPT0gdGhpcy5iYXNlVXJsLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICYmIHVybC5jaGFyQXQoMCkgIT09ICcvJ1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGAke3RoaXMuYmFzZVVybH0vJHt1cmx9YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIHVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHdlIG5lZWQgdG8gYWRkIGEgZGVmYXVsdCBxdWVyeXN0cmluZywgdGhlcmUgaXMgYSBiaXQgbW9yZSB3b3JrXG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRRdWVyeVN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgaGFzaCA9IHJneEV4dHJhY3RVcmxIYXNoLmV4ZWMocmVzdWx0KVswXTtcblxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cigwLCByZXN1bHQubGVuZ3RoIC0gaGFzaC5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gYCYke3RoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gYD8ke3RoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdCArPSBoYXNoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhIHNpbmdsZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkZXF1ZXVlIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB3ZSBuZWVkIHRvIGRlcXVldWUgdGhpcyBpdGVtLlxuICAgICAqL1xuICAgIF9sb2FkUmVzb3VyY2UocmVzb3VyY2UsIGRlcXVldWUpIHtcbiAgICAgICAgcmVzb3VyY2UuX2RlcXVldWUgPSBkZXF1ZXVlO1xuXG4gICAgICAgIC8vIHJ1biBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBhc3luYy5lYWNoU2VyaWVzKFxuICAgICAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZSxcbiAgICAgICAgICAgIChmbiwgbmV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIGZuLmNhbGwodGhpcywgcmVzb3VyY2UsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGJlZm9yZSBtaWRkbGV3YXJlIG1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgYW5kIGRvbid0IHByb2Nlc3MgYW55IG1vcmUgYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgICAgICAgICAgICAgbmV4dChyZXNvdXJjZS5pc0NvbXBsZXRlID8ge30gOiBudWxsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25Mb2FkKHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKHRoaXMuX29uTG9hZCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIHN0YXJ0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vblN0YXJ0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbmNlIGVhY2ggcmVzb3VyY2UgaGFzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBNQVhfUFJPR1JFU1M7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcywgdGhpcy5yZXNvdXJjZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBlYWNoIHRpbWUgYSByZXNvdXJjZXMgaXMgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHdhcyBsb2FkZWRcbiAgICAgKi9cbiAgICBfb25Mb2FkKHJlc291cmNlKSB7XG4gICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcblxuICAgICAgICAvLyByZW1vdmUgdGhpcyByZXNvdXJjZSBmcm9tIHRoZSBhc3luYyBxdWV1ZSwgYW5kIGFkZCBpdCB0byBvdXIgbGlzdCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgYmVpbmcgcGFyc2VkXG4gICAgICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcucHVzaChyZXNvdXJjZSk7XG4gICAgICAgIHJlc291cmNlLl9kZXF1ZXVlKCk7XG5cbiAgICAgICAgLy8gcnVuIGFsbCB0aGUgYWZ0ZXIgbWlkZGxld2FyZSBmb3IgdGhpcyByZXNvdXJjZVxuICAgICAgICBhc3luYy5lYWNoU2VyaWVzKFxuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLFxuICAgICAgICAgICAgKGZuLCBuZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCByZXNvdXJjZSwgbmV4dCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHJlc291cmNlKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBNYXRoLm1pbihNQVhfUFJPR1JFU1MsIHRoaXMucHJvZ3Jlc3MgKyByZXNvdXJjZS5wcm9ncmVzc0NodW5rKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MuZGlzcGF0Y2godGhpcywgcmVzb3VyY2UpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25FcnJvci5kaXNwYXRjaChyZXNvdXJjZS5lcnJvciwgdGhpcywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvYWQuZGlzcGF0Y2godGhpcywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcuc3BsaWNlKHRoaXMuX3Jlc291cmNlc1BhcnNpbmcuaW5kZXhPZihyZXNvdXJjZSksIDEpO1xuXG4gICAgICAgICAgICAgICAgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9xdWV1ZS5pZGxlKCkgJiYgdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICogRWFjaCBvZiB0aGVzZSBtaWRkbGV3YXJlcyBhcmUgYWRkZWQgdG8gYW55IG5ldyBMb2FkZXIgaW5zdGFuY2VzIHdoZW4gdGhleSBhcmUgY3JlYXRlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAqL1xuTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuXG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBhZnRlciBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gKiBFYWNoIG9mIHRoZXNlIG1pZGRsZXdhcmVzIGFyZSBhZGRlZCB0byBhbnkgbmV3IExvYWRlciBpbnN0YW5jZXMgd2hlbiB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICovXG5Mb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUgPSBbXTtcblxuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5Mb2FkZXIucHJlID0gZnVuY3Rpb24gTG9hZGVyUHJlU3RhdGljKGZuKSB7XG4gICAgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59O1xuXG4vKipcbiAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmFmdGVyKiB0aGVcbiAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIExvYWRlclVzZVN0YXRpYyhmbikge1xuICAgIExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59O1xuXG5leHBvcnQgeyBMb2FkZXIgfTtcblxuIiwiaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIExvYWRlciBwbHVnaW4gZm9yIGhhbmRsaW5nIFRleHR1cmUgcmVzb3VyY2VzLlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmVMb2FkZXJcbntcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBzdGF0aWMgdXNlKHJlc291cmNlLCBuZXh0KVxuICAgIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgbmV3IHRleHR1cmUgaWYgdGhlIGRhdGEgaXMgYW4gSW1hZ2Ugb2JqZWN0XG4gICAgICAgIGlmIChyZXNvdXJjZS5kYXRhICYmIHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc291cmNlLnRleHR1cmUgPSBUZXh0dXJlLmZyb21Mb2FkZXIoXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZS51cmwsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UubmFtZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTG9hZGVyIGFzIFJlc291cmNlTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCBUZXh0dXJlTG9hZGVyIGZyb20gJy4vVGV4dHVyZUxvYWRlcic7XG5cbi8qKlxuICogVGhlIG5ldyBsb2FkZXIsIGV4dGVuZHMgUmVzb3VyY2UgTG9hZGVyIGJ5IENoYWQgRW5nbGVyOiBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGxvYWRlciA9IFBJWEkuTG9hZGVyLnNoYXJlZDsgLy8gUGl4aUpTIGV4cG9zZXMgYSBwcmVtYWRlIGluc3RhbmNlIGZvciB5b3UgdG8gdXNlLlxuICogLy9vclxuICogY29uc3QgbG9hZGVyID0gbmV3IFBJWEkuTG9hZGVyKCk7IC8vIHlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gaWYgeW91IHdhbnRcbiAqXG4gKiBjb25zdCBzcHJpdGVzID0ge307XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBhZGRgIHRvIGVucXVldWUgYSByZXNvdXJjZVxuICogbG9hZGVyLmFkZCgnYnVubnknLCAnZGF0YS9idW5ueS5wbmcnKVxuICogICAgICAgLmFkZCgnc3BhY2VzaGlwJywgJ2Fzc2V0cy9zcHJpdGVzaGVldC5qc29uJyk7XG4gKiBsb2FkZXIuYWRkKCdzY29yZUZvbnQnLCAnYXNzZXRzL3Njb3JlLmZudCcpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgcHJlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmJlZm9yZSogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBjYWNoaW5nIG1vZHVsZXMgKHVzaW5nIGZpbGVzeXN0ZW0sIGluZGV4ZWRkYiwgbWVtb3J5LCBldGMpLlxuICogbG9hZGVyLnByZShjYWNoaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGB1c2VgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYWZ0ZXIqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gcGFyc2luZyBtb2R1bGVzIChsaWtlIHNwcml0ZXNoZWV0IHBhcnNlcnMsIHNwaW5lIHBhcnNlciwgZXRjKS5cbiAqIGxvYWRlci51c2UocGFyc2luZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIFRoZSBgbG9hZGAgbWV0aG9kIGxvYWRzIHRoZSBxdWV1ZSBvZiByZXNvdXJjZXMsIGFuZCBjYWxscyB0aGUgcGFzc2VkIGluIGNhbGxiYWNrIGNhbGxlZCBvbmNlIGFsbFxuICogLy8gcmVzb3VyY2VzIGhhdmUgbG9hZGVkLlxuICogbG9hZGVyLmxvYWQoKGxvYWRlciwgcmVzb3VyY2VzKSA9PiB7XG4gKiAgICAgLy8gcmVzb3VyY2VzIGlzIGFuIG9iamVjdCB3aGVyZSB0aGUga2V5IGlzIHRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSBsb2FkZWQgYW5kIHRoZSB2YWx1ZSBpcyB0aGUgcmVzb3VyY2Ugb2JqZWN0LlxuICogICAgIC8vIFRoZXkgaGF2ZSBhIGNvdXBsZSBkZWZhdWx0IHByb3BlcnRpZXM6XG4gKiAgICAgLy8gLSBgdXJsYDogVGhlIFVSTCB0aGF0IHRoZSByZXNvdXJjZSB3YXMgbG9hZGVkIGZyb21cbiAqICAgICAvLyAtIGBlcnJvcmA6IFRoZSBlcnJvciB0aGF0IGhhcHBlbmVkIHdoZW4gdHJ5aW5nIHRvIGxvYWQgKGlmIGFueSlcbiAqICAgICAvLyAtIGBkYXRhYDogVGhlIHJhdyBkYXRhIHRoYXQgd2FzIGxvYWRlZFxuICogICAgIC8vIGFsc28gbWF5IGNvbnRhaW4gb3RoZXIgcHJvcGVydGllcyBiYXNlZCBvbiB0aGUgbWlkZGxld2FyZSB0aGF0IHJ1bnMuXG4gKiAgICAgc3ByaXRlcy5idW5ueSA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuYnVubnkudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zcGFjZXNoaXAgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNwYWNlc2hpcC50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNjb3JlRm9udCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc2NvcmVGb250LnRleHR1cmUpO1xuICogfSk7XG4gKlxuICogLy8gdGhyb3VnaG91dCB0aGUgcHJvY2VzcyBtdWx0aXBsZSBzaWduYWxzIGNhbiBiZSBkaXNwYXRjaGVkLlxuICogbG9hZGVyLm9uUHJvZ3Jlc3MuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGxvYWRlZC9lcnJvcmVkIGZpbGVcbiAqIGxvYWRlci5vbkVycm9yLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBlcnJvcmVkIGZpbGVcbiAqIGxvYWRlci5vbkxvYWQuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGxvYWRlZCBmaWxlXG4gKiBsb2FkZXIub25Db21wbGV0ZS5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSB3aGVuIHRoZSBxdWV1ZWQgcmVzb3VyY2VzIGFsbCBsb2FkLlxuICogYGBgXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogQGNsYXNzIExvYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7c3RyaW5nfSBbYmFzZVVybD0nJ10gLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGVyIGV4dGVuZHMgUmVzb3VyY2VMb2FkZXJcbntcbiAgICBjb25zdHJ1Y3RvcihiYXNlVXJsLCBjb25jdXJyZW5jeSlcbiAgICB7XG4gICAgICAgIHN1cGVyKGJhc2VVcmwsIGNvbmN1cnJlbmN5KTtcbiAgICAgICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBMb2FkZXIuX3BsdWdpbnMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBsdWdpbiA9IExvYWRlci5fcGx1Z2luc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJlLCB1c2UgfSA9IHBsdWdpbjtcblxuICAgICAgICAgICAgaWYgKHByZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZShwcmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodXNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudXNlKHVzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wYXQgbGF5ZXIsIHRyYW5zbGF0ZSB0aGUgbmV3IHYyIHNpZ25hbHMgaW50byBvbGQgdjEgZXZlbnRzLlxuICAgICAgICB0aGlzLm9uU3RhcnQuYWRkKChsKSA9PiB0aGlzLmVtaXQoJ3N0YXJ0JywgbCkpO1xuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MuYWRkKChsLCByKSA9PiB0aGlzLmVtaXQoJ3Byb2dyZXNzJywgbCwgcikpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuYWRkKChlLCBsLCByKSA9PiB0aGlzLmVtaXQoJ2Vycm9yJywgZSwgbCwgcikpO1xuICAgICAgICB0aGlzLm9uTG9hZC5hZGQoKGwsIHIpID0+IHRoaXMuZW1pdCgnbG9hZCcsIGwsIHIpKTtcbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlLmFkZCgobCwgcikgPT4gdGhpcy5lbWl0KCdjb21wbGV0ZScsIGwsIHIpKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBsb2FkZXIgY2Fubm90IGJlIGRlc3Ryb3llZC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Byb3RlY3RlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIGxvYWRlciwgcmVtb3ZlcyByZWZlcmVuY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJlbWFkZSBpbnN0YW5jZSBvZiB0aGUgbG9hZGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gbG9hZCByZXNvdXJjZXMuXG4gICAgICogQG5hbWUgc2hhcmVkXG4gICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHNoYXJlZCgpXG4gICAge1xuICAgICAgICBsZXQgc2hhcmVkID0gTG9hZGVyLl9zaGFyZWQ7XG5cbiAgICAgICAgaWYgKCFzaGFyZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNoYXJlZCA9IG5ldyBMb2FkZXIoKTtcbiAgICAgICAgICAgIHNoYXJlZC5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIExvYWRlci5fc2hhcmVkID0gc2hhcmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNoYXJlZDtcbiAgICB9XG59XG5cbi8vIENvcHkgRUUzIHByb3RvdHlwZSAobWl4aW4pXG5PYmplY3QuYXNzaWduKExvYWRlci5wcm90b3R5cGUsIEV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgYWxsIGluc3RhbGxlZCBgdXNlYCBtaWRkbGV3YXJlIGZvciBMb2FkZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlciB7QXJyYXk8UElYSS5JTG9hZGVyUGx1Z2luPn0gX3BsdWdpbnNcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHByaXZhdGVcbiAqL1xuTG9hZGVyLl9wbHVnaW5zID0gW107XG5cbi8qKlxuICogQWRkcyBhIExvYWRlciBwbHVnaW4gZm9yIHRoZSBnbG9iYWwgc2hhcmVkIGxvYWRlciBhbmQgYWxsXG4gKiBuZXcgTG9hZGVyIGluc3RhbmNlcyBjcmVhdGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZXRob2QgcmVnaXN0ZXJQbHVnaW5cbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHBhcmFtIHtQSVhJLklMb2FkZXJQbHVnaW59IHBsdWdpbiAtIFRoZSBwbHVnaW4gdG8gYWRkXG4gKiBAcmV0dXJuIHtQSVhJLkxvYWRlcn0gUmVmZXJlbmNlIHRvIFBJWEkuTG9hZGVyIGZvciBjaGFpbmluZ1xuICovXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiByZWdpc3RlclBsdWdpbihwbHVnaW4pXG57XG4gICAgTG9hZGVyLl9wbHVnaW5zLnB1c2gocGx1Z2luKTtcblxuICAgIGlmIChwbHVnaW4uYWRkKVxuICAgIHtcbiAgICAgICAgcGx1Z2luLmFkZCgpO1xuICAgIH1cblxuICAgIHJldHVybiBMb2FkZXI7XG59O1xuXG4vLyBwYXJzZSBhbnkgYmxvYiBpbnRvIG1vcmUgdXNhYmxlIG9iamVjdHMgKGUuZy4gSW1hZ2UpXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oeyB1c2U6IG1pZGRsZXdhcmUucGFyc2luZyB9KTtcblxuLy8gcGFyc2UgYW55IEltYWdlIG9iamVjdHMgaW50byB0ZXh0dXJlc1xuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKFRleHR1cmVMb2FkZXIpO1xuXG4vKipcbiAqIFBsdWdpbiB0byBiZSBpbnN0YWxsZWQgZm9yIGhhbmRsaW5nIHNwZWNpZmljIExvYWRlciByZXNvdXJjZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIElMb2FkZXJQbHVnaW5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFthZGRdIC0gRnVuY3Rpb24gdG8gY2FsbCBpbW1lZGlhdGUgYWZ0ZXIgcmVnaXN0ZXJpbmcgcGx1Z2luLlxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlfSBbcHJlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGJlZm9yZSBsb2FkLCB0aGVcbiAqICAgICAgICAgICBhcmd1bWVudHMgZm9yIHRoaXMgYXJlIGAocmVzb3VyY2UsIG5leHQpYFxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlfSBbdXNlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGFmdGVyIGxvYWQsIHRoZVxuICogICAgICAgICAgIGFyZ3VtZW50cyBmb3IgdGhpcyBhcmUgYChyZXNvdXJjZSwgbmV4dClgXG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEBjYWxsYmFjayBsb2FkZXJNaWRkbGV3YXJlXG4gKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0XG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtvYmplY3R9IG9uU3RhcnRcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge29iamVjdH0gb25Qcm9ncmVzc1xuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7b2JqZWN0fSBvbkVycm9yXG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtvYmplY3R9IG9uTG9hZFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7b2JqZWN0fSBvbkNvbXBsZXRlXG4gKi9cbiIsImltcG9ydCBMb2FkZXIgZnJvbSAnLi9Mb2FkZXInO1xuXG4vKipcbiAqIEFwcGxpY2F0aW9uIHBsdWdpbiBmb3Igc3VwcG9ydGluZyBsb2FkZXIgb3B0aW9uLiBJbnN0YWxsaW5nIHRoZSBMb2FkZXJQbHVnaW5cbiAqIGlzIG5vdCBuZWNlc3NhcnkgaWYgdXNpbmcgKipwaXhpLmpzKiogb3IgKipwaXhpLmpzLWxlZ2FjeSoqLlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7QXBwTG9hZGVyUGx1Z2lufSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihBcHBMb2FkZXJQbHVnaW4pO1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBMb2FkZXJQbHVnaW5cbntcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb24gYXBwbGljYXRpb24gY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhdGljIGluaXQob3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHNoYXJlZExvYWRlcjogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkZXIgaW5zdGFuY2UgdG8gaGVscCB3aXRoIGFzc2V0IGxvYWRpbmcuXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQXBwbGljYXRpb24jbG9hZGVyXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRlciA9IG9wdGlvbnMuc2hhcmVkTG9hZGVyID8gTG9hZGVyLnNoYXJlZCA6IG5ldyBMb2FkZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhcHBsaWNhdGlvbiBkZXN0cm95ZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuLyoqXG4gKiBSZWZlcmVuY2UgdG8gKip7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICogcmVzb3VyY2UtbG9hZGVyfSoqJ3MgUmVzb3VyY2UgY2xhc3MuXG4gKiBAc2VlIGh0dHA6Ly9lbmdsZXJjai5naXRodWIuaW8vcmVzb3VyY2UtbG9hZGVyL1Jlc291cmNlLmh0bWxcbiAqIEBjbGFzcyBMb2FkZXJSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNvbnN0IExvYWRlclJlc291cmNlID0gUmVzb3VyY2U7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExvYWRlciB9IGZyb20gJy4vTG9hZGVyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVGV4dHVyZUxvYWRlciB9IGZyb20gJy4vVGV4dHVyZUxvYWRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFwcExvYWRlclBsdWdpbiB9IGZyb20gJy4vQXBwTG9hZGVyUGx1Z2luJztcbiIsImltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGhleDJyZ2IgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBUaGUgUGFydGljbGVDb250YWluZXIgY2xhc3MgaXMgYSByZWFsbHkgZmFzdCB2ZXJzaW9uIG9mIHRoZSBDb250YWluZXIgYnVpbHQgc29sZWx5IGZvciBzcGVlZCxcbiAqIHNvIHVzZSB3aGVuIHlvdSBuZWVkIGEgbG90IG9mIHNwcml0ZXMgb3IgcGFydGljbGVzLlxuICpcbiAqIFRoZSB0cmFkZW9mZiBvZiB0aGUgUGFydGljbGVDb250YWluZXIgaXMgdGhhdCBtb3N0IGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgd2lsbCBub3Qgd29yay5cbiAqIFBhcnRpY2xlQ29udGFpbmVyIGltcGxlbWVudHMgdGhlIGJhc2ljIG9iamVjdCB0cmFuc2Zvcm0gKHBvc2l0aW9uLCBzY2FsZSwgcm90YXRpb24pXG4gKiBhbmQgc29tZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgdGludCAoYXMgb2YgdjQuNS42KS5cbiAqXG4gKiBPdGhlciBtb3JlIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSBtYXNraW5nLCBjaGlsZHJlbiwgZmlsdGVycywgZXRjIHdpbGwgbm90IHdvcmsgb24gc3ByaXRlcyBpbiB0aGlzIGJhdGNoLlxuICpcbiAqIEl0J3MgZXh0cmVtZWx5IGVhc3kgdG8gdXNlOlxuICogYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUGFydGljbGVDb250YWluZXIoKTtcbiAqXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgKytpKVxuICoge1xuICogICAgIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwibXlJbWFnZS5wbmdcIik7XG4gKiAgICAgY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBBbmQgaGVyZSB5b3UgaGF2ZSBhIGh1bmRyZWQgc3ByaXRlcyB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYXQgdGhlIHNwZWVkIG9mIGxpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhcnRpY2xlQ29udGFpbmVyIGV4dGVuZHMgQ29udGFpbmVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhTaXplPTE1MDBdIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGF0IGNhbiBiZSByZW5kZXJlZCBieSB0aGUgY29udGFpbmVyLlxuICAgICAqICBBZmZlY3RzIHNpemUgb2YgYWxsb2NhdGVkIGJ1ZmZlcnMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtwcm9wZXJ0aWVzXSAtIFRoZSBwcm9wZXJ0aWVzIG9mIGNoaWxkcmVuIHRoYXQgc2hvdWxkIGJlIHVwbG9hZGVkIHRvIHRoZSBncHUgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy52ZXJ0aWNlcz1mYWxzZV0gLSBXaGVuIHRydWUsIHZlcnRpY2VzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqICAgICAgICAgICAgICAgICAgaWYgc3ByaXRlJ3MgYCBzY2FsZS9hbmNob3IvdHJpbS9mcmFtZS9vcmlnYCBpcyBkeW5hbWljLCBwbGVhc2Ugc2V0IGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnBvc2l0aW9uPXRydWVdIC0gV2hlbiB0cnVlLCBwb3NpdGlvbiBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnJvdGF0aW9uPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgcm90YXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy51dnM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB1dnMgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy50aW50PWZhbHNlXSAtIFdoZW4gdHJ1ZSwgYWxwaGEgYW5kIHRpbnQgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiYXRjaFNpemU9MTYzODRdIC0gTnVtYmVyIG9mIHBhcnRpY2xlcyBwZXIgYmF0Y2guIElmIGxlc3MgdGhhbiBtYXhTaXplLCBpdCB1c2VzIG1heFNpemUgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvUmVzaXplPWZhbHNlXSBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlXG4gICAgICogIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXhTaXplID0gMTUwMCwgcHJvcGVydGllcywgYmF0Y2hTaXplID0gMTYzODQsIGF1dG9SZXNpemUgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLy8gTWFraW5nIHN1cmUgdGhlIGJhdGNoIHNpemUgaXMgdmFsaWRcbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgY29uc3QgbWF4QmF0Y2hTaXplID0gMTYzODQ7XG5cbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA+IG1heEJhdGNoU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYmF0Y2hTaXplID0gbWF4QmF0Y2hTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBwcm9wZXJ0aWVzIHRvIGJlIGR5bmFtaWMgKHRydWUpIC8gc3RhdGljIChmYWxzZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heFNpemUgPSBtYXhTaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaFNpemUgPSBiYXRjaFNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuQnVmZmVyPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmb3IgZXZlcnkgYmF0Y2ggc3RvcmVzIF91cGRhdGVJRCBjb3JyZXNwb25kaW5nIHRvIHRoZSBsYXN0IGNoYW5nZSBpbiB0aGF0IGJhdGNoXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHdoZW4gY2hpbGQgaW5zZXJ0ZWQsIHJlbW92ZWQgb3IgY2hhbmdlcyBwb3NpdGlvbiB0aGlzIG51bWJlciBnb2VzIHVwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgXG4gICAgICAgICAqIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2UgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvUmVzaXplID0gYXV0b1Jlc2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBEZWZhdWx0IHRvIHRydWUgaGVyZSBhcyBwZXJmb3JtYW5jZSBpcyB1c3VhbGx5IHRoZSBwcmlvcml0eSBmb3IgcGFydGljbGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdW5kUGl4ZWxzID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdXNlZCB0byByZW5kZXIgdGhlIGNoaWxkcmVuLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGludCA9IDA7XG4gICAgICAgIHRoaXMudGludFJnYiA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIHRoaXMudGludCA9IDB4RkZGRkZGO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByaXZhdGUgcHJvcGVydGllcyBhcnJheSB0byBkeW5hbWljIC8gc3RhdGljIGJhc2VkIG9uIHRoZSBwYXNzZWQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gYmUgdXBsb2FkZWRcbiAgICAgKi9cbiAgICBzZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpXG4gICAge1xuICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1swXSA9ICd2ZXJ0aWNlcycgaW4gcHJvcGVydGllcyB8fCAnc2NhbGUnIGluIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICA/ICEhcHJvcGVydGllcy52ZXJ0aWNlcyB8fCAhIXByb3BlcnRpZXMuc2NhbGUgOiB0aGlzLl9wcm9wZXJ0aWVzWzBdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1sxXSA9ICdwb3NpdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5wb3NpdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMV07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzJdID0gJ3JvdGF0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnJvdGF0aW9uIDogdGhpcy5fcHJvcGVydGllc1syXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbM10gPSAndXZzJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnV2cyA6IHRoaXMuX3Byb3BlcnRpZXNbM107XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzRdID0gJ3RpbnQnIGluIHByb3BlcnRpZXMgfHwgJ2FscGhhJyBpbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgPyAhIXByb3BlcnRpZXMudGludCB8fCAhIXByb3BlcnRpZXMuYWxwaGEgOiB0aGlzLl9wcm9wZXJ0aWVzWzRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZVRyYW5zZm9ybSgpXG4gICAge1xuICAgICAgICAvLyBUT0RPIGRvbid0IG5lZWQgdG8hXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAvLyAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybS5jYWxsKCB0aGlzICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIGdldCB0aW50KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH1cblxuICAgIHNldCB0aW50KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy50aW50UmdiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250YWluZXIgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXJcbiAgICAgKi9cbiAgICByZW5kZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGhpcy5jaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uY2UoJ3VwZGF0ZScsICgpID0+IHRoaXMub25DaGlsZHJlbkNoYW5nZSgwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZS5yZW5kZXIodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmbGFnIHRoYXQgc3RhdGljIGRhdGEgc2hvdWxkIGJlIHVwZGF0ZWQgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc21hbGxlc3RDaGlsZEluZGV4IC0gVGhlIHNtYWxsZXN0IGNoaWxkIGluZGV4XG4gICAgICovXG4gICAgb25DaGlsZHJlbkNoYW5nZShzbWFsbGVzdENoaWxkSW5kZXgpXG4gICAge1xuICAgICAgICBjb25zdCBidWZmZXJJbmRleCA9IE1hdGguZmxvb3Ioc21hbGxlc3RDaGlsZEluZGV4IC8gdGhpcy5fYmF0Y2hTaXplKTtcblxuICAgICAgICB3aGlsZSAodGhpcy5fYnVmZmVyVXBkYXRlSURzLmxlbmd0aCA8IGJ1ZmZlckluZGV4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHNbYnVmZmVySW5kZXhdID0gKyt0aGlzLl91cGRhdGVJRDtcbiAgICB9XG5cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KG9wdGlvbnMpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVJbmRpY2VzRm9yUXVhZHMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBHZW9tZXRyeSwgQnVmZmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdFxuICogdGhleSBub3cgc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVCdWZmZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlQnVmZmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFRoZSBwYXJ0aWNsZSBidWZmZXIgbWFuYWdlcyB0aGUgc3RhdGljIGFuZCBkeW5hbWljIGJ1ZmZlcnMgZm9yIGEgcGFydGljbGUgY29udGFpbmVyLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhcnRpY2xlQnVmZmVyXG57XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXX0gZHluYW1pY1Byb3BlcnR5RmxhZ3MgLSBGbGFncyBmb3Igd2hpY2ggcHJvcGVydGllcyBhcmUgZHluYW1pYy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBiYXRjaC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgc2l6ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcblxuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhlIGJ1ZmZlciBjYW4gaG9sZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgZHluYW1pYy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBzdGF0aWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICAvLyBNYWtlIGNvcHkgb2YgcHJvcGVydGllcyBvYmplY3Qgc28gdGhhdCB3aGVuIHdlIGVkaXQgdGhlIG9mZnNldCBpdCBkb2Vzbid0XG4gICAgICAgICAgICAvLyBjaGFuZ2UgYWxsIG90aGVyIGluc3RhbmNlcyBvZiB0aGUgb2JqZWN0IGxpdGVyYWxcbiAgICAgICAgICAgIHByb3BlcnR5ID0ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogcHJvcGVydHkuc2l6ZSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogcHJvcGVydHkudXBsb2FkRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgdHlwZTogcHJvcGVydHkudHlwZSB8fCBUWVBFUy5GTE9BVCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHByb3BlcnR5Lm9mZnNldCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChkeW5hbWljUHJvcGVydHlGbGFnc1tpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgdGhpcy5pbml0QnVmZmVycygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBpbml0QnVmZmVycygpXG4gICAge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG5cbiAgICAgICAgbGV0IGR5bmFtaWNPZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgaW5kaWNlcyBvZiB0aGUgZ2VvbWV0cnkgKHF1YWRzKSB0byBkcmF3XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHRoaXMuc2l6ZSksIHRydWUsIHRydWUpO1xuICAgICAgICBnZW9tZXRyeS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKTtcblxuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBkeW5hbWljT2Zmc2V0O1xuICAgICAgICAgICAgZHluYW1pY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkeW5CdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5keW5hbWljU3RyaWRlICogNCAqIDQpO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLmR5bmFtaWNEYXRhLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgIC8vIHN0YXRpYyAvL1xuICAgICAgICBsZXQgc3RhdGljT2Zmc2V0ID0gMDtcblxuICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBzdGF0aWNPZmZzZXQ7XG4gICAgICAgICAgICBzdGF0aWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGF0QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuc3RhdGljU3RyaWRlICogNCAqIDQpO1xuXG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMuc3RhdGljRGF0YSwgdHJ1ZSwgZmFsc2UpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgcHJvcGVydHkuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlICogNCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgKiA0XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgcHJvcGVydHkuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlcixcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICAgICAgcHJvcGVydHkudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSAqIDQsXG4gICAgICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ICogNFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIGR5bmFtaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cbiAgICB1cGxvYWREeW5hbWljKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcy5keW5hbWljRGF0YVVpbnQzMiA6IHRoaXMuZHluYW1pY0RhdGEsXG4gICAgICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyLl91cGRhdGVJRCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHN0YXRpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICAgICAqL1xuICAgIHVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLnN0YXRpY0RhdGFVaW50MzIgOiB0aGlzLnN0YXRpY0RhdGEsXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlci5fdXBkYXRlSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVCdWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIC8vIHRoaXMuZHluYW1pY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICAvLyB0aGlzLnN0YXRpY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgLy8gYWxsIGJ1ZmZlcnMgYXJlIGRlc3Ryb3llZCBpbnNpZGUgZ2VvbWV0cnlcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgT2JqZWN0UmVuZGVyZXIsIFNoYWRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgY29ycmVjdEJsZW5kTW9kZSwgcHJlbXVsdGlwbHlSZ2JhLCBwcmVtdWx0aXBseVRpbnQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCBQYXJ0aWNsZUJ1ZmZlciBmcm9tICcuL1BhcnRpY2xlQnVmZmVyJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9wYXJ0aWNsZXMudmVydCc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9wYXJ0aWNsZXMuZnJhZyc7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVSZW5kZXJlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVSZW5kZXJlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBSZW5kZXJlciBmb3IgUGFydGljbGVzIHRoYXQgaXMgZGVzaWduZXIgZm9yIHNwZWVkIG92ZXIgZmVhdHVyZSBzZXQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZVJlbmRlcmVyIGV4dGVuZHMgT2JqZWN0UmVuZGVyZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICAvLyBhbmQgbWF4IG51bWJlciBvZiBlbGVtZW50IGluIHRoZSBpbmRleCBidWZmZXIgaXMgMTYzODQgKiA2ID0gOTgzMDRcbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBmdWxsIGluZGV4IGJ1ZmZlciwgb3ZlcmhlYWQgaXMgOTgzMDQgKiAyID0gMTk2S29cbiAgICAgICAgLy8gbGV0IG51bUluZGljZXMgPSA5ODMwNDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc2hhZGVyIHRoYXQgaXMgdXNlZCBpZiBhIHNwcml0ZSBkb2Vzbid0IGhhdmUgYSBtb3JlIHNwZWNpZmljIG9uZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gbnVsbDtcblxuICAgICAgICB0aGlzLnRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gW1xuICAgICAgICAgICAgLy8gdmVydGljZXNEYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FWZXJ0ZXhQb3NpdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRWZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcG9zaXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FQb3NpdGlvbkNvb3JkJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyByb3RhdGlvbkRhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVJvdGF0aW9uJyxcbiAgICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFJvdGF0aW9uLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB1dnNEYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FUZXh0dXJlQ29vcmQnLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVXZzLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB0aW50RGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhQ29sb3InLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdHlwZTogVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRUaW50LFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50LCB7fSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG4gICAgcmVuZGVyKGNvbnRhaW5lcilcbiAgICB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICBjb25zdCBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICBsZXQgdG90YWxDaGlsZHJlbiA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBpZiAodG90YWxDaGlsZHJlbiA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRvdGFsQ2hpbGRyZW4gPiBtYXhTaXplICYmICFjb250YWluZXIuYXV0b1Jlc2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdG90YWxDaGlsZHJlbiA9IG1heFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycztcblxuICAgICAgICBpZiAoIWJ1ZmZlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnMgPSB0aGlzLmdlbmVyYXRlQnVmZmVycyhjb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSBjaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAvLyBpZiB0aGUgdXZzIGhhdmUgbm90IHVwZGF0ZWQgdGhlbiBubyBwb2ludCByZW5kZXJpbmcganVzdCB5ZXQhXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGNvcnJlY3RCbGVuZE1vZGUoY29udGFpbmVyLmJsZW5kTW9kZSwgYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSkpO1xuXG4gICAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgY29uc3QgbSA9IGNvbnRhaW5lci53b3JsZFRyYW5zZm9ybS5jb3B5VG8odGhpcy50ZW1wTWF0cml4KTtcblxuICAgICAgICBtLnByZXBlbmQocmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSBtLnRvQXJyYXkodHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yID0gcHJlbXVsdGlwbHlSZ2JhKGNvbnRhaW5lci50aW50UmdiLFxuICAgICAgICAgICAgY29udGFpbmVyLndvcmxkQWxwaGEsIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSk7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSBiYXNlVGV4dHVyZTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRlci5iaW5kKHRoaXMuc2hhZGVyKTtcblxuICAgICAgICBsZXQgdXBkYXRlU3RhdGljID0gZmFsc2U7XG5cbiAgICAgICAgLy8gbm93IGxldHMgdXBsb2FkIGFuZCByZW5kZXIgdGhlIGJ1ZmZlcnMuLlxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbENoaWxkcmVuOyBpICs9IGJhdGNoU2l6ZSwgaiArPSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgYW1vdW50ID0gKHRvdGFsQ2hpbGRyZW4gLSBpKTtcblxuICAgICAgICAgICAgaWYgKGFtb3VudCA+IGJhdGNoU2l6ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhbW91bnQgPSBiYXRjaFNpemU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChqID49IGJ1ZmZlcnMubGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcnMucHVzaCh0aGlzLl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIoY29udGFpbmVyKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG5cbiAgICAgICAgICAgIC8vIHdlIGFsd2F5cyB1cGxvYWQgdGhlIGR5bmFtaWNcbiAgICAgICAgICAgIGJ1ZmZlci51cGxvYWREeW5hbWljKGNoaWxkcmVuLCBpLCBhbW91bnQpO1xuXG4gICAgICAgICAgICBjb25zdCBiaWQgPSBjb250YWluZXIuX2J1ZmZlclVwZGF0ZUlEc1tqXSB8fCAwO1xuXG4gICAgICAgICAgICB1cGRhdGVTdGF0aWMgPSB1cGRhdGVTdGF0aWMgfHwgKGJ1ZmZlci5fdXBkYXRlSUQgPCBiaWQpO1xuICAgICAgICAgICAgLy8gd2Ugb25seSB1cGxvYWQgdGhlIHN0YXRpYyBjb250ZW50IHdoZW4gd2UgaGF2ZSB0byFcbiAgICAgICAgICAgIGlmICh1cGRhdGVTdGF0aWMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl91cGRhdGVJRCA9IGNvbnRhaW5lci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYmluZCB0aGUgYnVmZmVyXG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGJ1ZmZlci5nZW9tZXRyeSk7XG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBhbW91bnQgKiA2LCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBwYXJ0aWNsZSBidWZmZXIgZm9yIGVhY2ggY2hpbGQgaW4gdGhlIGNvbnRhaW5lciB3ZSB3YW50IHRvIHJlbmRlciBhbmQgdXBkYXRlcyBpbnRlcm5hbCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJbXX0gVGhlIGJ1ZmZlcnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdlbmVyYXRlQnVmZmVycyhjb250YWluZXIpXG4gICAge1xuICAgICAgICBjb25zdCBidWZmZXJzID0gW107XG4gICAgICAgIGNvbnN0IHNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIGNvbnN0IGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICBjb25zdCBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkgKz0gYmF0Y2hTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICBidWZmZXJzLnB1c2gobmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgbW9yZSBwYXJ0aWNsZSBidWZmZXIsIGJlY2F1c2UgY29udGFpbmVyIGhhcyBhdXRvUmVzaXplIGZlYXR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcn0gZ2VuZXJhdGVkIGJ1ZmZlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpXG4gICAge1xuICAgICAgICBjb25zdCBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgY29uc3QgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgdmVydGljZXMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIHVwbG9hZFZlcnRpY2VzKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGxldCB3MCA9IDA7XG4gICAgICAgIGxldCB3MSA9IDA7XG4gICAgICAgIGxldCBoMCA9IDA7XG4gICAgICAgIGxldCBoMSA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgICAgIGNvbnN0IHN4ID0gc3ByaXRlLnNjYWxlLng7XG4gICAgICAgICAgICBjb25zdCBzeSA9IHNwcml0ZS5zY2FsZS55O1xuICAgICAgICAgICAgY29uc3QgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgICAgIGNvbnN0IG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG5cbiAgICAgICAgICAgIGlmICh0cmltKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZCBhbmQgaXMgbm90IGEgdGlsaW5nc3ByaXRlIHRoZW4gd2UgbmVlZCB0byBhZGQgdGhlXG4gICAgICAgICAgICAgICAgLy8gZXh0cmEgc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy4uXG4gICAgICAgICAgICAgICAgdzEgPSB0cmltLnggLSAoc3ByaXRlLmFuY2hvci54ICogb3JpZy53aWR0aCk7XG4gICAgICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG5cbiAgICAgICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChzcHJpdGUuYW5jaG9yLnkgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHcwID0gKG9yaWcud2lkdGgpICogKDEgLSBzcHJpdGUuYW5jaG9yLngpO1xuICAgICAgICAgICAgICAgIHcxID0gKG9yaWcud2lkdGgpICogLXNwcml0ZS5hbmNob3IueDtcblxuICAgICAgICAgICAgICAgIGgwID0gb3JpZy5oZWlnaHQgKiAoMSAtIHNwcml0ZS5hbmNob3IueSk7XG4gICAgICAgICAgICAgICAgaDEgPSBvcmlnLmhlaWdodCAqIC1zcHJpdGUuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB3MSAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBoMSAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdzAgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IGgwICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSB3MSAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcG9zaXRpb25zIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICB1cGxvYWRQb3NpdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgcm90aWF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIHVwbG9hZFJvdGF0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZVJvdGF0aW9uID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLnJvdGF0aW9uO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gc3ByaXRlUm90YXRpb247XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgVXZzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgdXBsb2FkVXZzKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVVdnMgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0uX3RleHR1cmUuX3V2cztcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVVdnMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHRleHR1cmVVdnMueDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHRleHR1cmVVdnMueDE7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSB0ZXh0dXJlVXZzLnkxO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHRleHR1cmVVdnMueDI7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSB0ZXh0dXJlVXZzLnkyO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHRleHR1cmVVdnMueDM7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSB0ZXh0dXJlVXZzLnkzO1xuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyB5b3Uga25vdyB0aGlzIGNhbiBiZSBlYXNpZXIhXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB0aW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIHVwbG9hZFRpbnQoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgY29uc3QgcHJlbXVsdGlwbGllZCA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICAgICAgY29uc3QgYWxwaGEgPSBzcHJpdGUuYWxwaGE7XG4gICAgICAgICAgICAvLyB3ZSBkb250IGNhbGwgZXh0cmEgZnVuY3Rpb24gaWYgYWxwaGEgaXMgMS4wLCB0aGF0J3MgZmFzdGVyXG4gICAgICAgICAgICBjb25zdCBhcmdiID0gYWxwaGEgPCAxLjAgJiYgcHJlbXVsdGlwbGllZCA/IHByZW11bHRpcGx5VGludChzcHJpdGUuX3RpbnRSR0IsIGFscGhhKVxuICAgICAgICAgICAgICAgIDogc3ByaXRlLl90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IGFyZ2I7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlUmVuZGVyZXIuXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRlbXBNYXRyaXggPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgZ2V0UmVzb2x1dGlvbk9mVXJsIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIFV0aWxpdHkgY2xhc3MgZm9yIG1haW50YWluaW5nIHJlZmVyZW5jZSB0byBhIGNvbGxlY3Rpb25cbiAqIG9mIFRleHR1cmVzIG9uIGEgc2luZ2xlIFNwcml0ZXNoZWV0LlxuICpcbiAqIFRvIGFjY2VzcyBhIHNwcml0ZSBzaGVldCBmcm9tIHlvdXIgY29kZSBwYXNzIGl0cyBKU09OIGRhdGEgZmlsZSB0byBQaXhpJ3MgbG9hZGVyOlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiaW1hZ2VzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqIFdpdGggdGhlIGBzaGVldC50ZXh0dXJlc2AgeW91IGNhbiBjcmVhdGUgU3ByaXRlIG9iamVjdHMsYHNoZWV0LmFuaW1hdGlvbnNgIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiBBbmltYXRlZFNwcml0ZS5cbiAqXG4gKiBTcHJpdGUgc2hlZXRzIGNhbiBiZSBwYWNrZWQgdXNpbmcgdG9vbHMgbGlrZSB7QGxpbmsgaHR0cHM6Ly9jb2RlYW5kd2ViLmNvbS90ZXh0dXJlcGFja2VyfFRleHR1cmVQYWNrZXJ9LFxuICoge0BsaW5rIGh0dHBzOi8vcmVuZGVyaGpzLm5ldC9zaG9lYm94L3xTaG9lYm94fSBvciB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2tyenlzenRvZi1vL3Nwcml0ZXNoZWV0LmpzfFNwcml0ZXNoZWV0LmpzfS5cbiAqIERlZmF1bHQgYW5jaG9yIHBvaW50cyAoc2VlIHtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0pIGFuZCBncm91cGluZyBvZiBhbmltYXRpb24gc3ByaXRlcyBhcmUgY3VycmVudGx5IG9ubHlcbiAqIHN1cHBvcnRlZCBieSBUZXh0dXJlUGFja2VyLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaXRlc2hlZXRcbntcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgVGV4dHVyZXMgdG8gYnVpbGQgcGVyIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDEwMDBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IEJBVENIX1NJWkUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIDEwMDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSBSZWZlcmVuY2UgdG8gdGhlIHNvdXJjZSBCYXNlVGV4dHVyZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBTcHJpdGVzaGVldCBpbWFnZSBkYXRhLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcmVzb2x1dGlvbkZpbGVuYW1lXSAtIFRoZSBmaWxlbmFtZSB0byBjb25zaWRlciB3aGVuIGRldGVybWluaW5nXG4gICAgICogICAgICAgIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBzcHJpdGVzaGVldC4gSWYgbm90IHByb3ZpZGVkLCB0aGUgaW1hZ2VVcmwgd2lsbFxuICAgICAqICAgICAgICBiZSB1c2VkIG9uIHRoZSBCYXNlVGV4dHVyZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihiYXNlVGV4dHVyZSwgZGF0YSwgcmVzb2x1dGlvbkZpbGVuYW1lID0gbnVsbClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhzIHNvdXJjZSB0ZXh0dXJlXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBjb250YWluaW5nIGFsbCB0ZXh0dXJlcyBvZiB0aGUgc3ByaXRlIHNoZWV0LlxuICAgICAgICAgKiBDYW4gYmUgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgUElYSS5TcHJpdGV8U3ByaXRlfTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbmV3IFBJWEkuU3ByaXRlKHNoZWV0LnRleHR1cmVzW1wiaW1hZ2UucG5nXCJdKTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgY29udGFpbmluZyB0aGUgdGV4dHVyZXMgZm9yIGVhY2ggYW5pbWF0aW9uLlxuICAgICAgICAgKiBDYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4ge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV8QW5pbWF0ZWRTcHJpdGV9OlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiBuZXcgUElYSS5BbmltYXRlZFNwcml0ZShzaGVldC5hbmltYXRpb25zW1wiYW5pbV9uYW1lXCJdKVxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYWwgSlNPTiBkYXRhLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy5fdXBkYXRlUmVzb2x1dGlvbihcbiAgICAgICAgICAgIHJlc29sdXRpb25GaWxlbmFtZVxuICAgICAgICAgICAgfHwgKHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UgPyB0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlLnVybCA6IG51bGwpXG4gICAgICAgICk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCBvZiBzcHJpdGVzaGVldCBmcmFtZXMuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZXMgPSB0aGlzLmRhdGEuZnJhbWVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGZyYW1lIG5hbWVzLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9mcmFtZXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGJhdGNoIGluZGV4IGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB3aGVuIHBhcnNlIGlzIGNvbXBsZXRlZC5cbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHRoZSByZXNvbHV0aW9uIGZyb20gdGhlIGZpbGVuYW1lIG9yIGZhbGxiYWNrXG4gICAgICogdG8gdGhlIG1ldGEuc2NhbGUgZmllbGQgb2YgdGhlIEpTT04gZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlc29sdXRpb25GaWxlbmFtZSAtIFRoZSBmaWxlbmFtZSB0byB1c2UgZm9yIHJlc29sdmluZ1xuICAgICAqICAgICAgICB0aGUgZGVmYXVsdCByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbiB0byB1c2UgZm9yIHNwcml0ZXNoZWV0LlxuICAgICAqL1xuICAgIF91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5kYXRhLm1ldGEuc2NhbGU7XG5cbiAgICAgICAgLy8gVXNlIGEgZGVmYXVsdFZhbHVlIG9mIGBudWxsYCB0byBjaGVjayBpZiBhIHVybC1iYXNlZCByZXNvbHV0aW9uIGlzIHNldFxuICAgICAgICBsZXQgcmVzb2x1dGlvbiA9IGdldFJlc29sdXRpb25PZlVybChyZXNvbHV0aW9uRmlsZW5hbWUsIG51bGwpO1xuXG4gICAgICAgIC8vIE5vIHJlc29sdXRpb24gZm91bmQgdmlhIFVSTFxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBzY2FsZSB2YWx1ZSBvciBkZWZhdWx0IHRvIDFcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBzY2FsZSAhPT0gdW5kZWZpbmVkID8gcGFyc2VGbG9hdChzY2FsZSkgOiAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIG5vbi0xIHJlc29sdXRpb25zLCB1cGRhdGUgYmFzZVRleHR1cmVcbiAgICAgICAgaWYgKHJlc29sdXRpb24gIT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNvbHV0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlciBzcHJpdGVzaGVldCBmcm9tIGxvYWRlZCBkYXRhLiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHlcbiAgICAgKiB0byBwcmV2ZW50IGNyZWF0aW5nIHRvbyBtYW55IFRleHR1cmUgd2l0aGluIGEgc2luZ2xlIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIHdoZW4gY29tcGxldGUgcmV0dXJuc1xuICAgICAqICAgICAgICBhIG1hcCBvZiB0aGUgVGV4dHVyZXMgZm9yIHRoaXMgc3ByaXRlc2hlZXQuXG4gICAgICovXG4gICAgcGFyc2UoY2FsbGJhY2spXG4gICAge1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgICBpZiAodGhpcy5fZnJhbWVLZXlzLmxlbmd0aCA8PSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKDApO1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhIGJhdGNoIG9mIGZyYW1lc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5pdGlhbEZyYW1lSW5kZXggLSBUaGUgaW5kZXggb2YgZnJhbWUgdG8gc3RhcnQuXG4gICAgICovXG4gICAgX3Byb2Nlc3NGcmFtZXMoaW5pdGlhbEZyYW1lSW5kZXgpXG4gICAge1xuICAgICAgICBsZXQgZnJhbWVJbmRleCA9IGluaXRpYWxGcmFtZUluZGV4O1xuICAgICAgICBjb25zdCBtYXhGcmFtZXMgPSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFO1xuXG4gICAgICAgIHdoaWxlIChmcmFtZUluZGV4IC0gaW5pdGlhbEZyYW1lSW5kZXggPCBtYXhGcmFtZXMgJiYgZnJhbWVJbmRleCA8IHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLl9mcmFtZUtleXNbZnJhbWVJbmRleF07XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5fZnJhbWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IGRhdGEuZnJhbWU7XG5cbiAgICAgICAgICAgIGlmIChyZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbGV0IHRyaW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZVNpemUgPSBkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc291cmNlU2l6ZVxuICAgICAgICAgICAgICAgICAgICA/IGRhdGEuc291cmNlU2l6ZSA6IGRhdGEuZnJhbWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihzb3VyY2VTaXplLncpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHNvdXJjZVNpemUuaCkgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEucm90YXRlZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC54KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC55KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMucmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyAgQ2hlY2sgdG8gc2VlIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZFxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc3ByaXRlU291cmNlU2l6ZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyaW0gPSBuZXcgUmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueCkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS55KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbaV0gPSBuZXcgVGV4dHVyZShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUsXG4gICAgICAgICAgICAgICAgICAgIG9yaWcsXG4gICAgICAgICAgICAgICAgICAgIHRyaW0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucm90YXRlZCA/IDIgOiAwLFxuICAgICAgICAgICAgICAgICAgICBkYXRhLmFuY2hvclxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBsZXRzIGFsc28gYWRkIHRoZSBmcmFtZSB0byBwaXhpJ3MgZ2xvYmFsIGNhY2hlIGZvciAnZnJvbScgYW5kICdmcm9tTG9hZGVyJyBmdW5jdGlvbnNcbiAgICAgICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGhpcy50ZXh0dXJlc1tpXSwgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlIGFuaW1hdGlvbnMgY29uZmlnXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9wcm9jZXNzQW5pbWF0aW9ucygpXG4gICAge1xuICAgICAgICBjb25zdCBhbmltYXRpb25zID0gdGhpcy5kYXRhLmFuaW1hdGlvbnMgfHwge307XG5cbiAgICAgICAgZm9yIChjb25zdCBhbmltTmFtZSBpbiBhbmltYXRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuaW1hdGlvbnNbYW5pbU5hbWVdLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lTmFtZSA9IGFuaW1hdGlvbnNbYW5pbU5hbWVdW2ldO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXS5wdXNoKHRoaXMudGV4dHVyZXNbZnJhbWVOYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGFyc2UgaGFzIGNvbXBsZXRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3BhcnNlQ29tcGxldGUoKVxuICAgIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLl9jYWxsYmFjaztcblxuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHRoaXMudGV4dHVyZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJlZ2luIHRoZSBuZXh0IGJhdGNoIG9mIHRleHR1cmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbmV4dEJhdGNoKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXModGhpcy5fYmF0Y2hJbmRleCAqIFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4Kys7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFIDwgdGhpcy5fZnJhbWVLZXlzLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzQW5pbWF0aW9ucygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBTcHJpdGVzaGVldCBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuICAgIGRlc3Ryb3koZGVzdHJveUJhc2UgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnRleHR1cmVzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mcmFtZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHR1cmVzID0gbnVsbDtcbiAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyB1cmwgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuaW1wb3J0IFNwcml0ZXNoZWV0IGZyb20gJy4vU3ByaXRlc2hlZXQnO1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmcgdGV4dHVyZSBhdGxhc2VzIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWQgd2l0aFxuICogVGV4dHVyZVBhY2tlciBvciBzaW1pbGFyIEpTT04tYmFzZWQgc3ByaXRlc2hlZXQuXG4gKlxuICogVGhpcyBtaWRkbGV3YXJlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzIFRleHR1cmUgcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpdGVzaGVldExvYWRlclxue1xuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICAgICAqL1xuICAgIHN0YXRpYyB1c2UocmVzb3VyY2UsIG5leHQpXG4gICAge1xuICAgICAgICBjb25zdCBpbWFnZVJlc291cmNlTmFtZSA9IGAke3Jlc291cmNlLm5hbWV9X2ltYWdlYDtcblxuICAgICAgICAvLyBza2lwIGlmIG5vIGRhdGEsIGl0cyBub3QganNvbiwgaXQgaXNuJ3Qgc3ByaXRlc2hlZXQgZGF0YSwgb3IgdGhlIGltYWdlIHJlc291cmNlIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YVxuICAgICAgICAgICAgfHwgcmVzb3VyY2UudHlwZSAhPT0gTG9hZGVyUmVzb3VyY2UuVFlQRS5KU09OXG4gICAgICAgICAgICB8fCAhcmVzb3VyY2UuZGF0YS5mcmFtZXNcbiAgICAgICAgICAgIHx8IHRoaXMucmVzb3VyY2VzW2ltYWdlUmVzb3VyY2VOYW1lXVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5leHQoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbG9hZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXNvdXJjZVBhdGggPSBTcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIHRoaXMuYmFzZVVybCk7XG5cbiAgICAgICAgLy8gbG9hZCB0aGUgaW1hZ2UgZm9yIHRoaXMgc2hlZXRcbiAgICAgICAgdGhpcy5hZGQoaW1hZ2VSZXNvdXJjZU5hbWUsIHJlc291cmNlUGF0aCwgbG9hZE9wdGlvbnMsIGZ1bmN0aW9uIG9uSW1hZ2VMb2FkKHJlcylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHJlcy5lcnJvcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuZXh0KHJlcy5lcnJvcik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZXNoZWV0ID0gbmV3IFNwcml0ZXNoZWV0KFxuICAgICAgICAgICAgICAgIHJlcy50ZXh0dXJlLmJhc2VUZXh0dXJlLFxuICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudXJsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBzcHJpdGVzaGVldC5wYXJzZSgoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnNwcml0ZXNoZWV0ID0gc3ByaXRlc2hlZXQ7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZXMgPSBzcHJpdGVzaGVldC50ZXh0dXJlcztcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzcHJpdGVzaGVldHMgcm9vdCBwYXRoXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZSAtIFJlc291cmNlIHRvIGNoZWNrIHBhdGhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVybCAtIEJhc2Ugcm9vdCB1cmxcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0UmVzb3VyY2VQYXRoKHJlc291cmNlLCBiYXNlVXJsKVxuICAgIHtcbiAgICAgICAgLy8gUHJlcGVuZCB1cmwgcGF0aCB1bmxlc3MgdGhlIHJlc291cmNlIGltYWdlIGlzIGEgZGF0YSB1cmxcbiAgICAgICAgaWYgKHJlc291cmNlLmlzRGF0YVVybClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cmwucmVzb2x2ZShyZXNvdXJjZS51cmwucmVwbGFjZShiYXNlVXJsLCAnJyksIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVGV4dHVyZU1hdHJpeCwgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgUG9pbnQsIFJlY3RhbmdsZSwgVHJhbnNmb3JtIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUZXh0dXJlQ2FjaGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuXG5jb25zdCB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcblxuLyoqXG4gKiBBIHRpbGluZyBzcHJpdGUgaXMgYSBmYXN0IHdheSBvZiByZW5kZXJpbmcgYSB0aWxpbmcgaW1hZ2VcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWxpbmdTcHJpdGUgZXh0ZW5kcyBTcHJpdGVcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MTAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlLCB3aWR0aCA9IDEwMCwgaGVpZ2h0ID0gMTAwKVxuICAgIHtcbiAgICAgICAgc3VwZXIodGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbGUgdHJhbnNmb3JtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4gICAgICAgIC8vIC8vLyBwcml2YXRlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aXRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW52YXMgcGF0dGVyblxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUGF0dGVybn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbnZhc1BhdHRlcm4gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtYXRyaXggdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgY29vcmRzIGluIFRleHR1cmUgbm9ybWFsaXplZCBzcGFjZSB0byBjb29yZHMgaW4gQmFzZVRleHR1cmUgc3BhY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IHRleHR1cmUudXZNYXRyaXggfHwgbmV3IFRleHR1cmVNYXRyaXgodGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInIG1ldGhvZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAndGlsaW5nU3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gJ3RpbGluZ1Nwcml0ZSc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IGFuY2hvciBhZmZlY3RzIHV2c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dlJlc3BlY3RBbmNob3IgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZyBpbiBjb3JyZXNwb25kaW5nIHRleHR1cmVUcmFuc2Zvcm0sIHNob3J0Y3V0XG4gICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGNsYW1wTWFyZ2luKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luO1xuICAgIH1cblxuICAgIHNldCBjbGFtcE1hcmdpbih2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsaW5nIG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBnZXQgdGlsZVNjYWxlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGU7XG4gICAgfVxuXG4gICAgc2V0IHRpbGVTY2FsZSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGUuY29weUZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvZmZzZXQgb2YgdGhlIGltYWdlIHRoYXQgaXMgYmVpbmcgdGlsZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIGdldCB0aWxlUG9zaXRpb24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgdGlsZVBvc2l0aW9uKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25UZXh0dXJlVXBkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnV2TWF0cml4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnV2TWF0cml4LnRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIF9yZW5kZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSB8fCAhdGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKCk7XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NhbGN1bGF0ZUJvdW5kcygpXG4gICAge1xuICAgICAgICBjb25zdCBtaW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICBjb25zdCBtaW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgY29uc3QgbWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICBjb25zdCBtYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIGdldExvY2FsQm91bmRzKHJlY3QpXG4gICAge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgc3ByaXRlIGNvbnRhaW5zIHRoZSBwb2ludC5cbiAgICAgKi9cbiAgICBjb250YWluc1BvaW50KHBvaW50KVxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl93aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICBjb25zdCB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLl94O1xuXG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIGRlc3Ryb3kob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyB0aWxpbmcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRpbGluZ1Nwcml0ZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHNvdXJjZSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShzb3VyY2UpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgdGlsaW5nIHNwcml0ZSB0aGF0IHdpbGwgdXNlIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgZnJhbWVJZFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tRnJhbWUoZnJhbWVJZCwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBmcmFtZUlkIFwiJHtmcmFtZUlkfVwiIGRvZXMgbm90IGV4aXN0IGluIHRoZSB0ZXh0dXJlIGNhY2hlICR7dGhpc31gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKHRleHR1cmUsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgaW1hZ2UgaWRcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUltYWdlKGltYWdlSWQsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICAvLyBGYWxsYmFjayBzdXBwb3J0IGZvciBjcm9zc29yaWdpbiwgc2NhbGVNb2RlIHBhcmFtZXRlcnNcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKVxuICAgICAgICB7XG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogYXJndW1lbnRzWzRdLFxuICAgICAgICAgICAgICAgIHJlc291cmNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUoVGV4dHVyZS5mcm9tKGltYWdlSWQsIG9wdGlvbnMpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH1cblxuICAgIHNldCB3aWR0aCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IGhlaWdodCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBPYmplY3RSZW5kZXJlciwgU2hhZGVyLCBRdWFkVXYgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnRUb1JnYmEsIGNvcnJlY3RCbGVuZE1vZGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi90aWxpbmdTcHJpdGUudmVydCc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi90aWxpbmdTcHJpdGUuZnJhZyc7XG5pbXBvcnQgZnJhZ21lbnRTaW1wbGUgZnJvbSAnLi90aWxpbmdTcHJpdGVfc2ltcGxlLmZyYWcnO1xuXG5jb25zdCB0ZW1wTWF0ID0gbmV3IE1hdHJpeCgpO1xuXG4vKipcbiAqIFdlYkdMIHJlbmRlcmVyIHBsdWdpbiBmb3IgdGlsaW5nIHNwcml0ZXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGluZ1Nwcml0ZVJlbmRlcmVyIGV4dGVuZHMgT2JqZWN0UmVuZGVyZXJcbntcbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBmb3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgVGhlIHJlbmRlcmVyIHRoaXMgdGlsaW5nIGF3ZXNvbWVuZXNzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IHsgZ2xvYmFsczogdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcyB9O1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudCwgdW5pZm9ybXMpO1xuXG4gICAgICAgIHRoaXMuc2ltcGxlU2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudFNpbXBsZSwgdW5pZm9ybXMpO1xuXG4gICAgICAgIHRoaXMucXVhZCA9IG5ldyBRdWFkVXYoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UaWxpbmdTcHJpdGV9IHRzIHRpbGluZ1Nwcml0ZSB0byBiZSByZW5kZXJlZFxuICAgICAqL1xuICAgIHJlbmRlcih0cylcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgY29uc3QgcXVhZCA9IHRoaXMucXVhZDtcblxuICAgICAgICBsZXQgdmVydGljZXMgPSBxdWFkLnZlcnRpY2VzO1xuXG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAodHMuX3dpZHRoKSAqIC10cy5hbmNob3IueDtcbiAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IHRzLl9oZWlnaHQgKiAtdHMuYW5jaG9yLnk7XG5cbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9ICh0cy5fd2lkdGgpICogKDEuMCAtIHRzLmFuY2hvci54KTtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IHRzLl9oZWlnaHQgKiAoMS4wIC0gdHMuYW5jaG9yLnkpO1xuXG4gICAgICAgIGlmICh0cy51dlJlc3BlY3RBbmNob3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRpY2VzID0gcXVhZC51dnM7XG5cbiAgICAgICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAtdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gLXRzLmFuY2hvci55O1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gMS4wIC0gdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gMS4wIC0gdHMuYW5jaG9yLnk7XG4gICAgICAgIH1cblxuICAgICAgICBxdWFkLmludmFsaWRhdGUoKTtcblxuICAgICAgICBjb25zdCB0ZXggPSB0cy5fdGV4dHVyZTtcbiAgICAgICAgY29uc3QgYmFzZVRleCA9IHRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgY29uc3QgbHQgPSB0cy50aWxlVHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICBjb25zdCB1diA9IHRzLnV2TWF0cml4O1xuICAgICAgICBsZXQgaXNTaW1wbGUgPSBiYXNlVGV4LmlzUG93ZXJPZlR3b1xuICAgICAgICAgICAgJiYgdGV4LmZyYW1lLndpZHRoID09PSBiYXNlVGV4LndpZHRoICYmIHRleC5mcmFtZS5oZWlnaHQgPT09IGJhc2VUZXguaGVpZ2h0O1xuXG4gICAgICAgIC8vIGF1dG8sIGZvcmNlIHJlcGVhdCB3cmFwTW9kZSBmb3IgYmlnIHRpbGluZyB0ZXh0dXJlc1xuICAgICAgICBpZiAoaXNTaW1wbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYmFzZVRleC5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2VUZXgud3JhcE1vZGUgPT09IFdSQVBfTU9ERVMuQ0xBTVApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4LndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlzU2ltcGxlID0gYmFzZVRleC53cmFwTW9kZSAhPT0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNoYWRlciA9IGlzU2ltcGxlID8gdGhpcy5zaW1wbGVTaGFkZXIgOiB0aGlzLnNoYWRlcjtcblxuICAgICAgICBjb25zdCB3ID0gdGV4LndpZHRoO1xuICAgICAgICBjb25zdCBoID0gdGV4LmhlaWdodDtcbiAgICAgICAgY29uc3QgVyA9IHRzLl93aWR0aDtcbiAgICAgICAgY29uc3QgSCA9IHRzLl9oZWlnaHQ7XG5cbiAgICAgICAgdGVtcE1hdC5zZXQobHQuYSAqIHcgLyBXLFxuICAgICAgICAgICAgbHQuYiAqIHcgLyBILFxuICAgICAgICAgICAgbHQuYyAqIGggLyBXLFxuICAgICAgICAgICAgbHQuZCAqIGggLyBILFxuICAgICAgICAgICAgbHQudHggLyBXLFxuICAgICAgICAgICAgbHQudHkgLyBIKTtcblxuICAgICAgICAvLyB0aGF0IHBhcnQgaXMgdGhlIHNhbWUgYXMgYWJvdmU6XG4gICAgICAgIC8vIHRlbXBNYXQuaWRlbnRpdHkoKTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSh0ZXgud2lkdGgsIHRleC5oZWlnaHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnByZXBlbmQobHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKDEuMCAvIHRzLl93aWR0aCwgMS4wIC8gdHMuX2hlaWdodCk7XG5cbiAgICAgICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICAgICAgaWYgKGlzU2ltcGxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wTWF0LnByZXBlbmQodXYubWFwQ29vcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IHRlbXBNYXQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IHByZW11bHRpcGx5VGludFRvUmdiYSh0cy50aW50LCB0cy53b3JsZEFscGhhLFxuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleC5wcmVtdWx0aXBseUFscGhhKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdHMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHRleDtcblxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHF1YWQpOy8vICwgcmVuZGVyZXIuc2hhZGVyLmdldEdMU2hhZGVyKCkpO1xuXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShjb3JyZWN0QmxlbmRNb2RlKHRzLmJsZW5kTW9kZSwgYmFzZVRleC5wcmVtdWx0aXBseUFscGhhKSk7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIDApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZVBvaW50LCBQb2ludCwgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyByZW1vdmVJdGVtcywgZ2V0UmVzb2x1dGlvbk9mVXJsIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBUZXh0IGlzIHRoYXQgYWxsIG9mIHlvdXIgdGV4dHVyZXMgYXJlIHByZS1nZW5lcmF0ZWQgYW5kIGxvYWRpbmcsXG4gKiBtZWFuaW5nIHRoYXQgcmVuZGVyaW5nIGlzIGZhc3QsIGFuZCBjaGFuZ2luZyB0ZXh0IGhhcyBubyBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gKlxuICogVGhlIHByaW1hcnkgZGlzYWR2YW50YWdlIGlzIHRoYXQgeW91IG5lZWQgdG8gcHJlbG9hZCB0aGUgYml0bWFwIGZvbnQgYXNzZXRzLCBhbmQgdGh1cyB0aGUgc3R5bGluZyBpcyBzZXQgaW4gc3RvbmUuXG4gKiBTdXBwb3J0aW5nIGNoYXJhY3RlciBzZXRzIG90aGVyIHRoYW4gbGF0aW4sIHN1Y2ggYXMgQ0pLIGxhbmd1YWdlcywgbWF5IGJlIGltcHJhY3RpY2FsIGR1ZSB0byB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLCAnXFxyJyBvciAnXFxyXFxuJyBpbiB5b3VyIHN0cmluZy5cbiAqXG4gKiBZb3UgY2FuIGdlbmVyYXRlIHRoZSBmbnQgZmlsZXMgdXNpbmdcbiAqIGh0dHA6Ly93d3cuYW5nZWxjb2RlLmNvbS9wcm9kdWN0cy9ibWZvbnQvIGZvciBXaW5kb3dzIG9yXG4gKiBodHRwOi8vd3d3LmJtZ2x5cGguY29tLyBmb3IgTWFjLlxuICpcbiAqIEEgQml0bWFwVGV4dCBjYW4gb25seSBiZSBjcmVhdGVkIHdoZW4gdGhlIGZvbnQgaXMgbG9hZGVkLlxuICpcbiAqIGBgYGpzXG4gKiAvLyBpbiB0aGlzIGNhc2UgdGhlIGZvbnQgaXMgaW4gYSBmaWxlIGNhbGxlZCAnZGVzeXJlbC5mbnQnXG4gKiBsZXQgYml0bWFwVGV4dCA9IG5ldyBQSVhJLkJpdG1hcFRleHQoXCJ0ZXh0IHVzaW5nIGEgZmFuY3kgZm9udCFcIiwge2ZvbnQ6IFwiMzVweCBEZXN5cmVsXCIsIGFsaWduOiBcInJpZ2h0XCJ9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpdG1hcFRleHQgZXh0ZW5kcyBDb250YWluZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIEEgc3RyaW5nIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHN0eWxlLmZvbnQgLSBUaGUgZm9udCBkZXNjcmlwdG9yIGZvciB0aGUgb2JqZWN0LCBjYW4gYmUgcGFzc2VkIGFzIGEgc3RyaW5nIG9mIGZvcm1cbiAgICAgKiAgICAgIFwiMjRweCBGb250TmFtZVwiIG9yIFwiRm9udE5hbWVcIiBvciBhcyBhbiBvYmplY3Qgd2l0aCBleHBsaWNpdCBuYW1lL3NpemUgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnQubmFtZV0gLSBUaGUgYml0bWFwIGZvbnQgaWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5mb250LnNpemVdIC0gVGhlIHNpemUgb2YgdGhlIGZvbnQgaW4gcGl4ZWxzLCBlLmcuIDI0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0XG4gICAgICogICAgICBzaW5nbGUgbGluZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUudGludD0weEZGRkZGRl0gLSBUaGUgdGludCBjb2xvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBzdHlsZSA9IHt9KVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgbGV0dGVyIHNwcml0ZSBwb29sLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2x5cGhzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZvbnQgPSB7XG4gICAgICAgICAgICB0aW50OiBzdHlsZS50aW50ICE9PSB1bmRlZmluZWQgPyBzdHlsZS50aW50IDogMHhGRkZGRkYsXG4gICAgICAgICAgICBhbGlnbjogc3R5bGUuYWxpZ24gfHwgJ2xlZnQnLFxuICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgIHNpemU6IDAsXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb250ID0gc3R5bGUuZm9udDsgLy8gcnVuIGZvbnQgc2V0dGVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heFdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGllOiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGV0dGVyIHNwYWNpbmcuIFRoaXMgaXMgdXNlZnVsIGZvciBzZXR0aW5nIHRoZSBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnMuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IGFuY2hvci4gcmVhZC1vbmx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludCgoKSA9PiB7IHRoaXMuZGlydHkgPSB0cnVlOyB9LCB0aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpcnR5IHN0YXRlIG9mIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVUZXh0KClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBCaXRtYXBUZXh0LmZvbnRzW3RoaXMuX2ZvbnQubmFtZV07XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5fZm9udC5zaXplIC8gZGF0YS5zaXplO1xuICAgICAgICBjb25zdCBwb3MgPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgY29uc3QgY2hhcnMgPSBbXTtcbiAgICAgICAgY29uc3QgbGluZVdpZHRocyA9IFtdO1xuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5fdGV4dC5yZXBsYWNlKC8oPzpcXHJcXG58XFxyKS9nLCAnXFxuJykgfHwgJyAnO1xuICAgICAgICBjb25zdCB0ZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG1heFdpZHRoID0gdGhpcy5fbWF4V2lkdGggKiBkYXRhLnNpemUgLyB0aGlzLl9mb250LnNpemU7XG5cbiAgICAgICAgbGV0IHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgIGxldCBsYXN0TGluZVdpZHRoID0gMDtcbiAgICAgICAgbGV0IG1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIGxldCBsaW5lID0gMDtcbiAgICAgICAgbGV0IGxhc3RCcmVha1BvcyA9IC0xO1xuICAgICAgICBsZXQgbGFzdEJyZWFrV2lkdGggPSAwO1xuICAgICAgICBsZXQgc3BhY2VzUmVtb3ZlZCA9IDA7XG4gICAgICAgIGxldCBtYXhMaW5lSGVpZ2h0ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHRMZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hhckNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gdGV4dC5jaGFyQXQoaSk7XG5cbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGNoYXIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IGk7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrV2lkdGggPSBsYXN0TGluZVdpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hhciA9PT0gJ1xccicgfHwgY2hhciA9PT0gJ1xcbicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgKytsaW5lO1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcblxuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY2hhckRhdGEgPSBkYXRhLmNoYXJzW2NoYXJDb2RlXTtcblxuICAgICAgICAgICAgaWYgKCFjaGFyRGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByZXZDaGFyQ29kZSAmJiBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGFycy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBjaGFyRGF0YS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgIGxpbmUsXG4gICAgICAgICAgICAgICAgY2hhckNvZGUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBQb2ludChwb3MueCArIGNoYXJEYXRhLnhPZmZzZXQgKyAodGhpcy5fbGV0dGVyU3BhY2luZyAvIDIpLCBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS54QWR2YW5jZSArIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gcG9zLng7XG4gICAgICAgICAgICBtYXhMaW5lSGVpZ2h0ID0gTWF0aC5tYXgobWF4TGluZUhlaWdodCwgKGNoYXJEYXRhLnlPZmZzZXQgKyBjaGFyRGF0YS50ZXh0dXJlLmhlaWdodCkpO1xuICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gY2hhckNvZGU7XG5cbiAgICAgICAgICAgIGlmIChsYXN0QnJlYWtQb3MgIT09IC0xICYmIG1heFdpZHRoID4gMCAmJiBwb3MueCA+IG1heFdpZHRoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyhjaGFycywgMSArIGxhc3RCcmVha1BvcyAtIHNwYWNlc1JlbW92ZWQsIDEgKyBpIC0gbGFzdEJyZWFrUG9zKTtcbiAgICAgICAgICAgICAgICBpID0gbGFzdEJyZWFrUG9zO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IC0xO1xuXG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsYXN0Q2hhciA9IHRleHQuY2hhckF0KHRleHQubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgaWYgKGxhc3RDaGFyICE9PSAnXFxyJyAmJiBsYXN0Q2hhciAhPT0gJ1xcbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGxhc3RDaGFyKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gbGFzdEJyZWFrV2lkdGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaW5lQWxpZ25PZmZzZXRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gbGluZTsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgYWxpZ25PZmZzZXQgPSAwO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udC5hbGlnbiA9PT0gJ3JpZ2h0JylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9mb250LmFsaWduID09PSAnY2VudGVyJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmVBbGlnbk9mZnNldHMucHVzaChhbGlnbk9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsZW5DaGFycyA9IGNoYXJzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdGludCA9IHRoaXMudGludDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5fZ2x5cGhzW2ldOyAvLyBnZXQgdGhlIG5leHQgZ2x5cGggc3ByaXRlXG5cbiAgICAgICAgICAgIGlmIChjKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGMudGV4dHVyZSA9IGNoYXJzW2ldLnRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYyA9IG5ldyBTcHJpdGUoY2hhcnNbaV0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgYy5yb3VuZFBpeGVscyA9IHRoaXMucm91bmRQaXhlbHM7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzLnB1c2goYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGMucG9zaXRpb24ueCA9IChjaGFyc1tpXS5wb3NpdGlvbi54ICsgbGluZUFsaWduT2Zmc2V0c1tjaGFyc1tpXS5saW5lXSkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMucG9zaXRpb24ueSA9IGNoYXJzW2ldLnBvc2l0aW9uLnkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMuc2NhbGUueCA9IGMuc2NhbGUueSA9IHNjYWxlO1xuICAgICAgICAgICAgYy50aW50ID0gdGludDtcblxuICAgICAgICAgICAgaWYgKCFjLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIHVubmVjZXNzYXJ5IGNoaWxkcmVuLlxuICAgICAgICBmb3IgKGxldCBpID0gbGVuQ2hhcnM7IGkgPCB0aGlzLl9nbHlwaHMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5fZ2x5cGhzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IG1heExpbmVXaWR0aCAqIHNjYWxlO1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuXG4gICAgICAgIC8vIGFwcGx5IGFuY2hvclxuICAgICAgICBpZiAodGhpcy5hbmNob3IueCAhPT0gMCB8fCB0aGlzLmFuY2hvci55ICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzW2ldLnggLT0gdGhpcy5fdGV4dFdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHNbaV0ueSAtPSB0aGlzLl90ZXh0SGVpZ2h0ICogdGhpcy5hbmNob3IueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gbWF4TGluZUhlaWdodCAqIHNjYWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVUcmFuc2Zvcm0oKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0ZXh0IGJlZm9yZSBjYWxsaW5nIHBhcmVudCdzIGdldExvY2FsQm91bmRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cbiAgICBnZXRMb2NhbEJvdW5kcygpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHZhbGlkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgdGludCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udC50aW50O1xuICAgIH1cblxuICAgIHNldCB0aW50KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnQudGludCA9ICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlID49IDApID8gdmFsdWUgOiAweEZGRkZGRjtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWxpZ25tZW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgKi9cbiAgICBnZXQgYWxpZ24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQuYWxpZ247XG4gICAgfVxuXG4gICAgc2V0IGFsaWduKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnQuYWxpZ24gPSB2YWx1ZSB8fCAnbGVmdCc7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBpcyBgKDAsMClgLCB0aGlzIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDAuNSwwLjUpYCBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnQgfCBudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGFuY2hvcigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgIH1cblxuICAgIHNldCBhbmNob3IodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5zZXQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IGRlc2NyaXB0b3Igb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqL1xuICAgIGdldCBmb250KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250O1xuICAgIH1cblxuICAgIHNldCBmb250KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZvbnQubmFtZSA9IHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdmFsdWUuc2xpY2UoMSkuam9pbignICcpO1xuICAgICAgICAgICAgdGhpcy5fZm9udC5zaXplID0gdmFsdWUubGVuZ3RoID49IDIgPyBwYXJzZUludCh2YWx1ZVswXSwgMTApIDogQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdLnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250Lm5hbWUgPSB2YWx1ZS5uYW1lO1xuICAgICAgICAgICAgdGhpcy5fZm9udC5zaXplID0gdHlwZW9mIHZhbHVlLnNpemUgPT09ICdudW1iZXInID8gdmFsdWUuc2l6ZSA6IHBhcnNlSW50KHZhbHVlLnNpemUsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgdGV4dCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICB9XG5cbiAgICBzZXQgdGV4dCh0ZXh0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6IHRleHQpO1xuXG4gICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdGhlIHZhbHVlIHRvIDAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IG1heFdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhXaWR0aDtcbiAgICB9XG5cbiAgICBzZXQgbWF4V2lkdGgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX21heFdpZHRoID09PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21heFdpZHRoID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAqIGkuZS4gd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgbWF4TGluZUhlaWdodCgpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21heExpbmVIZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgdGV4dFdpZHRoKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZGl0aW9uYWwgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBsZXR0ZXJTcGFjaW5nKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgIH1cblxuICAgIHNldCBsZXR0ZXJTcGFjaW5nKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9sZXR0ZXJTcGFjaW5nICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgdGV4dEhlaWdodCgpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRIZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBiaXRtYXAgZm9udCB3aXRoIGRhdGEgYW5kIGEgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSB4bWwgLSBUaGUgWE1MIGRvY3VtZW50IGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgUElYSS5UZXh0dXJlPnxQSVhJLlRleHR1cmV8UElYSS5UZXh0dXJlW119IHRleHR1cmVzIC0gTGlzdCBvZiB0ZXh0dXJlcyBmb3IgZWFjaCBwYWdlLlxuICAgICAqICBJZiBwcm92aWRpbmcgYW4gb2JqZWN0LCB0aGUga2V5IGlzIHRoZSBgPHBhZ2U+YCBlbGVtZW50J3MgYGZpbGVgIGF0dHJpYnV0ZSBpbiB0aGUgRk5UIGZpbGUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBSZXN1bHQgZm9udCBvYmplY3Qgd2l0aCBmb250LCBzaXplLCBsaW5lSGVpZ2h0IGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVnaXN0ZXJGb250KHhtbCwgdGV4dHVyZXMpXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgIGNvbnN0IGluZm8gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXTtcbiAgICAgICAgY29uc3QgY29tbW9uID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjb21tb24nKVswXTtcbiAgICAgICAgY29uc3QgcGFnZXMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKTtcbiAgICAgICAgY29uc3QgcmVzID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHBhZ2VzWzBdLmdldEF0dHJpYnV0ZSgnZmlsZScpLCBzZXR0aW5ncy5SRVNPTFVUSU9OKTtcbiAgICAgICAgY29uc3QgcGFnZXNUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIGRhdGEuZm9udCA9IGluZm8uZ2V0QXR0cmlidXRlKCdmYWNlJyk7XG4gICAgICAgIGRhdGEuc2l6ZSA9IHBhcnNlSW50KGluZm8uZ2V0QXR0cmlidXRlKCdzaXplJyksIDEwKTtcbiAgICAgICAgZGF0YS5saW5lSGVpZ2h0ID0gcGFyc2VJbnQoY29tbW9uLmdldEF0dHJpYnV0ZSgnbGluZUhlaWdodCcpLCAxMCkgLyByZXM7XG4gICAgICAgIGRhdGEuY2hhcnMgPSB7fTtcblxuICAgICAgICAvLyBTaW5nbGUgdGV4dHVyZSwgY29udmVydCB0byBsaXN0XG4gICAgICAgIGlmICh0ZXh0dXJlcyBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IFRleHR1cmUsIFRleHR1cmVzIG9yIG9iamVjdFxuICAgICAgICAvLyBpbnRvIGEgcGFnZSBUZXh0dXJlIGxvb2t1cCBieSBcImlkXCJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gcGFnZXNbaV0uZ2V0QXR0cmlidXRlKCdmaWxlJyk7XG5cbiAgICAgICAgICAgIHBhZ2VzVGV4dHVyZXNbaWRdID0gdGV4dHVyZXMgaW5zdGFuY2VvZiBBcnJheSA/IHRleHR1cmVzW2ldIDogdGV4dHVyZXNbZmlsZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYXJzZSBsZXR0ZXJzXG4gICAgICAgIGNvbnN0IGxldHRlcnMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NoYXInKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxldHRlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGxldHRlciA9IGxldHRlcnNbaV07XG4gICAgICAgICAgICBjb25zdCBjaGFyQ29kZSA9IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2lkJyksIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBsZXR0ZXIuZ2V0QXR0cmlidXRlKCdwYWdlJykgfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVSZWN0ID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAocGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCkgLyByZXMpICsgKHBhZ2VzVGV4dHVyZXNbcGFnZV0uZnJhbWUueCAvIHJlcyksXG4gICAgICAgICAgICAgICAgKHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3knKSwgMTApIC8gcmVzKSArIChwYWdlc1RleHR1cmVzW3BhZ2VdLmZyYW1lLnkgLyByZXMpLFxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSwgMTApIC8gcmVzXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBkYXRhLmNoYXJzW2NoYXJDb2RlXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB4QWR2YW5jZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneGFkdmFuY2UnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBUZXh0dXJlKHBhZ2VzVGV4dHVyZXNbcGFnZV0uYmFzZVRleHR1cmUsIHRleHR1cmVSZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhcnNlIGtlcm5pbmdzXG4gICAgICAgIGNvbnN0IGtlcm5pbmdzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdrZXJuaW5nJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXJuaW5ncy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qga2VybmluZyA9IGtlcm5pbmdzW2ldO1xuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnZmlyc3QnKSwgMTApIC8gcmVzO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ3NlY29uZCcpLCAxMCkgLyByZXM7XG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnYW1vdW50JyksIDEwKSAvIHJlcztcblxuICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnNbc2Vjb25kXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhLmNoYXJzW3NlY29uZF0ua2VybmluZ1tmaXJzdF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJJ20gbGVhdmluZyB0aGlzIGFzIGEgdGVtcG9yYXJ5IGZpeCBzbyB3ZSBjYW4gdGVzdCB0aGUgYml0bWFwIGZvbnRzIGluIHYzXG4gICAgICAgIC8vIGJ1dCBpdCdzIHZlcnkgbGlrZWx5IHRvIGNoYW5nZVxuICAgICAgICBCaXRtYXBUZXh0LmZvbnRzW2RhdGEuZm9udF0gPSBkYXRhO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbn1cblxuQml0bWFwVGV4dC5mb250cyA9IHt9O1xuIiwiaW1wb3J0IHsgTG9hZGVyUmVzb3VyY2UgfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCBCaXRtYXBUZXh0IGZyb20gJy4vQml0bWFwVGV4dCc7XG5cbi8qKlxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0gbWlkZGxld2FyZSBmb3IgbG9hZGluZ1xuICogYml0bWFwLWJhc2VkIGZvbnRzIHN1aXRhYmxlIGZvciB1c2luZyB3aXRoIHtAbGluayBQSVhJLkJpdG1hcFRleHR9LlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpdG1hcEZvbnRMb2FkZXJcbntcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIEJpdG1hcFRleHQgZm9udCBmcm9tIGxvYWRlciByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2UgLSBMb2FkZXIgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBSZWZlcmVuY2UgdG8gdGV4dHVyZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2UocmVzb3VyY2UsIHRleHR1cmUpXG4gICAge1xuICAgICAgICByZXNvdXJjZS5iaXRtYXBGb250ID0gQml0bWFwVGV4dC5yZWdpc3RlckZvbnQocmVzb3VyY2UuZGF0YSwgdGV4dHVyZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHBsdWdpbiBpcyBpbnN0YWxsZWQuXG4gICAgICpcbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gICAgICovXG4gICAgc3RhdGljIGFkZCgpXG4gICAge1xuICAgICAgICBMb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdmbnQnLCBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZW1lbnQgZm9yIE5vZGVKUydzIHBhdGguZGlybmFtZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBQYXRoIHRvIGdldCBkaXJlY3RvcnkgZm9yXG4gICAgICovXG4gICAgc3RhdGljIGRpcm5hbWUodXJsKVxuICAgIHtcbiAgICAgICAgY29uc3QgZGlyID0gdXJsXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvJC8sICcnKSAvLyByZXBsYWNlIHRyYWlsaW5nIHNsYXNoXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvW15cXC9dKiQvLCAnJyk7IC8vIHJlbW92ZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBsYXN0XG5cbiAgICAgICAgLy8gRmlsZSByZXF1ZXN0IGlzIHJlbGF0aXZlLCB1c2UgY3VycmVudCBkaXJlY3RvcnlcbiAgICAgICAgaWYgKGRpciA9PT0gdXJsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJy4nO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0YXJ0ZWQgd2l0aCBhIHNsYXNoXG4gICAgICAgIGVsc2UgaWYgKGRpciA9PT0gJycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnLyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGlyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICAgICAqL1xuICAgIHN0YXRpYyB1c2UocmVzb3VyY2UsIG5leHQpXG4gICAge1xuICAgICAgICAvLyBza2lwIGlmIG5vIGRhdGEgb3Igbm90IHhtbCBkYXRhXG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YSB8fCByZXNvdXJjZS50eXBlICE9PSBMb2FkZXJSZXNvdXJjZS5UWVBFLlhNTClcbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBza2lwIGlmIG5vdCBiaXRtYXAgZm9udCBkYXRhLCB1c2luZyBzb21lIHNpbGx5IGR1Y2stdHlwaW5nXG4gICAgICAgIGlmIChyZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJykubGVuZ3RoID09PSAwXG4gICAgICAgICAgICB8fCByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJykubGVuZ3RoID09PSAwXG4gICAgICAgICAgICB8fCByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF0uZ2V0QXR0cmlidXRlKCdmYWNlJykgPT09IG51bGxcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB4bWxVcmwgPSAhcmVzb3VyY2UuaXNEYXRhVXJsID8gQml0bWFwRm9udExvYWRlci5kaXJuYW1lKHJlc291cmNlLnVybCkgOiAnJztcblxuICAgICAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoeG1sVXJsID09PSAnLicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgeG1sVXJsID0gJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwgJiYgeG1sVXJsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIGJhc2V1cmwgaGFzIGEgdHJhaWxpbmcgc2xhc2ggdGhlbiBhZGQgb25lIHRvIHhtbFVybCBzbyB0aGUgcmVwbGFjZSB3b3JrcyBiZWxvd1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwuY2hhckF0KHRoaXMuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeG1sVXJsICs9ICcvJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgYmFzZVVybCBmcm9tIHhtbFVybFxuICAgICAgICB4bWxVcmwgPSB4bWxVcmwucmVwbGFjZSh0aGlzLmJhc2VVcmwsICcnKTtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiB4bWxVcmwgbm93LCBpdCBuZWVkcyBhIHRyYWlsaW5nIHNsYXNoLiBFbnN1cmUgdGhhdCBpdCBkb2VzIGlmIHRoZSBzdHJpbmcgaXNuJ3QgZW1wdHkuXG4gICAgICAgIGlmICh4bWxVcmwgJiYgeG1sVXJsLmNoYXJBdCh4bWxVcmwubGVuZ3RoIC0gMSkgIT09ICcvJylcbiAgICAgICAge1xuICAgICAgICAgICAgeG1sVXJsICs9ICcvJztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2VzID0gcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpO1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIC8vIEhhbmRsZSBjb21wbGV0ZWQsIHdoZW4gdGhlIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAgICAvLyBsb2FkIGlzIHRoZSBzYW1lIG51bWJlciBhcyByZWZlcmVuY2VzIGluIHRoZSBmbnQgZmlsZVxuICAgICAgICBjb25zdCBjb21wbGV0ZWQgPSAocGFnZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZXNbcGFnZS5tZXRhZGF0YS5wYWdlRmlsZV0gPSBwYWdlLnRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0ZXh0dXJlcykubGVuZ3RoID09PSBwYWdlcy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgQml0bWFwRm9udExvYWRlci5wYXJzZShyZXNvdXJjZSwgdGV4dHVyZXMpO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwYWdlRmlsZSA9IHBhZ2VzW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0geG1sVXJsICsgcGFnZUZpbGU7XG4gICAgICAgICAgICBsZXQgZXhpc3RzID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIGluY2FzZSB0aGUgaW1hZ2UgaXMgbG9hZGVkIG91dHNpZGVcbiAgICAgICAgICAgIC8vIHVzaW5nIHRoZSBzYW1lIGxvYWRlciwgcmVzb3VyY2Ugd2lsbCBiZSBhdmFpbGFibGVcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLnJlc291cmNlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiaXRtYXBSZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW25hbWVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnVybCA9PT0gdXJsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2UubWV0YWRhdGEucGFnZUZpbGUgPSBwYWdlRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnRleHR1cmUpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZChiaXRtYXBSZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRtYXBSZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5hZGQoY29tcGxldGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRleHR1cmUgaXMgbm90IGxvYWRlZCwgd2UnbGwgYXR0ZW1wdCB0byBhZGRcbiAgICAgICAgICAgIC8vIGl0IHRvIHRoZSBsb2FkIGFuZCBhZGQgdGhlIHRleHR1cmUgdG8gdGhlIGxpc3RcbiAgICAgICAgICAgIGlmICghZXhpc3RzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFN0YW5kYXJkIGxvYWRpbmcgb3B0aW9ucyBmb3IgaW1hZ2VzXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBsb2FkVHlwZTogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcGFnZUZpbGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGFcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFkZCh1cmwsIG9wdGlvbnMsIGNvbXBsZXRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXIsIGRlZmF1bHRWZXJ0ZXggfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL2FscGhhLmZyYWcnO1xuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGEuXG4gKlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBDb250YWluZXIncyBhbHBoYSBwcm9wZXJ0eSB0byBhdm9pZCB2aXN1YWwgbGF5ZXJpbmcgb2YgaW5kaXZpZHVhbCBlbGVtZW50cy5cbiAqIEFscGhhRmlsdGVyIGFwcGxpZXMgYWxwaGEgZXZlbmx5IGFjcm9zcyB0aGUgZW50aXJlIGRpc3BsYXkgb2JqZWN0IGFuZCBhbnkgb3BhcXVlIGVsZW1lbnRzIGl0IGNvbnRhaW5zLlxuICogSWYgZWxlbWVudHMgYXJlIG5vdCBvcGFxdWUsIHRoZXkgd2lsbCBibGVuZCB3aXRoIGVhY2ggb3RoZXIgYW55d2F5LlxuICpcbiAqIFZlcnkgaGFuZHkgaWYgeW91IHdhbnQgdG8gdXNlIGNvbW1vbiBmZWF0dXJlcyBvZiBhbGwgZmlsdGVyczpcbiAqXG4gKiAxLiBBc3NpZ24gYSBibGVuZE1vZGUgdG8gdGhpcyBmaWx0ZXIsIGJsZW5kIGFsbCBlbGVtZW50cyBpbnNpZGUgZGlzcGxheSBvYmplY3Qgd2l0aCBiYWNrZ3JvdW5kLlxuICpcbiAqIDIuIFRvIHVzZSBjbGlwcGluZyBpbiBkaXNwbGF5IGNvb3JkaW5hdGVzLCBhc3NpZ24gYSBmaWx0ZXJBcmVhIHRvIHRoZSBzYW1lIGNvbnRhaW5lciB0aGF0IGhhcyB0aGlzIGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFscGhhRmlsdGVyIGV4dGVuZHMgRmlsdGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSBBbW91bnQgb2YgYWxwaGEgZnJvbSAwIHRvIDEsIHdoZXJlIDAgaXMgdHJhbnNwYXJlbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhbHBoYSA9IDEuMClcbiAgICB7XG4gICAgICAgIHN1cGVyKGRlZmF1bHRWZXJ0ZXgsIGZyYWdtZW50LCB7IHVBbHBoYTogMSB9KTtcblxuICAgICAgICB0aGlzLmFscGhhID0gYWxwaGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29lZmZpY2llbnQgZm9yIGFscGhhIG11bHRpcGxpY2F0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIGdldCBhbHBoYSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgfVxuXG4gICAgc2V0IGFscGhhKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMudUFscGhhID0gdmFsdWU7XG4gICAgfVxufVxuIiwiY29uc3QgdmVydFRlbXBsYXRlID0gYFxuICAgIGF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcblxuICAgIHVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xuXG4gICAgdW5pZm9ybSBmbG9hdCBzdHJlbmd0aDtcblxuICAgIHZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdO1xuXG4gICAgdW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcbiAgICB1bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XG4gICAgXG4gICAgdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gICAge1xuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcbiAgICBcbiAgICAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICAgIH1cbiAgICBcbiAgICB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXG4gICAge1xuICAgICAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcbiAgICB9XG5cbiAgICB2b2lkIG1haW4odm9pZClcbiAgICB7XG4gICAgICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcblxuICAgICAgICB2ZWMyIHRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xuICAgICAgICAlYmx1ciVcbiAgICB9YDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCB4KVxue1xuICAgIGNvbnN0IGhhbGZMZW5ndGggPSBNYXRoLmNlaWwoa2VybmVsU2l6ZSAvIDIpO1xuXG4gICAgbGV0IHZlcnRTb3VyY2UgPSB2ZXJ0VGVtcGxhdGU7XG5cbiAgICBsZXQgYmx1ckxvb3AgPSAnJztcbiAgICBsZXQgdGVtcGxhdGU7XG4gICAgLy8gbGV0IHZhbHVlO1xuXG4gICAgaWYgKHgpXG4gICAge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9ICB0ZXh0dXJlQ29vcmQgKyB2ZWMyKCVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCwgMC4wKTsnO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9ICB0ZXh0dXJlQ29vcmQgKyB2ZWMyKDAuMCwgJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoKTsnO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKVxuICAgIHtcbiAgICAgICAgbGV0IGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaSk7XG5cbiAgICAgICAgLy8gdmFsdWUgPSBpO1xuXG4gICAgICAgIC8vIGlmKGkgPj0gaGFsZkxlbmd0aClcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCclc2FtcGxlSW5kZXglJywgYCR7aSAtIChoYWxmTGVuZ3RoIC0gMSl9LjBgKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gdmVydFNvdXJjZTtcbn1cbiIsImNvbnN0IEdBVVNTSUFOX1ZBTFVFUyA9IHtcbiAgICA1OiBbMC4xNTMzODgsIDAuMjIxNDYxLCAwLjI1MDMwMV0sXG4gICAgNzogWzAuMDcxMzAzLCAwLjEzMTUxNCwgMC4xODk4NzksIDAuMjE0NjA3XSxcbiAgICA5OiBbMC4wMjg1MzIsIDAuMDY3MjM0LCAwLjEyNDAwOSwgMC4xNzkwNDQsIDAuMjAyMzZdLFxuICAgIDExOiBbMC4wMDkzLCAwLjAyODAwMiwgMC4wNjU5ODQsIDAuMTIxNzAzLCAwLjE3NTcxMywgMC4xOTg1OTZdLFxuICAgIDEzOiBbMC4wMDI0MDYsIDAuMDA5MjU1LCAwLjAyNzg2NywgMC4wNjU2NjYsIDAuMTIxMTE3LCAwLjE3NDg2OCwgMC4xOTc2NDFdLFxuICAgIDE1OiBbMC4wMDA0ODksIDAuMDAyNDAzLCAwLjAwOTI0NiwgMC4wMjc4NCwgMC4wNjU2MDIsIDAuMTIwOTk5LCAwLjE3NDY5NywgMC4xOTc0NDhdLFxufTtcblxuY29uc3QgZnJhZ1RlbXBsYXRlID0gW1xuICAgICd2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTsnLFxuICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLFxuXG4gICAgJ3ZvaWQgbWFpbih2b2lkKScsXG4gICAgJ3snLFxuICAgICcgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsXG4gICAgJyAgICAlYmx1ciUnLFxuICAgICd9JyxcblxuXS5qb2luKCdcXG4nKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKVxue1xuICAgIGNvbnN0IGtlcm5lbCA9IEdBVVNTSUFOX1ZBTFVFU1trZXJuZWxTaXplXTtcbiAgICBjb25zdCBoYWxmTGVuZ3RoID0ga2VybmVsLmxlbmd0aDtcblxuICAgIGxldCBmcmFnU291cmNlID0gZnJhZ1RlbXBsYXRlO1xuXG4gICAgbGV0IGJsdXJMb29wID0gJyc7XG4gICAgY29uc3QgdGVtcGxhdGUgPSAnZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdkJsdXJUZXhDb29yZHNbJWluZGV4JV0pICogJXZhbHVlJTsnO1xuICAgIGxldCB2YWx1ZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKVxuICAgIHtcbiAgICAgICAgbGV0IGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaSk7XG5cbiAgICAgICAgdmFsdWUgPSBpO1xuXG4gICAgICAgIGlmIChpID49IGhhbGZMZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXZhbHVlJScsIGtlcm5lbFt2YWx1ZV0pO1xuXG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cblxuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplKTtcblxuICAgIHJldHVybiBmcmFnU291cmNlO1xufVxuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlIGZyb20gJy4vZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSc7XG5pbXBvcnQgZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSBmcm9tICcuL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UnO1xuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyUGFzcyBhcHBsaWVzIGEgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsdXJGaWx0ZXJQYXNzIGV4dGVuZHMgRmlsdGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBob3Jpem9udGFsIC0gRG8gcGFzcyBhbG9uZyB0aGUgeC1heGlzIChgdHJ1ZWApIG9yIHktYXhpcyAoYGZhbHNlYCkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmVuZ3RoIC0gVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcXVhbGl0eSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2tlcm5lbFNpemU9NV0gLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihob3Jpem9udGFsLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSlcbiAgICB7XG4gICAgICAgIGtlcm5lbFNpemUgPSBrZXJuZWxTaXplIHx8IDU7XG4gICAgICAgIGNvbnN0IHZlcnRTcmMgPSBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlKGtlcm5lbFNpemUsIGhvcml6b250YWwpO1xuICAgICAgICBjb25zdCBmcmFnU3JjID0gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKTtcblxuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgICAgIHZlcnRTcmMsXG4gICAgICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgICAgIGZyYWdTcmNcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmhvcml6b250YWwgPSBob3Jpem9udGFsO1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICB0aGlzLl9xdWFsaXR5ID0gMDtcblxuICAgICAgICB0aGlzLnF1YWxpdHkgPSBxdWFsaXR5IHx8IDQ7XG5cbiAgICAgICAgdGhpcy5ibHVyID0gc3RyZW5ndGggfHwgODtcbiAgICB9XG5cbiAgICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcilcbiAgICB7XG4gICAgICAgIGlmIChvdXRwdXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LndpZHRoKSAqIChvdXRwdXQud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LmhlaWdodCkgKiAob3V0cHV0LmhlaWdodCAvIGlucHV0LmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci53aWR0aCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci53aWR0aCAvIGlucHV0LndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmhlaWdodCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzY3JlZW4gc3BhY2UhXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggKj0gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAvPSB0aGlzLnBhc3NlcztcblxuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJlciA9IGZpbHRlck1hbmFnZXIucmVuZGVyZXI7XG5cbiAgICAgICAgICAgIGxldCBmbGlwID0gaW5wdXQ7XG4gICAgICAgICAgICBsZXQgZmxvcCA9IHJlbmRlclRhcmdldDtcblxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IGZhbHNlO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5wYXNzZXMgLSAxOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGZsaXAsIGZsaXAuZmlsdGVyRnJhbWUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IGZsb3A7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyg1KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsb3AsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1ci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxNlxuICAgICAqL1xuICAgIGdldCBibHVyKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoO1xuICAgIH1cblxuICAgIHNldCBibHVyKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMucGFkZGluZyA9IDEgKyAoTWF0aC5hYnModmFsdWUpICogMik7XG4gICAgICAgIHRoaXMuc3RyZW5ndGggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGJ5IG1vZGlmeWluZyB0aGUgbnVtYmVyIG9mIHBhc3Nlcy4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyXG4gICAgICogcXVhaWxpdHkgYmx1cmluZyBidXQgdGhlIGxvd2VyIHRoZSBwZXJmb3JtYW5jZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA0XG4gICAgICovXG4gICAgZ2V0IHF1YWxpdHkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1YWxpdHk7XG4gICAgfVxuXG4gICAgc2V0IHF1YWxpdHkodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnBhc3NlcyA9IHZhbHVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgQmx1ckZpbHRlclBhc3MgZnJvbSAnLi9CbHVyRmlsdGVyUGFzcyc7XG5cbi8qKlxuICogVGhlIEJsdXJGaWx0ZXIgYXBwbGllcyBhIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB0aGUgeC1heGlzIGFuZCB5LWF4aXMgc2VwYXJhdGVseS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsdXJGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0cmVuZ3RoPThdIC0gVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHk9NF0gLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2tlcm5lbFNpemU9NV0gLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyh0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3MoZmFsc2UsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIHRoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgdGhpcy5ibHVyID0gc3RyZW5ndGggfHwgODtcblxuICAgICAgICB0aGlzLnJlcGVhdEVkZ2VQaXhlbHMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKi9cbiAgICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHhTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpO1xuICAgICAgICBjb25zdCB5U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKTtcblxuICAgICAgICBpZiAoeFN0cmVuZ3RoICYmIHlTdHJlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIHJlbmRlclRhcmdldCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIHJlbmRlclRhcmdldCwgb3V0cHV0LCBjbGVhcik7XG5cbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHlTdHJlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVBhZGRpbmcoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSwgTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpICogMjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXJYIGFuZCBibHVyWSBwcm9wZXJ0aWVzIHNpbXVsdGFuZW91c2x5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuICAgIGdldCBibHVyKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgfVxuXG4gICAgc2V0IGJsdXIodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG51bWJlciBvZiBwYXNzZXMgZm9yIGJsdXIuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlciBxdWFpbGl0eSBibHVyaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBnZXQgcXVhbGl0eSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5O1xuICAgIH1cblxuICAgIHNldCBxdWFsaXR5KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eSA9IHRoaXMuYmx1cllGaWx0ZXIucXVhbGl0eSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWCBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cbiAgICBnZXQgYmx1clgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICB9XG5cbiAgICBzZXQgYmx1clgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWSBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cbiAgICBnZXQgYmx1clkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmx1cjtcbiAgICB9XG5cbiAgICBzZXQgYmx1clkodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgKi9cbiAgICBnZXQgYmxlbmRNb2RlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZTtcbiAgICB9XG5cbiAgICBzZXQgYmxlbmRNb2RlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIHRydWUgdGhlIGVkZ2Ugb2YgdGhlIHRhcmdldCB3aWxsIGJlIGNsYW1wZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2x9XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBnZXQgcmVwZWF0RWRnZVBpeGVscygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVwZWF0RWRnZVBpeGVscztcbiAgICB9XG5cbiAgICBzZXQgcmVwZWF0RWRnZVBpeGVscyh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsdGVyLCBkZWZhdWx0RmlsdGVyVmVydGV4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9jb2xvck1hdHJpeC5mcmFnJztcblxuLyoqXG4gKiBUaGUgQ29sb3JNYXRyaXhGaWx0ZXIgY2xhc3MgbGV0cyB5b3UgYXBwbHkgYSA1eDQgbWF0cml4IHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBSR0JBXG4gKiBjb2xvciBhbmQgYWxwaGEgdmFsdWVzIG9mIGV2ZXJ5IHBpeGVsIG9uIHlvdXIgZGlzcGxheU9iamVjdCB0byBwcm9kdWNlIGEgcmVzdWx0XG4gKiB3aXRoIGEgbmV3IHNldCBvZiBSR0JBIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMuIEl0J3MgcHJldHR5IHBvd2VyZnVsIVxuICpcbiAqIGBgYGpzXG4gKiAgbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuICogIGNvbnRhaW5lci5maWx0ZXJzID0gW2NvbG9yTWF0cml4XTtcbiAqICBjb2xvck1hdHJpeC5jb250cmFzdCgyKTtcbiAqIGBgYFxuICogQGF1dGhvciBDbMOpbWVudCBDaGVuZWJhdWx0IDxjbGVtZW50QGdvb2Rib3lkaWdpdGFsLmNvbT5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sb3JNYXRyaXhGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXJcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIG06IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDAsIDEsIDBdKSxcbiAgICAgICAgICAgIHVBbHBoYTogMSxcbiAgICAgICAgfTtcblxuICAgICAgICBzdXBlcihkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwgdW5pZm9ybXMpO1xuXG4gICAgICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgY3VycmVudCBtYXRyaXggYW5kIHNldCB0aGUgbmV3IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIF9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIGxldCBuZXdNYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgaWYgKG11bHRpcGx5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9tdWx0aXBseShuZXdNYXRyaXgsIHRoaXMudW5pZm9ybXMubSwgbWF0cml4KTtcbiAgICAgICAgICAgIG5ld01hdHJpeCA9IHRoaXMuX2NvbG9yTWF0cml4KG5ld01hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBtYXRyaXhcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIG1hdDUnc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBvdXQgLSA1eDQgbWF0cml4IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYSAtIDV4NCBtYXRyaXggdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBiIC0gNXg0IG1hdHJpeCB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyW119IDV4NCBtYXRyaXhcbiAgICAgKi9cbiAgICBfbXVsdGlwbHkob3V0LCBhLCBiKVxuICAgIHtcbiAgICAgICAgLy8gUmVkIENoYW5uZWxcbiAgICAgICAgb3V0WzBdID0gKGFbMF0gKiBiWzBdKSArIChhWzFdICogYls1XSkgKyAoYVsyXSAqIGJbMTBdKSArIChhWzNdICogYlsxNV0pO1xuICAgICAgICBvdXRbMV0gPSAoYVswXSAqIGJbMV0pICsgKGFbMV0gKiBiWzZdKSArIChhWzJdICogYlsxMV0pICsgKGFbM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsyXSA9IChhWzBdICogYlsyXSkgKyAoYVsxXSAqIGJbN10pICsgKGFbMl0gKiBiWzEyXSkgKyAoYVszXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzNdID0gKGFbMF0gKiBiWzNdKSArIChhWzFdICogYls4XSkgKyAoYVsyXSAqIGJbMTNdKSArIChhWzNdICogYlsxOF0pO1xuICAgICAgICBvdXRbNF0gPSAoYVswXSAqIGJbNF0pICsgKGFbMV0gKiBiWzldKSArIChhWzJdICogYlsxNF0pICsgKGFbM10gKiBiWzE5XSkgKyBhWzRdO1xuXG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gKGFbNV0gKiBiWzBdKSArIChhWzZdICogYls1XSkgKyAoYVs3XSAqIGJbMTBdKSArIChhWzhdICogYlsxNV0pO1xuICAgICAgICBvdXRbNl0gPSAoYVs1XSAqIGJbMV0pICsgKGFbNl0gKiBiWzZdKSArIChhWzddICogYlsxMV0pICsgKGFbOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFs3XSA9IChhWzVdICogYlsyXSkgKyAoYVs2XSAqIGJbN10pICsgKGFbN10gKiBiWzEyXSkgKyAoYVs4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzhdID0gKGFbNV0gKiBiWzNdKSArIChhWzZdICogYls4XSkgKyAoYVs3XSAqIGJbMTNdKSArIChhWzhdICogYlsxOF0pO1xuICAgICAgICBvdXRbOV0gPSAoYVs1XSAqIGJbNF0pICsgKGFbNl0gKiBiWzldKSArIChhWzddICogYlsxNF0pICsgKGFbOF0gKiBiWzE5XSkgKyBhWzldO1xuXG4gICAgICAgIC8vIEJsdWUgQ2hhbm5lbFxuICAgICAgICBvdXRbMTBdID0gKGFbMTBdICogYlswXSkgKyAoYVsxMV0gKiBiWzVdKSArIChhWzEyXSAqIGJbMTBdKSArIChhWzEzXSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzExXSA9IChhWzEwXSAqIGJbMV0pICsgKGFbMTFdICogYls2XSkgKyAoYVsxMl0gKiBiWzExXSkgKyAoYVsxM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsxMl0gPSAoYVsxMF0gKiBiWzJdKSArIChhWzExXSAqIGJbN10pICsgKGFbMTJdICogYlsxMl0pICsgKGFbMTNdICogYlsxN10pO1xuICAgICAgICBvdXRbMTNdID0gKGFbMTBdICogYlszXSkgKyAoYVsxMV0gKiBiWzhdKSArIChhWzEyXSAqIGJbMTNdKSArIChhWzEzXSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzE0XSA9IChhWzEwXSAqIGJbNF0pICsgKGFbMTFdICogYls5XSkgKyAoYVsxMl0gKiBiWzE0XSkgKyAoYVsxM10gKiBiWzE5XSkgKyBhWzE0XTtcblxuICAgICAgICAvLyBBbHBoYSBDaGFubmVsXG4gICAgICAgIG91dFsxNV0gPSAoYVsxNV0gKiBiWzBdKSArIChhWzE2XSAqIGJbNV0pICsgKGFbMTddICogYlsxMF0pICsgKGFbMThdICogYlsxNV0pO1xuICAgICAgICBvdXRbMTZdID0gKGFbMTVdICogYlsxXSkgKyAoYVsxNl0gKiBiWzZdKSArIChhWzE3XSAqIGJbMTFdKSArIChhWzE4XSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzE3XSA9IChhWzE1XSAqIGJbMl0pICsgKGFbMTZdICogYls3XSkgKyAoYVsxN10gKiBiWzEyXSkgKyAoYVsxOF0gKiBiWzE3XSk7XG4gICAgICAgIG91dFsxOF0gPSAoYVsxNV0gKiBiWzNdKSArIChhWzE2XSAqIGJbOF0pICsgKGFbMTddICogYlsxM10pICsgKGFbMThdICogYlsxOF0pO1xuICAgICAgICBvdXRbMTldID0gKGFbMTVdICogYls0XSkgKyAoYVsxNl0gKiBiWzldKSArIChhWzE3XSAqIGJbMTRdKSArIChhWzE4XSAqIGJbMTldKSArIGFbMTldO1xuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgRmxvYXQzMiBBcnJheSBhbmQgbm9ybWFsaXplIHRoZSBvZmZzZXQgY29tcG9uZW50IHRvIDAtMVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHJldHVybiB7bnVtYmVyW119IDV4NCBtYXRyaXggd2l0aCBhbGwgdmFsdWVzIGJldHdlZW4gMC0xXG4gICAgICovXG4gICAgX2NvbG9yTWF0cml4KG1hdHJpeClcbiAgICB7XG4gICAgICAgIC8vIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgICAgY29uc3QgbSA9IG5ldyBGbG9hdDMyQXJyYXkobWF0cml4KTtcblxuICAgICAgICBtWzRdIC89IDI1NTtcbiAgICAgICAgbVs5XSAvPSAyNTU7XG4gICAgICAgIG1bMTRdIC89IDI1NTtcbiAgICAgICAgbVsxOV0gLz0gMjU1O1xuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkanVzdHMgYnJpZ2h0bmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSB2YWx1ZSBvZiB0aGUgYnJpZ3RobmVzcyAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIGJyaWdodG5lc3MoYiwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICBiLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgYiwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIGIsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXRyaWNlcyBpbiBncmV5IHNjYWxlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gdmFsdWUgb2YgdGhlIGdyZXkgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBncmV5c2NhbGUoc2NhbGUsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYmxhY2sgYW5kIHdoaXRlIG1hdHJpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBibGFja0FuZFdoaXRlKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaHVlIHByb3BlcnR5IG9mIHRoZSBjb2xvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gaW4gZGVncmVlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIGh1ZShyb3RhdGlvbiwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICByb3RhdGlvbiA9IChyb3RhdGlvbiB8fCAwKSAvIDE4MCAqIE1hdGguUEk7XG5cbiAgICAgICAgY29uc3QgY29zUiA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICAgICAgY29uc3Qgc2luUiA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgICAgICAgY29uc3Qgc3FydCA9IE1hdGguc3FydDtcblxuICAgICAgICAvKiBhIGdvb2QgYXBwcm94aW1hdGlvbiBmb3IgaHVlIHJvdGF0aW9uXG4gICAgICAgICBUaGlzIG1hdHJpeCBpcyBmYXIgYmV0dGVyIHRoYW4gdGhlIHZlcnNpb25zIHdpdGggbWFnaWMgbHVtaW5hbmNlIGNvbnN0YW50c1xuICAgICAgICAgZm9ybWVybHkgdXNlZCBoZXJlLCBidXQgYWxzbyB1c2VkIGluIHRoZSBzdGFybGluZyBmcmFtZXdvcmsgKGZsYXNoKSBhbmQga25vd24gZnJvbSB0aGlzXG4gICAgICAgICBvbGQgcGFydCBvZiB0aGUgaW50ZXJuZXQ6IHF1YXNpbW9uZG8uY29tL2FyY2hpdmVzLzAwMDU2NS5waHBcblxuICAgICAgICAgVGhpcyBuZXcgbWF0cml4IGlzIGJhc2VkIG9uIHJnYiBjdWJlIHJvdGF0aW9uIGluIHNwYWNlLiBMb29rIGhlcmUgZm9yIGEgbW9yZSBkZXNjcmlwdGl2ZVxuICAgICAgICAgaW1wbGVtZW50YXRpb24gYXMgYSBzaGFkZXIgbm90IGEgZ2VuZXJhbCBtYXRyaXg6XG4gICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iLzU4ODQxYzIzOTE5YmQ1OTc4N2VmZmMwMzMzYTQ4OTdiNDM4MzU0MTIvc3JjL2ZpbHRlcnMvYWRqdXN0L2h1ZXNhdHVyYXRpb24uanNcblxuICAgICAgICAgVGhpcyBpcyB0aGUgc291cmNlIGZvciB0aGUgY29kZTpcbiAgICAgICAgIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MDc4ODUvc2hpZnQtaHVlLW9mLWFuLXJnYi1jb2xvci84NTEwNzUxIzg1MTA3NTFcbiAgICAgICAgICovXG5cbiAgICAgICAgY29uc3QgdyA9IDEgLyAzO1xuICAgICAgICBjb25zdCBzcXJXID0gc3FydCh3KTsgLy8gd2VpZ2h0IGlzXG5cbiAgICAgICAgY29uc3QgYTAwID0gY29zUiArICgoMS4wIC0gY29zUikgKiB3KTtcbiAgICAgICAgY29uc3QgYTAxID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgY29uc3QgYTAyID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcblxuICAgICAgICBjb25zdCBhMTAgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICBjb25zdCBhMTEgPSBjb3NSICsgKHcgKiAoMS4wIC0gY29zUikpO1xuICAgICAgICBjb25zdCBhMTIgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuXG4gICAgICAgIGNvbnN0IGEyMCA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIGNvbnN0IGEyMSA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIGNvbnN0IGEyMiA9IGNvc1IgKyAodyAqICgxLjAgLSBjb3NSKSk7XG5cbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgYTAwLCBhMDEsIGEwMiwgMCwgMCxcbiAgICAgICAgICAgIGExMCwgYTExLCBhMTIsIDAsIDAsXG4gICAgICAgICAgICBhMjAsIGEyMSwgYTIyLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29udHJhc3QgbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGRhcmsgYW5kIGJyaWdodFxuICAgICAqIEluY3JlYXNlIGNvbnRyYXN0IDogc2hhZG93cyBkYXJrZXIgYW5kIGhpZ2hsaWdodHMgYnJpZ2h0ZXJcbiAgICAgKiBEZWNyZWFzZSBjb250cmFzdCA6IGJyaW5nIHRoZSBzaGFkb3dzIHVwIGFuZCB0aGUgaGlnaGxpZ2h0cyBkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgY29udHJhc3QoYW1vdW50LCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHYgPSAoYW1vdW50IHx8IDApICsgMTtcbiAgICAgICAgY29uc3QgbyA9IC0wLjUgKiAodiAtIDEpO1xuXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHYsIDAsIDAsIDAsIG8sXG4gICAgICAgICAgICAwLCB2LCAwLCAwLCBvLFxuICAgICAgICAgICAgMCwgMCwgdiwgMCwgbyxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNhdHVyYXRpb24gbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGNvbG9yc1xuICAgICAqIEluY3JlYXNlIHNhdHVyYXRpb24gOiBpbmNyZWFzZSBjb250cmFzdCwgYnJpZ2h0bmVzcywgYW5kIHNoYXJwbmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBzYXR1cmF0aW9uIGFtb3VudCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHNhdHVyYXRlKGFtb3VudCA9IDAsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgeCA9IChhbW91bnQgKiAyIC8gMykgKyAxO1xuICAgICAgICBjb25zdCB5ID0gKCh4IC0gMSkgKiAtMC41KTtcblxuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICB4LCB5LCB5LCAwLCAwLFxuICAgICAgICAgICAgeSwgeCwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHksIHgsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzYXR1cmF0ZSBpbWFnZSAocmVtb3ZlIGNvbG9yKVxuICAgICAqXG4gICAgICogQ2FsbCB0aGUgc2F0dXJhdGUgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqL1xuICAgIGRlc2F0dXJhdGUoKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICB0aGlzLnNhdHVyYXRlKC0xKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOZWdhdGl2ZSBpbWFnZSAoaW52ZXJzZSBvZiBjbGFzc2ljIHJnYiBtYXRyaXgpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBuZWdhdGl2ZShtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIC0xLCAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgLTEsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAtMSwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXBpYSBpbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgc2VwaWEobXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjM5MywgMC43Njg5OTk5LCAwLjE4ODk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMC4zNDksIDAuNjg1OTk5OSwgMC4xNjc5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAuMjcyLCAwLjUzMzk5OTksIDAuMTMwOTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29sb3IgbW90aW9uIHBpY3R1cmUgcHJvY2VzcyBpbnZlbnRlZCBpbiAxOTE2ICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgdGVjaG5pY29sb3IobXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjkxMjUyNzc4OTE0NTYwODMsIC0wLjg1NDUzNDQ5NzY5NTE2NDUsIC0wLjA5MTU1NTA4NDgyNzU1NTg1LCAwLCAxMS43OTM2MDM0MzQzNzczMzcsXG4gICAgICAgICAgICAtMC4zMDg3ODMzMzg1OTI4MDk3LCAxLjc2NTg5MDg1NTU0NTg0MjgsIC0wLjEwNjAxNzQzMDc0NzIyMjQ1LCAwLCAtNzAuMzUyMDUxNjE0NjEzOTgsXG4gICAgICAgICAgICAtMC4yMzExMDMzNzc1NDg2MTYsIC0wLjc1MDE4OTkxOTc0NDAyMTIsIDEuODQ3NTk3ODE2MTA4MTg5LCAwLCAzMC45NTA5NDA4Njk0OTExMzgsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUG9sYXJvaWQgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBwb2xhcm9pZChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuNDM4LCAtMC4wNjIsIC0wLjA2MiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjEyMiwgMS4zNzgsIC0wLjEyMiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjAxNiwgLTAuMDE2LCAxLjQ4MywgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2hvIHRyYW5zZm9ybXMgOiBSZWQgLT4gQmx1ZSBhbmQgQmx1ZSAtPiBSZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHRvQkdSKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbG9yIHJldmVyc2FsIGZpbG0gaW50cm9kdWNlZCBieSBFYXN0bWFuIEtvZGFrIGluIDE5MzUuICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAga29kYWNocm9tZShtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuMTI4NTU4MjM5NjU5MzUyNSwgLTAuMzk2NzM4MjI4MzYwMTM0OCwgLTAuMDM5OTI1NTkxNzI5MjE3OTMsIDAsIDYzLjcyOTU4NzYyMTk2NTAyLFxuICAgICAgICAgICAgLTAuMTY0MDQzMzk5NjIyNDQ2MTYsIDEuMDgzNTI1MTU2NjI5MTMwNCwgLTAuMDU0OTg4MDUxMTU2MzMxMzIsIDAsIDI0LjczMjQwNzg5NjcwNjIwMyxcbiAgICAgICAgICAgIC0wLjE2Nzg2MDEwNzA2MTU1NzYzLCAtMC41NjAzNDE2Mjc3Njk1MjQ4LCAxLjYwMTQ4NTA3NjE5NjQ5NDMsIDAsIDM1LjYyOTgyODA3NDYwOTQ2LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJyb3duIGRlbGljaW91cyBicm93bmkgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgYnJvd25pKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC41OTk3MDIzNDk4MTU5NzE1LCAwLjM0NTUzMjQzMDQ4MzkxMjYzLCAtMC4yNzA4Mjk4Njc0NTM4MDQyLCAwLCA0Ny40MzE5Mjg1NTYwMDg3MyxcbiAgICAgICAgICAgIC0wLjAzNzcwMzI0OTgzNzc4MzE1NywgMC44NjA5NTc3NTg3OTkyNjQxLCAwLjE1MDU5NTUyMzg4NDU5OTEzLCAwLCAtMzYuOTY4NDE0OTgzMTkxMjcsXG4gICAgICAgICAgICAwLjI0MTEzNjM1MTI4MTUzMzM1LCAtMC4wNzQ0MTAzNzkwODQyMjQ5MiwgMC40NDk3MjE4MjA2NDg3NzE1MywgMCwgLTcuNTYyMDc1Mjc3NTkxMjgzLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZpbnRhZ2UgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgdmludGFnZShtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuNjI3OTM0NTYzNTYwNTk5NCwgMC4zMjAyMTgzNDIwODE5MzY3LCAtMC4wMzk2NTQwODIxMTMxMjQ1MywgMCwgOS42NTEyODU4MzUyOTQxMjMsXG4gICAgICAgICAgICAwLjAyNTc4Mzk3NzA0ODA4ODY4LCAwLjY0NDExODg2NDQzNzQ3NzEsIDAuMDMyNTkxMjc2MTYxNDkyOTQsIDAsIDcuNDYyODI5MTc2NDcwNTkxLFxuICAgICAgICAgICAgMC4wNDY2MDU1NTU2NzgyNzE5LCAtMC4wODUxMjMyOTg3MjQ3ODkxLCAwLjUyNDE2NDgwMTg3MDA0NjUsIDAsIDUuMTU5MTkwNTg4MjM1Mjk2LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdlIGRvbid0IGtub3cgZXhhY3RseSB3aGF0IGl0IGRvZXMsIGtpbmQgb2YgZ3JhZGllbnQgbWFwLCBidXQgZnVubnkgdG8gcGxheSB3aXRoIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlc2F0dXJhdGlvbiAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b25lZCAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaWdodENvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGFya0NvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBjb2xvclRvbmUoZGVzYXR1cmF0aW9uLCB0b25lZCwgbGlnaHRDb2xvciwgZGFya0NvbG9yLCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGRlc2F0dXJhdGlvbiA9IGRlc2F0dXJhdGlvbiB8fCAwLjI7XG4gICAgICAgIHRvbmVkID0gdG9uZWQgfHwgMC4xNTtcbiAgICAgICAgbGlnaHRDb2xvciA9IGxpZ2h0Q29sb3IgfHwgMHhGRkU1ODA7XG4gICAgICAgIGRhcmtDb2xvciA9IGRhcmtDb2xvciB8fCAweDMzODAwMDtcblxuICAgICAgICBjb25zdCBsUiA9ICgobGlnaHRDb2xvciA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgY29uc3QgbEcgPSAoKGxpZ2h0Q29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgY29uc3QgbEIgPSAobGlnaHRDb2xvciAmIDB4RkYpIC8gMjU1O1xuXG4gICAgICAgIGNvbnN0IGRSID0gKChkYXJrQ29sb3IgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIGNvbnN0IGRHID0gKChkYXJrQ29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgY29uc3QgZEIgPSAoZGFya0NvbG9yICYgMHhGRikgLyAyNTU7XG5cbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zLCAwLjU5LCAwLjExLCAwLCAwLFxuICAgICAgICAgICAgbFIsIGxHLCBsQiwgZGVzYXR1cmF0aW9uLCAwLFxuICAgICAgICAgICAgZFIsIGRHLCBkQiwgdG9uZWQsIDAsXG4gICAgICAgICAgICBsUiAtIGRSLCBsRyAtIGRHLCBsQiAtIGRCLCAwLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmlnaHQgZWZmZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZW5zaXR5IC0gVGhlIGludGVuc2l0eSBvZiB0aGUgbmlnaHQgZWZmZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIG5pZ2h0KGludGVuc2l0eSwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICBpbnRlbnNpdHkgKiAoLTIuMCksIC1pbnRlbnNpdHksIDAsIDAsIDAsXG4gICAgICAgICAgICAtaW50ZW5zaXR5LCAwLCBpbnRlbnNpdHksIDAsIDAsXG4gICAgICAgICAgICAwLCBpbnRlbnNpdHksIGludGVuc2l0eSAqIDIuMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVkYXRvciBlZmZlY3RcbiAgICAgKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIGEgbmV3IGluZGVwZW50IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIGhvdyBtdWNoIHRoZSBwcmVkYXRvciBmZWVscyBoaXMgZnV0dXJlIHZpY3RpbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHByZWRhdG9yKGFtb3VudCwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICAvLyByb3cgMVxuICAgICAgICAgICAgMTEuMjI0MTMwNjMwNDkzMTY0ICogYW1vdW50LFxuICAgICAgICAgICAgLTQuNzk0NDg2OTk5NTExNzE5ICogYW1vdW50LFxuICAgICAgICAgICAgLTIuODc0NjExODU0NTUzMjIyNyAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjQwMzQyNDM4MjIwOTc3NzgzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDJcbiAgICAgICAgICAgIC0zLjYzMzA2OTc1MzY0Njg1MDYgKiBhbW91bnQsXG4gICAgICAgICAgICA5LjE5MzE1NzE5NjA0NDkyMiAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjk1MTgxMDgzNjc5MTk5MiAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAtMS4zMTYxMzUwNDg4NjYyNzIgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgM1xuICAgICAgICAgICAgLTMuMjE4NDE5NzkwMjY3OTQ0MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC00LjIzNzUwMzA1MTc1NzgxMjUgKiBhbW91bnQsXG4gICAgICAgICAgICA3LjQ3NjQ0ODA1OTA4MjAzMSAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjgwNDQ0NTkyMjM3NDcyNTMgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgNFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExTRCBlZmZlY3RcbiAgICAgKlxuICAgICAqIE11bHRpcGx5IHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgbHNkKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMiwgLTAuNCwgMC41LCAwLCAwLFxuICAgICAgICAgICAgLTAuNSwgMiwgLTAuNCwgMCwgMCxcbiAgICAgICAgICAgIC0wLjQsIC0wLjUsIDMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG1hdHJpeCBvZiB0aGUgY29sb3IgbWF0cml4IGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICogQGRlZmF1bHQgWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdXG4gICAgICovXG4gICAgZ2V0IG1hdHJpeCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgIH1cblxuICAgIHNldCBtYXRyaXgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wYWNpdHkgdmFsdWUgdG8gdXNlIHdoZW4gbWl4aW5nIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0YW50IGNvbG9ycy5cbiAgICAgKlxuICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDEsIHRoZSByZXN1bHQgY29sb3IgaXMgdXNlZC5cbiAgICAgKiBXaGVuIGluIHRoZSByYW5nZSAoMCwgMSkgdGhlIGNvbG9yIGlzIGludGVycG9sYXRlZCBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0IGJ5IHRoaXMgYW1vdW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBnZXQgYWxwaGEoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICAgIH1cblxuICAgIHNldCBhbHBoYSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgIH1cbn1cblxuLy8gQW1lcmljYW5pemVkIGFsaWFzXG5Db2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JheXNjYWxlID0gQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyZXlzY2FsZTtcbiIsImltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4LCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL2Rpc3BsYWNlbWVudC52ZXJ0JztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL2Rpc3BsYWNlbWVudC5mcmFnJztcblxuLyoqXG4gKiBUaGUgRGlzcGxhY2VtZW50RmlsdGVyIGNsYXNzIHVzZXMgdGhlIHBpeGVsIHZhbHVlcyBmcm9tIHRoZSBzcGVjaWZpZWQgdGV4dHVyZVxuICogKGNhbGxlZCB0aGUgZGlzcGxhY2VtZW50IG1hcCkgdG8gcGVyZm9ybSBhIGRpc3BsYWNlbWVudCBvZiBhbiBvYmplY3QuXG4gKlxuICogWW91IGNhbiB1c2UgdGhpcyBmaWx0ZXIgdG8gYXBwbHkgYWxsIG1hbm9yIG9mIGNyYXp5IHdhcnBpbmcgZWZmZWN0cy5cbiAqIEN1cnJlbnRseSB0aGUgYHJgIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSBgeGBcbiAqIGFuZCB0aGUgYGdgIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSBgeWAuXG4gKlxuICogVGhlIHdheSBpdCB3b3JrcyBpcyBpdCB1c2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGRpc3BsYWNlbWVudCBtYXAgdG8gbG9vayB1cCB0aGVcbiAqIGNvcnJlY3QgcGl4ZWxzIHRvIG91dHB1dC4gVGhpcyBtZWFucyBpdCdzIG5vdCB0ZWNobmljYWxseSBtb3ZpbmcgdGhlIG9yaWdpbmFsLlxuICogSW5zdGVhZCwgaXQncyBzdGFydGluZyBhdCB0aGUgb3V0cHV0IGFuZCBhc2tpbmcgXCJ3aGljaCBwaXhlbCBmcm9tIHRoZSBvcmlnaW5hbCBnb2VzIGhlcmVcIi5cbiAqIEZvciBleGFtcGxlLCBpZiBhIGRpc3BsYWNlbWVudCBtYXAgcGl4ZWwgaGFzIGByZWQgPSAxYCBhbmQgdGhlIGZpbHRlciBzY2FsZSBpcyBgMjBgLFxuICogdGhpcyBmaWx0ZXIgd2lsbCBvdXRwdXQgdGhlIHBpeGVsIGFwcHJveGltYXRlbHkgMjAgcGl4ZWxzIHRvIHRoZSByaWdodCBvZiB0aGUgb3JpZ2luYWwuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNwbGFjZW1lbnRGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiAobWFrZSBzdXJlIGl0cyBhZGRlZCB0byB0aGUgc2NlbmUhKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVdIC0gVGhlIHNjYWxlIG9mIHRoZSBkaXNwbGFjZW1lbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzcHJpdGUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHN1cGVyKHZlcnRleCwgZnJhZ21lbnQsIHtcbiAgICAgICAgICAgIG1hcFNhbXBsZXI6IHNwcml0ZS5fdGV4dHVyZSxcbiAgICAgICAgICAgIGZpbHRlck1hdHJpeDogbWFza01hdHJpeCxcbiAgICAgICAgICAgIHNjYWxlOiB7IHg6IDEsIHk6IDEgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAxXSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcblxuICAgICAgICBpZiAoc2NhbGUgPT09IG51bGwgfHwgc2NhbGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgc2NhbGUgPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzY2FsZVgsIHNjYWxlWSBmb3IgZGlzcGxhY2VtZW50c1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZSA9IG5ldyBQb2ludChzY2FsZSwgc2NhbGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXQuXG4gICAgICovXG4gICAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpXG4gICAge1xuICAgICAgICAvLyBmaWxsIG1hc2tNYXRyaXggd2l0aCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfXG4gICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueSA9IHRoaXMuc2NhbGUueTtcblxuICAgICAgICAvLyBFeHRyYWN0IHJvdGF0aW9uIGZyb20gd29ybGQgdHJhbnNmb3JtXG4gICAgICAgIGNvbnN0IHd0ID0gdGhpcy5tYXNrU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgbGVuWCA9IE1hdGguc3FydCgod3QuYSAqIHd0LmEpICsgKHd0LmIgKiB3dC5iKSk7XG4gICAgICAgIGNvbnN0IGxlblkgPSBNYXRoLnNxcnQoKHd0LmMgKiB3dC5jKSArICh3dC5kICogd3QuZCkpO1xuXG4gICAgICAgIGlmIChsZW5YICE9PSAwICYmIGxlblkgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMF0gPSB3dC5hIC8gbGVuWDtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMV0gPSB3dC5iIC8gbGVuWDtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMl0gPSB3dC5jIC8gbGVuWTtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bM10gPSB3dC5kIC8gbGVuWTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRyYXcgdGhlIGZpbHRlci4uLlxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gTXVzdCBiZSBwb3dlciBvZiAyIHNpemVkIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgZ2V0IG1hcCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyO1xuICAgIH1cblxuICAgIHNldCBtYXAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vZnhhYS52ZXJ0JztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL2Z4YWEuZnJhZyc7XG5cbi8qKlxuICogQmFzaWMgRlhBQSAoRmFzdCBBcHByb3hpbWF0ZSBBbnRpLUFsaWFzaW5nKSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbVxuICogd2l0aCB0aGUgbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdCBpcyB1bnN1cHBvcnRlZCBieSBXZWJHTC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRlhBQUZpbHRlciBleHRlbmRzIEZpbHRlclxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gLSBuZWVkcyB3b3JrXG4gICAgICAgIHN1cGVyKHZlcnRleCwgZnJhZ21lbnQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZpbHRlciwgZGVmYXVsdEZpbHRlclZlcnRleCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vbm9pc2UuZnJhZyc7XG5cbi8qKlxuICogQGF1dGhvciBWaWNvIEB2aWNvY290ZWFcbiAqIG9yaWdpbmFsIGZpbHRlcjogaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi9tYXN0ZXIvc3JjL2ZpbHRlcnMvYWRqdXN0L25vaXNlLmpzXG4gKi9cblxuLyoqXG4gKiBBIE5vaXNlIGVmZmVjdCBmaWx0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb2lzZUZpbHRlciBleHRlbmRzIEZpbHRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbm9pc2U9MC41XSAtIFRoZSBub2lzZSBpbnRlbnNpdHksIHNob3VsZCBiZSBhIG5vcm1hbGl6ZWQgdmFsdWUgaW4gdGhlIHJhbmdlIFswLCAxXS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NlZWRdIC0gQSByYW5kb20gc2VlZCBmb3IgdGhlIG5vaXNlIGdlbmVyYXRpb24uIERlZmF1bHQgaXMgYE1hdGgucmFuZG9tKClgLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5vaXNlID0gMC41LCBzZWVkID0gTWF0aC5yYW5kb20oKSlcbiAgICB7XG4gICAgICAgIHN1cGVyKGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICB1Tm9pc2U6IDAsXG4gICAgICAgICAgICB1U2VlZDogMCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5ub2lzZSA9IG5vaXNlO1xuICAgICAgICB0aGlzLnNlZWQgPSBzZWVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2Ygbm9pc2UgdG8gYXBwbHksIHRoaXMgdmFsdWUgc2hvdWxkIGJlIGluIHRoZSByYW5nZSAoMCwgMV0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMC41XG4gICAgICovXG4gICAgZ2V0IG5vaXNlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVOb2lzZTtcbiAgICB9XG5cbiAgICBzZXQgbm9pc2UodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy51Tm9pc2UgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNlZWQgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIHJhbmRvbSBub2lzZSBnZW5lcmF0aW9uLiBgTWF0aC5yYW5kb20oKWAgaXMgYSBnb29kIHZhbHVlIHRvIHVzZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgc2VlZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2VlZDtcbiAgICB9XG5cbiAgICBzZXQgc2VlZCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVTZWVkID0gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUsIFJlbmRlclRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHVpZCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG5jb25zdCBfdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZURhdGEgPSBmYWxzZTtcblxuLy8gZmlndXJlZCB0aGVyZXMgbm8gcG9pbnQgYWRkaW5nIEFMTCB0aGUgZXh0cmEgdmFyaWFibGVzIHRvIHByb3RvdHlwZS5cbi8vIHRoaXMgbW9kZWwgY2FuIGhvbGQgdGhlIGluZm9ybWF0aW9uIG5lZWRlZC4gVGhpcyBjYW4gYWxzbyBiZSBnZW5lcmF0ZWQgb24gZGVtYW5kIGFzXG4vLyBtb3N0IG9iamVjdHMgYXJlIG5vdCBjYWNoZWQgYXMgYml0bWFwcy5cbi8qKlxuICogQGNsYXNzXG4gKiBAaWdub3JlXG4gKi9cbmNsYXNzIENhY2hlRGF0YVxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub3JpZ2luYWxSZW5kZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxIaXRUZXN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbERlc3Ryb3kgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsTWFzayA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxGaWx0ZXJBcmVhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBudWxsO1xuICAgIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIHtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIHlvdSB3YW50IHRoaXMgZGlzcGxheSBvYmplY3QgdG8gYmUgY2FjaGVkIGFzIGEgYml0bWFwLlxuICAgICAqIFRoaXMgYmFzaWNhbGx5IHRha2VzIGEgc25hcCBzaG90IG9mIHRoZSBkaXNwbGF5IG9iamVjdCBhcyBpdCBpcyBhdCB0aGF0IG1vbWVudC4gSXQgY2FuXG4gICAgICogcHJvdmlkZSBhIHBlcmZvcm1hbmNlIGJlbmVmaXQgZm9yIGNvbXBsZXggc3RhdGljIGRpc3BsYXlPYmplY3RzLlxuICAgICAqIFRvIHJlbW92ZSBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gYGZhbHNlYFxuICAgICAqXG4gICAgICogSU1QT1JUQU5UIEdPVENIQSAtIE1ha2Ugc3VyZSB0aGF0IGFsbCB5b3VyIHRleHR1cmVzIGFyZSBwcmVsb2FkZWQgQkVGT1JFIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byB0cnVlXG4gICAgICogYXMgaXQgd2lsbCB0YWtlIGEgc25hcHNob3Qgb2Ygd2hhdCBpcyBjdXJyZW50bHkgdGhlcmUuIElmIHRoZSB0ZXh0dXJlcyBoYXZlIG5vdCBsb2FkZWQgdGhlbiB0aGV5IHdpbGwgbm90IGFwcGVhci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjYWNoZUFzQml0bWFwOiB7XG4gICAgICAgIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQodmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZUFzQml0bWFwID09PSB2YWx1ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQXNCaXRtYXAgPSB2YWx1ZTtcblxuICAgICAgICAgICAgbGV0IGRhdGE7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhY2hlRGF0YSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlRGF0YSA9IG5ldyBDYWNoZURhdGEoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlciA9IHRoaXMucmVuZGVyO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXMgPSB0aGlzLnJlbmRlckNhbnZhcztcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSB0aGlzLnVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gdGhpcy5jYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcztcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxEZXN0cm95ID0gdGhpcy5kZXN0cm95O1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQgPSB0aGlzLmNvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsTWFzayA9IHRoaXMuX21hc2s7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEZpbHRlckFyZWEgPSB0aGlzLmZpbHRlckFyZWE7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMuX3JlbmRlckNhY2hlZDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IHRoaXMuX2NhY2hlQXNCaXRtYXBEZXN0cm95O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zcHJpdGUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyID0gZGF0YS5vcmlnaW5hbFJlbmRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBkYXRhLm9yaWdpbmFsRGVzdHJveTtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX21hc2sgPSBkYXRhLm9yaWdpbmFsTWFzaztcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG5cbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBXZWJHTFxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX3JlbmRlckNhY2hlZFxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZCA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWQocmVuZGVyZXIpXG57XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcik7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXIocmVuZGVyZXIpO1xufTtcblxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgV2ViR0wgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0XG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpXG57XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIG1ha2Ugc3VyZSBhbHBoYSBpcyBzZXQgdG8gMSBvdGhlcndpc2UgaXQgd2lsbCBnZXQgcmVuZGVyZWQgYXMgaW52aXNpYmxlIVxuICAgIGNvbnN0IGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuXG4gICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAvLyBmaXJzdCB3ZSBmbHVzaCBhbnl0aGluZyBsZWZ0IGluIHRoZSByZW5kZXJlciAob3RoZXJ3aXNlIGl0IHdvdWxkIGdldCByZW5kZXJlZCB0byB0aGUgY2FjaGVkIHRleHR1cmUpXG4gICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAvLyB0aGlzLmZpbHRlcnM9IFtdO1xuXG4gICAgLy8gbmV4dCB3ZSBmaW5kIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB1bnRyYW5zZm9ybWVkIG9iamVjdFxuICAgIC8vIHRoaXMgZnVuY3Rpb24gYWxzbyBjYWxscyB1cGRhdGV0cmFuc2Zvcm0gb24gYWxsIGl0cyBjaGlsZHJlbiBhcyBwYXJ0IG9mIHRoZSBtZWFzdXJpbmcuXG4gICAgLy8gVGhpcyBtZWFucyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgdHJhbnNmb3JtIGFnYWluIGluIHRoaXMgZnVuY3Rpb25cbiAgICAvLyBUT0RPIHBhc3MgYW4gb2JqZWN0IHRvIGNsb25lIHRvbz8gc2F2ZXMgaGF2aW5nIHRvIGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxuICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5jbG9uZSgpO1xuXG4gICAgLy8gYWRkIHNvbWUgcGFkZGluZyFcbiAgICBpZiAodGhpcy5maWx0ZXJzKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRoaXMuZmlsdGVyc1swXS5wYWRkaW5nO1xuXG4gICAgICAgIGJvdW5kcy5wYWQocGFkZGluZyk7XG4gICAgfVxuXG4gICAgYm91bmRzLmNlaWwoc2V0dGluZ3MuUkVTT0xVVElPTik7XG5cbiAgICAvLyBmb3Igbm93IHdlIGNhY2hlIHRoZSBjdXJyZW50IHJlbmRlclRhcmdldCB0aGF0IHRoZSBXZWJHTCByZW5kZXJlciBpcyBjdXJyZW50bHkgdXNpbmcuXG4gICAgLy8gdGhpcyBjb3VsZCBiZSBtb3JlIGVsZWdhbnQuLlxuICAgIGNvbnN0IGNhY2hlZFJlbmRlclRleHR1cmUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmN1cnJlbnQ7XG4gICAgY29uc3QgY2FjaGVkU291cmNlRnJhbWUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lO1xuICAgIGNvbnN0IGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0gPSByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybTtcblxuICAgIC8vIFdlIGFsc28gc3RvcmUgdGhlIGZpbHRlciBzdGFjayAtIEkgd2lsbCBkZWZpbml0ZWx5IGxvb2sgdG8gY2hhbmdlIGhvdyB0aGlzIHdvcmtzIGEgbGl0dGxlIGxhdGVyIGRvd24gdGhlIGxpbmUuXG4gICAgLy8gY29uc3Qgc3RhY2sgPSByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrO1xuXG4gICAgLy8gdGhpcyByZW5kZXJUZXh0dXJlIHdpbGwgYmUgdXNlZCB0byBzdG9yZSB0aGUgY2FjaGVkIERpc3BsYXlPYmplY3RcbiAgICBjb25zdCByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KTtcblxuICAgIGNvbnN0IHRleHR1cmVDYWNoZUlkID0gYGNhY2hlQXNCaXRtYXBfJHt1aWQoKX1gO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG5cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICBjb25zdCBtID0gX3RlbXBNYXRyaXg7XG5cbiAgICBtLnR4ID0gLWJvdW5kcy54O1xuICAgIG0udHkgPSAtYm91bmRzLnk7XG5cbiAgICAvLyByZXNldFxuICAgIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLmlkZW50aXR5KCk7XG5cbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcjtcblxuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCB0cnVlKTtcblxuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtID0gY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybTtcbiAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoY2FjaGVkUmVuZGVyVGV4dHVyZSwgY2FjaGVkU291cmNlRnJhbWUpO1xuXG4gICAgLy8gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjayA9IHN0YWNrO1xuXG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gICAgLy8gdGhlIHJlc3QgaXMgdGhlIHNhbWUgYXMgZm9yIENhbnZhc1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcblxuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICBjb25zdCBjYWNoZWRTcHJpdGUgPSBuZXcgU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuXG4gICAgY2FjaGVkU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgICBjYWNoZWRTcHJpdGUuYWxwaGEgPSBjYWNoZUFscGhhO1xuICAgIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcblxuICAgIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIC8vIHJlc3RvcmUgdGhlIHRyYW5zZm9ybSBvZiB0aGUgY2FjaGVkIHNwcml0ZSB0byBhdm9pZCB0aGUgbmFzdHkgZmxpY2tlci4uXG4gICAgaWYgKCF0aGlzLnBhcmVudClcbiAgICB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcmVuZGVyZXIuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuXG4gICAgLy8gbWFwIHRoZSBoaXQgdGVzdC4uXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcblxuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIGNhbnZhc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX3JlbmRlckNhY2hlZENhbnZhc1xuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZENhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXMocmVuZGVyZXIpXG57XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcik7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbn07XG5cbi8vIFRPRE8gdGhpcyBjYW4gYmUgdGhlIHNhbWUgYXMgdGhlIFdlYkdMIHZlcnNpb24uLiB3aWxsIG5lZWQgdG8gZG8gYSBsaXR0bGUgdHdlYWtpbmcgZmlyc3QgdGhvdWdoLi5cbi8qKlxuICogUHJlcGFyZXMgdGhlIENhbnZhcyByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXNcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcilcbntcbiAgICBpZiAodGhpcy5fY2FjaGVEYXRhICYmIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZ2V0IGJvdW5kcyBhY3R1YWxseSB0cmFuc2Zvcm1zIHRoZSBvYmplY3QgZm9yIHVzIGFscmVhZHkhXG4gICAgY29uc3QgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpO1xuXG4gICAgY29uc3QgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG5cbiAgICB0aGlzLmFscGhhID0gMTtcblxuICAgIGNvbnN0IGNhY2hlZFJlbmRlclRhcmdldCA9IHJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICBib3VuZHMuY2VpbChzZXR0aW5ncy5SRVNPTFVUSU9OKTtcblxuICAgIGNvbnN0IHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZShib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpO1xuXG4gICAgY29uc3QgdGV4dHVyZUNhY2hlSWQgPSBgY2FjaGVBc0JpdG1hcF8ke3VpZCgpfWA7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcblxuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIGNvbnN0IG0gPSBfdGVtcE1hdHJpeDtcblxuICAgIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHlUbyhtKTtcbiAgICBtLmludmVydCgpO1xuXG4gICAgbS50eCAtPSBib3VuZHMueDtcbiAgICBtLnR5IC09IGJvdW5kcy55O1xuXG4gICAgLy8gbS5hcHBlbmQodGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uKVxuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuXG4gICAgLy8gcmVuZGVyVGV4dHVyZS5yZW5kZXIodGhpcywgbSwgdHJ1ZSk7XG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMsIHJlbmRlclRleHR1cmUsIHRydWUsIG0sIGZhbHNlKTtcblxuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLmNvbnRleHQgPSBjYWNoZWRSZW5kZXJUYXJnZXQ7XG5cbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcbiAgICAvLyB0aGUgcmVzdCBpcyB0aGUgc2FtZSBhcyBmb3IgV2ViR0xcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcbiAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgICB0aGlzLmdldExvY2FsQm91bmRzID0gdGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHM7XG5cbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgY29uc3QgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblxuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVDYWNoZWRCb3VuZHMoKVxue1xuICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUudHJhbnNmb3JtLl93b3JsZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7UmVjdGFuZ2xlfSBUaGUgbG9jYWwgYm91bmRzLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMoKVxue1xuICAgIHJldHVybiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLmdldExvY2FsQm91bmRzKCk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgc3ByaXRlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpXG57XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBudWxsO1xuXG4gICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICogIFVzZWQgd2hlbiBkZXN0cm95aW5nIGNvbnRhaW5lcnMsIHNlZSB0aGUgQ29udGFpbmVyLmRlc3Ryb3kgbWV0aG9kLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcERlc3Ryb3kgPSBmdW5jdGlvbiBfY2FjaGVBc0JpdG1hcERlc3Ryb3kob3B0aW9ucylcbntcbiAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICB0aGlzLmRlc3Ryb3kob3B0aW9ucyk7XG59O1xuIiwiaW1wb3J0IHsgRGlzcGxheU9iamVjdCwgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8qKlxuICogVGhlIGluc3RhbmNlIG5hbWUgb2YgdGhlIG9iamVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQG1lbWJlciB7c3RyaW5nfSBuYW1lXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLm5hbWUgPSBudWxsO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRpc3BsYXkgb2JqZWN0IGluIHRoZSBjb250YWluZXIuXG4gKlxuICogQG1ldGhvZCBnZXRDaGlsZEJ5TmFtZVxuICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBJbnN0YW5jZSBuYW1lLlxuICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKi9cbkNvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRCeU5hbWUgPSBmdW5jdGlvbiBnZXRDaGlsZEJ5TmFtZShuYW1lKVxue1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldLm5hbWUgPT09IG5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59O1xuIiwiaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBnbG9iYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QuIERvZXMgbm90IGRlcGVuZCBvbiBvYmplY3Qgc2NhbGUsIHJvdGF0aW9uIGFuZCBwaXZvdC5cbiAqXG4gKiBAbWV0aG9kIGdldEdsb2JhbFBvc2l0aW9uXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnQ9bmV3IFBJWEkuUG9pbnQoKV0gLSBUaGUgcG9pbnQgdG8gd3JpdGUgdGhlIGdsb2JhbCB2YWx1ZSB0by5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2V0dGluZyB0byB0cnVlIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdC5cbiAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSB1cGRhdGVkIHBvaW50LlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRHbG9iYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldEdsb2JhbFBvc2l0aW9uKHBvaW50ID0gbmV3IFBvaW50KCksIHNraXBVcGRhdGUgPSBmYWxzZSlcbntcbiAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudC50b0dsb2JhbCh0aGlzLnBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHBvaW50LnggPSB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIHBvaW50LnkgPSB0aGlzLnBvc2l0aW9uLnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50O1xufTtcbiIsImltcG9ydCB7IGRlcHJlY2F0aW9uIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG5jb25zdCB2NSA9ICc1LjAuMCc7XG5cbi8qKlxuICogRGVwcmVjYXRpb25zIChiYWNrd2FyZCBjb21wYXRpYmlsaXRpZXMpIGFyZSBhdXRvbWF0aWNhbGx5IGFwcGxpZWQgZm9yIGJyb3dzZXIgYnVuZGxlc1xuICogaW4gdGhlIFVNRCBtb2R1bGUgZm9ybWF0LiBJZiB1c2luZyBXZWJwYWNrIG9yIFJvbGx1cCwgeW91J2xsIG5lZWQgdG8gYXBwbHkgdGhlc2VcbiAqIGRlcHJlY2F0aW9ucyBtYW51YWxseSBieSBkb2luZyBzb21ldGhpbmcgbGlrZSB0aGlzOlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG4gKiBQSVhJLnVzZURlcHJlY2F0ZWQoKTsgLy8gTVVTVCBiZSBib3VuZCB0byBuYW1lc3BhY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gdXNlRGVwcmVjYXRlZFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VEZXByZWNhdGVkKClcbntcbiAgICBjb25zdCBQSVhJID0gdGhpcztcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEksIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gU1ZHX1NJWkVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5TVkdfU0laRVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgU1ZHX1NJWkU6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLlNWR19TSVpFIHByb3BlcnR5IGhhcyBtb3ZlZCB0byBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5TVkdfU0laRScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU1ZHUmVzb3VyY2UuU1ZHX1NJWkU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5UcmFuc2Zvcm1TdGF0aWNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtU3RhdGljOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UcmFuc2Zvcm1TdGF0aWMgY2xhc3MgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuVHJhbnNmb3JtJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UcmFuc2Zvcm07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5UcmFuc2Zvcm1CYXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UcmFuc2Zvcm1cbiAgICAgICAgICovXG4gICAgICAgIFRyYW5zZm9ybUJhc2U6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRyYW5zZm9ybUJhc2UgY2xhc3MgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuVHJhbnNmb3JtJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UcmFuc2Zvcm07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IHRoZSB0cmFuc2Zvcm0gdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgVFJBTlNGT1JNX01PREVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQGVudW0ge251bWJlcn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFNUQVRJQ1xuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gRFlOQU1JQ1xuICAgICAgICAgKi9cbiAgICAgICAgVFJBTlNGT1JNX01PREU6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7IFNUQVRJQzogMCwgRFlOQU1JQzogMSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuV2ViR0xSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFdlYkdMUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLldlYkdMUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuQ2FudmFzUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBzZWUgUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc1JlbmRlclRhcmdldDoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ2FudmFzUmVuZGVyVGFyZ2V0IGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkudXRpbHMuQ2FudmFzUmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQG5hbWUgbG9hZGVyXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlci5zaGFyZWRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGxvYWRlcjoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVyIGluc3RhbmNlIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlci5zaGFyZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkxvYWRlci5zaGFyZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5GaWx0ZXJNYW5hZ2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgRmlsdGVyTWFuYWdlcjoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuRmlsdGVyTWFuYWdlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gQWxsIGNsYXNzZXMgcHJldmlvdXMgbmVzdGVkXG4gICAgICogdW5kZXIgdGhpcyBuYW1lc3BhY2UgaGF2ZSBiZWVuIG1vdmVkIHRvIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkuZXh0cmFzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLmV4dHJhcyA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5leHRyYXMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVcbiAgICAgICAgICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlRpbGluZ1Nwcml0ZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpbGluZ1Nwcml0ZVJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEFuaW1hdGVkU3ByaXRlOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQW5pbWF0ZWRTcHJpdGUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0XG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBUZXh0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBCaXRtYXBUZXh0OiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuQml0bWFwVGV4dCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5CaXRtYXBUZXh0Jyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBUZXh0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkudXRpbHMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLnV0aWxzLmdldFN2Z1NpemVcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5nZXRTaXplXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTdmdTaXplOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5nZXRTdmdTaXplIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5nZXRTaXplJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TVkdSZXNvdXJjZS5nZXRTaXplO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFsbCBjbGFzc2VzIG9uIHRoaXMgbmFtZXNwYWNlIGhhdmUgbW92ZWQgdG8gdGhlIGhpZ2gtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkubWVzaFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5tZXNoID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLm1lc2gsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTWVzaFxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlTWVzaFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTWVzaDoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5NZXNoIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlNpbXBsZU1lc2gnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZU1lc2g7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5OaW5lU2xpY2VQbGFuZVxuICAgICAgICAgKiBAc2VlIFBJWEkuTmluZVNsaWNlUGxhbmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE5pbmVTbGljZVBsYW5lOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk5pbmVTbGljZVBsYW5lIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLk5pbmVTbGljZVBsYW5lJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5OaW5lU2xpY2VQbGFuZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlBsYW5lXG4gICAgICAgICAqIEBzZWUgUElYSS5TaW1wbGVQbGFuZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUGxhbmU6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUGxhbmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlUGxhbmUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZVBsYW5lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUm9wZVxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlUm9wZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUm9wZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5Sb3BlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlNpbXBsZVJvcGUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZVJvcGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5SYXdNZXNoXG4gICAgICAgICAqIEBzZWUgUElYSS5NZXNoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSYXdNZXNoOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLlJhd01lc2ggY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTWVzaCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTWVzaDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLkNhbnZhc01lc2hSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNNZXNoUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guQ2FudmFzTWVzaFJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkNhbnZhc01lc2hSZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5NZXNoUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE1lc2hSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5NZXNoUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTWVzaFJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZCBhbmQgaXRlbXMgaGF2ZSBiZWVuIG1vdmVkIHRvXG4gICAgICogdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5wYXJ0aWNsZXNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkucGFydGljbGVzID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnBhcnRpY2xlcywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKi9cbiAgICAgICAgUGFydGljbGVDb250YWluZXI6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5QYXJ0aWNsZUNvbnRhaW5lcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUGFydGljbGVDb250YWluZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucGFydGljbGVzLlBhcnRpY2xlUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlUmVuZGVyZXJcbiAgICAgICAgICovXG4gICAgICAgIFBhcnRpY2xlUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZVJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlBhcnRpY2xlUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlBhcnRpY2xlUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZCBhbmQgaXRlbXMgaGF2ZSBiZWVuIG1vdmVkIHRvXG4gICAgICogdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS50aWNrZXJcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkudGlja2VyID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnRpY2tlciwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkudGlja2VyLlRpY2tlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlja2VyXG4gICAgICAgICAqL1xuICAgICAgICBUaWNrZXI6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnRpY2tlci5UaWNrZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlja2VyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWNrZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS50aWNrZXIuc2hhcmVkXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHNoYXJlZDoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudGlja2VyLnNoYXJlZCBpbnN0YW5jZSBoYXMgbW92ZWQgdG8gUElYSS5UaWNrZXIuc2hhcmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWNrZXIuc2hhcmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFsbCBjbGFzc2VzIG9uIHRoaXMgbmFtZXNwYWNlIGhhdmUgbW92ZWQgdG8gdGhlIGhpZ2gtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkubG9hZGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5sb2FkZXJzID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmxvYWRlcnMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmxvYWRlcnMuTG9hZGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5Mb2FkZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIExvYWRlcjoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5Mb2FkZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubG9hZGVycy5SZXNvdXJjZVxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyUmVzb3VyY2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJlc291cmNlOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLlJlc291cmNlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlclJlc291cmNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXJSZXNvdXJjZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLmJpdG1hcEZvbnRQYXJzZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBiaXRtYXBGb250UGFyc2VyOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLmJpdG1hcEZvbnRQYXJzZXIgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkuQml0bWFwRm9udExvYWRlci51c2UnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMucGFyc2VCaXRtYXBGb250RGF0YVxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udExvYWRlci5wYXJzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgcGFyc2VCaXRtYXBGb250RGF0YToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5wYXJzZUJpdG1hcEZvbnREYXRhIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcEZvbnRMb2FkZXIucGFyc2UnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJpdG1hcEZvbnRMb2FkZXIucGFyc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5zcHJpdGVzaGVldFBhcnNlclxuICAgICAgICAgKiBAc2VlIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBzcHJpdGVzaGVldFBhcnNlcjoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5zcHJpdGVzaGVldFBhcnNlciBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5TcHJpdGVzaGVldExvYWRlci51c2UnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLmdldFJlc291cmNlUGF0aFxuICAgICAgICAgKiBAc2VlIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBnZXRSZXNvdXJjZVBhdGg6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuZ2V0UmVzb3VyY2VQYXRoIHByb3BlcnR5IGhhcyBtb3ZlZCB0byBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5yZWdpc3RlclBsdWdpblxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbWlkZGxld2FyZVxuICAgICAqL1xuICAgIFBJWEkuTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlID0gZnVuY3Rpb24gYWRkUGl4aU1pZGRsZXdhcmUobWlkZGxld2FyZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LFxuICAgICAgICAgICAgJ1BJWEkubG9hZGVycy5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkubG9hZGVycy5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4nXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIFBJWEkubG9hZGVycy5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oeyB1c2U6IG1pZGRsZXdhcmUoKSB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3RcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5leHRyYWN0LkV4dHJhY3RcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5leHRyYWN0LCAnV2ViR0xFeHRyYWN0Jywge1xuICAgICAgICBnZXQoKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3QgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLmV4dHJhY3QuRXh0cmFjdCcpO1xuXG4gICAgICAgICAgICByZXR1cm4gUElYSS5leHRyYWN0LkV4dHJhY3Q7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLnByZXBhcmUuUHJlcGFyZVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLnByZXBhcmUsICdXZWJHTFByZXBhcmUnLCB7XG4gICAgICAgIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5wcmVwYXJlLlByZXBhcmUnKTtcblxuICAgICAgICAgICAgcmV0dXJuIFBJWEkucHJlcGFyZS5QcmVwYXJlO1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNfcmVuZGVyV2ViR0xcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIuX3JlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIuX3JlbmRlcicpO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjcmVuZGVyV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLnJlbmRlcicpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkRpc3BsYXlPYmplY3QjcmVuZGVyV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5EaXNwbGF5T2JqZWN0I3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuRGlzcGxheU9iamVjdC5yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuRGlzcGxheU9iamVjdC5yZW5kZXInKTtcblxuICAgICAgICB0aGlzLnJlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjcmVuZGVyQWR2YW5jZWRXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJBZHZhbmNlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWRXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlckFkdmFuY2VkV2ViR0wocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ29udGFpbmVyLnJlbmRlckFkdmFuY2VkV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lci5yZW5kZXJBZHZhbmNlZCcpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnNldHRpbmdzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IHRyYW5zZm9ybSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRSQU5TRk9STV9NT0RFfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRSQU5TRk9STV9NT0RFLlNUQVRJQ1xuICAgICAgICAgKi9cbiAgICAgICAgVFJBTlNGT1JNX01PREU6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnNldHRpbmdzLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnNldHRpbmdzLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCB7IEJhc2VUZXh0dXJlIH0gPSBQSVhJO1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBsb2FkU291cmNlXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmUjXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUubG9hZFNvdXJjZSA9IGZ1bmN0aW9uIGxvYWRTb3VyY2UoaW1hZ2UpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUubG9hZFNvdXJjZSBtZXRob2QgaGFzIGJlZW4gZGVwcmVjYXRlZCcpO1xuXG4gICAgICAgIGNvbnN0IHJlc291cmNlID0gUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlKGltYWdlKTtcblxuICAgICAgICByZXNvdXJjZS5pbnRlcm5hbCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEJhc2VUZXh0dXJlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNoYXNMb2FkZWRcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUjdmFsaWRcbiAgICAgICAgICovXG4gICAgICAgIGhhc0xvYWRlZDoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuaGFzTG9hZGVkIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnZhbGlkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52YWxpZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI2ltYWdlVXJsXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZS5JbWFnZVJlc291cmNlI3VybFxuICAgICAgICAgKi9cbiAgICAgICAgaW1hZ2VVcmw6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmltYWdlVXJsIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnVybCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2UgJiYgdGhpcy5yZXNvdXJjZS51cmw7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzZXQoaW1hZ2VVcmwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmltYWdlVXJsIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnVybCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLnVybCA9IGltYWdlVXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI3NvdXJjZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlI3NvdXJjZVxuICAgICAgICAgKi9cbiAgICAgICAgc291cmNlOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5zb3VyY2UgcHJvcGVydHkgaGFzIGJlZW4gbW92ZWQsIHVzZSBgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS5zb3VyY2VgJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZSAmJiB0aGlzLnJlc291cmNlLnNvdXJjZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQoc291cmNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5zb3VyY2UgcHJvcGVydHkgaGFzIGJlZW4gbW92ZWQsIHVzZSBgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS5zb3VyY2VgICdcbiAgICAgICAgICAgICAgICAgICAgKyAnaWYgeW91IHdhbnQgdG8gc2V0IEhUTUxDYW52YXNFbGVtZW50LiBPdGhlcndpc2UsIGNyZWF0ZSBuZXcgQmFzZVRleHR1cmUuJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2Uuc291cmNlID0gc291cmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21JbWFnZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoY2FudmFzLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzY2FsZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tSW1hZ2UgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5CYXNlVGV4dHVyZS5mcm9tJyk7XG5cbiAgICAgICAgY29uc3QgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZSwgY3Jvc3NvcmlnaW4gfTtcblxuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmUuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlLCByZXNvdXJjZU9wdGlvbnMgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbUNhbnZhc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tQ2FudmFzID0gZnVuY3Rpb24gZnJvbUNhbnZhcyhjYW52YXMsIHNjYWxlTW9kZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tQ2FudmFzIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuXG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGUgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbVNWR1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tU1ZHID0gZnVuY3Rpb24gZnJvbVNWRyhjYW52YXMsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmZyb21TVkcgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5CYXNlVGV4dHVyZS5mcm9tJyk7XG5cbiAgICAgICAgY29uc3QgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZSwgY3Jvc3NvcmlnaW4gfTtcblxuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmUuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlLCByZXNvdXJjZU9wdGlvbnMgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Qb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlBvaW50LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5Qb2ludC5jb3B5RnJvbScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5PYnNlcnZhYmxlUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLk9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocClcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5PYnNlcnZhYmxlUG9pbnQuY29weSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLk9ic2VydmFibGVQb2ludC5jb3B5RnJvbScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuUmVjdGFuZ2xlI2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5SZWN0YW5nbGUjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlJlY3RhbmdsZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocClcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZWN0YW5nbGUuY29weSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLlJlY3RhbmdsZS5jb3B5RnJvbScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuTWF0cml4I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5NYXRyaXgjY29weVRvXG4gICAgICovXG4gICAgUElYSS5NYXRyaXgucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuTWF0cml4LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5NYXRyaXguY29weVRvJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29weVRvKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbSNzZXRTdGF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMS4wXG4gICAgICogQHNlZSBQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW0jc2V0XG4gICAgICovXG4gICAgUElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKHMpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbigndjUuMS4wJywgJ1N0YXRlU3lzdGVtLnNldFN0YXRlIGhhcyBiZWVuIHJlbmFtZWQgdG8gU3RhdGVTeXN0ZW0uc2V0Jyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KHMpO1xuICAgIH07XG5cbiAgICBPYmplY3QuYXNzaWduKFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuRmlsdGVyTWFuYWdlciNnZXRSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2dldEZpbHRlclRleHR1cmVcbiAgICAgICAgICovXG4gICAgICAgIGdldFJlbmRlclRhcmdldChjbGVhciwgcmVzb2x1dGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsXG4gICAgICAgICAgICAgICAgJ1BJWEkuRmlsdGVyTWFuYWdlci5nZXRSZW5kZXJUYXJnZXQgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNnZXRGaWx0ZXJUZXh0dXJlJ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmlsdGVyVGV4dHVyZShyZXNvbHV0aW9uKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkZpbHRlck1hbmFnZXIjcmV0dXJuUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNyZXR1cm5GaWx0ZXJUZXh0dXJlXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsXG4gICAgICAgICAgICAgICAgJ1BJWEkuRmlsdGVyTWFuYWdlci5yZXR1cm5SZW5kZXJUYXJnZXQgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggJ1xuICAgICAgICAgICAgICAgICsgJ1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0ucmV0dXJuRmlsdGVyVGV4dHVyZSdcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2NhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIHRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICAgICAqL1xuICAgICAgICBjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbS5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCBtZXRob2QgaXMgcmVtb3ZlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBgKHZUZXh0dXJlQ29vcmQgKiBpbnB1dFNpemUueHkpICsgb3V0cHV0RnJhbWUueHlgIGluc3RlYWQnKTtcblxuICAgICAgICAgICAgY29uc3QgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG4gICAgICAgICAgICBjb25zdCB7IHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lIH0gPSB0aGlzLmFjdGl2ZVN0YXRlO1xuXG4gICAgICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNvdXJjZUZyYW1lLnggLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCBzb3VyY2VGcmFtZS55IC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2NhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAgICAgKi9cbiAgICAgICAgY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnN5c3RlbXMuRmlsdGVyTWFuYWdlci5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXggbWV0aG9kIGlzIHJlbW92ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgYCgodlRleHR1cmVDb29yZCAqIGlucHV0U2l6ZS54eSkgKyBvdXRwdXRGcmFtZS54eSkgLyBvdXRwdXRGcmFtZS56d2AgaW5zdGVhZC4nKTtcblxuICAgICAgICAgICAgY29uc3QgeyBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSB9ID0gdGhpcy5hY3RpdmVTdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5pZGVudGl0eSgpO1xuXG4gICAgICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNvdXJjZUZyYW1lLnggLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCBzb3VyY2VGcmFtZS55IC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICBjb25zdCB0cmFuc2xhdGVTY2FsZVggPSAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHNvdXJjZUZyYW1lLndpZHRoKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zbGF0ZVNjYWxlWSA9IChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHNvdXJjZUZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC5zY2FsZSh0cmFuc2xhdGVTY2FsZVgsIHRyYW5zbGF0ZVNjYWxlWSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLlJlbmRlclRleHR1cmUucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlclRleHR1cmUjc291cmNlRnJhbWVcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHNvdXJjZUZyYW1lOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlckZyYW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyVGV4dHVyZSNzaXplXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZW5kZXJUZXh0dXJlLnNpemUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBCbHVyWEZpbHRlclxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAgICovXG4gICAgY2xhc3MgQmx1clhGaWx0ZXIgZXh0ZW5kcyBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3NcbiAgICB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZmlsdGVycy5CbHVyWEZpbHRlciBjbGFzcyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzJyk7XG5cbiAgICAgICAgICAgIHN1cGVyKHRydWUsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBCbHVyWUZpbHRlclxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAgICovXG4gICAgY2xhc3MgQmx1cllGaWx0ZXIgZXh0ZW5kcyBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3NcbiAgICB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZmlsdGVycy5CbHVyWUZpbHRlciBjbGFzcyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzJyk7XG5cbiAgICAgICAgICAgIHN1cGVyKGZhbHNlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKFBJWEkuZmlsdGVycywge1xuICAgICAgICBCbHVyWEZpbHRlcixcbiAgICAgICAgQmx1cllGaWx0ZXIsXG4gICAgfSk7XG5cbiAgICBjb25zdCB7IFNwcml0ZSwgVGV4dHVyZSwgR3JhcGhpY3MgfSA9IFBJWEk7XG5cbiAgICAvLyBTdXBwb3J0IGZvciBwaXhpLmpzLWxlZ2FjeSBiaWZ1cmNhdGlvblxuICAgIC8vIGdpdmUgdXNlcnMgYSBmcmllbmRseSBhc3Npc3QgdG8gdXNlIGxlZ2FjeVxuICAgIGlmICghR3JhcGhpY3MucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIEdyYXBoaWNzLnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZUNhbnZhc1RleHR1cmUoKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuR3JhcGhpY3MuZ2VuZXJhdGVDYW52YXNUZXh0dXJlIG1ldGhvZCBpcyBvbmx5IGF2YWlsYWJsZSBpbiBcInBpeGkuanMtbGVnYWN5XCInKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N9IFBJWEkuR3JhcGhpY3MjZ3JhcGhpY3NEYXRhXG4gICAgICogQHNlZSBQSVhJLkdyYXBoaWNzI2dlb21ldHJ5XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuR3JhcGhpY3MucHJvdG90eXBlLCAnZ3JhcGhpY3NEYXRhJywge1xuICAgICAgICBnZXQoKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuR3JhcGhpY3MuZ3JhcGhpY3NEYXRhIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkdyYXBoaWNzLmdlb21ldHJ5LmdyYXBoaWNzRGF0YScpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5ncmFwaGljc0RhdGE7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBVc2UgdGhlc2UgdG8gZGVwcmVjYXRlIGFsbCB0aGUgU3ByaXRlIGZyb20qIG1ldGhvZHNcbiAgICBmdW5jdGlvbiBzcHJpdGVGcm9tKG5hbWUsIHNvdXJjZSwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCBgUElYSS5TcHJpdGUuJHtuYW1lfSBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuU3ByaXRlLmZyb21gKTtcblxuICAgICAgICByZXR1cm4gU3ByaXRlLmZyb20oc291cmNlLCB7XG4gICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21JbWFnZVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZS5mcm9tSW1hZ2UgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21JbWFnZScpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21TVkdcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbVNWRyA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbVNWRycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21DYW52YXNcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbUNhbnZhcyA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUNhbnZhcycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21WaWRlb1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZS5mcm9tVmlkZW8gPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21WaWRlbycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21GcmFtZVxuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZS5mcm9tRnJhbWUgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21GcmFtZScpO1xuXG4gICAgLy8gVXNlIHRoZXNlIHRvIGRlcHJlY2F0ZSBhbGwgdGhlIFRleHR1cmUgZnJvbSogbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHRleHR1cmVGcm9tKG5hbWUsIHNvdXJjZSwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCBgUElYSS5UZXh0dXJlLiR7bmFtZX0gbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlRleHR1cmUuZnJvbWApO1xuXG4gICAgICAgIHJldHVybiBUZXh0dXJlLmZyb20oc291cmNlLCB7XG4gICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2VcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUltYWdlID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUltYWdlJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21TVkdcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbVNWRyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21TVkcnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUNhbnZhc1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tQ2FudmFzID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUNhbnZhcycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tVmlkZW9cbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbVZpZGVvID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbVZpZGVvJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21GcmFtZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tRnJhbWUgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tRnJhbWUnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn0gUElYSS5BYnN0cmFjdFJlbmRlcmVyI2F1dG9SZXNpemVcbiAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RSZW5kZXJlciNhdXRvRGVuc2l0eVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLkFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCAnYXV0b1Jlc2l6ZScsIHtcbiAgICAgICAgZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b1Jlc2l6ZSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIFBJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvRGVuc2l0eScpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRvRGVuc2l0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvUmVzaXplIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9EZW5zaXR5Jyk7XG5cbiAgICAgICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVTeXN0ZW19IFBJWEkuUmVuZGVyZXIjdGV4dHVyZU1hbmFnZXJcbiAgICAgKiBAc2VlIFBJWEkuUmVuZGVyZXIjdGV4dHVyZVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLlJlbmRlcmVyLnByb3RvdHlwZSwgJ3RleHR1cmVNYW5hZ2VyJywge1xuICAgICAgICBnZXQoKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyZXIudGV4dHVyZU1hbmFnZXIgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuUmVuZGVyZXIudGV4dHVyZScpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0dXJlO1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnV0aWxzLm1peGluc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS51dGlscy5taXhpbnMgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAgICAgICAgICogQGZ1bmN0aW9uIG1peGluXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBtaXhpbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5taXhpbnMubWl4aW4gZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBkZWxheU1peGluXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBkZWxheU1peGluKClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5kZWxheU1peGluIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gcGVyZm9ybU1peGluc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgcGVyZm9ybU1peGlucygpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5taXhpbnMucGVyZm9ybU1peGlucyBmdW5jdGlvbiBpcyBubyBsb25nZXIgYXZhaWxhYmxlJyk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiIsIi8qKlxuICogQ2xhc3MgY29udHJvbHMgY2FjaGUgZm9yIFVWIG1hcHBpbmcgZnJvbSBUZXh0dXJlIG5vcm1hbCBzcGFjZSB0byBCYXNlVGV4dHVyZSBub3JtYWwgc3BhY2UuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNoQmF0Y2hVdnNcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSB1dkJ1ZmZlciAtIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgdXYnc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlTWF0cml4fSB1dk1hdHJpeCAtIE1hdGVyaWFsIFVWIG1hdHJpeFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHV2QnVmZmVyLCB1dk1hdHJpeClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgd2l0aCBub3JtYWxpemVkIFVWJ3NcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2QnVmZmVyID0gdXZCdWZmZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hdGVyaWFsIFVWIG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gdXZNYXRyaXg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVWIEJ1ZmZlciBkYXRhXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gLTE7XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gLTE7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHVwZGF0ZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2VVcGRhdGUgLSBmb3JjZSB0aGUgdXBkYXRlXG4gICAgICovXG4gICAgdXBkYXRlKGZvcmNlVXBkYXRlKVxuICAgIHtcbiAgICAgICAgaWYgKCFmb3JjZVVwZGF0ZVxuICAgICAgICAgICAgJiYgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPT09IHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEXG4gICAgICAgICAgICAmJiB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPT09IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJZCA9IHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPSB0aGlzLnV2TWF0cml4Ll91cGRhdGVJRDtcblxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy51dkJ1ZmZlci5kYXRhO1xuXG4gICAgICAgIGlmICghdGhpcy5kYXRhIHx8IHRoaXMuZGF0YS5sZW5ndGggIT09IGRhdGEubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXZNYXRyaXgubXVsdGlwbHlVdnMoZGF0YSwgdGhpcy5kYXRhKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBQb2ludCwgUG9seWdvbiB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMsIERSQVdfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCBNZXNoQmF0Y2hVdnMgZnJvbSAnLi9NZXNoQmF0Y2hVdnMnO1xuXG5jb25zdCB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbmNvbnN0IHRlbXBQb2x5Z29uID0gbmV3IFBvbHlnb24oKTtcblxuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3MuXG4gKlxuICogVGhpcyBjbGFzcyBlbXBvd2VycyB5b3UgdG8gaGF2ZSBtYXhpbXVtIGZsZXhpYmlsaXR5IHRvIHJlbmRlciBhbnkga2luZCBvZiBXZWJHTCB2aXN1YWxzIHlvdSBjYW4gdGhpbmsgb2YuXG4gKiBUaGlzIGNsYXNzIGFzc3VtZXMgYSBjZXJ0YWluIGxldmVsIG9mIFdlYkdMIGtub3dsZWRnZS5cbiAqIElmIHlvdSBrbm93IGEgYml0IHRoaXMgc2hvdWxkIGFic3RyYWN0IGVub3VnaCBhd2F5IHRvIG1ha2UgeW91IGxpZmUgZWFzaWVyIVxuICpcbiAqIFByZXR0eSBtdWNoIEFMTCBXZWJHTCBjYW4gYmUgYnJva2VuIGRvd24gaW50byB0aGUgZm9sbG93aW5nOlxuICogLSBHZW9tZXRyeSAtIFRoZSBzdHJ1Y3R1cmUgYW5kIGRhdGEgZm9yIHRoZSBtZXNoLiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuLlxuICogLSBTaGFkZXIgLSBUaGlzIGlzIHRoZSBzaGFkZXIgdGhhdCBQaXhpSlMgd2lsbCByZW5kZXIgdGhlIGdlb21ldHJ5IHdpdGggKGF0dHJpYnV0ZXMgaW4gdGhlIHNoYWRlciBtdXN0IG1hdGNoIHRoZSBnZW9tZXRyeSlcbiAqIC0gU3RhdGUgLSBUaGlzIGlzIHRoZSBzdGF0ZSBvZiBXZWJHTCByZXF1aXJlZCB0byByZW5kZXIgdGhlIG1lc2guXG4gKlxuICogVGhyb3VnaCBhIGNvbWJpbmF0aW9uIG9mIHRoZSBhYm92ZSBlbGVtZW50cyB5b3UgY2FuIHJlbmRlciBhbnl0aGluZyB5b3Ugd2FudCwgMkQgb3IgM0QhXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzaCBleHRlbmRzIENvbnRhaW5lclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgIHRoZSBnZW9tZXRyeSB0aGUgbWVzaCB3aWxsIHVzZVxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ8UElYSS5NZXNoTWF0ZXJpYWx9IHNoYWRlciAgdGhlIHNoYWRlciB0aGUgbWVzaCB3aWxsIHVzZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gW3N0YXRlXSB0aGUgc3RhdGUgdGhhdCB0aGUgV2ViR0wgY29udGV4dCBpcyByZXF1aXJlZCB0byBiZSBpbiB0byByZW5kZXIgdGhlIG1lc2hcbiAgICAgKiAgICAgICAgaWYgbm8gc3RhdGUgaXMgcHJvdmlkZWQsIHVzZXMge0BsaW5rIFBJWEkuU3RhdGUuZm9yMmR9IHRvIGNyZWF0ZSBhIDJEIHN0YXRlIGZvciBQaXhpSlMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkcmF3TW9kZT1QSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTXSB0aGUgZHJhd01vZGUsIGNhbiBiZSBhbnkgb2YgdGhlIFBJWEkuRFJBV19NT0RFUyBjb25zdHNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihnZW9tZXRyeSwgc2hhZGVyLCBzdGF0ZSwgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUykvLyB2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzLCBkcmF3TW9kZSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluY2x1ZGVzIHZlcnRleCBwb3NpdGlvbnMsIGZhY2UgaW5kaWNlcywgbm9ybWFscywgY29sb3JzLCBVVnMsIGFuZFxuICAgICAgICAgKiBjdXN0b20gYXR0cmlidXRlcyB3aXRoaW4gYnVmZmVycywgcmVkdWNpbmcgdGhlIGNvc3Qgb2YgcGFzc2luZyBhbGxcbiAgICAgICAgICogdGhpcyBkYXRhIHRvIHRoZSBHUFUuIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR2VvbWV0cnl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuXG4gICAgICAgIGdlb21ldHJ5LnJlZkNvdW50Kys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycyB0aGF0IHByb2Nlc3NlcyB0aGUgZ2VvbWV0cnkgYW5kIHJ1bnMgb24gdGhlIEdQVS5cbiAgICAgICAgICogQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ8UElYSS5NZXNoTWF0ZXJpYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IHNoYWRlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgV2ViR0wgc3RhdGUgdGhlIE1lc2ggcmVxdWlyZWQgdG8gcmVuZGVyLCBleGNsdWRlcyBzaGFkZXIgYW5kIGdlb21ldHJ5LiBFLmcuLFxuICAgICAgICAgKiBibGVuZCBtb2RlLCBjdWxsaW5nLCBkZXB0aCB0ZXN0aW5nLCBkaXJlY3Rpb24gb2YgcmVuZGVyaW5nIHRyaWFuZ2xlcywgYmFja2ZhY2UsIGV0Yy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZSB8fCBTdGF0ZS5mb3IyZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2F5IHRoZSBNZXNoIHNob3VsZCBiZSBkcmF3biwgY2FuIGJlIGFueSBvZiB0aGUge0BsaW5rIFBJWEkuRFJBV19NT0RFU30gY29uc3RhbnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5EUkFXX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRyYXdNb2RlID0gZHJhd01vZGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGljYWxseSB0aGUgaW5kZXggb2YgdGhlIEluZGV4QnVmZmVyIHdoZXJlIHRvIHN0YXJ0IGRyYXdpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyBtdWNoIG9mIHRoZSBnZW9tZXRyeSB0byBkcmF3LCBieSBkZWZhdWx0IGAwYCByZW5kZXJzIGV2ZXJ5dGhpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlYXNlIGFyZSB1c2VkIGFzIGVhc3kgYWNjZXNzIGZvciBiYXRjaGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZWFzZSBhcmUgdXNlZCBhcyBlYXN5IGFjY2VzcyBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHRoZSBjYWNoaW5nIGxheWVyIHVzZWQgYnkgdGhlIGJhdGNoZXJcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSgxKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZ2VvbWV0cnkgaXMgY2hhbmdlZCB1c2VkIHRvIGRlY2lkZSB0byByZS10cmFuc2Zvcm1cbiAgICAgICAgICogdGhlIHZlcnRleERhdGEuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4RGlydHkgPSAwO1xuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG5cbiAgICAgICAgLy8gSW5oZXJpdGVkIGZyb20gRGlzcGxheU1vZGUsIHNldCBkZWZhdWx0c1xuICAgICAgICB0aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJvdW5kUGl4ZWxzIGZpZWxkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2hlZCBVVidzIGFyZSBjYWNoZWQgZm9yIGF0bGFzIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWVzaEJhdGNoVXZzfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaFV2cyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG8gY2hhbmdlIG1lc2ggdXYncywgY2hhbmdlIGl0cyB1dkJ1ZmZlciBkYXRhIGFuZCBpbmNyZW1lbnQgaXRzIF91cGRhdGVJRC5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgdXZCdWZmZXIoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUbyBjaGFuZ2UgbWVzaCB2ZXJ0aWNlcywgY2hhbmdlIGl0cyB1dkJ1ZmZlciBkYXRhIGFuZCBpbmNyZW1lbnQgaXRzIF91cGRhdGVJRC5cbiAgICAgKiBJbmNyZW1lbnRpbmcgX3VwZGF0ZUlEIGlzIG9wdGlvbmFsIGJlY2F1c2UgbW9zdCBvZiBNZXNoIG9iamVjdHMgZG8gaXQgYW55d2F5LlxuICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCB2ZXJ0aWNlc0J1ZmZlcigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciB7QGxpbmsgUElYSS5NZXNoI3NoYWRlcn0uXG4gICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ8UElYSS5NZXNoTWF0ZXJpYWx9XG4gICAgICovXG4gICAgc2V0IG1hdGVyaWFsKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgbWF0ZXJpYWwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIE1lc2guIEFwcGx5IGEgdmFsdWUgb2ZcbiAgICAgKiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAqL1xuICAgIHNldCBibGVuZE1vZGUodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBibGVuZE1vZGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBzZXQgcm91bmRQaXhlbHModmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHJvdW5kUGl4ZWxzKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbXVsdGlwbHkgdGludCBhcHBsaWVkIHRvIHRoZSBNZXNoLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mXG4gICAgICogYDB4RkZGRkZGYCB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBnZXQgdGludCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIudGludDtcbiAgICB9XG5cbiAgICBzZXQgdGludCh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc2hhZGVyLnRpbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBNZXNoIHVzZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgZ2V0IHRleHR1cmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gICAgfVxuXG4gICAgc2V0IHRleHR1cmUodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhbmRhcmQgcmVuZGVyZXIgZHJhdy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIF9yZW5kZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvLyBzZXQgcHJvcGVydGllcyBmb3IgYmF0Y2hpbmcuLlxuICAgICAgICAvLyBUT0RPIGNvdWxkIHVzZSBhIGRpZmZlcmVudCB3YXkgdG8gZ3JhYiB2ZXJ0cz9cbiAgICAgICAgY29uc3QgdmVydGljZXMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0uZGF0YTtcblxuICAgICAgICAvLyBUT0RPIGJlbmNobWFyayBjaGVjayBmb3IgYXR0cmlidXRlIHNpemUuLlxuICAgICAgICBpZiAodGhpcy5zaGFkZXIuYmF0Y2hhYmxlICYmIHRoaXMuZHJhd01vZGUgPT09IERSQVdfTU9ERVMuVFJJQU5HTEVTICYmIHZlcnRpY2VzLmxlbmd0aCA8IE1lc2guQkFUQ0hBQkxFX1NJWkUgKiAyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUb0JhdGNoKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRlZmF1bHQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhbmRhcmQgbm9uLWJhdGNoaW5nIHdheSBvZiByZW5kZXJpbmcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBfcmVuZGVyRGVmYXVsdChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuXG4gICAgICAgIHNoYWRlci5hbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgaWYgKHNoYWRlci51cGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNoYWRlci51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKHNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhLnRyYW5zbGF0aW9uTWF0cml4KVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG5cbiAgICAgICAgLy8gc2V0IHN0YXRlLi5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIGdlb21ldHJ5Li4uXG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5nZW9tZXRyeSwgc2hhZGVyKTtcblxuICAgICAgICAvLyB0aGVuIHJlbmRlciBpdFxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMuZHJhd01vZGUsIHRoaXMuc2l6ZSwgdGhpcy5zdGFydCwgdGhpcy5nZW9tZXRyeS5pbnN0YW5jZUNvdW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJpbmcgYnkgdXNpbmcgdGhlIEJhdGNoIHN5c3RlbS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIF9yZW5kZXJUb0JhdGNoKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlci51dk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVV2cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gdGhpcy5zaGFkZXIuX3RpbnRSR0I7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLnNoYWRlci50ZXh0dXJlO1xuXG4gICAgICAgIGNvbnN0IHBsdWdpbk5hbWUgPSB0aGlzLm1hdGVyaWFsLnBsdWdpbk5hbWU7XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdmVydGV4RGF0YSBmaWVsZCBiYXNlZCBvbiB0cmFuc2Zvcm0gYW5kIHZlcnRpY2VzXG4gICAgICovXG4gICAgY2FsY3VsYXRlVmVydGljZXMoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IGdlb21ldHJ5LmJ1ZmZlcnNbMF0uZGF0YTtcblxuICAgICAgICBpZiAoZ2VvbWV0cnkudmVydGV4RGlydHlJZCA9PT0gdGhpcy52ZXJ0ZXhEaXJ0eSAmJiB0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG5cbiAgICAgICAgaWYgKHRoaXMudmVydGV4RGF0YS5sZW5ndGggIT09IHZlcnRpY2VzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcy5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgYSA9IHd0LmE7XG4gICAgICAgIGNvbnN0IGIgPSB3dC5iO1xuICAgICAgICBjb25zdCBjID0gd3QuYztcbiAgICAgICAgY29uc3QgZCA9IHd0LmQ7XG4gICAgICAgIGNvbnN0IHR4ID0gd3QudHg7XG4gICAgICAgIGNvbnN0IHR5ID0gd3QudHk7XG5cbiAgICAgICAgY29uc3QgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoIC8gMjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4ID0gdmVydGljZXNbKGkgKiAyKV07XG4gICAgICAgICAgICBjb25zdCB5ID0gdmVydGljZXNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMildID0gKGEgKiB4KSArIChjICogeSkgKyB0eDtcbiAgICAgICAgICAgIHZlcnRleERhdGFbKGkgKiAyKSArIDFdID0gKGIgKiB4KSArIChkICogeSkgKyB0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaV0gPSBNYXRoLnJvdW5kKHZlcnRleERhdGFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhEaXJ0eSA9IGdlb21ldHJ5LnZlcnRleERpcnR5SWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB1diBmaWVsZCBiYXNlZCBvbiBmcm9tIGdlb21ldHJ5IHV2J3Mgb3IgYmF0Y2hVdnNcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVVdnMoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2VvbVV2cyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXTtcblxuICAgICAgICBpZiAoIXRoaXMuc2hhZGVyLnV2TWF0cml4LmlzU2ltcGxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmF0Y2hVdnMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaFV2cyA9IG5ldyBNZXNoQmF0Y2hVdnMoZ2VvbVV2cywgdGhpcy5zaGFkZXIudXZNYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iYXRjaFV2cy51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudXZzID0gdGhpcy5iYXRjaFV2cy5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dnMgPSBnZW9tVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG1lc2ggYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiB0aGVyZSBtdXN0IGJlIGEgYVZlcnRleFBvc2l0aW9uIGF0dHJpYnV0ZSBwcmVzZW50IGluIHRoZSBnZW9tZXRyeSBmb3IgYm91bmRzIHRvIGJlIGNhbGN1bGF0ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRWZXJ0ZXhEYXRhKHRoaXMudmVydGV4RGF0YSwgMCwgdGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBtZXNoLiBXb3JrcyBvbmx5IGZvciBQSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBjb250YWluc1BvaW50KHBvaW50KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50LngsIHBvaW50LnkpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRlbXBQb2x5Z29uLnBvaW50cztcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9ICB0aGlzLmdlb21ldHJ5LmdldEluZGV4KCkuZGF0YTtcbiAgICAgICAgY29uc3QgbGVuID0gaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSB0aGlzLmRyYXdNb2RlID09PSA0ID8gMyA6IDE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgKyAyIDwgbGVuOyBpICs9IHN0ZXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZDAgPSBpbmRpY2VzW2ldICogMjtcbiAgICAgICAgICAgIGNvbnN0IGluZDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICBjb25zdCBpbmQyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuXG4gICAgICAgICAgICBwb2ludHNbMF0gPSB2ZXJ0aWNlc1tpbmQwXTtcbiAgICAgICAgICAgIHBvaW50c1sxXSA9IHZlcnRpY2VzW2luZDAgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHZlcnRpY2VzW2luZDFdO1xuICAgICAgICAgICAgcG9pbnRzWzNdID0gdmVydGljZXNbaW5kMSArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzRdID0gdmVydGljZXNbaW5kMl07XG4gICAgICAgICAgICBwb2ludHNbNV0gPSB2ZXJ0aWNlc1tpbmQyICsgMV07XG5cbiAgICAgICAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgTWVzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICovXG4gICAgZGVzdHJveShvcHRpb25zKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LnJlZkNvdW50LS07XG4gICAgICAgIGlmICh0aGlzLmdlb21ldHJ5LnJlZkNvdW50ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB2ZXJ0aWNlcyB0byBjb25zaWRlciBiYXRjaGFibGUuIEdlbmVyYWxseSwgdGhlIGNvbXBsZXhpdHlcbiAqIG9mIHRoZSBnZW9tZXRyeS5cbiAqIEBtZW1iZXJvZiBQSVhJLk1lc2hcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge251bWJlcn0gQkFUQ0hBQkxFX1NJWkVcbiAqL1xuTWVzaC5CQVRDSEFCTEVfU0laRSA9IDEwMDtcbiIsImltcG9ydCB7IFNoYWRlciwgUHJvZ3JhbSwgVGV4dHVyZU1hdHJpeCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL3NoYWRlci9tZXNoLnZlcnQnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vc2hhZGVyL21lc2guZnJhZyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHByZW11bHRpcGx5VGludFRvUmdiYSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBTbGlnaHRseSBvcGluaW9uYXRlZCBkZWZhdWx0IHNoYWRlciBmb3IgUGl4aUpTIDJEIG9iamVjdHMuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNoTWF0ZXJpYWwgZXh0ZW5kcyBTaGFkZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdVNhbXBsZXIgLSBUZXh0dXJlIHRoYXQgbWF0ZXJpYWwgdXNlcyB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIERlZmF1bHQgYWxwaGEuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbnQ9MHhGRkZGRkZdIC0gRGVmYXVsdCB0aW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wbHVnaW5OYW1lPSdiYXRjaCddIC0gUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gW29wdGlvbnMucHJvZ3JhbT0weEZGRkZGRl0gLSBDdXN0b20gcHJvZ3JhbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMudW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHVTYW1wbGVyLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB1U2FtcGxlcixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgdVRleHR1cmVNYXRyaXg6IE1hdHJpeC5JREVOVElUWSxcbiAgICAgICAgICAgIHVDb2xvcjogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgcGx1Z2luTmFtZTogJ2JhdGNoJyxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudW5pZm9ybXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odW5pZm9ybXMsIG9wdGlvbnMudW5pZm9ybXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIob3B0aW9ucy5wcm9ncmFtIHx8IFByb2dyYW0uZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50KSwgdW5pZm9ybXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbmx5IGRvIHVwZGF0ZSBpZiB0aW50IG9yIGFscGhhIGNoYW5nZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmVNYXRyaXggaW5zdGFuY2UgZm9yIHRoaXMgTWVzaCwgdXNlZCB0byB0cmFjayBUZXh0dXJlIGNoYW5nZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh1U2FtcGxlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBzaGFkZXIgY2FuIGJlIGJhdGNoIHdpdGggdGhlIHJlbmRlcmVyJ3MgYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IG9wdGlvbnMucHJvZ3JhbSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gb3B0aW9ucy5wbHVnaW5OYW1lO1xuXG4gICAgICAgIHRoaXMudGludCA9IG9wdGlvbnMudGludDtcbiAgICAgICAgdGhpcy5hbHBoYSA9IG9wdGlvbnMuYWxwaGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIGJlaW5nIHJlbmRlcmVkLlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBnZXQgdGV4dHVyZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2FtcGxlcjtcbiAgICB9XG4gICAgc2V0IHRleHR1cmUodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy51bmlmb3Jtcy51U2FtcGxlciAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNhbXBsZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBnZXRzIGF1dG9tYXRpY2FsbHkgc2V0IGJ5IHRoZSBvYmplY3QgdXNpbmcgdGhpcy5cbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgc2V0IGFscGhhKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl9hbHBoYSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX2FscGhhID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICBnZXQgYWxwaGEoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FscGhhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRpbnQgZm9yIHRoZSBtYXRlcmlhbC5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBzZXQgdGludCh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fdGludCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgfVxuICAgIGdldCB0aW50KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlIE1lc2guIEludGVuZGVkIHRvIGJlIG92ZXJyaWRkZW4gZm9yIGN1c3RvbVxuICAgICAqIE1lc2hNYXRlcmlhbCBvYmplY3RzLlxuICAgICAqL1xuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fY29sb3JEaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSB0aGlzLnRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHByZW11bHRpcGx5VGludFRvUmdiYSh0aGlzLl90aW50LCB0aGlzLl9hbHBoYSwgdGhpcy51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnV2TWF0cml4LnVwZGF0ZSgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVUZXh0dXJlTWF0cml4ID0gdGhpcy51dk1hdHJpeC5tYXBDb29yZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEJ1ZmZlciwgR2VvbWV0cnkgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyoqXG4gKiBTdGFuZGFyZCAyRCBnZW9tZXRyeSB1c2VkIGluIFBpeGlKUy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pO1xuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNoR2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSB2ZXJ0aWNlcyAtIFBvc2l0aW9uYWwgZGF0YSBvbiBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gdXZzIC0gVGV4dHVyZSBVVnMuXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheXxudW1iZXJbXX0gaW5kZXggLSBJbmRleEJ1ZmZlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZlcnRpY2VzLCB1dnMsIGluZGV4KVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBjb25zdCB2ZXJ0aWNlc0J1ZmZlciA9IG5ldyBCdWZmZXIodmVydGljZXMpO1xuICAgICAgICBjb25zdCB1dnNCdWZmZXIgPSBuZXcgQnVmZmVyKHV2cywgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihpbmRleCwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHZlcnRpY2VzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgdXZzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgoaW5kZXhCdWZmZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXJ0eSBmbGFnIHRvIGxpbWl0IHVwZGF0ZSBjYWxscyBvbiBNZXNoLiBGb3IgZXhhbXBsZSxcbiAgICAgICAgICogbGltaXRpbmcgdXBkYXRlcyBvbiBhIHNpbmdsZSBNZXNoIGluc3RhbmNlIHdpdGggYSBzaGFyZWQgR2VvbWV0cnlcbiAgICAgICAgICogd2l0aGluIHRoZSByZW5kZXIgbG9vcC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSWQgPSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdmVydGV4IHBvc2l0aW9uIGlzIHVwZGF0ZWQuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0IHZlcnRleERpcnR5SWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1swXS5fdXBkYXRlSUQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWVzaEdlb21ldHJ5IH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYW5lR2VvbWV0cnkgZXh0ZW5kcyBNZXNoR2VvbWV0cnlcbntcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDEwMCwgaGVpZ2h0ID0gMTAwLCBzZWdXaWR0aCA9IDEwLCBzZWdIZWlnaHQgPSAxMClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5zZWdXaWR0aCA9IHNlZ1dpZHRoO1xuICAgICAgICB0aGlzLnNlZ0hlaWdodCA9IHNlZ0hlaWdodDtcblxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuYnVpbGQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgcGxhbmUgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGJ1aWxkKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy5zZWdXaWR0aCAqIHRoaXMuc2VnSGVpZ2h0O1xuICAgICAgICBjb25zdCB2ZXJ0cyA9IFtdO1xuICAgICAgICBjb25zdCB1dnMgPSBbXTtcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHNlZ21lbnRzWCA9IHRoaXMuc2VnV2lkdGggLSAxO1xuICAgICAgICBjb25zdCBzZWdtZW50c1kgPSB0aGlzLnNlZ0hlaWdodCAtIDE7XG5cbiAgICAgICAgY29uc3Qgc2l6ZVggPSAodGhpcy53aWR0aCkgLyBzZWdtZW50c1g7XG4gICAgICAgIGNvbnN0IHNpemVZID0gKHRoaXMuaGVpZ2h0KSAvIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSAoaSAlIHRoaXMuc2VnV2lkdGgpO1xuICAgICAgICAgICAgY29uc3QgeSA9ICgoaSAvIHRoaXMuc2VnV2lkdGgpIHwgMCk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCAqIHNpemVYLCB5ICogc2l6ZVkpO1xuICAgICAgICAgICAgdXZzLnB1c2goeCAvIHNlZ21lbnRzWCwgeSAvIHNlZ21lbnRzWSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b3RhbFN1YiA9IHNlZ21lbnRzWCAqIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsU3ViOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHhwb3MgPSBpICUgc2VnbWVudHNYO1xuICAgICAgICAgICAgY29uc3QgeXBvcyA9IChpIC8gc2VnbWVudHNYKSB8IDA7XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gKHlwb3MgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3M7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZTIgPSAoeXBvcyAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZTMgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcztcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlNCA9ICgoeXBvcyArIDEpICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zICsgMTtcblxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZhbHVlLCB2YWx1ZTIsIHZhbHVlMyxcbiAgICAgICAgICAgICAgICB2YWx1ZTIsIHZhbHVlNCwgdmFsdWUzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgICAgIHRoaXMuYnVmZmVyc1sxXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh1dnMpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoaW5kaWNlcyk7XG5cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5idWZmZXJzWzFdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJ0BwaXhpL21lc2gnO1xuLyoqXG4gKiBSb3BlR2VvbWV0cnkgYWxsb3dzIHlvdSB0byBkcmF3IGEgZ2VvbWV0cnkgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzLlxuICpcbiAqIGBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBjb25zdCByb3BlID0gbmV3IFBJWEkuUm9wZUdlb21ldHJ5KDEwMCwgcG9pbnRzKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb3BlR2VvbWV0cnkgZXh0ZW5kcyBNZXNoR2VvbWV0cnlcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTIwMF0gLSBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IFtwb2ludHNdIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuUG9pbnR9IG9iamVjdHMgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDIwMCwgcG9pbnRzKVxuICAgIHtcbiAgICAgICAgc3VwZXIobmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksXG4gICAgICAgICAgICBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KSxcbiAgICAgICAgICAgIG5ldyBVaW50MTZBcnJheSgocG9pbnRzLmxlbmd0aCAtIDEpICogNikpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdGhhdCBkZXRlcm1pbmUgdGhlIHJvcGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAoaS5lLiwgdGhpY2tuZXNzKSBvZiB0aGUgcm9wZS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICAgICAgICB0aGlzLmJ1aWxkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBSb3BlIGluZGljZXMgYW5kIHV2c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYnVpbGQoKVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgaWYgKCFwb2ludHMpIHJldHVybjtcblxuICAgICAgICBjb25zdCB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG4gICAgICAgIGNvbnN0IHV2QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgY29uc3QgaW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4KCk7XG5cbiAgICAgICAgLy8gaWYgdG9vIGxpdHRsZSBwb2ludHMsIG9yIHRleHR1cmUgaGFzbid0IGdvdCBVVnMgc2V0IHlldCBqdXN0IG1vdmUgb24uXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIG51bWJlciBvZiBwb2ludHMgaGFzIGNoYW5nZWQgd2Ugd2lsbCBuZWVkIHRvIHJlY3JlYXRlIHRoZSBhcnJheWJ1ZmZlcnNcbiAgICAgICAgaWYgKHZlcnRleEJ1ZmZlci5kYXRhLmxlbmd0aCAvIDQgIT09IHBvaW50cy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICB1dkJ1ZmZlci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KChwb2ludHMubGVuZ3RoIC0gMSkgKiA2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHV2cyA9IHV2QnVmZmVyLmRhdGE7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBpbmRleEJ1ZmZlci5kYXRhO1xuXG4gICAgICAgIHV2c1swXSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IDA7XG4gICAgICAgIHV2c1syXSA9IDA7XG4gICAgICAgIHV2c1szXSA9IDE7XG5cbiAgICAgICAgLy8gaW5kaWNlc1swXSA9IDA7XG4gICAgICAgIC8vIGluZGljZXNbMV0gPSAxO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsID0gcG9pbnRzLmxlbmd0aDsgLy8gLSAxO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGltZSB0byBkbyBzb21lIHNtYXJ0IGRyYXdpbmchXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gaSAvICh0b3RhbCAtIDEpO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXhdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMV0gPSAwO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXggKyAyXSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDNdID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbmRleENvdW50ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsIC0gMTsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGkgKiAyO1xuXG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleDtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMjtcblxuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHV2QnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVmcmVzaGVzIHZlcnRpY2VzIG9mIFJvcGUgbWVzaFxuICAgICAqL1xuICAgIHVwZGF0ZVZlcnRpY2VzKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxhc3RQb2ludCA9IHBvaW50c1swXTtcbiAgICAgICAgbGV0IG5leHRQb2ludDtcbiAgICAgICAgbGV0IHBlcnBYID0gMDtcbiAgICAgICAgbGV0IHBlcnBZID0gMDtcblxuICAgICAgICAvLyB0aGlzLmNvdW50IC09IDAuMjtcblxuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICBjb25zdCB0b3RhbCA9IHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaSAqIDQ7XG5cbiAgICAgICAgICAgIGlmIChpIDwgcG9pbnRzLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGVycFkgPSAtKG5leHRQb2ludC54IC0gbGFzdFBvaW50LngpO1xuICAgICAgICAgICAgcGVycFggPSBuZXh0UG9pbnQueSAtIGxhc3RQb2ludC55O1xuXG4gICAgICAgICAgICBsZXQgcmF0aW8gPSAoMSAtIChpIC8gKHRvdGFsIC0gMSkpKSAqIDEwO1xuXG4gICAgICAgICAgICBpZiAocmF0aW8gPiAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJhdGlvID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcGVycExlbmd0aCA9IE1hdGguc3FydCgocGVycFggKiBwZXJwWCkgKyAocGVycFkgKiBwZXJwWSkpO1xuICAgICAgICAgICAgY29uc3QgbnVtID0gdGhpcy53aWR0aCAvIDI7IC8vICgyMCArIE1hdGguYWJzKE1hdGguc2luKChpICsgdGhpcy5jb3VudCkgKiAwLjMpICogNTApICkqIHJhdGlvO1xuXG4gICAgICAgICAgICBwZXJwWCAvPSBwZXJwTGVuZ3RoO1xuICAgICAgICAgICAgcGVycFkgLz0gcGVycExlbmd0aDtcblxuICAgICAgICAgICAgcGVycFggKj0gbnVtO1xuICAgICAgICAgICAgcGVycFkgKj0gbnVtO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleF0gPSBwb2ludC54ICsgcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDFdID0gcG9pbnQueSArIHBlcnBZO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAyXSA9IHBvaW50LnggLSBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgM10gPSBwb2ludC55IC0gcGVycFk7XG5cbiAgICAgICAgICAgIGxhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWVzaCwgTWVzaE1hdGVyaWFsIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgUm9wZUdlb21ldHJ5IGZyb20gJy4vZ2VvbWV0cnkvUm9wZUdlb21ldHJ5JztcblxuLyoqXG4gKiBUaGUgcm9wZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCByb3BlID0gbmV3IFBJWEkuU2ltcGxlUm9wZShQSVhJLlRleHR1cmUuZnJvbShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZVJvcGUgZXh0ZW5kcyBNZXNoXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IHBvaW50cyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dHVyZSwgcG9pbnRzKVxuICAgIHtcbiAgICAgICAgY29uc3Qgcm9wZUdlb21ldHJ5ID0gbmV3IFJvcGVHZW9tZXRyeSh0ZXh0dXJlLmhlaWdodCwgcG9pbnRzKTtcbiAgICAgICAgY29uc3QgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbCh0ZXh0dXJlKTtcblxuICAgICAgICBzdXBlcihyb3BlR2VvbWV0cnksIG1lc2hNYXRlcmlhbCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlLWNhbGN1bGF0ZSB2ZXJ0aWNlcyBieSByb3BlIHBvaW50cyBlYWNoIGZyYW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIF9yZW5kZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlXG4gICAgICAgICAgICB8fCB0aGlzLmdlb21ldHJ5LndpZHRoICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS53aWR0aCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1lc2gsIE1lc2hNYXRlcmlhbCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IFBsYW5lR2VvbWV0cnkgZnJvbSAnLi9nZW9tZXRyeS9QbGFuZUdlb21ldHJ5JztcblxuLyoqXG4gKiBUaGUgU2ltcGxlUGxhbmUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgU2ltcGxlUGxhbmUgPSBuZXcgUElYSS5TaW1wbGVQbGFuZShQSVhJLlRleHR1cmUuZnJvbShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZVBsYW5lIGV4dGVuZHMgTWVzaFxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBTaW1wbGVQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVydGljZXNYIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeC1heGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2VzWSAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHktYXhpc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUsIHZlcnRpY2VzWCwgdmVydGljZXNZKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGxhbmVHZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSk7XG4gICAgICAgIGNvbnN0IG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwoVGV4dHVyZS5XSElURSk7XG5cbiAgICAgICAgc3VwZXIocGxhbmVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKTtcblxuICAgICAgICAvLyBsZXRzIGNhbGwgdGhlIHNldHRlciB0byBlbnN1cmUgYWxsIG5lY2Vzc2FyeSB1cGRhdGVzIGFyZSBwZXJmb3JtZWRcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCBmb3Igb3ZlcnJpZGVzLCB0byBkbyBzb21ldGhpbmcgaW4gY2FzZSB0ZXh0dXJlIGZyYW1lIHdhcyBjaGFuZ2VkLlxuICAgICAqIE1lc2hlcyBiYXNlZCBvbiBwbGFuZSBjYW4gb3ZlcnJpZGUgaXQgYW5kIGNoYW5nZSBtb3JlIGRldGFpbHMgYmFzZWQgb24gdGV4dHVyZS5cbiAgICAgKi9cbiAgICB0ZXh0dXJlVXBkYXRlZCgpXG4gICAge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LndpZHRoID0gdGhpcy5zaGFkZXIudGV4dHVyZS53aWR0aDtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5oZWlnaHQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1aWxkKCk7XG4gICAgfVxuXG4gICAgc2V0IHRleHR1cmUodmFsdWUpXG4gICAge1xuICAgICAgICAvLyBUcmFjayB0ZXh0dXJlIHNhbWUgd2F5IHNwcml0ZSBkb2VzLlxuICAgICAgICAvLyBGb3IgZ2VuZXJhdGVkIG1lc2hlcyBsaWtlIE5pbmVTbGljZVBsYW5lIGl0IGNhbiBjaGFuZ2UgdGhlIGdlb21ldHJ5LlxuICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCB0aGlzIG1ldGhvZCBtaWdodCBub3Qgd29yayBpZiB5b3UgZGlyZWN0bHkgY2hhbmdlIHRleHR1cmUgaW4gbWF0ZXJpYWwuXG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyLnRleHR1cmUgPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuXG4gICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy50ZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgdGV4dHVyZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIudGV4dHVyZTtcbiAgICB9XG5cbiAgICBfcmVuZGVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1lc2gsIE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogVGhlIFNpbXBsZSBNZXNoIGNsYXNzIG1pbWljcyBNZXNoIGluIFBpeGlKUyB2NCwgcHJvdmlkaW5nIGVhc3ktdG8tdXNlIGNvbnN0cnVjdG9yIGFyZ3VtZW50cy5cbiAqIEZvciBtb3JlIHJvYnVzdCBjdXN0b21pemF0aW9uLCB1c2Uge0BsaW5rIFBJWEkuTWVzaH0uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZU1lc2ggZXh0ZW5kcyBNZXNoXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlPVRleHR1cmUuRU1QVFldIC0gVGhlIHRleHR1cmUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt2ZXJ0aWNlc10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdXZzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHV2c1xuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IFtpbmRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGluZGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RyYXdNb2RlXSAtIHRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUgTWVzaC5EUkFXX01PREVTIGNvbnN0c1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUgPSBUZXh0dXJlLkVNUFRZLCB2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzLCBkcmF3TW9kZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSh2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzKTtcblxuICAgICAgICBnZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLnN0YXRpYyA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG5cbiAgICAgICAgc3VwZXIoZ2VvbWV0cnksIG1lc2hNYXRlcmlhbCwgbnVsbCwgZHJhd01vZGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1cGxvYWQgdmVydGljZXMgYnVmZmVyIGVhY2ggZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiB2ZXJ0aWNlcyBkYXRhLlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICBnZXQgdmVydGljZXMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgIH1cbiAgICBzZXQgdmVydGljZXModmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgIH1cblxuICAgIF9yZW5kZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgU2ltcGxlUGxhbmUgZnJvbSAnLi9TaW1wbGVQbGFuZSc7XG5cbmNvbnN0IERFRkFVTFRfQk9SREVSX1NJWkUgPSAxMDtcblxuLyoqXG4gKiBUaGUgTmluZVNsaWNlUGxhbmUgYWxsb3dzIHlvdSB0byBzdHJldGNoIGEgdGV4dHVyZSB1c2luZyA5LXNsaWNlIHNjYWxpbmcuIFRoZSBjb3JuZXJzIHdpbGwgcmVtYWluIHVuc2NhbGVkICh1c2VmdWxcbiAqIGZvciBidXR0b25zIHdpdGggcm91bmRlZCBjb3JuZXJzIGZvciBleGFtcGxlKSBhbmQgdGhlIG90aGVyIGFyZWFzIHdpbGwgYmUgc2NhbGVkIGhvcml6b250YWxseSBhbmQgb3IgdmVydGljYWxseVxuICpcbiAqYGBganNcbiAqIGxldCBQbGFuZTkgPSBuZXcgUElYSS5OaW5lU2xpY2VQbGFuZShQSVhJLlRleHR1cmUuZnJvbSgnQm94V2l0aFJvdW5kZWRDb3JuZXJzLnBuZycpLCAxNSwgMTUsIDE1LCAxNSk7XG4gKiAgYGBgXG4gKiA8cHJlPlxuICogICAgICBBICAgICAgICAgICAgICAgICAgICAgICAgICBCXG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEMgfCAxIHwgICAgICAgICAgMiAgICAgICAgICAgfCAzIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgfCA0IHwgICAgICAgICAgNSAgICAgICAgICAgfCA2IHxcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEQgfCA3IHwgICAgICAgICAgOCAgICAgICAgICAgfCA5IHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG5cbiAqICBXaGVuIGNoYW5naW5nIHRoaXMgb2JqZWN0cyB3aWR0aCBhbmQvb3IgaGVpZ2h0OlxuICogICAgIGFyZWFzIDEgMyA3IGFuZCA5IHdpbGwgcmVtYWluIHVuc2NhbGVkLlxuICogICAgIGFyZWFzIDIgYW5kIDggd2lsbCBiZSBzdHJldGNoZWQgaG9yaXpvbnRhbGx5XG4gKiAgICAgYXJlYXMgNCBhbmQgNiB3aWxsIGJlIHN0cmV0Y2hlZCB2ZXJ0aWNhbGx5XG4gKiAgICAgYXJlYSA1IHdpbGwgYmUgc3RyZXRjaGVkIGJvdGggaG9yaXpvbnRhbGx5IGFuZCB2ZXJ0aWNhbGx5XG4gKiA8L3ByZT5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU2ltcGxlUGxhbmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOaW5lU2xpY2VQbGFuZSBleHRlbmRzIFNpbXBsZVBsYW5lXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIE5pbmVTbGljZVBsYW5lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVmdFdpZHRoPTEwXSBzaXplIG9mIHRoZSBsZWZ0IHZlcnRpY2FsIGJhciAoQSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RvcEhlaWdodD0xMF0gc2l6ZSBvZiB0aGUgdG9wIGhvcml6b250YWwgYmFyIChDKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmlnaHRXaWR0aD0xMF0gc2l6ZSBvZiB0aGUgcmlnaHQgdmVydGljYWwgYmFyIChCKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYm90dG9tSGVpZ2h0PTEwXSBzaXplIG9mIHRoZSBib3R0b20gaG9yaXpvbnRhbCBiYXIgKEQpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dHVyZSwgbGVmdFdpZHRoLCB0b3BIZWlnaHQsIHJpZ2h0V2lkdGgsIGJvdHRvbUhlaWdodClcbiAgICB7XG4gICAgICAgIHN1cGVyKFRleHR1cmUuV0hJVEUsIDQsIDQpO1xuXG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGggPSB0aGlzLl9vcmlnV2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHRoaXMuX29yaWdIZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW4gKGEpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHR5cGVvZiBsZWZ0V2lkdGggIT09ICd1bmRlZmluZWQnID8gbGVmdFdpZHRoIDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW4gKGIpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB0eXBlb2YgcmlnaHRXaWR0aCAhPT0gJ3VuZGVmaW5lZCcgPyByaWdodFdpZHRoIDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvdyAoYylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdG9wSGVpZ2h0ID0gdHlwZW9mIHRvcEhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgPyB0b3BIZWlnaHQgOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93IChkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB0eXBlb2YgYm90dG9tSGVpZ2h0ICE9PSAndW5kZWZpbmVkJyA/IGJvdHRvbUhlaWdodCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLy8gbGV0cyBjYWxsIHRoZSBzZXR0ZXIgdG8gZW5zdXJlIGFsbCBuZWNlc3NhcnkgdXBkYXRlcyBhcmUgcGVyZm9ybWVkXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgfVxuXG4gICAgdGV4dHVyZVVwZGF0ZWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICBnZXQgdmVydGljZXMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgIH1cblxuICAgIHNldCB2ZXJ0aWNlcyh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaG9yaXpvbnRhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuICAgIHVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpXG4gICAge1xuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG5cbiAgICAgICAgY29uc3QgaCA9IHRoaXMuX3RvcEhlaWdodCArIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLl9oZWlnaHQgPiBoID8gMS4wIDogdGhpcy5faGVpZ2h0IC8gaDtcblxuICAgICAgICB2ZXJ0aWNlc1s5XSA9IHZlcnRpY2VzWzExXSA9IHZlcnRpY2VzWzEzXSA9IHZlcnRpY2VzWzE1XSA9IHRoaXMuX3RvcEhlaWdodCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1sxN10gPSB2ZXJ0aWNlc1sxOV0gPSB2ZXJ0aWNlc1syMV0gPSB2ZXJ0aWNlc1syM10gPSB0aGlzLl9oZWlnaHQgLSAodGhpcy5fYm90dG9tSGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1syNV0gPSB2ZXJ0aWNlc1syN10gPSB2ZXJ0aWNlc1syOV0gPSB2ZXJ0aWNlc1szMV0gPSB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmVydGljYWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICB1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgICAgICBjb25zdCB3ID0gdGhpcy5fbGVmdFdpZHRoICsgdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLl93aWR0aCA+IHcgPyAxLjAgOiB0aGlzLl93aWR0aCAvIHc7XG5cbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1sxMF0gPSB2ZXJ0aWNlc1sxOF0gPSB2ZXJ0aWNlc1syNl0gPSB0aGlzLl9sZWZ0V2lkdGggKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbNF0gPSB2ZXJ0aWNlc1sxMl0gPSB2ZXJ0aWNlc1syMF0gPSB2ZXJ0aWNlc1syOF0gPSB0aGlzLl93aWR0aCAtICh0aGlzLl9yaWdodFdpZHRoICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1s2XSA9IHZlcnRpY2VzWzE0XSA9IHZlcnRpY2VzWzIyXSA9IHZlcnRpY2VzWzMwXSA9IHRoaXMuX3dpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgfVxuXG4gICAgc2V0IHdpZHRoKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgIH1cblxuICAgIHNldCBoZWlnaHQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGxlZnRXaWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGVmdFdpZHRoO1xuICAgIH1cblxuICAgIHNldCBsZWZ0V2lkdGgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fbGVmdFdpZHRoID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByaWdodFdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICAgIH1cblxuICAgIHNldCByaWdodFdpZHRoKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3dcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgdG9wSGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IHRvcEhlaWdodCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl90b3BIZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3dcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgYm90dG9tSGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IGJvdHRvbUhlaWdodCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBOaW5lU2xpY2VQbGFuZSBjb29yZHMuIEFsbCBvZiB0aGVtLlxuICAgICAqL1xuICAgIF9yZWZyZXNoKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG5cbiAgICAgICAgY29uc3QgdXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLmRhdGE7XG5cbiAgICAgICAgdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcblxuICAgICAgICBjb25zdCBfdXZ3ID0gMS4wIC8gdGhpcy5fb3JpZ1dpZHRoO1xuICAgICAgICBjb25zdCBfdXZoID0gMS4wIC8gdGhpcy5fb3JpZ0hlaWdodDtcblxuICAgICAgICB1dnNbMF0gPSB1dnNbOF0gPSB1dnNbMTZdID0gdXZzWzI0XSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgICAgIHV2c1syNV0gPSB1dnNbMjddID0gdXZzWzI5XSA9IHV2c1szMV0gPSAxO1xuXG4gICAgICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSAoX3V2dyAqIHRoaXMuX3JpZ2h0V2lkdGgpO1xuICAgICAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIChfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMoKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuXG4vKipcbiAqIEFuIEFuaW1hdGVkU3ByaXRlIGlzIGEgc2ltcGxlIHdheSB0byBkaXNwbGF5IGFuIGFuaW1hdGlvbiBkZXBpY3RlZCBieSBhIGxpc3Qgb2YgdGV4dHVyZXMuXG4gKlxuICogYGBganNcbiAqIGxldCBhbGllbkltYWdlcyA9IFtcImltYWdlX3NlcXVlbmNlXzAxLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDIucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMy5wbmdcIixcImltYWdlX3NlcXVlbmNlXzA0LnBuZ1wiXTtcbiAqIGxldCB0ZXh0dXJlQXJyYXkgPSBbXTtcbiAqXG4gKiBmb3IgKGxldCBpPTA7IGkgPCA0OyBpKyspXG4gKiB7XG4gKiAgICAgIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oYWxpZW5JbWFnZXNbaV0pO1xuICogICAgICB0ZXh0dXJlQXJyYXkucHVzaCh0ZXh0dXJlKTtcbiAqIH07XG4gKlxuICogbGV0IGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUodGV4dHVyZUFycmF5KTtcbiAqIGBgYFxuICpcbiAqIFRoZSBtb3JlIGVmZmljaWVudCBhbmQgc2ltcGxlciB3YXkgdG8gY3JlYXRlIGFuIGFuaW1hdGVkIHNwcml0ZSBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fVxuICogY29udGFpbmluZyB0aGUgYW5pbWF0aW9uIGRlZmluaXRpb25zOlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgYW5pbWF0ZWRTcHJpdGUgPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZShzaGVldC5hbmltYXRpb25zW1wiaW1hZ2Vfc2VxdWVuY2VcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFuaW1hdGVkU3ByaXRlIGV4dGVuZHMgU3ByaXRlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmVbXXxQSVhJLkFuaW1hdGVkU3ByaXRlLkZyYW1lT2JqZWN0W119IHRleHR1cmVzIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuVGV4dHVyZX0gb3IgZnJhbWVcbiAgICAgKiAgb2JqZWN0cyB0aGF0IG1ha2UgdXAgdGhlIGFuaW1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvVXBkYXRlPXRydWVdIC0gV2hldGhlciB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmVzLCBhdXRvVXBkYXRlKVxuICAgIHtcbiAgICAgICAgc3VwZXIodGV4dHVyZXNbMF0gaW5zdGFuY2VvZiBUZXh0dXJlID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlc1swXS50ZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIHVzZXMgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IGF1dG9VcGRhdGUgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BlZWQgdGhhdCB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCBwbGF5IGF0LiBIaWdoZXIgaXMgZmFzdGVyLCBsb3dlciBpcyBzbG93ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmltYXRpb25TcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBhbmltYXRlIHNwcml0ZSByZXBlYXRzIGFmdGVyIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9vcCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBhbmNob3IgdG8gW1RleHR1cmUncyBkZWZhdWx0QW5jaG9yXXtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0gd2hlbiBmcmFtZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBVc2VmdWwgd2l0aCBbc3ByaXRlIHNoZWV0IGFuaW1hdGlvbnNde0BsaW5rIFBJWEkuU3ByaXRlc2hlZXQjYW5pbWF0aW9uc30gY3JlYXRlZCB3aXRoIHRvb2xzLlxuICAgICAgICAgKiBDaGFuZ2luZyBhbmNob3IgZm9yIGVhY2ggZnJhbWUgYWxsb3dzIHRvIHBpbiBzcHJpdGUgb3JpZ2luIHRvIGNlcnRhaW4gbW92aW5nIGZlYXR1cmVcbiAgICAgICAgICogb2YgdGhlIGZyYW1lIChlLmcuIGxlZnQgZm9vdCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGU6IEVuYWJsaW5nIHRoaXMgd2lsbCBvdmVycmlkZSBhbnkgcHJldmlvdXNseSBzZXQgYGFuY2hvcmAgb24gZWFjaCBmcmFtZSBjaGFuZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwZGF0ZUFuY2hvciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gYW4gQW5pbWF0ZWRTcHJpdGUgZmluaXNoZXMgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gYW4gQW5pbWF0ZWRTcHJpdGUgY2hhbmdlcyB3aGljaCB0ZXh0dXJlIGlzIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBgbG9vcGAgaXMgdHJ1ZSwgYW5kIGFuIEFuaW1hdGVkU3ByaXRlIGlzIHBsYXllZCBhbmQgbG9vcHMgYXJvdW5kIHRvIHN0YXJ0IGFnYWluLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Mb29wID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWxhcHNlZCB0aW1lIHNpbmNlIGFuaW1hdGlvbiBoYXMgYmVlbiBzdGFydGVkLCB1c2VkIGludGVybmFsbHkgdG8gZGlzcGxheSBjdXJyZW50IHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBBbmltYXRlZFNwcml0ZSBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBzdG9wKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5wbGF5aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBsYXlzIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIHBsYXkoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWluZylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuSElHSCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIEZyYW1lIGluZGV4IHRvIHN0b3AgYXQuXG4gICAgICovXG4gICAgZ290b0FuZFN0b3AoZnJhbWVOdW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICBjb25zdCBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcblxuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR29lcyB0byBhIHNwZWNpZmljIGZyYW1lIGFuZCBiZWdpbnMgcGxheWluZyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBGcmFtZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBnb3RvQW5kUGxheShmcmFtZU51bWJlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuXG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgKi9cbiAgICB1cGRhdGUoZGVsdGFUaW1lKVxuICAgIHtcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWU7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb25zICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbGFnID0gdGhpcy5fY3VycmVudFRpbWUgJSAxICogdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcblxuICAgICAgICAgICAgbGFnICs9IGVsYXBzZWQgLyA2MCAqIDEwMDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPCAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lLS07XG4gICAgICAgICAgICAgICAgbGFnICs9IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNpZ24gPSBNYXRoLnNpZ24odGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSk7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPj0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWcgLT0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSAqIHNpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gc2lnbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gbGFnIC8gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGVsYXBzZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY3VycmVudFRpbWUgPCAwICYmICF0aGlzLmxvb3ApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY3VycmVudFRpbWUgPj0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoICYmICF0aGlzLmxvb3ApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AodGhpcy5fdGV4dHVyZXMubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvb3AgJiYgdGhpcy5vbkxvb3ApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPiAwICYmIHRoaXMuY3VycmVudEZyYW1lIDwgcHJldmlvdXNGcmFtZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPCAwICYmIHRoaXMuY3VycmVudEZyYW1lID4gcHJldmlvdXNGcmFtZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBjdXJyZW50IGZyYW1lIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVUZXh0dXJlKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLl90ZXh0dXJlc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy51dnMgPSB0aGlzLl90ZXh0dXJlLl91dnMudXZzRmxvYXQzMjtcblxuICAgICAgICBpZiAodGhpcy51cGRhdGVBbmNob3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5KHRoaXMuX3RleHR1cmUuZGVmYXVsdEFuY2hvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vbkZyYW1lQ2hhbmdlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UodGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBkZXN0cm95cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gSWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsLlxuICAgICAqL1xuICAgIGRlc3Ryb3kob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25Mb29wID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGFuIEFuaW1hdGVkU3ByaXRlIGZyb20gYW4gYXJyYXkgb2YgZnJhbWUgaWRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGZyYW1lcyAtIFRoZSBhcnJheSBvZiBmcmFtZXMgaWRzIHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXMuXG4gICAgICogQHJldHVybiB7QW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZWQgc3ByaXRlIHdpdGggdGhlIHNwZWNpZmllZCBmcmFtZXMuXG4gICAgICovXG4gICAgc3RhdGljIGZyb21GcmFtZXMoZnJhbWVzKVxuICAgIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChUZXh0dXJlLmZyb20oZnJhbWVzW2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGFuIEFuaW1hdGVkU3ByaXRlIGZyb20gYW4gYXJyYXkgb2YgaW1hZ2UgaWRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGltYWdlcyAtIFRoZSBhcnJheSBvZiBpbWFnZSB1cmxzIHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXMuXG4gICAgICogQHJldHVybiB7QW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZSBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGltYWdlcyBhcyBmcmFtZXMuXG4gICAgICovXG4gICAgc3RhdGljIGZyb21JbWFnZXMoaW1hZ2VzKVxuICAgIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChUZXh0dXJlLmZyb20oaW1hZ2VzW2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgQW5pbWF0ZWRTcHJpdGUuIFRoaXMgaXMgdGhlIHNhbWUgYXMgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICogYXNzaWduZWQgdG8gdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBnZXQgdG90YWxGcmFtZXMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJyYXkgb2YgdGV4dHVyZXMgdXNlZCBmb3IgdGhpcyBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVtdfVxuICAgICAqL1xuICAgIGdldCB0ZXh0dXJlcygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXM7XG4gICAgfVxuXG4gICAgc2V0IHRleHR1cmVzKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZVswXSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzLnB1c2godmFsdWVbaV0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zLnB1c2godmFsdWVbaV0udGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBUaGUgQW5pbWF0ZWRTcHJpdGVzIGN1cnJlbnQgZnJhbWUgaW5kZXguXG4gICAgKlxuICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICogQHJlYWRvbmx5XG4gICAgKi9cbiAgICBnZXQgY3VycmVudEZyYW1lKClcbiAgICB7XG4gICAgICAgIGxldCBjdXJyZW50RnJhbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKSAlIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcblxuICAgICAgICBpZiAoY3VycmVudEZyYW1lIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgY3VycmVudEZyYW1lICs9IHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjdXJyZW50RnJhbWU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkFuaW1hdGVkU3ByaXRlXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGcmFtZU9iamVjdFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHtAbGluayBQSVhJLlRleHR1cmV9IG9mIHRoZSBmcmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWUgLSB0aGUgZHVyYXRpb24gb2YgdGhlIGZyYW1lIGluIG1zXG4gKi9cbiIsImltcG9ydCAnQHBpeGkvcG9seWZpbGwnO1xuXG5pbXBvcnQgKiBhcyBhY2Nlc3NpYmlsaXR5IGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuaW1wb3J0ICogYXMgZXh0cmFjdCBmcm9tICdAcGl4aS9leHRyYWN0JztcbmltcG9ydCAqIGFzIGludGVyYWN0aW9uIGZyb20gJ0BwaXhpL2ludGVyYWN0aW9uJztcbmltcG9ydCAqIGFzIHByZXBhcmUgZnJvbSAnQHBpeGkvcHJlcGFyZSc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBBcHBsaWNhdGlvbiB9IGZyb20gJ0BwaXhpL2FwcCc7XG5pbXBvcnQgeyBSZW5kZXJlciwgQmF0Y2hSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTG9hZGVyLCBBcHBMb2FkZXJQbHVnaW4gfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCB7IFBhcnRpY2xlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9wYXJ0aWNsZXMnO1xuaW1wb3J0IHsgU3ByaXRlc2hlZXRMb2FkZXIgfSBmcm9tICdAcGl4aS9zcHJpdGVzaGVldCc7XG5pbXBvcnQgeyBUaWxpbmdTcHJpdGVSZW5kZXJlciB9IGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuaW1wb3J0IHsgQml0bWFwRm9udExvYWRlciB9IGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmltcG9ydCB7IFRpY2tlclBsdWdpbiB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBBbHBoYUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1hbHBoYSc7XG5pbXBvcnQgeyBCbHVyRmlsdGVyLCBCbHVyRmlsdGVyUGFzcyB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ibHVyJztcbmltcG9ydCB7IENvbG9yTWF0cml4RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCc7XG5pbXBvcnQgeyBEaXNwbGFjZW1lbnRGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50JztcbmltcG9ydCB7IEZYQUFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItZnhhYSc7XG5pbXBvcnQgeyBOb2lzZUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ub2lzZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbic7XG5cbi8vIEV4cG9ydCBkZXByZWNhdGlvbnMgc28gUm9sbHVwIGNhbiBjYWxsIGl0XG4vLyBpbiB0aGUgZm9vdGVyIGFmdGVyIGdsb2JhbCBpcyBkZWZpbmVkXG4vLyBvdGhlciBtb2R1bGUgbXVzdCBjYWxsIHRoaXMgbWFudWFsbHlcbmltcG9ydCB1c2VEZXByZWNhdGVkIGZyb20gJy4vdXNlRGVwcmVjYXRlZCc7XG5cbi8vIEluc3RhbGwgcmVuZGVyZXIgcGx1Z2luc1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2FjY2Vzc2liaWxpdHknLCBhY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdleHRyYWN0JywgZXh0cmFjdC5FeHRyYWN0KTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIGludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigncGFydGljbGUnLCBQYXJ0aWNsZVJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwcmVwYXJlJywgcHJlcGFyZS5QcmVwYXJlKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdiYXRjaCcsIEJhdGNoUmVuZGVyZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3RpbGluZ1Nwcml0ZScsIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKTtcblxuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKEJpdG1hcEZvbnRMb2FkZXIpO1xuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKFNwcml0ZXNoZWV0TG9hZGVyKTtcblxuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oVGlja2VyUGx1Z2luKTtcbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKEFwcExvYWRlclBsdWdpbik7XG5cbi8qKlxuICogU3RyaW5nIG9mIHRoZSBjdXJyZW50IFBJWEkgdmVyc2lvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBWRVJTSU9OXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICdfX1ZFUlNJT05fXyc7XG5cbi8qKlxuICogQG5hbWVzcGFjZSBQSVhJXG4gKi9cblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBXZWJHTC1vbmx5IGRpc3BsYXkgZmlsdGVycyB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gKiB0byBEaXNwbGF5T2JqZWN0cyB1c2luZyB0aGUge0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNmaWx0ZXJzIGZpbHRlcnN9IHByb3BlcnR5LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzXG4gKiBjYW4gYmUgZG93bmxvYWRlZCB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGVcbiAqIFBpeGlKUyBGaWx0ZXJzIHJlcG9zaXRvcnkuXG4gKlxuICogQWxsIGZpbHRlcnMgbXVzdCBleHRlbmQge0BsaW5rIFBJWEkuRmlsdGVyfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIERyYXcgYSBncmVlbiByZWN0YW5nbGVcbiAqIGNvbnN0IHJlY3QgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweDAwZmYwMClcbiAqICAgICAuZHJhd1JlY3QoNDAsIDQwLCAyMDAsIDIwMCk7XG4gKlxuICogLy8gQWRkIGEgYmx1ciBmaWx0ZXJcbiAqIHJlY3QuZmlsdGVycyA9IFtuZXcgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIoKV07XG4gKlxuICogLy8gRGlzcGxheSByZWN0YW5nbGVcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChyZWN0KTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICogQG5hbWVzcGFjZSBQSVhJLmZpbHRlcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGZpbHRlcnMgPSB7XG4gICAgQWxwaGFGaWx0ZXIsXG4gICAgQmx1ckZpbHRlcixcbiAgICBCbHVyRmlsdGVyUGFzcyxcbiAgICBDb2xvck1hdHJpeEZpbHRlcixcbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIsXG4gICAgRlhBQUZpbHRlcixcbiAgICBOb2lzZUZpbHRlcixcbn07XG5cbi8vIEV4cG9ydCBFUyBmb3IgdGhvc2UgaW1wb3J0aW5nIHNwZWNpZmljYWxseSBieSBuYW1lLFxuZXhwb3J0ICogZnJvbSAnQHBpeGkvYXBwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb3JlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tYXRoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWVzaC1leHRyYXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvcGFydGljbGVzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3J1bm5lcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlLWFuaW1hdGVkJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90ZXh0LWJpdG1hcCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90aWNrZXInO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHtcbiAgICBhY2Nlc3NpYmlsaXR5LFxuICAgIGV4dHJhY3QsXG4gICAgaW50ZXJhY3Rpb24sXG4gICAgcHJlcGFyZSxcbiAgICB1dGlscyxcbiAgICB1c2VEZXByZWNhdGVkLFxufTtcbiIsIi8qXG4gKiBhbmltZS5qcyB2My4xLjBcbiAqIChjKSAyMDE5IEp1bGlhbiBHYXJuaWVyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGFuaW1lanMuY29tXG4gKi9cblxuIWZ1bmN0aW9uKG4sZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6bi5hbmltZT1lKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgbj17dXBkYXRlOm51bGwsYmVnaW46bnVsbCxsb29wQmVnaW46bnVsbCxjaGFuZ2VCZWdpbjpudWxsLGNoYW5nZTpudWxsLGNoYW5nZUNvbXBsZXRlOm51bGwsbG9vcENvbXBsZXRlOm51bGwsY29tcGxldGU6bnVsbCxsb29wOjEsZGlyZWN0aW9uOlwibm9ybWFsXCIsYXV0b3BsYXk6ITAsdGltZWxpbmVPZmZzZXQ6MH0sZT17ZHVyYXRpb246MWUzLGRlbGF5OjAsZW5kRGVsYXk6MCxlYXNpbmc6XCJlYXNlT3V0RWxhc3RpYygxLCAuNSlcIixyb3VuZDowfSxyPVtcInRyYW5zbGF0ZVhcIixcInRyYW5zbGF0ZVlcIixcInRyYW5zbGF0ZVpcIixcInJvdGF0ZVwiLFwicm90YXRlWFwiLFwicm90YXRlWVwiLFwicm90YXRlWlwiLFwic2NhbGVcIixcInNjYWxlWFwiLFwic2NhbGVZXCIsXCJzY2FsZVpcIixcInNrZXdcIixcInNrZXdYXCIsXCJza2V3WVwiLFwicGVyc3BlY3RpdmVcIl0sdD17Q1NTOnt9LHNwcmluZ3M6e319O2Z1bmN0aW9uIGEobixlLHIpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChuLGUpLHIpfWZ1bmN0aW9uIG8obixlKXtyZXR1cm4gbi5pbmRleE9mKGUpPi0xfWZ1bmN0aW9uIHUobixlKXtyZXR1cm4gbi5hcHBseShudWxsLGUpfXZhciBpPXthcnI6ZnVuY3Rpb24obil7cmV0dXJuIEFycmF5LmlzQXJyYXkobil9LG9iajpmdW5jdGlvbihuKXtyZXR1cm4gbyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobiksXCJPYmplY3RcIil9LHB0aDpmdW5jdGlvbihuKXtyZXR1cm4gaS5vYmoobikmJm4uaGFzT3duUHJvcGVydHkoXCJ0b3RhbExlbmd0aFwiKX0sc3ZnOmZ1bmN0aW9uKG4pe3JldHVybiBuIGluc3RhbmNlb2YgU1ZHRWxlbWVudH0saW5wOmZ1bmN0aW9uKG4pe3JldHVybiBuIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudH0sZG9tOmZ1bmN0aW9uKG4pe3JldHVybiBuLm5vZGVUeXBlfHxpLnN2ZyhuKX0sc3RyOmZ1bmN0aW9uKG4pe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBufSxmbmM6ZnVuY3Rpb24obil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbn0sdW5kOmZ1bmN0aW9uKG4pe3JldHVybiB2b2lkIDA9PT1ufSxoZXg6ZnVuY3Rpb24obil7cmV0dXJuLyheI1swLTlBLUZdezZ9JCl8KF4jWzAtOUEtRl17M30kKS9pLnRlc3Qobil9LHJnYjpmdW5jdGlvbihuKXtyZXR1cm4vXnJnYi8udGVzdChuKX0saHNsOmZ1bmN0aW9uKG4pe3JldHVybi9eaHNsLy50ZXN0KG4pfSxjb2w6ZnVuY3Rpb24obil7cmV0dXJuIGkuaGV4KG4pfHxpLnJnYihuKXx8aS5oc2wobil9LGtleTpmdW5jdGlvbihyKXtyZXR1cm4hbi5oYXNPd25Qcm9wZXJ0eShyKSYmIWUuaGFzT3duUHJvcGVydHkocikmJlwidGFyZ2V0c1wiIT09ciYmXCJrZXlmcmFtZXNcIiE9PXJ9fTtmdW5jdGlvbiBjKG4pe3ZhciBlPS9cXCgoW14pXSspXFwpLy5leGVjKG4pO3JldHVybiBlP2VbMV0uc3BsaXQoXCIsXCIpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gcGFyc2VGbG9hdChuKX0pOltdfWZ1bmN0aW9uIHMobixlKXt2YXIgcj1jKG4pLG89YShpLnVuZChyWzBdKT8xOnJbMF0sLjEsMTAwKSx1PWEoaS51bmQoclsxXSk/MTAwOnJbMV0sLjEsMTAwKSxzPWEoaS51bmQoclsyXSk/MTA6clsyXSwuMSwxMDApLGY9YShpLnVuZChyWzNdKT8wOnJbM10sLjEsMTAwKSxsPU1hdGguc3FydCh1L28pLGQ9cy8oMipNYXRoLnNxcnQodSpvKSkscD1kPDE/bCpNYXRoLnNxcnQoMS1kKmQpOjAsaD0xLHY9ZDwxPyhkKmwtZikvcDotZitsO2Z1bmN0aW9uIGcobil7dmFyIHI9ZT9lKm4vMWUzOm47cmV0dXJuIHI9ZDwxP01hdGguZXhwKC1yKmQqbCkqKGgqTWF0aC5jb3MocCpyKSt2Kk1hdGguc2luKHAqcikpOihoK3YqcikqTWF0aC5leHAoLXIqbCksMD09PW58fDE9PT1uP246MS1yfXJldHVybiBlP2c6ZnVuY3Rpb24oKXt2YXIgZT10LnNwcmluZ3Nbbl07aWYoZSlyZXR1cm4gZTtmb3IodmFyIHI9MCxhPTA7OylpZigxPT09ZyhyKz0xLzYpKXtpZigrK2E+PTE2KWJyZWFrfWVsc2UgYT0wO3ZhciBvPXIqKDEvNikqMWUzO3JldHVybiB0LnNwcmluZ3Nbbl09byxvfX1mdW5jdGlvbiBmKG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0xMCksZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgucm91bmQoZSpuKSooMS9uKX19dmFyIGwsZCxwPWZ1bmN0aW9uKCl7dmFyIG49MTEsZT0xLyhuLTEpO2Z1bmN0aW9uIHIobixlKXtyZXR1cm4gMS0zKmUrMypufWZ1bmN0aW9uIHQobixlKXtyZXR1cm4gMyplLTYqbn1mdW5jdGlvbiBhKG4pe3JldHVybiAzKm59ZnVuY3Rpb24gbyhuLGUsbyl7cmV0dXJuKChyKGUsbykqbit0KGUsbykpKm4rYShlKSkqbn1mdW5jdGlvbiB1KG4sZSxvKXtyZXR1cm4gMypyKGUsbykqbipuKzIqdChlLG8pKm4rYShlKX1yZXR1cm4gZnVuY3Rpb24ocix0LGEsaSl7aWYoMDw9ciYmcjw9MSYmMDw9YSYmYTw9MSl7dmFyIGM9bmV3IEZsb2F0MzJBcnJheShuKTtpZihyIT09dHx8YSE9PWkpZm9yKHZhciBzPTA7czxuOysrcyljW3NdPW8ocyplLHIsYSk7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiByPT09dCYmYT09PWk/bjowPT09bnx8MT09PW4/bjpvKGYobiksdCxpKX19ZnVuY3Rpb24gZih0KXtmb3IodmFyIGk9MCxzPTEsZj1uLTE7cyE9PWYmJmNbc108PXQ7KytzKWkrPWU7dmFyIGw9aSsodC1jWy0tc10pLyhjW3MrMV0tY1tzXSkqZSxkPXUobCxyLGEpO3JldHVybiBkPj0uMDAxP2Z1bmN0aW9uKG4sZSxyLHQpe2Zvcih2YXIgYT0wO2E8NDsrK2Epe3ZhciBpPXUoZSxyLHQpO2lmKDA9PT1pKXJldHVybiBlO2UtPShvKGUscix0KS1uKS9pfXJldHVybiBlfSh0LGwscixhKTowPT09ZD9sOmZ1bmN0aW9uKG4sZSxyLHQsYSl7Zm9yKHZhciB1LGksYz0wOyh1PW8oaT1lKyhyLWUpLzIsdCxhKS1uKT4wP3I9aTplPWksTWF0aC5hYnModSk+MWUtNyYmKytjPDEwOyk7cmV0dXJuIGl9KHQsaSxpK2UscixhKX19fSgpLGg9KGw9e2xpbmVhcjpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbn19fSxkPXtTaW5lOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiAxLU1hdGguY29zKG4qTWF0aC5QSS8yKX19LENpcmM6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtbipuKX19LEJhY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4qbiooMypuLTIpfX0sQm91bmNlOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2Zvcih2YXIgZSxyPTQ7bjwoKGU9TWF0aC5wb3coMiwtLXIpKS0xKS8xMTspO3JldHVybiAxL01hdGgucG93KDQsMy1yKS03LjU2MjUqTWF0aC5wb3coKDMqZS0yKS8yMi1uLDIpfX0sRWxhc3RpYzpmdW5jdGlvbihuLGUpe3ZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PWUmJihlPS41KTt2YXIgcj1hKG4sMSwxMCksdD1hKGUsLjEsMik7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiAwPT09bnx8MT09PW4/bjotcipNYXRoLnBvdygyLDEwKihuLTEpKSpNYXRoLnNpbigobi0xLXQvKDIqTWF0aC5QSSkqTWF0aC5hc2luKDEvcikpKigyKk1hdGguUEkpL3QpfX19LFtcIlF1YWRcIixcIkN1YmljXCIsXCJRdWFydFwiLFwiUXVpbnRcIixcIkV4cG9cIl0uZm9yRWFjaChmdW5jdGlvbihuLGUpe2Rbbl09ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIE1hdGgucG93KG4sZSsyKX19fSksT2JqZWN0LmtleXMoZCkuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgZT1kW25dO2xbXCJlYXNlSW5cIituXT1lLGxbXCJlYXNlT3V0XCIrbl09ZnVuY3Rpb24obixyKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIDEtZShuLHIpKDEtdCl9fSxsW1wiZWFzZUluT3V0XCIrbl09ZnVuY3Rpb24obixyKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/ZShuLHIpKDIqdCkvMjoxLWUobixyKSgtMip0KzIpLzJ9fX0pLGwpO2Z1bmN0aW9uIHYobixlKXtpZihpLmZuYyhuKSlyZXR1cm4gbjt2YXIgcj1uLnNwbGl0KFwiKFwiKVswXSx0PWhbcl0sYT1jKG4pO3N3aXRjaChyKXtjYXNlXCJzcHJpbmdcIjpyZXR1cm4gcyhuLGUpO2Nhc2VcImN1YmljQmV6aWVyXCI6cmV0dXJuIHUocCxhKTtjYXNlXCJzdGVwc1wiOnJldHVybiB1KGYsYSk7ZGVmYXVsdDpyZXR1cm4gdSh0LGEpfX1mdW5jdGlvbiBnKG4pe3RyeXtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChuKX1jYXRjaChuKXtyZXR1cm59fWZ1bmN0aW9uIG0obixlKXtmb3IodmFyIHI9bi5sZW5ndGgsdD1hcmd1bWVudHMubGVuZ3RoPj0yP2FyZ3VtZW50c1sxXTp2b2lkIDAsYT1bXSxvPTA7bzxyO28rKylpZihvIGluIG4pe3ZhciB1PW5bb107ZS5jYWxsKHQsdSxvLG4pJiZhLnB1c2godSl9cmV0dXJuIGF9ZnVuY3Rpb24geShuKXtyZXR1cm4gbi5yZWR1Y2UoZnVuY3Rpb24obixlKXtyZXR1cm4gbi5jb25jYXQoaS5hcnIoZSk/eShlKTplKX0sW10pfWZ1bmN0aW9uIGIobil7cmV0dXJuIGkuYXJyKG4pP246KGkuc3RyKG4pJiYobj1nKG4pfHxuKSxuIGluc3RhbmNlb2YgTm9kZUxpc3R8fG4gaW5zdGFuY2VvZiBIVE1MQ29sbGVjdGlvbj9bXS5zbGljZS5jYWxsKG4pOltuXSl9ZnVuY3Rpb24gTShuLGUpe3JldHVybiBuLnNvbWUoZnVuY3Rpb24obil7cmV0dXJuIG49PT1lfSl9ZnVuY3Rpb24geChuKXt2YXIgZT17fTtmb3IodmFyIHIgaW4gbillW3JdPW5bcl07cmV0dXJuIGV9ZnVuY3Rpb24gdyhuLGUpe3ZhciByPXgobik7Zm9yKHZhciB0IGluIG4pclt0XT1lLmhhc093blByb3BlcnR5KHQpP2VbdF06blt0XTtyZXR1cm4gcn1mdW5jdGlvbiBrKG4sZSl7dmFyIHI9eChuKTtmb3IodmFyIHQgaW4gZSlyW3RdPWkudW5kKG5bdF0pP2VbdF06blt0XTtyZXR1cm4gcn1mdW5jdGlvbiBPKG4pe3JldHVybiBpLnJnYihuKT8ocj0vcmdiXFwoKFxcZCssXFxzKltcXGRdKyxcXHMqW1xcZF0rKVxcKS9nLmV4ZWMoZT1uKSk/XCJyZ2JhKFwiK3JbMV0rXCIsMSlcIjplOmkuaGV4KG4pPyh0PW4ucmVwbGFjZSgvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pLGZ1bmN0aW9uKG4sZSxyLHQpe3JldHVybiBlK2UrcityK3QrdH0pLGE9L14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKHQpLFwicmdiYShcIitwYXJzZUludChhWzFdLDE2KStcIixcIitwYXJzZUludChhWzJdLDE2KStcIixcIitwYXJzZUludChhWzNdLDE2KStcIiwxKVwiKTppLmhzbChuKT9mdW5jdGlvbihuKXt2YXIgZSxyLHQsYT0vaHNsXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklXFwpL2cuZXhlYyhuKXx8L2hzbGFcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKVxcKS9nLmV4ZWMobiksbz1wYXJzZUludChhWzFdLDEwKS8zNjAsdT1wYXJzZUludChhWzJdLDEwKS8xMDAsaT1wYXJzZUludChhWzNdLDEwKS8xMDAsYz1hWzRdfHwxO2Z1bmN0aW9uIHMobixlLHIpe3JldHVybiByPDAmJihyKz0xKSxyPjEmJihyLT0xKSxyPDEvNj9uKzYqKGUtbikqcjpyPC41P2U6cjwyLzM/bisoZS1uKSooMi8zLXIpKjY6bn1pZigwPT11KWU9cj10PWk7ZWxzZXt2YXIgZj1pPC41P2kqKDErdSk6aSt1LWkqdSxsPTIqaS1mO2U9cyhsLGYsbysxLzMpLHI9cyhsLGYsbyksdD1zKGwsZixvLTEvMyl9cmV0dXJuXCJyZ2JhKFwiKzI1NSplK1wiLFwiKzI1NSpyK1wiLFwiKzI1NSp0K1wiLFwiK2MrXCIpXCJ9KG4pOnZvaWQgMDt2YXIgZSxyLHQsYX1mdW5jdGlvbiBDKG4pe3ZhciBlPS9bKy1dP1xcZCpcXC4/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPyglfHB4fHB0fGVtfHJlbXxpbnxjbXxtbXxleHxjaHxwY3x2d3x2aHx2bWlufHZtYXh8ZGVnfHJhZHx0dXJuKT8kLy5leGVjKG4pO2lmKGUpcmV0dXJuIGVbMV19ZnVuY3Rpb24gQihuLGUpe3JldHVybiBpLmZuYyhuKT9uKGUudGFyZ2V0LGUuaWQsZS50b3RhbCk6bn1mdW5jdGlvbiBQKG4sZSl7cmV0dXJuIG4uZ2V0QXR0cmlidXRlKGUpfWZ1bmN0aW9uIEkobixlLHIpe2lmKE0oW3IsXCJkZWdcIixcInJhZFwiLFwidHVyblwiXSxDKGUpKSlyZXR1cm4gZTt2YXIgYT10LkNTU1tlK3JdO2lmKCFpLnVuZChhKSlyZXR1cm4gYTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG4udGFnTmFtZSksdT1uLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZSE9PWRvY3VtZW50P24ucGFyZW50Tm9kZTpkb2N1bWVudC5ib2R5O3UuYXBwZW5kQ2hpbGQobyksby5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsby5zdHlsZS53aWR0aD0xMDArcjt2YXIgYz0xMDAvby5vZmZzZXRXaWR0aDt1LnJlbW92ZUNoaWxkKG8pO3ZhciBzPWMqcGFyc2VGbG9hdChlKTtyZXR1cm4gdC5DU1NbZStyXT1zLHN9ZnVuY3Rpb24gVChuLGUscil7aWYoZSBpbiBuLnN0eWxlKXt2YXIgdD1lLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpLGE9bi5zdHlsZVtlXXx8Z2V0Q29tcHV0ZWRTdHlsZShuKS5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxcIjBcIjtyZXR1cm4gcj9JKG4sYSxyKTphfX1mdW5jdGlvbiBEKG4sZSl7cmV0dXJuIGkuZG9tKG4pJiYhaS5pbnAobikmJihQKG4sZSl8fGkuc3ZnKG4pJiZuW2VdKT9cImF0dHJpYnV0ZVwiOmkuZG9tKG4pJiZNKHIsZSk/XCJ0cmFuc2Zvcm1cIjppLmRvbShuKSYmXCJ0cmFuc2Zvcm1cIiE9PWUmJlQobixlKT9cImNzc1wiOm51bGwhPW5bZV0/XCJvYmplY3RcIjp2b2lkIDB9ZnVuY3Rpb24gRShuKXtpZihpLmRvbShuKSl7Zm9yKHZhciBlLHI9bi5zdHlsZS50cmFuc2Zvcm18fFwiXCIsdD0vKFxcdyspXFwoKFteKV0qKVxcKS9nLGE9bmV3IE1hcDtlPXQuZXhlYyhyKTspYS5zZXQoZVsxXSxlWzJdKTtyZXR1cm4gYX19ZnVuY3Rpb24gRihuLGUscix0KXt2YXIgYSx1PW8oZSxcInNjYWxlXCIpPzE6MCsobyhhPWUsXCJ0cmFuc2xhdGVcIil8fFwicGVyc3BlY3RpdmVcIj09PWE/XCJweFwiOm8oYSxcInJvdGF0ZVwiKXx8byhhLFwic2tld1wiKT9cImRlZ1wiOnZvaWQgMCksaT1FKG4pLmdldChlKXx8dTtyZXR1cm4gciYmKHIudHJhbnNmb3Jtcy5saXN0LnNldChlLGkpLHIudHJhbnNmb3Jtcy5sYXN0PWUpLHQ/SShuLGksdCk6aX1mdW5jdGlvbiBOKG4sZSxyLHQpe3N3aXRjaChEKG4sZSkpe2Nhc2VcInRyYW5zZm9ybVwiOnJldHVybiBGKG4sZSx0LHIpO2Nhc2VcImNzc1wiOnJldHVybiBUKG4sZSxyKTtjYXNlXCJhdHRyaWJ1dGVcIjpyZXR1cm4gUChuLGUpO2RlZmF1bHQ6cmV0dXJuIG5bZV18fDB9fWZ1bmN0aW9uIEEobixlKXt2YXIgcj0vXihcXCo9fFxcKz18LT0pLy5leGVjKG4pO2lmKCFyKXJldHVybiBuO3ZhciB0PUMobil8fDAsYT1wYXJzZUZsb2F0KGUpLG89cGFyc2VGbG9hdChuLnJlcGxhY2UoclswXSxcIlwiKSk7c3dpdGNoKHJbMF1bMF0pe2Nhc2VcIitcIjpyZXR1cm4gYStvK3Q7Y2FzZVwiLVwiOnJldHVybiBhLW8rdDtjYXNlXCIqXCI6cmV0dXJuIGEqbyt0fX1mdW5jdGlvbiBMKG4sZSl7aWYoaS5jb2wobikpcmV0dXJuIE8obik7aWYoL1xccy9nLnRlc3QobikpcmV0dXJuIG47dmFyIHI9QyhuKSx0PXI/bi5zdWJzdHIoMCxuLmxlbmd0aC1yLmxlbmd0aCk6bjtyZXR1cm4gZT90K2U6dH1mdW5jdGlvbiBqKG4sZSl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhlLngtbi54LDIpK01hdGgucG93KGUueS1uLnksMikpfWZ1bmN0aW9uIFMobil7Zm9yKHZhciBlLHI9bi5wb2ludHMsdD0wLGE9MDthPHIubnVtYmVyT2ZJdGVtczthKyspe3ZhciBvPXIuZ2V0SXRlbShhKTthPjAmJih0Kz1qKGUsbykpLGU9b31yZXR1cm4gdH1mdW5jdGlvbiBxKG4pe2lmKG4uZ2V0VG90YWxMZW5ndGgpcmV0dXJuIG4uZ2V0VG90YWxMZW5ndGgoKTtzd2l0Y2gobi50YWdOYW1lLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImNpcmNsZVwiOnJldHVybiBvPW4sMipNYXRoLlBJKlAobyxcInJcIik7Y2FzZVwicmVjdFwiOnJldHVybiAyKlAoYT1uLFwid2lkdGhcIikrMipQKGEsXCJoZWlnaHRcIik7Y2FzZVwibGluZVwiOnJldHVybiBqKHt4OlAodD1uLFwieDFcIikseTpQKHQsXCJ5MVwiKX0se3g6UCh0LFwieDJcIikseTpQKHQsXCJ5MlwiKX0pO2Nhc2VcInBvbHlsaW5lXCI6cmV0dXJuIFMobik7Y2FzZVwicG9seWdvblwiOnJldHVybiByPShlPW4pLnBvaW50cyxTKGUpK2ooci5nZXRJdGVtKHIubnVtYmVyT2ZJdGVtcy0xKSxyLmdldEl0ZW0oMCkpfXZhciBlLHIsdCxhLG99ZnVuY3Rpb24gJChuLGUpe3ZhciByPWV8fHt9LHQ9ci5lbHx8ZnVuY3Rpb24obil7Zm9yKHZhciBlPW4ucGFyZW50Tm9kZTtpLnN2ZyhlKSYmaS5zdmcoZS5wYXJlbnROb2RlKTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGV9KG4pLGE9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPVAodCxcInZpZXdCb3hcIiksdT1hLndpZHRoLGM9YS5oZWlnaHQscz1yLnZpZXdCb3h8fChvP28uc3BsaXQoXCIgXCIpOlswLDAsdSxjXSk7cmV0dXJue2VsOnQsdmlld0JveDpzLHg6c1swXS8xLHk6c1sxXS8xLHc6dS9zWzJdLGg6Yy9zWzNdfX1mdW5jdGlvbiBYKG4sZSl7ZnVuY3Rpb24gcihyKXt2b2lkIDA9PT1yJiYocj0wKTt2YXIgdD1lK3I+PTE/ZStyOjA7cmV0dXJuIG4uZWwuZ2V0UG9pbnRBdExlbmd0aCh0KX12YXIgdD0kKG4uZWwsbi5zdmcpLGE9cigpLG89cigtMSksdT1yKDEpO3N3aXRjaChuLnByb3BlcnR5KXtjYXNlXCJ4XCI6cmV0dXJuKGEueC10LngpKnQudztjYXNlXCJ5XCI6cmV0dXJuKGEueS10LnkpKnQuaDtjYXNlXCJhbmdsZVwiOnJldHVybiAxODAqTWF0aC5hdGFuMih1Lnktby55LHUueC1vLngpL01hdGguUEl9fWZ1bmN0aW9uIFkobixlKXt2YXIgcj0vWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8vZyx0PUwoaS5wdGgobik/bi50b3RhbExlbmd0aDpuLGUpK1wiXCI7cmV0dXJue29yaWdpbmFsOnQsbnVtYmVyczp0Lm1hdGNoKHIpP3QubWF0Y2gocikubWFwKE51bWJlcik6WzBdLHN0cmluZ3M6aS5zdHIobil8fGU/dC5zcGxpdChyKTpbXX19ZnVuY3Rpb24gWihuKXtyZXR1cm4gbShuP3koaS5hcnIobik/bi5tYXAoYik6YihuKSk6W10sZnVuY3Rpb24obixlLHIpe3JldHVybiByLmluZGV4T2Yobik9PT1lfSl9ZnVuY3Rpb24gUShuKXt2YXIgZT1aKG4pO3JldHVybiBlLm1hcChmdW5jdGlvbihuLHIpe3JldHVybnt0YXJnZXQ6bixpZDpyLHRvdGFsOmUubGVuZ3RoLHRyYW5zZm9ybXM6e2xpc3Q6RShuKX19fSl9ZnVuY3Rpb24gVihuLGUpe3ZhciByPXgoZSk7aWYoL15zcHJpbmcvLnRlc3Qoci5lYXNpbmcpJiYoci5kdXJhdGlvbj1zKHIuZWFzaW5nKSksaS5hcnIobikpe3ZhciB0PW4ubGVuZ3RoOzI9PT10JiYhaS5vYmooblswXSk/bj17dmFsdWU6bn06aS5mbmMoZS5kdXJhdGlvbil8fChyLmR1cmF0aW9uPWUuZHVyYXRpb24vdCl9dmFyIGE9aS5hcnIobik/bjpbbl07cmV0dXJuIGEubWFwKGZ1bmN0aW9uKG4scil7dmFyIHQ9aS5vYmoobikmJiFpLnB0aChuKT9uOnt2YWx1ZTpufTtyZXR1cm4gaS51bmQodC5kZWxheSkmJih0LmRlbGF5PXI/MDplLmRlbGF5KSxpLnVuZCh0LmVuZERlbGF5KSYmKHQuZW5kRGVsYXk9cj09PWEubGVuZ3RoLTE/ZS5lbmREZWxheTowKSx0fSkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBrKG4scil9KX1mdW5jdGlvbiB6KG4sZSl7dmFyIHI9W10sdD1lLmtleWZyYW1lcztmb3IodmFyIGEgaW4gdCYmKGU9ayhmdW5jdGlvbihuKXtmb3IodmFyIGU9bSh5KG4ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3Qua2V5cyhuKX0pKSxmdW5jdGlvbihuKXtyZXR1cm4gaS5rZXkobil9KS5yZWR1Y2UoZnVuY3Rpb24obixlKXtyZXR1cm4gbi5pbmRleE9mKGUpPDAmJm4ucHVzaChlKSxufSxbXSkscj17fSx0PWZ1bmN0aW9uKHQpe3ZhciBhPWVbdF07clthXT1uLm1hcChmdW5jdGlvbihuKXt2YXIgZT17fTtmb3IodmFyIHIgaW4gbilpLmtleShyKT9yPT1hJiYoZS52YWx1ZT1uW3JdKTplW3JdPW5bcl07cmV0dXJuIGV9KX0sYT0wO2E8ZS5sZW5ndGg7YSsrKXQoYSk7cmV0dXJuIHJ9KHQpLGUpKSxlKWkua2V5KGEpJiZyLnB1c2goe25hbWU6YSx0d2VlbnM6VihlW2FdLG4pfSk7cmV0dXJuIHJ9ZnVuY3Rpb24gSChuLGUpe3ZhciByO3JldHVybiBuLnR3ZWVucy5tYXAoZnVuY3Rpb24odCl7dmFyIGE9ZnVuY3Rpb24obixlKXt2YXIgcj17fTtmb3IodmFyIHQgaW4gbil7dmFyIGE9QihuW3RdLGUpO2kuYXJyKGEpJiYxPT09KGE9YS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIEIobixlKX0pKS5sZW5ndGgmJihhPWFbMF0pLHJbdF09YX1yZXR1cm4gci5kdXJhdGlvbj1wYXJzZUZsb2F0KHIuZHVyYXRpb24pLHIuZGVsYXk9cGFyc2VGbG9hdChyLmRlbGF5KSxyfSh0LGUpLG89YS52YWx1ZSx1PWkuYXJyKG8pP29bMV06byxjPUModSkscz1OKGUudGFyZ2V0LG4ubmFtZSxjLGUpLGY9cj9yLnRvLm9yaWdpbmFsOnMsbD1pLmFycihvKT9vWzBdOmYsZD1DKGwpfHxDKHMpLHA9Y3x8ZDtyZXR1cm4gaS51bmQodSkmJih1PWYpLGEuZnJvbT1ZKGwscCksYS50bz1ZKEEodSxsKSxwKSxhLnN0YXJ0PXI/ci5lbmQ6MCxhLmVuZD1hLnN0YXJ0K2EuZGVsYXkrYS5kdXJhdGlvbithLmVuZERlbGF5LGEuZWFzaW5nPXYoYS5lYXNpbmcsYS5kdXJhdGlvbiksYS5pc1BhdGg9aS5wdGgobyksYS5pc0NvbG9yPWkuY29sKGEuZnJvbS5vcmlnaW5hbCksYS5pc0NvbG9yJiYoYS5yb3VuZD0xKSxyPWEsYX0pfXZhciBHPXtjc3M6ZnVuY3Rpb24obixlLHIpe3JldHVybiBuLnN0eWxlW2VdPXJ9LGF0dHJpYnV0ZTpmdW5jdGlvbihuLGUscil7cmV0dXJuIG4uc2V0QXR0cmlidXRlKGUscil9LG9iamVjdDpmdW5jdGlvbihuLGUscil7cmV0dXJuIG5bZV09cn0sdHJhbnNmb3JtOmZ1bmN0aW9uKG4sZSxyLHQsYSl7aWYodC5saXN0LnNldChlLHIpLGU9PT10Lmxhc3R8fGEpe3ZhciBvPVwiXCI7dC5saXN0LmZvckVhY2goZnVuY3Rpb24obixlKXtvKz1lK1wiKFwiK24rXCIpIFwifSksbi5zdHlsZS50cmFuc2Zvcm09b319fTtmdW5jdGlvbiBSKG4sZSl7UShuKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Zvcih2YXIgciBpbiBlKXt2YXIgdD1CKGVbcl0sbiksYT1uLnRhcmdldCxvPUModCksdT1OKGEscixvLG4pLGk9QShMKHQsb3x8Qyh1KSksdSksYz1EKGEscik7R1tjXShhLHIsaSxuLnRyYW5zZm9ybXMsITApfX0pfWZ1bmN0aW9uIFcobixlKXtyZXR1cm4gbSh5KG4ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obixlKXt2YXIgcj1EKG4udGFyZ2V0LGUubmFtZSk7aWYocil7dmFyIHQ9SChlLG4pLGE9dFt0Lmxlbmd0aC0xXTtyZXR1cm57dHlwZTpyLHByb3BlcnR5OmUubmFtZSxhbmltYXRhYmxlOm4sdHdlZW5zOnQsZHVyYXRpb246YS5lbmQsZGVsYXk6dFswXS5kZWxheSxlbmREZWxheTphLmVuZERlbGF5fX19KG4sZSl9KX0pKSxmdW5jdGlvbihuKXtyZXR1cm4haS51bmQobil9KX1mdW5jdGlvbiBKKG4sZSl7dmFyIHI9bi5sZW5ndGgsdD1mdW5jdGlvbihuKXtyZXR1cm4gbi50aW1lbGluZU9mZnNldD9uLnRpbWVsaW5lT2Zmc2V0OjB9LGE9e307cmV0dXJuIGEuZHVyYXRpb249cj9NYXRoLm1heC5hcHBseShNYXRoLG4ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiB0KG4pK24uZHVyYXRpb259KSk6ZS5kdXJhdGlvbixhLmRlbGF5PXI/TWF0aC5taW4uYXBwbHkoTWF0aCxuLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gdChuKStuLmRlbGF5fSkpOmUuZGVsYXksYS5lbmREZWxheT1yP2EuZHVyYXRpb24tTWF0aC5tYXguYXBwbHkoTWF0aCxuLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gdChuKStuLmR1cmF0aW9uLW4uZW5kRGVsYXl9KSk6ZS5lbmREZWxheSxhfXZhciBLPTA7dmFyIFUsXz1bXSxubj1bXSxlbj1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXtVPXJlcXVlc3RBbmltYXRpb25GcmFtZShlKX1mdW5jdGlvbiBlKGUpe3ZhciByPV8ubGVuZ3RoO2lmKHIpe2Zvcih2YXIgdD0wO3Q8cjspe3ZhciBhPV9bdF07aWYoYS5wYXVzZWQpe3ZhciBvPV8uaW5kZXhPZihhKTtvPi0xJiYoXy5zcGxpY2UobywxKSxyPV8ubGVuZ3RoKX1lbHNlIGEudGljayhlKTt0Kyt9bigpfWVsc2UgVT1jYW5jZWxBbmltYXRpb25GcmFtZShVKX1yZXR1cm4gbn0oKTtmdW5jdGlvbiBybihyKXt2b2lkIDA9PT1yJiYocj17fSk7dmFyIHQsbz0wLHU9MCxpPTAsYz0wLHM9bnVsbDtmdW5jdGlvbiBmKG4pe3ZhciBlPXdpbmRvdy5Qcm9taXNlJiZuZXcgUHJvbWlzZShmdW5jdGlvbihuKXtyZXR1cm4gcz1ufSk7cmV0dXJuIG4uZmluaXNoZWQ9ZSxlfXZhciBsLGQscCxoLHYsZyx5LGIsTT0oZD13KG4sbD1yKSxwPXcoZSxsKSxoPXoocCxsKSx2PVEobC50YXJnZXRzKSxnPVcodixoKSx5PUooZyxwKSxiPUssSysrLGsoZCx7aWQ6YixjaGlsZHJlbjpbXSxhbmltYXRhYmxlczp2LGFuaW1hdGlvbnM6ZyxkdXJhdGlvbjp5LmR1cmF0aW9uLGRlbGF5OnkuZGVsYXksZW5kRGVsYXk6eS5lbmREZWxheX0pKTtmKE0pO2Z1bmN0aW9uIHgoKXt2YXIgbj1NLmRpcmVjdGlvbjtcImFsdGVybmF0ZVwiIT09biYmKE0uZGlyZWN0aW9uPVwibm9ybWFsXCIhPT1uP1wibm9ybWFsXCI6XCJyZXZlcnNlXCIpLE0ucmV2ZXJzZWQ9IU0ucmV2ZXJzZWQsdC5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBuLnJldmVyc2VkPU0ucmV2ZXJzZWR9KX1mdW5jdGlvbiBPKG4pe3JldHVybiBNLnJldmVyc2VkP00uZHVyYXRpb24tbjpufWZ1bmN0aW9uIEMoKXtvPTAsdT1PKE0uY3VycmVudFRpbWUpKigxL3JuLnNwZWVkKX1mdW5jdGlvbiBCKG4sZSl7ZSYmZS5zZWVrKG4tZS50aW1lbGluZU9mZnNldCl9ZnVuY3Rpb24gUChuKXtmb3IodmFyIGU9MCxyPU0uYW5pbWF0aW9ucyx0PXIubGVuZ3RoO2U8dDspe3ZhciBvPXJbZV0sdT1vLmFuaW1hdGFibGUsaT1vLnR3ZWVucyxjPWkubGVuZ3RoLTEscz1pW2NdO2MmJihzPW0oaSxmdW5jdGlvbihlKXtyZXR1cm4gbjxlLmVuZH0pWzBdfHxzKTtmb3IodmFyIGY9YShuLXMuc3RhcnQtcy5kZWxheSwwLHMuZHVyYXRpb24pL3MuZHVyYXRpb24sbD1pc05hTihmKT8xOnMuZWFzaW5nKGYpLGQ9cy50by5zdHJpbmdzLHA9cy5yb3VuZCxoPVtdLHY9cy50by5udW1iZXJzLmxlbmd0aCxnPXZvaWQgMCx5PTA7eTx2O3krKyl7dmFyIGI9dm9pZCAwLHg9cy50by5udW1iZXJzW3ldLHc9cy5mcm9tLm51bWJlcnNbeV18fDA7Yj1zLmlzUGF0aD9YKHMudmFsdWUsbCp4KTp3K2wqKHgtdykscCYmKHMuaXNDb2xvciYmeT4yfHwoYj1NYXRoLnJvdW5kKGIqcCkvcCkpLGgucHVzaChiKX12YXIgaz1kLmxlbmd0aDtpZihrKXtnPWRbMF07Zm9yKHZhciBPPTA7TzxrO08rKyl7ZFtPXTt2YXIgQz1kW08rMV0sQj1oW09dO2lzTmFOKEIpfHwoZys9Qz9CK0M6QitcIiBcIil9fWVsc2UgZz1oWzBdO0dbby50eXBlXSh1LnRhcmdldCxvLnByb3BlcnR5LGcsdS50cmFuc2Zvcm1zKSxvLmN1cnJlbnRWYWx1ZT1nLGUrK319ZnVuY3Rpb24gSShuKXtNW25dJiYhTS5wYXNzVGhyb3VnaCYmTVtuXShNKX1mdW5jdGlvbiBUKG4pe3ZhciBlPU0uZHVyYXRpb24scj1NLmRlbGF5LGw9ZS1NLmVuZERlbGF5LGQ9TyhuKTtNLnByb2dyZXNzPWEoZC9lKjEwMCwwLDEwMCksTS5yZXZlcnNlUGxheWJhY2s9ZDxNLmN1cnJlbnRUaW1lLHQmJmZ1bmN0aW9uKG4pe2lmKE0ucmV2ZXJzZVBsYXliYWNrKWZvcih2YXIgZT1jO2UtLTspQihuLHRbZV0pO2Vsc2UgZm9yKHZhciByPTA7cjxjO3IrKylCKG4sdFtyXSl9KGQpLCFNLmJlZ2FuJiZNLmN1cnJlbnRUaW1lPjAmJihNLmJlZ2FuPSEwLEkoXCJiZWdpblwiKSksIU0ubG9vcEJlZ2FuJiZNLmN1cnJlbnRUaW1lPjAmJihNLmxvb3BCZWdhbj0hMCxJKFwibG9vcEJlZ2luXCIpKSxkPD1yJiYwIT09TS5jdXJyZW50VGltZSYmUCgwKSwoZD49bCYmTS5jdXJyZW50VGltZSE9PWV8fCFlKSYmUChlKSxkPnImJmQ8bD8oTS5jaGFuZ2VCZWdhbnx8KE0uY2hhbmdlQmVnYW49ITAsTS5jaGFuZ2VDb21wbGV0ZWQ9ITEsSShcImNoYW5nZUJlZ2luXCIpKSxJKFwiY2hhbmdlXCIpLFAoZCkpOk0uY2hhbmdlQmVnYW4mJihNLmNoYW5nZUNvbXBsZXRlZD0hMCxNLmNoYW5nZUJlZ2FuPSExLEkoXCJjaGFuZ2VDb21wbGV0ZVwiKSksTS5jdXJyZW50VGltZT1hKGQsMCxlKSxNLmJlZ2FuJiZJKFwidXBkYXRlXCIpLG4+PWUmJih1PTAsTS5yZW1haW5pbmcmJiEwIT09TS5yZW1haW5pbmcmJk0ucmVtYWluaW5nLS0sTS5yZW1haW5pbmc/KG89aSxJKFwibG9vcENvbXBsZXRlXCIpLE0ubG9vcEJlZ2FuPSExLFwiYWx0ZXJuYXRlXCI9PT1NLmRpcmVjdGlvbiYmeCgpKTooTS5wYXVzZWQ9ITAsTS5jb21wbGV0ZWR8fChNLmNvbXBsZXRlZD0hMCxJKFwibG9vcENvbXBsZXRlXCIpLEkoXCJjb21wbGV0ZVwiKSwhTS5wYXNzVGhyb3VnaCYmXCJQcm9taXNlXCJpbiB3aW5kb3cmJihzKCksZihNKSkpKSl9cmV0dXJuIE0ucmVzZXQ9ZnVuY3Rpb24oKXt2YXIgbj1NLmRpcmVjdGlvbjtNLnBhc3NUaHJvdWdoPSExLE0uY3VycmVudFRpbWU9MCxNLnByb2dyZXNzPTAsTS5wYXVzZWQ9ITAsTS5iZWdhbj0hMSxNLmxvb3BCZWdhbj0hMSxNLmNoYW5nZUJlZ2FuPSExLE0uY29tcGxldGVkPSExLE0uY2hhbmdlQ29tcGxldGVkPSExLE0ucmV2ZXJzZVBsYXliYWNrPSExLE0ucmV2ZXJzZWQ9XCJyZXZlcnNlXCI9PT1uLE0ucmVtYWluaW5nPU0ubG9vcCx0PU0uY2hpbGRyZW47Zm9yKHZhciBlPWM9dC5sZW5ndGg7ZS0tOylNLmNoaWxkcmVuW2VdLnJlc2V0KCk7KE0ucmV2ZXJzZWQmJiEwIT09TS5sb29wfHxcImFsdGVybmF0ZVwiPT09biYmMT09PU0ubG9vcCkmJk0ucmVtYWluaW5nKyssUChNLnJldmVyc2VkP00uZHVyYXRpb246MCl9LE0uc2V0PWZ1bmN0aW9uKG4sZSl7cmV0dXJuIFIobixlKSxNfSxNLnRpY2s9ZnVuY3Rpb24obil7aT1uLG98fChvPWkpLFQoKGkrKHUtbykpKnJuLnNwZWVkKX0sTS5zZWVrPWZ1bmN0aW9uKG4pe1QoTyhuKSl9LE0ucGF1c2U9ZnVuY3Rpb24oKXtNLnBhdXNlZD0hMCxDKCl9LE0ucGxheT1mdW5jdGlvbigpe00ucGF1c2VkJiYoTS5jb21wbGV0ZWQmJk0ucmVzZXQoKSxNLnBhdXNlZD0hMSxfLnB1c2goTSksQygpLFV8fGVuKCkpfSxNLnJldmVyc2U9ZnVuY3Rpb24oKXt4KCksQygpfSxNLnJlc3RhcnQ9ZnVuY3Rpb24oKXtNLnJlc2V0KCksTS5wbGF5KCl9LE0ucmVzZXQoKSxNLmF1dG9wbGF5JiZNLnBsYXkoKSxNfWZ1bmN0aW9uIHRuKG4sZSl7Zm9yKHZhciByPWUubGVuZ3RoO3ItLTspTShuLGVbcl0uYW5pbWF0YWJsZS50YXJnZXQpJiZlLnNwbGljZShyLDEpfXJldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIixmdW5jdGlvbigpe2RvY3VtZW50LmhpZGRlbj8oXy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBuLnBhdXNlKCl9KSxubj1fLnNsaWNlKDApLHJuLnJ1bm5pbmc9Xz1bXSk6bm4uZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gbi5wbGF5KCl9KX0pLHJuLnZlcnNpb249XCIzLjEuMFwiLHJuLnNwZWVkPTEscm4ucnVubmluZz1fLHJuLnJlbW92ZT1mdW5jdGlvbihuKXtmb3IodmFyIGU9WihuKSxyPV8ubGVuZ3RoO3ItLTspe3ZhciB0PV9bcl0sYT10LmFuaW1hdGlvbnMsbz10LmNoaWxkcmVuO3RuKGUsYSk7Zm9yKHZhciB1PW8ubGVuZ3RoO3UtLTspe3ZhciBpPW9bdV0sYz1pLmFuaW1hdGlvbnM7dG4oZSxjKSxjLmxlbmd0aHx8aS5jaGlsZHJlbi5sZW5ndGh8fG8uc3BsaWNlKHUsMSl9YS5sZW5ndGh8fG8ubGVuZ3RofHx0LnBhdXNlKCl9fSxybi5nZXQ9Tixybi5zZXQ9Uixybi5jb252ZXJ0UHg9SSxybi5wYXRoPWZ1bmN0aW9uKG4sZSl7dmFyIHI9aS5zdHIobik/ZyhuKVswXTpuLHQ9ZXx8MTAwO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm57cHJvcGVydHk6bixlbDpyLHN2ZzokKHIpLHRvdGFsTGVuZ3RoOnEocikqKHQvMTAwKX19fSxybi5zZXREYXNob2Zmc2V0PWZ1bmN0aW9uKG4pe3ZhciBlPXEobik7cmV0dXJuIG4uc2V0QXR0cmlidXRlKFwic3Ryb2tlLWRhc2hhcnJheVwiLGUpLGV9LHJuLnN0YWdnZXI9ZnVuY3Rpb24obixlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIHI9ZS5kaXJlY3Rpb258fFwibm9ybWFsXCIsdD1lLmVhc2luZz92KGUuZWFzaW5nKTpudWxsLGE9ZS5ncmlkLG89ZS5heGlzLHU9ZS5mcm9tfHwwLGM9XCJmaXJzdFwiPT09dSxzPVwiY2VudGVyXCI9PT11LGY9XCJsYXN0XCI9PT11LGw9aS5hcnIobiksZD1sP3BhcnNlRmxvYXQoblswXSk6cGFyc2VGbG9hdChuKSxwPWw/cGFyc2VGbG9hdChuWzFdKTowLGg9QyhsP25bMV06bil8fDAsZz1lLnN0YXJ0fHwwKyhsP2Q6MCksbT1bXSx5PTA7cmV0dXJuIGZ1bmN0aW9uKG4sZSxpKXtpZihjJiYodT0wKSxzJiYodT0oaS0xKS8yKSxmJiYodT1pLTEpLCFtLmxlbmd0aCl7Zm9yKHZhciB2PTA7djxpO3YrKyl7aWYoYSl7dmFyIGI9cz8oYVswXS0xKS8yOnUlYVswXSxNPXM/KGFbMV0tMSkvMjpNYXRoLmZsb29yKHUvYVswXSkseD1iLXYlYVswXSx3PU0tTWF0aC5mbG9vcih2L2FbMF0pLGs9TWF0aC5zcXJ0KHgqeCt3KncpO1wieFwiPT09byYmKGs9LXgpLFwieVwiPT09byYmKGs9LXcpLG0ucHVzaChrKX1lbHNlIG0ucHVzaChNYXRoLmFicyh1LXYpKTt5PU1hdGgubWF4LmFwcGx5KE1hdGgsbSl9dCYmKG09bS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHQobi95KSp5fSkpLFwicmV2ZXJzZVwiPT09ciYmKG09bS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG8/bjwwPy0xKm46LW46TWF0aC5hYnMoeS1uKX0pKX1yZXR1cm4gZysobD8ocC1kKS95OmQpKihNYXRoLnJvdW5kKDEwMCptW2VdKS8xMDApK2h9fSxybi50aW1lbGluZT1mdW5jdGlvbihuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9cm4obik7cmV0dXJuIHIuZHVyYXRpb249MCxyLmFkZD1mdW5jdGlvbih0LGEpe3ZhciBvPV8uaW5kZXhPZihyKSx1PXIuY2hpbGRyZW47ZnVuY3Rpb24gYyhuKXtuLnBhc3NUaHJvdWdoPSEwfW8+LTEmJl8uc3BsaWNlKG8sMSk7Zm9yKHZhciBzPTA7czx1Lmxlbmd0aDtzKyspYyh1W3NdKTt2YXIgZj1rKHQsdyhlLG4pKTtmLnRhcmdldHM9Zi50YXJnZXRzfHxuLnRhcmdldHM7dmFyIGw9ci5kdXJhdGlvbjtmLmF1dG9wbGF5PSExLGYuZGlyZWN0aW9uPXIuZGlyZWN0aW9uLGYudGltZWxpbmVPZmZzZXQ9aS51bmQoYSk/bDpBKGEsbCksYyhyKSxyLnNlZWsoZi50aW1lbGluZU9mZnNldCk7dmFyIGQ9cm4oZik7YyhkKSx1LnB1c2goZCk7dmFyIHA9Sih1LG4pO3JldHVybiByLmRlbGF5PXAuZGVsYXksci5lbmREZWxheT1wLmVuZERlbGF5LHIuZHVyYXRpb249cC5kdXJhdGlvbixyLnNlZWsoMCksci5yZXNldCgpLHIuYXV0b3BsYXkmJnIucGxheSgpLHJ9LHJ9LHJuLmVhc2luZz12LHJuLnBlbm5lcj1oLHJuLnJhbmRvbT1mdW5jdGlvbihuLGUpe3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGUtbisxKSkrbn0scm59KTsiLCIvKipcclxuICogUmVwcmVzZW50cyBhIFNsb3QgTWFjaGluZSBnYW1lLlxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhIGdhbWUsIHN1Y2ggYXMgcmVzb3VyY2VzLCBzZXR0aW5ncywgZXRjLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gZ2FtZVdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSBnYW1lLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gZ2FtZUhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIGdhbWUuXHJcbiAqIEBleGFtcGxlXHJcbiAqIGxldCBnYW1lID0gbmV3IFNsb3Qoe1xyXG4gKiAgY29udGFpbmVyOiAnLmdhbWUtY29udGFpbmVyJyxcclxuICogfSwgMTAwLCAxMDApO1xyXG4gKi9cclxudmFyIFNsb3QgPSBmdW5jdGlvbihwYXJhbXMsIGdhbWVXaWR0aCwgZ2FtZUhlaWdodCkge1xyXG4gICAgdGhpcy5WRVJTSU9OID0gJzAuMSc7XHJcbiAgICB0aGlzLmVuZ2luZSA9IG5ldyBTbG90LkdhbWUoZ2FtZVdpZHRoLCBnYW1lSGVpZ2h0KTtcclxuICAgIHRoaXMuZW5naW5lLmdhbWUgPSB0aGlzO1xyXG4gICAgdGhpcy5yZWVscyA9IG5ldyBTbG90LlJlZWxzQ29udHJvbGxlcih0aGlzKTtcclxuICAgIHRoaXMudGV4dHMgPSBuZXcgU2xvdC5UZXh0Q29udHJvbGxlcih0aGlzKTtcclxuICAgIHRoaXMuZXZlbnRzID0ge1xyXG4gICAgICAgIHN0YXJ0OiBbXSxcclxuICAgICAgICBzdG9wOiBbXSxcclxuICAgIH07XHJcbiAgICB0aGlzLnNldHRpbmdzID0ge1xyXG4gICAgICAgIHNwZWVkOiAwLjIsXHJcbiAgICAgICAgc3BpblRpbWU6IDQ1MDAwMCxcclxuICAgICAgICBzcGluVGltZUJldHdlZW5SZWVsczogMTIwMDAsXHJcbiAgICAgICAgcmVlbEJvdW5jZUR1cmF0aW9uOiAzMDAwLFxyXG4gICAgICAgIG5ldHdvcms6IGZhbHNlLFxyXG4gICAgfTtcclxuICAgIHRoaXMud2FpdEZvclJlc3VsdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5mb3JjZVN0b3BQZW5kaW5nID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5yZWVscy5vblN0YXJ0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLm5ldHdvcmspIHtcclxuICAgICAgICAgICAgdGhpcy53YWl0Rm9yUmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ldmVudHMuc3RhcnQuZm9yRWFjaChmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgICBmbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICB0aGlzLnJlZWxzLm9uU3RvcChmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cy5zdG9wLmZvckVhY2goZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICB9KTtcclxuICAgIH0uYmluZCh0aGlzKSk7XHJcblxyXG4gICAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xyXG4gICAgaWYgKHBhcmFtcy5jb250YWluZXIpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBhcmFtcy5jb250YWluZXIpO1xyXG4gICAgICAgIGlmIChjb250YWluZXJFbCkge1xyXG4gICAgICAgICAgICBjb250YWluZXJFbC5hcHBlbmRDaGlsZCh0aGlzLmVuZ2luZS5yZW5kZXJlci52aWV3KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBjb250YWluZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZW5naW5lLnJlbmRlcmVyLnZpZXcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uUmVzaXplKCkge1xyXG4gICAgICAgIHZhciByYXRpbyA9IGdhbWVXaWR0aCAvIGdhbWVIZWlnaHQ7XHJcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLmVuZ2luZS5yZW5kZXJlci52aWV3O1xyXG4gICAgICAgIHZhciB3aWR0aCA9IHZpZXcucGFyZW50Tm9kZS5vZmZzZXRXaWR0aDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gd2lkdGggLyByYXRpbztcclxuICAgICAgICBpZiAoaGVpZ2h0ID4gdmlldy5wYXJlbnROb2RlLm9mZnNldEhlaWdodCkge1xyXG4gICAgICAgICAgICBoZWlnaHQgPSB2aWV3LnBhcmVudE5vZGUub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgICAgICB3aWR0aCA9IHJhdGlvICogaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVuZ2luZS5yZW5kZXJlci5yZXNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICB9XHJcbiAgICBvblJlc2l6ZS5iaW5kKHRoaXMpKCk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICBpZiAoJ3Jlc291cmNlcycgaW4gcGFyYW1zKSB7XHJcbiAgICAgICAgcGFyYW1zLnJlc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uKHJlc291cmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQocmVzb3VyY2VbMF0sIHJlc291cmNlWzFdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQocmVzb3VyY2Uua2V5LCByZXNvdXJjZS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoJ2luaXQnIGluIHBhcmFtcykge1xyXG4gICAgICAgIFBJWEkuTG9hZGVyLnNoYXJlZC5sb2FkKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBwYXJhbXMuaW5pdC5iaW5kKF90aGlzKShfdGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCdzZXR0aW5ncycgaW4gcGFyYW1zKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHBhcmFtcy5zZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzW2tleV0gPSBwYXJhbXMuc2V0dGluZ3Nba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWVscy5zcGluVGltZSA9IHRoaXMuc2V0dGluZ3Muc3BpblRpbWU7XHJcbiAgICAgICAgdGhpcy5yZWVscy5zcGluVGltZUJldHdlZW5SZWVscyA9IHRoaXMuc2V0dGluZ3Muc3BpblRpbWVCZXR3ZWVuUmVlbHM7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogVGhpcyBpcyB0aGUgbG9hZCByZXNvdXJjZXMgbWV0aG9kIHVzZWQgdG8gYWRkIHJlc291cmNlcyB0byB0aGUgZ2FtZS5cclxuICogQHBhcmFtIHtBcnJheX0gY29uZmlnIC0gQXJyYXkgd2l0aCByZXNvdXJjZXMga2V5IGFuZCBzb3VyY2UgcGF0aC5cclxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25Db21wbGV0ZSAtIENvbXBsZXRlIG1ldGhvZCB3aGljaCBydW5zIGFmdGVyIGxvYWRpbmcgaXMgZmluaXNoZWQuXHJcbiAqL1xyXG5TbG90LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24oY29uZmlnLCBvbkNvbXBsZXRlKSB7XHJcbiAgICBjb25maWcuZm9yRWFjaChmdW5jdGlvbihyZXNvdXJjZSkge1xyXG4gICAgICAgIGlmIChyZXNvdXJjZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChyZXNvdXJjZVswXSwgcmVzb3VyY2VbMV0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQocmVzb3VyY2Uua2V5LCByZXNvdXJjZS52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBQSVhJLkxvYWRlci5zaGFyZWQubG9hZChvbkNvbXBsZXRlKTtcclxufTtcclxuLyoqXHJcbiAqIFRoZSBtYWluIHBsYXkgbWV0aG9kIHVzZWQgdG8gc3RhcnQgb3Igc3RvcCB0aGUgcmVlbHMuXHJcbiAqL1xyXG5TbG90LnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoIXRoaXMud2FpdEZvclJlc3VsdCkge1xyXG4gICAgICAgIGlmICghdGhpcy5yZWVscy5yb2xsaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVlbHMuc3RhcnQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlZWxzLnN0b3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5yZWVscy5yb2xsaW5nKSB7XHJcbiAgICAgICAgdGhpcy5mb3JjZVN0b3BQZW5kaW5nID0gdHJ1ZTtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIFRoZSByZXN1bHQgbWV0aG9kIGlzIHVzZWQgdG8gc2V0IGEgcmVzdWx0IGFuZCBzdG9wIHRoZSByZWVscy5cclxuICogQHBhcmFtIHtBcnJheX0gcmVzdWx0IC0gVGhlIGFycmF5IGNvbnRhaW5pbmcgdGhlIHJlc3VsdCBmb3IgZWFjaCByZWVsLlxyXG4gKi9cclxuU2xvdC5wcm90b3R5cGUucmVzdWx0ID0gZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICB0aGlzLnJlZWxzLnJlZWxzLmZvckVhY2goZnVuY3Rpb24ocmVlbCwgcmVlbEluZGV4KSB7XHJcbiAgICAgICAgcmVlbC5zdG9wVmFsdWVzID0gcmVzdWx0W3JlZWxJbmRleF07XHJcbiAgICB9KTtcclxuICAgIGlmICh0aGlzLmZvcmNlU3RvcFBlbmRpbmcpIHtcclxuICAgICAgICB0aGlzLnJlZWxzLnN0b3AoKTtcclxuICAgICAgICB0aGlzLmZvcmNlU3RvcFBlbmRpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMud2FpdEZvclJlc3VsdCA9IGZhbHNlO1xyXG59O1xyXG4vKipcclxuICogVGhlIG1ldGhvZCB0byBhdHRhY2ggZXZlbnQgaGFuZGxlcnMgb24gZ2FtZS5cclxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBldmVudC5cclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgZXZlbnQgY2FsbGJhY2suXHJcbiAqL1xyXG5TbG90LnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZm4pIHtcclxuICAgIGlmIChldmVudE5hbWUgaW4gdGhpcy5ldmVudHMpIHtcclxuICAgICAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdLnB1c2goZm4pO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogVGhlIG1ldGhvZCB0byBhZGQgYSBzcHJpdGUgaW4gdGhlIGdhbWUuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvdXJjZUtleSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSwgd2hpY2ggbXVzdCBoYXZlIGJlZW4gc2V0IG9uIGxvYWRpbmcncyBjb25maWd1cmF0aW9uLlxyXG4gKi9cclxuU2xvdC5wcm90b3R5cGUuc3ByaXRlID0gZnVuY3Rpb24ocmVzb3VyY2VLZXkpIHtcclxuICAgIHZhciBzcHJpdGUgPSBuZXcgU2xvdC5TcHJpdGUocmVzb3VyY2VLZXksIHRoaXMuZW5naW5lKTtcclxuICAgIHJldHVybiBzcHJpdGU7XHJcbn07XHJcbi8qKlxyXG4gKiBEZXNjcmliZXMgZ2FtZSBhY3Rpb25zLiBDYW4gYmUgYXR0YWNoZWQgdG8gc3ByaXRlcy5cclxuICogQGV4YW1wbGVcclxuICogbGV0IGJ1dHRvblBsYXkgPSBnYW1lLnNwcml0ZSgnYnRuLXBsYXknKTtcclxuICogYnV0dG9uUGxheS5hY3Rpb24gPSBTbG90LkFDVElPTi5QTEFZO1xyXG4gKi9cclxuU2xvdC5BQ1RJT04gPSB7XHJcbiAgICBOT19BQ1RJT046IDAsXHJcbiAgICBQTEFZOiAxLFxyXG59OyIsIlNsb3QuR2FtZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcclxuICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgUElYSS51dGlscy5za2lwSGVsbG8oKTtcclxuICB0aGlzLnJlbmRlcmVyID0gbmV3IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKHtcclxuICAgIHdpZHRoOiA4MDAsXHJcbiAgICBoZWlnaHQ6IDYwMCxcclxuICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcclxuICB9KTtcclxuICB0aGlzLnN0YWdlID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XHJcblxyXG4gIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gIFBJWEkuVGlja2VyLnNoYXJlZC5hZGQoZnVuY3Rpb24oKSB7XHJcbiAgICBfdGhpcy5yZW5kZXJlci5yZW5kZXIoX3RoaXMuc3RhZ2UpO1xyXG4gIH0sIFBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTCk7XHJcbn07IiwiU2xvdC5SZWVsc0NvbnRyb2xsZXIgPSBmdW5jdGlvbihnYW1lKSB7XHJcbiAgICB0aGlzLnJlZWxzID0gW107XHJcbiAgICB0aGlzLmVuZ2luZSA9IGdhbWUuZW5naW5lO1xyXG4gICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgIHRoaXMueCA9IDA7XHJcbiAgICB0aGlzLnkgPSAwO1xyXG4gICAgdGhpcy5ldmVudHMgPSB7XHJcbiAgICAgICAgb25TdGFydDogW10sXHJcbiAgICAgICAgb25TdG9wOiBbXSxcclxuICAgIH07XHJcbiAgICB0aGlzLnJvbGxpbmcgPSBmYWxzZTtcclxuXHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2l6ZUFuZFBvc2l0aW9uKCkge1xyXG4gICAgICAgIF90aGlzLnJlZWxzLmZvckVhY2goZnVuY3Rpb24ocmVlbCwgcmVlbEluZGV4KSB7XHJcbiAgICAgICAgICAgIHJlZWwuY29udGFpbmVyLnggPSAocmVlbC54ICogZ2FtZS5lbmdpbmUucmVuZGVyZXIudmlldy53aWR0aCkgLyBnYW1lLmVuZ2luZS53aWR0aDtcclxuICAgICAgICAgICAgcmVlbC5jb250YWluZXIueSA9IChyZWVsLnkgKiBnYW1lLmVuZ2luZS5yZW5kZXJlci52aWV3LmhlaWdodCkgLyBnYW1lLmVuZ2luZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHJlZWwuc3ltYm9scy5mb3JFYWNoKGZ1bmN0aW9uKHN5bWJvbCkge1xyXG4gICAgICAgICAgICAgICAgc3ltYm9sLnNjYWxlLnggPSBnYW1lLmVuZ2luZS5yZW5kZXJlci52aWV3LndpZHRoIC8gZ2FtZS5lbmdpbmUud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBzeW1ib2wuc2NhbGUueSA9IGdhbWUuZW5naW5lLnJlbmRlcmVyLnZpZXcuaGVpZ2h0IC8gZ2FtZS5lbmdpbmUuaGVpZ2h0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlc2l6ZUFuZFBvc2l0aW9uKCk7XHJcblxyXG4gICAgdmFyIHJvbGxpbmdUaW1lID0gMDtcclxuXHJcbiAgICBQSVhJLlRpY2tlci5zaGFyZWQuYWRkKGZ1bmN0aW9uKGRlbHRhKSB7XHJcbiAgICAgICAgdmFyIGFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIF90aGlzLnJlZWxzLmZvckVhY2goZnVuY3Rpb24ocmVlbCwgcmVlbEluZGV4KSB7XHJcbiAgICAgICAgICAgIHJlc2l6ZUFuZFBvc2l0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICByZWVsLnJlbmRlcihnYW1lLnNldHRpbmdzLnNwZWVkLCBnYW1lLnNldHRpbmdzLnJlZWxCb3VuY2VEdXJhdGlvbiwgcmVlbEluZGV4KTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVlbC5zeW1ib2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ltYm9sID0gcmVlbC5zeW1ib2xzW2ldO1xyXG4gICAgICAgICAgICAgICAgc3ltYm9sLnkgPSAoc3ltYm9sLmhlaWdodCAqIChpIC0gMSkpICsgKDAgKyByZWVsLm9mZnNldCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVlbC52YWx1ZXNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJ3N5bWJvbC0nICsgcmVlbC52YWx1ZXNbaV0gaW4gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2wudGV4dHVyZSA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbJ3N5bWJvbC0nICsgcmVlbC52YWx1ZXNbaV1dLnRleHR1cmU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sLnRleHR1cmUgPSBQSVhJLlRleHR1cmUuRU1QVFk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzeW1ib2wudGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5FTVBUWTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIG0gPSByZWVsLm1hc2s7XHJcbiAgICAgICAgICAgIG0ueCA9IHJlZWwuY29udGFpbmVyLng7XHJcbiAgICAgICAgICAgIG0ueSA9IHJlZWwuY29udGFpbmVyLnk7XHJcbiAgICAgICAgICAgIG0uY2xlYXIoKTtcclxuICAgICAgICAgICAgbS5iZWdpbkZpbGwoMHgwMDAwMDApO1xyXG4gICAgICAgICAgICBtLmRyYXdSZWN0KDAsIDAsIHJlZWwuc3ltYm9sc1swXS53aWR0aCwgcmVlbC5zeW1ib2xzWzBdLmhlaWdodCAqIHJlZWwucG9zaXRpb25zKTtcclxuICAgICAgICAgICAgbS5lbmRGaWxsKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcGwxID0gcmVlbC5wbGF5TGluZTE7XHJcbiAgICAgICAgICAgIHBsMS54ID0gcmVlbC5jb250YWluZXIueDtcclxuICAgICAgICAgICAgcGwxLnkgPSByZWVsLmNvbnRhaW5lci55O1xyXG4gICAgICAgICAgICBwbDEuY2xlYXIoKTtcclxuICAgICAgICAgICAgLy9tLmJlZ2luRmlsbCgweDAwMDAwMCk7XHJcbiAgICAgICAgICAgIC8vdGhpcyBjb2RlIHNob3VsZCBnbyB0byByZWVsIGFuZCB0aGUgdGhlIGJsYWNrIGJhY2tncm91bmQuXHJcbiAgICAgICAgICAgIHZhciBib3JkZXJXaWR0aCA9IDM7XHJcbiAgICAgICAgICAgIHZhciBib3JkZXJDb2xvciA9IDB4RkZGRkY7XHJcbiAgICAgICAgICAgIHBsMS5saW5lU3R5bGUoYm9yZGVyV2lkdGggLCBib3JkZXJDb2xvcik7XHJcbiAgICAgICAgICAgIHBsMS5kcmF3UmVjdCgwLCByZWVsLnN5bWJvbHNbMF0uaGVpZ2h0ICwgcmVlbC5zeW1ib2xzWzBdLndpZHRoLCByZWVsLnN5bWJvbHNbMV0uaGVpZ2h0ICk7XHJcbiAgICAgICAgICAgIC8vcGwxLmVuZEZpbGwoKTtcclxuXHJcbiAgICAgICAgICAgIGFjdGl2ZSA9IHJlZWwucm9sbGluZyA9PSB0cnVlIHx8ICFpc05hTihwYXJzZUludChyZWVsLnN0b3BwaW5nKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVlbFN0b3BUaW1lID0gZ2FtZS5zZXR0aW5ncy5zcGluVGltZSArIChyZWVsSW5kZXggKiBnYW1lLnNldHRpbmdzLnNwaW5UaW1lQmV0d2VlblJlZWxzKTtcclxuICAgICAgICAgICAgICAgIGlmIChyb2xsaW5nVGltZSA+IHJlZWxTdG9wVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZWwuc3RvcCgpOyAvLyBGSVhNRTogZG9uJ3QgY2FsbCBzdG9wIG11bHRpcGxlIHRpbWVzIC4uLiB0aW1lZSBjYWxjIGhlcmUgb24gYmFzZSBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIV90aGlzLnJvbGxpbmcgJiYgYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJvbGxpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBfdGhpcy5ldmVudHMub25TdGFydC5mb3JFYWNoKGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgICAgICAgICBmbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnJvbGxpbmcgJiYgIWFjdGl2ZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5yb2xsaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJvbGxpbmdUaW1lID0gMDtcclxuICAgICAgICAgICAgX3RoaXMuZXZlbnRzLm9uU3RvcC5mb3JFYWNoKGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgICAgICAgICBmbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhY3RpdmUgJiYgIWdhbWUud2FpdEZvclJlc3VsdCkge1xyXG4gICAgICAgICAgICByb2xsaW5nVGltZSArPSBkZWx0YSAqIDE2LjY2NztcclxuICAgICAgICB9XHJcbiAgICB9LCBQSVhJLlVQREFURV9QUklPUklUWS5ISUdIKTtcclxufTtcclxuXHJcblNsb3QuUmVlbHNDb250cm9sbGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihwb3NpdGlvbnMsIHN5bWJvbENvdW50LCBzeW1ib2xXaWR0aCwgc3ltYm9sSGVpZ2h0KSB7XHJcbiAgICB2YXIgcmVlbCA9IG5ldyBTbG90LlJlZWwocG9zaXRpb25zLCBzeW1ib2xDb3VudCwgc3ltYm9sV2lkdGgsIHN5bWJvbEhlaWdodCk7XHJcbiAgICB0aGlzLmVuZ2luZS5zdGFnZS5hZGRDaGlsZChyZWVsLmNvbnRhaW5lcik7XHJcbiAgICB0aGlzLmVuZ2luZS5zdGFnZS5hZGRDaGlsZChyZWVsLm1hc2spO1xyXG4gICAgdGhpcy5lbmdpbmUuc3RhZ2UuYWRkQ2hpbGQocmVlbC5wbGF5TGluZTEpO1xyXG4gICAgdGhpcy5yZWVscy5wdXNoKHJlZWwpO1xyXG4gICAgcmV0dXJuIHJlZWw7XHJcbn07XHJcblxyXG5TbG90LlJlZWxzQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgIHJldHVybiB0aGlzLnJlZWxzW2luZGV4XTtcclxufTtcclxuXHJcblNsb3QuUmVlbHNDb250cm9sbGVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5yZWVscy5mb3JFYWNoKGZ1bmN0aW9uKHJlZWwpIHtcclxuICAgICAgICByZWVsLnJvbGwoKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuU2xvdC5SZWVsc0NvbnRyb2xsZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMucmVlbHMuZm9yRWFjaChmdW5jdGlvbihyZWVsKSB7XHJcbiAgICAgICAgcmVlbC5zdG9wKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblNsb3QuUmVlbHNDb250cm9sbGVyLnByb3RvdHlwZS5vblN0YXJ0ID0gZnVuY3Rpb24oZm4pIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uU3RhcnQucHVzaChmbik7XHJcbn07XHJcblxyXG5TbG90LlJlZWxzQ29udHJvbGxlci5wcm90b3R5cGUub25TdG9wID0gZnVuY3Rpb24oZm4pIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uU3RvcC5wdXNoKGZuKTtcclxufTsiLCJTbG90LlRleHRDb250cm9sbGVyID0gZnVuY3Rpb24oZ2FtZSkge1xyXG4gICAgdGhpcy50ZXh0cyA9IFtdO1xyXG4gICAgdGhpcy5lbmdpbmUgPSBnYW1lLmVuZ2luZTtcclxuICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICB0aGlzLnggPSAwO1xyXG4gICAgdGhpcy55ID0gMDtcclxuXHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2l6ZUFuZFBvc2l0aW9uVGV4dChyZXJlbmRlcikge1xyXG4gICAgICAgIF90aGlzLnRleHRzLmZvckVhY2goZnVuY3Rpb24odGV4dCwgdGV4dEluZGV4KSB7XHJcbiAgICAgICAgICAgIHRleHQuY29udGFpbmVyLnggPSAodGV4dC54ICogZ2FtZS5lbmdpbmUucmVuZGVyZXIudmlldy53aWR0aCkgLyBnYW1lLmVuZ2luZS53aWR0aDtcclxuICAgICAgICAgICAgdGV4dC5jb250YWluZXIueSA9ICh0ZXh0LnkgKiBnYW1lLmVuZ2luZS5yZW5kZXJlci52aWV3LmhlaWdodCkgLyBnYW1lLmVuZ2luZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHRleHQuc3ltYm9scy5mb3JFYWNoKGZ1bmN0aW9uKHN5bWJvbCkge1xyXG4gICAgICAgICAgICAgICAgc3ltYm9sLnNjYWxlLnggPSBnYW1lLmVuZ2luZS5yZW5kZXJlci52aWV3LndpZHRoIC8gZ2FtZS5lbmdpbmUud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBzeW1ib2wuc2NhbGUueSA9IGdhbWUuZW5naW5lLnJlbmRlcmVyLnZpZXcuaGVpZ2h0IC8gZ2FtZS5lbmdpbmUuaGVpZ2h0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHJlcmVuZGVyID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRleHQucmVuZGVyKHRleHRJbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vcmVzaXplQW5kUG9zaXRpb25UZXh0KGZhbHNlKTtcclxuXHJcbiAgICBQSVhJLlRpY2tlci5zaGFyZWQuYWRkKGZ1bmN0aW9uKGRlbHRhKSB7XHJcbiAgICAgICAgcmVzaXplQW5kUG9zaXRpb25UZXh0KHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9yZXNpemVBbmRQb3NpdGlvblRleHQodHJ1ZSk7XHJcbn07XHJcblxyXG5TbG90LlRleHRDb250cm9sbGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbih4LCB5LCBkcm9wU2hhZG93Q29sb3IsIHRleHRWYWwpIHtcclxuICAgIGNvbnN0IGJhc2VTdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7XHJcbiAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgZm9udFN0eWxlOiAnaXRhbGljJyxcclxuICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICAgICAgZmlsbDogWycjZmZmZmZmJywgJyMwMGZmOTknXSwgLy8gZ3JhZGllbnRcclxuICAgICAgICBzdHJva2U6ICcjNGExODUwJyxcclxuICAgICAgICBzdHJva2VUaGlja25lc3M6IDUsXHJcbiAgICAgICAgZHJvcFNoYWRvdzogdHJ1ZSxcclxuICAgICAgICBkcm9wU2hhZG93Q29sb3I6ICcjRkZENzAwJyxcclxuICAgICAgICBkcm9wU2hhZG93Qmx1cjogNCxcclxuICAgICAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyAzLFxyXG4gICAgICAgIGRyb3BTaGFkb3dEaXN0YW5jZTogNixcclxuICAgICAgICB3b3JkV3JhcDogdHJ1ZSxcclxuICAgICAgICB3b3JkV3JhcFdpZHRoOiA0NDAsXHJcbiAgICAgICAgbGluZUpvaW46ICdyb3VuZCcsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCB0ZXh0VmFsU3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCBiYXNlU3R5bGUsIHsgZHJvcFNoYWRvd0NvbG9yOiBkcm9wU2hhZG93Q29sb3IgfSk7XHJcblxyXG4gICAgY29uc3QgZmxkVGV4dCA9IG5ldyBQSVhJLlRleHQodGV4dFZhbCwgdGV4dFZhbFN0eWxlKTtcclxuICAgIGZsZFRleHQueCA9IHg7XHJcbiAgICBmbGRUZXh0LnkgPSB5O1xyXG5cclxuICAgIHRoaXMuZW5naW5lLnN0YWdlLmFkZENoaWxkKGZsZFRleHQpO1xyXG5cclxuICAgIHZhciB0ZXh0ID0gbmV3IFNsb3QuVGV4dCh4LCB5KTtcclxuICAgIHRoaXMudGV4dHMucHVzaCh0ZXh0KTtcclxuICAgIHJldHVybiB0ZXh0O1xyXG59OyIsIi8qKlxyXG4gKiBSZXByZXNlbnRzIGEgcmVlbCBpbiB0aGUgZ2FtZS5cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvbnMgLSBOdW1iZXIgb2YgcmVlbCBwb3NpdGlvbnMuXHJcbiAqL1xyXG5TbG90LlJlZWwgPSBmdW5jdGlvbihwb3NpdGlvbnMpIHtcclxuICAgIHRoaXMucG9zaXRpb25zID0gcG9zaXRpb25zO1xyXG4gICAgdGhpcy52YWx1ZXMgPSBbXTtcclxuICAgIHRoaXMuc3BpblZhbHVlcyA9IFtdO1xyXG4gICAgdGhpcy5zdG9wVmFsdWVzID0gW107XHJcbiAgICB0aGlzLnN5bWJvbHMgPSBbXTtcclxuICAgIHRoaXMuY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XHJcbiAgICB0aGlzLm1hc2sgPSBuZXcgUElYSS5HcmFwaGljcygpO1xyXG4gICAgdGhpcy5wbGF5TGluZTEgPSBuZXcgUElYSS5HcmFwaGljcygpO1xyXG4gICAgdGhpcy5vZmZzZXQgPSAwO1xyXG4gICAgdGhpcy5yb2xsaW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLnN0b3BwaW5nID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5jb250YWluZXIubWFzayA9IHRoaXMubWFzaztcclxuICAgIHRoaXMuY29udGFpbmVyLnBsYXlMaW5lMSA9IHRoaXMucGxheUxpbmUxO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zaXRpb25zICsgMTsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHN5bWJvbCA9IG5ldyBQSVhJLlNwcml0ZShQSVhJLlRleHR1cmUuRU1QVFkpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENoaWxkKHN5bWJvbCk7XHJcbiAgICAgICAgdGhpcy5zeW1ib2xzLnB1c2goc3ltYm9sKTtcclxuICAgIH1cclxufTtcclxuXHJcblNsb3QuUmVlbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oc3BlZWQsIGJvdW5jZUR1cmF0aW9uLCByZWVsSW5kZXgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYgKHRoaXMucm9sbGluZykge1xyXG4gICAgICAgIHRoaXMub2Zmc2V0ICs9IHRoaXMuc3ltYm9sc1swXS5oZWlnaHQgKiBzcGVlZDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMub2Zmc2V0ID49IHRoaXMuc3ltYm9sc1swXS5oZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSAwO1xyXG4gICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlSW50KHRoaXMuc3RvcHBpbmcpKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnN0b3BWYWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gc3RvcCB2YWx1ZXMgaGF2ZSBiZWVuIHNldCBmb3IgcmVlbDogJyArIHJlZWxJbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcy51bnNoaWZ0KHRoaXMuc3RvcFZhbHVlcy5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BwaW5nKys7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcy51bnNoaWZ0KHRoaXMuc3BpblZhbHVlcy5wb3AoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy52YWx1ZXMuc3BsaWNlKC0xLCAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0b3BwaW5nID09IHRoaXMucG9zaXRpb25zICsgMSkge1xyXG4gICAgICAgICAgICB0aGlzLnJvbGxpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wcGluZysrO1xyXG4gICAgICAgICAgICB2YXIgbyA9IHtcclxuICAgICAgICAgICAgICAgIG9mZnNldDogX3RoaXMuc3ltYm9sc1swXS5oZWlnaHQgKiBzcGVlZCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSBvLm9mZnNldDtcclxuICAgICAgICAgICAgYW5pbWUoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogbyxcclxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcclxuICAgICAgICAgICAgICAgIHJvdW5kOiAxLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGJvdW5jZUR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1aW50JyxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub2Zmc2V0ID0gby5vZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0b3BwaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBTdGFydHMgcmVlbCBzcGlubmluZy5cclxuICovXHJcblNsb3QuUmVlbC5wcm90b3R5cGUucm9sbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLnJvbGxpbmcgJiYgdGhpcy5zdG9wcGluZyA9PT0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLnJvbGxpbmcgPSB0cnVlO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogU3RvcHMgcmVlbCBmcm9tIHNwaW5uaW5nLlxyXG4gKi9cclxuU2xvdC5SZWVsLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy5yb2xsaW5nICYmIHRoaXMuc3RvcHBpbmcgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wcGluZyA9IDA7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBTbG90LlJlZWwucHJvdG90eXBlLnJlY3RhbmdsZSA9IGZ1bmN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQsIGJhY2tncm91bmRDb2xvciwgYm9yZGVyQ29sb3IsIGJvcmRlcldpZHRoICkgXHJcbi8vIHsgIHZhciBib3ggPSBuZXcgUElYSS5HcmFwaGljcygpOyBcclxuLy8gICBib3guYmVnaW5GaWxsKGJhY2tncm91bmRDb2xvcik7XHJcbi8vICAgIGJveC5saW5lU3R5bGUoYm9yZGVyV2lkdGggLCBib3JkZXJDb2xvcik7XHJcbi8vICAgICBib3guZHJhd1JlY3QoMCwgMCwgd2lkdGggLSBib3JkZXJXaWR0aCwgaGVpZ2h0IC0gYm9yZGVyV2lkdGgpOyBib3guZW5kRmlsbCgpOyBib3gucG9zaXRpb24ueCA9IHggKyBib3JkZXJXaWR0aC8yOyBib3gucG9zaXRpb24ueSA9IHkgKyBib3JkZXJXaWR0aC8yOyBcclxuLy8gICAgIHJldHVybiBib3g7XHJcbi8vICAgfTsvLyBjcmVhdGUgYSAxMDB4MTAwIHdoaXRlIHJlY3RhbmdsZSB3aXRoIGEgMTBweCBibGFjayBib3JkZXIgYXQgcG9zaXRpb24gMTAvMTBzdGFnZS5hZGRDaGlsZChyZWN0YW5nbGUoMTAsIDEwLCAxMDAsIDEwMCwgMHhGRkZGRkYsIDB4MDAwMDAwLCAxMCkpOyIsIi8qKlxyXG4gKiBSZXByZXNlbnRzIGEgcmVlbCBpbiB0aGUgZ2FtZS5cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvbnMgLSBOdW1iZXIgb2YgcmVlbCBwb3NpdGlvbnMuXHJcbiAqL1xyXG5cclxuU2xvdC5UZXh0ID0gZnVuY3Rpb24oeCwgeSkge1xyXG4gICAgLy8gdGhpcy5wb3NpdGlvbnMgPSBwb3NpdGlvbnM7XHJcbiAgICB0aGlzLnZhbHVlcyA9IFtdO1xyXG4gICAgdGhpcy5zeW1ib2xzID0gW107XHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xyXG5cclxuICAgIGNvbnN0IGJhc2VTdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7XHJcbiAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgZm9udFN0eWxlOiAnaXRhbGljJyxcclxuICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICAgICAgZmlsbDogWycjZmZmZmZmJywgJyMwMGZmOTknXSwgLy8gZ3JhZGllbnRcclxuICAgICAgICBzdHJva2U6ICcjNGExODUwJyxcclxuICAgICAgICBzdHJva2VUaGlja25lc3M6IDUsXHJcbiAgICAgICAgZHJvcFNoYWRvdzogdHJ1ZSxcclxuICAgICAgICBkcm9wU2hhZG93Q29sb3I6ICcjRkZENzAwJyxcclxuICAgICAgICBkcm9wU2hhZG93Qmx1cjogNCxcclxuICAgICAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyAzLFxyXG4gICAgICAgIGRyb3BTaGFkb3dEaXN0YW5jZTogNixcclxuICAgICAgICB3b3JkV3JhcDogdHJ1ZSxcclxuICAgICAgICB3b3JkV3JhcFdpZHRoOiA0NDAsXHJcbiAgICAgICAgbGluZUpvaW46ICdyb3VuZCcsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGxhYmVsU3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCBiYXNlU3R5bGUsIHsgZHJvcFNoYWRvd0NvbG9yOiBcIiNGRkQ3MDBcIiB9KTtcclxuICAgIGNvbnN0IHZhbHVlU3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCBiYXNlU3R5bGUsIHsgZHJvcFNoYWRvd0NvbG9yOiBcIiNDNEI0NTRcIiB9KTtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG59O1xyXG5cclxuU2xvdC5UZXh0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbih0ZXh0SW5kZXgpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbn07IiwiU2xvdC5TcHJpdGUgPSBmdW5jdGlvbihyZXNvdXJjZUtleSwgZW5naW5lKSB7XHJcbiAgICB0aGlzLmluc3RhbmNlID0gbmV3IFBJWEkuU3ByaXRlKFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbcmVzb3VyY2VLZXldLnRleHR1cmUpO1xyXG4gICAgdGhpcy54ID0gMDtcclxuICAgIHRoaXMueSA9IDA7XHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xyXG4gICAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLmludGVyYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLm9mZigncG9pbnRlcmRvd24nKTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNsb3QuQUNUSU9OLlBMQVk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UuaW50ZXJhY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLm9uKCdwb2ludGVyZG93bicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5naW5lLmdhbWUucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmlzaWJsZToge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLnZpc2libGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlLnZpc2libGU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzaXplQW5kUG9zaXRpb25TcHJpdGUoKSB7XHJcbiAgICAgICAgdmFyIHBpeGlTcHJpdGUgPSBfdGhpcy5pbnN0YW5jZTtcclxuICAgICAgICBwaXhpU3ByaXRlLnNjYWxlLnggPSBlbmdpbmUucmVuZGVyZXIudmlldy53aWR0aCAvIGVuZ2luZS53aWR0aDtcclxuICAgICAgICBwaXhpU3ByaXRlLnNjYWxlLnkgPSBlbmdpbmUucmVuZGVyZXIudmlldy5oZWlnaHQgLyBlbmdpbmUuaGVpZ2h0O1xyXG4gICAgICAgIHBpeGlTcHJpdGUueCA9IChfdGhpcy54ICogZW5naW5lLnJlbmRlcmVyLnZpZXcud2lkdGgpIC8gZW5naW5lLndpZHRoO1xyXG4gICAgICAgIHBpeGlTcHJpdGUueSA9IChfdGhpcy55ICogZW5naW5lLnJlbmRlcmVyLnZpZXcuaGVpZ2h0KSAvIGVuZ2luZS5oZWlnaHQ7XHJcbiAgICB9XHJcbiAgICByZXNpemVBbmRQb3NpdGlvblNwcml0ZSgpO1xyXG4gICAgUElYSS5UaWNrZXIuc2hhcmVkLmFkZChmdW5jdGlvbigpIHtcclxuICAgICAgICByZXNpemVBbmRQb3NpdGlvblNwcml0ZSgpO1xyXG4gICAgfSwgUElYSS5VUERBVEVfUFJJT1JJVFkuSElHSCk7XHJcblxyXG4gICAgZW5naW5lLnN0YWdlLmFkZENoaWxkKHRoaXMuaW5zdGFuY2UpO1xyXG59OyJdfQ==